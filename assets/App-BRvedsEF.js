const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-C0qHKFmj.js","assets/index-B3BkpruZ.js","assets/index-DXHtOD37.css","assets/index.es-fRLYO-G_.js"])))=>i.map(i=>d[i]);
var cW=Object.defineProperty;var uW=(e,t,r)=>t in e?cW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var _t=(e,t,r)=>uW(e,typeof t!="symbol"?t+"":t,r);import{r as L,R as lD,g as hr,a as we,_ as _l,b as cD,c as Zn,j as l,d as uD,e as dW}from"./index-B3BkpruZ.js";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dm.apply(this,arguments)}var dc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(dc||(dc={}));const Lj="popstate";function fW(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return w_("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Vv(a)}return pW(t,r,null,e)}function Wn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hW(){return Math.random().toString(36).substr(2,8)}function Ij(e,t){return{usr:e.state,key:e.key,idx:t}}function w_(e,t,r,n){return r===void 0&&(r=null),dm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Uh(t):t,{state:r,key:t&&t.key||n||hW()})}function Vv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Uh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function pW(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=dc.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(dm({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=dc.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:o,location:g.location,delta:v})}function h(x,v){o=dc.Push;let b=w_(g.location,x,v);u=d()+1;let y=Ij(b,u),C=g.createHref(b);try{s.pushState(y,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(C)}i&&c&&c({action:o,location:g.location,delta:1})}function p(x,v){o=dc.Replace;let b=w_(g.location,x,v);u=d();let y=Ij(b,u),C=g.createHref(b);s.replaceState(y,"",C),i&&c&&c({action:o,location:g.location,delta:0})}function m(x){let v=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof x=="string"?x:Vv(x);return b=b.replace(/ $/,"%20"),Wn(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let g={get action(){return o},get location(){return e(a,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Lj,f),c=x,()=>{a.removeEventListener(Lj,f),c=null}},createHref(x){return t(a,x)},createURL:m,encodeLocation(x){let v=m(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(x){return s.go(x)}};return g}var Rj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Rj||(Rj={}));function mW(e,t,r){return r===void 0&&(r="/"),gW(e,t,r)}function gW(e,t,r,n){let a=typeof t=="string"?Uh(t):t,i=f3(a.pathname||"/",r);if(i==null)return null;let s=fD(e);xW(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=TW(i);o=jW(s[c],u)}return o}function fD(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(Wn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=yc([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Wn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fD(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:SW(u,i.index),routesMeta:d})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let c of hD(i.path))a(i,s,c)}),t}function hD(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=hD(n.join("/")),o=[];return o.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function xW(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:NW(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const vW=/^:[\w-]+$/,yW=3,bW=2,wW=1,_W=10,kW=-2,Bj=e=>e==="*";function SW(e,t){let r=e.split("/"),n=r.length;return r.some(Bj)&&(n+=kW),t&&(n+=bW),r.filter(a=>!Bj(a)).reduce((a,i)=>a+(vW.test(i)?yW:i===""?wW:_W),n)}function NW(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function jW(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=AW({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:yc([i,f.pathname]),pathnameBase:DW(yc([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=yc([i,f.pathnameBase]))}return s}function AW(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=CW(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=o[f]||"";s=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function CW(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),dD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function TW(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function f3(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function EW(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Uh(e):e;return{pathname:r?r.startsWith("/")?r:OW(r,t):t,search:$W(n),hash:MW(a)}}function OW(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Fw(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PW(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function h3(e,t){let r=PW(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function p3(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Uh(e):(a=dm({},e),Wn(!a.pathname||!a.pathname.includes("?"),Fw("?","pathname","search",a)),Wn(!a.pathname||!a.pathname.includes("#"),Fw("#","pathname","hash",a)),Wn(!a.search||!a.search.includes("#"),Fw("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=EW(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const yc=e=>e.join("/").replace(/\/\/+/g,"/"),DW=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$W=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,MW=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function FW(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pD=["post","put","patch","delete"];new Set(pD);const LW=["get",...pD];new Set(LW);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fm.apply(this,arguments)}const m3=L.createContext(null),IW=L.createContext(null),Hc=L.createContext(null),M1=L.createContext(null),Fo=L.createContext({outlet:null,matches:[],isDataRoute:!1}),mD=L.createContext(null);function RW(e,t){let{relative:r}=t===void 0?{}:t;Wh()||Wn(!1);let{basename:n,navigator:a}=L.useContext(Hc),{hash:i,pathname:s,search:o}=xD(e,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:yc([n,s])),a.createHref({pathname:c,search:o,hash:i})}function Wh(){return L.useContext(M1)!=null}function fd(){return Wh()||Wn(!1),L.useContext(M1).location}function gD(e){L.useContext(Hc).static||L.useLayoutEffect(e)}function Lo(){let{isDataRoute:e}=L.useContext(Fo);return e?eq():BW()}function BW(){Wh()||Wn(!1);let e=L.useContext(m3),{basename:t,future:r,navigator:n}=L.useContext(Hc),{matches:a}=L.useContext(Fo),{pathname:i}=fd(),s=JSON.stringify(h3(a,r.v7_relativeSplatPath)),o=L.useRef(!1);return gD(()=>{o.current=!0}),L.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=p3(u,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:yc([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}const UW=L.createContext(null);function WW(e){let t=L.useContext(Fo).outlet;return t&&L.createElement(UW.Provider,{value:e},t)}function F1(){let{matches:e}=L.useContext(Fo),t=e[e.length-1];return t?t.params:{}}function xD(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=L.useContext(Hc),{matches:a}=L.useContext(Fo),{pathname:i}=fd(),s=JSON.stringify(h3(a,n.v7_relativeSplatPath));return L.useMemo(()=>p3(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function qW(e,t){return HW(e,t)}function HW(e,t,r,n){Wh()||Wn(!1);let{navigator:a,static:i}=L.useContext(Hc),{matches:s}=L.useContext(Fo),o=s[s.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=fd(),f;if(t){var h;let v=typeof t=="string"?Uh(t):t;u==="/"||(h=v.pathname)!=null&&h.startsWith(u)||Wn(!1),f=v}else f=d;let p=f.pathname||"/",m=p;if(u!=="/"){let v=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=mW(e,{pathname:m}),x=KW(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:yc([u,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:yc([u,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&x?L.createElement(M1.Provider,{value:{location:fm({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:dc.Pop}},x):x}function zW(){let e=ZW(),t=FW(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),r?L.createElement("pre",{style:a},r):null,null)}const YW=L.createElement(zW,null);class VW extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?L.createElement(Fo.Provider,{value:this.props.routeContext},L.createElement(mD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GW(e){let{routeContext:t,match:r,children:n}=e,a=L.useContext(m3);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),L.createElement(Fo.Provider,{value:t},n)}function KW(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Wn(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,m=!1,g=null,x=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||YW,c&&(u<0&&h===0?(tq("route-fallback"),m=!0,x=null):u===h&&(m=!0,x=f.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,h+1)),b=()=>{let y;return p?y=g:m?y=x:f.route.Component?y=L.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,L.createElement(GW,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?L.createElement(VW,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var vD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(vD||{}),yD=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yD||{});function XW(e){let t=L.useContext(m3);return t||Wn(!1),t}function JW(e){let t=L.useContext(IW);return t||Wn(!1),t}function QW(e){let t=L.useContext(Fo);return t||Wn(!1),t}function bD(e){let t=QW(),r=t.matches[t.matches.length-1];return r.route.id||Wn(!1),r.route.id}function ZW(){var e;let t=L.useContext(mD),r=JW(),n=bD();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function eq(){let{router:e}=XW(vD.UseNavigateStable),t=bD(yD.UseNavigateStable),r=L.useRef(!1);return gD(()=>{r.current=!0}),L.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,fm({fromRouteId:t},i)))},[e,t])}const Uj={};function tq(e,t,r){Uj[e]||(Uj[e]=!0)}function rq(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Vu(e){let{to:t,replace:r,state:n,relative:a}=e;Wh()||Wn(!1);let{future:i,static:s}=L.useContext(Hc),{matches:o}=L.useContext(Fo),{pathname:c}=fd(),u=Lo(),d=p3(t,h3(o,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return L.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function nq(e){return WW(e.context)}function Fr(e){Wn(!1)}function aq(e){let{basename:t="/",children:r=null,location:n,navigationType:a=dc.Pop,navigator:i,static:s=!1,future:o}=e;Wh()&&Wn(!1);let c=t.replace(/^\/*/,"/"),u=L.useMemo(()=>({basename:c,navigator:i,static:s,future:fm({v7_relativeSplatPath:!1},o)}),[c,o,i,s]);typeof n=="string"&&(n=Uh(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,g=L.useMemo(()=>{let x=f3(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:m},navigationType:a}},[c,d,f,h,p,m,a]);return g==null?null:L.createElement(Hc.Provider,{value:u},L.createElement(M1.Provider,{children:r,value:g}))}function wD(e){let{children:t,location:r}=e;return qW(__(t),r)}new Promise(()=>{});function __(e,t){t===void 0&&(t=[]);let r=[];return L.Children.forEach(e,(n,a)=>{if(!L.isValidElement(n))return;let i=[...t,a];if(n.type===L.Fragment){r.push.apply(r,__(n.props.children,i));return}n.type!==Fr&&Wn(!1),!n.props.index||!n.props.children||Wn(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=__(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k_.apply(this,arguments)}function iq(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function sq(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oq(e,t){return e.button===0&&(!t||t==="_self")&&!sq(e)}function S_(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function lq(e,t){let r=S_(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const cq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uq="6";try{window.__reactRouterVersion=uq}catch{}const dq="startTransition",Wj=lD[dq];function fq(e){let{basename:t,children:r,future:n,window:a}=e,i=L.useRef();i.current==null&&(i.current=fW({window:a,v5Compat:!0}));let s=i.current,[o,c]=L.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=L.useCallback(f=>{u&&Wj?Wj(()=>c(f)):c(f)},[c,u]);return L.useLayoutEffect(()=>s.listen(d),[s,d]),L.useEffect(()=>rq(n),[n]),L.createElement(aq,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const hq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rr=L.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=iq(t,cq),{basename:p}=L.useContext(Hc),m,g=!1;if(typeof u=="string"&&pq.test(u)&&(m=u,hq))try{let y=new URL(window.location.href),C=u.startsWith("//")?new URL(y.protocol+u):new URL(u),S=f3(C.pathname,p);C.origin===y.origin&&S!=null?u=S+C.search+C.hash:g=!0}catch{}let x=RW(u,{relative:a}),v=mq(u,{replace:s,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(y){n&&n(y),y.defaultPrevented||v(y)}return L.createElement("a",k_({},h,{href:m||x,onClick:g||i?n:b,ref:r,target:c}))});var qj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qj||(qj={}));var Hj;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Hj||(Hj={}));function mq(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,c=Lo(),u=fd(),d=xD(e,{relative:s});return L.useCallback(f=>{if(oq(f,r)){f.preventDefault();let h=n!==void 0?n:Vv(u)===Vv(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[u,c,d,n,a,r,e,i,s,o])}function _D(e){let t=L.useRef(S_(e)),r=L.useRef(!1),n=fd(),a=L.useMemo(()=>lq(n.search,r.current?null:t.current),[n.search]),i=Lo(),s=L.useCallback((o,c)=>{const u=S_(typeof o=="function"?o(a):o);r.current=!0,i("?"+u,c)},[i,a]);return[a,s]}const gq={},zj=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(m=>m(t,p))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(gq?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},xq=e=>e?zj(e):zj;var kD={exports:{}},SD={},ND={exports:{}},jD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=L;function vq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yq=typeof Object.is=="function"?Object.is:vq,bq=Gf.useState,wq=Gf.useEffect,_q=Gf.useLayoutEffect,kq=Gf.useDebugValue;function Sq(e,t){var r=t(),n=bq({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return _q(function(){a.value=r,a.getSnapshot=t,Lw(a)&&i({inst:a})},[e,r,t]),wq(function(){return Lw(a)&&i({inst:a}),e(function(){Lw(a)&&i({inst:a})})},[e]),kq(r),r}function Lw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yq(e,r)}catch{return!0}}function Nq(e,t){return t()}var jq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Nq:Sq;jD.useSyncExternalStore=Gf.useSyncExternalStore!==void 0?Gf.useSyncExternalStore:jq;ND.exports=jD;var Aq=ND.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1=L,Cq=Aq;function Tq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Eq=typeof Object.is=="function"?Object.is:Tq,Oq=Cq.useSyncExternalStore,Pq=L1.useRef,Dq=L1.useEffect,$q=L1.useMemo,Mq=L1.useDebugValue;SD.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=Pq(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=$q(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&s.hasValue){var m=s.value;if(a(m,p))return f=m}return f=p}if(m=f,Eq(d,p))return m;var g=n(p);return a!==void 0&&a(m,g)?(d=p,m):(d=p,f=g)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var o=Oq(e,i[0],i[1]);return Dq(function(){s.hasValue=!0,s.value=o},[o]),Mq(o),o};kD.exports=SD;var Fq=kD.exports;const Lq=hr(Fq),AD={},{useDebugValue:Iq}=we,{useSyncExternalStoreWithSelector:Rq}=Lq;let Yj=!1;const Bq=e=>e;function Uq(e,t=Bq,r){(AD?"production":void 0)!=="production"&&r&&!Yj&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Yj=!0);const n=Rq(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Iq(n),n}const Vj=e=>{(AD?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?xq(e):e,r=(n,a)=>Uq(t,n,a);return Object.assign(r,t),r},Wq=e=>e?Vj(e):Vj,qq=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_l(async()=>{const{default:n}=await Promise.resolve().then(()=>qh);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class g3 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Hq extends g3{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zq extends g3{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Yq extends g3{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var N_;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(N_||(N_={}));var Vq=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class Gq{constructor(t,{headers:r={},customFetch:n,region:a=N_.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=qq(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Vq(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let u;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(o["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(o["Content-Type"]="application/json",u=JSON.stringify(s)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:u}).catch(m=>{throw new Hq(m)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new zq(d);if(!d.ok)throw new Yq(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var Oi={},x3={},I1={},bg={},R1={},B1={},Kq=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Kf=Kq();const Xq=Kf.fetch,CD=Kf.fetch.bind(Kf),TD=Kf.Headers,Jq=Kf.Request,Qq=Kf.Response,qh=Object.freeze(Object.defineProperty({__proto__:null,Headers:TD,Request:Jq,Response:Qq,default:CD,fetch:Xq},Symbol.toStringTag,{value:"Module"})),Zq=cD(qh);var U1={};Object.defineProperty(U1,"__esModule",{value:!0});let eH=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};U1.default=eH;var ED=Zn&&Zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(B1,"__esModule",{value:!0});const tH=ED(Zq),rH=ED(U1);let nH=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=tH.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,o,c;let u=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),x=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await i.text();try{u=JSON.parse(g),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,p="OK")}catch{i.status===404&&g===""?(h=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new rH.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var s,o,c;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};B1.default=nH;var aH=Zn&&Zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(R1,"__esModule",{value:!0});const iH=aH(B1);let sH=class extends iH.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:s="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};R1.default=sH;var oH=Zn&&Zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bg,"__esModule",{value:!0});const lH=oH(R1);let cH=class extends lH.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};bg.default=cH;var uH=Zn&&Zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(I1,"__esModule",{value:!0});const q0=uH(bg);let dH=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const s=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new q0.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const s=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(s.length>0){const o=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new q0.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const s="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new q0.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new q0.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new q0.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};I1.default=dH;var W1={},q1={};Object.defineProperty(q1,"__esModule",{value:!0});q1.version=void 0;q1.version="0.0.0-automated";Object.defineProperty(W1,"__esModule",{value:!0});W1.DEFAULT_HEADERS=void 0;const fH=q1;W1.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${fH.version}`};var OD=Zn&&Zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(x3,"__esModule",{value:!0});const hH=OD(I1),pH=OD(bg),mH=W1;let gH=class PD{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},mH.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new hH.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new PD(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${t}`);let c;n||a?(s=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(s="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new pH.default({method:s,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};x3.default=gH;var Hh=Zn&&Zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.PostgrestError=Oi.PostgrestBuilder=Oi.PostgrestTransformBuilder=Oi.PostgrestFilterBuilder=Oi.PostgrestQueryBuilder=Oi.PostgrestClient=void 0;const DD=Hh(x3);Oi.PostgrestClient=DD.default;const $D=Hh(I1);Oi.PostgrestQueryBuilder=$D.default;const MD=Hh(bg);Oi.PostgrestFilterBuilder=MD.default;const FD=Hh(R1);Oi.PostgrestTransformBuilder=FD.default;const LD=Hh(B1);Oi.PostgrestBuilder=LD.default;const ID=Hh(U1);Oi.PostgrestError=ID.default;var xH=Oi.default={PostgrestClient:DD.default,PostgrestQueryBuilder:$D.default,PostgrestFilterBuilder:MD.default,PostgrestTransformBuilder:FD.default,PostgrestBuilder:LD.default,PostgrestError:ID.default};const{PostgrestClient:vH,PostgrestQueryBuilder:TRe,PostgrestFilterBuilder:ERe,PostgrestTransformBuilder:ORe,PostgrestBuilder:PRe,PostgrestError:DRe}=xH,yH="2.11.2",bH={"X-Client-Info":`realtime-js/${yH}`},wH="1.0.0",RD=1e4,_H=1e3;var $f;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($f||($f={}));var Bi;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Bi||(Bi={}));var Is;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Is||(Is={}));var j_;(function(e){e.websocket="websocket"})(j_||(j_={}));var bu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bu||(bu={}));class kH{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+a));s=s+a;const c=n.decode(t.slice(s,s+i));s=s+i;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class BD{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var sn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(sn||(sn={}));const Gj=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,s)=>(i[s]=SH(s,e,t,a),i),{})},SH=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?UD(i,s):A_(s)},UD=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return CH(t,r)}switch(e){case sn.bool:return NH(t);case sn.float4:case sn.float8:case sn.int2:case sn.int4:case sn.int8:case sn.numeric:case sn.oid:return jH(t);case sn.json:case sn.jsonb:return AH(t);case sn.timestamp:return TH(t);case sn.abstime:case sn.date:case sn.daterange:case sn.int4range:case sn.int8range:case sn.money:case sn.reltime:case sn.text:case sn.time:case sn.timestamptz:case sn.timetz:case sn.tsrange:case sn.tstzrange:return A_(t);default:return A_(t)}},A_=e=>e,NH=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},jH=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},AH=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},CH=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>UD(t,o))}return e},TH=e=>typeof e=="string"?e.replace(" ","T"):e,WD=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Iw{constructor(t,r,n={},a=RD){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Kj;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Kj||(Kj={}));class Bp{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bp.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=Bp.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Bp.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),o={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),m=d.filter(x=>p.indexOf(x.presence_ref)<0),g=f.filter(x=>h.indexOf(x.presence_ref)<0);m.length>0&&(o[u]=m),g.length>0&&(c[u]=g)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,d,c)}),this.map(s,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,a(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Xj||(Xj={}));var Jj;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Jj||(Jj={}));var nl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(nl||(nl={}));class v3{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Bi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Iw(this,Is.join,this.params,this.timeout),this.rejoinTimer=new BD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bi.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Bi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Is.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Bp(this),this.broadcastEndpointURL=WD(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:o}}=this.params;this._onError(d=>t==null?void 0:t(nl.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(nl.CLOSED));const c={},u={broadcast:i,presence:s,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(nl.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let g=0;g<p;g++){const x=h[g],{filter:{event:v,schema:b,table:y,filter:C}}=x,S=d&&d[g];if(S&&S.event===v&&S.schema===b&&S.table===y&&S.filter===C)m.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),t==null||t(nl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(nl.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(nl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(nl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Bi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Is.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new Iw(this,Is.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Iw(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=Is;if(n&&[o,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var m,g,x;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((x=(g=p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var m,g,x,v,b,y;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const C=p.id,S=(m=p.filter)===null||m===void 0?void 0:m.event;return C&&((g=r.ids)===null||g===void 0?void 0:g.includes(C))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const C=(b=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return C==="*"||C===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:x,commit_timestamp:v,type:b,errors:y}=m;h=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:v,eventType:b,new:{},old:{},errors:y}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===Bi.closed}_isJoined(){return this.state===Bi.joined}_isJoining(){return this.state===Bi.joining}_isLeaving(){return this.state===Bi.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&v3.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Is.close,{},t)}_onError(t){this._on(Is.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bi.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Gj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Gj(t.columns,t.old_record)),r}}const EH=()=>{},OH=typeof WebSocket<"u",PH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class DH{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=bH,this.params={},this.timeout=RD,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=EH,this.conn=null,this.sendBuffer=[],this.serializer=new kH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>_l(async()=>{const{default:c}=await Promise.resolve().then(()=>qh);return{default:c}},void 0).then(({default:c})=>c(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${t}/${j_.websocket}`,this.httpEndpoint=WD(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,s)=>s(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new BD(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(OH){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new $H(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),_l(async()=>{const{default:t}=await import("./browser-C0qHKFmj.js").then(r=>r.b);return{default:t}},__vite__mapDeps([0,1,2])).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wH}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $f.connecting:return bu.Connecting;case $f.open:return bu.Open;case $f.closing:return bu.Closing;default:return bu.Closed}}isConnected(){return this.connectionState()===bu.Open}channel(t,r={config:{}}){const n=new v3(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(Is.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(_H,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:s}=r;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${s&&"("+s+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Is.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([PH],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class $H{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=$f.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class y3 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ma(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class MH extends y3{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class C_ extends y3{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var FH=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const qD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_l(async()=>{const{default:n}=await Promise.resolve().then(()=>qh);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},LH=()=>FH(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _l(()=>Promise.resolve().then(()=>qh),void 0)).Response:Response}),T_=e=>{if(Array.isArray(e))return e.map(r=>T_(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=T_(n)}),t};var hd=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Rw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),IH=(e,t,r)=>hd(void 0,void 0,void 0,function*(){const n=yield LH();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new MH(Rw(a),e.status||500))}).catch(a=>{t(new C_(Rw(a),a))}):t(new C_(Rw(e),e))}),RH=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function wg(e,t,r,n,a,i){return hd(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,RH(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>IH(c,o,n))})})}function Gv(e,t,r,n){return hd(this,void 0,void 0,function*(){return wg(e,"GET",t,r,n)})}function sc(e,t,r,n,a){return hd(this,void 0,void 0,function*(){return wg(e,"POST",t,n,a,r)})}function BH(e,t,r,n,a){return hd(this,void 0,void 0,function*(){return wg(e,"PUT",t,n,a,r)})}function UH(e,t,r,n){return hd(this,void 0,void 0,function*(){return wg(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function HD(e,t,r,n,a){return hd(this,void 0,void 0,function*(){return wg(e,"DELETE",t,n,a,r)})}var ji=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const WH={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qH{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=qD(a)}uploadOrUpdate(t,r,n,a){return ji(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},Qj),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(ma(i))return{data:null,error:i};throw i}})}upload(t,r,n){return ji(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return ji(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Qj.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(ma(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ji(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield sc(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new y3("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(ma(n))return{data:null,error:n};throw n}})}update(t,r,n){return ji(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ji(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(ma(a))return{data:null,error:a};throw a}})}copy(t,r,n){return ji(this,void 0,void 0,function*(){try{return{data:{path:(yield sc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(ma(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return ji(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield sc(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(ma(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return ji(this,void 0,void 0,function*(){try{const a=yield sc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(ma(a))return{data:null,error:a};throw a}})}download(t,r){return ji(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Gv(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ma(o))return{data:null,error:o};throw o}})}info(t){return ji(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Gv(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:T_(n),error:null}}catch(n){if(ma(n))return{data:null,error:n};throw n}})}exists(t){return ji(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield UH(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ma(n)&&n instanceof C_){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return ji(this,void 0,void 0,function*(){try{return{data:yield HD(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ma(r))return{data:null,error:r};throw r}})}list(t,r,n){return ji(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},WH),r),{prefix:t||""});return{data:yield sc(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(ma(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const HH="2.7.1",zH={"X-Client-Info":`storage-js/${HH}`};var nf=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class YH{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},zH),r),this.fetch=qD(n)}listBuckets(){return nf(this,void 0,void 0,function*(){try{return{data:yield Gv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ma(t))return{data:null,error:t};throw t}})}getBucket(t){return nf(this,void 0,void 0,function*(){try{return{data:yield Gv(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ma(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return nf(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ma(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return nf(this,void 0,void 0,function*(){try{return{data:yield BH(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ma(n))return{data:null,error:n};throw n}})}emptyBucket(t){return nf(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ma(r))return{data:null,error:r};throw r}})}deleteBucket(t){return nf(this,void 0,void 0,function*(){try{return{data:yield HD(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ma(r))return{data:null,error:r};throw r}})}}class VH extends YH{constructor(t,r={},n){super(t,r,n)}from(t){return new qH(this.url,this.headers,t,this.fetch)}}const GH="2.49.2";let Ap="";typeof Deno<"u"?Ap="deno":typeof document<"u"?Ap="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ap="react-native":Ap="node";const KH={"X-Client-Info":`supabase-js-${Ap}/${GH}`},XH={headers:KH},JH={schema:"public"},QH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZH={};var ez=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const tz=e=>{let t;return e?t=e:typeof fetch>"u"?t=CD:t=fetch,(...r)=>t(...r)},rz=()=>typeof Headers>"u"?TD:Headers,nz=(e,t,r)=>{const n=tz(r),a=rz();return(i,s)=>ez(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},s),{headers:u}))})};var az=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function iz(e){return e.replace(/\/$/,"")}function sz(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:s,auth:o,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},s),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},u),i),accessToken:()=>az(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const zD="2.69.0",_f=30*1e3,E_=3,Bw=E_*_f,oz="http://localhost:9999",lz="supabase.auth.token",cz={"X-Client-Info":`gotrue-js/${zD}`},O_="X-Supabase-Api-Version",YD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},uz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dz=6e5;class b3 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ir(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class fz extends b3{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function hz(e){return ir(e)&&e.name==="AuthApiError"}class VD extends b3{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class zc extends b3{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class ac extends zc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pz(e){return ir(e)&&e.name==="AuthSessionMissingError"}class Uw extends zc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bx extends zc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ux extends zc{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mz(e){return ir(e)&&e.name==="AuthImplicitGrantRedirectError"}class Zj extends zc{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class P_ extends zc{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ww(e){return ir(e)&&e.name==="AuthRetryableFetchError"}class eA extends zc{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Up extends zc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Kv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tA=` 	
\r=`.split(""),gz=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<tA.length;t+=1)e[tA[t].charCodeAt(0)]=-2;for(let t=0;t<Kv.length;t+=1)e[Kv[t].charCodeAt(0)]=t;return e})();function rA(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Kv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Kv[n]),t.queuedBits-=6}}function GD(e,t,r){const n=gz[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function xz(e){const t=[],r=a=>{t.push(a)},n={queue:0,queuedBits:0};return KD(e,a=>{rA(a,n,r)}),rA(null,n,r),t.join("")}function nA(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{yz(s,n,r)};for(let s=0;s<e.length;s+=1)GD(e.charCodeAt(s),a,i);return t.join("")}function vz(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function KD(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}vz(n,t)}}function yz(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function bz(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)GD(e.charCodeAt(a),r,n);return new Uint8Array(t)}function wz(e){const t=[];return KD(e,r=>t.push(r)),new Uint8Array(t)}function _z(e){return Math.round(Date.now()/1e3)+e}function kz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const uo=()=>typeof window<"u"&&typeof document<"u",cu={tested:!1,writable:!1},Wp=()=>{if(!uo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cu.tested)return cu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),cu.tested=!0,cu.writable=!0}catch{cu.tested=!0,cu.writable=!1}return cu.writable};function Sz(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const XD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_l(async()=>{const{default:n}=await Promise.resolve().then(()=>qh);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Nz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",JD=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Wx=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},qx=async(e,t)=>{await e.removeItem(t)};class H1{constructor(){this.promise=new H1.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}H1.promiseConstructor=Promise;function qw(e){const t=e.split(".");if(t.length!==3)throw new Up("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!uz.test(t[n]))throw new Up("JWT not in base64url format");return{header:JSON.parse(nA(t[0])),payload:JSON.parse(nA(t[1])),signature:bz(t[2]),raw:{header:t[0],payload:t[1]}}}async function jz(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Az(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function Cz(e){return("0"+e.toString(16)).substr(-2)}function Tz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Cz).join("")}async function Ez(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Oz(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Ez(e);return xz(r)}async function af(e,t,r=!1){const n=Tz();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await JD(e,`${t}-code-verifier`,a);const i=await Oz(n);return[i,n===i?"plain":"s256"]}const Pz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Dz(e){const t=e.headers.get(O_);if(!t||!t.match(Pz))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $z(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Mz(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Fz=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const hu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Lz=[502,503,504];async function aA(e){var t;if(!Nz(e))throw new P_(hu(e),0);if(Lz.includes(e.status))throw new P_(hu(e),e.status);let r;try{r=await e.json()}catch(i){throw new VD(hu(i),i)}let n;const a=Dz(e);if(a&&a.getTime()>=YD["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new eA(hu(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ac}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new eA(hu(r),e.status,r.weak_password.reasons);throw new fz(hu(r),e.status||500,n)}const Iz=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function mr(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[O_]||(i[O_]=YD["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await Rz(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Rz(e,t,r,n,a,i){const s=Iz(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new P_(hu(c),0)}if(o.ok||await aA(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await aA(c)}}function ic(e){var t;let r=null;qz(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=_z(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function iA(e){const t=ic(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function lc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Bz(e){return{data:e,error:null}}function Uz(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=Fz(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function Wz(e){return e}function qz(e){return e.access_token&&e.refresh_token&&e.expires_in}var Hz=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class zz{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=XD(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await mr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ir(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await mr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:lc})}catch(n){if(ir(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Hz(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await mr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Uz,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ir(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await mr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:lc})}catch(r){if(ir(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await mr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Wz});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ir(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await mr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:lc})}catch(r){if(ir(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await mr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:lc})}catch(n){if(ir(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await mr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:lc})}catch(n){if(ir(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await mr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ir(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await mr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ir(r))return{data:null,error:r};throw r}}}const Yz={getItem:e=>Wp()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Wp()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Wp()&&globalThis.localStorage.removeItem(e)}};function sA(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Vz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const sf={debug:!!(globalThis&&Wp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class QD extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Gz extends QD{}async function Kz(e,t,r){sf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),sf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){sf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{sf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw sf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Gz(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(sf.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Vz();const Xz={url:oz,storageKey:lz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function oA(e,t,r){return await r()}class hm{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hm.nextInstanceID,hm.nextInstanceID+=1,this.instanceID>0&&uo()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Xz),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new zz({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=XD(a.fetch),this.lock=a.lock||oA,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:uo()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Kz:this.lock=oA,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Wp()?this.storage=Yz:(this.memoryStorage={},this.storage=sA(this.memoryStorage)):(this.memoryStorage={},this.storage=sA(this.memoryStorage)),uo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zD}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Sz(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),uo()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),mz(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ir(r)?{error:r}:{error:new VD("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await mr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ic}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ir(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await af(this.storage,this.storageKey)),i=await mr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:ic})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await mr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ic})}else throw new Bx("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ir(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await mr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:iA})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await mr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:iA})}else throw new Bx("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Uw}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ir(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Wx(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await mr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ic});if(await qx(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Uw}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(ir(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,o=await mr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ic}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Uw}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ir(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await af(this.storage,this.storageKey));const{error:f}=await mr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await mr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Bx("You must provide either an email or phone number.")}catch(o){if(ir(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await mr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ic});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ir(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await af(this.storage,this.storageKey)),await mr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:Bz})}catch(i){if(ir(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ac;const{error:a}=await mr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ir(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await mr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:o}=await mr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new Bx("You must provide either an email or phone number and a type")}catch(r){if(ir(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Wx(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Bw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await mr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:lc}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ac}:await mr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:lc})})}catch(r){if(ir(r))return pz(r)&&(await this._removeSession(),await qx(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new ac;const s=a.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await af(this.storage,this.storageKey));const{data:u,error:d}=await mr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:lc});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(ir(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ac;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=qw(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ir(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ac;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ir(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!uo())throw new Ux("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ux(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Zj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ux("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Zj("No code detected.");const{data:b,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!s||!u)throw new Ux("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=_f&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(ir(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Wx(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(hz(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await qx(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=kz(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await af(this.storage,this.storageKey,!0));try{return await mr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ir(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ir(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await mr(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return uo()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ir(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await mr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ir(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Az(async a=>(a>0&&await jz(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await mr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ic})),(a,i)=>{const s=200*Math.pow(2,a);return i&&Ww(i)&&Date.now()+s-n<_f})}catch(n){if(this._debug(r,"error",n),ir(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),uo()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Wx(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Bw;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Bw}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Ww(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ac;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new H1;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new ac;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),ir(i)){const s={session:null,error:i};return Ww(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await JD(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await qx(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&uo()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_f);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/_f);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${_f}ms, refresh threshold is ${E_} ticks`),a<=E_&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof QD)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!uo()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await af(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await mr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ir(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await mr(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ir(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:o}=await mr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(ir(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await mr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ir(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=qw(a.access_token);let o=null;s.aal&&(o=s.aal);let c=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n||(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+dz>Date.now()))return n;const{data:a,error:i}=await mr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new Up("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(s=>s.kid===t),!n)throw new Up("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};n=p.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:c}}=qw(n);if($z(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:s},error:null}}const u=Mz(a.alg),d=await this.fetchJwk(a.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,wz(`${o}.${c}`)))throw new Up("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(ir(n))return{data:null,error:n};throw n}}}hm.nextInstanceID=0;const Jz=hm;class Qz extends Jz{constructor(t){super(t)}}var Zz=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class eY{constructor(t,r,n){var a,i,s;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=iz(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:JH,realtime:ZH,auth:Object.assign(Object.assign({},QH),{storageKey:c}),global:XH},d=sz(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=nz(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new vH(`${o}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Gq(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new VH(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Zz(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:s,lock:o,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qz({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:s,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new DH(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tY=(e,t,r)=>new eY(e,t,r),rY="https://egtgfkxlkdgjtnicyfxr.supabase.co",nY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVndGdma3hsa2RnanRuaWN5ZnhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI1OTA0MzMsImV4cCI6MjA1ODE2NjQzM30.JTai6zEgGVb99zNGAoeK8wvdg3waV0hnrSCCZtyPlR0",We=tY(rY,nY,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1}}),of=async()=>{try{await We.auth.signOut({scope:"global"}),localStorage.clear(),sessionStorage.clear(),await new Promise(e=>setTimeout(e,100))}catch(e){throw console.error("Error killing sessions:",e),e}},Zt=Wq(e=>({user:null,organization:null,error:null,initialized:!1,refreshSession:async()=>{try{const{data:t,error:r}=await We.auth.getSession(),n=t.session;if(r)throw r;if(n!=null&&n.user){const{data:a,error:i}=await We.from("users_organizations").select("organizations:organization_id(*)").eq("user_id",n.user.id).maybeSingle();if(i)throw i;if(a!=null&&a.organizations){const c=a.organizations;e({user:n.user,organization:c,error:null,initialized:!0});return}const{data:s,error:o}=await We.from("organizations").select().eq("owner_id",n.user.id).maybeSingle();if(o)throw o;e({user:n.user,organization:s,error:null,initialized:!0})}else e({user:null,organization:null,error:null,initialized:!0})}catch(t){console.error("Error refreshing session:",t),await of(),e({user:null,organization:null,error:t instanceof Error?t.message:"Session expired. Please sign in again.",initialized:!0})}},signIn:async(t,r)=>{e({error:null});try{await of();const{data:n,error:a}=await We.auth.signInWithPassword({email:t.trim().toLowerCase(),password:r});if(a)throw a.message==="Invalid login credentials"?new Error("Invalid email or password"):a;if(!n.user)throw new Error("No user returned from sign in");const{data:i,error:s}=await We.from("users_organizations").select("organizations:organization_id(*)").eq("user_id",n.user.id).maybeSingle();if(s)throw s;if(i!=null&&i.organizations){const u=i.organizations;e({user:n.user,organization:u,error:null,initialized:!0});return}const{data:o,error:c}=await We.from("organizations").select().eq("owner_id",n.user.id).maybeSingle();if(c)throw c;e({user:n.user,organization:o,error:null,initialized:!0})}catch(n){throw console.error("Sign in error:",n),e({user:null,organization:null,error:n instanceof Error?n.message:"Failed to sign in",initialized:!0}),n}},signUp:async(t,r,n)=>{e({error:null});try{await of();const{data:a,error:i}=await We.auth.signUp({email:t.trim().toLowerCase(),password:r});if(i)throw i;if(!a.user)throw new Error("No user returned from sign up");const{data:s,error:o}=await We.from("organizations").insert([{name:n.trim(),owner_id:a.user.id}]).select().single();if(o)throw o;const{error:c}=await We.from("users_organizations").insert([{user_id:a.user.id,organization_id:s.id,role:"owner"}]);if(c)throw c;e({user:a.user,organization:s,error:null,initialized:!0})}catch(a){throw console.error("Sign up error:",a),e({user:null,organization:null,error:a instanceof Error?a.message:"Failed to sign up",initialized:!0}),a}},deleteAccount:async()=>{try{const{error:t}=await We.rpc("delete_user_account");if(t)throw t;await of(),e({user:null,organization:null,error:null,initialized:!0})}catch(t){throw console.error("Delete account error:",t),e({error:t instanceof Error?t.message:"Failed to delete account",initialized:!0}),t}},signOut:async()=>{try{const{error:t}=await We.auth.signOut();e({user:null,organization:null,error:null,initialized:!0}),t&&await of()}catch(t){throw console.error("Sign out error:",t),e({error:t instanceof Error?t.message:"Failed to sign out",initialized:!0}),t}},killAllSessions:of})),aY=async()=>{try{await Zt.getState().refreshSession()}catch(e){console.error("Auth initialization error:",e)}};aY();We.auth.onAuthStateChange(async(e,t)=>{if(e==="SIGNED_OUT"){Zt.setState({user:null,organization:null,error:null,initialized:!0});return}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Tt=(e,t)=>{const r=L.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:c,...u},d)=>L.createElement("svg",{ref:d,...iY,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${sY(e)}`,o].join(" "),...u},[...t.map(([f,h])=>L.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=Tt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=Tt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=Tt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=Tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=Tt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=Tt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=Tt("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=Tt("BarChart4",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=Tt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=Tt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=Tt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=Tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=Tt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=Tt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=Tt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=Tt("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=Tt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=Tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=Tt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=Tt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Tt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=Tt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=Tt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Tt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=Tt("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=Tt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=Tt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=Tt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=Tt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=Tt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=Tt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=Tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=Tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=Tt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=Tt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=Tt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=Tt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Tt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=Tt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=Tt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Tt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=Tt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=Tt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=Tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=Tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=Tt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=Tt("SquareUserRound",[["path",{d:"M18 21a6 6 0 0 0-12 0",key:"kaz2du"}],["circle",{cx:"12",cy:"11",r:"4",key:"1gt34v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=Tt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=Tt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=Tt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=Tt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=Tt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=Tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=Tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=Tt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function SY(){const{user:e}=Zt();return e?l.jsx(Vu,{to:"/dashboard",replace:!0}):l.jsxs("div",{className:"flex min-h-screen",children:[l.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-b from-gray-900 to-gray-800 text-white p-16 flex-col justify-between relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 opacity-5",children:l.jsx("div",{className:"absolute inset-y-0 -left-1/2 w-[200%] bg-gradient-to-r from-blue-500 to-purple-500 transform rotate-12"})}),l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-16",children:[l.jsx("div",{className:"h-12 w-12 bg-gradient-to-tr from-blue-500 to-blue-400 rounded-xl flex items-center justify-center shadow-lg",children:l.jsx(Ys,{className:"h-7 w-7 text-white"})}),l.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"MyBindu"})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-5xl font-bold leading-tight mb-4",children:["Welcome to",l.jsx("br",{}),"MyBindu"]}),l.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"Your complete business management solution"})]}),l.jsx("div",{className:"max-w-md",children:l.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"Streamline your operations, boost productivity, and make data-driven decisions with our comprehensive suite of business tools."})})]})]}),l.jsxs("div",{className:"relative space-y-8",children:[l.jsx("div",{className:"p-6 bg-gray-800 rounded-2xl backdrop-blur-xl bg-opacity-50",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-tr from-blue-500 to-blue-400 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-lg font-semibold",children:"SJ"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Sarah Johnson"}),l.jsx("p",{className:"text-sm text-gray-400 mt-0.5 leading-relaxed",children:'"MyBindu has revolutionized how we manage our business operations. The platform is intuitive and powerful."'})]})]})}),l.jsxs("div",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," MyBindu. All rights reserved."]})]})]}),l.jsx("div",{className:"w-full lg:w-1/2 flex flex-col bg-gray-50",children:l.jsx("div",{className:"flex-grow flex flex-col items-center justify-center p-8 sm:p-12",children:l.jsx("div",{className:"w-full max-w-md",children:l.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:l.jsx(nq,{})})})})})]})}const NY={light:{background:{primary:"bg-gray-50",secondary:"bg-gray-100",accent:"bg-gray-200",hover:"hover:bg-gray-100",hoverDarker:"hover:bg-gray-200"},text:{primary:"text-gray-900",secondary:"text-gray-700",tertiary:"text-gray-600",muted:"text-gray-500",accent:"text-gray-400",inverse:"text-white"},border:{primary:"border-gray-200",secondary:"border-gray-300"},interactive:{hover:{text:"hover:text-gray-900",background:"hover:bg-gray-50"}},sidebar:{background:"bg-gray-50",itemHover:"hover:bg-gray-300",itemActive:"bg-black",itemActiveText:"text-white",shadow:"shadow-gray-200"},header:{background:"bg-gray-50",buttonHover:"hover:bg-gray-100"},avatar:{background:"bg-gray-200",text:"text-gray-600"},modal:{background:"bg-white",overlay:"bg-black bg-opacity-50"}},dark:{background:{primary:"bg-gray-800",secondary:"bg-gray-900",accent:"bg-gray-800",hover:"hover:bg-gray-700",hoverDarker:"hover:bg-gray-600"},text:{primary:"text-white",secondary:"text-gray-300",tertiary:"text-gray-400",muted:"text-gray-500",accent:"text-gray-400",inverse:"text-gray-900"},border:{primary:"border-gray-600",secondary:"border-gray-500"},interactive:{hover:{text:"hover:text-white",background:"hover:bg-gray-700"}},sidebar:{background:"bg-gray-800",itemHover:"hover:bg-gray-700",itemActive:"bg-white",itemActiveText:"text-black",shadow:"shadow-gray-900"},header:{background:"bg-gray-800",buttonHover:"hover:bg-gray-700"},avatar:{background:"bg-gray-700",text:"text-gray-300"},modal:{background:"bg-gray-800",overlay:"bg-black bg-opacity-50"}}};function nt(e,...t){return t.reduce((r,n)=>r[n],NY[e])}const o$=L.createContext(void 0);function jY({children:e}){const[t,r]=L.useState(()=>{const a=localStorage.getItem("theme");return a==="dark"||a==="light"?a:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});L.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(t),localStorage.setItem("theme",t)},[t]);const n=()=>{r(a=>a==="light"?"dark":"light")};return l.jsx(o$.Provider,{value:{theme:t,toggleTheme:n,getThemeStyle:nt},children:e})}function Ht(){const e=L.useContext(o$);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function AY(e){return!!(e!=null&&e.country&&(e!=null&&e.city)&&(e!=null&&e.address)&&(e!=null&&e.employee_count)&&(e!=null&&e.currency))}function CY(){const[e,t]=L.useState(""),[r,n]=L.useState(""),[a,i]=L.useState(!1),[s,o]=L.useState(null),[c,u]=L.useState(!1),{signIn:d,user:f,organization:h}=Zt(),{theme:p,getThemeStyle:m}=Ht();if(f)return AY(h)?l.jsx(Vu,{to:"/dashboard",replace:!0}):l.jsx(Vu,{to:"/organization-setup",replace:!0});const g=async x=>{if(x.preventDefault(),!a){o(null),i(!0);try{await d(e,r)}catch(v){console.error("Sign in error:",v),o(v instanceof Error?v.message:"An error occurred during sign in"),i(!1)}}};return l.jsxs("div",{children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome back"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Please sign in to your account to continue"})]}),s&&l.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-400 p-4 rounded",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm text-red-700",children:s})})]})}),l.jsxs("form",{onSubmit:g,className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(n$,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:x=>t(x.target.value),disabled:a,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm disabled:bg-gray-50 disabled:text-black text-black",placeholder:"Enter your email"})]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-black",children:"Password"})}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(M_,{className:"h-5 w-5 text-black"})}),l.jsx("input",{id:"password",type:c?"text":"password",required:!0,value:r,onChange:x=>n(x.target.value),disabled:a,className:`block w-full pl-10 pr-10 py-2 border ${m(p,"border","secondary")} text-black rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm disabled:bg-gray-50 disabled:text-gray-500`,placeholder:"Enter your password"}),l.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:c?l.jsx(D_,{className:"h-5 w-5 text-black hover:text-black cursor-pointer"}):l.jsx($_,{className:"h-5 w-5 text-black hover:text-black cursor-pointer"})})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 disabled:cursor-not-allowed transition-colors duration-200",children:a?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),l.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Don't have an account?"," ",l.jsx(Rr,{to:"/auth/signup",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200",children:"Sign up for free"})]})]})}function Lv(e){return{hasMinLength:e.length>=8,hasUpperCase:/[A-Z]/.test(e),hasLowerCase:/[a-z]/.test(e),hasSpecialChar:/[!@#$%^&*(),.?":{}|<>]/.test(e)}}function TY(e){if(!e)return"weak";const t=Lv(e),r=Object.values(t).filter(Boolean).length;return r<=2?"weak":r===3?"medium":"strong"}function EY(e){switch(e){case"weak":return"bg-red-500";case"medium":return"bg-yellow-500";case"strong":return"bg-green-500"}}function OY(e){switch(e){case"weak":return"Weak password";case"medium":return"Medium strength";case"strong":return"Strong password"}}function PY(){const[e,t]=L.useState(""),[r,n]=L.useState(""),[a,i]=L.useState(""),[s,o]=L.useState(""),[c,u]=L.useState(null),[d,f]=L.useState(!1),[h,p]=L.useState(!1),[m,g]=L.useState(Lv("")),x=Zt(N=>N.signUp),{theme:v,getThemeStyle:b}=Ht();L.useEffect(()=>{g(Lv(r))},[r]);const y=async N=>{N.preventDefault(),u(null);const w=Lv(r);if(!Object.values(w).every(Boolean)){u("Password must meet all requirements");return}if(r!==a){u("Passwords do not match");return}try{await x(e,r,s)}catch(P){u(P instanceof Error?P.message:"An error occurred")}},C=TY(r),S=EY(C),T=OY(C);return l.jsxs("div",{children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create your account"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Get started with your free business account"})]}),c&&l.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border-l-4 border-red-400 p-4 rounded",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:c})})]})}),l.jsxs("form",{onSubmit:y,className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"organization",className:"block text-sm font-medium text-gray-700",children:"Organization name"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Ys,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"organization",type:"text",required:!0,value:s,onChange:N=>o(N.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none text-black focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your organization name"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(n$,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:N=>t(N.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none text-black focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your email"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(M_,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"password",type:d?"text":"password",required:!0,value:r,onChange:N=>n(N.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none text-black focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Create a password"}),l.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d?l.jsx(D_,{className:`h-5 w-5 ${b(v,"text","muted")} hover:${b(v,"text","secondary")} cursor-pointer`}):l.jsx($_,{className:`h-5 w-5 ${b(v,"text","muted")} hover:${b(v,"text","secondary")} cursor-pointer`})})]}),r&&l.jsxs("div",{className:"mt-2",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${S} transition-all duration-300`,style:{width:C==="weak"?"33%":C==="medium"?"66%":"100%"}})}),l.jsx("span",{className:`text-xs ${b(v,"text","muted")}`,children:T})]}),l.jsxs("ul",{className:"mt-2 text-xs space-y-1",children:[l.jsx("li",{className:`${m.hasMinLength?"text-green-500":b(v,"text","muted")}`,children:" At least 8 characters"}),l.jsx("li",{className:`${m.hasUpperCase?"text-green-500":b(v,"text","muted")}`,children:" One uppercase letter"}),l.jsx("li",{className:`${m.hasLowerCase?"text-green-500":b(v,"text","muted")}`,children:" One lowercase letter"}),l.jsx("li",{className:`${m.hasSpecialChar?"text-green-500":b(v,"text","muted")}`,children:" One special character"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-black",children:"Confirm Password"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(M_,{className:"h-5 w-5 text-black"})}),l.jsx("input",{id:"confirmPassword",type:h?"text":"password",required:!0,value:a,onChange:N=>i(N.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none text-black focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Confirm your password"}),l.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:h?l.jsx(D_,{className:"h-5 w-5 text-black hover:text-black cursor-pointer"}):l.jsx($_,{className:"h-5 w-5 text-black hover:text-black cursor-pointer"})})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Create account"})})]}),l.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Already have an account?"," ",l.jsx(Rr,{to:"/auth/signin",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200",children:"Sign in instead"})]})]})}function DY(){const[e,t]=L.useState({isOpen:!1,title:"",message:"",type:"info",confirmText:"Confirm",cancelText:"Cancel",resolve:null});return{confirm:i=>new Promise(s=>{t({...i,isOpen:!0,resolve:s})}),dialog:e,handleConfirm:()=>{e.resolve&&e.resolve(!0),t(i=>({...i,isOpen:!1}))},handleCancel:()=>{e.resolve&&e.resolve(!1),t(i=>({...i,isOpen:!1}))}}}function $Y(){const[e,t]=L.useState([]),r=L.useCallback(a=>{const i=Math.random().toString(36).substr(2,9);t(s=>[...s,{...a,id:i}])},[]),n=L.useCallback(a=>{t(i=>i.filter(s=>s.id!==a))},[]);return{toasts:e,addToast:r,removeToast:n}}function MY({isOpen:e,title:t,message:r,type:n="info",confirmText:a="Confirm",cancelText:i="Cancel",onConfirm:s,onCancel:o}){if(!e)return null;const c={danger:l.jsx(Di,{className:"h-6 w-6 text-red-600"}),warning:l.jsx(Ac,{className:"h-6 w-6 text-yellow-600"}),info:l.jsx(gY,{className:"h-6 w-6 text-blue-600"})},u={danger:{button:"bg-red-600 hover:bg-red-700 focus:ring-red-500",icon:"bg-red-100"},warning:{button:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",icon:"bg-yellow-100"},info:{button:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",icon:"bg-blue-100"}};return l.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 transition-opacity"}),l.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:l.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[l.jsxs("div",{className:"sm:flex sm:items-start",children:[l.jsx("div",{className:`mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full ${u[n].icon} sm:mx-0 sm:h-10 sm:w-10`,children:c[n]}),l.jsxs("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[l.jsx("h3",{className:"text-lg font-semibold leading-6 text-gray-900",children:t}),l.jsx("div",{className:"mt-2",children:l.jsx("p",{className:"text-sm text-gray-500",children:r})})]})]}),l.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse gap-3",children:[l.jsx("button",{type:"button",className:`inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm sm:w-auto ${u[n].button} focus:outline-none focus:ring-2 focus:ring-offset-2`,onClick:s,children:a}),l.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:o,children:i})]})]})})]})}function FY({id:e,type:t,title:r,message:n,duration:a=5e3,onClose:i}){L.useEffect(()=>{if(a>0){const c=setTimeout(()=>{i(e)},a);return()=>clearTimeout(c)}},[a,e,i]);const s={success:l.jsx(vr,{className:"h-6 w-6 text-green-400"}),error:l.jsx(Di,{className:"h-6 w-6 text-red-400"}),warning:l.jsx(Ac,{className:"h-6 w-6 text-yellow-400"}),info:l.jsx(xY,{className:"h-6 w-6 text-blue-400"})},o={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"};return l.jsx("div",{className:`pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg border shadow-lg ${o[t]}`,children:l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:s[t]}),l.jsxs("div",{className:"ml-3 w-0 flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:r}),n&&l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]}),l.jsx("div",{className:"ml-4 flex flex-shrink-0",children:l.jsxs("button",{type:"button",className:"inline-flex rounded-md text-gray-400 hover:text-gray-500 focus:outline-none",onClick:()=>i(e),children:[l.jsx("span",{className:"sr-only",children:"Close"}),l.jsx(cr,{className:"h-5 w-5"})]})})]})})})}function LY({toasts:e,onClose:t}){return l.jsx("div",{"aria-live":"assertive",className:"pointer-events-none fixed inset-0 z-50 flex flex-col items-end gap-2 px-4 py-6 sm:p-6",children:l.jsx("div",{className:"flex w-full flex-col items-end space-y-4",children:e.map(r=>l.jsx(FY,{...r,onClose:t},r.id))})})}const l$=L.createContext(null);function IY({children:e}){const{confirm:t,dialog:r,handleConfirm:n,handleCancel:a}=DY(),{toasts:i,addToast:s,removeToast:o}=$Y();return l.jsxs(l$.Provider,{value:{confirm:t,addToast:s},children:[e,l.jsx(MY,{isOpen:r.isOpen,title:r.title,message:r.message,type:r.type,confirmText:r.confirmText,cancelText:r.cancelText,onConfirm:n,onCancel:a}),l.jsx(LY,{toasts:i,onClose:o})]})}function Tr(){const e=L.useContext(l$);if(!e)throw new Error("useUI must be used within a UIProvider");return e}const tn={GHS:{name:"Ghanaian Cedi",symbol:""},USD:{name:"US Dollar",symbol:"$"},EUR:{name:"Euro",symbol:""},GBP:{name:"British Pound",symbol:""},NGN:{name:"Nigerian Naira",symbol:""}},uA={pending:{bg:"bg-yellow-100",text:"text-yellow-800",hover:"hover:bg-yellow-200"},in_progress:{bg:"bg-blue-100",text:"text-blue-800",hover:"hover:bg-blue-200"},delayed:{bg:"bg-orange-100",text:"text-orange-800",hover:"hover:bg-orange-200"},completed:{bg:"bg-green-100",text:"text-green-800",hover:"hover:bg-green-200"},cancelled:{bg:"bg-red-100",text:"text-red-800",hover:"hover:bg-red-200"}},yo={pending:"Pending",in_progress:"In Progress",delayed:"Delayed",completed:"Completed",cancelled:"Cancelled"};function yn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Eo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Sl(e,t){const r=yn(e);return isNaN(t)?Eo(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Nl(e,t){const r=yn(e);if(isNaN(t))return Eo(e,NaN);if(!t)return r;const n=r.getDate(),a=Eo(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const c$=6048e5,RY=864e5;let BY={};function kg(){return BY}function Js(e,t){var o,c,u,d;const r=kg(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=yn(e),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function Jv(e){return Js(e,{weekStartsOn:1})}function u$(e){const t=yn(e),r=t.getFullYear(),n=Eo(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Jv(n),i=Eo(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=Jv(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function Cc(e){const t=yn(e);return t.setHours(0,0,0,0),t}function dA(e){const t=yn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function UY(e,t){const r=Cc(e),n=Cc(t),a=+r-dA(r),i=+n-dA(n);return Math.round((a-i)/RY)}function WY(e){const t=u$(e),r=Eo(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Jv(r)}function Tc(e,t){const r=t*7;return Sl(e,r)}function Ec(e,t){return Nl(e,t*12)}function qY(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function HY(e){if(!qY(e)&&typeof e!="number")return!1;const t=yn(e);return!isNaN(Number(t))}function Qv(e){const t=yn(e);return t.setHours(23,59,59,999),t}function Sg(e){const t=yn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ng(e){const t=yn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function jg(e){const t=yn(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function zh(e){const t=yn(e),r=Eo(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Yh(e,t){var o,c,u,d;const r=kg(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=yn(e),i=a.getDay(),s=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}const zY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},YY=(e,t,r)=>{let n;const a=zY[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function zw(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const VY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},KY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},XY={date:zw({formats:VY,defaultWidth:"full"}),time:zw({formats:GY,defaultWidth:"full"}),dateTime:zw({formats:KY,defaultWidth:"full"})},JY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QY=(e,t,r,n)=>JY[e];function z0(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=e.formattingValues[o]||e.formattingValues[s]}else{const s=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[o]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const ZY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iV=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},sV={ordinalNumber:iV,era:z0({values:ZY,defaultWidth:"wide"}),quarter:z0({values:eV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:z0({values:tV,defaultWidth:"wide"}),day:z0({values:rV,defaultWidth:"wide"}),dayPeriod:z0({values:nV,defaultWidth:"wide",formattingValues:aV,defaultFormattingWidth:"wide"})};function Y0(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?lV(o,f=>f.test(s)):oV(o,f=>f.test(s));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(s.length);return{value:u,rest:d}}}function oV(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function lV(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function cV(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const o=t.slice(a.length);return{value:s,rest:o}}}const uV=/^(\d+)(th|st|nd|rd)?/i,dV=/\d+/i,fV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hV={any:[/^b/i,/^(a|c)/i]},pV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mV={any:[/1/i,/2/i,/3/i,/4/i]},gV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_V={ordinalNumber:cV({matchPattern:uV,parsePattern:dV,valueCallback:e=>parseInt(e,10)}),era:Y0({matchPatterns:fV,defaultMatchWidth:"wide",parsePatterns:hV,defaultParseWidth:"any"}),quarter:Y0({matchPatterns:pV,defaultMatchWidth:"wide",parsePatterns:mV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Y0({matchPatterns:gV,defaultMatchWidth:"wide",parsePatterns:xV,defaultParseWidth:"any"}),day:Y0({matchPatterns:vV,defaultMatchWidth:"wide",parsePatterns:yV,defaultParseWidth:"any"}),dayPeriod:Y0({matchPatterns:bV,defaultMatchWidth:"any",parsePatterns:wV,defaultParseWidth:"any"})},kV={code:"en-US",formatDistance:YY,formatLong:XY,formatRelative:QY,localize:sV,match:_V,options:{weekStartsOn:0,firstWeekContainsDate:1}};function SV(e){const t=yn(e);return UY(t,zh(t))+1}function NV(e){const t=yn(e),r=+Jv(t)-+WY(t);return Math.round(r/c$)+1}function d$(e,t){var d,f,h,p;const r=yn(e),n=r.getFullYear(),a=kg(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=Eo(e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const o=Js(s,t),c=Eo(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Js(c,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function jV(e,t){var o,c,u,d;const r=kg(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=d$(e,t),i=Eo(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Js(i,t)}function f$(e,t){const r=yn(e),n=+Js(r,t)-+jV(r,t);return Math.round(n/c$)+1}function Hr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ql={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Hr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Hr(r+1,2)},d(e,t){return Hr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Hr(e.getHours()%12||12,t.length)},H(e,t){return Hr(e.getHours(),t.length)},m(e,t){return Hr(e.getMinutes(),t.length)},s(e,t){return Hr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Hr(a,t.length)}},lf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fA={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ql.y(e,t)},Y:function(e,t,r,n){const a=d$(e,n),i=a>0?a:1-a;if(t==="YY"){const s=i%100;return Hr(s,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Hr(i,t.length)},R:function(e,t){const r=u$(e);return Hr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Hr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Hr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Hr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ql.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Hr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=f$(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Hr(a,t.length)},I:function(e,t,r){const n=NV(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Hr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ql.d(e,t)},D:function(e,t,r){const n=SV(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Hr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Hr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Hr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Hr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=lf.noon:n===0?a=lf.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=lf.evening:n>=12?a=lf.afternoon:n>=4?a=lf.morning:a=lf.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ql.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ql.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Hr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Hr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ql.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ql.s(e,t)},S:function(e,t){return Ql.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return pA(n);case"XXXX":case"XX":return pu(n);case"XXXXX":case"XXX":default:return pu(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return pA(n);case"xxxx":case"xx":return pu(n);case"xxxxx":case"xxx":default:return pu(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+hA(n,":");case"OOOO":default:return"GMT"+pu(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+hA(n,":");case"zzzz":default:return"GMT"+pu(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Hr(n,t.length)},T:function(e,t,r){const n=e.getTime();return Hr(n,t.length)}};function hA(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Hr(i,2)}function pA(e,t){return e%60===0?(e>0?"-":"+")+Hr(Math.abs(e)/60,2):pu(e,t)}function pu(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Hr(Math.trunc(n/60),2),i=Hr(n%60,2);return r+a+t+i}const mA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},h$=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},AV=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return mA(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",mA(n,t)).replace("{{time}}",h$(a,t))},CV={p:h$,P:AV},TV=/^D+$/,EV=/^Y+$/,OV=["D","DD","YY","YYYY"];function PV(e){return TV.test(e)}function DV(e){return EV.test(e)}function $V(e,t,r){const n=MV(e,t,r);if(console.warn(n),OV.includes(e))throw new RangeError(n)}function MV(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const FV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,LV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,IV=/^'([^]*?)'?$/,RV=/''/g,BV=/[a-zA-Z]/;function St(e,t,r){var d,f,h,p;const n=kg(),a=n.locale??kV,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=yn(e);if(!HY(o))throw new RangeError("Invalid time value");let c=t.match(LV).map(m=>{const g=m[0];if(g==="p"||g==="P"){const x=CV[g];return x(m,a.formatLong)}return m}).join("").match(FV).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:UV(m)};if(fA[g])return{isToken:!0,value:m};if(g.match(BV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});a.localize.preprocessor&&(c=a.localize.preprocessor(o,c));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return c.map(m=>{if(!m.isToken)return m.value;const g=m.value;(DV(g)||PV(g))&&$V(g,t,String(e));const x=fA[g[0]];return x(o,g,a.localize,u)}).join("")}function UV(e){const t=e.match(IV);return t?t[1].replace(RV,"'"):e}function WV(e){return yn(e).getFullYear()}function I_(e,t){const r=yn(e),n=yn(t);return r.getTime()>n.getTime()}function gA(e,t){const r=+yn(e),[n,a]=[+yn(t.start),+yn(t.end)].sort((i,s)=>i-s);return r>=n&&r<=a}const _3={cash:"Cash",mobile_money:"Mobile Money",bank_transfer:"Bank Transfer",check:"Check",card_payment:"Card Payment"},Hx={unpaid:"Unpaid",partially_paid:"Partially Paid",paid:"Paid",cancelled:"Cancelled"},xA={unpaid:{bg:"bg-red-100",text:"text-red-800",hover:"hover:bg-red-200"},partially_paid:{bg:"bg-yellow-100",text:"text-yellow-800",hover:"hover:bg-yellow-200"},paid:{bg:"bg-green-100",text:"text-green-800",hover:"hover:bg-green-200"},cancelled:{bg:"bg-gray-100",text:"text-gray-800",hover:"hover:bg-gray-200"}},Zf=({orderId:e,orderNumber:t,clientName:r,outstandingBalance:n,onPaymentRecorded:a,isOpen:i,onClose:s,currencySymbol:o="",orderType:c="service_order"})=>{const{addToast:u}=Tr(),{organization:d}=Zt(),{theme:f,getThemeStyle:h}=Ht(),[p,m]=L.useState({orderNumber:t||"",clientName:r||"",outstandingBalance:n||0}),[g,x]=L.useState(""),[v,b]=L.useState(""),[y,C]=L.useState(""),[S,T]=L.useState(!1),[N,w]=L.useState(!t||!r||!n),[_,P]=L.useState("");L.useEffect(()=>{N&&(async()=>{if(!(t&&r&&n!==void 0)){console.log(t,r,n);try{const H=c==="service_order"?"orders":"sales_orders",{data:q,error:Y}=await We.from(H).select(`
                        order_number,
                        outstanding_balance,
                        client:clients!inner(
                            name
                        )
                    `).eq("id",e).single();if(Y)throw Y;m({orderNumber:q.order_number,clientName:q.client.name,outstandingBalance:q.outstanding_balance})}catch(H){console.error("Error fetching order details:",H),u({type:"error",title:"Error",message:"Failed to load order details"})}finally{w(!1)}}})()},[e,t,r,n,c,u,N]);const A=M=>{const H=parseFloat(M);return isNaN(H)||H<=0?(P("Please enter a valid payment amount"),!1):H>p.outstandingBalance?(P(`Amount cannot exceed outstanding balance of ${o}${p.outstandingBalance.toFixed(2)}`),!1):(P(""),!0)},j=M=>{const H=M.target.value;x(H),A(H)},F=async M=>{if(M.preventDefault(),!g||!v){u({type:"error",title:"Error",message:"Please fill in all required fields"});return}T(!0);try{const{data:{user:H},error:q}=await We.auth.getUser();if(q)throw q;if(!H)throw new Error("User not authenticated");const{error:Y}=await We.rpc("record_payment",{p_organization_id:d==null?void 0:d.id,p_order_id:e,p_amount:parseFloat(g),p_payment_method:v,p_payment_reference:y||null,p_recorded_by:H.id});if(Y)throw Y;u({type:"success",title:"Success",message:"Payment recorded successfully"}),x(""),b(""),C(""),s&&s(),a()}catch(H){u({type:"error",title:"Error",message:H.message||"Failed to record payment"})}finally{T(!1)}};return i?N?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50",children:l.jsx("div",{className:"flex items-center justify-center min-h-screen px-4",children:l.jsx("div",{className:`${h(f,"modal","background")} rounded-lg shadow-xl w-full max-w-md p-6`,children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})})}):l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50",children:l.jsx("div",{className:"flex items-center justify-center min-h-screen px-4",children:l.jsxs("div",{className:`${h(f,"modal","background")} rounded-lg shadow-xl w-full max-w-md`,children:[l.jsxs("div",{className:`flex items-center justify-between px-6 py-4 border-b ${h(f,"border","primary")}`,children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Yc,{className:`h-6 w-6 mr-3 ${h(f,"text","accent")}`}),l.jsx("h3",{className:`text-lg font-medium ${h(f,"text","primary")}`,children:"Record Payment"})]}),l.jsx("button",{onClick:s,className:`${h(f,"text","secondary")} hover:${h(f,"interactive","hover","text")}`,children:l.jsx(cr,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:`${h(f,"background","secondary")} p-4 mx-4 mt-2 rounded-lg`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:`text-sm ${h(f,"text","secondary")} font-medium`,children:"Order Number"}),l.jsx("span",{className:`text-sm font-medium ${h(f,"text","primary")}`,children:p.orderNumber})]}),l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:`text-sm ${h(f,"text","secondary")} font-medium`,children:"Client"}),l.jsx("span",{className:`text-sm font-medium ${h(f,"text","primary")}`,children:p.clientName})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-red-600 font-medium",children:"Outstanding Balance"}),l.jsxs("span",{className:"text-sm font-medium text-red-600",children:[o," ",p.outstandingBalance.toFixed(2)]})]})]}),l.jsxs("form",{onSubmit:F,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${h(f,"text","primary")} mb-1`,children:"Amount*"}),l.jsxs("div",{className:"relative rounded-md",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx("span",{className:h(f,"text","secondary"),children:o})}),l.jsx("input",{type:"number",step:"0.01",value:g,onChange:j,className:`block w-full pl-7 pr-12 sm:text-sm ${h(f,"background","secondary")}   ${h(f,"border","primary")} rounded-md h-[35px] shadow-md ${_?"border-red-500":""}`,placeholder:"0.00",required:!0})]}),_&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:_})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${h(f,"text","primary")} mb-1`,children:"Payment Method*"}),l.jsxs("select",{value:v,onChange:M=>b(M.target.value),className:`block w-full px-3 py-2 text-base ${h(f,"background","secondary")} ${h(f,"border","primary")} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md`,required:!0,children:[l.jsx("option",{value:"",children:"Select a payment method"}),Object.entries(_3).map(([M,H])=>l.jsx("option",{value:M,children:H},M))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${h(f,"text","primary")} mb-1`,children:"Payment Reference"}),l.jsx("input",{type:"text",value:y,onChange:M=>C(M.target.value),className:`block w-full sm:text-sm ${h(f,"background","secondary")} ${h(f,"border","primary")} rounded-md h-[35px] shadow-md pl-2`,placeholder:"e.g., Check number, Transaction ID"})]}),l.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:s,className:`px-4 py-2 text-sm font-medium ${h(f,"text","primary")} hover:${h(f,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-md`,children:"Cancel"}),l.jsx("button",{type:"submit",disabled:S||!!_||!g||!v,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-md disabled:opacity-50",children:"Record Payment"})]})]})]})})}):null};function qV({isOpen:e,onClose:t,onConfirm:r}){const[n,a]=L.useState(""),[i,s]=L.useState(!1);if(!e)return null;const o=c=>{c.preventDefault(),n.trim()&&(r(n,i),a(""),s(!1))};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Cancel Order"}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:l.jsx(cr,{className:"h-5 w-5"})})]}),l.jsxs("form",{onSubmit:o,className:"p-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cancellation Reason"}),l.jsx("textarea",{id:"reason",value:n,onChange:c=>a(c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",rows:4,placeholder:"Please provide a reason for cancelling this order...",required:!0})]}),l.jsx("div",{className:"mb-4",children:l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:i,onChange:c=>s(c.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Also cancel all worker tasks associated with this order"})]})}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:!n.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm Cancellation"})]})]})]})})}const HV=(e,t,r,n,a,i,s,o,c)=>`
  <!DOCTYPE html>
  <html>
    <head>
      <title>Receipt</title>
      <style>
        @page {
          size: 57mm auto;
          margin: 8px;
        }
        body {
          width: 57mm;
          margin: 0;
          padding: 0;
          font-family: Arial, sans-serif;
        }
        .receipt {
          width: 57mm;
          padding: 8px;
          background: white;
        }
        .header {
          text-align: center;
          margin-bottom: 4mm;
        }
        .title {
          font-size: 18px;
          font-weight: bold;
          margin-bottom: 1mm;
        }
        .subtitle {
          font-size: 12px;
          font-weight: bold;
          margin-bottom: 2mm;
        }
        .text {
          font-size: 12px;
          margin: 1mm 0;
        }
        .text-small {
          font-size: 10px;
        }
        .flex {
          display: flex;
          justify-content: space-between;
        }
        .border-top {
          border-top: 1px solid #000;
          padding-top: 2mm;
          margin-top: 2mm;
        }
        .section {
          margin-bottom: 3mm;
        }
        .section-title {
          font-weight: bold;
          margin-bottom: 1mm;
        }
        .item-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 1mm;
        }
        .item-details {
          flex: 1;
        }
        .item-quantity {
          font-size: 10px;
          color: #666;
        }
        .payment-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 1mm;
        }
        .payment-details {
          flex: 1;
        }
        .payment-date {
          font-size: 12px;
        }
        .payment-method {
          font-size: 10px;
          color: #666;
        }
        .footer {
          text-align: center;
          margin-top: 6mm;
        }
      </style>
    </head>
    <body>
      <div class="receipt">
        <div class="header">
          <div class="title">${e}</div>
          ${t?`<div class="text">${t}</div>`:""}
          <div class="subtitle">SERVICE RECEIPT</div>
        </div>
        
        <div class="section">
          <div class="section-title">Order For:</div>
          <div class="text">${n.name}</div>
          ${n.phone?`<div class="text">${n.phone}</div>`:""}
        </div>

        <div class="section">
          <div class="section-title">Order Date:</div>
          <div class="text">${St(new Date(a.created_at),"dd/MM/yyyy HH:mm")}</div>
        </div>

        <div class="section">
          <div class="section-title">Order Number:</div>
          <div class="text">${a.order_number}</div>
        </div>

        <div class="section">
          <div class="section-title">Services:</div>
          ${i.map(({service:u,quantity:d})=>`
            <div class="item-row">
              <div class="item-details">
                <div>${u.name}</div>
                <div class="item-quantity">x${d}</div>
              </div>
              <div>${o}${u.cost.toFixed(2)}</div>
            </div>
          `).join("")}
        </div>

        <div class="border-top">
          <div class="flex">
            <div class="section-title">Total Amount:</div>
            <div class="section-title">${o}${c.toFixed(2)}</div>
          </div>
        </div>

        ${s.length>0?`
          <div class="section">
            <div class="section-title">Payments:</div>
            ${s.map(u=>`
              <div class="payment-row">
                <div class="payment-details">
                  <div class="payment-date">${St(new Date(u.created_at),"dd/MM/yyyy")}</div>
                  <div class="payment-method">${u.payment_method.charAt(0).toUpperCase()+u.payment_method.slice(1).replace("_"," ")}</div>
                </div>
                <div>${o}${u.amount.toFixed(2)}</div>
              </div>
            `).join("")}
          </div>
        `:""}
        
        ${a.outstanding_balance>0?`
          <div class="border-top">
            <div class="flex">
              <div class="section-title">Outstanding Balance:</div>
              <div class="section-title">${o}${a.outstanding_balance.toFixed(2)}</div>
            </div>
          </div>
        `:""}

        <div class="footer">
          <div class="text">Thank you for doing business with us</div>
        </div>

        <div class="footer">
          <div class="text-small">Contact Us: ${r||"N/A"}</div>
        </div>
      </div>
    </body>
  </html>
`;function k3({orderId:e,onClose:t}){var S;const[r,n]=L.useState(!0),[a,i]=L.useState(null),[s,o]=L.useState(null),[c,u]=L.useState([]),[d,f]=L.useState([]),[h,p]=L.useState([]),{organization:m}=Zt(),{addToast:g}=Tr(),{theme:x,getThemeStyle:v}=Ht(),b=m!=null&&m.currency?((S=tn[m.currency])==null?void 0:S.symbol)||m.currency:tn.USD.symbol;L.useEffect(()=>{(async()=>{var N;try{const{data:w,error:_}=await We.from("orders").select(`
                        *,
                        client:clients(name, phone),
                        workers:order_workers(
                            id,
                            worker_id,
                            status,
                            worker:workers(name),
                            worker_project:worker_projects(name, price)
                        ),
                        services:order_services(
                            id,
                            service_id,
                            quantity,
                            cost,
                            service:services(name)
                        ),
                        custom_fields:order_custom_fields(
                            id,
                            field:client_custom_fields(title, value, type)
                        )
                    `).eq("id",e).single();if(_)throw _;const{data:P,error:A}=await We.from("payments").select("*").eq("reference_type","service_order").eq("reference_id",w.id).not("status","eq","cancelled");if(A)throw A;const j={id:w.client_id,name:w.client.name,phone:w.client.phone,custom_fields:(N=w.custom_fields)==null?void 0:N.map(H=>({id:H.id,title:H.field.title,value:H.field.value,type:H.field.type}))},F=w.services.map(H=>({service:{id:H.service_id,name:H.service.name,cost:H.cost},quantity:H.quantity})),M=w.workers.map(H=>({worker:{id:H.worker_id,name:H.worker.name},workerProject:{id:H.worker_project_id,name:H.worker_project.name,price:H.worker_project.price}}));i(w),o(j),u(F),f(M),p(P||[])}catch(w){console.error("Error fetching order data:",w),g({type:"error",title:"Error",message:"Failed to load order details"})}finally{n(!1)}})()},[e,g]);const y=c.reduce((T,{service:N})=>T+N.cost,0),C=L.useCallback(()=>{if(!s||!a)return;const T=window.open("","_blank");T&&(T.document.write(HV((m==null?void 0:m.name)||"",m==null?void 0:m.address,m==null?void 0:m.phone,s,a,c,h,b,y)),T.document.close(),T.focus(),T.print(),T.close())},[m,s,a,c,h,b,y]);return r?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):!a||!s?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-500",children:"Order not found."})}):l.jsx("div",{className:`rounded-lg shadow-xl max-w-[57mm] w-full mx-auto overflow-y-auto max-h-[90vh] border ${v(x,"border","primary")} ${v(x,"background","primary")}`,children:l.jsxs("div",{className:"px-4 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("button",{onClick:C,className:`inline-flex items-center px-3 py-1.5 border ${v(x,"border","primary")} rounded-md shadow-sm text-sm font-medium ${v(x,"text","secondary")} ${v(x,"background","primary")} ${v(x,"interactive","hover","background")}`,children:[l.jsx(_g,{className:"h-4 w-4 mr-2"}),"Print"]}),l.jsx("button",{onClick:t,className:`p-2 ${v(x,"text","muted")} ${v(x,"interactive","hover","text")} ${v(x,"interactive","hover","background")} rounded-full transition-colors duration-200`,children:l.jsx(cr,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"receipt-content",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("h1",{className:`text-[18px] font-bold ${v(x,"text","primary")}`,children:m==null?void 0:m.name}),(m==null?void 0:m.address)&&l.jsx("p",{className:`text-[12px] mb-2 ${v(x,"text","secondary")}`,children:m.address}),l.jsx("h2",{className:`text-[12px] font-bold ${v(x,"text","primary")}`,children:"SERVICE RECEIPT"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-[12px] font-bold ${v(x,"text","primary")}`,children:"Order For:"}),l.jsxs("div",{className:"pl-2",children:[l.jsx("p",{className:`text-[12px] ${v(x,"text","secondary")}`,children:s.name}),s.phone&&l.jsx("p",{className:`text-[12px] ${v(x,"text","secondary")}`,children:s.phone})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:`text-[12px] font-bold ${v(x,"text","primary")}`,children:"Order Date:"}),l.jsx("p",{className:`text-[12px] pl-2 ${v(x,"text","secondary")}`,children:St(new Date(a.created_at),"dd/MM/yyyy HH:mm")})]}),l.jsxs("div",{children:[l.jsx("p",{className:`text-[12px] font-bold ${v(x,"text","primary")}`,children:"Order Number:"}),l.jsx("p",{className:`text-[12px] pl-2 ${v(x,"text","secondary")}`,children:a.order_number})]}),l.jsxs("div",{children:[l.jsx("p",{className:`text-[12px] font-bold mb-2 ${v(x,"text","primary")}`,children:"Services:"}),l.jsx("div",{className:"space-y-1",children:c.map(({service:T,quantity:N})=>l.jsxs("div",{className:"flex justify-between pl-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-[12px] ${v(x,"text","secondary")}`,children:T.name}),l.jsxs("p",{className:`text-[10px] ${v(x,"text","muted")}`,children:["x",N]})]}),l.jsxs("p",{className:`text-[12px] ${v(x,"text","secondary")}`,children:[b," ",T.cost.toFixed(2)]})]},T.id))})]}),l.jsxs("div",{className:`border-t ${v(x,"border","primary")} pt-2`,children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("p",{className:`text-[12px] font-bold ${v(x,"text","primary")}`,children:"Total Amount:"}),l.jsxs("p",{className:`text-[12px] font-bold ${v(x,"text","primary")}`,children:[b," ",y.toFixed(2)]})]}),h.length>0&&l.jsxs("div",{className:"mt-2",children:[l.jsx("p",{className:`text-[12px] font-bold ${v(x,"text","primary")}`,children:"Payments:"}),l.jsx("div",{className:"space-y-1",children:h.map(T=>l.jsxs("div",{className:"flex justify-between pl-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-[12px] ${v(x,"text","secondary")}`,children:St(new Date(T.created_at),"dd/MM/yyyy")}),l.jsx("p",{className:`text-[10px] ${v(x,"text","muted")}`,children:T.payment_method.charAt(0).toUpperCase()+T.payment_method.slice(1).replace("_"," ")})]}),l.jsxs("p",{className:`text-[12px] ${v(x,"text","secondary")}`,children:[b," ",T.amount.toFixed(2)]})]},T.id))})]}),a.outstanding_balance>0&&l.jsxs("div",{className:`flex justify-between border-t ${v(x,"border","primary")} pt-1 mt-2`,children:[l.jsx("p",{className:`text-[12px] font-bold ${v(x,"text","primary")}`,children:"Outstanding Bal:"}),l.jsxs("p",{className:`text-[12px] font-bold ${v(x,"text","primary")}`,children:[b," ",a.outstanding_balance.toFixed(2)]})]})]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("p",{className:`text-[12px] ${v(x,"text","secondary")}`,children:"Thank you for doing business with us"})}),l.jsx("div",{className:"mt-2 text-center",children:l.jsxs("p",{className:`text-[10px] ${v(x,"text","muted")}`,children:["Contact Us: ",(m==null?void 0:m.phone)||"N/A"]})})]})]})})}function zV({isOpen:e,onClose:t,onAddWorkers:r,existingWorkerIds:n}){const[a,i]=L.useState([]),[s,o]=L.useState({}),[c,u]=L.useState([]),[d,f]=L.useState(""),[h,p]=L.useState(!1),[m,g]=L.useState(null),{organization:x}=Zt(),{addToast:v}=Tr(),{getThemeStyle:b,theme:y}=Ht();L.useEffect(()=>{e&&C()},[e]);const C=async()=>{try{const{data:w,error:_}=await We.from("workers").select("*").eq("organization_id",x==null?void 0:x.id).eq("status","active").not("id","in",`(${n.join(",")})`);if(_)throw _;i(w||[])}catch(w){console.error("Error loading workers:",w),v({type:"error",title:"Error",message:"Failed to load workers"})}},S=async w=>{try{const{data:_,error:P}=await We.from("worker_projects").select("*").eq("worker_id",w).eq("status","active");if(P)throw P;o(A=>({...A,[w]:_||[]}))}catch(_){console.error("Error loading worker projects:",_),v({type:"error",title:"Error",message:"Failed to load worker projects"})}},T=(w,_)=>{const P=[...c];P[_]={...P[_],worker_id:w.id,project_id:""},u(P),f(""),p(!1),g(null),S(w.id)},N=a.filter(w=>w.name.toLowerCase().includes(d.toLowerCase()));return e?l.jsx("div",{className:`fixed inset-0 ${b(y,"modal","overlay")} flex items-center justify-center z-50 p-4`,children:l.jsxs("div",{className:`${b(y,"modal","background")} rounded-lg p-6 max-w-md w-full mx-4`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:`text-base font-medium ${b(y,"text","primary")}`,children:"Add Workers"}),l.jsx("button",{onClick:t,className:`${b(y,"text","accent")} hover:${b(y,"text","muted")}`,children:l.jsx(cr,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"button",onClick:()=>u([...c,{worker_id:"",project_id:""}]),className:`inline-flex items-center px-2 py-1 border ${b(y,"border","primary")} rounded-md text-xs font-medium ${b(y,"text","primary")} ${b(y,"background","secondary")} hover:${b(y,"background","accent")}`,children:[l.jsx(Hn,{className:"h-3 w-3 mr-1"}),"Add Worker"]})}),c.map((w,_)=>{var P,A;return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("input",{type:"text",value:w.worker_id?((P=a.find(j=>j.id===w.worker_id))==null?void 0:P.name)||"":d,onChange:j=>{if(w.worker_id){const F=[...c];F[_]={...F[_],worker_id:"",project_id:""},u(F)}f(j.target.value),p(!0),g(_)},onFocus:()=>{w.worker_id||(p(!0),g(_))},placeholder:"Search for a worker",className:`block w-full px-2 py-1.5 text-xs border ${b(y,"border","primary")} rounded-md ${b(y,"background","secondary")} ${b(y,"text","primary")}`}),w.worker_id&&l.jsx("button",{type:"button",onClick:()=>{const j=[...c];j[_]={...j[_],worker_id:"",project_id:""},u(j)},className:"absolute right-8 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l.jsx(cr,{className:"h-3.5 w-3.5"})}),l.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none",children:l.jsx(kl,{className:"h-3.5 w-3.5 text-gray-400"})}),h&&m===_&&N.length>0&&l.jsx("div",{className:`absolute z-10 mt-1 w-full rounded-md shadow-lg ${b(y,"background","secondary")} border ${b(y,"border","primary")} max-h-60 overflow-auto`,children:N.map(j=>l.jsx("div",{onClick:()=>T(j,_),className:`px-2.5 py-1.5 text-xs cursor-pointer ${b(y,"text","primary")} hover:bg-blue-50 hover:text-blue-700`,children:j.name},j.id))})]}),l.jsx("div",{className:"flex-1",children:l.jsxs("select",{value:w.project_id||"",onChange:j=>{const F=[...c];F[_].project_id=j.target.value,u(F)},disabled:!w.worker_id,className:`block w-full px-2 py-1.5 text-xs border ${b(y,"border","primary")} rounded-md ${b(y,"background","secondary")} ${b(y,"text","primary")} disabled:opacity-60`,children:[l.jsx("option",{value:"",children:"Select Project"}),w.worker_id&&((A=s[w.worker_id])==null?void 0:A.map(j=>l.jsx("option",{value:j.id,children:j.name},j.id)))]})}),l.jsx("button",{type:"button",onClick:()=>{const j=c.filter((F,M)=>M!==_);u(j)},className:`p-1 ${b(y,"text","muted")} hover:text-red-500 rounded-full`,children:l.jsx(cr,{className:"h-4 w-4"})})]},_)})]}),l.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[l.jsx("button",{onClick:t,className:`px-4 py-2 text-xs font-medium ${b(y,"text","secondary")} ${b(y,"background","primary")} border ${b(y,"border","primary")} rounded-md ${b(y,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:"Cancel"}),l.jsx("button",{onClick:()=>{const w=c.filter(_=>_.worker_id&&_.project_id);w.length>0&&r(w)},disabled:!c.some(w=>w.worker_id&&w.project_id),className:"px-4 py-2 text-xs font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Workers"})]})]})}):null}const vA={pending:"Pending",in_progress:"In Progress",completed:"Completed",delayed:"Delayed",cancelled:"Cancelled"},yA={pending:"Pending",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled",closed:"Closed"},YV={pending:"bg-yellow-100 text-yellow-800 border-yellow-200",in_progress:"bg-blue-100 text-blue-800 border-blue-200",completed:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200",closed:"bg-gray-100 text-gray-800 border-gray-200"},VV={pending:Ac,in_progress:Co,completed:vr,cancelled:Di,closed:vr};function GV(){var E,R,U,z;const{id:e}=F1(),[t,r]=L.useState(null),[n,a]=L.useState(!0),[i,s]=L.useState(!1),[o,c]=L.useState(!1),[u,d]=L.useState(null),[f,h]=L.useState(""),[p,m]=L.useState(!1),[g,x]=L.useState(!1),[v,b]=L.useState(!1),[y,C]=L.useState(!1),[S,T]=L.useState(null),[N,w]=L.useState(""),{organization:_}=Zt(),{addToast:P}=Tr(),{getThemeStyle:A,theme:j}=Ht(),F=_!=null&&_.currency?((E=tn[_.currency])==null?void 0:E.symbol)||_.currency:tn.USD.symbol;L.useEffect(()=>{e&&M()},[e]);const M=async()=>{try{const{data:G,error:ae}=await We.from("orders").select(`
          *,
          client:clients(name),
          workers:order_workers(
            id,
            worker_id,
            status,
            worker:workers(name),
            project:worker_projects(
              id,
              name,
              price
            )
          ),
          services:order_services(
            id,
            service_id,
            quantity,
            cost,
            service:services(name)
          ),
          custom_fields:order_custom_fields(
            id,
            field:client_custom_fields(title, value)
          )
        `).eq("id",e).single(),{data:ee,error:W}=await We.from("payments").select("*").eq("reference_type","service_order").eq("reference_id",e),{data:Z,error:re}=await We.from("tasks").select(`
          *,
          project:worker_projects(
            id,
            name,
            price
          ),
          worker:workers(name)
        `).eq("order_id",e);if(ae)throw ae;if(re)throw re;r({...G,payments:ee||[],tasks:Z||[]})}catch(G){console.error("Error loading order:",G),P({type:"error",title:"Error",message:"Failed to load order details"})}finally{a(!1)}},H=async G=>{if(t){if(G==="closed"&&t.payment_status!=="paid"){P({type:"error",title:"Cannot Close Order",message:"Order must be fully paid before it can be closed"});return}try{const{error:ae}=await We.from("orders").update({status:G}).eq("id",t.id);if(ae)throw ae;r(ee=>ee?{...ee,status:G}:null),P({type:"success",title:"Status Updated",message:`Order status updated to ${yA[G]}`})}catch(ae){console.error("Error updating status:",ae),P({type:"error",title:"Error",message:"Failed to update order status"})}}},q=async(G,ae)=>{if(t)try{const{error:ee}=await We.from("orders").update({status:"cancelled",cancellation_reason:G,cancelled_at:new Date().toISOString(),cancelled_by:(_==null?void 0:_.id)||null}).eq("id",t.id);if(ee)throw ee;if(ae){const{error:Z}=await We.from("tasks").update({status:"cancelled"}).eq("order_id",t.id);if(Z)throw Z}const{error:W}=await We.from("payments").update({status:"cancelled"}).eq("reference_type","service_order").eq("reference_id",t.id);if(W)throw W;await M(),P({type:"success",title:"Order Cancelled",message:"The order and all associated worker tasks and payments have been cancelled successfully."}),s(!1)}catch(ee){console.error("Error cancelling order:",ee),P({type:"error",title:"Error",message:"Failed to cancel the order"})}},Y=async(G,ae,ee)=>{try{const W={status:ae,status_changed_at:new Date().toISOString()};ae==="completed"?W.completed_at=new Date().toISOString():ae==="delayed"&&ee&&(W.delay_reason=ee);const{error:Z}=await We.from("tasks").update(W).eq("id",G);if(Z)throw Z;M(),P({type:"success",title:"Status Updated",message:`Task status updated to ${vA[ae]}`})}catch(W){console.error("Error updating task status:",W),P({type:"error",title:"Error",message:"Failed to update task status"})}},X=(G,ae)=>{ae==="delayed"?(d(G),c(!0)):Y(G.id,ae)},I=()=>{u&&f.trim()&&(Y(u.id,"delayed",f.trim()),c(!1),h(""),d(null))},J=async G=>{if(t)try{const{error:ae}=await We.from("order_workers").insert(G.map(ee=>({order_id:t.id,worker_id:ee.worker_id,project_id:ee.project_id,status:"assigned"})));if(ae)throw ae;await M(),P({type:"success",title:"Workers Added",message:"Workers have been successfully added to the order"}),b(!1)}catch(ae){console.error("Error adding workers:",ae),P({type:"error",title:"Error",message:"Failed to add workers to the order"})}},Q=async(G,ae)=>{try{const{error:ee}=await We.from("payments").update({status:"cancelled",cancelled_at:new Date().toISOString(),cancelled_by:(_==null?void 0:_.id)||null,cancellation_reason:ae}).eq("id",G);if(ee)throw ee;const{data:W,error:Z}=await We.from("payments").select("amount").eq("id",G).single();if(Z)throw Z;const{error:re}=await We.from("orders").update({outstanding_balance:t.outstanding_balance+W.amount}).eq("id",t.id);if(re)throw re;await M(),P({type:"success",title:"Payment Cancelled",message:"The payment has been cancelled successfully and the outstanding balance has been updated."}),C(!1),T(null),w("")}catch(ee){console.error("Error cancelling payment:",ee),P({type:"error",title:"Error",message:"Failed to cancel the payment"})}};return n?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t?(VV[t.status],l.jsxs("div",{className:`p-4 ${A(j,"background","primary")} min-h-screen`,children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Rr,{to:"/dashboard/orders",className:`${A(j,"text","muted")} hover:${A(j,"text","secondary")}`,children:l.jsx(Gu,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsxs("h2",{className:`text-xl font-bold ${t.status==="cancelled"?"text-gray-400 line-through":A(j,"text","primary")}`,children:["Order ",t.order_number]}),l.jsxs("p",{className:`text-xs ${A(j,"text","muted")} mt-1`,children:["Created on ",St(new Date(t.created_at),"MMM d, yyyy HH:mm")]})]})]}),l.jsx("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full sm:w-auto",children:l.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[l.jsxs("button",{onClick:()=>m(!0),className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-1.5 border ${A(j,"border","primary")} rounded-md shadow-sm text-xs font-medium ${A(j,"text","secondary")} ${A(j,"background","primary")} ${A(j,"interactive","hover","background")}`,children:[l.jsx(_g,{className:"h-4 w-4 mr-2"}),"Print Receipt"]}),t.status!=="cancelled"&&l.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[l.jsxs("select",{value:t.status,onChange:G=>H(G.target.value),className:`w-full appearance-none ${A(j,"background","primary")} border ${A(j,"border","primary")} rounded-lg py-2 pl-3 pr-10 text-xs focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,children:[l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"in_progress",children:"In Progress"}),l.jsx("option",{value:"completed",children:"Completed"}),t.payment_status==="paid"&&l.jsx("option",{value:"closed",children:"Closed"}),l.jsx("option",{value:"cancelled",children:"Cancelled"})]}),l.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500",children:l.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]})})]}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[l.jsxs("div",{className:`${A(j,"background","primary")} shadow-sm rounded-lg overflow-hidden ${t.status==="cancelled"?"opacity-75":""}`,children:[l.jsxs("div",{className:`px-3 py-2 border-b ${A(j,"border","primary")} flex items-center justify-between`,children:[l.jsx("h3",{className:`text-sm font-medium ${A(j,"text","primary")}`,children:"Order Details"}),l.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${YV[t.status]}`,children:yA[t.status]})]}),l.jsxs("div",{className:"p-3 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Qf,{className:`h-4 w-4 ${A(j,"text","accent")}`}),l.jsx("span",{className:`text-xs font-medium ${t.status==="cancelled"?"line-through text-gray-400":A(j,"text","primary")}`,children:t.client.name})]}),t.due_date&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ul,{className:`h-4 w-4 ${A(j,"text","accent")}`}),l.jsxs("span",{className:`text-xs ${t.status==="cancelled"?"line-through text-gray-400":A(j,"text","muted")}`,children:["Due: ",St(new Date(t.due_date),"MMM d, yyyy")]})]})]}),t.description&&l.jsx("div",{className:"text-xs text-gray-600 border-l-2 border-gray-200 pl-2",children:t.description}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:`text-sm mt-8 font-medium ${A(j,"text","primary")}`,children:"Services"}),l.jsx("div",{className:"space-y-1",children:t.services.map(G=>l.jsxs("div",{className:`flex items-center justify-between p-2 ${A(j,"background","secondary")} rounded ${t.status==="cancelled"?"line-through text-gray-400":""}`,children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ca,{className:`h-4 w-4 ${A(j,"text","accent")}`}),l.jsxs("div",{children:[l.jsx("p",{className:`text-xs font-medium ${A(j,"text","primary")}`,children:G.service.name}),l.jsxs("p",{className:`text-xs ${A(j,"text","muted")}`,children:["Qty: ",G.quantity]})]})]}),l.jsxs("div",{className:`text-xs font-medium ${A(j,"text","primary")}`,children:[F," ",G.cost.toFixed(2)]})]},G.id))}),l.jsxs("div",{className:`pt-2 border-t ${A(j,"border","primary")} flex justify-between text-xs`,children:[l.jsx("span",{className:`font-medium ${A(j,"text","primary")}`,children:"Total Amount"}),l.jsxs("span",{className:`font-bold ${t.status==="cancelled"?"line-through text-gray-400":A(j,"text","primary")}`,children:[F," ",t.total_amount.toFixed(2)]})]})]})]})]}),((R=t.custom_fields)==null?void 0:R.length)>0&&l.jsxs("div",{className:`${A(j,"background","primary")} shadow-sm rounded-lg overflow-hidden`,children:[l.jsx("div",{className:`px-3 py-2 border-b ${A(j,"border","primary")}`,children:l.jsx("h3",{className:`text-sm font-medium ${A(j,"text","primary")}`,children:"Custom Information"})}),l.jsx("div",{className:"p-3",children:l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:t.custom_fields.map(G=>l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(pd,{className:`h-4 w-4 mt-0.5 ${A(j,"text","accent")}`}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:`text-xs font-medium ${A(j,"text","primary")}`,children:G.field.title}),l.jsx("p",{className:`text-xs ${A(j,"text","muted")}`,children:G.field.value})]})]},G.id))})})]}),l.jsxs("div",{className:`${A(j,"background","primary")} shadow-sm rounded-lg overflow-hidden`,children:[l.jsxs("div",{className:`px-3 py-2 border-b ${A(j,"border","primary")} flex items-center justify-between`,children:[l.jsx("h3",{className:`text-sm font-medium ${A(j,"text","primary")}`,children:"Assigned Workers"}),t.status!=="cancelled"&&l.jsxs("button",{onClick:()=>b(!0),className:`inline-flex items-center px-2 py-1 border ${A(j,"border","primary")} rounded-md text-xs font-medium ${A(j,"text","primary")} ${A(j,"background","secondary")} hover:${A(j,"background","accent")}`,children:[l.jsx(Hn,{className:"h-3 w-3 mr-1"}),"Add Workers"]})]}),l.jsx("div",{className:"p-3",children:(U=t.workers)!=null&&U.length?l.jsx("div",{className:"space-y-3",children:t.workers.map(G=>{var W;const ae=G.worker_id,ee=((W=t.tasks)==null?void 0:W.filter(Z=>Z.worker_id===ae))||[];return l.jsxs("div",{className:`${A(j,"background","primary")} border-l-2 border-blue-500 pl-3`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"h-6 w-6 rounded-full bg-blue-100 flex items-center justify-center",children:l.jsx(Qf,{className:"h-3 w-3 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h4",{className:`text-xs font-medium ${A(j,"text","primary")}`,children:G.worker.name}),l.jsx("p",{className:`text-xs ${A(j,"text","muted")}`,children:G.project.name})]})]}),ae&&l.jsx(Rr,{to:`/dashboard/workers/${ae}`,className:`text-xs ${A(j,"text","accent")} hover:${A(j,"text","secondary")}`,children:"View Profile"})]}),G.task_description&&l.jsx("p",{className:`mt-1 text-xs ${A(j,"text","tertiary")} line-clamp-1`,children:G.task_description}),ee.length>0&&l.jsx("div",{className:"mt-2 space-y-1",children:ee.map(Z=>l.jsxs("div",{className:`${Z.status==="cancelled"?"opacity-75":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium
                                      ${Z.status==="completed"?"bg-green-100 text-green-800":Z.status==="in_progress"?"bg-blue-100 text-blue-800":Z.status==="delayed"?"bg-red-100 text-red-800":Z.status==="cancelled"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:vA[Z.status]}),l.jsx("span",{className:`text-xs ${Z.status==="cancelled"?"line-through text-gray-400":A(j,"text","muted")}`,children:St(new Date(Z.created_at),"MMM d")})]}),Z.status!=="cancelled"&&l.jsxs("select",{value:Z.status,onChange:re=>{const O=re.target.value;X(Z,O)},className:`text-xs appearance-none ${A(j,"background","primary")} border ${A(j,"border","primary")} rounded py-0.5 pl-1 pr-6 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500`,children:[l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"in_progress",children:"In Progress"}),l.jsx("option",{value:"delayed",children:"Delayed"}),l.jsx("option",{value:"completed",children:"Completed"})]})]}),Z.delay_reason&&l.jsxs("p",{className:"mt-0.5 text-xs text-red-600",children:["Delay: ",Z.delay_reason]}),Z.completed_at&&l.jsxs("p",{className:`mt-0.5 text-xs ${Z.status==="cancelled"?"line-through text-gray-400":A(j,"text","muted")}`,children:["Completed: ",St(new Date(Z.completed_at),"MMM d, HH:mm")]})]},Z.id))}),l.jsxs("div",{className:"mt-2 flex items-center gap-3 text-xs text-gray-500",children:[G.start_date&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(ul,{className:"h-3 w-3 mr-1"}),l.jsxs("span",{children:["Start: ",St(new Date(G.start_date),"MMM d")]})]}),G.end_date&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(ul,{className:"h-3 w-3 mr-1"}),l.jsxs("span",{children:["End: ",St(new Date(G.end_date),"MMM d")]})]})]})]},G.id)})}):l.jsx("p",{className:`text-xs ${A(j,"text","muted")}`,children:"No workers assigned"})})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:`${A(j,"background","primary")} shadow rounded-lg overflow-hidden ${t.status==="cancelled"?"opacity-75":""}`,children:[l.jsx("div",{className:`px-4 py-3 border-b ${A(j,"border","primary")}`,children:l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsxs("h3",{className:`text-sm font-medium ${A(j,"text","primary")} flex items-center`,children:[l.jsx(la,{className:`h-4 w-4 mr-2 ${A(j,"text","muted")}`}),"Payment Details"]}),l.jsx("span",{className:`w-fit inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium
                  ${(t==null?void 0:t.payment_status)==="paid"?"bg-green-100 text-green-800":(t==null?void 0:t.payment_status)==="partially_paid"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:(t==null?void 0:t.payment_status)==="paid"?"Paid":(t==null?void 0:t.payment_status)==="partially_paid"?"Partially Paid":"Unpaid"})]})}),l.jsxs("div",{className:"p-3 space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Total Amount"}),l.jsxs("p",{className:`text-sm font-bold ${t.status==="cancelled"?"line-through text-gray-400":"text-blue-900"}`,children:[F," ",t==null?void 0:t.total_amount.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Amount Paid"}),l.jsxs("p",{className:`text-sm font-bold ${t.status==="cancelled"?"line-through text-gray-400":"text-green-900"}`,children:[F," ",((t==null?void 0:t.total_amount)-((t==null?void 0:t.outstanding_balance)||0)).toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:"text-xs text-orange-600 font-medium",children:"Outstanding Balance"}),l.jsxs("p",{className:`text-sm font-bold ${t.status==="cancelled"?"line-through text-gray-400":"text-orange-900"}`,children:[F," ",((t==null?void 0:t.outstanding_balance)||0).toFixed(2)]})]})]}),l.jsxs("div",{className:"space-y-2",children:[t.payment_status!=="paid"&&t.status!=="cancelled"&&l.jsx(Zf,{orderId:t.id,orderType:"service_order",orderNumber:t.order_number,clientName:t.client.name,outstandingBalance:t.outstanding_balance,onPaymentRecorded:M}),t.status!=="cancelled"&&l.jsxs("button",{onClick:()=>x(!0),className:"w-full inline-flex items-center justify-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsx(la,{className:"h-4 w-4 mr-1"}),"Record Payment"]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:`text-xs font-medium ${A(j,"text","primary")} mb-2`,children:"Payment History"}),t!=null&&t.payments&&t.payments.length>0?l.jsx("div",{className:`divide-y ${A(j,"border","primary")} max-h-40 overflow-y-auto`,children:t.payments.map(G=>l.jsxs("div",{className:`py-2 flex flex-col space-y-1 ${G.status==="cancelled"?"opacity-75":""}`,children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("p",{className:`text-xs font-medium ${G.status==="cancelled"?"line-through text-gray-400":A(j,"text","primary")}`,children:[F," ",G.amount.toFixed(2)]}),G.status==="cancelled"&&l.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Cancelled"})]}),l.jsx("p",{className:`text-xs ${G.status==="cancelled"?"line-through text-gray-400":A(j,"text","muted")}`,children:St(new Date(G.created_at),"MMM d, yyyy HH:mm")})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("p",{className:`text-xs ${G.status==="cancelled"?"line-through text-gray-400":A(j,"text","muted")} truncate`,children:[G.payment_method,"  ",G.payment_reference]}),G.status!=="cancelled"&&l.jsx("button",{onClick:()=>{T(G),C(!0)},className:"text-xs text-red-600 hover:text-red-800",children:"Cancel"})]}),G.status==="cancelled"&&G.cancellation_reason&&l.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Reason: ",G.cancellation_reason]})]},G.id))}):l.jsx("p",{className:`text-xs ${A(j,"text","muted")} italic`,children:"No payments recorded yet"})]})]})]}),t.status!=="cancelled"&&l.jsxs("div",{className:`${A(j,"background","primary")} shadow rounded-lg overflow-hidden`,children:[l.jsx("div",{className:`px-4 py-5 sm:px-6 border-b ${A(j,"border","primary")}`,children:l.jsx("h3",{className:`text-base font-medium ${A(j,"text","primary")}`,children:"Danger Zone"})}),l.jsx("div",{className:"px-4 py-5 sm:p-6",children:l.jsx("button",{onClick:()=>s(!0),className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Cancel Order"})})]})]})]}),p&&l.jsx("div",{className:`fixed inset-0 ${A(j,"modal","overlay")} flex items-center justify-center z-50 p-4`,children:l.jsx("div",{className:"relative w-full max-w-2xl",children:l.jsx(k3,{orderId:t.id,onClose:()=>m(!1)})})}),g&&l.jsx(Zf,{orderId:t.id,outstandingBalance:t.outstanding_balance,onPaymentRecorded:()=>{M(),x(!1)},isOpen:g,onClose:()=>x(!1),currencySymbol:F}),l.jsx(qV,{isOpen:i,onClose:()=>s(!1),onConfirm:(G,ae)=>q(G,ae)}),o&&l.jsx("div",{className:`fixed inset-0 ${A(j,"modal","overlay")} flex items-center justify-center z-50 p-4`,children:l.jsxs("div",{className:`${A(j,"modal","background")} rounded-lg p-6 max-w-md w-full mx-4`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:`text-base font-medium ${A(j,"text","primary")}`,children:"Add Delay Reason"}),l.jsx("button",{onClick:()=>{c(!1),h(""),d(null)},className:`${A(j,"text","accent")} hover:${A(j,"text","muted")}`,children:l.jsx(cr,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"delay-reason",className:`block text-xs font-medium ${A(j,"text","secondary")} mb-1`,children:"Reason for Delay"}),l.jsx("textarea",{id:"delay-reason",value:f,onChange:G=>h(G.target.value),className:`w-full px-3 py-2 border ${A(j,"border","primary")} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs`,rows:3,placeholder:"Please provide a reason for the delay..."})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>{c(!1),h(""),d(null)},className:`px-4 py-2 text-xs font-medium ${A(j,"text","secondary")} ${A(j,"background","primary")} border ${A(j,"border","primary")} rounded-md ${A(j,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:"Cancel"}),l.jsx("button",{onClick:I,disabled:!f.trim(),className:"px-4 py-2 text-xs font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit"})]})]})}),v&&l.jsx(zV,{isOpen:v,onClose:()=>b(!1),onAddWorkers:J,existingWorkerIds:((z=t==null?void 0:t.workers)==null?void 0:z.map(G=>G.worker_id))||[]}),y&&S&&l.jsx("div",{className:`fixed inset-0 ${A(j,"modal","overlay")} flex items-center justify-center z-50 p-4`,children:l.jsxs("div",{className:`${A(j,"modal","background")} rounded-lg p-6 max-w-md w-full mx-4`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:`text-base font-medium ${A(j,"text","primary")}`,children:"Cancel Payment"}),l.jsx("button",{onClick:()=>{C(!1),T(null),w("")},className:`${A(j,"text","accent")} hover:${A(j,"text","muted")}`,children:l.jsx(cr,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"cancellation-reason",className:`block text-xs font-medium ${A(j,"text","secondary")} mb-1`,children:"Reason for Cancellation"}),l.jsx("textarea",{id:"cancellation-reason",value:N,onChange:G=>w(G.target.value),className:`w-full px-3 py-2 border ${A(j,"border","primary")} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs`,rows:3,placeholder:"Please provide a reason for cancelling this payment..."})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>{C(!1),T(null),w("")},className:`px-4 py-2 text-xs font-medium ${A(j,"text","secondary")} ${A(j,"background","primary")} border ${A(j,"border","primary")} rounded-md ${A(j,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:"Cancel"}),l.jsx("button",{onClick:()=>Q(S.id,N),disabled:!N.trim(),className:"px-4 py-2 text-xs font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm Cancellation"})]})]})})]})):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:`text-sm ${A(j,"text","muted")}`,children:"Order not found."}),l.jsxs(Rr,{to:"/dashboard/orders",className:"mt-4 inline-flex items-center text-blue-600 hover:text-blue-800 text-sm",children:[l.jsx(Gu,{className:"h-4 w-4 mr-2"}),"Back to Orders"]})]})}function p$({onClientSelect:e,onCustomFieldsSelect:t,selectedClient:r,selectedCustomFields:n=[],showAddNew:a=!0}){const[i,s]=L.useState([]),[o,c]=L.useState(""),[u,d]=L.useState(!1),[f,h]=L.useState(""),[p,m]=L.useState(!1),[g,x]=L.useState(!1),[v,b]=L.useState(!1),[y,C]=L.useState(!1),[S,T]=L.useState({name:"",email:"",phone:"",address:"",image_url:"",image_file:null,customFields:[{title:"",value:"",type:"text",file:null}]}),{organization:N}=Zt(),{getThemeStyle:w,theme:_}=Ht(),{addToast:P}=Tr();L.useEffect(()=>{N!=null&&N.id&&A()},[N]);const A=async(I="")=>{if(N!=null&&N.id){m(!0);try{const{data:J,error:Q}=await We.from("clients").select(`
          *,
          custom_fields:client_custom_fields(*)
        `).eq("organization_id",N.id).ilike("name",`%${I}%`).limit(50);if(Q)throw Q;s(J||[])}catch(J){console.error("Error loading clients:",J),P({type:"error",title:"Error",message:"Failed to load clients"})}finally{m(!1)}}},j=async()=>{var I,J;if(!(!(N!=null&&N.id)||!S.name.trim())){b(!0);try{let Q=null;if(S.image_file){C(!0);try{const z=(I=S.image_file.name.split(".").pop())==null?void 0:I.toLowerCase(),G=`${Math.random().toString(36).substring(2)}.${z}`,ae=`${N.id}/clients/temp/${G}`,{error:ee}=await We.storage.from("profiles").upload(ae,S.image_file,{cacheControl:"3600",upsert:!0});if(ee)throw ee;const{data:{publicUrl:W}}=We.storage.from("profiles").getPublicUrl(ae);Q=W}catch(z){console.error("Error uploading image:",z),P({type:"error",title:"Error",message:"Failed to upload client image"}),b(!1),C(!1);return}finally{C(!1)}}const{data:E,error:R}=await We.from("clients").insert([{organization_id:N.id,name:S.name.trim(),phone:S.phone.trim(),address:S.address.trim(),email:S.email.trim(),image_url:Q||null,status:"active"}]).select().single();if(R){if(R.code==="23505"){P({type:"error",title:"Duplicate Client",message:"A client with this name already exists. Please use a different name."});return}throw R}const U=S.customFields.filter(z=>z.title.trim()&&(z.type==="text"?z.value.trim():z.file));if(U.length>0)for(const z of U){let G=z.value;if(z.type==="file"&&z.file){const ee=(J=z.file.name.split(".").pop())==null?void 0:J.toLowerCase(),W=`${Math.random().toString(36).substring(2)}.${ee}`,Z=`${N.id}/clients/${E.id}/${W}`,{error:re}=await We.storage.from("profiles").upload(Z,z.file,{cacheControl:"3600",upsert:!1});if(re)throw re;const{data:{publicUrl:O}}=We.storage.from("profiles").getPublicUrl(Z);G=O}const{error:ae}=await We.from("client_custom_fields").insert({client_id:E.id,title:z.title.trim(),value:G,type:z.type});if(ae)throw ae}s(z=>[...z,E]),Y(E),x(!1),T({name:"",phone:"",address:"",email:"",image_url:"",image_file:null,customFields:[{title:"",value:"",type:"text",file:null}]}),P({type:"success",title:"Client Created",message:"New client has been created successfully."})}catch(Q){console.error("Error creating client:",Q),P({type:"error",title:"Error",message:"Failed to create client"})}finally{b(!1)}}},F=()=>{T(I=>({...I,customFields:[...I.customFields,{title:"",value:"",type:"text",file:null}]}))},M=I=>{T(J=>({...J,customFields:J.customFields.filter((Q,E)=>E!==I)}))},H=(I,J)=>{T(Q=>({...Q,customFields:Q.customFields.map((E,R)=>R===I?{...E,...J}:E)}))},q=I=>{const J=I.target.value;c(J),d(!0),A(J)},Y=I=>{var J;h(I.name),c(I.name),d(!1),e(I),t&&t(((J=I.custom_fields)==null?void 0:J.map(Q=>Q.id))||[])},X=()=>{e(null),h(""),c(""),d(!1),t&&t([])};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:`text-sm font-bold ${w(_,"text","primary")}`,children:"Select Client"}),a&&l.jsxs("button",{type:"button",onClick:()=>x(!0),className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1.5",children:[l.jsx(Hn,{className:"h-4 w-4"}),"Add New Client"]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:o,onChange:q,onFocus:()=>d(!0),placeholder:"Search for a client",className:`w-full rounded-lg border ${w(_,"border","primary")} ${w(_,"background","secondary")} px-3 py-2 text-sm ${w(_,"text","primary")} shadow-sm hover:border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`}),r&&l.jsx("button",{type:"button",onClick:X,className:"absolute right-10 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l.jsx(cr,{className:"h-4 w-4"})}),l.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:p?l.jsx(mi,{className:"h-4 w-4 text-gray-400 animate-spin"}):l.jsx(kl,{className:"h-4 w-4 text-gray-400"})}),u&&i.length>0&&l.jsx("div",{className:`absolute z-10 mt-1 w-full rounded-lg shadow-lg ${w(_,"background","secondary")} border ${w(_,"border","primary")} max-h-60 overflow-auto`,children:i.map(I=>l.jsx("div",{onClick:()=>Y(I),className:`px-3 py-2 text-sm cursor-pointer ${w(_,"text","primary")} hover:bg-blue-50 hover:text-blue-700 transition-colors`,children:I.name},I.id))})]}),r&&l.jsxs("div",{className:`text-sm ${w(_,"text","secondary")}`,children:["Selected: ",f]})]}),g&&l.jsxs("div",{className:"fixed inset-0 z-50",children:[l.jsx("div",{className:`absolute inset-0 ${w(_,"modal","overlay")} transition-opacity`}),l.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:l.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:l.jsxs("div",{className:`relative transform overflow-hidden rounded-lg ${w(_,"modal","background")} text-left shadow-xl transition-all sm:my-8 w-full max-w-[450px]`,children:[l.jsx("div",{className:`${w(_,"modal","background")} px-4 pb-4 pt-5 sm:p-6 sm:pb-4`,children:l.jsx("div",{className:"sm:flex sm:items-start",children:l.jsxs("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left w-full",children:[l.jsx("h3",{className:`text-lg font-semibold leading-6 ${w(_,"text","primary")}`,children:"Add New Client"}),l.jsxs("div",{className:"mt-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${w(_,"text","secondary")} mb-1.5`,children:"Name *"}),l.jsx("input",{type:"text",value:S.name,onChange:I=>T(J=>({...J,name:I.target.value})),className:`block w-full rounded-lg border ${w(_,"border","primary")} ${w(_,"background","secondary")} px-3 py-2 text-sm ${w(_,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"Enter client name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${w(_,"text","secondary")} mb-1.5`,children:"Email"}),l.jsx("input",{type:"email",value:S.email,onChange:I=>T(J=>({...J,email:I.target.value})),className:`block w-full rounded-lg border ${w(_,"border","primary")} ${w(_,"background","secondary")} px-3 py-2 text-sm ${w(_,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"Enter email address"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${w(_,"text","secondary")} mb-1.5`,children:"Phone"}),l.jsx("input",{type:"tel",value:S.phone,onChange:I=>T(J=>({...J,phone:I.target.value})),className:`block w-full rounded-lg border ${w(_,"border","primary")} ${w(_,"background","secondary")} px-3 py-2 text-sm ${w(_,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"Enter phone number"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${w(_,"text","secondary")} mb-1.5`,children:"Address"}),l.jsx("textarea",{value:S.address,onChange:I=>T(J=>({...J,address:I.target.value})),rows:2,className:`block w-full rounded-lg border ${w(_,"border","primary")} ${w(_,"background","secondary")} px-3 py-2 text-sm ${w(_,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"Enter address"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${w(_,"text","secondary")} mb-1.5`,children:"Profile Image"}),l.jsx("input",{type:"file",accept:"image/*",onChange:I=>{var Q;const J=(Q=I.target.files)==null?void 0:Q[0];J&&T(E=>({...E,image_file:J}))},className:`block w-full rounded-lg border ${w(_,"border","primary")} ${w(_,"background","secondary")} px-3 py-2 text-sm ${w(_,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:`text-sm font-medium ${w(_,"text","secondary")}`,children:"Custom Fields"}),l.jsxs("button",{type:"button",onClick:F,className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1.5",children:[l.jsx(Hn,{className:"h-4 w-4"}),"Add Field"]})]}),S.customFields.map((I,J)=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"text",value:I.title,onChange:Q=>H(J,{title:Q.target.value}),placeholder:"Field Title",className:`flex-1 rounded-lg border ${w(_,"border","primary")} ${w(_,"background","secondary")} px-3 py-2 text-sm ${w(_,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`}),l.jsxs("select",{value:I.type,onChange:Q=>H(J,{type:Q.target.value}),className:`rounded-lg border ${w(_,"border","primary")} ${w(_,"background","secondary")} px-3 py-2 text-sm ${w(_,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,children:[l.jsx("option",{value:"text",children:"Text"}),l.jsx("option",{value:"file",children:"File"})]}),l.jsx("button",{type:"button",onClick:()=>M(J),className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(gi,{className:"h-4 w-4"})})]}),I.type==="text"?l.jsx("input",{type:"text",value:I.value,onChange:Q=>H(J,{value:Q.target.value}),placeholder:"Field Value",className:`w-full rounded-lg border ${w(_,"border","primary")} ${w(_,"background","secondary")} px-3 py-2 text-sm ${w(_,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`}):l.jsx("input",{type:"file",onChange:Q=>{var R;const E=(R=Q.target.files)==null?void 0:R[0];E&&H(J,{file:E})},className:`w-full rounded-lg border ${w(_,"border","primary")} ${w(_,"background","secondary")} px-3 py-2 text-sm ${w(_,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`})]},J))]})]})]})})}),l.jsxs("div",{className:`${w(_,"background","secondary")} px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6`,children:[l.jsx("button",{type:"button",onClick:j,disabled:!S.name.trim()||v,className:"inline-flex w-full justify-center rounded-lg bg-blue-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 sm:ml-3 sm:w-auto disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:v?l.jsxs(l.Fragment,{children:[l.jsx(mi,{className:"animate-spin h-4 w-4 mr-2"}),"Creating..."]}):"Create Client"}),l.jsx("button",{type:"button",onClick:()=>x(!1),className:`mt-3 inline-flex w-full justify-center rounded-lg px-3 py-2 text-sm font-medium ${w(_,"text","primary")} shadow-sm ring-1 ring-inset ${w(_,"border","primary")} ${w(_,"interactive","hover","background")} sm:mt-0 sm:w-auto`,children:"Cancel"})]})]})})})]})]})}function m$({onClose:e,onSuccess:t}){var Oe;const[r,n]=L.useState([]),[a,i]=L.useState([]),[s,o]=L.useState([]),[c,u]=L.useState({}),[d,f]=L.useState(null),[h,p]=L.useState([]),[m,g]=L.useState([]),[x,v]=L.useState([]),[b,y]=L.useState(""),[C,S]=L.useState(!1),[T,N]=L.useState(!1),[w,_]=L.useState(!1),[P,A]=L.useState({description:"",due_date:"",initial_payment:null,payment_method:"",payment_reference:""}),[j,F]=L.useState(!1),[M,H]=L.useState(null),[q,Y]=L.useState(""),[X,I]=L.useState(!1),[J,Q]=L.useState(""),[E,R]=L.useState(""),[U,z]=L.useState(!1),[G,ae]=L.useState([]),[ee,W]=L.useState(null),[Z,re]=L.useState(""),[O,de]=L.useState(!1),{organization:ce}=Zt(),{addToast:pe}=Tr(),{theme:K,getThemeStyle:ne}=Ht(),Te=ce!=null&&ce.currency?((Oe=tn[ce.currency])==null?void 0:Oe.symbol)||ce.currency:tn.USD.symbol;L.useEffect(()=>{ce!=null&&ce.id&&Ee()},[ce]);const Ee=async()=>{if(ce!=null&&ce.id)try{const{data:je,error:Ae}=await We.from("clients").select(`
          *,
          custom_fields:client_custom_fields(*)
        `).eq("organization_id",ce.id);if(Ae)throw Ae;n(je||[]);const{data:Be,error:De}=await We.from("workers").select("id, name").eq("organization_id",ce.id);if(De)throw De;i(Be||[]);const{data:et,error:Qe}=await We.from("services").select("*").eq("organization_id",ce.id);if(Qe)throw Qe;o(et||[])}catch(je){console.error("Error loading data:",je),pe({type:"error",title:"Error",message:"Failed to load required data"})}},$e=async je=>{try{const{data:Ae,error:Be}=await We.from("worker_projects").select(`
          id,
          name,
          price,
          worker_id
        `).eq("worker_id",je).eq("status","active");if(Be)throw Be;u(De=>({...De,[je]:Ae||[]}))}catch(Ae){console.error("Error loading worker projects:",Ae),pe({type:"error",title:"Error",message:"Failed to load worker projects"})}},Pe=async()=>{var je;if(!ce||!d||m.length===0){pe({type:"error",title:"Error",message:"Please select a client and add at least one service to the order"});return}S(!0);try{const{data:Ae,error:Be}=await We.rpc("create_order",{p_organization_id:ce.id,p_client_id:d.id,p_description:P.description.trim()||null,p_due_date:P.due_date||null,p_total_amount:le,p_workers:x.filter(De=>De.worker_id&&De.project_id).map(De=>({worker_id:De.worker_id,project_id:De.project_id})),p_services:m.map(({service:De,quantity:et})=>({service_id:De.id,quantity:et,cost:De.cost*et})),p_custom_fields:h});if(Be)throw Be;if(!Ae)throw new Error("Failed to create order");if(P.initial_payment!==null&&P.initial_payment>0&&P.payment_method){const{error:De}=await We.rpc("record_payment",{p_organization_id:ce.id,p_order_id:Ae.id,p_amount:P.initial_payment,p_payment_method:P.payment_method,p_payment_reference:P.payment_reference,p_recorded_by:(je=(await We.auth.getUser()).data.user)==null?void 0:je.id});if(De)throw De}H(Ae),F(!0),pe({type:"success",title:"Order Created",message:"The order has been created successfully."}),t()}catch(Ae){console.error("Error creating order:",Ae),pe({type:"error",title:"Error",message:Ae instanceof Error?Ae.message:"Failed to create order. Please try again."})}finally{S(!1)}};r.filter(je=>je.name.toLowerCase().includes(q.toLowerCase()));const Fe=a.filter(je=>je.name.toLowerCase().includes(E.toLowerCase())),ve=s.filter(je=>je.name.toLowerCase().includes(Z.toLowerCase())),me=(je,Ae,Be)=>{g(De=>{const et=De.find(Qe=>Qe.service.id===je.id);return Ae==="add"&&!et?[...De,{service:je,quantity:1}]:Ae==="remove"?De.filter(Qe=>Qe.service.id!==je.id):Ae==="update"&&Be!==void 0?De.map(Qe=>Qe.service.id===je.id?{...Qe,quantity:Math.max(1,Be)}:Qe):De})},le=m.reduce((je,{service:Ae,quantity:Be})=>je+Ae.cost*Be,0),be=(je,Ae)=>{const Be=[...x];Be[Ae]={...Be[Ae],worker_id:je.id,project_id:""},v(Be),R(""),z(!1),W(null),$e(je.id)};return j&&M?l.jsx(k3,{orderId:M.id,onClose:e}):l.jsxs("div",{className:`h-full flex flex-col ${ne(K,"modal","background")} max-w-[450px] mx-auto overflow-y-auto`,children:[l.jsxs("div",{className:`flex items-center justify-between px-4 py-3 border-b ${ne(K,"border","primary")}`,children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("h2",{className:`text-lg font-semibold ${ne(K,"text","primary")}`,children:"Create Order"})}),l.jsx("button",{type:"button",onClick:e,className:`p-1.5 rounded-full ${ne(K,"interactive","hover","background")} ${ne(K,"text","accent")} ${ne(K,"interactive","hover","text")} transition-colors`,children:l.jsx(cr,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsx("section",{className:"space-y-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"space-y-2",children:l.jsx(p$,{onClientSelect:je=>{f(je),Q((je==null?void 0:je.name)||"")},onCustomFieldsSelect:p,selectedClient:d,selectedCustomFields:h})}),(d==null?void 0:d.custom_fields)&&d.custom_fields.length>0&&l.jsxs("div",{className:`space-y-2 p-4 rounded-lg border ${ne(K,"border","primary")} ${ne(K,"background","secondary")}`,children:[l.jsx("label",{className:`block text-sm font-medium ${ne(K,"text","secondary")}`,children:"Custom Fields"}),l.jsx("div",{className:"space-y-2",children:d.custom_fields.map(je=>l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:h.includes(je.id),onChange:Ae=>{Ae.target.checked?p(Be=>[...Be,je.id]):p(Be=>Be.filter(De=>De!==je.id))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 h-3 w-3"}),l.jsx("span",{className:`text-xs ${ne(K,"text","tertiary")}`,children:je.title})]},je.id))})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("h4",{className:`text-sm mt-4 font-semibold ${ne(K,"text","primary")}`,children:"Add Workers"}),l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("button",{type:"button",onClick:()=>v([...x,{worker_id:"",project_id:""}]),className:`inline-flex items-center px-2 py-1 mt-2 border ${ne(K,"border","primary")} rounded-md text-sm font-medium ${ne(K,"text","primary")} ${ne(K,"background","secondary")} hover:${ne(K,"background","accent")}`,children:[l.jsx(Hn,{className:"h-3 w-3 mr-1"}),"Add"]})}),x.map((je,Ae)=>{var Be,De;return l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("input",{type:"text",value:je.worker_id?((Be=a.find(et=>et.id===je.worker_id))==null?void 0:Be.name)||"":E,onChange:et=>{if(je.worker_id){const Qe=[...x];Qe[Ae]={...Qe[Ae],worker_id:"",project_id:""},v(Qe)}R(et.target.value),z(!0),W(Ae)},onFocus:()=>{je.worker_id||(z(!0),W(Ae))},placeholder:"Search for a worker",className:`block w-full px-2 py-1.5 text-xs border ${ne(K,"border","primary")} rounded-md ${ne(K,"background","secondary")} ${ne(K,"text","primary")}`}),je.worker_id&&l.jsx("button",{type:"button",onClick:()=>{const et=[...x];et[Ae]={...et[Ae],worker_id:"",project_id:""},v(et)},className:"absolute right-8 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l.jsx(cr,{className:"h-3.5 w-3.5"})}),l.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none",children:l.jsx(kl,{className:"h-3.5 w-3.5 text-gray-400"})}),U&&ee===Ae&&Fe.length>0&&l.jsx("div",{className:`absolute z-10 mt-1 w-full rounded-md shadow-lg ${ne(K,"background","secondary")} border ${ne(K,"border","primary")} max-h-60 overflow-auto`,children:Fe.map(et=>l.jsx("div",{onClick:()=>be(et,Ae),className:`px-2.5 py-1.5 text-xs cursor-pointer ${ne(K,"text","primary")} hover:bg-blue-50 hover:text-blue-700`,children:et.name},et.id))})]}),l.jsx("div",{className:"flex-1",children:l.jsxs("select",{value:je.project_id||"",onChange:et=>{const Qe=[...x];Qe[Ae].project_id=et.target.value,v(Qe)},disabled:!je.worker_id,className:`block w-full px-2 py-1.5 text-xs border ${ne(K,"border","primary")} rounded-md ${ne(K,"background","secondary")} ${ne(K,"text","primary")} disabled:opacity-60`,children:[l.jsx("option",{value:"",children:"Select Project"}),je.worker_id&&((De=c[je.worker_id])==null?void 0:De.map(et=>l.jsxs("option",{value:et.id,children:[et.name," - ",Te," ",et.price.toFixed(2)]},et.id)))]})}),l.jsx("button",{type:"button",onClick:()=>{const et=x.filter((Qe,kt)=>kt!==Ae);v(et)},className:`p-1 ${ne(K,"text","muted")} hover:text-red-500 rounded-full`,children:l.jsx(cr,{className:"h-4 w-4"})})]},Ae)})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("h4",{className:`text-[16px] font-semibold ${ne(K,"text","primary")}`,children:"Order Details"}),l.jsx("label",{className:`block mt-2 text-sm font-medium ${ne(K,"text","secondary")} mb-1`,children:"Description"}),l.jsx("div",{className:"relative",children:l.jsx("textarea",{value:P.description,onChange:je=>A(Ae=>({...Ae,description:je.target.value})),rows:2,className:`block w-full px-3 py-2 text-xs border ${ne(K,"border","primary")} rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-500 resize-none ${ne(K,"background","secondary")} ${ne(K,"text","primary")}`,placeholder:"Order description"})}),l.jsx("label",{className:`block mt-2 text-sm font-medium ${ne(K,"text","secondary")} mb-1`,children:"Due Date"}),l.jsx("div",{className:"relative",children:l.jsx("input",{type:"date",value:P.due_date,onChange:je=>A(Ae=>({...Ae,due_date:je.target.value})),min:St(new Date,"yyyy-MM-dd"),onClick:je=>{je.target.showPicker()},className:`block w-full px-3 py-1.5 text-xs border ${ne(K,"border","primary")} rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-500 ${ne(K,"background","secondary")} ${ne(K,"text","primary")} cursor-pointer`})})]})]})}),l.jsxs("section",{children:[l.jsx("div",{className:"flex items-center space-x-3",children:l.jsx("h3",{className:`text-base mb-2 font-semibold ${ne(K,"text","primary")}`,children:"Services"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx("input",{type:"text",value:Z,onChange:je=>{re(je.target.value),de(!0)},onFocus:()=>de(!0),placeholder:"Search for a service",className:`w-full rounded-lg border ${ne(K,"border","primary")} ${ne(K,"background","secondary")} px-3 py-2 text-sm ${ne(K,"text","primary")} shadow-sm hover:border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`}),l.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none",children:l.jsx(kl,{className:"h-4 w-4 text-gray-400"})})]}),l.jsx("button",{type:"button",onClick:()=>de(!O),className:`ml-2 p-1.5 rounded-lg ${ne(K,"background","secondary")} ${ne(K,"text","primary")} border ${ne(K,"border","primary")}`,children:l.jsx(Vc,{className:"h-4 w-4"})})]}),O&&ve.length>0&&l.jsx("div",{className:`absolute z-10 mt-1 w-full rounded-lg shadow-lg ${ne(K,"background","secondary")} border ${ne(K,"border","primary")} max-h-60 overflow-auto`,children:ve.map(je=>l.jsxs("div",{onClick:()=>{me(je,"add"),re(""),de(!1)},className:`px-3 py-2 text-sm cursor-pointer ${ne(K,"text","primary")} hover:bg-blue-50 hover:text-blue-700 flex justify-between items-center`,children:[l.jsx("span",{children:je.name}),l.jsxs("span",{className:`${ne(K,"text","muted")}`,children:[Te," ",je.cost.toFixed(2)]})]},je.id))})]}),l.jsx("div",{className:"space-y-2",children:m.length===0?l.jsx("div",{className:`text-center pb-4 text-sm ${ne(K,"text","muted")}`,children:"No services selected. Search and add services above."}):m.map(({service:je,quantity:Ae})=>l.jsx("div",{className:"p-3 rounded-lg border border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-blue-700 dark:text-blue-400",children:je.name}),l.jsxs("p",{className:`text-sm ${ne(K,"text","muted")}`,children:[Te," ",je.cost.toFixed(2)]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{type:"button",onClick:()=>me(je,"update",Ae-1),className:`p-1 rounded-full ${ne(K,"interactive","hover","background")} transition-colors`,children:l.jsx(i$,{className:"h-4 w-4"})}),l.jsx("input",{type:"number",min:"1",value:Ae,onChange:Be=>{const De=parseInt(Be.target.value)||1;me(je,"update",De)},className:`w-16 text-center text-sm border ${ne(K,"border","primary")} rounded-lg ${ne(K,"background","secondary")} ${ne(K,"text","primary")}`}),l.jsx("button",{type:"button",onClick:()=>me(je,"update",Ae+1),className:`p-1 rounded-full ${ne(K,"interactive","hover","background")} transition-colors`,children:l.jsx(Hn,{className:"h-4 w-4"})})]}),l.jsx("button",{type:"button",onClick:()=>me(je,"remove"),className:"p-1 text-red-400 hover:text-red-600 dark:text-red-400 dark:hover:text-red-300",children:l.jsx(cr,{className:"h-4 w-4"})})]})]})},je.id))})]})]}),l.jsxs("section",{children:[l.jsx("div",{className:"flex mb-2 items-center space-x-3",children:l.jsx("h3",{className:`text-base font-semibold ${ne(K,"text","primary")}`,children:"Payment Details"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:`p-2 ${ne(K,"background","accent")} border ${ne(K,"border","primary")} rounded-lg`,children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:`text-sm font-medium ${ne(K,"text","secondary")}`,children:"Total Amount"}),l.jsxs("span",{className:`text-sm font-medium ${ne(K,"text","primary")}`,children:[Te," ",le.toFixed(2)]})]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Yc,{className:`h-4 w-4 ${ne(K,"text","accent")}`}),l.jsx("h3",{className:`text-sm font-bold ${ne(K,"text","secondary")}`,children:"Initial Payment"})]}),l.jsxs("div",{className:`space-y-3 ${ne(K,"background","secondary")} rounded-lg p-3`,children:[l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${ne(K,"text","secondary")} mb-1.5`,children:"Payment Amount"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx("span",{className:`text-sm ${ne(K,"text","muted")}`,children:Te})}),l.jsx("input",{type:"number",min:"0",max:le,step:"0.01",value:P.initial_payment===null?"":P.initial_payment,onChange:je=>{const Ae=je.target.value===""?null:Math.max(0,parseFloat(je.target.value)||0);Ae!==null&&Ae>le?(pe({type:"error",title:"Invalid Payment Amount",message:`Payment amount cannot exceed the total amount of ${Te} ${le.toFixed(2)}`}),A(Be=>({...Be,initial_payment:le}))):A(Be=>({...Be,initial_payment:Ae}))},className:`block w-full pl-7 pr-3 py-2 text-sm border ${ne(K,"border","primary")} rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 ${ne(K,"background","secondary")} ${ne(K,"text","primary")}`,placeholder:"0.00"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:`block text-sm font-medium ${ne(K,"text","secondary")} mb-1.5`,children:["Payment Method ",P.initial_payment!==null&&P.initial_payment>0?"*":""]}),l.jsxs("select",{value:P.payment_method,onChange:je=>A(Ae=>({...Ae,payment_method:je.target.value})),className:`block w-full px-3 py-2 text-sm border ${ne(K,"border","primary")} rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 ${ne(K,"background","secondary")} ${ne(K,"text","primary")}`,required:P.initial_payment!==null&&P.initial_payment>0,children:[l.jsx("option",{value:"",children:"Select Payment Method"}),Object.entries(_3).map(([je,Ae])=>l.jsx("option",{value:je,children:Ae},je))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${ne(K,"text","secondary")} mb-1.5`,children:"Payment Reference"}),l.jsx("input",{type:"text",value:P.payment_reference||"",onChange:je=>A(Ae=>({...Ae,payment_reference:je.target.value})),className:`block w-full px-3 py-2 text-sm border ${ne(K,"border","primary")} rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 ${ne(K,"background","secondary")} ${ne(K,"text","primary")}`,placeholder:"e.g., Transaction ID, Check number"})]}),l.jsx("div",{className:`mt-2 p-2 rounded-lg ${le-(P.initial_payment??0)===0?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm font-medium",children:"Outstanding Balance"}),l.jsxs("span",{className:`text-sm font-semibold ${le-(P.initial_payment??0)===0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[Te," ",(le-(P.initial_payment??0)).toFixed(2)]})]})})]})]})]})]})]})}),l.jsxs("div",{className:`flex justify-end gap-3 py-4 px-4 border-t ${ne(K,"border","primary")}`,children:[l.jsx("button",{type:"button",onClick:e,className:`px-4 py-2 text-sm font-medium ${ne(K,"text","muted")} border ${ne(K,"border","primary")} rounded-lg hover:${ne(K,"background","accent")}`,children:"Cancel"}),l.jsx("button",{type:"button",onClick:Pe,disabled:C||!d||m.length===0,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400 dark:disabled:bg-gray-600 flex items-center",children:C?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Create Order"})]})]})}const Ag=({currentDate:e,dateFilterType:t,onDateChange:r,onFilterTypeChange:n,itemCount:a=0,itemLabel:i="items",className:s=""})=>{const{theme:o,getThemeStyle:c}=Ht();L.useEffect(()=>{const g=`dateFilterType_${window.location.pathname}`,x=localStorage.getItem(g);x&&["day","week","month","year"].includes(x)&&n(x)},[]);const u=g=>{const x=`dateFilterType_${window.location.pathname}`;localStorage.setItem(x,g),n(g)},d=()=>{switch(t){case"day":return{start:new Date(e.setHours(0,0,0,0)),end:new Date(e.setHours(23,59,59,999))};case"week":return{start:Js(e,{weekStartsOn:1}),end:Yh(e,{weekStartsOn:1})};case"month":return{start:Ng(e),end:Sg(e)};case"year":return{start:zh(e),end:jg(e)}}},{start:f,end:h}=d(),p=()=>{switch(t){case"day":return St(e,"MMMM d, yyyy");case"week":return`Week ${f$(e,{weekStartsOn:1})}, ${WV(e)}`;case"month":return St(e,"MMMM yyyy");case"year":return St(e,"yyyy")}},m=()=>{switch(t){case"day":return St(e,"EEEE");case"week":return`${St(f,"MMM d")} - ${St(h,"MMM d")}`;case"month":return`${St(f,"MMM d")} - ${St(h,"MMM d")}`;case"year":return`${St(f,"MMM d, yyyy")} - ${St(h,"MMM d, yyyy")}`}};return l.jsx("div",{className:`mb-4 ${s}`,children:l.jsxs("div",{className:"flex items-center  flex-col sm:flex-row",children:[l.jsxs("div",{className:"flex items-center space-x-2  flex-col sm:flex-row",children:[l.jsxs("div",{className:`flex items-center ${c(o,"background","primary")} rounded-md border ${c(o,"border","primary")} shadow-sm`,children:[l.jsx("button",{onClick:()=>r("prev"),className:`p-1 ${c(o,"interactive","hover","background")} rounded-l-md transition-colors duration-200 border-r ${c(o,"border","primary")}`,"aria-label":"Previous period",children:l.jsx(w3,{className:`h-3.5 w-3.5 ${c(o,"text","tertiary")}`})}),l.jsxs("div",{className:"px-2 py-1 flex items-center",children:[l.jsx("span",{className:`font-medium text-xs ${c(o,"text","primary")}`,children:p()}),l.jsx("div",{className:`ml-1.5 border-l ${c(o,"border","primary")} pl-1.5 mt-[-3px] `,children:l.jsxs("select",{value:t,onChange:g=>u(g.target.value),className:`text-xs ${c(o,"background","primary")} outline-none ${c(o,"text","primary")}`,children:[l.jsx("option",{value:"day",children:"Day"}),l.jsx("option",{value:"week",children:"Week"}),l.jsx("option",{value:"month",children:"Month"}),l.jsx("option",{value:"year",children:"Year"})]})})]}),l.jsx("button",{onClick:()=>r("next"),className:`p-1 ${c(o,"interactive","hover","background")} rounded-r-md transition-colors duration-200 border-l ${c(o,"border","primary")}`,disabled:I_(h,new Date),"aria-label":"Next period",children:l.jsx(Xf,{className:`h-3.5 w-3.5 ${c(o,"text","tertiary")}`})})]}),l.jsx("div",{className:`text-[10px] ${c(o,"text","muted")} ml-1.5`,children:m()})]}),a!==void 0&&l.jsxs("div",{className:`ml-2 text-[10px] font-medium px-1.5 py-0.5 rounded-md ${c(o,"background","accent")} ${c(o,"text","tertiary")}`,children:[a," ",i]})]})})};function KV(){var pe,K;const[e,t]=_D(),[r,n]=L.useState([]),[a,i]=L.useState([]),[s,o]=L.useState(!0),[c,u]=L.useState(""),[d,f]=L.useState("all"),[h,p]=L.useState(e.get("showCreateForm")==="true"),[m,g]=L.useState(new Date),[x,v]=L.useState("week"),[b,y]=L.useState(!1),[C,S]=L.useState(!1),[T,N]=L.useState(null),[w,_]=L.useState(!1),[P,A]=L.useState(!1),{organization:j}=Zt(),{confirm:F,addToast:M}=Tr(),{theme:H,getThemeStyle:q}=Ht(),Y=Lo(),X=j!=null&&j.currency?((pe=tn[j.currency])==null?void 0:pe.symbol)||j.currency:"";L.useEffect(()=>{const ne=()=>{y(window.innerWidth<640)};return ne(),window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[]),L.useEffect(()=>{const ne=Te=>{Te.target.closest(".status-dropdown-container")||S(!1)};return document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[]);const I=()=>{const ne=new Date(m);switch(x){case"day":return{start:new Date(new Date(ne).setHours(0,0,0,0)),end:new Date(new Date(ne).setHours(23,59,59,999))};case"week":return{start:Js(ne,{weekStartsOn:1}),end:Yh(ne,{weekStartsOn:1})};case"month":return{start:Ng(ne),end:Sg(ne)};case"year":return{start:zh(ne),end:jg(ne)}}},{start:J,end:Q}=I();L.useEffect(()=>{j&&E()},[j,m,x,r,d,c]),L.useEffect(()=>{j&&R()},[j==null?void 0:j.id]),L.useEffect(()=>{p(e.get("showCreateForm")==="true")},[e]);const E=()=>{const ne=r.filter(Te=>{var ve,me,le;const Ee=!c||((ve=Te.order_number)==null?void 0:ve.toLowerCase().includes(c.toLowerCase()))||((le=(me=Te.client)==null?void 0:me.name)==null?void 0:le.toLowerCase().includes(c.toLowerCase())),$e=d==="all"||Te.status===d;if(c)return Ee&&$e;const Pe=new Date(Te.created_at);return Pe>=J&&Pe<=Q&&$e&&Ee});i(ne)},R=async()=>{if(j!=null&&j.id)try{const{data:ne,error:Te}=await We.from("orders").select(`
          *,
          client:clients(name, image_url),
          workers:order_workers(
            id,
            worker_id,
            worker:workers(name, image),
            project_id,
            project:worker_projects(name),
            status
          ),
          services:order_services(
            id,
            service_id,
            service:services(name),
            quantity,
            cost
          ),
          outstanding_balance,
          payment_status
        `).eq("organization_id",j.id).order("created_at",{ascending:!1});if(Te)throw Te;n(ne||[])}catch(ne){console.error("Error loading orders:",ne),M({type:"error",title:"Error",message:"Failed to load orders"})}finally{o(!1)}},U=ne=>{f("all"),g(Te=>{const Ee=new Date(Te);switch(x){case"day":return ne==="prev"?Sl(Ee,-1):Sl(Ee,1);case"week":return ne==="prev"?Tc(Ee,-1):Tc(Ee,1);case"month":return ne==="prev"?Nl(Ee,-1):Nl(Ee,1);case"year":return ne==="prev"?Ec(Ee,-1):Ec(Ee,1)}})},z=ne=>{u(ne)},G=ne=>{f("all"),v(ne)},ae=a,ee=()=>{p(!1),e.delete("showCreateForm"),t(e)},W=(ne,Te)=>{Te.stopPropagation(),N(ne),_(!0)},Z=(ne,Te)=>{Te.stopPropagation(),N(ne),A(!0)};if(s)return l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const re=ne=>a.filter(Te=>Te.status===ne).length,O=ne=>ne==="all"?`All (${a.length})`:`${yo[ne]} (${re(ne)})`,de=ne=>{if(!ne)return"";const Te=ne.split(" ");return Te.length===1?Te[0].charAt(0).toUpperCase():(Te[0].charAt(0)+Te[1].charAt(0)).toUpperCase()},ce=ne=>{const Te=["bg-blue-500","bg-pink-500","bg-purple-500","bg-green-500","bg-yellow-500","bg-red-500","bg-indigo-500","bg-teal-500"];if(!ne)return Te[0];let Ee=0;for(let $e=0;$e<ne.length;$e++)Ee=ne.charCodeAt($e)+((Ee<<5)-Ee);return Te[Math.abs(Ee)%Te.length]};return l.jsxs("div",{className:`min-h-screen ${q(H,"background","primary")}`,children:[l.jsxs("div",{className:"py-4 px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-6",children:[l.jsx("h1",{className:`text-xl sm:text-2xl font-medium ${q(H,"text","primary")}`,children:"Orders"}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto",children:[l.jsx("div",{className:"relative w-full sm:w-auto sm:ml-2",children:l.jsxs("div",{className:`flex items-center px-3 py-1 border rounded-md focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 ${q(H,"background","secondary")} ${q(H,"border","primary")}`,children:[l.jsx(Vc,{className:`h-4 w-4 ${q(H,"text","muted")}`}),l.jsx("input",{type:"text",value:c,onChange:ne=>z(ne.target.value),placeholder:"Search orders...",className:`ml-2 flex-1 outline-none bg-transparent text-sm ${q(H,"text","primary")}`})]})}),l.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[l.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center justify-center px-2 py-1.5 border border-transparent rounded-lg shadow-sm text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200 flex-1 sm:flex-none",children:[l.jsx(Hn,{className:"h-4 w-4 mr-1"}),"Create"]}),l.jsxs(Rr,{to:"/dashboard/orders/services",className:"inline-flex items-center justify-center px-2 py-1.5 border border-transparent rounded-lg shadow-sm text-xs font-medium text-white bg-green-600 hover:bg-green-700 transition-colors duration-200 flex-1 sm:flex-none",children:[l.jsx(ca,{className:"h-4 w-4 mr-2"}),"Manage Services"]})]})]})]}),l.jsx("div",{className:"mb-4 sm:mb-6",children:l.jsx(Ag,{currentDate:m,dateFilterType:x,onDateChange:U,onFilterTypeChange:G,itemCount:a.length,itemLabel:"orders"})}),l.jsxs("div",{className:`border-b ${q(H,"border","primary")} mb-4 sm:mb-6`,children:[l.jsxs("div",{className:"block sm:hidden status-dropdown-container",children:[l.jsxs("button",{onClick:()=>S(!C),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md ${q(H,"background","secondary")} ${q(H,"border","primary")}`,children:[l.jsx("span",{className:`text-sm font-medium ${q(H,"text","primary")}`,children:O(d)}),l.jsx(kl,{className:`h-4 w-4 ${q(H,"text","muted")} transition-transform ${C?"rotate-180":""}`})]}),C&&l.jsx("div",{className:`absolute z-10 mt-1 w-full rounded-md shadow-lg ${q(H,"background","secondary")} ${q(H,"border","primary")} border`,children:l.jsxs("div",{className:"py-1",children:[l.jsxs("button",{onClick:()=>{f("all"),S(!1)},className:`block w-full text-left px-3 py-2 text-sm ${d==="all"?"bg-blue-50 text-blue-700":q(H,"text","primary")}`,children:["All (",a.length,")"]}),l.jsxs("button",{onClick:()=>{f("pending"),S(!1)},className:`block w-full text-left px-3 py-2 text-sm ${d==="pending"?"bg-blue-50 text-blue-700":q(H,"text","primary")}`,children:["Pending (",re("pending"),")"]}),l.jsxs("button",{onClick:()=>{f("in_progress"),S(!1)},className:`block w-full text-left px-3 py-2 text-sm ${d==="in_progress"?"bg-blue-50 text-blue-700":q(H,"text","primary")}`,children:["Working (",re("in_progress"),")"]}),l.jsxs("button",{onClick:()=>{f("completed"),S(!1)},className:`block w-full text-left px-3 py-2 text-sm ${d==="completed"?"bg-blue-50 text-blue-700":q(H,"text","primary")}`,children:["Complete (",re("completed"),")"]}),l.jsxs("button",{onClick:()=>{f("cancelled"),S(!1)},className:`block w-full text-left px-3 py-2 text-sm ${d==="cancelled"?"bg-blue-50 text-blue-700":q(H,"text","primary")}`,children:["Cancelled (",re("cancelled"),")"]})]})})]}),l.jsxs("nav",{className:"hidden sm:flex -mb-px space-x-2 min-w-max pb-1 overflow-x-auto","aria-label":"Tabs",children:[l.jsxs("button",{onClick:()=>f("all"),className:`whitespace-nowrap py-2 sm:py-3 px-1 border-b-2 font-medium text-xs ${d==="all"?"border-blue-500 text-blue-600":`border-transparent ${q(H,"text","muted")} hover:text-gray-900 dark:hover:text-gray-100 hover:border-gray-300`}`,children:["All",l.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${d==="all"?"bg-blue-100 text-blue-800":`${q(H,"background","accent")} ${q(H,"text","tertiary")}`}`,children:a.length})]}),l.jsxs("button",{onClick:()=>f("pending"),className:`whitespace-nowrap py-2 sm:py-3 px-1 border-b-2 font-medium text-xs ${d==="pending"?"border-blue-500 text-blue-600":`border-transparent ${q(H,"text","muted")} hover:text-gray-900 dark:hover:text-gray-100 hover:border-gray-300`}`,children:["Pending",l.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${d==="pending"?"bg-blue-100 text-blue-800":`${q(H,"background","accent")} ${q(H,"text","tertiary")}`}`,children:re("pending")})]}),l.jsxs("button",{onClick:()=>f("in_progress"),className:`whitespace-nowrap py-2 sm:py-3 px-1 border-b-2 font-medium text-xs ${d==="in_progress"?"border-blue-500 text-blue-600":`border-transparent ${q(H,"text","muted")} hover:text-gray-900 dark:hover:text-gray-100 hover:border-gray-300`}`,children:["Working",l.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${d==="in_progress"?"bg-blue-100 text-blue-800":`${q(H,"background","accent")} ${q(H,"text","tertiary")}`}`,children:re("in_progress")})]}),l.jsxs("button",{onClick:()=>f("completed"),className:`whitespace-nowrap py-2 sm:py-3 px-1 border-b-2 font-medium text-xs ${d==="completed"?"border-blue-500 text-blue-600":`border-transparent ${q(H,"text","muted")} hover:text-gray-900 dark:hover:text-gray-100 hover:border-gray-300`}`,children:["Complete",l.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${d==="completed"?"bg-blue-100 text-blue-800":`${q(H,"background","accent")} ${q(H,"text","tertiary")}`}`,children:re("completed")})]}),l.jsxs("button",{onClick:()=>f("cancelled"),className:`whitespace-nowrap py-2 sm:py-3 px-1 border-b-2 font-medium text-xs ${d==="cancelled"?"border-blue-500 text-blue-600":`border-transparent ${q(H,"text","muted")} hover:text-gray-900 dark:hover:text-gray-100 hover:border-gray-300`}`,children:["Cancelled",l.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${d==="cancelled"?"bg-blue-100 text-blue-800":`${q(H,"background","accent")} ${q(H,"text","tertiary")}`}`,children:re("cancelled")})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:s?l.jsxs("div",{className:`rounded-lg shadow-sm p-6 sm:p-8 text-center ${q(H,"background","secondary")} lg:col-span-2`,children:[l.jsx("div",{className:"animate-spin rounded-full h-10 w-10 sm:h-12 sm:w-12 mx-auto border-b-2 border-blue-600"}),l.jsx("p",{className:`mt-3 sm:mt-4 ${q(H,"text","muted")}`,children:"Loading orders..."})]}):ae.length===0?l.jsxs("div",{className:"rounded-lg shadow-sm p-6 sm:p-8 text-center lg:col-span-2",children:[l.jsx("div",{className:`mx-auto h-10 w-10 sm:h-12 sm:w-12 ${q(H,"text","muted")}`,children:l.jsx(ca,{className:"h-10 w-10 sm:h-12 sm:w-12"})}),l.jsx("h3",{className:`mt-2 text-sm font-medium ${q(H,"text","primary")}`,children:"No orders found"}),l.jsx("p",{className:`mt-1 text-xs sm:text-sm ${q(H,"text","muted")}`,children:a.length>0?`Found ${a.length} orders, but none match the current filter '${d}'.`:"No orders found in the database for this time period."})]}):ae.map(ne=>{var Te,Ee,$e,Pe,Fe,ve,me,le,be,Oe,je;return l.jsx("div",{onClick:()=>Y(`/dashboard/orders/${ne.id}`),className:"block cursor-pointer",children:l.jsx("div",{className:`border-l-4 border rounded-lg overflow-hidden hover:bg-gray-100 dark:hover:bg-gray-700 transition-shadow ${ne.status==="cancelled"?"opacity-75":""} ${ne.status==="cancelled"?"border-l-red-400":ne.status==="pending"?"border-l-yellow-500":ne.status==="in_progress"?"border-l-blue-200":"border-l-green-200"} ${q(H,"border","secondary")}`,children:l.jsxs("div",{className:"px-3 sm:px-4 py-2 sm:py-3",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 mr-2 sm:mr-3",children:(Te=ne.client)!=null&&Te.image_url?l.jsx("div",{className:`h-7 w-7 sm:h-8 sm:w-8 rounded-full overflow-hidden ${ne.status==="cancelled"?"opacity-75":""}`,children:l.jsx("img",{src:ne.client.image_url,alt:((Ee=ne.client)==null?void 0:Ee.name)||"Client",className:"h-full w-full object-cover"})}):l.jsx("div",{className:`h-7 w-7 sm:h-8 sm:w-8 rounded-full ${ce((($e=ne.client)==null?void 0:$e.name)||"")} flex items-center justify-center text-xs sm:text-sm text-white font-medium ${ne.status==="cancelled"?"opacity-75":""}`,children:de(((Pe=ne.client)==null?void 0:Pe.name)||"")})}),l.jsxs("div",{children:[l.jsx("h3",{className:`text-sm sm:text-base font-semibold ${q(H,"text","primary")} ${ne.status==="cancelled"?"line-through":""}`,children:((Fe=ne.client)==null?void 0:Fe.name)||"Unknown Client"}),l.jsx("p",{className:`text-xs ${q(H,"text","muted")} ${ne.status==="cancelled"?"line-through":""}`,children:ne.services&&ne.services.length>0?(((me=(ve=ne.services[0])==null?void 0:ve.service)==null?void 0:me.name)||"Unknown Service")+(ne.services.length>1?` (+${ne.services.length-1})`:""):"No services"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-xs sm:text-sm font-medium ${ne.status==="cancelled"?`${q(H,"text","muted")} line-through`:"text-blue-600"}`,children:ne.order_number}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:Ae=>W(ne,Ae),className:"p-1 text-blue-600 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 hover:text-blue-600 transition-colors",title:"Print Receipt",children:l.jsx(_g,{className:"h-4 w-4"})}),ne.payment_status!=="paid"&&ne.status!=="cancelled"&&l.jsx("button",{onClick:Ae=>Z(ne,Ae),className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 text-green-600 hover:text-green-600 transition-colors",title:"Make Payment",children:l.jsx(Yc,{className:"h-4 w-4"})})]})]})]}),l.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center py-2 border-t border-b ${q(H,"border","primary")}`,children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-2 sm:mb-0",children:[l.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[l.jsx(ul,{className:`h-3 w-3 sm:h-3.5 sm:w-3.5 ${ne.status==="cancelled"?"text-gray-400":""}`}),l.jsxs("span",{className:ne.status==="cancelled"?"line-through":"",children:["Created: ",St(new Date(ne.created_at),"MMM d, yyyy")]})]}),ne.due_date&&l.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[l.jsx(ul,{className:`h-3 w-3 sm:h-3.5 sm:w-3.5 ${ne.status==="cancelled"?"text-gray-400":""}`}),l.jsxs("span",{className:ne.status==="cancelled"?"line-through":"",children:["Due: ",St(new Date(ne.due_date),"MMM d, yyyy")]})]})]}),l.jsx("span",{className:`inline-flex items-center px-2 w-fit py-0.5 rounded-full text-xs font-medium ${(le=uA[ne.status])==null?void 0:le.bg} ${(be=uA[ne.status])==null?void 0:be.text}`,children:yo[ne.status]||"Unknown Status"})]}),l.jsxs("div",{className:"flex justify-between sm:items-start pt-2",children:[l.jsx("div",{className:"mb-2 sm:mb-0 max-w-[60%]",children:((Oe=ne.workers)==null?void 0:Oe.length)>0?l.jsx("div",{children:l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"flex -space-x-1 mr-2",children:[ne.workers.slice(0,3).map((Ae,Be)=>l.jsx("div",{className:`inline-block  flex-shrink-0 h-5 w-5 sm:h-6 sm:w-6 rounded-full overflow-hidden ${ne.status==="cancelled"?"opacity-75":""}`,children:Ae.worker.image?l.jsx("img",{src:Ae.worker.image,alt:Ae.worker.name,className:"h-full w-full object-cover"}):l.jsx("div",{className:`h-full w-full ${ce(Ae.worker.name)} flex items-center justify-center text-xs text-white font-medium`,children:de(Ae.worker.name)})},Be)),ne.workers.length>3&&l.jsxs("div",{className:`inline-block h-5 w-5 sm:h-6 sm:w-6 rounded-full ${q(H,"background","accent")} flex items-center justify-center text-xs font-medium ring-2 ring-white ${ne.status==="cancelled"?"opacity-75":""}`,children:["+",ne.workers.length-3]})]}),ne.workers.length===1?l.jsxs("div",{className:"flex flex-wrap items-center",children:[l.jsx("span",{className:`text-xs ${q(H,"text","secondary")} font-medium mr-2 ${ne.status==="cancelled"?"line-through":""}`,children:ne.workers[0].worker.name}),((je=ne.workers[0].project)==null?void 0:je.name)&&l.jsxs("span",{className:`text-xs ${q(H,"text","tertiary")} mr-2 ${ne.status==="cancelled"?"line-through":""}`,children:[" ",ne.workers[0].project.name]}),ne.workers[0].status&&l.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs ${ne.workers[0].status==="active"?"bg-green-100 text-green-800":`${q(H,"background","accent")} ${q(H,"text","tertiary")}`} ${ne.status==="cancelled"?"line-through":""}`,children:ne.workers[0].status})]}):l.jsx("div",{className:"flex items-center",children:l.jsxs("span",{className:`text-xs ${q(H,"text","secondary")} font-medium mr-2 ${ne.status==="cancelled"?"line-through":""}`,children:[ne.workers.length," workers assigned"]})})]})}):l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`h-5 w-5 sm:h-6 sm:w-6 rounded-full ${q(H,"background","accent")} flex items-center justify-center text-xs font-medium mr-2 ${ne.status==="cancelled"?"opacity-75":""}`,children:l.jsx(Qf,{className:`h-3 w-3 ${q(H,"text","muted")} ${ne.status==="cancelled"?"opacity-75":""}`})}),l.jsx("span",{className:`text-xs ${q(H,"text","muted")} ${ne.status==="cancelled"?"line-through":""}`,children:"No workers assigned"})]})}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:`text-xs sm:text-sm font-medium ${q(H,"text","primary")} ${ne.status==="cancelled"?"line-through":""}`,children:[X," ",ne.total_amount.toFixed(2)]}),l.jsxs("div",{className:`text-xs ${ne.status==="cancelled"?`${q(H,"text","muted")} line-through`:ne.payment_status==="paid"?"text-green-600":ne.payment_status==="partially_paid"?"text-red-700":"text-red-600"}`,children:[X," ",ne.outstanding_balance.toFixed(2),l.jsx("span",{className:`ml-1 hidden sm:block ${ne.status==="cancelled"?q(H,"text","muted"):q(H,"text","tertiary")} text-xs`,children:ne.payment_status==="paid"?"(Paid)":ne.payment_status==="partially_paid"?"(Outstanding)":"(Unpaid)"})]})]})})]})]})})},ne.id)})})]}),h&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",children:l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:`absolute inset-0 ${q(H,"modal","overlay")} transition-opacity`,onClick:ee}),l.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-0 sm:pl-10",children:l.jsx("div",{className:`pointer-events-auto w-screen max-w-full sm:max-w-md transform transition-transform duration-500 ease-in-out ${h?"translate-x-0":"translate-x-full"}`,children:l.jsx("div",{className:`flex h-full flex-col ${q(H,"modal","background")} shadow-xl`,children:l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4",children:l.jsx(m$,{onClose:ee,onSuccess:R})})})})})})]})}),w&&T&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",children:l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:`absolute inset-0 ${q(H,"modal","overlay")} transition-opacity`,onClick:()=>_(!1)}),l.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-0 sm:pl-10",children:l.jsx("div",{className:"pointer-events-auto w-screen max-w-full sm:max-w-md transform transition-transform duration-500 ease-in-out translate-x-0",children:l.jsx("div",{className:`flex h-full flex-col ${q(H,"modal","background")} shadow-xl`,children:l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4",children:l.jsx(k3,{orderId:T.id,onClose:()=>_(!1)})})})})})})]})}),P&&T&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",children:l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:`absolute inset-0 ${q(H,"modal","overlay")} transition-opacity`,onClick:()=>A(!1)}),l.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-0 sm:pl-10",children:l.jsx("div",{className:"pointer-events-auto w-screen max-w-full sm:max-w-md transform transition-transform duration-500 ease-in-out translate-x-0",children:l.jsx("div",{className:`flex h-full flex-col ${q(H,"modal","background")} shadow-xl`,children:l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4",children:l.jsx(Zf,{orderId:T.id,orderNumber:T.order_number,clientName:(K=T.client)==null?void 0:K.name,outstandingBalance:T.outstanding_balance,onPaymentRecorded:()=>{R(),A(!1)},isOpen:P,onClose:()=>A(!1),currencySymbol:X,orderType:"service_order"})})})})})})]})})]})}function XV(){var P;const[e,t]=L.useState([]),[r,n]=L.useState(!0),[a,i]=L.useState(""),[s,o]=L.useState(!1),[c,u]=L.useState({name:"",whatsapp:"",image:""}),[d,f]=L.useState(!1),h=L.useRef(null),[p,m]=L.useState(null),{organization:g}=Zt(),{confirm:x,addToast:v}=Tr(),{theme:b,getThemeStyle:y}=Ht(),C=g?((P=tn[g.currency])==null?void 0:P.symbol)||g.currency:"",S=A=>["image/jpeg","image/jpg","image/png"].includes(A.type)?A.size>5*1024*1024?"Image must be less than 5MB":null:"Please upload a JPG, JPEG, or PNG file",T=A=>{var F;const j=(F=A.target.files)==null?void 0:F[0];if(j){const M=S(j);if(M){v({type:"error",title:"Invalid File",message:M});return}m(j)}},N=async()=>{var A;if(g)try{n(!0);const j=new Date,F=Js(j,{weekStartsOn:0}),M=Yh(j,{weekStartsOn:0}),H=Cc(j),q=Qv(j),[Y,X]=await Promise.all([We.from("workers").select("*").eq("organization_id",g.id).order("name"),We.from("tasks").select("*").eq("organization_id",g.id).gte("created_at",F.toISOString()).lte("created_at",M.toISOString()).not("status","eq","cancelled")]);if(Y.error)throw Y.error;if(X.error)throw X.error;const I=((A=Y.data)==null?void 0:A.map(J=>{var Z;const Q=((Z=X.data)==null?void 0:Z.filter(re=>re.worker_id===J.id))||[],E=Q.filter(re=>gA(new Date(re.created_at),{start:F,end:M})),R=Q.filter(re=>re.status==="completed"),U=E.filter(re=>re.status==="completed"),z=E.filter(re=>re.status==="pending"),G=E.filter(re=>re.status==="in_progress"),ae=R.reduce((re,O)=>re+O.amount,0),ee=E.reduce((re,O)=>re+O.amount,0),W={totalEarnings:ae,weeklyProjectTotal:ee,assignedTasks:z.length,completedTasks:U.length,allTimeTasks:Q.length,weeklyTasks:E.length,dailyTasks:Q.filter(re=>gA(new Date(re.created_at),{start:H,end:q})).length,inProgressTasks:G.length};return{...J,stats:W}}))||[];t(I)}catch(j){console.error("Error loading workers:",j),v({type:"error",title:"Error",message:"Failed to load workers. Please try again."})}finally{n(!1)}};L.useEffect(()=>{N()},[g]);const w=async()=>{var A;if(!(!g||!c.name.trim()))try{f(!0);let j=null;if(p){const H=S(p);if(H)throw new Error(H);const q=(A=p.name.split(".").pop())==null?void 0:A.toLowerCase(),Y=`${Math.random().toString(36).substring(2)}.${q}`,X=`${g.id}/${Y}`,{error:I}=await We.storage.from("profiles").upload(X,p,{contentType:p.type,cacheControl:"3600",upsert:!1});if(I)throw I;const{data:{publicUrl:J}}=We.storage.from("profiles").getPublicUrl(X);j=J}const{data:F,error:M}=await We.from("workers").insert([{organization_id:g.id,name:c.name.trim(),whatsapp:c.whatsapp.trim()||null,image:j}]).select().single();if(M)throw M;t(H=>[...H,{...F,stats:{totalEarnings:0,weeklyProjectTotal:0,assignedTasks:0,completedTasks:0,allTimeTasks:0,weeklyTasks:0,dailyTasks:0,inProgressTasks:0}}]),u({name:"",whatsapp:"",image:""}),m(null),h.current&&(h.current.value=""),o(!1)}catch(j){console.error("Error adding worker:",j),v({type:"error",title:"Error",message:j instanceof Error?j.message:"Failed to add worker"})}finally{f(!1)}},_=e.filter(A=>A.name.toLowerCase().includes(a.toLowerCase()));return r?l.jsx("div",{className:`min-h-screen flex items-center justify-center ${y(b,"background","primary")}`,children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${y(b,"text","accent")} mx-auto`}),l.jsx("p",{className:`mt-4 ${y(b,"text","secondary")}`,children:"Loading workers..."})]})}):l.jsxs("div",{className:`space-y-4 p-4 min-h-[calc(100vh-50px)] ${y(b,"background","primary")}`,children:[l.jsxs("div",{className:"relative w-full h-40 md:h-48 rounded-lg overflow-hidden mb-4",children:[l.jsx("img",{src:"/images/workers-banner.webp",alt:"Workers Management",className:"w-full h-full object-cover"}),l.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${b==="dark"?"from-blue-900/80":"from-blue-600/70"} to-transparent flex items-center`,children:l.jsxs("div",{className:"p-4 text-white",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Workers Management"}),l.jsx("p",{className:"mt-1 text-base md:text-lg",children:"Manage your team efficiently"})]})})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[l.jsx("h2",{className:`text-xl font-bold ${y(b,"text","primary")}`,children:"Workers"}),l.jsxs("div",{className:"flex items-center flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[l.jsxs("div",{className:`flex items-center px-3 py-1.5 border w-full sm:w-auto rounded-lg focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 flex-1 sm:flex-initial ${y(b,"border","primary")} ${y(b,"background","secondary")}`,children:[l.jsx(Vc,{className:y(b,"text","muted")}),l.jsx("input",{type:"text",value:a,onChange:A=>i(A.target.value),placeholder:"Search workers...",className:`ml-2 flex-1 outline-none bg-transparent text-sm ${y(b,"text","primary")} placeholder:${y(b,"text","muted")}`})]}),l.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center px-3 w-full sm:w-auto py-1.5 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[l.jsx(Hn,{className:"h-4 w-4 mr-1"}),"Add Worker"]})]})]}),s&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`fixed inset-0 ${y(b,"modal","overlay")} z-40`,onClick:()=>o(!1)}),l.jsx("div",{className:`mt-0 fixed right-0 top-0 h-screen w-[300px] ${y(b,"background","secondary")} shadow-lg z-50 transform transition-transform duration-300 ease-in-out ${s?"translate-x-0":"translate-x-full"}`,children:l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:`p-4 border-b ${y(b,"border","primary")} flex justify-between items-center`,children:[l.jsx("h3",{className:`text-lg font-medium ${y(b,"text","primary")}`,children:"Add New Worker"}),l.jsx("button",{onClick:()=>o(!1),className:`p-1 rounded-full ${y(b,"interactive","hover","background")}`,children:l.jsx(Di,{className:`h-5 w-5 ${y(b,"text","muted")}`})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${y(b,"text","secondary")}`,children:"Name *"}),l.jsx("input",{type:"text",value:c.name,onChange:A=>u(j=>({...j,name:A.target.value})),className:`mt-1 block w-full rounded-md border py-1.5 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 text-sm ${y(b,"border","primary")} ${y(b,"background","primary")} ${y(b,"text","primary")}`,placeholder:"Enter worker name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${y(b,"text","secondary")}`,children:"WhatsApp Number"}),l.jsx("input",{type:"text",value:c.whatsapp,onChange:A=>u(j=>({...j,whatsapp:A.target.value})),className:`mt-1 block w-full rounded-md border py-1.5 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 text-sm ${y(b,"border","primary")} ${y(b,"background","primary")} ${y(b,"text","primary")}`,placeholder:"Enter WhatsApp number"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${y(b,"text","secondary")}`,children:"Profile Image"}),l.jsx("input",{type:"file",ref:h,onChange:T,accept:"image/*",className:"hidden"}),l.jsx("div",{className:"mt-1 flex items-center space-x-4",children:p?l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:`text-sm ${y(b,"text","muted")}`,children:p.name}),l.jsx("button",{onClick:()=>{m(null),h.current&&(h.current.value="")},className:"text-red-600 hover:text-red-700",children:l.jsx(Di,{className:"h-4 w-4"})})]}):l.jsxs("button",{onClick:()=>{var A;return(A=h.current)==null?void 0:A.click()},className:`inline-flex items-center px-3 py-1.5 border rounded-md shadow-sm text-sm font-medium ${y(b,"border","primary")} ${y(b,"text","secondary")} ${y(b,"background","secondary")} ${y(b,"interactive","hover","background")}`,children:[l.jsx(Xs,{className:"h-4 w-4 mr-1"}),"Choose Image"]})})]})]})}),l.jsxs("div",{className:`p-4 border-t ${y(b,"border","primary")} flex justify-end space-x-3`,children:[l.jsx("button",{onClick:()=>{o(!1),m(null),h.current&&(h.current.value="")},className:`px-3 py-1.5 text-sm font-medium ${y(b,"text","secondary")} ${y(b,"interactive","hover","text")}`,children:"Cancel"}),l.jsx("button",{onClick:w,disabled:!c.name.trim()||d,className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400 flex items-center",children:d?l.jsxs(l.Fragment,{children:[l.jsx(mi,{className:"h-4 w-4 mr-1 animate-spin"}),"Adding..."]}):"Add Worker"})]})]})})]}),l.jsx("div",{className:"overflow-hidden",children:_.length===0?l.jsx("div",{className:`text-center ${y(b,"text","muted")} py-6`,children:a?"No workers found matching your search.":"No workers added yet."}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:_.map(A=>{var j,F,M,H;return l.jsx(Rr,{to:`/dashboard/workers/${A.id}`,className:`block ${y(b,"background","secondary")} ${y(b,"border","primary")} border rounded-lg shadow-sm hover:shadow-md transition-shadow`,children:l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`h-12 w-12 rounded-full ${y(b,"avatar","background")} flex items-center justify-center overflow-hidden flex-shrink-0`,children:A.image?l.jsx("img",{src:A.image,alt:A.name,className:"h-full w-full object-cover"}):l.jsx("span",{className:`text-xl font-medium ${y(b,"avatar","text")}`,children:A.name[0].toUpperCase()})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:`text-base font-semibold ${y(b,"text","primary")} truncate`,children:A.name}),A.whatsapp&&l.jsxs("p",{className:`text-xs ${y(b,"text","muted")} truncate`,children:["WhatsApp: ",A.whatsapp]})]})]}),l.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{className:`${y(b,"background","accent")} rounded p-2 text-center`,children:[l.jsx("p",{className:y(b,"text","muted"),children:"Week Earnings"}),l.jsxs("p",{className:"font-medium text-green-600 dark:text-green-400",children:[C," ",(j=A.stats)==null?void 0:j.totalEarnings.toFixed(2)]})]}),l.jsxs("div",{className:`${y(b,"background","accent")} rounded p-2 text-center`,children:[l.jsx("p",{className:y(b,"text","muted"),children:"Projects Total"}),l.jsxs("p",{className:"font-medium text-blue-600 dark:text-blue-400",children:[C," ",(F=A.stats)==null?void 0:F.weeklyProjectTotal.toFixed(2)]})]}),l.jsxs("div",{className:`${y(b,"background","accent")} rounded p-2 text-center`,children:[l.jsx("p",{className:y(b,"text","muted"),children:"Assigned"}),l.jsx("p",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:(M=A.stats)==null?void 0:M.assignedTasks})]}),l.jsxs("div",{className:`${y(b,"background","accent")} rounded p-2 text-center`,children:[l.jsx("p",{className:y(b,"text","muted"),children:"Completed"}),l.jsx("p",{className:"font-medium text-green-600 dark:text-green-400",children:(H=A.stats)==null?void 0:H.completedTasks})]})]})]})},A.id)})})})]})}function JV({worker:e,workerProjects:t,setWorkerProjects:r,organization:n}){var T;const[a,i]=L.useState(!1),[s,o]=L.useState(null),[c,u]=L.useState(0),[d,f]=L.useState(""),[h,p]=L.useState({name:"",price:0,description:""}),{confirm:m,addToast:g}=Tr(),x=((T=tn[n.currency])==null?void 0:T.symbol)||n.currency,{theme:v}=Ht(),b=`mt-1 block w-full rounded-md ${nt(v,"border","primary")} shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-3 py-2 ${nt(v,"background","primary")} ${nt(v,"text","primary")}`,y=async()=>{if(!(!n||!e||!h.name.trim()||!h.price))try{const{data:N,error:w}=await We.from("worker_projects").insert([{organization_id:n.id,worker_id:e.id,name:h.name.trim(),price:h.price,description:h.description.trim()||null,status:"active"}]).select().single();if(w)throw w;r(_=>[..._,N]),p({name:"",price:0,description:""}),i(!1),g({type:"success",title:"Project Added",message:"The project has been added successfully."})}catch(N){console.error("Error adding project:",N),g({type:"error",title:"Error",message:"Failed to add project. Please try again."})}},C=async N=>{try{const{error:w}=await We.from("worker_projects").update({name:d,price:c,updated_at:new Date().toISOString()}).eq("id",N);if(w)throw w;r(_=>_.map(P=>P.id===N?{...P,name:d,price:c,updated_at:new Date().toISOString()}:P)),o(null),u(0),f(""),g({type:"success",title:"Project Updated",message:"The project has been updated successfully."})}catch(w){console.error("Error updating project:",w),g({type:"error",title:"Error",message:"Failed to update project. Please try again."})}},S=async N=>{if(await m({title:"Delete Project",message:"Are you sure you want to delete this project? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel"}))try{const{error:_}=await We.from("worker_projects").delete().eq("id",N);if(_)throw _;r(P=>P.filter(A=>A.id!==N)),g({type:"success",title:"Project Deleted",message:"The project has been deleted successfully."})}catch(_){console.error("Error deleting project:",_),g({type:"error",title:"Error",message:"Failed to delete project. Please try again."})}};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:`text-sm font-bold ${nt(v,"text","primary")}`,children:"Projects & Rates"}),l.jsxs("button",{onClick:()=>i(!0),className:`inline-flex items-center px-2.5 py-1.5 ${nt(v,"border","primary")} rounded-md text-xs font-medium ${nt(v,"text","secondary")} ${nt(v,"background","primary")} ${nt(v,"interactive","hover","background")}`,children:[l.jsx(Hn,{className:"h-3 w-3 mr-1"}),"Add Project"]})]}),a&&l.jsxs("div",{className:`mb-4 p-4 ${nt(v,"border","primary")} rounded-md ${nt(v,"background","secondary")}`,children:[l.jsx("h3",{className:`text-sm font-medium ${nt(v,"text","primary")} mb-4`,children:"Add New Project"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${nt(v,"text","secondary")}`,children:"Project Name"}),l.jsx("input",{type:"text",value:h.name,onChange:N=>p(w=>({...w,name:N.target.value})),className:b,placeholder:"Enter project name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${nt(v,"text","secondary")}`,children:"Description"}),l.jsx("textarea",{value:h.description,onChange:N=>p(w=>({...w,description:N.target.value})),className:b,placeholder:"Enter project description",rows:3})]}),l.jsxs("div",{children:[l.jsxs("label",{className:`block text-sm font-medium ${nt(v,"text","secondary")}`,children:["Price (",x,")"]}),l.jsx("input",{type:"number",value:h.price||"",onChange:N=>p(w=>({...w,price:parseFloat(N.target.value)||0})),className:b,min:"0",step:"0.01",placeholder:"Enter project price"})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>i(!1),className:`px-4 py-2 text-sm font-medium ${nt(v,"text","secondary")} ${nt(v,"interactive","hover","text")}`,children:"Cancel"}),l.jsx("button",{onClick:y,disabled:!h.name.trim()||!h.price,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400",children:"Add Project"})]})]})]}),l.jsx("div",{children:t.length===0?l.jsx("p",{className:`text-center ${nt(v,"text","muted")} py-4`,children:"No projects assigned yet."}):l.jsx("div",{className:`divide-y ${nt(v,"border","primary")}`,children:t.map(N=>l.jsx("div",{className:"py-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(dY,{className:`h-4 w-4 ${nt(v,"text","muted")} mr-2`}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${nt(v,"text","secondary")}`,children:s===N.id?l.jsx("input",{type:"text",value:d,onChange:w=>f(w.target.value),className:`${b} w-full`,placeholder:"Enter project name"}):N.name}),N.description&&l.jsx("p",{className:`text-xs ${nt(v,"text","muted")}`,children:N.description})]})]}),l.jsx("div",{className:"flex items-center",children:s===N.id?l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"number",value:c||"",onChange:w=>u(parseFloat(w.target.value)||0),className:`${b} w-24`,min:"0",step:"0.01"}),l.jsx("button",{onClick:()=>C(N.id),className:"text-green-600 hover:text-green-700",children:l.jsx(vr,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>o(null),className:"text-red-600 hover:text-red-700",children:l.jsx(Di,{className:"h-4 w-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:`text-sm font-semibold ${nt(v,"text","primary")} mr-4`,children:[x," ",N.price.toFixed(2)]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>{o(N.id),u(N.price),f(N.name)},className:"text-blue-600 hover:text-blue-700",children:l.jsx(To,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>S(N.id),className:"text-red-600 hover:text-red-700",title:"Delete project",children:l.jsx(gi,{className:"h-4 w-4"})})]})]})})]})},N.id))})})]})}const bA={pending:"Pending",in_progress:"In Progress",completed:"Completed",delayed:"Delayed",cancelled:"Cancelled"},QV={pending:"Clock",in_progress:"Clock",completed:"CheckCircle",delayed:"AlertCircle",cancelled:"XCircle"},ZV={pending:{bg:"bg-yellow-100 dark:bg-yellow-900/20",text:"text-yellow-800 dark:text-yellow-400",border:"border-yellow-200 dark:border-yellow-800",hover:"hover:bg-yellow-200 dark:hover:bg-yellow-900/30",icon:"text-yellow-600 dark:text-yellow-400"},in_progress:{bg:"bg-blue-100 dark:bg-blue-900/20",text:"text-blue-800 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",hover:"hover:bg-blue-200 dark:hover:bg-blue-900/30",icon:"text-blue-600 dark:text-blue-400"},completed:{bg:"bg-green-100 dark:bg-green-900/20",text:"text-green-800 dark:text-green-400",border:"border-green-200 dark:border-green-800",hover:"hover:bg-green-200 dark:hover:bg-green-900/30",icon:"text-green-600 dark:text-green-400"},delayed:{bg:"bg-red-100 dark:bg-red-900/20",text:"text-red-800 dark:text-red-400",border:"border-red-200 dark:border-red-800",hover:"hover:bg-red-200 dark:hover:bg-red-900/30",icon:"text-red-600 dark:text-red-400"},cancelled:{bg:"bg-gray-100 dark:bg-gray-900/20",text:"text-gray-800 dark:text-gray-400",border:"border-gray-200 dark:border-gray-800",hover:"hover:bg-gray-200 dark:hover:bg-gray-900/30",icon:"text-gray-600 dark:text-gray-400"}};function g$({isOpen:e,onClose:t,organizationId:r,currencySymbol:n,workerId:a,onTaskAdded:i}){const{theme:s,getThemeStyle:o}=Ht(),{addToast:c}=Tr(),[u,d]=L.useState([]),[f,h]=L.useState([]),[p,m]=L.useState({worker_id:a||"",project_id:"",description:"",status:"pending",due_date:new Date().toISOString().split("T")[0],delay_reason:""});L.useEffect(()=>{(async()=>{if(r){if(a){try{const{data:v,error:b}=await We.from("workers").select("id, name").eq("id",a);if(b)throw b;d(v||[])}catch(v){console.error("Error loading worker:",v),c({type:"error",title:"Error",message:"Failed to load worker"})}return}try{const{data:v,error:b}=await We.from("workers").select("id, name").eq("organization_id",r);if(b)throw b;d(v||[])}catch(v){console.error("Error loading workers:",v),c({type:"error",title:"Error",message:"Failed to load workers"})}}})()},[r,c]),L.useEffect(()=>{(async()=>{if(!(!r||!p.worker_id))try{const{data:v,error:b}=await We.from("worker_projects").select("*").eq("worker_id",p.worker_id).eq("status","active").order("created_at",{ascending:!1});if(b)throw b;h(v||[])}catch(v){console.error("Error loading worker projects:",v),c({type:"error",title:"Error",message:"Failed to load projects for this worker"})}})()},[r,p.worker_id,c]);const g=async()=>{if(!r||!p.worker_id||!p.project_id)return;const x=f.find(C=>C.id===p.project_id);if(!x)return;const v=new Date(p.due_date),b=Cc(new Date),y=I_(b,v);if(y&&!p.delay_reason){c({type:"error",title:"Invalid Date",message:"Please provide a reason for adding a task for a past date."});return}try{const{data:C,error:S}=await We.from("tasks").insert([{organization_id:r,worker_id:p.worker_id,project_id:p.project_id,description:p.description.trim()||null,due_date:p.due_date,status:p.status,amount:x.price,delay_reason:y?p.delay_reason:null}]).select().single();if(S)throw S;i&&C&&i(C),m({worker_id:"",project_id:"",description:"",status:"pending",due_date:new Date().toISOString().split("T")[0],delay_reason:""}),t(),c({type:"success",title:"Task Added",message:"The task has been successfully added."})}catch(C){console.error("Error adding task:",C),c({type:"error",title:"Error",message:"Failed to add task. Please try again."})}};return e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 transition-opacity duration-300",onClick:t}),l.jsx("div",{className:`fixed right-0 top-0 h-full w-[480px] max-w-full ${o(s,"background","secondary")} shadow-lg z-50 transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"translate-x-full"}`,children:l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:`p-4 border-b ${o(s,"border","primary")} flex items-center justify-between`,children:[l.jsx("h3",{className:`text-lg font-medium ${o(s,"text","primary")}`,children:"Add New Task"}),l.jsx("button",{onClick:t,className:`p-2 rounded-full ${o(s,"text","muted")} hover:${o(s,"background","accent")}`,children:l.jsx(Di,{className:"h-5 w-5"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${o(s,"text","secondary")} mb-2`,children:"Worker *"}),l.jsxs("select",{value:p.worker_id,onChange:x=>m(v=>({...v,worker_id:x.target.value,project_id:""})),className:`block w-full rounded-lg border ${o(s,"border","primary")} ${o(s,"background","primary")} py-2 px-3 text-sm ${o(s,"text","primary")} focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,children:[l.jsx("option",{value:"",children:"Select a worker"}),u.map(x=>l.jsx("option",{value:x.id,children:x.name},x.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${o(s,"text","secondary")} mb-2`,children:"Project *"}),l.jsxs("select",{value:p.project_id,onChange:x=>m(v=>({...v,project_id:x.target.value})),className:`block w-full rounded-lg border ${o(s,"border","primary")} ${o(s,"background","primary")} py-2 px-3 text-sm ${o(s,"text","primary")} focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50`,disabled:!p.worker_id,children:[l.jsx("option",{value:"",children:"Select a project"}),f.map(x=>l.jsxs("option",{value:x.id,children:[x.name," - ",n," ",x.price.toFixed(2)]},x.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${o(s,"text","secondary")} mb-2`,children:"Description"}),l.jsx("input",{type:"text",value:p.description,onChange:x=>m(v=>({...v,description:x.target.value})),className:`block w-full rounded-lg border ${o(s,"border","primary")} ${o(s,"background","primary")} py-2 px-3 text-sm ${o(s,"text","primary")} focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,placeholder:"Enter task description (optional)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${o(s,"text","secondary")} mb-2`,children:"Due Date *"}),l.jsx("input",{type:"date",value:p.due_date,onChange:x=>m(v=>({...v,due_date:x.target.value})),className:`block w-full rounded-lg border ${o(s,"border","primary")} ${o(s,"background","primary")} py-2 px-3 text-sm ${o(s,"text","primary")} focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,max:new Date().toISOString().split("T")[0]})]}),I_(Cc(new Date),new Date(p.due_date))&&l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${o(s,"text","secondary")} mb-2`,children:"Reason for Delay"}),l.jsx("textarea",{value:p.delay_reason,onChange:x=>m(v=>({...v,delay_reason:x.target.value,status:"delayed"})),className:`block w-full rounded-lg border ${o(s,"border","primary")} ${o(s,"background","primary")} py-2 px-3 text-sm ${o(s,"text","primary")} focus:ring-2 focus:ring-blue-500 focus:border-blue-500 h-20`,placeholder:"Please provide a reason for adding this task after the date",required:!0})]})]})}),l.jsxs("div",{className:`p-4 border-t ${o(s,"border","primary")} flex justify-end gap-3`,children:[l.jsx("button",{onClick:t,className:`px-4 py-2 text-sm font-medium ${o(s,"text","secondary")} border ${o(s,"border","primary")} rounded-lg ${o(s,"background","primary")} ${o(s,"interactive","hover","background")} transition-colors duration-200`,children:"Cancel"}),l.jsxs("button",{onClick:g,disabled:!p.worker_id||!p.project_id,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400 dark:disabled:bg-gray-600 flex items-center transition-colors duration-200",children:[l.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Add Task"]})]})]})})]}):null}const Yw={pending:"Pending",in_progress:"In Progress",completed:"Completed",delayed:"Delayed",cancelled:"Cancelled"},wA={pending:{bg:"bg-yellow-100 dark:bg-yellow-900/20",text:"text-yellow-800 dark:text-yellow-400",border:"border-yellow-200 dark:border-yellow-800",hover:"hover:bg-yellow-200 dark:hover:bg-yellow-900/30",icon:"text-yellow-600 dark:text-yellow-400"},in_progress:{bg:"bg-blue-100 dark:bg-blue-900/20",text:"text-blue-800 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",hover:"hover:bg-blue-200 dark:hover:bg-blue-900/30",icon:"text-blue-600 dark:text-blue-400"},completed:{bg:"bg-green-100 dark:bg-green-900/20",text:"text-green-800 dark:text-green-400",border:"border-green-200 dark:border-green-800",hover:"hover:bg-green-200 dark:hover:bg-green-900/30",icon:"text-green-600 dark:text-green-400"},delayed:{bg:"bg-red-100 dark:bg-red-900/20",text:"text-red-800 dark:text-red-400",border:"border-red-200 dark:border-red-800",hover:"hover:bg-red-200 dark:hover:bg-red-900/30",icon:"text-red-600 dark:text-red-400"},cancelled:{bg:"bg-gray-100 dark:bg-gray-900/20",text:"text-gray-800 dark:text-gray-400",border:"border-gray-200 dark:border-gray-800",hover:"hover:bg-gray-200 dark:hover:bg-gray-900/30",icon:"text-gray-600 dark:text-gray-400"}};function x$({isOpen:e,onClose:t,task:r,onStatusUpdate:n}){var d,f;const{theme:a,getThemeStyle:i}=Ht(),{addToast:s}=Tr(),[o,c]=L.useState((r==null?void 0:r.delay_reason)||"");if(!e||!r)return null;const u=async(h,p)=>{try{const m={status:h};h==="completed"?m.completed_at=new Date().toISOString():h==="delayed"&&(m.delay_reason=p),m.status_changed_at=new Date().toISOString();const{error:g}=await We.from("tasks").update(m).eq("id",r.id);if(g)throw g;const x={...r,...m};n(x),t(),s({type:"success",title:"Status Updated",message:`Task marked as ${Yw[h]}`})}catch(m){console.error("Error updating task status:",m),s({type:"error",title:"Error",message:"Failed to update task status"})}};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 transition-opacity duration-300",onClick:t}),l.jsxs("div",{className:`fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-md ${i(a,"background","secondary")} rounded-lg shadow-lg z-50 p-6 border ${i(a,"border","primary")}`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:`text-lg font-medium ${i(a,"text","primary")}`,children:"Update Task Status"}),l.jsx("button",{onClick:t,className:`p-1 rounded-full ${i(a,"text","muted")} hover:${i(a,"background","accent")}`,children:l.jsx(Di,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("p",{className:`text-sm ${i(a,"text","secondary")}`,children:[l.jsx("span",{className:"font-medium",children:"Project:"})," ",((d=r.project)==null?void 0:d.name)||"Unknown Project"]}),l.jsxs("p",{className:`text-sm ${i(a,"text","secondary")}`,children:[l.jsx("span",{className:"font-medium",children:"Worker:"})," ",((f=r.worker)==null?void 0:f.name)||"Unknown Worker"]}),l.jsxs("p",{className:`text-sm ${i(a,"text","secondary")}`,children:[l.jsx("span",{className:"font-medium",children:"Current Status:"})," ",Yw[r.status]]})]}),l.jsx("div",{className:"space-y-3",children:Object.entries(Yw).map(([h,p])=>h!=="cancelled"&&l.jsx("button",{onClick:()=>{if(h==="delayed"&&!o){s({type:"error",title:"Error",message:"Please provide a reason for the delay"});return}u(h,h==="delayed"?o:void 0)},className:`w-full px-3 py-2 text-sm font-medium rounded-md ${r.status===h?`${wA[h].bg} ${wA[h].text}`:`${i(a,"background","primary")} ${i(a,"text","primary")} ${i(a,"interactive","hover","background")}`}`,children:p},h))}),l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:`block text-sm font-medium ${i(a,"text","primary")} mb-2`,children:"Delay Reason"}),l.jsx("textarea",{value:o,onChange:h=>c(h.target.value),className:`block w-full rounded-md border ${i(a,"border","primary")} ${i(a,"background","primary")} py-2 px-3 text-sm ${i(a,"text","primary")} h-20`,placeholder:"Required if marking as delayed"})]})]})]})}function eG({worker:e,tasks:t,setTasks:r,workerProjects:n,organization:a}){var g;const[i,s]=L.useState(!1),[o,c]=L.useState(null),{confirm:u,addToast:d}=Tr(),{theme:f}=Ht(),h=((g=tn[a.currency])==null?void 0:g.symbol)||a.currency,p=async x=>{r(v=>[x,...v]),s(!1)},m=async x=>{if(await u({title:"Delete Task",message:"Are you sure you want to delete this task? This action cannot be undone.",type:"danger",confirmText:"Delete",cancelText:"Cancel"}))try{const{error:b}=await We.from("tasks").update({status:"cancelled"}).eq("id",x);if(b)throw b;r(y=>y.map(C=>C.id===x?{...C,status:"cancelled"}:C)),d({type:"success",title:"Task Deleted",message:"The task has been marked as cancelled."})}catch(b){console.error("Error deleting task:",b),d({type:"error",title:"Error",message:"Failed to delete task. Please try again."})}};return l.jsxs("div",{className:"overflow-hidden",children:[l.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:`text-lg font-medium ${f==="dark"?"text-white":"text-gray-900"}`,children:"Tasks"}),l.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Add Task"]})]}),l.jsx(g$,{isOpen:i,onClose:()=>s(!1),organizationId:a.id,currencySymbol:h,workerId:e.id,onTaskAdded:p}),l.jsx("div",{className:"space-y-4",children:t.length===0?l.jsx("div",{className:`text-center ${f==="dark"?"text-gray-400":"text-gray-500"} py-8`,children:"No tasks found. Start by adding a new task."}):l.jsx("div",{className:"grid gap-2",children:t.map(x=>{const v=n.find(C=>C.id===x.project_id),b=ZV[x.status],y=()=>{switch(QV[x.status]){case"Clock":return l.jsx(Co,{className:"h-4 w-4"});case"CheckCircle":return l.jsx(vr,{className:"h-4 w-4"});case"AlertCircle":return l.jsx(ZD,{className:"h-4 w-4"});case"XCircle":return l.jsx(Di,{className:"h-4 w-4"});default:return l.jsx(Co,{className:"h-4 w-4"})}};return l.jsx("div",{className:`border-l-4 ${b.border} p-2`,children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-12 gap-2 items-center",children:[l.jsxs("div",{className:"sm:hidden space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:b.icon,children:y()}),l.jsx("h4",{className:`text-sm font-medium ${x.status==="cancelled"?"line-through text-gray-400":f==="dark"?"text-white":"text-gray-900"}`,children:v==null?void 0:v.name})]}),l.jsxs("p",{className:`text-sm font-medium ${f==="dark"?"text-white":"text-gray-900"}`,children:[h," ",x.amount.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex gap-2 text-xs text-gray-500",children:[l.jsx("span",{children:St(new Date(x.created_at),"MMM d, HH:mm")}),x.completed_at&&l.jsxs("span",{children:[" ",St(new Date(x.completed_at),"MMM d, HH:mm")]})]}),x.status!=="cancelled"&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>c(x.id),className:`px-2 py-1 text-xs font-medium rounded-full ${b.bg} ${b.text} ${b.hover}`,children:bA[x.status]}),l.jsx("button",{onClick:()=>m(x.id),className:`p-1 ${f==="dark"?"text-red-400 hover:text-red-300":"text-red-400 hover:text-red-600"} rounded-full ${f==="dark"?"hover:bg-gray-600":"hover:bg-red-50"}`,children:l.jsx(gi,{className:"h-4 w-4"})})]})]})]}),l.jsxs("div",{className:"hidden sm:flex sm:col-span-4 items-center gap-2",children:[l.jsx("span",{className:b.icon,children:y()}),l.jsxs("div",{children:[l.jsx("h4",{className:`text-sm font-medium mb-1 ${x.status==="cancelled"?"line-through text-gray-400":f==="dark"?"text-white":"text-gray-900"}`,children:v==null?void 0:v.name}),x.description&&l.jsx("p",{className:`text-xs ${x.status==="cancelled"?"line-through text-gray-400":f==="dark"?"text-gray-400":"text-gray-500"}`,children:x.description})]})]}),l.jsxs("div",{className:"hidden sm:block sm:col-span-4 text-xs text-gray-500",children:[x.late_reason&&l.jsxs("p",{className:"text-orange-600",children:["Late: ",x.late_reason]}),x.status==="delayed"&&x.delay_reason&&l.jsxs("p",{className:"text-red-600",children:["Delay: ",x.delay_reason]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{children:St(new Date(x.created_at),"MMM d, HH:mm")}),x.completed_at&&l.jsxs("span",{children:[" ",St(new Date(x.completed_at),"MMM d, HH:mm")]})]})]}),l.jsx("div",{className:"hidden sm:block sm:col-span-2 text-right text-xs",children:l.jsxs("p",{className:`font-medium ${f==="dark"?"text-white":"text-gray-900"}`,children:[h," ",x.amount.toFixed(2)]})}),l.jsx("div",{className:"hidden sm:flex sm:col-span-2 items-center justify-end gap-1",children:x.status!=="cancelled"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>c(x.id),className:`px-2 py-1 text-xs font-medium rounded-full ${b.bg} ${b.text} ${b.hover}`,children:bA[x.status]}),l.jsx("button",{onClick:()=>m(x.id),className:`p-1 ${f==="dark"?"text-red-400 hover:text-red-300":"text-red-400 hover:text-red-600"} rounded-full ${f==="dark"?"hover:bg-gray-600":"hover:bg-red-50"}`,children:l.jsx(gi,{className:"h-4 w-4"})})]})})]})},x.id)})})})]}),o&&l.jsx(x$,{isOpen:!!o,onClose:()=>c(null),task:t.find(x=>x.id===o)||null,onStatusUpdate:x=>{r(v=>v.map(b=>b.id===x.id?x:b)),c(null)}})]})}function Yr(e){"@babel/helpers - typeof";return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(e)}var Va=Uint8Array,Yi=Uint16Array,S3=Int32Array,z1=new Va([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Y1=new Va([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),R_=new Va([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v$=function(e,t){for(var r=new Yi(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new S3(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},y$=v$(z1,2),b$=y$.b,B_=y$.r;b$[28]=258,B_[258]=28;var w$=v$(Y1,0),tG=w$.b,_A=w$.r,U_=new Yi(32768);for(var hn=0;hn<32768;++hn){var Zl=(hn&43690)>>1|(hn&21845)<<1;Zl=(Zl&52428)>>2|(Zl&13107)<<2,Zl=(Zl&61680)>>4|(Zl&3855)<<4,U_[hn]=((Zl&65280)>>8|(Zl&255)<<8)>>1}var ko=function(e,t,r){for(var n=e.length,a=0,i=new Yi(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new Yi(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new Yi(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=s[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)o[U_[f]>>c]=u}else for(o=new Yi(n),a=0;a<n;++a)e[a]&&(o[a]=U_[s[e[a]-1]++]>>15-e[a]);return o},Oc=new Va(288);for(var hn=0;hn<144;++hn)Oc[hn]=8;for(var hn=144;hn<256;++hn)Oc[hn]=9;for(var hn=256;hn<280;++hn)Oc[hn]=7;for(var hn=280;hn<288;++hn)Oc[hn]=8;var mm=new Va(32);for(var hn=0;hn<32;++hn)mm[hn]=5;var rG=ko(Oc,9,0),nG=ko(Oc,9,1),aG=ko(mm,5,0),iG=ko(mm,5,1),Vw=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Os=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},Gw=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},N3=function(e){return(e+7)/8|0},_$=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Va(e.subarray(t,r))},sG=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ls=function(e,t,r){var n=new Error(t||sG[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Ls),!r)throw n;return n},oG=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Va(0);var s=!r,o=s||t.i!=2,c=t.i;s&&(r=new Va(a*3));var u=function(re){var O=r.length;if(re>O){var de=new Va(Math.max(O*2,re));de.set(r),r=de}},d=t.f||0,f=t.p||0,h=t.b||0,p=t.l,m=t.d,g=t.m,x=t.n,v=a*8;do{if(!p){d=Os(e,f,1);var b=Os(e,f+1,3);if(f+=3,b)if(b==1)p=nG,m=iG,g=9,x=5;else if(b==2){var T=Os(e,f,31)+257,N=Os(e,f+10,15)+4,w=T+Os(e,f+5,31)+1;f+=14;for(var _=new Va(w),P=new Va(19),A=0;A<N;++A)P[R_[A]]=Os(e,f+A*3,7);f+=N*3;for(var j=Vw(P),F=(1<<j)-1,M=ko(P,j,1),A=0;A<w;){var H=M[Os(e,f,F)];f+=H&15;var y=H>>4;if(y<16)_[A++]=y;else{var q=0,Y=0;for(y==16?(Y=3+Os(e,f,3),f+=2,q=_[A-1]):y==17?(Y=3+Os(e,f,7),f+=3):y==18&&(Y=11+Os(e,f,127),f+=7);Y--;)_[A++]=q}}var X=_.subarray(0,T),I=_.subarray(T);g=Vw(X),x=Vw(I),p=ko(X,g,1),m=ko(I,x,1)}else Ls(1);else{var y=N3(f)+4,C=e[y-4]|e[y-3]<<8,S=y+C;if(S>a){c&&Ls(0);break}o&&u(h+C),r.set(e.subarray(y,S),h),t.b=h+=C,t.p=f=S*8,t.f=d;continue}if(f>v){c&&Ls(0);break}}o&&u(h+131072);for(var J=(1<<g)-1,Q=(1<<x)-1,E=f;;E=f){var q=p[Gw(e,f)&J],R=q>>4;if(f+=q&15,f>v){c&&Ls(0);break}if(q||Ls(2),R<256)r[h++]=R;else if(R==256){E=f,p=null;break}else{var U=R-254;if(R>264){var A=R-257,z=z1[A];U=Os(e,f,(1<<z)-1)+b$[A],f+=z}var G=m[Gw(e,f)&Q],ae=G>>4;G||Ls(3),f+=G&15;var I=tG[ae];if(ae>3){var z=Y1[ae];I+=Gw(e,f)&(1<<z)-1,f+=z}if(f>v){c&&Ls(0);break}o&&u(h+131072);var ee=h+U;if(h<I){var W=i-I,Z=Math.min(I,ee);for(W+h<0&&Ls(3);h<Z;++h)r[h]=n[W+h]}for(;h<ee;++h)r[h]=r[h-I]}}t.l=p,t.p=E,t.b=h,t.f=d,p&&(d=1,t.m=g,t.d=m,t.n=x)}while(!d);return h!=r.length&&s?_$(r,0,h):r.subarray(0,h)},el=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},V0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Kw=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:S$,l:0};if(a==1){var s=new Va(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(S,T){return S.f-T.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=a-1;)o=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new Yi(h+1),m=W_(r[d-1],p,0);if(m>t){var n=0,g=0,x=m-t,v=1<<x;for(i.sort(function(T,N){return p[N.s]-p[T.s]||T.f-N.f});n<a;++n){var b=i[n].s;if(p[b]>t)g+=v-(1<<m-p[b]),p[b]=t;else break}for(g>>=x;g>0;){var y=i[n].s;p[y]<t?g-=1<<t-p[y]++-1:++n}for(;n>=0&&g;--n){var C=i[n].s;p[C]==t&&(--p[C],++g)}m=t}return{t:new Va(p),l:m}},W_=function(e,t,r){return e.s==-1?Math.max(W_(e.l,t,r+1),W_(e.r,t,r+1)):t[e.s]=r},kA=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Yi(++t),n=0,a=e[0],i=1,s=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},G0=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},k$=function(e,t,r){var n=r.length,a=N3(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},SA=function(e,t,r,n,a,i,s,o,c,u,d){el(t,d++,r),++a[256];for(var f=Kw(a,15),h=f.t,p=f.l,m=Kw(i,15),g=m.t,x=m.l,v=kA(h),b=v.c,y=v.n,C=kA(g),S=C.c,T=C.n,N=new Yi(19),w=0;w<b.length;++w)++N[b[w]&31];for(var w=0;w<S.length;++w)++N[S[w]&31];for(var _=Kw(N,7),P=_.t,A=_.l,j=19;j>4&&!P[R_[j-1]];--j);var F=u+5<<3,M=G0(a,Oc)+G0(i,mm)+s,H=G0(a,h)+G0(i,g)+s+14+3*j+G0(N,P)+2*N[16]+3*N[17]+7*N[18];if(c>=0&&F<=M&&F<=H)return k$(t,d,e.subarray(c,c+u));var q,Y,X,I;if(el(t,d,1+(H<M)),d+=2,H<M){q=ko(h,p,0),Y=h,X=ko(g,x,0),I=g;var J=ko(P,A,0);el(t,d,y-257),el(t,d+5,T-1),el(t,d+10,j-4),d+=14;for(var w=0;w<j;++w)el(t,d+3*w,P[R_[w]]);d+=3*j;for(var Q=[b,S],E=0;E<2;++E)for(var R=Q[E],w=0;w<R.length;++w){var U=R[w]&31;el(t,d,J[U]),d+=P[U],U>15&&(el(t,d,R[w]>>5&127),d+=R[w]>>12)}}else q=rG,Y=Oc,X=aG,I=mm;for(var w=0;w<o;++w){var z=n[w];if(z>255){var U=z>>18&31;V0(t,d,q[U+257]),d+=Y[U+257],U>7&&(el(t,d,z>>23&31),d+=z1[U]);var G=z&31;V0(t,d,X[G]),d+=I[G],G>3&&(V0(t,d,z>>5&8191),d+=Y1[G])}else V0(t,d,q[z]),d+=Y[z]}return V0(t,d,q[256]),d+Y[256]},lG=new S3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),S$=new Va(0),cG=function(e,t,r,n,a,i){var s=i.z||e.length,o=new Va(n+s+5*(1+Math.ceil(s/7e3))+a),c=o.subarray(n,o.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var f=lG[t-1],h=f>>13,p=f&8191,m=(1<<r)-1,g=i.p||new Yi(32768),x=i.h||new Yi(m+1),v=Math.ceil(r/3),b=2*v,y=function(ce){return(e[ce]^e[ce+1]<<v^e[ce+2]<<b)&m},C=new S3(25e3),S=new Yi(288),T=new Yi(32),N=0,w=0,_=i.i||0,P=0,A=i.w||0,j=0;_+2<s;++_){var F=y(_),M=_&32767,H=x[F];if(g[M]=H,x[F]=M,A<=_){var q=s-_;if((N>7e3||P>24576)&&(q>423||!u)){d=SA(e,c,0,C,S,T,w,P,j,_-j,d),P=N=w=0,j=_;for(var Y=0;Y<286;++Y)S[Y]=0;for(var Y=0;Y<30;++Y)T[Y]=0}var X=2,I=0,J=p,Q=M-H&32767;if(q>2&&F==y(_-Q))for(var E=Math.min(h,q)-1,R=Math.min(32767,_),U=Math.min(258,q);Q<=R&&--J&&M!=H;){if(e[_+X]==e[_+X-Q]){for(var z=0;z<U&&e[_+z]==e[_+z-Q];++z);if(z>X){if(X=z,I=Q,z>E)break;for(var G=Math.min(Q,z-2),ae=0,Y=0;Y<G;++Y){var ee=_-Q+Y&32767,W=g[ee],Z=ee-W&32767;Z>ae&&(ae=Z,H=ee)}}}M=H,H=g[M],Q+=M-H&32767}if(I){C[P++]=268435456|B_[X]<<18|_A[I];var re=B_[X]&31,O=_A[I]&31;w+=z1[re]+Y1[O],++S[257+re],++T[O],A=_+X,++N}else C[P++]=e[_],++S[e[_]]}}for(_=Math.max(_,A);_<s;++_)C[P++]=e[_],++S[e[_]];d=SA(e,c,u,C,S,T,w,P,j,_-j,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=x,i.p=g,i.i=_,i.w=A)}else{for(var _=i.w||0;_<s+u;_+=65535){var de=_+65535;de>=s&&(c[d/8|0]=u,de=s),d=k$(c,d+1,e.subarray(_,de))}i.i=s}return _$(o,0,n+N3(d)+a)},N$=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},uG=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new Va(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return cG(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},j$=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},dG=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=N$();a.p(t.dictionary),j$(e,2,a.d())}},fG=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ls(6,"invalid zlib data"),(e[1]>>5&1)==1&&Ls(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function q_(e,t){t||(t={});var r=N$();r.p(e);var n=uG(e,t,t.dictionary?6:2,4);return dG(n,t),j$(n,n.length-4,r.d()),n}function hG(e,t){return oG(e.subarray(fG(e),-4),{i:2},t,t)}var pG=typeof TextDecoder<"u"&&new TextDecoder,mG=0;try{pG.decode(S$,{stream:!0}),mG=1}catch{}var Ut=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Xw(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var Zr={log:Xw,warn:function(e){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):Xw.call(null,arguments))},error:function(e){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):Xw(e))}};function Jw(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){mu(n.response,t,r)},n.onerror=function(){Zr.error("could not download file")},n.send()}function NA(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function zx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var qp,H_,mu=Ut.saveAs||((typeof window>"u"?"undefined":Yr(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Ut.URL||Ut.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?NA(a.href)?Jw(e,t,r):zx(a,a.target="_blank"):zx(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){zx(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(NA(e))Jw(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){zx(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Yr(i)!=="object"&&(Zr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Jw(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Ut.HTMLElement)||Ut.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":Yr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(e)}else{var c=Ut.URL||Ut.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function A$(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Qw(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Ia(r,n,a,i,t[0],7,-680876936),i=Ia(i,r,n,a,t[1],12,-389564586),a=Ia(a,i,r,n,t[2],17,606105819),n=Ia(n,a,i,r,t[3],22,-1044525330),r=Ia(r,n,a,i,t[4],7,-176418897),i=Ia(i,r,n,a,t[5],12,1200080426),a=Ia(a,i,r,n,t[6],17,-1473231341),n=Ia(n,a,i,r,t[7],22,-45705983),r=Ia(r,n,a,i,t[8],7,1770035416),i=Ia(i,r,n,a,t[9],12,-1958414417),a=Ia(a,i,r,n,t[10],17,-42063),n=Ia(n,a,i,r,t[11],22,-1990404162),r=Ia(r,n,a,i,t[12],7,1804603682),i=Ia(i,r,n,a,t[13],12,-40341101),a=Ia(a,i,r,n,t[14],17,-1502002290),r=Ra(r,n=Ia(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Ra(i,r,n,a,t[6],9,-1069501632),a=Ra(a,i,r,n,t[11],14,643717713),n=Ra(n,a,i,r,t[0],20,-373897302),r=Ra(r,n,a,i,t[5],5,-701558691),i=Ra(i,r,n,a,t[10],9,38016083),a=Ra(a,i,r,n,t[15],14,-660478335),n=Ra(n,a,i,r,t[4],20,-405537848),r=Ra(r,n,a,i,t[9],5,568446438),i=Ra(i,r,n,a,t[14],9,-1019803690),a=Ra(a,i,r,n,t[3],14,-187363961),n=Ra(n,a,i,r,t[8],20,1163531501),r=Ra(r,n,a,i,t[13],5,-1444681467),i=Ra(i,r,n,a,t[2],9,-51403784),a=Ra(a,i,r,n,t[7],14,1735328473),r=Ba(r,n=Ra(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Ba(i,r,n,a,t[8],11,-2022574463),a=Ba(a,i,r,n,t[11],16,1839030562),n=Ba(n,a,i,r,t[14],23,-35309556),r=Ba(r,n,a,i,t[1],4,-1530992060),i=Ba(i,r,n,a,t[4],11,1272893353),a=Ba(a,i,r,n,t[7],16,-155497632),n=Ba(n,a,i,r,t[10],23,-1094730640),r=Ba(r,n,a,i,t[13],4,681279174),i=Ba(i,r,n,a,t[0],11,-358537222),a=Ba(a,i,r,n,t[3],16,-722521979),n=Ba(n,a,i,r,t[6],23,76029189),r=Ba(r,n,a,i,t[9],4,-640364487),i=Ba(i,r,n,a,t[12],11,-421815835),a=Ba(a,i,r,n,t[15],16,530742520),r=Ua(r,n=Ba(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Ua(i,r,n,a,t[7],10,1126891415),a=Ua(a,i,r,n,t[14],15,-1416354905),n=Ua(n,a,i,r,t[5],21,-57434055),r=Ua(r,n,a,i,t[12],6,1700485571),i=Ua(i,r,n,a,t[3],10,-1894986606),a=Ua(a,i,r,n,t[10],15,-1051523),n=Ua(n,a,i,r,t[1],21,-2054922799),r=Ua(r,n,a,i,t[8],6,1873313359),i=Ua(i,r,n,a,t[15],10,-30611744),a=Ua(a,i,r,n,t[6],15,-1560198380),n=Ua(n,a,i,r,t[13],21,1309151649),r=Ua(r,n,a,i,t[4],6,-145523070),i=Ua(i,r,n,a,t[11],10,-1120210379),a=Ua(a,i,r,n,t[2],15,718787259),n=Ua(n,a,i,r,t[9],21,-343485551),e[0]=fc(r,e[0]),e[1]=fc(n,e[1]),e[2]=fc(a,e[2]),e[3]=fc(i,e[3])}function V1(e,t,r,n,a,i){return t=fc(fc(t,e),fc(n,i)),fc(t<<a|t>>>32-a,r)}function Ia(e,t,r,n,a,i,s){return V1(t&r|~t&n,e,t,a,i,s)}function Ra(e,t,r,n,a,i,s){return V1(t&n|r&~n,e,t,a,i,s)}function Ba(e,t,r,n,a,i,s){return V1(t^r^n,e,t,a,i,s)}function Ua(e,t,r,n,a,i,s){return V1(r^(t|~n),e,t,a,i,s)}function C$(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Qw(n,gG(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Qw(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,Qw(n,a),n}function gG(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}qp=Ut.atob.bind(Ut),H_=Ut.btoa.bind(Ut);var jA="0123456789abcdef".split("");function xG(e){for(var t="",r=0;r<4;r++)t+=jA[e>>8*r+4&15]+jA[e>>8*r&15];return t}function vG(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function z_(e){return C$(e).map(vG).join("")}var yG=function(e){for(var t=0;t<e.length;t++)e[t]=xG(e[t]);return e.join("")}(C$("hello"))!="5d41402abc4b2a76b9719d911017c592";function fc(e,t){if(yG){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Y_(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var d=o[c];u=(u+d+s.charCodeAt(c))%256,o[c]=o[u],o[u]=d}r=e,n=o}else o=n;var f=t.length,h=0,p=0,m="";for(c=0;c<f;c++)p=(p+(d=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=d,s=o[(o[h]+o[p])%256],m+=String.fromCharCode(t.charCodeAt(c)^s);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var AA={print:4,modify:8,copy:16,"annot-forms":32};function kf(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(AA.perm!==void 0)throw new Error("Invalid permission: "+o);a+=AA[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=z_(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Y_(this.encryptionKey,this.padding)}function Sf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function CA(e){if(Yr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){Ut.console&&Zr.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function gm(e){if(!(this instanceof gm))return new gm(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function T$(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function cc(e,t,r,n,a){if(!(this instanceof cc))return new cc(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,T$.call(this,n,a)}function Nu(e,t,r,n,a){if(!(this instanceof Nu))return new Nu(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,T$.call(this,n,a)}function Lt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,c=16,u="S",d=null;Yr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=CA;var m="1.3",g=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(B){m=B};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return x};var v=p.__private__.getPageFormat=function(B){return x[B]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},y=b.COMPAT;function C(){this.saveGraphicsState(),K(new Ot(De,0,0,-De,0,Bl()*De).toString()+" cm"),this.setFontSize(this.getFontSize()/De),u="n",y=b.ADVANCED}function S(){this.restoreGraphicsState(),u="S",y=b.COMPAT}var T=p.__private__.combineFontStyleAndFontWeight=function(B,se){if(B=="bold"&&se=="normal"||B=="bold"&&se==400||B=="normal"&&se=="italic"||B=="bold"&&se=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(B=se==400||se==="normal"?B==="italic"?"italic":"normal":se!=700&&se!=="bold"||B!=="normal"?(se==700?"bold":se)+""+B:"bold"),B};p.advancedAPI=function(B){var se=y===b.COMPAT;return se&&C.call(this),typeof B!="function"||(B(this),se&&S.call(this)),this},p.compatAPI=function(B){var se=y===b.ADVANCED;return se&&S.call(this),typeof B!="function"||(B(this),se&&C.call(this)),this},p.isAdvancedAPI=function(){return y===b.ADVANCED};var N,w=function(B){if(y!==b.ADVANCED)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},_=p.roundToPrecision=p.__private__.roundToPrecision=function(B,se){var Ce=t||se;if(isNaN(B)||isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(Ce).replace(/0+$/,"")};N=p.hpf=p.__private__.hpf=typeof c=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return _(B,c)}:c==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return _(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return _(B,16)};var P=p.f2=p.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return _(B,2)},A=p.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return _(B,3)},j=p.scale=p.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return y===b.COMPAT?B*De:y===b.ADVANCED?B:void 0},F=function(B){return y===b.COMPAT?Bl()-B:y===b.ADVANCED?B:void 0},M=function(B){return j(F(B))};p.__private__.setPrecision=p.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(t=parseInt(B,10))};var H,q="00000000000000000000000000000000",Y=p.__private__.getFileId=function(){return q},X=p.__private__.setFileId=function(B){return q=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Fa=new kf(d.userPermissions,d.userPassword,d.ownerPassword,q)),q};p.setFileId=function(B){return X(B),this},p.getFileId=function(){return Y()};var I=p.__private__.convertDateToPDFDate=function(B){var se=B.getTimezoneOffset(),Ce=se<0?"+":"-",Me=Math.floor(Math.abs(se/60)),ze=Math.abs(se%60),tt=[Ce,U(Me),"'",U(ze),"'"].join("");return["D:",B.getFullYear(),U(B.getMonth()+1),U(B.getDate()),U(B.getHours()),U(B.getMinutes()),U(B.getSeconds()),tt].join("")},J=p.__private__.convertPDFDateToDate=function(B){var se=parseInt(B.substr(2,4),10),Ce=parseInt(B.substr(6,2),10)-1,Me=parseInt(B.substr(8,2),10),ze=parseInt(B.substr(10,2),10),tt=parseInt(B.substr(12,2),10),ct=parseInt(B.substr(14,2),10);return new Date(se,Ce,Me,ze,tt,ct,0)},Q=p.__private__.setCreationDate=function(B){var se;if(B===void 0&&(B=new Date),B instanceof Date)se=I(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=B}return H=se},E=p.__private__.getCreationDate=function(B){var se=H;return B==="jsDate"&&(se=J(H)),se};p.setCreationDate=function(B){return Q(B),this},p.getCreationDate=function(B){return E(B)};var R,U=p.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},z=p.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},G=0,ae=[],ee=[],W=0,Z=[],re=[],O=!1,de=ee,ce=function(){G=0,W=0,ee=[],ae=[],Z=[],xe=Er(),ye=Er()};p.__private__.setCustomOutputDestination=function(B){O=!0,de=B};var pe=function(B){O||(de=B)};p.__private__.resetCustomOutputDestination=function(){O=!1,de=ee};var K=p.__private__.out=function(B){return B=B.toString(),W+=B.length+1,de.push(B),de},ne=p.__private__.write=function(B){return K(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},Te=p.__private__.getArrayBuffer=function(B){for(var se=B.length,Ce=new ArrayBuffer(se),Me=new Uint8Array(Ce);se--;)Me[se]=B.charCodeAt(se);return Ce},Ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ee};var $e=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(B){return $e=y===b.ADVANCED?B/De:B,this};var Pe,Fe=p.__private__.getFontSize=p.getFontSize=function(){return y===b.COMPAT?$e:$e*De},ve=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(B){return ve=B,this},p.__private__.getR2L=p.getR2L=function(){return ve};var me,le=p.__private__.setZoomMode=function(B){var se=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))Pe=B;else if(isNaN(B)){if(se.indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');Pe=B}else Pe=parseInt(B,10)};p.__private__.getZoomMode=function(){return Pe};var be,Oe=p.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');me=B};p.__private__.getPageMode=function(){return me};var je=p.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');be=B};p.__private__.getLayoutMode=function(){return be},p.__private__.setDisplayMode=p.setDisplayMode=function(B,se,Ce){return le(B),je(se),Oe(Ce),this};var Ae={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(B){if(Object.keys(Ae).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ae[B]},p.__private__.getDocumentProperties=function(){return Ae},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(B){for(var se in Ae)Ae.hasOwnProperty(se)&&B[se]&&(Ae[se]=B[se]);return this},p.__private__.setDocumentProperty=function(B,se){if(Object.keys(Ae).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ae[B]=se};var Be,De,et,Qe,kt,jt={},bt={},Vt=[],Pt={},Ir={},wr={},pn={},bn=null,gr=0,Ft=[],er=new CA(p),Da=e.hotfixes||[],Kr={},Sn={},Dn=[],Ot=function B(se,Ce,Me,ze,tt,ct){if(!(this instanceof B))return new B(se,Ce,Me,ze,tt,ct);isNaN(se)&&(se=1),isNaN(Ce)&&(Ce=0),isNaN(Me)&&(Me=0),isNaN(ze)&&(ze=1),isNaN(tt)&&(tt=0),isNaN(ct)&&(ct=0),this._matrix=[se,Ce,Me,ze,tt,ct]};Object.defineProperty(Ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(Ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(Ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(Ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(Ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(Ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(Ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(Ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(Ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(Ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(Ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(Ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(Ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ot.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(B)},Ot.prototype.multiply=function(B){var se=B.sx*this.sx+B.shy*this.shx,Ce=B.sx*this.shy+B.shy*this.sy,Me=B.shx*this.sx+B.sy*this.shx,ze=B.shx*this.shy+B.sy*this.sy,tt=B.tx*this.sx+B.ty*this.shx+this.tx,ct=B.tx*this.shy+B.ty*this.sy+this.ty;return new Ot(se,Ce,Me,ze,tt,ct)},Ot.prototype.decompose=function(){var B=this.sx,se=this.shy,Ce=this.shx,Me=this.sy,ze=this.tx,tt=this.ty,ct=Math.sqrt(B*B+se*se),vt=(B/=ct)*Ce+(se/=ct)*Me;Ce-=B*vt,Me-=se*vt;var Mt=Math.sqrt(Ce*Ce+Me*Me);return vt/=Mt,B*(Me/=Mt)<se*(Ce/=Mt)&&(B=-B,se=-se,vt=-vt,ct=-ct),{scale:new Ot(ct,0,0,Mt,0,0),translate:new Ot(1,0,0,1,ze,tt),rotate:new Ot(B,se,-se,B,0,0),skew:new Ot(1,0,vt,1,0,0)}},Ot.prototype.toString=function(B){return this.join(" ")},Ot.prototype.inversed=function(){var B=this.sx,se=this.shy,Ce=this.shx,Me=this.sy,ze=this.tx,tt=this.ty,ct=1/(B*Me-se*Ce),vt=Me*ct,Mt=-se*ct,Jt=-Ce*ct,Gt=B*ct;return new Ot(vt,Mt,Jt,Gt,-vt*ze-Jt*tt,-Mt*ze-Gt*tt)},Ot.prototype.applyToPoint=function(B){var se=B.x*this.sx+B.y*this.shx+this.tx,Ce=B.x*this.shy+B.y*this.sy+this.ty;return new Ud(se,Ce)},Ot.prototype.applyToRectangle=function(B){var se=this.applyToPoint(B),Ce=this.applyToPoint(new Ud(B.x+B.w,B.y+B.h));return new k0(se.x,se.y,Ce.x-se.x,Ce.y-se.y)},Ot.prototype.clone=function(){var B=this.sx,se=this.shy,Ce=this.shx,Me=this.sy,ze=this.tx,tt=this.ty;return new Ot(B,se,Ce,Me,ze,tt)},p.Matrix=Ot;var Yn=p.matrixMult=function(B,se){return se.multiply(B)},Ct=new Ot(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ct;var ar=function(B,se){if(!Ir[B]){var Ce=(se instanceof cc?"Sh":"P")+(Object.keys(Pt).length+1).toString(10);se.id=Ce,Ir[B]=Ce,Pt[Ce]=se,er.publish("addPattern",se)}};p.ShadingPattern=cc,p.TilingPattern=Nu,p.addShadingPattern=function(B,se){return w("addShadingPattern()"),ar(B,se),this},p.beginTilingPattern=function(B){w("beginTilingPattern()"),px(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},p.endTilingPattern=function(B,se){w("endTilingPattern()"),se.stream=re[R].join(`
`),ar(B,se),er.publish("endTilingPattern",se),Dn.pop().restore()};var fr=p.__private__.newObject=function(){var B=Er();return oe(B,!0),B},Er=p.__private__.newObjectDeferred=function(){return G++,ae[G]=function(){return W},G},oe=function(B,se){return se=typeof se=="boolean"&&se,ae[B]=W,se&&K(B+" 0 obj"),B},Se=p.__private__.newAdditionalObject=function(){var B={objId:Er(),content:""};return Z.push(B),B},xe=Er(),ye=Er(),_e=p.__private__.decodeColorString=function(B){var se=B.split(" ");if(se.length!==2||se[1]!=="g"&&se[1]!=="G")se.length===5&&(se[4]==="k"||se[4]==="K")&&(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var Ce=parseFloat(se[0]);se=[Ce,Ce,Ce,"r"]}for(var Me="#",ze=0;ze<3;ze++)Me+=("0"+Math.floor(255*parseFloat(se[ze])).toString(16)).slice(-2);return Me},Ne=p.__private__.encodeColorString=function(B){var se;typeof B=="string"&&(B={ch1:B});var Ce=B.ch1,Me=B.ch2,ze=B.ch3,tt=B.ch4,ct=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ce=="string"&&Ce.charAt(0)!=="#"){var vt=new A$(Ce);if(vt.ok)Ce=vt.toHex();else if(!/^\d*\.?\d*$/.test(Ce))throw new Error('Invalid color "'+Ce+'" passed to jsPDF.encodeColorString.')}if(typeof Ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ce)&&(Ce="#"+Ce[1]+Ce[1]+Ce[2]+Ce[2]+Ce[3]+Ce[3]),typeof Ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ce)){var Mt=parseInt(Ce.substr(1),16);Ce=Mt>>16&255,Me=Mt>>8&255,ze=255&Mt}if(Me===void 0||tt===void 0&&Ce===Me&&Me===ze)if(typeof Ce=="string")se=Ce+" "+ct[0];else switch(B.precision){case 2:se=P(Ce/255)+" "+ct[0];break;case 3:default:se=A(Ce/255)+" "+ct[0]}else if(tt===void 0||Yr(tt)==="object"){if(tt&&!isNaN(tt.a)&&tt.a===0)return se=["1.","1.","1.",ct[1]].join(" ");if(typeof Ce=="string")se=[Ce,Me,ze,ct[1]].join(" ");else switch(B.precision){case 2:se=[P(Ce/255),P(Me/255),P(ze/255),ct[1]].join(" ");break;default:case 3:se=[A(Ce/255),A(Me/255),A(ze/255),ct[1]].join(" ")}}else if(typeof Ce=="string")se=[Ce,Me,ze,tt,ct[2]].join(" ");else switch(B.precision){case 2:se=[P(Ce),P(Me),P(ze),P(tt),ct[2]].join(" ");break;case 3:default:se=[A(Ce),A(Me),A(ze),A(tt),ct[2]].join(" ")}return se},He=p.__private__.getFilters=function(){return s},Je=p.__private__.putStream=function(B){var se=(B=B||{}).data||"",Ce=B.filters||He(),Me=B.alreadyAppliedFilters||[],ze=B.addLength1||!1,tt=se.length,ct=B.objectId,vt=function(La){return La};if(d!==null&&ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(vt=Fa.encryptor(ct,0));var Mt={};Ce===!0&&(Ce=["FlateEncode"]);var Jt=B.additionalKeyValues||[],Gt=(Mt=Lt.API.processDataByFilters!==void 0?Lt.API.processDataByFilters(se,Ce):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(Me)?Me.join(" "):Me.toString());if(Mt.data.length!==0&&(Jt.push({key:"Length",value:Mt.data.length}),ze===!0&&Jt.push({key:"Length1",value:tt})),Gt.length!=0)if(Gt.split("/").length-1==1)Jt.push({key:"Filter",value:Gt});else{Jt.push({key:"Filter",value:"["+Gt+"]"});for(var _r=0;_r<Jt.length;_r+=1)if(Jt[_r].key==="DecodeParms"){for(var wn=[],Nn=0;Nn<Mt.reverseChain.split("/").length-1;Nn+=1)wn.push("null");wn.push(Jt[_r].value),Jt[_r].value="["+wn.join(" ")+"]"}}K("<<");for(var Vn=0;Vn<Jt.length;Vn++)K("/"+Jt[Vn].key+" "+Jt[Vn].value);K(">>"),Mt.data.length!==0&&(K("stream"),K(vt(Mt.data)),K("endstream"))},Ye=p.__private__.putPage=function(B){var se=B.number,Ce=B.data,Me=B.objId,ze=B.contentsObjId;oe(Me,!0),K("<</Type /Page"),K("/Parent "+B.rootDictionaryObjId+" 0 R"),K("/Resources "+B.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(N(B.mediaBox.bottomLeftX))+" "+parseFloat(N(B.mediaBox.bottomLeftY))+" "+N(B.mediaBox.topRightX)+" "+N(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&K("/CropBox ["+N(B.cropBox.bottomLeftX)+" "+N(B.cropBox.bottomLeftY)+" "+N(B.cropBox.topRightX)+" "+N(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&K("/BleedBox ["+N(B.bleedBox.bottomLeftX)+" "+N(B.bleedBox.bottomLeftY)+" "+N(B.bleedBox.topRightX)+" "+N(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&K("/TrimBox ["+N(B.trimBox.bottomLeftX)+" "+N(B.trimBox.bottomLeftY)+" "+N(B.trimBox.topRightX)+" "+N(B.trimBox.topRightY)+"]"),B.artBox!==null&&K("/ArtBox ["+N(B.artBox.bottomLeftX)+" "+N(B.artBox.bottomLeftY)+" "+N(B.artBox.topRightX)+" "+N(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&K("/UserUnit "+B.userUnit),er.publish("putPage",{objId:Me,pageContext:Ft[se],pageNumber:se,page:Ce}),K("/Contents "+ze+" 0 R"),K(">>"),K("endobj");var tt=Ce.join(`
`);return y===b.ADVANCED&&(tt+=`
Q`),oe(ze,!0),Je({data:tt,filters:He(),objectId:ze}),K("endobj"),Me},Ve=p.__private__.putPages=function(){var B,se,Ce=[];for(B=1;B<=gr;B++)Ft[B].objId=Er(),Ft[B].contentsObjId=Er();for(B=1;B<=gr;B++)Ce.push(Ye({number:B,data:re[B],objId:Ft[B].objId,contentsObjId:Ft[B].contentsObjId,mediaBox:Ft[B].mediaBox,cropBox:Ft[B].cropBox,bleedBox:Ft[B].bleedBox,trimBox:Ft[B].trimBox,artBox:Ft[B].artBox,userUnit:Ft[B].userUnit,rootDictionaryObjId:xe,resourceDictionaryObjId:ye}));oe(xe,!0),K("<</Type /Pages");var Me="/Kids [";for(se=0;se<gr;se++)Me+=Ce[se]+" 0 R ";K(Me+"]"),K("/Count "+gr),K(">>"),K("endobj"),er.publish("postPutPages")},Ge=function(B){er.publish("putFont",{font:B,out:K,newObject:fr,putStream:Je}),B.isAlreadyPutted!==!0&&(B.objectNumber=fr(),K("<<"),K("/Type /Font"),K("/BaseFont /"+Sf(B.postScriptName)),K("/Subtype /Type1"),typeof B.encoding=="string"&&K("/Encoding /"+B.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},lt=function(){for(var B in jt)jt.hasOwnProperty(B)&&(f===!1||f===!0&&h.hasOwnProperty(B))&&Ge(jt[B])},ft=function(B){B.objectNumber=fr();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[N(B.x),N(B.y),N(B.x+B.width),N(B.y+B.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var Ce=B.pages[1].join(`
`);Je({data:Ce,additionalKeyValues:se,objectId:B.objectNumber}),K("endobj")},ht=function(){for(var B in Kr)Kr.hasOwnProperty(B)&&ft(Kr[B])},ut=function(B,se){var Ce,Me=[],ze=1/(se-1);for(Ce=0;Ce<1;Ce+=ze)Me.push(Ce);if(Me.push(1),B[0].offset!=0){var tt={offset:0,color:B[0].color};B.unshift(tt)}if(B[B.length-1].offset!=1){var ct={offset:1,color:B[B.length-1].color};B.push(ct)}for(var vt="",Mt=0,Jt=0;Jt<Me.length;Jt++){for(Ce=Me[Jt];Ce>B[Mt+1].offset;)Mt++;var Gt=B[Mt].offset,_r=(Ce-Gt)/(B[Mt+1].offset-Gt),wn=B[Mt].color,Nn=B[Mt+1].color;vt+=z(Math.round((1-_r)*wn[0]+_r*Nn[0]).toString(16))+z(Math.round((1-_r)*wn[1]+_r*Nn[1]).toString(16))+z(Math.round((1-_r)*wn[2]+_r*Nn[2]).toString(16))}return vt.trim()},pt=function(B,se){se||(se=21);var Ce=fr(),Me=ut(B.colors,se),ze=[];ze.push({key:"FunctionType",value:"0"}),ze.push({key:"Domain",value:"[0.0 1.0]"}),ze.push({key:"Size",value:"["+se+"]"}),ze.push({key:"BitsPerSample",value:"8"}),ze.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Je({data:Me,additionalKeyValues:ze,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ce}),K("endobj"),B.objectNumber=fr(),K("<< /ShadingType "+B.type),K("/ColorSpace /DeviceRGB");var tt="/Coords ["+N(parseFloat(B.coords[0]))+" "+N(parseFloat(B.coords[1]))+" ";B.type===2?tt+=N(parseFloat(B.coords[2]))+" "+N(parseFloat(B.coords[3])):tt+=N(parseFloat(B.coords[2]))+" "+N(parseFloat(B.coords[3]))+" "+N(parseFloat(B.coords[4]))+" "+N(parseFloat(B.coords[5])),K(tt+="]"),B.matrix&&K("/Matrix ["+B.matrix.toString()+"]"),K("/Function "+Ce+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},Dt=function(B,se){var Ce=Er(),Me=fr();se.push({resourcesOid:Ce,objectOid:Me}),B.objectNumber=Me;var ze=[];ze.push({key:"Type",value:"/Pattern"}),ze.push({key:"PatternType",value:"1"}),ze.push({key:"PaintType",value:"1"}),ze.push({key:"TilingType",value:"1"}),ze.push({key:"BBox",value:"["+B.boundingBox.map(N).join(" ")+"]"}),ze.push({key:"XStep",value:N(B.xStep)}),ze.push({key:"YStep",value:N(B.yStep)}),ze.push({key:"Resources",value:Ce+" 0 R"}),B.matrix&&ze.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),Je({data:B.stream,additionalKeyValues:ze,objectId:B.objectNumber}),K("endobj")},ur=function(B){var se;for(se in Pt)Pt.hasOwnProperty(se)&&(Pt[se]instanceof cc?pt(Pt[se]):Pt[se]instanceof Nu&&Dt(Pt[se],B))},xr=function(B){for(var se in B.objectNumber=fr(),K("<<"),B)switch(se){case"opacity":K("/ca "+P(B[se]));break;case"stroke-opacity":K("/CA "+P(B[se]))}K(">>"),K("endobj")},mn=function(){var B;for(B in wr)wr.hasOwnProperty(B)&&xr(wr[B])},yi=function(){for(var B in K("/XObject <<"),Kr)Kr.hasOwnProperty(B)&&Kr[B].objectNumber>=0&&K("/"+B+" "+Kr[B].objectNumber+" 0 R");er.publish("putXobjectDict"),K(">>")},ei=function(){Fa.oid=fr(),K("<<"),K("/Filter /Standard"),K("/V "+Fa.v),K("/R "+Fa.r),K("/U <"+Fa.toHexString(Fa.U)+">"),K("/O <"+Fa.toHexString(Fa.O)+">"),K("/P "+Fa.P),K(">>"),K("endobj")},Mi=function(){for(var B in K("/Font <<"),jt)jt.hasOwnProperty(B)&&(f===!1||f===!0&&h.hasOwnProperty(B))&&K("/"+B+" "+jt[B].objectNumber+" 0 R");K(">>")},bi=function(){if(Object.keys(Pt).length>0){for(var B in K("/Shading <<"),Pt)Pt.hasOwnProperty(B)&&Pt[B]instanceof cc&&Pt[B].objectNumber>=0&&K("/"+B+" "+Pt[B].objectNumber+" 0 R");er.publish("putShadingPatternDict"),K(">>")}},$a=function(B){if(Object.keys(Pt).length>0){for(var se in K("/Pattern <<"),Pt)Pt.hasOwnProperty(se)&&Pt[se]instanceof p.TilingPattern&&Pt[se].objectNumber>=0&&Pt[se].objectNumber<B&&K("/"+se+" "+Pt[se].objectNumber+" 0 R");er.publish("putTilingPatternDict"),K(">>")}},Ma=function(){if(Object.keys(wr).length>0){var B;for(B in K("/ExtGState <<"),wr)wr.hasOwnProperty(B)&&wr[B].objectNumber>=0&&K("/"+B+" "+wr[B].objectNumber+" 0 R");er.publish("putGStateDict"),K(">>")}},Ur=function(B){oe(B.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Mi(),bi(),$a(B.objectOid),Ma(),yi(),K(">>"),K("endobj")},$d=function(){var B=[];lt(),mn(),ht(),ur(B),er.publish("putResources"),B.forEach(Ur),Ur({resourcesOid:ye,objectOid:Number.MAX_SAFE_INTEGER}),er.publish("postPutResources")},Xi=function(){er.publish("putAdditionalObjects");for(var B=0;B<Z.length;B++){var se=Z[B];oe(se.objId,!0),K(se.content),K("endobj")}er.publish("postPutAdditionalObjects")},Ll=function(B){bt[B.fontName]=bt[B.fontName]||{},bt[B.fontName][B.fontStyle]=B.id},p0=function(B,se,Ce,Me,ze){var tt={id:"F"+(Object.keys(jt).length+1).toString(10),postScriptName:B,fontName:se,fontStyle:Ce,encoding:Me,isStandardFont:ze||!1,metadata:{}};return er.publish("addFont",{font:tt,instance:this}),jt[tt.id]=tt,Ll(tt),tt.id},ew=function(B){for(var se=0,Ce=Ee.length;se<Ce;se++){var Me=p0.call(this,B[se][0],B[se][1],B[se][2],Ee[se][3],!0);f===!1&&(h[Me]=!0);var ze=B[se][0].split("-");Ll({id:Me,fontName:ze[0],fontStyle:ze[1]||""})}er.publish("addFonts",{fonts:jt,dictionary:bt})},js=function(B){return B.foo=function(){try{return B.apply(this,arguments)}catch(Me){var se=Me.stack||"";~se.indexOf(" at ")&&(se=se.split(" at ")[1]);var Ce="Error in function "+se.split(`
`)[0].split("<")[0]+": "+Me.message;if(!Ut.console)throw new Error(Ce);Ut.console.error(Ce,Me),Ut.alert&&alert(Ce)}},B.foo.bar=B,B.foo},Md=function(B,se){var Ce,Me,ze,tt,ct,vt,Mt,Jt,Gt;if(ze=(se=se||{}).sourceEncoding||"Unicode",ct=se.outputEncoding,(se.autoencode||ct)&&jt[Be].metadata&&jt[Be].metadata[ze]&&jt[Be].metadata[ze].encoding&&(tt=jt[Be].metadata[ze].encoding,!ct&&jt[Be].encoding&&(ct=jt[Be].encoding),!ct&&tt.codePages&&(ct=tt.codePages[0]),typeof ct=="string"&&(ct=tt[ct]),ct)){for(Mt=!1,vt=[],Ce=0,Me=B.length;Ce<Me;Ce++)(Jt=ct[B.charCodeAt(Ce)])?vt.push(String.fromCharCode(Jt)):vt.push(B[Ce]),vt[Ce].charCodeAt(0)>>8&&(Mt=!0);B=vt.join("")}for(Ce=B.length;Mt===void 0&&Ce!==0;)B.charCodeAt(Ce-1)>>8&&(Mt=!0),Ce--;if(!Mt)return B;for(vt=se.noBOM?[]:[254,255],Ce=0,Me=B.length;Ce<Me;Ce++){if((Gt=(Jt=B.charCodeAt(Ce))>>8)>>8)throw new Error("Character at position "+Ce+" of string '"+B+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");vt.push(Gt),vt.push(Jt-(Gt<<8))}return String.fromCharCode.apply(void 0,vt)},wi=p.__private__.pdfEscape=p.pdfEscape=function(B,se){return Md(B,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},m0=p.__private__.beginPage=function(B){re[++gr]=[],Ft[gr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},nx(gr),pe(re[R])},rx=function(B,se){var Ce,Me,ze;switch(r=se||r,typeof B=="string"&&(Ce=v(B.toLowerCase()),Array.isArray(Ce)&&(Me=Ce[0],ze=Ce[1])),Array.isArray(B)&&(Me=B[0]*De,ze=B[1]*De),isNaN(Me)&&(Me=a[0],ze=a[1]),(Me>14400||ze>14400)&&(Zr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Me=Math.min(14400,Me),ze=Math.min(14400,ze)),a=[Me,ze],r.substr(0,1)){case"l":ze>Me&&(a=[ze,Me]);break;case"p":Me>ze&&(a=[ze,Me])}m0(a),cx(y0),K(As),w0!==0&&K(w0+" J"),_0!==0&&K(_0+" j"),er.publish("addPage",{pageNumber:gr})},tw=function(B){B>0&&B<=gr&&(re.splice(B,1),Ft.splice(B,1),gr--,R>gr&&(R=gr),this.setPage(R))},nx=function(B){B>0&&B<=gr&&(R=B)},rw=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return re.length-1},ax=function(B,se,Ce){var Me,ze=void 0;return Ce=Ce||{},B=B!==void 0?B:jt[Be].fontName,se=se!==void 0?se:jt[Be].fontStyle,Me=B.toLowerCase(),bt[Me]!==void 0&&bt[Me][se]!==void 0?ze=bt[Me][se]:bt[B]!==void 0&&bt[B][se]!==void 0?ze=bt[B][se]:Ce.disableWarning===!1&&Zr.warn("Unable to look up font label for font '"+B+"', '"+se+"'. Refer to getFontList() for available fonts."),ze||Ce.noFallback||(ze=bt.times[se])==null&&(ze=bt.times.normal),ze},nw=p.__private__.putInfo=function(){var B=fr(),se=function(Me){return Me};for(var Ce in d!==null&&(se=Fa.encryptor(B,0)),K("<<"),K("/Producer ("+wi(se("jsPDF "+Lt.version))+")"),Ae)Ae.hasOwnProperty(Ce)&&Ae[Ce]&&K("/"+Ce.substr(0,1).toUpperCase()+Ce.substr(1)+" ("+wi(se(Ae[Ce]))+")");K("/CreationDate ("+wi(se(H))+")"),K(">>"),K("endobj")},g0=p.__private__.putCatalog=function(B){var se=(B=B||{}).rootDictionaryObjId||xe;switch(fr(),K("<<"),K("/Type /Catalog"),K("/Pages "+se+" 0 R"),Pe||(Pe="fullwidth"),Pe){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ce=""+Pe;Ce.substr(Ce.length-1)==="%"&&(Pe=parseInt(Pe)/100),typeof Pe=="number"&&K("/OpenAction [3 0 R /XYZ null null "+P(Pe)+"]")}switch(be||(be="continuous"),be){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}me&&K("/PageMode /"+me),er.publish("putCatalog"),K(">>"),K("endobj")},aw=p.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(G+1)),K("/Root "+G+" 0 R"),K("/Info "+(G-1)+" 0 R"),d!==null&&K("/Encrypt "+Fa.oid+" 0 R"),K("/ID [ <"+q+"> <"+q+"> ]"),K(">>")},iw=p.__private__.putHeader=function(){K("%PDF-"+m),K("%")},sw=p.__private__.putXRef=function(){var B="0000000000";K("xref"),K("0 "+(G+1)),K("0000000000 65535 f ");for(var se=1;se<=G;se++)typeof ae[se]=="function"?K((B+ae[se]()).slice(-10)+" 00000 n "):ae[se]!==void 0?K((B+ae[se]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},zo=p.__private__.buildDocument=function(){ce(),pe(ee),er.publish("buildDocument"),iw(),Ve(),Xi(),$d(),d!==null&&ei(),nw(),g0();var B=W;return sw(),aw(),K("startxref"),K(""+B),K("%%EOF"),pe(re[R]),ee.join(`
`)},Fd=p.__private__.getBlob=function(B){return new Blob([Te(B)],{type:"application/pdf"})},Ld=p.output=p.__private__.output=js(function(B,se){switch(typeof(se=se||{})=="string"?se={filename:se}:se.filename=se.filename||"generated.pdf",B){case void 0:return zo();case"save":p.save(se.filename);break;case"arraybuffer":return Te(zo());case"blob":return Fd(zo());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(Fd(zo()))||void 0;Zr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ce="",Me=zo();try{Ce=H_(Me)}catch{Ce=H_(unescape(encodeURIComponent(Me)))}return"data:application/pdf;filename="+se.filename+";base64,"+Ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var ze="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",tt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(ze=se.pdfObjectUrl,tt="");var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ze+'"'+tt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",vt=Ut.open();return vt!==null&&vt.document.write(ct),vt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',Jt=Ut.open();if(Jt!==null){Jt.document.write(Mt);var Gt=this;Jt.document.documentElement.querySelector("#pdfViewer").onload=function(){Jt.document.title=se.filename,Jt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Gt.output("bloburl"))}}return Jt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var _r='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',wn=Ut.open();if(wn!==null&&(wn.document.write(_r),wn.document.title=se.filename),wn||typeof safari>"u")return wn;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",se);default:return null}}),ix=function(B){return Array.isArray(Da)===!0&&Da.indexOf(B)>-1};switch(n){case"pt":De=1;break;case"mm":De=72/25.4;break;case"cm":De=72/2.54;break;case"in":De=72;break;case"px":De=ix("px_scaling")==1?.75:96/72;break;case"pc":case"em":De=12;break;case"ex":De=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);De=n}var Fa=null;Q(),X();var ow=function(B){return d!==null?Fa.encryptor(B,0):function(se){return se}},sx=p.__private__.getPageInfo=p.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ft[B].objId,pageNumber:B,pageContext:Ft[B]}},zt=p.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in Ft)if(Ft[se].objId===B)break;return sx(se)},lw=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ft[R].objId,pageNumber:R,pageContext:Ft[R]}};p.addPage=function(){return rx.apply(this,arguments),this},p.setPage=function(){return nx.apply(this,arguments),pe.call(this,re[R]),this},p.insertPage=function(B){return this.addPage(),this.movePage(R,B),this},p.movePage=function(B,se){var Ce,Me;if(B>se){Ce=re[B],Me=Ft[B];for(var ze=B;ze>se;ze--)re[ze]=re[ze-1],Ft[ze]=Ft[ze-1];re[se]=Ce,Ft[se]=Me,this.setPage(se)}else if(B<se){Ce=re[B],Me=Ft[B];for(var tt=B;tt<se;tt++)re[tt]=re[tt+1],Ft[tt]=Ft[tt+1];re[se]=Ce,Ft[se]=Me,this.setPage(se)}return this},p.deletePage=function(){return tw.apply(this,arguments),this},p.__private__.text=p.text=function(B,se,Ce,Me,ze){var tt,ct,vt,Mt,Jt,Gt,_r,wn,Nn,Vn=(Me=Me||{}).scope||this;if(typeof B=="number"&&typeof se=="number"&&(typeof Ce=="string"||Array.isArray(Ce))){var La=Ce;Ce=se,se=B,B=La}if(arguments[3]instanceof Ot?(w("The transform parameter of text() with a Matrix value"),Nn=ze):(vt=arguments[4],Mt=arguments[5],Yr(_r=arguments[3])==="object"&&_r!==null||(typeof vt=="string"&&(Mt=vt,vt=null),typeof _r=="string"&&(Mt=_r,_r=null),typeof _r=="number"&&(vt=_r,_r=null),Me={flags:_r,angle:vt,align:Mt})),isNaN(se)||isNaN(Ce)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return Vn;var fa="",Cs=!1,Fi=typeof Me.lineHeightFactor=="number"?Me.lineHeightFactor:eu,so=Vn.internal.scaleFactor;function mx(nn){return nn=nn.split("	").join(Array(Me.TabLen||9).join(" ")),wi(nn,_r)}function A0(nn){for(var an,Mn=nn.concat(),ra=[],Xo=Mn.length;Xo--;)typeof(an=Mn.shift())=="string"?ra.push(an):Array.isArray(nn)&&(an.length===1||an[1]===void 0&&an[2]===void 0)?ra.push(an[0]):ra.push([an[0],an[1],an[2]]);return ra}function C0(nn,an){var Mn;if(typeof nn=="string")Mn=an(nn)[0];else if(Array.isArray(nn)){for(var ra,Xo,F0=nn.concat(),Qd=[],bx=F0.length;bx--;)typeof(ra=F0.shift())=="string"?Qd.push(an(ra)[0]):Array.isArray(ra)&&typeof ra[0]=="string"&&(Xo=an(ra[0],ra[1],ra[2]),Qd.push([Xo[0],Xo[1],Xo[2]]));Mn=Qd}return Mn}var qd=!1,T0=!0;if(typeof B=="string")qd=!0;else if(Array.isArray(B)){var E0=B.concat();ct=[];for(var Hd,Sa=E0.length;Sa--;)(typeof(Hd=E0.shift())!="string"||Array.isArray(Hd)&&typeof Hd[0]!="string")&&(T0=!1);qd=T0}if(qd===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var zd=$e/Vn.internal.scaleFactor,Yd=zd*(Fi-1);switch(Me.baseline){case"bottom":Ce-=Yd;break;case"top":Ce+=zd-Yd;break;case"hanging":Ce+=zd-2*Yd;break;case"middle":Ce+=zd/2-Yd}if((Gt=Me.maxWidth||0)>0&&(typeof B=="string"?B=Vn.splitTextToSize(B,Gt):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce(function(nn,an){return nn.concat(Vn.splitTextToSize(an,Gt))},[]))),tt={text:B,x:se,y:Ce,options:Me,mutex:{pdfEscape:wi,activeFontKey:Be,fonts:jt,activeFontSize:$e}},er.publish("preProcessText",tt),B=tt.text,vt=(Me=tt.options).angle,!(Nn instanceof Ot)&&vt&&typeof vt=="number"){vt*=Math.PI/180,Me.rotationDirection===0&&(vt=-vt),y===b.ADVANCED&&(vt=-vt);var Vd=Math.cos(vt),O0=Math.sin(vt);Nn=new Ot(Vd,O0,-O0,Vd,0,0)}else vt&&vt instanceof Ot&&(Nn=vt);y!==b.ADVANCED||Nn||(Nn=Ct),(Jt=Me.charSpace||Bd)!==void 0&&(fa+=N(j(Jt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(wn=Me.horizontalScale)!==void 0&&(fa+=N(100*wn)+` Tz
`),Me.lang;var _i=-1,vw=Me.renderingMode!==void 0?Me.renderingMode:Me.stroke,P0=Vn.internal.getCurrentPageInfo().pageContext;switch(vw){case 0:case!1:case"fill":_i=0;break;case 1:case!0:case"stroke":_i=1;break;case 2:case"fillThenStroke":_i=2;break;case 3:case"invisible":_i=3;break;case 4:case"fillAndAddForClipping":_i=4;break;case 5:case"strokeAndAddPathForClipping":_i=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_i=6;break;case 7:case"addToPathForClipping":_i=7}var gx=P0.usedRenderingMode!==void 0?P0.usedRenderingMode:-1;_i!==-1?fa+=_i+` Tr
`:gx!==-1&&(fa+=`0 Tr
`),_i!==-1&&(P0.usedRenderingMode=_i),Mt=Me.align||"left";var Ji,Gd=$e*Fi,xx=Vn.internal.pageSize.getWidth(),vx=jt[Be];Jt=Me.charSpace||Bd,Gt=Me.maxWidth||0,_r=Object.assign({autoencode:!0,noBOM:!0},Me.flags);var Ul=[],nu=function(nn){return Vn.getStringUnitWidth(nn,{font:vx,charSpace:Jt,fontSize:$e,doKerning:!1})*$e/so};if(Object.prototype.toString.call(B)==="[object Array]"){var ki;ct=A0(B),Mt!=="left"&&(Ji=ct.map(nu));var ti,Wl=0;if(Mt==="right"){se-=Ji[0],B=[],Sa=ct.length;for(var Vo=0;Vo<Sa;Vo++)Vo===0?(ti=io(se),ki=Yo(Ce)):(ti=j(Wl-Ji[Vo]),ki=-Gd),B.push([ct[Vo],ti,ki]),Wl=Ji[Vo]}else if(Mt==="center"){se-=Ji[0]/2,B=[],Sa=ct.length;for(var Go=0;Go<Sa;Go++)Go===0?(ti=io(se),ki=Yo(Ce)):(ti=j((Wl-Ji[Go])/2),ki=-Gd),B.push([ct[Go],ti,ki]),Wl=Ji[Go]}else if(Mt==="left"){B=[],Sa=ct.length;for(var Kd=0;Kd<Sa;Kd++)B.push(ct[Kd])}else if(Mt==="justify"&&vx.encoding==="Identity-H"){B=[],Sa=ct.length,Gt=Gt!==0?Gt:xx;for(var Ko=0,$n=0;$n<Sa;$n++)if(ki=$n===0?Yo(Ce):-Gd,ti=$n===0?io(se):Ko,$n<Sa-1){var D0=j((Gt-Ji[$n])/(ct[$n].split(" ").length-1)),ri=ct[$n].split(" ");B.push([ri[0]+" ",ti,ki]),Ko=0;for(var Qi=1;Qi<ri.length;Qi++){var Xd=(nu(ri[Qi-1]+" "+ri[Qi])-nu(ri[Qi]))*so+D0;Qi==ri.length-1?B.push([ri[Qi],Xd,0]):B.push([ri[Qi]+" ",Xd,0]),Ko-=Xd}}else B.push([ct[$n],ti,ki]);B.push(["",Ko,0])}else{if(Mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(B=[],Sa=ct.length,Gt=Gt!==0?Gt:xx,$n=0;$n<Sa;$n++)ki=$n===0?Yo(Ce):-Gd,ti=$n===0?io(se):0,$n<Sa-1?Ul.push(N(j((Gt-Ji[$n])/(ct[$n].split(" ").length-1)))):Ul.push(0),B.push([ct[$n],ti,ki])}}var yx=typeof Me.R2L=="boolean"?Me.R2L:ve;yx===!0&&(B=C0(B,function(nn,an,Mn){return[nn.split("").reverse().join(""),an,Mn]})),tt={text:B,x:se,y:Ce,options:Me,mutex:{pdfEscape:wi,activeFontKey:Be,fonts:jt,activeFontSize:$e}},er.publish("postProcessText",tt),B=tt.text,Cs=tt.mutex.isHex||!1;var $0=jt[Be].encoding;$0!=="WinAnsiEncoding"&&$0!=="StandardEncoding"||(B=C0(B,function(nn,an,Mn){return[mx(nn),an,Mn]})),ct=A0(B),B=[];for(var au,iu,ql,su=0,Jd=1,ou=Array.isArray(ct[0])?Jd:su,Hl="",M0=function(nn,an,Mn){var ra="";return Mn instanceof Ot?(Mn=typeof Me.angle=="number"?Yn(Mn,new Ot(1,0,0,1,nn,an)):Yn(new Ot(1,0,0,1,nn,an),Mn),y===b.ADVANCED&&(Mn=Yn(new Ot(1,0,0,-1,0,0),Mn)),ra=Mn.join(" ")+` Tm
`):ra=N(nn)+" "+N(an)+` Td
`,ra},Zi=0;Zi<ct.length;Zi++){switch(Hl="",ou){case Jd:ql=(Cs?"<":"(")+ct[Zi][0]+(Cs?">":")"),au=parseFloat(ct[Zi][1]),iu=parseFloat(ct[Zi][2]);break;case su:ql=(Cs?"<":"(")+ct[Zi]+(Cs?">":")"),au=io(se),iu=Yo(Ce)}Ul!==void 0&&Ul[Zi]!==void 0&&(Hl=Ul[Zi]+` Tw
`),Zi===0?B.push(Hl+M0(au,iu,Nn)+ql):ou===su?B.push(Hl+ql):ou===Jd&&B.push(Hl+M0(au,iu,Nn)+ql)}B=ou===su?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var es=`BT
/`;return es+=Be+" "+$e+` Tf
`,es+=N($e*Fi)+` TL
`,es+=tu+`
`,es+=fa,es+=B,K(es+="ET"),h[Be]=!0,Vn};var cw=p.__private__.clip=p.clip=function(B){return K(B==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return cw("evenodd")},p.__private__.discardPath=p.discardPath=function(){return K("n"),this};var ao=p.__private__.isValidStyle=function(B){var se=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(se=!0),se};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(B){return ao(B)&&(u=B),this};var ox=p.__private__.getStyle=p.getStyle=function(B){var se=u;switch(B){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=B}return se},lx=p.close=function(){return K("h"),this};p.stroke=function(){return K("S"),this},p.fill=function(B){return Id("f",B),this},p.fillEvenOdd=function(B){return Id("f*",B),this},p.fillStroke=function(B){return Id("B",B),this},p.fillStrokeEvenOdd=function(B){return Id("B*",B),this};var Id=function(B,se){Yr(se)==="object"?dw(se,B):K(B)},x0=function(B){B===null||y===b.ADVANCED&&B===void 0||(B=ox(B),K(B))};function uw(B,se,Ce,Me,ze){var tt=new Nu(se||this.boundingBox,Ce||this.xStep,Me||this.yStep,this.gState,ze||this.matrix);tt.stream=this.stream;var ct=B+"$$"+this.cloneIndex+++"$$";return ar(ct,tt),tt}var dw=function(B,se){var Ce=Ir[B.key],Me=Pt[Ce];if(Me instanceof cc)K("q"),K(fw(se)),Me.gState&&p.setGState(Me.gState),K(B.matrix.toString()+" cm"),K("/"+Ce+" sh"),K("Q");else if(Me instanceof Nu){var ze=new Ot(1,0,0,-1,0,Bl());B.matrix&&(ze=ze.multiply(B.matrix||Ct),Ce=uw.call(Me,B.key,B.boundingBox,B.xStep,B.yStep,ze).id),K("q"),K("/Pattern cs"),K("/"+Ce+" scn"),Me.gState&&p.setGState(Me.gState),K(se),K("Q")}},fw=function(B){switch(B){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},v0=p.moveTo=function(B,se){return K(N(j(B))+" "+N(M(se))+" m"),this},Zc=p.lineTo=function(B,se){return K(N(j(B))+" "+N(M(se))+" l"),this},Il=p.curveTo=function(B,se,Ce,Me,ze,tt){return K([N(j(B)),N(M(se)),N(j(Ce)),N(M(Me)),N(j(ze)),N(M(tt)),"c"].join(" ")),this};p.__private__.line=p.line=function(B,se,Ce,Me,ze){if(isNaN(B)||isNaN(se)||isNaN(Ce)||isNaN(Me)||!ao(ze))throw new Error("Invalid arguments passed to jsPDF.line");return y===b.COMPAT?this.lines([[Ce-B,Me-se]],B,se,[1,1],ze||"S"):this.lines([[Ce-B,Me-se]],B,se,[1,1]).stroke()},p.__private__.lines=p.lines=function(B,se,Ce,Me,ze,tt){var ct,vt,Mt,Jt,Gt,_r,wn,Nn,Vn,La,fa,Cs;if(typeof B=="number"&&(Cs=Ce,Ce=se,se=B,B=Cs),Me=Me||[1,1],tt=tt||!1,isNaN(se)||isNaN(Ce)||!Array.isArray(B)||!Array.isArray(Me)||!ao(ze)||typeof tt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(v0(se,Ce),ct=Me[0],vt=Me[1],Jt=B.length,La=se,fa=Ce,Mt=0;Mt<Jt;Mt++)(Gt=B[Mt]).length===2?(La=Gt[0]*ct+La,fa=Gt[1]*vt+fa,Zc(La,fa)):(_r=Gt[0]*ct+La,wn=Gt[1]*vt+fa,Nn=Gt[2]*ct+La,Vn=Gt[3]*vt+fa,La=Gt[4]*ct+La,fa=Gt[5]*vt+fa,Il(_r,wn,Nn,Vn,La,fa));return tt&&lx(),x0(ze),this},p.path=function(B){for(var se=0;se<B.length;se++){var Ce=B[se],Me=Ce.c;switch(Ce.op){case"m":v0(Me[0],Me[1]);break;case"l":Zc(Me[0],Me[1]);break;case"c":Il.apply(this,Me);break;case"h":lx()}}return this},p.__private__.rect=p.rect=function(B,se,Ce,Me,ze){if(isNaN(B)||isNaN(se)||isNaN(Ce)||isNaN(Me)||!ao(ze))throw new Error("Invalid arguments passed to jsPDF.rect");return y===b.COMPAT&&(Me=-Me),K([N(j(B)),N(M(se)),N(j(Ce)),N(j(Me)),"re"].join(" ")),x0(ze),this},p.__private__.triangle=p.triangle=function(B,se,Ce,Me,ze,tt,ct){if(isNaN(B)||isNaN(se)||isNaN(Ce)||isNaN(Me)||isNaN(ze)||isNaN(tt)||!ao(ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ce-B,Me-se],[ze-Ce,tt-Me],[B-ze,se-tt]],B,se,[1,1],ct,!0),this},p.__private__.roundedRect=p.roundedRect=function(B,se,Ce,Me,ze,tt,ct){if(isNaN(B)||isNaN(se)||isNaN(Ce)||isNaN(Me)||isNaN(ze)||isNaN(tt)||!ao(ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var vt=4/3*(Math.SQRT2-1);return ze=Math.min(ze,.5*Ce),tt=Math.min(tt,.5*Me),this.lines([[Ce-2*ze,0],[ze*vt,0,ze,tt-tt*vt,ze,tt],[0,Me-2*tt],[0,tt*vt,-ze*vt,tt,-ze,tt],[2*ze-Ce,0],[-ze*vt,0,-ze,-tt*vt,-ze,-tt],[0,2*tt-Me],[0,-tt*vt,ze*vt,-tt,ze,-tt]],B+ze,se,[1,1],ct,!0),this},p.__private__.ellipse=p.ellipse=function(B,se,Ce,Me,ze){if(isNaN(B)||isNaN(se)||isNaN(Ce)||isNaN(Me)||!ao(ze))throw new Error("Invalid arguments passed to jsPDF.ellipse");var tt=4/3*(Math.SQRT2-1)*Ce,ct=4/3*(Math.SQRT2-1)*Me;return v0(B+Ce,se),Il(B+Ce,se-ct,B+tt,se-Me,B,se-Me),Il(B-tt,se-Me,B-Ce,se-ct,B-Ce,se),Il(B-Ce,se+ct,B-tt,se+Me,B,se+Me),Il(B+tt,se+Me,B+Ce,se+ct,B+Ce,se),x0(ze),this},p.__private__.circle=p.circle=function(B,se,Ce,Me){if(isNaN(B)||isNaN(se)||isNaN(Ce)||!ao(Me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,se,Ce,Ce,Me)},p.setFont=function(B,se,Ce){return Ce&&(se=T(se,Ce)),Be=ax(B,se,{disableWarning:!1}),this};var hw=p.__private__.getFont=p.getFont=function(){return jt[ax.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var B,se,Ce={};for(B in bt)if(bt.hasOwnProperty(B))for(se in Ce[B]=[],bt[B])bt[B].hasOwnProperty(se)&&Ce[B].push(se);return Ce},p.addFont=function(B,se,Ce,Me,ze){var tt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&tt.indexOf(arguments[3])!==-1?ze=arguments[3]:arguments[3]&&tt.indexOf(arguments[3])==-1&&(Ce=T(Ce,Me)),ze=ze||"Identity-H",p0.call(this,B,se,Ce,ze)};var eu,y0=e.lineWidth||.200025,Rd=p.__private__.getLineWidth=p.getLineWidth=function(){return y0},cx=p.__private__.setLineWidth=p.setLineWidth=function(B){return y0=B,K(N(j(B))+" w"),this};p.__private__.setLineDash=Lt.API.setLineDash=Lt.API.setLineDashPattern=function(B,se){if(B=B||[],se=se||0,isNaN(se)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map(function(Ce){return N(j(Ce))}).join(" "),se=N(j(se)),K("["+B+"] "+se+" d"),this};var ux=p.__private__.getLineHeight=p.getLineHeight=function(){return $e*eu};p.__private__.getLineHeight=p.getLineHeight=function(){return $e*eu};var dx=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&(eu=B),this},fx=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return eu};dx(e.lineHeight);var io=p.__private__.getHorizontalCoordinate=function(B){return j(B)},Yo=p.__private__.getVerticalCoordinate=function(B){return y===b.ADVANCED?B:Ft[R].mediaBox.topRightY-Ft[R].mediaBox.bottomLeftY-j(B)},pw=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(B){return N(io(B))},Rl=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(B){return N(Yo(B))},As=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return _e(As)},p.__private__.setStrokeColor=p.setDrawColor=function(B,se,Ce,Me){return As=Ne({ch1:B,ch2:se,ch3:Ce,ch4:Me,pdfColorType:"draw",precision:2}),K(As),this};var b0=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return _e(b0)},p.__private__.setFillColor=p.setFillColor=function(B,se,Ce,Me){return b0=Ne({ch1:B,ch2:se,ch3:Ce,ch4:Me,pdfColorType:"fill",precision:2}),K(b0),this};var tu=e.textColor||"0 g",mw=p.__private__.getTextColor=p.getTextColor=function(){return _e(tu)};p.__private__.setTextColor=p.setTextColor=function(B,se,Ce,Me){return tu=Ne({ch1:B,ch2:se,ch3:Ce,ch4:Me,pdfColorType:"text",precision:3}),this};var Bd=e.charSpace,gw=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Bd||0)};p.__private__.setCharSpace=p.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Bd=B,this};var w0=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(B){var se=p.CapJoinStyles[B];if(se===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return w0=se,K(se+" J"),this};var _0=0;p.__private__.setLineJoin=p.setLineJoin=function(B){var se=p.CapJoinStyles[B];if(se===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _0=se,K(se+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(N(j(B))+" M"),this},p.GState=gm,p.setGState=function(B){(B=typeof B=="string"?wr[pn[B]]:hx(null,B)).equals(bn)||(K("/"+B.id+" gs"),bn=B)};var hx=function(B,se){if(!B||!pn[B]){var Ce=!1;for(var Me in wr)if(wr.hasOwnProperty(Me)&&wr[Me].equals(se)){Ce=!0;break}if(Ce)se=wr[Me];else{var ze="GS"+(Object.keys(wr).length+1).toString(10);wr[ze]=se,se.id=ze}return B&&(pn[B]=se.id),er.publish("addGState",se),se}};p.addGState=function(B,se){return hx(B,se),this},p.saveGraphicsState=function(){return K("q"),Vt.push({key:Be,size:$e,color:tu}),this},p.restoreGraphicsState=function(){K("Q");var B=Vt.pop();return Be=B.key,$e=B.size,tu=B.color,bn=null,this},p.setCurrentTransformationMatrix=function(B){return K(B.toString()+" cm"),this},p.comment=function(B){return K("#"+B),this};var Ud=function(B,se){var Ce=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ce},set:function(tt){isNaN(tt)||(Ce=parseFloat(tt))}});var Me=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Me},set:function(tt){isNaN(tt)||(Me=parseFloat(tt))}});var ze="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ze},set:function(tt){ze=tt.toString()}}),this},k0=function(B,se,Ce,Me){Ud.call(this,B,se),this.type="rect";var ze=Ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ze},set:function(ct){isNaN(ct)||(ze=parseFloat(ct))}});var tt=Me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return tt},set:function(ct){isNaN(ct)||(tt=parseFloat(ct))}}),this},S0=function(){this.page=gr,this.currentPage=R,this.pages=re.slice(0),this.pagesContext=Ft.slice(0),this.x=et,this.y=Qe,this.matrix=kt,this.width=ru(R),this.height=Bl(R),this.outputDestination=de,this.id="",this.objectNumber=-1};S0.prototype.restore=function(){gr=this.page,R=this.currentPage,Ft=this.pagesContext,re=this.pages,et=this.x,Qe=this.y,kt=this.matrix,N0(R,this.width),j0(R,this.height),de=this.outputDestination};var px=function(B,se,Ce,Me,ze){Dn.push(new S0),gr=R=0,re=[],et=B,Qe=se,kt=ze,m0([Ce,Me])},xw=function(B){if(Sn[B])Dn.pop().restore();else{var se=new S0,Ce="Xo"+(Object.keys(Kr).length+1).toString(10);se.id=Ce,Sn[B]=Ce,Kr[Ce]=se,er.publish("addFormObject",se),Dn.pop().restore()}};for(var Wd in p.beginFormObject=function(B,se,Ce,Me,ze){return px(B,se,Ce,Me,ze),this},p.endFormObject=function(B){return xw(B),this},p.doFormObject=function(B,se){var Ce=Kr[Sn[B]];return K("q"),K(se.toString()+" cm"),K("/"+Ce.id+" Do"),K("Q"),this},p.getFormObject=function(B){var se=Kr[Sn[B]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},p.save=function(B,se){return B=B||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,se.returnPromise===!1?(mu(Fd(zo()),B),typeof mu.unload=="function"&&Ut.setTimeout&&setTimeout(mu.unload,911),this):new Promise(function(Ce,Me){try{var ze=mu(Fd(zo()),B);typeof mu.unload=="function"&&Ut.setTimeout&&setTimeout(mu.unload,911),Ce(ze)}catch(tt){Me(tt.message)}})},Lt.API)Lt.API.hasOwnProperty(Wd)&&(Wd==="events"&&Lt.API.events.length?function(B,se){var Ce,Me,ze;for(ze=se.length-1;ze!==-1;ze--)Ce=se[ze][0],Me=se[ze][1],B.subscribe.apply(B,[Ce].concat(typeof Me=="function"?[Me]:Me))}(er,Lt.API.events):p[Wd]=Lt.API[Wd]);var ru=p.getPageWidth=function(B){return(Ft[B=B||R].mediaBox.topRightX-Ft[B].mediaBox.bottomLeftX)/De},N0=p.setPageWidth=function(B,se){Ft[B].mediaBox.topRightX=se*De+Ft[B].mediaBox.bottomLeftX},Bl=p.getPageHeight=function(B){return(Ft[B=B||R].mediaBox.topRightY-Ft[B].mediaBox.bottomLeftY)/De},j0=p.setPageHeight=function(B,se){Ft[B].mediaBox.topRightY=se*De+Ft[B].mediaBox.bottomLeftY};return p.internal={pdfEscape:wi,getStyle:ox,getFont:hw,getFontSize:Fe,getCharSpace:gw,getTextColor:mw,getLineHeight:ux,getLineHeightFactor:fx,getLineWidth:Rd,write:ne,getHorizontalCoordinate:io,getVerticalCoordinate:Yo,getCoordinateString:pw,getVerticalCoordinateString:Rl,collections:{},newObject:fr,newAdditionalObject:Se,newObjectDeferred:Er,newObjectDeferredBegin:oe,getFilters:He,putStream:Je,events:er,scaleFactor:De,pageSize:{getWidth:function(){return ru(R)},setWidth:function(B){N0(R,B)},getHeight:function(){return Bl(R)},setHeight:function(B){j0(R,B)}},encryptionOptions:d,encryption:Fa,getEncryptor:ow,output:Ld,getNumberOfPages:rw,pages:re,out:K,f2:P,f3:A,getPageInfo:sx,getPageInfoByObjId:zt,getCurrentPageInfo:lw,getPDFVersion:g,Point:Ud,Rectangle:k0,Matrix:Ot,hasHotfix:ix},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ru(R)},set:function(B){N0(R,B)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Bl(R)},set:function(B){j0(R,B)},enumerable:!0,configurable:!0}),ew.call(p,Ee),Be="F1",rx(a,r),er.publish("initialized"),p}kf.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},kf.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},kf.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},kf.prototype.processOwnerPassword=function(e,t){return Y_(z_(t).substr(0,5),e)},kf.prototype.encryptor=function(e,t){var r=z_(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Y_(r,n)}},gm.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Yr(e)!==Yr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Lt.API={events:[]},Lt.version="2.5.2";var An=Lt.API,j3=1,md=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Kt=function(e){return e.toFixed(2)},ec=function(e){return e.toFixed(5)};An.__acroform__={};var $i=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},TA=function(e){return e*j3},fo=function(e){var t=new O$,r=At.internal.getHeight(e)||0,n=At.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Kt(n)),Number(Kt(r))],t},bG=An.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},wG=An.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},_G=An.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ln=An.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _G(e,t-1)},In=An.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return bG(e,t-1)},Rn=An.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return wG(e,t-1)},kG=An.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+o)||0,c.upperRight_X=r(a+s)||0,c.upperRight_Y=n(i)||0,[Number(Kt(c.lowerLeft_X)),Number(Kt(c.lowerLeft_Y)),Number(Kt(c.upperRight_X)),Number(Kt(c.upperRight_Y))]},SG=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=V_(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Kt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=fo(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},V_=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(A){return A.split(`
`)}):a.map(function(A){return[A]});var i=r,s=At.internal.getHeight(e)||0;s=s<0?-s:s;var o=At.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(A,j,F){if(A+1<a.length){var M=j+" "+a[A+1][0];return Yx(M,e,F).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=Yx("3",e,i).height,h=e.multiline?s-i:(s-f)/2,p=h+=2,m=0,g=0,x=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Yx(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var v="",b=0,y=0;y<a.length;y++)if(a.hasOwnProperty(y)){var C=!1;if(a[y].length!==1&&x!==a[y].length-1){if((f+2)*(b+2)+2>s)continue e;v+=a[y][x],C=!0,g=y,y--}else{v=(v+=a[y][x]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var S=parseInt(y),T=c(S,v,i),N=y>=a.length-1;if(T&&!N){v+=" ",x=0;continue}if(T||N){if(N)g=S;else if(e.multiline&&(f+2)*(b+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>s)continue e;g=S}}for(var w="",_=m;_<=g;_++){var P=a[_];if(e.multiline){if(_===g){w+=P[x]+" ",x=(x+1)%P.length;continue}if(_===m){w+=P[P.length-1]+" ";continue}}w+=P[0]+" "}switch(w=w.substr(w.length-1)==" "?w.substr(0,w.length-1):w,d=Yx(w,e,i).width,e.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;case"left":default:u=2}t+=Kt(u)+" "+Kt(p)+` Td
`,t+="("+md(w)+`) Tj
`,t+=-Kt(u)+` 0 Td
`,p=-(i+2),d=0,m=C?g:g+1,b++,v=""}break}return n.text=t,n.fontSize=i,n},Yx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},NG={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},jG=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},AG=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),Yr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},CG=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(eo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(NG)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");j3=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new P$,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&jG(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],c=[],u=o.Rect;if(o.Rect&&(o.Rect=kG(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=At.createDefaultAppearanceStream(o),Yr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=SG(o);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var m=p[s];typeof m=="function"&&(m=m.call(a,o)),f+="/"+s+" "+m+" ",a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m)}}else typeof(m=p)=="function"&&(m=m.call(a,o)),f+="/"+s+" "+m,a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:o.objId}),a.internal.out("endobj")}i&&AG(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},E$=An.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Yr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+md(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Zw=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+md(n(e))+")"},bo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};bo.prototype.toString=function(){return this.objId+" 0 R"},bo.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},bo.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:E$(a,this.objId,this.scope)}):a instanceof bo?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var O$=function(){bo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};$i(O$,bo);var P$=function(){bo.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+md(r(e))+")"}},set:function(r){e=r}})};$i(P$,bo);var eo=function e(){bo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ln(t,3)},set:function(v){v?this.F=In(t,3):this.F=Rn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Zv)return;i="FieldObject"+e.FieldNum++}var v=function(b){return b};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+md(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/j3:u},set:function(v){u=v}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(v){d=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Zv||this instanceof bc))return Zw(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ia?h:Zw(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof ia?v:v.substr(0,1)==="("?cf(v.substr(1,v.length-2)):cf(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ia?cf(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof ia?"/"+v:v}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ia?p:Zw(p,this.objId,this.scope)},set:function(v){v=v.toString(),p=this instanceof ia?v:v.substr(0,1)==="("?cf(v.substr(1,v.length-2)):cf(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ia?cf(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof ia?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(v){m=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,1)},set:function(v){v?this.Ff=In(this.Ff,1):this.Ff=Rn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,2)},set:function(v){v?this.Ff=In(this.Ff,2):this.Ff=Rn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,3)},set:function(v){v?this.Ff=In(this.Ff,3):this.Ff=Rn(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');x=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(x){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};$i(eo,bo);var $u=function(){eo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return E$(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var c,u=[];c=s.exec(i);)u.push(c[o]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,18)},set:function(r){r?this.Ff=In(this.Ff,18):this.Ff=Rn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=In(this.Ff,19):this.Ff=Rn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,20)},set:function(r){r?(this.Ff=In(this.Ff,20),t.sort()):this.Ff=Rn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,22)},set:function(r){r?this.Ff=In(this.Ff,22):this.Ff=Rn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,23)},set:function(r){r?this.Ff=In(this.Ff,23):this.Ff=Rn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,27)},set:function(r){r?this.Ff=In(this.Ff,27):this.Ff=Rn(this.Ff,27)}}),this.hasAppearanceStream=!1};$i($u,eo);var Mu=function(){$u.call(this),this.fontName="helvetica",this.combo=!1};$i(Mu,$u);var Fu=function(){Mu.call(this),this.combo=!0};$i(Fu,Mu);var Hp=function(){Fu.call(this),this.edit=!0};$i(Hp,Fu);var ia=function(){eo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,15)},set:function(r){r?this.Ff=In(this.Ff,15):this.Ff=Rn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,16)},set:function(r){r?this.Ff=In(this.Ff,16):this.Ff=Rn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,17)},set:function(r){r?this.Ff=In(this.Ff,17):this.Ff=Rn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,26)},set:function(r){r?this.Ff=In(this.Ff,26):this.Ff=Rn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+md(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Yr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};$i(ia,eo);var zp=function(){ia.call(this),this.pushButton=!0};$i(zp,ia);var Lu=function(){ia.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};$i(Lu,ia);var Zv=function(){var e,t;eo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+md(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Yr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$i(Zv,eo),Lu.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Lu.prototype.createOption=function(e){var t=new Zv;return t.Parent=this,t.optionName=e,this.Kids.push(t),TG.call(this.scope,t),t};var Yp=function(){ia.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};$i(Yp,ia);var bc=function(){eo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,13)},set:function(t){t?this.Ff=In(this.Ff,13):this.Ff=Rn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,21)},set:function(t){t?this.Ff=In(this.Ff,21):this.Ff=Rn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,23)},set:function(t){t?this.Ff=In(this.Ff,23):this.Ff=Rn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,24)},set:function(t){t?this.Ff=In(this.Ff,24):this.Ff=Rn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,25)},set:function(t){t?this.Ff=In(this.Ff,25):this.Ff=Rn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,26)},set:function(t){t?this.Ff=In(this.Ff,26):this.Ff=Rn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$i(bc,eo);var Vp=function(){bc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,14)},set:function(e){e?this.Ff=In(this.Ff,14):this.Ff=Rn(this.Ff,14)}}),this.password=!0};$i(Vp,bc);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=fo(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=V_(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Kt(At.internal.getWidth(e))+" "+Kt(At.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Kt(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=fo(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=At.internal.getHeight(e),s=At.internal.getWidth(e),o=V_(e,e.caption);return a.push("1 g"),a.push("0 0 "+Kt(s)+" "+Kt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Kt(s-1)+" "+Kt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Kt(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=fo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Kt(At.internal.getWidth(e))+" "+Kt(At.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=At.RadioButton.Circle.YesNormal,t.D[e]=At.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=fo(e);t.scope=e.scope;var r=[],n=At.internal.getWidth(e)<=At.internal.getHeight(e)?At.internal.getWidth(e)/4:At.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=At.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ec(At.internal.getWidth(e)/2)+" "+ec(At.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=fo(e);t.scope=e.scope;var r=[],n=At.internal.getWidth(e)<=At.internal.getHeight(e)?At.internal.getWidth(e)/4:At.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*At.internal.Bezier_C).toFixed(5)),s=Number((n*At.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ec(At.internal.getWidth(e)/2)+" "+ec(At.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ec(At.internal.getWidth(e)/2)+" "+ec(At.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=fo(e);t.scope=e.scope;var r=[],n=At.internal.getWidth(e)<=At.internal.getHeight(e)?At.internal.getWidth(e)/4:At.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*At.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ec(At.internal.getWidth(e)/2)+" "+ec(At.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=At.RadioButton.Cross.YesNormal,t.D[e]=At.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=fo(e);t.scope=e.scope;var r=[],n=At.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Kt(At.internal.getWidth(e)-2)+" "+Kt(At.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Kt(n.x1.x)+" "+Kt(n.x1.y)+" m"),r.push(Kt(n.x2.x)+" "+Kt(n.x2.y)+" l"),r.push(Kt(n.x4.x)+" "+Kt(n.x4.y)+" m"),r.push(Kt(n.x3.x)+" "+Kt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=fo(e);t.scope=e.scope;var r=At.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Kt(At.internal.getWidth(e))+" "+Kt(At.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Kt(At.internal.getWidth(e)-2)+" "+Kt(At.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Kt(r.x1.x)+" "+Kt(r.x1.y)+" m"),n.push(Kt(r.x2.x)+" "+Kt(r.x2.y)+" l"),n.push(Kt(r.x4.x)+" "+Kt(r.x4.y)+" m"),n.push(Kt(r.x3.x)+" "+Kt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=fo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Kt(At.internal.getWidth(e))+" "+Kt(At.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};At.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=At.internal.getWidth(e),r=At.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},At.internal.getWidth=function(e){var t=0;return Yr(e)==="object"&&(t=TA(e.Rect[2])),t},At.internal.getHeight=function(e){var t=0;return Yr(e)==="object"&&(t=TA(e.Rect[3])),t};var TG=An.addField=function(e){if(CG(this,e),!(e instanceof eo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};An.AcroFormChoiceField=$u,An.AcroFormListBox=Mu,An.AcroFormComboBox=Fu,An.AcroFormEditBox=Hp,An.AcroFormButton=ia,An.AcroFormPushButton=zp,An.AcroFormRadioButton=Lu,An.AcroFormCheckBox=Yp,An.AcroFormTextField=bc,An.AcroFormPasswordField=Vp,An.AcroFormAppearance=At,An.AcroForm={ChoiceField:$u,ListBox:Mu,ComboBox:Fu,EditBox:Hp,Button:ia,PushButton:zp,RadioButton:Lu,CheckBox:Yp,TextField:bc,PasswordField:Vp,Appearance:At},Lt.AcroForm={ChoiceField:$u,ListBox:Mu,ComboBox:Fu,EditBox:Hp,Button:ia,PushButton:zp,RadioButton:Lu,CheckBox:Yp,TextField:bc,PasswordField:Vp,Appearance:At};var EG=Lt.AcroForm;function D$(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(A,j){var F,M,H,q,Y,X=t;if((j=j||t)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(T(A))for(Y in r)for(H=r[Y],F=0;F<H.length;F+=1){for(q=!0,M=0;M<H[F].length;M+=1)if(H[F][M]!==void 0&&H[F][M]!==A[M]){q=!1;break}if(q===!0){X=Y;break}}else for(Y in r)for(H=r[Y],F=0;F<H.length;F+=1){for(q=!0,M=0;M<H[F].length;M+=1)if(H[F][M]!==void 0&&H[F][M]!==A.charCodeAt(M)){q=!1;break}if(q===!0){X=Y;break}}return X===t&&j!==t&&(X=j),X},a=function A(j){for(var F=this.internal.write,M=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:j.width}),q.push({key:"Height",value:j.height}),j.colorSpace===x.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===x.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var Y="",X=0,I=j.transparency.length;X<I;X++)Y+=j.transparency[X]+" "+j.transparency[X]+" ";q.push({key:"Mask",value:"["+Y+"]"})}j.sMask!==void 0&&q.push({key:"SMask",value:j.objectId+1+" 0 R"});var J=j.filter!==void 0?["/"+j.filter]:void 0;if(M({data:j.data,additionalKeyValues:q,alreadyAppliedFilters:J,objectId:j.objectId}),F("endobj"),"sMask"in j&&j.sMask!==void 0){var Q="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,E={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:Q,data:j.sMask};"filter"in j&&(E.filter=j.filter),A.call(this,E)}if(j.colorSpace===x.INDEXED){var R=this.internal.newObject();M({data:w(new Uint8Array(j.palette)),objectId:R}),F("endobj")}},i=function(){var A=this.internal.collections.addImage_images;for(var j in A)a.call(this,A[j])},s=function(){var A,j=this.internal.collections.addImage_images,F=this.internal.write;for(var M in j)F("/I"+(A=j[M]).index,A.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var A=this.internal.collections.addImage_images;return o.call(this),A},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(A){return typeof e["process"+A.toUpperCase()]=="function"},f=function(A){return Yr(A)==="object"&&A.nodeType===1},h=function(A,j){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var F=""+A.getAttribute("src");if(F.indexOf("data:image/")===0)return qp(unescape(F).split("base64,").pop());var M=e.loadFile(F,!0);if(M!==void 0)return M}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var H;switch(j){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;case"JPEG":case"JPG":default:H="image/jpeg"}return qp(A.toDataURL(H,1).split("base64,").pop())}},p=function(A){var j=this.internal.collections.addImage_images;if(j){for(var F in j)if(A===j[F].alias)return j[F]}},m=function(A,j,F){return A||j||(A=-96,j=-96),A<0&&(A=-1*F.width*72/A/this.internal.scaleFactor),j<0&&(j=-1*F.height*72/j/this.internal.scaleFactor),A===0&&(A=j*F.width/F.height),j===0&&(j=A*F.height/F.width),[A,j]},g=function(A,j,F,M,H,q){var Y=m.call(this,F,M,H),X=this.internal.getCoordinateString,I=this.internal.getVerticalCoordinateString,J=c.call(this);if(F=Y[0],M=Y[1],J[H.index]=H,q){q*=Math.PI/180;var Q=Math.cos(q),E=Math.sin(q),R=function(z){return z.toFixed(4)},U=[R(Q),R(E),R(-1*E),R(Q),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,X(A),I(j+M),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([X(F),"0","0",X(M),"0","0","cm"].join(" "))):this.internal.write([X(F),"0","0",X(M),X(A),I(j+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(A){var j,F,M=0;if(typeof A=="string")for(F=A.length,j=0;j<F;j++)M=(M<<5)-M+A.charCodeAt(j),M|=0;else if(T(A))for(F=A.byteLength/2,j=0;j<F;j++)M=(M<<5)-M+A[j],M|=0;return M},y=e.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var j=!0;return A.length===0&&(j=!1),A.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(j=!1),j},C=e.__addimage__.extractImageFromDataUrl=function(A){var j=(A=A||"").split("base64,"),F=null;if(j.length===2){var M=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(j[0]);Array.isArray(M)&&(F={mimeType:M[1],charset:M[2],data:j[1]})}return F},S=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(A){return S()&&A instanceof ArrayBuffer};var T=e.__addimage__.isArrayBufferView=function(A){return S()&&typeof Uint32Array<"u"&&(A instanceof Int8Array||A instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array)},N=e.__addimage__.binaryStringToUint8Array=function(A){for(var j=A.length,F=new Uint8Array(j),M=0;M<j;M++)F[M]=A.charCodeAt(M);return F},w=e.__addimage__.arrayBufferToBinaryString=function(A){for(var j="",F=T(A)?A:new Uint8Array(A),M=0;M<F.length;M+=8192)j+=String.fromCharCode.apply(null,F.subarray(M,M+8192));return j};e.addImage=function(){var A,j,F,M,H,q,Y,X,I;if(typeof arguments[1]=="number"?(j=t,F=arguments[1],M=arguments[2],H=arguments[3],q=arguments[4],Y=arguments[5],X=arguments[6],I=arguments[7]):(j=arguments[1],F=arguments[2],M=arguments[3],H=arguments[4],q=arguments[5],Y=arguments[6],X=arguments[7],I=arguments[8]),Yr(A=arguments[0])==="object"&&!f(A)&&"imageData"in A){var J=A;A=J.imageData,j=J.format||j||t,F=J.x||F||0,M=J.y||M||0,H=J.w||J.width||H,q=J.h||J.height||q,Y=J.alias||Y,X=J.compression||X,I=J.rotation||J.angle||I}var Q=this.internal.getFilters();if(X===void 0&&Q.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(F)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var E=_.call(this,A,j,Y,X);return g.call(this,F,M,H,q,E,I),this};var _=function(A,j,F,M){var H,q,Y;if(typeof A=="string"&&n(A)===t){A=unescape(A);var X=P(A,!1);(X!==""||(X=e.loadFile(A,!0))!==void 0)&&(A=X)}if(f(A)&&(A=h(A,j)),j=n(A,j),!d(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((Y=F)==null||Y.length===0)&&(F=function(I){return typeof I=="string"||T(I)?b(I):T(I.data)?b(I.data):null}(A)),(H=p.call(this,F))||(S()&&(A instanceof Uint8Array||j==="RGBA"||(q=A,A=N(A))),H=this["process"+j.toUpperCase()](A,u.call(this),F,function(I){return I&&typeof I=="string"&&(I=I.toUpperCase()),I in e.image_compression?I:v.NONE}(M),q)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},P=e.__addimage__.convertBase64ToBinaryString=function(A,j){var F;j=typeof j!="boolean"||j;var M,H="";if(typeof A=="string"){M=(F=C(A))!==null?F.data:A;try{H=qp(M)}catch(q){if(j)throw y(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};e.getImageProperties=function(A){var j,F,M="";if(f(A)&&(A=h(A)),typeof A=="string"&&n(A)===t&&((M=P(A,!1))===""&&(M=e.loadFile(A)||""),A=M),F=n(A),!d(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(!S()||A instanceof Uint8Array||(A=N(A)),!(j=this["process"+F.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=F,j}})(Lt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Lt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var p=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(v(n.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(v(b))+") >>",g.content=i;var y=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+y,n.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(g.objId,"0 R",x.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var C=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(m(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var T=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+T+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var d=this.splitTextToSize(r,o).length;s=Math.ceil(u*d)}else o=c,s=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,o,s,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Lt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=e.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var x=0,v=r,b="",y=0;for(x=0;x<g.length;x+=1)v[g.charCodeAt(x)]!==void 0?(y++,typeof(v=v[g.charCodeAt(x)])=="number"&&(b+=String.fromCharCode(v),v=r,y=0),x===g.length-1&&(v=r,b+=g.charAt(x-(y-1)),x-=y-1,y=0)):(v=r,b+=g.charAt(x-y),x-=y,y=0);return b};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(g,x,v){return s(g)?i(g)===!1?-1:!u(g)||!s(x)&&!s(v)||!s(v)&&o(x)||o(g)&&!s(x)||o(g)&&c(x)||o(g)&&o(x)?0:d(g)&&s(x)&&!o(x)&&s(v)&&u(v)?3:o(g)||!s(v)?1:2:-1},p=function(g){var x=0,v=0,b=0,y="",C="",S="",T=(g=g||"").split("\\s+"),N=[];for(x=0;x<T.length;x+=1){for(N.push(""),v=0;v<T[x].length;v+=1)y=T[x][v],C=T[x][v-1],S=T[x][v+1],s(y)?(b=h(y,C,S),N[x]+=b!==-1?String.fromCharCode(t[y.charCodeAt(0)][b]):y):N[x]+=y;N[x]=f(N[x])}return N.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var g,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(x)){var b=0;for(v=[],b=0;b<x.length;b+=1)Array.isArray(x[b])?v.push([p(x[b][0]),x[b][1],x[b][2]]):v.push([p(x[b])]);g=v}else g=p(x);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",m])}(Lt.API),Lt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Lt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,m=0,g=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var v=u.maxWidth;v>0?typeof c=="string"?c=this.splitTextToSize(c,v):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(y,C){return y.concat(x.splitTextToSize(C,v))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)p<(g=this.getStringUnitWidth(c[b],{font:f})*d)&&(p=g);return p!==0&&(m=c.length),{w:p/=h,h:Math.max((m*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,m,g,x,v=[],b=[],y=[],C={},S={},T=[],N=[],w=(h=h||{}).autoSize||!1,_=h.printHeaders!==!1,P=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,A=h.margins||Object.assign({width:this.getPageWidth()},t),j=typeof h.padding=="number"?h.padding:3,F=h.headerBackgroundColor||"#c8c8c8",M=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=M,this.setFontSize(P),f==null)b=v=Object.keys(d[0]),y=v.map(function(){return"left"});else if(Array.isArray(f)&&Yr(f[0])==="object")for(v=f.map(function(J){return J.name}),b=f.map(function(J){return J.prompt||J.name||""}),y=f.map(function(J){return J.align||"left"}),p=0;p<f.length;p+=1)S[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=v=f,y=v.map(function(){return"left"}));if(w||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<v.length;p+=1){for(C[x=v[p]]=d.map(function(J){return J[x]}),this.setFont(void 0,"bold"),T.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=C[x],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)T.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[x]=Math.max.apply(null,T)+j+j,T=[]}if(_){var H={};for(p=0;p<v.length;p+=1)H[v[p]]={},H[v[p]].text=b[p],H[v[p]].align=y[p];var q=o.call(this,H,S);N=v.map(function(J){return new i(c,u,S[J],q,H[J].text,void 0,H[J].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var Y=f.reduce(function(J,Q){return J[Q.name]=Q.align,J},{});for(p=0;p<d.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:d[p]},this);var X=o.call(this,d[p],S);for(g=0;g<v.length;g+=1){var I=d[p][v[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:g,data:I},this),s.call(this,new i(c,u,S[v[g]],X,I,p+2,Y[v[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(p){var m=c[p];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+d+d},this).reduce(function(p,m){return Math.max(p,m)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Lt.API);var $$={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},M$=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],G_=D$(M$),F$=[100,200,300,400,500,600,700,800,900],OG=D$(F$);function K_(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return $$[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof G_[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function EA(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var PG={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},OA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function PA(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function DG(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},PG,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=K_(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+PA(i)+"' and default family '"+n+"'.");if(s=function(c,u){if(u[c])return u[c];var d=G_[c],f=d<=G_.normal?-1:1,h=EA(u,M$,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(i.stretch,s),s=function(c,u){if(u[c])return u[c];for(var d=$$[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,s),!(s=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=OG[c],f=EA(u,F$,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+PA(i)+"'.");return s}function DA(e){return e.trimLeft()}function $G(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function MG(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Vx,$A,MA,e5=["times"];(function(e){var t,r,n,a,i,s,o,c,u,d=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new c,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new s,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new s,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=E;Object.defineProperty(this,"pdf",{get:function(){return R}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(pe){U=!!pe}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(pe){z=!!pe}});var G=0;Object.defineProperty(this,"posX",{get:function(){return G},set:function(pe){isNaN(pe)||(G=pe)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(pe){isNaN(pe)||(ae=pe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(pe){var K;typeof pe=="number"?K=[pe,pe,pe,pe]:((K=new Array(4))[0]=pe[0],K[1]=pe.length>=2?pe[1]:K[0],K[2]=pe.length>=3?pe[2]:K[0],K[3]=pe.length>=4?pe[3]:K[1]),u.margin=K}});var ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ee},set:function(pe){ee=pe}});var W=0;Object.defineProperty(this,"lastBreak",{get:function(){return W},set:function(pe){W=pe}});var Z=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Z},set:function(pe){Z=pe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(pe){pe instanceof d&&(u=pe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(pe){u.path=pe}});var re=[];Object.defineProperty(this,"ctxStack",{get:function(){return re},set:function(pe){re=pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pe){var K;K=h(pe),this.ctx.fillStyle=K.style,this.ctx.isFillTransparent=K.a===0,this.ctx.fillOpacity=K.a,this.pdf.setFillColor(K.r,K.g,K.b,{a:K.a}),this.pdf.setTextColor(K.r,K.g,K.b,{a:K.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pe){var K=h(pe);this.ctx.strokeStyle=K.style,this.ctx.isStrokeTransparent=K.a===0,this.ctx.strokeOpacity=K.a,K.a===0?this.pdf.setDrawColor(255,255,255):(K.a,this.pdf.setDrawColor(K.r,K.g,K.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pe){["butt","round","square"].indexOf(pe)!==-1&&(this.ctx.lineCap=pe,this.pdf.setLineCap(pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pe){isNaN(pe)||(this.ctx.lineWidth=pe,this.pdf.setLineWidth(pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pe){["bevel","round","miter"].indexOf(pe)!==-1&&(this.ctx.lineJoin=pe,this.pdf.setLineJoin(pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pe){isNaN(pe)||(this.ctx.miterLimit=pe,this.pdf.setMiterLimit(pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pe){this.ctx.textBaseline=pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pe){["right","end","center","left","start"].indexOf(pe)!==-1&&(this.ctx.textAlign=pe)}});var O=null;function de(pe,K){if(O===null){var ne=function(Te){var Ee=[];return Object.keys(Te).forEach(function($e){Te[$e].forEach(function(Pe){var Fe=null;switch(Pe){case"bold":Fe={family:$e,weight:"bold"};break;case"italic":Fe={family:$e,style:"italic"};break;case"bolditalic":Fe={family:$e,weight:"bold",style:"italic"};break;case"":case"normal":Fe={family:$e}}Fe!==null&&(Fe.ref={name:$e,style:Pe},Ee.push(Fe))})}),Ee}(pe.getFontList());O=function(Te){for(var Ee={},$e=0;$e<Te.length;++$e){var Pe=K_(Te[$e]),Fe=Pe.family,ve=Pe.stretch,me=Pe.style,le=Pe.weight;Ee[Fe]=Ee[Fe]||{},Ee[Fe][ve]=Ee[Fe][ve]||{},Ee[Fe][ve][me]=Ee[Fe][ve][me]||{},Ee[Fe][ve][me][le]=Pe}return Ee}(ne.concat(K))}return O}var ce=null;Object.defineProperty(this,"fontFaces",{get:function(){return ce},set:function(pe){O=null,ce=pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pe){var K;if(this.ctx.font=pe,(K=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(pe))!==null){var ne=K[1],Te=(K[2],K[3]),Ee=K[4],$e=(K[5],K[6]),Pe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(Pe==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:Pe==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var Fe=function(Ae){var Be,De,et=[],Qe=Ae.trim();if(Qe==="")return e5;if(Qe in OA)return[OA[Qe]];for(;Qe!=="";){switch(De=null,Be=(Qe=DA(Qe)).charAt(0)){case'"':case"'":De=$G(Qe.substring(1),Be);break;default:De=MG(Qe)}if(De===null||(et.push(De[0]),(Qe=DA(De[1]))!==""&&Qe.charAt(0)!==","))return e5;Qe=Qe.replace(/^,/,"")}return et}($e);if(this.fontFaces){var ve=DG(de(this.pdf,this.fontFaces),Fe.map(function(Ae){return{family:Ae,stretch:"normal",weight:Te,style:ne}}));this.pdf.setFont(ve.ref.name,ve.ref.style)}else{var me="";(Te==="bold"||parseInt(Te,10)>=700||ne==="bold")&&(me="bold"),ne==="italic"&&(me+="italic"),me.length===0&&(me="normal");for(var le="",be={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Oe=0;Oe<Fe.length;Oe++){if(this.pdf.internal.getFont(Fe[Oe],me,{noFallback:!0,disableWarning:!0})!==void 0){le=Fe[Oe];break}if(me==="bolditalic"&&this.pdf.internal.getFont(Fe[Oe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)le=Fe[Oe],me="bold";else if(this.pdf.internal.getFont(Fe[Oe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){le=Fe[Oe],me="normal";break}}if(le===""){for(var je=0;je<Fe.length;je++)if(be[Fe[je]]){le=be[Fe[je]];break}}le=le===""?"Times":le,this.pdf.setFont(le,me)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pe){this.ctx.globalCompositeOperation=pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pe){this.ctx.globalAlpha=pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pe){this.ctx.lineDashOffset=pe,Q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pe){this.ctx.lineDash=pe,Q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pe){this.ctx.ignoreClearRect=!!pe}})};f.prototype.setLineDash=function(E){this.lineDash=E},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){C.call(this,"fill",!1)},f.prototype.stroke=function(){C.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(E,R){if(isNaN(E)||isNaN(R))throw Zr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new s(E,R));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new s(E,R)},f.prototype.closePath=function(){var E=new s(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&Yr(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){E=new s(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(E.x,E.y)},f.prototype.lineTo=function(E,R){if(isNaN(E)||isNaN(R))throw Zr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new s(E,R));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new s(U.x,U.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},f.prototype.quadraticCurveTo=function(E,R,U,z){if(isNaN(U)||isNaN(z)||isNaN(E)||isNaN(R))throw Zr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var G=this.ctx.transform.applyToPoint(new s(U,z)),ae=this.ctx.transform.applyToPoint(new s(E,R));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:G.x,y:G.y}),this.ctx.lastPoint=new s(G.x,G.y)},f.prototype.bezierCurveTo=function(E,R,U,z,G,ae){if(isNaN(G)||isNaN(ae)||isNaN(E)||isNaN(R)||isNaN(U)||isNaN(z))throw Zr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ee=this.ctx.transform.applyToPoint(new s(G,ae)),W=this.ctx.transform.applyToPoint(new s(E,R)),Z=this.ctx.transform.applyToPoint(new s(U,z));this.path.push({type:"bct",x1:W.x,y1:W.y,x2:Z.x,y2:Z.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(ee.x,ee.y)},f.prototype.arc=function(E,R,U,z,G,ae){if(isNaN(E)||isNaN(R)||isNaN(U)||isNaN(z)||isNaN(G))throw Zr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var ee=this.ctx.transform.applyToPoint(new s(E,R));E=ee.x,R=ee.y;var W=this.ctx.transform.applyToPoint(new s(0,U)),Z=this.ctx.transform.applyToPoint(new s(0,0));U=Math.sqrt(Math.pow(W.x-Z.x,2)+Math.pow(W.y-Z.y,2))}Math.abs(G-z)>=2*Math.PI&&(z=0,G=2*Math.PI),this.path.push({type:"arc",x:E,y:R,radius:U,startAngle:z,endAngle:G,counterclockwise:ae})},f.prototype.arcTo=function(E,R,U,z,G){throw new Error("arcTo not implemented.")},f.prototype.rect=function(E,R,U,z){if(isNaN(E)||isNaN(R)||isNaN(U)||isNaN(z))throw Zr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,R),this.lineTo(E+U,R),this.lineTo(E+U,R+z),this.lineTo(E,R+z),this.lineTo(E,R),this.lineTo(E+U,R),this.lineTo(E,R)},f.prototype.fillRect=function(E,R,U,z){if(isNaN(E)||isNaN(R)||isNaN(U)||isNaN(z))throw Zr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var G={};this.lineCap!=="butt"&&(G.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(G.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,R,U,z),this.fill(),G.hasOwnProperty("lineCap")&&(this.lineCap=G.lineCap),G.hasOwnProperty("lineJoin")&&(this.lineJoin=G.lineJoin)}},f.prototype.strokeRect=function(E,R,U,z){if(isNaN(E)||isNaN(R)||isNaN(U)||isNaN(z))throw Zr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(E,R,U,z),this.stroke())},f.prototype.clearRect=function(E,R,U,z){if(isNaN(E)||isNaN(R)||isNaN(U)||isNaN(z))throw Zr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,R,U,z))},f.prototype.save=function(E){E=typeof E!="boolean"||E;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},f.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(R),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(E){var R,U,z,G;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))R=0,U=0,z=0,G=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(ae!==null)R=parseInt(ae[1]),U=parseInt(ae[2]),z=parseInt(ae[3]),G=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)R=parseInt(ae[1]),U=parseInt(ae[2]),z=parseInt(ae[3]),G=parseFloat(ae[4]);else{if(G=1,typeof E=="string"&&E.charAt(0)!=="#"){var ee=new A$(E);E=ee.ok?ee.toHex():"#000000"}E.length===4?(R=E.substring(1,2),R+=R,U=E.substring(2,3),U+=U,z=E.substring(3,4),z+=z):(R=E.substring(1,3),U=E.substring(3,5),z=E.substring(5,7)),R=parseInt(R,16),U=parseInt(U,16),z=parseInt(z,16)}}return{r:R,g:U,b:z,a:G,style:E}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(E,R,U,z){if(isNaN(R)||isNaN(U)||typeof E!="string")throw Zr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!p.call(this)){var G=X(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;j.call(this,{text:E,x:R,y:U,scale:ae,angle:G,align:this.textAlign,maxWidth:z})}},f.prototype.strokeText=function(E,R,U,z){if(isNaN(R)||isNaN(U)||typeof E!="string")throw Zr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){z=isNaN(z)?void 0:z;var G=X(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;j.call(this,{text:E,x:R,y:U,scale:ae,renderingMode:"stroke",angle:G,align:this.textAlign,maxWidth:z})}},f.prototype.measureText=function(E){if(typeof E!="string")throw Zr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,U=this.pdf.internal.scaleFactor,z=R.internal.getFontSize(),G=R.getStringUnitWidth(E)*z/R.internal.scaleFactor,ae=function(ee){var W=(ee=ee||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return W}}),this};return new ae({width:G*=Math.round(96*U/72*1e4)/1e4})},f.prototype.scale=function(E,R){if(isNaN(E)||isNaN(R))throw Zr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new c(E,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.rotate=function(E){if(isNaN(E))throw Zr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new c(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.translate=function(E,R){if(isNaN(E)||isNaN(R))throw Zr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new c(1,0,0,1,E,R);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.transform=function(E,R,U,z,G,ae){if(isNaN(E)||isNaN(R)||isNaN(U)||isNaN(z)||isNaN(G)||isNaN(ae))throw Zr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ee=new c(E,R,U,z,G,ae);this.ctx.transform=this.ctx.transform.multiply(ee)},f.prototype.setTransform=function(E,R,U,z,G,ae){E=isNaN(E)?1:E,R=isNaN(R)?0:R,U=isNaN(U)?0:U,z=isNaN(z)?1:z,G=isNaN(G)?0:G,ae=isNaN(ae)?0:ae,this.ctx.transform=new c(E,R,U,z,G,ae)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(E,R,U,z,G,ae,ee,W,Z){var re=this.pdf.getImageProperties(E),O=1,de=1,ce=1,pe=1;z!==void 0&&W!==void 0&&(ce=W/z,pe=Z/G,O=re.width/z*W/z,de=re.height/G*Z/G),ae===void 0&&(ae=R,ee=U,R=0,U=0),z!==void 0&&W===void 0&&(W=z,Z=G),z===void 0&&W===void 0&&(W=re.width,Z=re.height);for(var K,ne=this.ctx.transform.decompose(),Te=X(ne.rotate.shx),Ee=new c,$e=(Ee=(Ee=(Ee=Ee.multiply(ne.translate)).multiply(ne.skew)).multiply(ne.scale)).applyToRectangle(new o(ae-R*ce,ee-U*pe,z*O,G*de)),Pe=x.call(this,$e),Fe=[],ve=0;ve<Pe.length;ve+=1)Fe.indexOf(Pe[ve])===-1&&Fe.push(Pe[ve]);if(y(Fe),this.autoPaging)for(var me=Fe[0],le=Fe[Fe.length-1],be=me;be<le+1;be++){this.pdf.setPage(be);var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=be===1?this.posY+this.margin[0]:this.margin[0],Ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],De=be===1?0:Ae+(be-2)*Be;if(this.ctx.clip_path.length!==0){var et=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(K,this.posX+this.margin[3],-De+je+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=et}var Qe=JSON.parse(JSON.stringify($e));Qe=b([Qe],this.posX+this.margin[3],-De+je+this.ctx.prevPageLastElemOffset)[0];var kt=(be>me||be<le)&&g.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,Be,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,Te),kt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(E,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,Te)};var x=function(E,R,U){var z=[];R=R||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var G=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":z.push(Math.floor((E.y+G)/U)+1);break;case"arc":z.push(Math.floor((E.y+G-E.radius)/U)+1),z.push(Math.floor((E.y+G+E.radius)/U)+1);break;case"qct":var ae=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);z.push(Math.floor((ae.y+G)/U)+1),z.push(Math.floor((ae.y+ae.h+G)/U)+1);break;case"bct":var ee=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);z.push(Math.floor((ee.y+G)/U)+1),z.push(Math.floor((ee.y+ee.h+G)/U)+1);break;case"rect":z.push(Math.floor((E.y+G)/U)+1),z.push(Math.floor((E.y+E.h+G)/U)+1)}for(var W=0;W<z.length;W+=1)for(;this.pdf.internal.getNumberOfPages()<z[W];)v.call(this);return z},v=function(){var E=this.fillStyle,R=this.strokeStyle,U=this.font,z=this.lineCap,G=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=R,this.font=U,this.lineCap=z,this.lineWidth=G,this.lineJoin=ae},b=function(E,R,U){for(var z=0;z<E.length;z++)switch(E[z].type){case"bct":E[z].x2+=R,E[z].y2+=U;case"qct":E[z].x1+=R,E[z].y1+=U;case"mt":case"lt":case"arc":default:E[z].x+=R,E[z].y+=U}return E},y=function(E){return E.sort(function(R,U){return R-U})},C=function(E,R){for(var U,z,G=this.fillStyle,ae=this.strokeStyle,ee=this.lineCap,W=this.lineWidth,Z=Math.abs(W*this.ctx.transform.scaleX),re=this.lineJoin,O=JSON.parse(JSON.stringify(this.path)),de=JSON.parse(JSON.stringify(this.path)),ce=[],pe=0;pe<de.length;pe++)if(de[pe].x!==void 0)for(var K=x.call(this,de[pe]),ne=0;ne<K.length;ne+=1)ce.indexOf(K[ne])===-1&&ce.push(K[ne]);for(var Te=0;Te<ce.length;Te++)for(;this.pdf.internal.getNumberOfPages()<ce[Te];)v.call(this);if(y(ce),this.autoPaging)for(var Ee=ce[0],$e=ce[ce.length-1],Pe=Ee;Pe<$e+1;Pe++){this.pdf.setPage(Pe),this.fillStyle=G,this.strokeStyle=ae,this.lineCap=ee,this.lineWidth=Z,this.lineJoin=re;var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ve=Pe===1?this.posY+this.margin[0]:this.margin[0],me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],be=Pe===1?0:me+(Pe-2)*le;if(this.ctx.clip_path.length!==0){var Oe=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(U,this.posX+this.margin[3],-be+ve+this.ctx.prevPageLastElemOffset),S.call(this,E,!0),this.path=Oe}if(z=JSON.parse(JSON.stringify(O)),this.path=b(z,this.posX+this.margin[3],-be+ve+this.ctx.prevPageLastElemOffset),R===!1||Pe===0){var je=(Pe>Ee||Pe<$e)&&g.call(this);je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,le,null).clip().discardPath()),S.call(this,E,R),je&&this.pdf.restoreGraphicsState()}this.lineWidth=W}else this.lineWidth=Z,S.call(this,E,R),this.lineWidth=W;this.path=O},S=function(E,R){if((E!=="stroke"||R||!m.call(this))&&(E==="stroke"||R||!p.call(this))){for(var U,z,G=[],ae=this.path,ee=0;ee<ae.length;ee++){var W=ae[ee];switch(W.type){case"begin":G.push({begin:!0});break;case"close":G.push({close:!0});break;case"mt":G.push({start:W,deltas:[],abs:[]});break;case"lt":var Z=G.length;if(ae[ee-1]&&!isNaN(ae[ee-1].x)&&(U=[W.x-ae[ee-1].x,W.y-ae[ee-1].y],Z>0)){for(;Z>=0;Z--)if(G[Z-1].close!==!0&&G[Z-1].begin!==!0){G[Z-1].deltas.push(U),G[Z-1].abs.push(W);break}}break;case"bct":U=[W.x1-ae[ee-1].x,W.y1-ae[ee-1].y,W.x2-ae[ee-1].x,W.y2-ae[ee-1].y,W.x-ae[ee-1].x,W.y-ae[ee-1].y],G[G.length-1].deltas.push(U);break;case"qct":var re=ae[ee-1].x+2/3*(W.x1-ae[ee-1].x),O=ae[ee-1].y+2/3*(W.y1-ae[ee-1].y),de=W.x+2/3*(W.x1-W.x),ce=W.y+2/3*(W.y1-W.y),pe=W.x,K=W.y;U=[re-ae[ee-1].x,O-ae[ee-1].y,de-ae[ee-1].x,ce-ae[ee-1].y,pe-ae[ee-1].x,K-ae[ee-1].y],G[G.length-1].deltas.push(U);break;case"arc":G.push({deltas:[],abs:[],arc:!0}),Array.isArray(G[G.length-1].abs)&&G[G.length-1].abs.push(W)}}z=R?null:E==="stroke"?"stroke":"fill";for(var ne=!1,Te=0;Te<G.length;Te++)if(G[Te].arc)for(var Ee=G[Te].abs,$e=0;$e<Ee.length;$e++){var Pe=Ee[$e];Pe.type==="arc"?w.call(this,Pe.x,Pe.y,Pe.radius,Pe.startAngle,Pe.endAngle,Pe.counterclockwise,void 0,R,!ne):F.call(this,Pe.x,Pe.y),ne=!0}else if(G[Te].close===!0)this.pdf.internal.out("h"),ne=!1;else if(G[Te].begin!==!0){var Fe=G[Te].start.x,ve=G[Te].start.y;M.call(this,G[Te].deltas,Fe,ve),ne=!0}z&&_.call(this,z),R&&P.call(this)}},T=function(E){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-U;case"top":return E+R-U;case"hanging":return E+R-2*U;case"middle":return E+R/2-U;case"ideographic":return E;case"alphabetic":default:return E}},N=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(R,U){this.colorStops.push([R,U])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var w=function(E,R,U,z,G,ae,ee,W,Z){for(var re=q.call(this,U,z,G,ae),O=0;O<re.length;O++){var de=re[O];O===0&&(Z?A.call(this,de.x1+E,de.y1+R):F.call(this,de.x1+E,de.y1+R)),H.call(this,E,R,de.x2,de.y2,de.x3,de.y3,de.x4,de.y4)}W?P.call(this):_.call(this,ee)},_=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(E,R){this.pdf.internal.out(r(E)+" "+n(R)+" m")},j=function(E){var R;switch(E.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var U=this.pdf.getTextDimensions(E.text),z=T.call(this,E.y),G=N.call(this,z)-U.h,ae=this.ctx.transform.applyToPoint(new s(E.x,z)),ee=this.ctx.transform.decompose(),W=new c;W=(W=(W=W.multiply(ee.translate)).multiply(ee.skew)).multiply(ee.scale);for(var Z,re,O,de=this.ctx.transform.applyToRectangle(new o(E.x,z,U.w,U.h)),ce=W.applyToRectangle(new o(E.x,G,U.w,U.h)),pe=x.call(this,ce),K=[],ne=0;ne<pe.length;ne+=1)K.indexOf(pe[ne])===-1&&K.push(pe[ne]);if(y(K),this.autoPaging)for(var Te=K[0],Ee=K[K.length-1],$e=Te;$e<Ee+1;$e++){this.pdf.setPage($e);var Pe=$e===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ve=this.pdf.internal.pageSize.height-this.margin[2],me=ve-this.margin[0],le=this.pdf.internal.pageSize.width-this.margin[1],be=le-this.margin[3],Oe=$e===1?0:Fe+($e-2)*me;if(this.ctx.clip_path.length!==0){var je=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Z,this.posX+this.margin[3],-1*Oe+Pe),S.call(this,"fill",!0),this.path=je}var Ae=b([JSON.parse(JSON.stringify(ce))],this.posX+this.margin[3],-Oe+Pe+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*E.scale),O=this.lineWidth,this.lineWidth=O*E.scale);var Be=this.autoPaging!=="text";if(Be||Ae.y+Ae.h<=ve){if(Be||Ae.y>=Pe&&Ae.x<=le){var De=Be?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||le-Ae.x)[0],et=b([JSON.parse(JSON.stringify(de))],this.posX+this.margin[3],-Oe+Pe+this.ctx.prevPageLastElemOffset)[0],Qe=Be&&($e>Te||$e<Ee)&&g.call(this);Qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],be,me,null).clip().discardPath()),this.pdf.text(De,et.x,et.y,{angle:E.angle,align:R,renderingMode:E.renderingMode}),Qe&&this.pdf.restoreGraphicsState()}}else Ae.y<ve&&(this.ctx.prevPageLastElemOffset+=ve-Ae.y);E.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=O)}else E.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*E.scale),O=this.lineWidth,this.lineWidth=O*E.scale),this.pdf.text(E.text,ae.x+this.posX,ae.y+this.posY,{angle:E.angle,align:R,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=O)},F=function(E,R,U,z){U=U||0,z=z||0,this.pdf.internal.out(r(E+U)+" "+n(R+z)+" l")},M=function(E,R,U){return this.pdf.lines(E,R,U,null,null)},H=function(E,R,U,z,G,ae,ee,W){this.pdf.internal.out([t(a(U+E)),t(i(z+R)),t(a(G+E)),t(i(ae+R)),t(a(ee+E)),t(i(W+R)),"c"].join(" "))},q=function(E,R,U,z){for(var G=2*Math.PI,ae=Math.PI/2;R>U;)R-=G;var ee=Math.abs(U-R);ee<G&&z&&(ee=G-ee);for(var W=[],Z=z?-1:1,re=R;ee>1e-5;){var O=re+Z*Math.min(ee,ae);W.push(Y.call(this,E,re,O)),ee-=Math.abs(O-re),re=O}return W},Y=function(E,R,U){var z=(U-R)/2,G=E*Math.cos(z),ae=E*Math.sin(z),ee=G,W=-ae,Z=ee*ee+W*W,re=Z+ee*G+W*ae,O=4/3*(Math.sqrt(2*Z*re)-re)/(ee*ae-W*G),de=ee-O*W,ce=W+O*ee,pe=de,K=-ce,ne=z+R,Te=Math.cos(ne),Ee=Math.sin(ne);return{x1:E*Math.cos(R),y1:E*Math.sin(R),x2:de*Te-ce*Ee,y2:de*Ee+ce*Te,x3:pe*Te-K*Ee,y3:pe*Ee+K*Te,x4:E*Math.cos(U),y4:E*Math.sin(U)}},X=function(E){return 180*E/Math.PI},I=function(E,R,U,z,G,ae){var ee=E+.5*(U-E),W=R+.5*(z-R),Z=G+.5*(U-G),re=ae+.5*(z-ae),O=Math.min(E,G,ee,Z),de=Math.max(E,G,ee,Z),ce=Math.min(R,ae,W,re),pe=Math.max(R,ae,W,re);return new o(O,ce,de-O,pe-ce)},J=function(E,R,U,z,G,ae,ee,W){var Z,re,O,de,ce,pe,K,ne,Te,Ee,$e,Pe,Fe,ve,me=U-E,le=z-R,be=G-U,Oe=ae-z,je=ee-G,Ae=W-ae;for(re=0;re<41;re++)Te=(K=(O=E+(Z=re/40)*me)+Z*((ce=U+Z*be)-O))+Z*(ce+Z*(G+Z*je-ce)-K),Ee=(ne=(de=R+Z*le)+Z*((pe=z+Z*Oe)-de))+Z*(pe+Z*(ae+Z*Ae-pe)-ne),re==0?($e=Te,Pe=Ee,Fe=Te,ve=Ee):($e=Math.min($e,Te),Pe=Math.min(Pe,Ee),Fe=Math.max(Fe,Te),ve=Math.max(ve,Ee));return new o(Math.round($e),Math.round(Pe),Math.round(Fe-$e),Math.round(ve-Pe))},Q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,R,U=(E=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:R}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(Lt.API),function(e){var t=function(i){var s,o,c,u,d,f,h,p,m,g;for(o=[],c=0,u=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(g=d%85))/85)-(m=d%85))/85)-(p=d%85))/85)-(h=d%85))/85)%85,o.push(f+33,h+33,p+33,m+33,g+33)):o.push(122);return function(x,v){for(var b=v;b>0;b--)x.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,c,u,d,f=String,h="length",p=255,m="charCodeAt",g="slice",x="replace";for(i[g](-2),i=i[g](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],u=0,d=(i+=s="uuuuu"[g](i[h]%5||5))[h];d>u;u+=5)o=52200625*(i[m](u)-33)+614125*(i[m](u+1)-33)+7225*(i[m](u+2)-33)+85*(i[m](u+3)-33)+(i[m](u+4)-33),c.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(v,b){for(var y=b;y>0;y--)v.pop()}(c,s[h]),f.fromCharCode.apply(f,c)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",c=0;c<i.length;c+=2)o+=String.fromCharCode("0x"+(i[c]+i[c+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=q_(s)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,s){var o=0,c=i||"",u=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Lt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(c,u,d){var f=new XMLHttpRequest,h=0,p=function(m){var g=m.length,x=[],v=String.fromCharCode;for(h=0;h<g;h+=1)x.push(v(255&m.charCodeAt(h)));return x.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Lt.API),function(e){function t(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):_l(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):_l(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=Yr(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var c=document.createElement(s);for(var u in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[u]=o.style[u];return c},i=function s(o){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),u=s.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(c(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],m=p.src.find(function(g){return g.format==="truetype"});m&&c.addFont(m.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var c=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(c):c})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(s=s||Lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,c,u){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,c,u){return this.setProgress(s?this.progress.val+s:null,o||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(s,o){var c=this;return this.thenCore(s,o,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(s,o,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,s,o);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(c){o=o.thenCore(c)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Lt.getPageSize=function(s,o,c){if(Yr(s)==="object"){var u=s;s=u.orientation,o=u.unit||o,c=u.format||c}o=o||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var p,m=0,g=0;if(h.hasOwnProperty(f))m=h[f][1]/d,g=h[f][0]/d;else try{m=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",g>m&&(p=g,g=m,m=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",m>g&&(p=g,g=m,m=p)}return{width:g,height:m,unit:o,k:d,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(K_):null;var c=new i(o);return o.worker?c:c.from(s).doCallback()}}(Lt.API),Lt.API.addJS=function(e){return MA=e,this.internal.events.subscribe("postPutResources",function(){Vx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),$A=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+MA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vx!==void 0&&$A!==void 0&&this.internal.out("/Names <</JavaScript "+Vx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Lt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,g={width:0,height:0,numcomponents:1},x=4;x<m;x+=2){if(x+=p,t.indexOf(f.charCodeAt(x+1))!==-1){h=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),g={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:h,numcomponents:f.charCodeAt(x+9)};break}p=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(Lt.API);var uf,Gx,FA,LA,IA,FG=function(){var e,t,r;function n(i){var s,o,c,u,d,f,h,p,m,g,x,v,b,y;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),m=(function(){var C,S;for(S=[],C=0;C<4;++C)S.push(String.fromCharCode(this.data[this.pos++]));return S}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,v=0;0<=s?v<s:v>s;0<=s?++v:--v)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((g=c-this.transparency.indexed.length)>0)for(b=0;0<=g?b<g:b>g;0<=g?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(x=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,x.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,x.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(y=this.colorType)===4||y===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,h,p,m){var g,x,v,b,y,C,S,T,N,w,_,P,A,j,F,M,H,q,Y,X,I,J=Math.ceil((u.width-f)/p),Q=Math.ceil((u.height-h)/m),E=u.width==J&&u.height==Q;for(j=s*J,P=E?o:new Uint8Array(j*Q),C=i.length,A=0,x=0;A<Q&&c<C;){switch(i[c++]){case 0:for(b=H=0;H<j;b=H+=1)P[x++]=i[c++];break;case 1:for(b=q=0;q<j;b=q+=1)g=i[c++],y=b<s?0:P[x-s],P[x++]=(g+y)%256;break;case 2:for(b=Y=0;Y<j;b=Y+=1)g=i[c++],v=(b-b%s)/s,F=A&&P[(A-1)*j+v*s+b%s],P[x++]=(F+g)%256;break;case 3:for(b=X=0;X<j;b=X+=1)g=i[c++],v=(b-b%s)/s,y=b<s?0:P[x-s],F=A&&P[(A-1)*j+v*s+b%s],P[x++]=(g+Math.floor((y+F)/2))%256;break;case 4:for(b=I=0;I<j;b=I+=1)g=i[c++],v=(b-b%s)/s,y=b<s?0:P[x-s],A===0?F=M=0:(F=P[(A-1)*j+v*s+b%s],M=v&&P[(A-1)*j+(v-1)*s+b%s]),S=y+F-M,T=Math.abs(S-y),w=Math.abs(S-F),_=Math.abs(S-M),N=T<=w&&T<=_?y:w<=_?F:M,P[x++]=(g+N)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!E){var R=((h+A*m)*u.width+f)*s,U=A*j;for(b=0;b<J;b+=1){for(var z=0;z<s;z+=1)o[R++]=P[U++];R+=(p-1)*s}}A++}}return i=hG(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,c,u,d,f,h,p;for(o=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+o.length),c=0,i=0,s=f=0,h=o.length;f<h;s=f+=3)u[c++]=o[s],u[c++]=o[s+1],u[c++]=o[s+2],u[c++]=(p=d[i++])!=null?p:255;return u},n.prototype.copyToImageData=function(i,s){var o,c,u,d,f,h,p,m,g,x,v;if(c=this.colors,g=null,o=this.hasAlphaChannel,this.palette.length&&(g=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),c=4,o=!0),m=(u=i.data||i).length,f=g||s,d=h=0,c===1)for(;d<m;)p=g?4*s[d/4]:h,x=f[p++],u[d++]=x,u[d++]=x,u[d++]=x,u[d++]=o?f[p++]:255,h=p;else for(;d<m;)p=g?4*s[d/4]:h,u[d++]=f[p++],u[d++]=f[p++],u[d++]=f[p++],u[d++]=o?f[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Ut)==="[object Window]"){try{t=Ut.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,c,u,d,f,h,p;if(this.animation){for(p=[],o=d=0,f=(h=this.animation.frames).length;d<f;o=++d)s=h[o],c=i.createImageData(s.width,s.height),u=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,u),s.imageData=c,p.push(s.image=e(c));return p}},n.prototype.renderFrame=function(i,s){var o,c,u;return o=(c=this.animation.frames)[s],u=c[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,c,u,d,f,h=this;return o=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(s=function(){var p,m;if(p=o++%u,m=c[p],h.renderFrame(i,p),u>1&&o/u<d)return h.animation._timeout=setTimeout(s,m.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function LG(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,c=null;i&&(o=t,c=s,t+=3*s);var u=!0,d=[],f=0,h=null,p=0,m=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&g)&&(h=null),p=g>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,C=e[t++],S=C>>6&1,T=1<<(7&C)+1,N=o,w=c,_=!1;C>>7&&(_=!0,N=t,w=T,t+=3*T);var P=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}d.push({x,y:v,width:b,height:y,has_local_palette:_,palette_offset:N,palette_size:w,data_offset:P,data_length:t-P,transparent_index:h,interlaced:!!S,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(j){if(j<0||j>=d.length)throw new Error("Frame index out of range.");return d[j]},this.decodeAndBlitFrameBGRA=function(j,F){var M=this.frameInfo(j),H=M.width*M.height,q=new Uint8Array(H);RA(e,M.data_offset,q,H);var Y=M.palette_offset,X=M.transparent_index;X===null&&(X=256);var I=M.width,J=r-I,Q=I,E=4*(M.y*r+M.x),R=4*((M.y+M.height)*r+M.x),U=E,z=4*J;M.interlaced===!0&&(z+=4*r*7);for(var G=8,ae=0,ee=q.length;ae<ee;++ae){var W=q[ae];if(Q===0&&(Q=I,(U+=z)>=R&&(z=4*J+4*r*(G-1),U=E+(I+J)*(G<<1),G>>=1)),W===X)U+=4;else{var Z=e[Y+3*W],re=e[Y+3*W+1],O=e[Y+3*W+2];F[U++]=O,F[U++]=re,F[U++]=Z,F[U++]=255}--Q}},this.decodeAndBlitFrameRGBA=function(j,F){var M=this.frameInfo(j),H=M.width*M.height,q=new Uint8Array(H);RA(e,M.data_offset,q,H);var Y=M.palette_offset,X=M.transparent_index;X===null&&(X=256);var I=M.width,J=r-I,Q=I,E=4*(M.y*r+M.x),R=4*((M.y+M.height)*r+M.x),U=E,z=4*J;M.interlaced===!0&&(z+=4*r*7);for(var G=8,ae=0,ee=q.length;ae<ee;++ae){var W=q[ae];if(Q===0&&(Q=I,(U+=z)>=R&&(z=4*J+4*r*(G-1),U=E+(I+J)*(G<<1),G>>=1)),W===X)U+=4;else{var Z=e[Y+3*W],re=e[Y+3*W+1],O=e[Y+3*W+2];F[U++]=Z,F[U++]=re,F[U++]=O,F[U++]=255}--Q}}}function RA(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,c=a+1,u=(1<<c)-1,d=0,f=0,h=0,p=e[t++],m=new Int32Array(4096),g=null;;){for(;d<16&&p!==0;)f|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<c)break;var x=f&u;if(f>>=c,d-=c,x!==i){if(x===s)break;for(var v=x<o?x:g,b=0,y=v;y>i;)y=m[y]>>8,++b;var C=y;if(h+b+(v!==x?1:0)>n)return void Zr.log("Warning, gif stream longer than expected.");r[h++]=C;var S=h+=b;for(v!==x&&(r[h++]=C),y=v;b--;)y=m[y],r[--S]=255&y,y>>=8;g!==null&&o<4096&&(m[o++]=g<<8|C,o>=u+1&&c<12&&(++c,u=u<<1|1)),g=x}else o=s+1,u=(1<<(c=a+1))-1,g=null}return h!==n&&Zr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function t5(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),m=new Array(64),g=[],x=0,v=7,b=new Array(64),y=new Array(64),C=new Array(64),S=new Array(256),T=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],w=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(E,R){for(var U=0,z=0,G=new Array,ae=1;ae<=16;ae++){for(var ee=1;ee<=E[ae];ee++)G[R[z]]=[],G[R[z]][0]=U,G[R[z]][1]=ae,z++,U++;U*=2}return G}function Y(E){for(var R=E[0],U=E[1]-1;U>=0;)R&1<<U&&(x|=1<<v),U--,--v<0&&(x==255?(X(255),X(0)):X(x),v=7,x=0)}function X(E){g.push(E)}function I(E){X(E>>8&255),X(255&E)}function J(E,R,U,z,G){for(var ae,ee=G[0],W=G[240],Z=function(Ee,$e){var Pe,Fe,ve,me,le,be,Oe,je,Ae,Be,De=0;for(Ae=0;Ae<8;++Ae){Pe=Ee[De],Fe=Ee[De+1],ve=Ee[De+2],me=Ee[De+3],le=Ee[De+4],be=Ee[De+5],Oe=Ee[De+6];var et=Pe+(je=Ee[De+7]),Qe=Pe-je,kt=Fe+Oe,jt=Fe-Oe,bt=ve+be,Vt=ve-be,Pt=me+le,Ir=me-le,wr=et+Pt,pn=et-Pt,bn=kt+bt,gr=kt-bt;Ee[De]=wr+bn,Ee[De+4]=wr-bn;var Ft=.707106781*(gr+pn);Ee[De+2]=pn+Ft,Ee[De+6]=pn-Ft;var er=.382683433*((wr=Ir+Vt)-(gr=jt+Qe)),Da=.5411961*wr+er,Kr=1.306562965*gr+er,Sn=.707106781*(bn=Vt+jt),Dn=Qe+Sn,Ot=Qe-Sn;Ee[De+5]=Ot+Da,Ee[De+3]=Ot-Da,Ee[De+1]=Dn+Kr,Ee[De+7]=Dn-Kr,De+=8}for(De=0,Ae=0;Ae<8;++Ae){Pe=Ee[De],Fe=Ee[De+8],ve=Ee[De+16],me=Ee[De+24],le=Ee[De+32],be=Ee[De+40],Oe=Ee[De+48];var Yn=Pe+(je=Ee[De+56]),Ct=Pe-je,ar=Fe+Oe,fr=Fe-Oe,Er=ve+be,oe=ve-be,Se=me+le,xe=me-le,ye=Yn+Se,_e=Yn-Se,Ne=ar+Er,He=ar-Er;Ee[De]=ye+Ne,Ee[De+32]=ye-Ne;var Je=.707106781*(He+_e);Ee[De+16]=_e+Je,Ee[De+48]=_e-Je;var Ye=.382683433*((ye=xe+oe)-(He=fr+Ct)),Ve=.5411961*ye+Ye,Ge=1.306562965*He+Ye,lt=.707106781*(Ne=oe+fr),ft=Ct+lt,ht=Ct-lt;Ee[De+40]=ht+Ve,Ee[De+24]=ht-Ve,Ee[De+8]=ft+Ge,Ee[De+56]=ft-Ge,De++}for(Ae=0;Ae<64;++Ae)Be=Ee[Ae]*$e[Ae],p[Ae]=Be>0?Be+.5|0:Be-.5|0;return p}(E,R),re=0;re<64;++re)m[N[re]]=Z[re];var O=m[0]-U;U=m[0],O==0?Y(z[0]):(Y(z[h[ae=32767+O]]),Y(f[ae]));for(var de=63;de>0&&m[de]==0;)de--;if(de==0)return Y(ee),U;for(var ce,pe=1;pe<=de;){for(var K=pe;m[pe]==0&&pe<=de;)++pe;var ne=pe-K;if(ne>=16){ce=ne>>4;for(var Te=1;Te<=ce;++Te)Y(W);ne&=15}ae=32767+m[pe],Y(G[(ne<<4)+h[ae]]),Y(f[ae]),pe++}return de!=63&&Y(ee),U}function Q(E){E=Math.min(Math.max(E,1),100),i!=E&&(function(R){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var G=s((U[z]*R+50)/100);G=Math.min(Math.max(G,1),255),o[N[z]]=G}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ee=0;ee<64;ee++){var W=s((ae[ee]*R+50)/100);W=Math.min(Math.max(W,1),255),c[N[ee]]=W}for(var Z=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],re=0,O=0;O<8;O++)for(var de=0;de<8;de++)u[re]=1/(o[N[re]]*Z[O]*Z[de]*8),d[re]=1/(c[N[re]]*Z[O]*Z[de]*8),re++}(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),i=E)}this.encode=function(E,R){R&&Q(R),g=new Array,x=0,v=7,I(65496),I(65504),I(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),I(1),I(1),X(0),X(0),function(){I(65499),I(132),X(0);for(var Fe=0;Fe<64;Fe++)X(o[Fe]);X(1);for(var ve=0;ve<64;ve++)X(c[ve])}(),function(Fe,ve){I(65472),I(17),X(8),I(ve),I(Fe),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(E.width,E.height),function(){I(65476),I(418),X(0);for(var Fe=0;Fe<16;Fe++)X(w[Fe+1]);for(var ve=0;ve<=11;ve++)X(_[ve]);X(16);for(var me=0;me<16;me++)X(P[me+1]);for(var le=0;le<=161;le++)X(A[le]);X(1);for(var be=0;be<16;be++)X(j[be+1]);for(var Oe=0;Oe<=11;Oe++)X(F[Oe]);X(17);for(var je=0;je<16;je++)X(M[je+1]);for(var Ae=0;Ae<=161;Ae++)X(H[Ae])}(),I(65498),I(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var U=0,z=0,G=0;x=0,v=7,this.encode.displayName="_encode_";for(var ae,ee,W,Z,re,O,de,ce,pe,K=E.data,ne=E.width,Te=E.height,Ee=4*ne,$e=0;$e<Te;){for(ae=0;ae<Ee;){for(re=Ee*$e+ae,de=-1,ce=0,pe=0;pe<64;pe++)O=re+(ce=pe>>3)*Ee+(de=4*(7&pe)),$e+ce>=Te&&(O-=Ee*($e+1+ce-Te)),ae+de>=Ee&&(O-=ae+de-Ee+4),ee=K[O++],W=K[O++],Z=K[O++],b[pe]=(T[ee]+T[W+256>>0]+T[Z+512>>0]>>16)-128,y[pe]=(T[ee+768>>0]+T[W+1024>>0]+T[Z+1280>>0]>>16)-128,C[pe]=(T[ee+1280>>0]+T[W+1536>>0]+T[Z+1792>>0]>>16)-128;U=J(b,u,U,t,n),z=J(y,d,z,r,a),G=J(C,d,G,r,a),ae+=32}$e+=8}if(v>=0){var Pe=[];Pe[1]=v+1,Pe[0]=(1<<v+1)-1,Y(Pe)}return I(65497),new Uint8Array(g)},e=e||50,function(){for(var E=String.fromCharCode,R=0;R<256;R++)S[R]=E(R)}(),t=q(w,_),r=q(j,F),n=q(P,A),a=q(M,H),function(){for(var E=1,R=2,U=1;U<=15;U++){for(var z=E;z<R;z++)h[32767+z]=U,f[32767+z]=[],f[32767+z][1]=U,f[32767+z][0]=z;for(var G=-(R-1);G<=-E;G++)h[32767+G]=U,f[32767+G]=[],f[32767+G][1]=U,f[32767+G][0]=R-1+G;E<<=1,R<<=1}}(),function(){for(var E=0;E<256;E++)T[E]=19595*E,T[E+256>>0]=38470*E,T[E+512>>0]=7471*E+32768,T[E+768>>0]=-11059*E,T[E+1024>>0]=-21709*E,T[E+1280>>0]=32768*E+8421375,T[E+1536>>0]=-27439*E,T[E+1792>>0]=-5329*E}(),Q(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ps(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function BA(e){function t(w){if(!w)throw Error("assert :P")}function r(w,_,P){for(var A=0;4>A;A++)if(w[_+A]!=P.charCodeAt(A))return!0;return!1}function n(w,_,P,A,j){for(var F=0;F<j;F++)w[_+F]=P[A+F]}function a(w,_,P,A){for(var j=0;j<A;j++)w[_+j]=P}function i(w){return new Int32Array(w)}function s(w,_){for(var P=[],A=0;A<w;A++)P.push(new _);return P}function o(w,_){var P=[];return function A(j,F,M){for(var H=M[F],q=0;q<H&&(j.push(M.length>F+1?[]:new _),!(M.length<F+1));q++)A(j[q],F+1,M)}(P,0,w),P}var c=function(){var w=this;function _(k,D){for(var V=1<<D-1>>>0;k&V;)V>>>=1;return V?(k&V-1)+V:k}function P(k,D,V,te,ie){t(!(te%V));do k[D+(te-=V)]=ie;while(0<te)}function A(k,D,V,te,ie){if(t(2328>=ie),512>=ie)var ue=i(512);else if((ue=i(ie))==null)return 0;return function(fe,he,ge,ke,Le,Ke){var Xe,qe,st=he,Ze=1<<ge,Ie=i(16),Ue=i(16);for(t(Le!=0),t(ke!=null),t(fe!=null),t(0<ge),qe=0;qe<Le;++qe){if(15<ke[qe])return 0;++Ie[ke[qe]]}if(Ie[0]==Le)return 0;for(Ue[1]=0,Xe=1;15>Xe;++Xe){if(Ie[Xe]>1<<Xe)return 0;Ue[Xe+1]=Ue[Xe]+Ie[Xe]}for(qe=0;qe<Le;++qe)Xe=ke[qe],0<ke[qe]&&(Ke[Ue[Xe]++]=qe);if(Ue[15]==1)return(ke=new j).g=0,ke.value=Ke[0],P(fe,st,1,Ze,ke),Ze;var at,ot=-1,it=Ze-1,yt=0,mt=1,It=1,gt=1<<ge;for(qe=0,Xe=1,Le=2;Xe<=ge;++Xe,Le<<=1){if(mt+=It<<=1,0>(It-=Ie[Xe]))return 0;for(;0<Ie[Xe];--Ie[Xe])(ke=new j).g=Xe,ke.value=Ke[qe++],P(fe,st+yt,Le,gt,ke),yt=_(yt,Xe)}for(Xe=ge+1,Le=2;15>=Xe;++Xe,Le<<=1){if(mt+=It<<=1,0>(It-=Ie[Xe]))return 0;for(;0<Ie[Xe];--Ie[Xe]){if(ke=new j,(yt&it)!=ot){for(st+=gt,at=1<<(ot=Xe)-ge;15>ot&&!(0>=(at-=Ie[ot]));)++ot,at<<=1;Ze+=gt=1<<(at=ot-ge),fe[he+(ot=yt&it)].g=at+ge,fe[he+ot].value=st-he-ot}ke.g=Xe-ge,ke.value=Ke[qe++],P(fe,st+(yt>>ge),Le,gt,ke),yt=_(yt,Xe)}}return mt!=2*Ue[15]-1?0:Ze}(k,D,V,te,ie,ue)}function j(){this.value=this.g=0}function F(){this.value=this.g=0}function M(){this.G=s(5,j),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Sa,F)}function H(k,D,V,te){t(k!=null),t(D!=null),t(2147483648>te),k.Ca=254,k.I=0,k.b=-8,k.Ka=0,k.oa=D,k.pa=V,k.Jd=D,k.Yc=V+te,k.Zc=4<=te?V+te-4+1:V,ae(k)}function q(k,D){for(var V=0;0<D--;)V|=W(k,128)<<D;return V}function Y(k,D){var V=q(k,D);return ee(k)?-V:V}function X(k,D,V,te){var ie,ue=0;for(t(k!=null),t(D!=null),t(4294967288>te),k.Sb=te,k.Ra=0,k.u=0,k.h=0,4<te&&(te=4),ie=0;ie<te;++ie)ue+=D[V+ie]<<8*ie;k.Ra=ue,k.bb=te,k.oa=D,k.pa=V}function I(k){for(;8<=k.u&&k.bb<k.Sb;)k.Ra>>>=8,k.Ra+=k.oa[k.pa+k.bb]<<Vd-8>>>0,++k.bb,k.u-=8;U(k)&&(k.h=1,k.u=0)}function J(k,D){if(t(0<=D),!k.h&&D<=Yd){var V=R(k)&zd[D];return k.u+=D,I(k),V}return k.h=1,k.u=0}function Q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function E(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(k){return k.Ra>>>(k.u&Vd-1)>>>0}function U(k){return t(k.bb<=k.Sb),k.h||k.bb==k.Sb&&k.u>Vd}function z(k,D){k.u=D,k.h=U(k)}function G(k){k.u>=O0&&(t(k.u>=O0),I(k))}function ae(k){t(k!=null&&k.oa!=null),k.pa<k.Zc?(k.I=(k.oa[k.pa++]|k.I<<8)>>>0,k.b+=8):(t(k!=null&&k.oa!=null),k.pa<k.Yc?(k.b+=8,k.I=k.oa[k.pa++]|k.I<<8):k.Ka?k.b=0:(k.I<<=8,k.b+=8,k.Ka=1))}function ee(k){return q(k,1)}function W(k,D){var V=k.Ca;0>k.b&&ae(k);var te=k.b,ie=V*D>>>8,ue=(k.I>>>te>ie)+0;for(ue?(V-=ie,k.I-=ie+1<<te>>>0):V=ie+1,te=V,ie=0;256<=te;)ie+=8,te>>=8;return te=7^ie+_i[te],k.b-=te,k.Ca=(V<<te)-1,ue}function Z(k,D,V){k[D+0]=V>>24&255,k[D+1]=V>>16&255,k[D+2]=V>>8&255,k[D+3]=V>>0&255}function re(k,D){return k[D+0]<<0|k[D+1]<<8}function O(k,D){return re(k,D)|k[D+2]<<16}function de(k,D){return re(k,D)|re(k,D+2)<<16}function ce(k,D){var V=1<<D;return t(k!=null),t(0<D),k.X=i(V),k.X==null?0:(k.Mb=32-D,k.Xa=D,1)}function pe(k,D){t(k!=null),t(D!=null),t(k.Xa==D.Xa),n(D.X,0,k.X,0,1<<D.Xa)}function K(){this.X=[],this.Xa=this.Mb=0}function ne(k,D,V,te){t(V!=null),t(te!=null);var ie=V[0],ue=te[0];return ie==0&&(ie=(k*ue+D/2)/D),ue==0&&(ue=(D*ie+k/2)/k),0>=ie||0>=ue?0:(V[0]=ie,te[0]=ue,1)}function Te(k,D){return k+(1<<D)-1>>>D}function Ee(k,D){return((4278255360&k)+(4278255360&D)>>>0&4278255360)+((16711935&k)+(16711935&D)>>>0&16711935)>>>0}function $e(k,D){w[D]=function(V,te,ie,ue,fe,he,ge){var ke;for(ke=0;ke<fe;++ke){var Le=w[k](he[ge+ke-1],ie,ue+ke);he[ge+ke]=Ee(V[te+ke],Le)}}}function Pe(){this.ud=this.hd=this.jd=0}function Fe(k,D){return((4278124286&(k^D))>>>1)+(k&D)>>>0}function ve(k){return 0<=k&&256>k?k:0>k?0:255<k?255:void 0}function me(k,D){return ve(k+(k-D+.5>>1))}function le(k,D,V){return Math.abs(D-V)-Math.abs(k-V)}function be(k,D,V,te,ie,ue,fe){for(te=ue[fe-1],V=0;V<ie;++V)ue[fe+V]=te=Ee(k[D+V],te)}function Oe(k,D,V,te,ie){var ue;for(ue=0;ue<V;++ue){var fe=k[D+ue],he=fe>>8&255,ge=16711935&(ge=(ge=16711935&fe)+((he<<16)+he));te[ie+ue]=(4278255360&fe)+ge>>>0}}function je(k,D){D.jd=k>>0&255,D.hd=k>>8&255,D.ud=k>>16&255}function Ae(k,D,V,te,ie,ue){var fe;for(fe=0;fe<te;++fe){var he=D[V+fe],ge=he>>>8,ke=he,Le=255&(Le=(Le=he>>>16)+((k.jd<<24>>24)*(ge<<24>>24)>>>5));ke=255&(ke=(ke=ke+((k.hd<<24>>24)*(ge<<24>>24)>>>5))+((k.ud<<24>>24)*(Le<<24>>24)>>>5)),ie[ue+fe]=(4278255360&he)+(Le<<16)+ke}}function Be(k,D,V,te,ie){w[D]=function(ue,fe,he,ge,ke,Le,Ke,Xe,qe){for(ge=Ke;ge<Xe;++ge)for(Ke=0;Ke<qe;++Ke)ke[Le++]=ie(he[te(ue[fe++])])},w[k]=function(ue,fe,he,ge,ke,Le,Ke){var Xe=8>>ue.b,qe=ue.Ea,st=ue.K[0],Ze=ue.w;if(8>Xe)for(ue=(1<<ue.b)-1,Ze=(1<<Xe)-1;fe<he;++fe){var Ie,Ue=0;for(Ie=0;Ie<qe;++Ie)Ie&ue||(Ue=te(ge[ke++])),Le[Ke++]=ie(st[Ue&Ze]),Ue>>=Xe}else w["VP8LMapColor"+V](ge,ke,st,Ze,Le,Ke,fe,he,qe)}}function De(k,D,V,te,ie){for(V=D+V;D<V;){var ue=k[D++];te[ie++]=ue>>16&255,te[ie++]=ue>>8&255,te[ie++]=ue>>0&255}}function et(k,D,V,te,ie){for(V=D+V;D<V;){var ue=k[D++];te[ie++]=ue>>16&255,te[ie++]=ue>>8&255,te[ie++]=ue>>0&255,te[ie++]=ue>>24&255}}function Qe(k,D,V,te,ie){for(V=D+V;D<V;){var ue=(fe=k[D++])>>16&240|fe>>12&15,fe=fe>>0&240|fe>>28&15;te[ie++]=ue,te[ie++]=fe}}function kt(k,D,V,te,ie){for(V=D+V;D<V;){var ue=(fe=k[D++])>>16&248|fe>>13&7,fe=fe>>5&224|fe>>3&31;te[ie++]=ue,te[ie++]=fe}}function jt(k,D,V,te,ie){for(V=D+V;D<V;){var ue=k[D++];te[ie++]=ue>>0&255,te[ie++]=ue>>8&255,te[ie++]=ue>>16&255}}function bt(k,D,V,te,ie,ue){if(ue==0)for(V=D+V;D<V;)Z(te,((ue=k[D++])[0]>>24|ue[1]>>8&65280|ue[2]<<8&16711680|ue[3]<<24)>>>0),ie+=32;else n(te,ie,k,D,V)}function Vt(k,D){w[D][0]=w[k+"0"],w[D][1]=w[k+"1"],w[D][2]=w[k+"2"],w[D][3]=w[k+"3"],w[D][4]=w[k+"4"],w[D][5]=w[k+"5"],w[D][6]=w[k+"6"],w[D][7]=w[k+"7"],w[D][8]=w[k+"8"],w[D][9]=w[k+"9"],w[D][10]=w[k+"10"],w[D][11]=w[k+"11"],w[D][12]=w[k+"12"],w[D][13]=w[k+"13"],w[D][14]=w[k+"0"],w[D][15]=w[k+"0"]}function Pt(k){return k==ww||k==_w||k==jx||k==kw}function Ir(){this.eb=[],this.size=this.A=this.fb=0}function wr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ir,this.f.kb=new wr,this.sd=null}function bn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function gr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ft(k){return alert("todo:WebPSamplerProcessPlane"),k.T}function er(k,D){var V=k.T,te=D.ba.f.RGBA,ie=te.eb,ue=te.fb+k.ka*te.A,fe=rs[D.ba.S],he=k.y,ge=k.O,ke=k.f,Le=k.N,Ke=k.ea,Xe=k.W,qe=D.cc,st=D.dc,Ze=D.Mc,Ie=D.Nc,Ue=k.ka,at=k.ka+k.T,ot=k.U,it=ot+1>>1;for(Ue==0?fe(he,ge,null,null,ke,Le,Ke,Xe,ke,Le,Ke,Xe,ie,ue,null,null,ot):(fe(D.ec,D.fc,he,ge,qe,st,Ze,Ie,ke,Le,Ke,Xe,ie,ue-te.A,ie,ue,ot),++V);Ue+2<at;Ue+=2)qe=ke,st=Le,Ze=Ke,Ie=Xe,Le+=k.Rc,Xe+=k.Rc,ue+=2*te.A,fe(he,(ge+=2*k.fa)-k.fa,he,ge,qe,st,Ze,Ie,ke,Le,Ke,Xe,ie,ue-te.A,ie,ue,ot);return ge+=k.fa,k.j+at<k.o?(n(D.ec,D.fc,he,ge,ot),n(D.cc,D.dc,ke,Le,it),n(D.Mc,D.Nc,Ke,Xe,it),V--):1&at||fe(he,ge,null,null,ke,Le,Ke,Xe,ke,Le,Ke,Xe,ie,ue+te.A,null,null,ot),V}function Da(k,D,V){var te=k.F,ie=[k.J];if(te!=null){var ue=k.U,fe=D.ba.S,he=fe==Nx||fe==jx;D=D.ba.f.RGBA;var ge=[0],ke=k.ka;ge[0]=k.T,k.Kb&&(ke==0?--ge[0]:(--ke,ie[0]-=k.width),k.j+k.ka+k.T==k.o&&(ge[0]=k.o-k.j-ke));var Le=D.eb;ke=D.fb+ke*D.A,k=an(te,ie[0],k.width,ue,ge,Le,ke+(he?0:3),D.A),t(V==ge),k&&Pt(fe)&&es(Le,ke,he,ue,ge,D.A)}return 0}function Kr(k){var D=k.ma,V=D.ba.S,te=11>V,ie=V==kx||V==Sx||V==Nx||V==bw||V==12||Pt(V);if(D.memory=null,D.Ib=null,D.Jb=null,D.Nd=null,!T0(D.Oa,k,ie?11:12))return 0;if(ie&&Pt(V)&&ct(),k.da)alert("todo:use_scaling");else{if(te){if(D.Ib=Ft,k.Kb){if(V=k.U+1>>1,D.memory=i(k.U+2*V),D.memory==null)return 0;D.ec=D.memory,D.fc=0,D.cc=D.ec,D.dc=D.fc+k.U,D.Mc=D.cc,D.Nc=D.dc+V,D.Ib=er,ct()}}else alert("todo:EmitYUV");ie&&(D.Jb=Da,te&&ze())}if(te&&!yj){for(k=0;256>k;++k)HU[k]=89858*(k-128)+Cx>>Ax,VU[k]=-22014*(k-128)+Cx,YU[k]=-45773*(k-128),zU[k]=113618*(k-128)+Cx>>Ax;for(k=I0;k<jw;++k)D=76283*(k-16)+Cx>>Ax,GU[k-I0]=Fi(D,255),KU[k-I0]=Fi(D+8>>4,15);yj=1}return 1}function Sn(k){var D=k.ma,V=k.U,te=k.T;return t(!(1&k.ka)),0>=V||0>=te?0:(V=D.Ib(k,D),D.Jb!=null&&D.Jb(k,D,V),D.Dc+=V,1)}function Dn(k){k.ma.memory=null}function Ot(k,D,V,te){return J(k,8)!=47?0:(D[0]=J(k,14)+1,V[0]=J(k,14)+1,te[0]=J(k,1),J(k,3)!=0?0:!k.h)}function Yn(k,D){if(4>k)return k+1;var V=k-2>>1;return(2+(1&k)<<V)+J(D,V)+1}function Ct(k,D){return 120<D?D-120:1<=(V=((V=EU[D-1])>>4)*k+(8-(15&V)))?V:1;var V}function ar(k,D,V){var te=R(V),ie=k[D+=255&te].g-8;return 0<ie&&(z(V,V.u+8),te=R(V),D+=k[D].value,D+=te&(1<<ie)-1),z(V,V.u+k[D].g),k[D].value}function fr(k,D,V){return V.g+=k.g,V.value+=k.value<<D>>>0,t(8>=V.g),k.g}function Er(k,D,V){var te=k.xc;return t((D=te==0?0:k.vc[k.md*(V>>te)+(D>>te)])<k.Wb),k.Ya[D]}function oe(k,D,V,te){var ie=k.ab,ue=k.c*D,fe=k.C;D=fe+D;var he=V,ge=te;for(te=k.Ta,V=k.Ua;0<ie--;){var ke=k.gc[ie],Le=fe,Ke=D,Xe=he,qe=ge,st=(ge=te,he=V,ke.Ea);switch(t(Le<Ke),t(Ke<=ke.nc),ke.hc){case 2:gx(Xe,qe,(Ke-Le)*st,ge,he);break;case 0:var Ze=Le,Ie=Ke,Ue=ge,at=he,ot=(gt=ke).Ea;Ze==0&&(vw(Xe,qe,null,null,1,Ue,at),be(Xe,qe+1,0,0,ot-1,Ue,at+1),qe+=ot,at+=ot,++Ze);for(var it=1<<gt.b,yt=it-1,mt=Te(ot,gt.b),It=gt.K,gt=gt.w+(Ze>>gt.b)*mt;Ze<Ie;){var Mr=It,Wr=gt,Nr=1;for(P0(Xe,qe,Ue,at-ot,1,Ue,at);Nr<ot;){var pr=(Nr&~yt)+it;pr>ot&&(pr=ot),(0,Ul[Mr[Wr++]>>8&15])(Xe,qe+ +Nr,Ue,at+Nr-ot,pr-Nr,Ue,at+Nr),Nr=pr}qe+=ot,at+=ot,++Ze&yt||(gt+=mt)}Ke!=ke.nc&&n(ge,he-st,ge,he+(Ke-Le-1)*st,st);break;case 1:for(st=Xe,Ie=qe,ot=(Xe=ke.Ea)-(at=Xe&~(Ue=(qe=1<<ke.b)-1)),Ze=Te(Xe,ke.b),it=ke.K,ke=ke.w+(Le>>ke.b)*Ze;Le<Ke;){for(yt=it,mt=ke,It=new Pe,gt=Ie+at,Mr=Ie+Xe;Ie<gt;)je(yt[mt++],It),nu(It,st,Ie,qe,ge,he),Ie+=qe,he+=qe;Ie<Mr&&(je(yt[mt++],It),nu(It,st,Ie,ot,ge,he),Ie+=ot,he+=ot),++Le&Ue||(ke+=Ze)}break;case 3:if(Xe==ge&&qe==he&&0<ke.b){for(Ie=ge,Xe=st=he+(Ke-Le)*st-(at=(Ke-Le)*Te(ke.Ea,ke.b)),qe=ge,Ue=he,Ze=[],at=(ot=at)-1;0<=at;--at)Ze[at]=qe[Ue+at];for(at=ot-1;0<=at;--at)Ie[Xe+at]=Ze[at];Ji(ke,Le,Ke,ge,st,ge,he)}else Ji(ke,Le,Ke,Xe,qe,ge,he)}he=te,ge=V}ge!=V&&n(te,V,he,ge,ue)}function Se(k,D){var V=k.V,te=k.Ba+k.c*k.C,ie=D-k.C;if(t(D<=k.l.o),t(16>=ie),0<ie){var ue=k.l,fe=k.Ta,he=k.Ua,ge=ue.width;if(oe(k,ie,V,te),ie=he=[he],t((V=k.C)<(te=D)),t(ue.v<ue.va),te>ue.o&&(te=ue.o),V<ue.j){var ke=ue.j-V;V=ue.j,ie[0]+=ke*ge}if(V>=te?V=0:(ie[0]+=4*ue.v,ue.ka=V-ue.j,ue.U=ue.va-ue.v,ue.T=te-V,V=1),V){if(he=he[0],11>(V=k.ca).S){var Le=V.f.RGBA,Ke=(te=V.S,ie=ue.U,ue=ue.T,ke=Le.eb,Le.A),Xe=ue;for(Le=Le.fb+k.Ma*Le.A;0<Xe--;){var qe=fe,st=he,Ze=ie,Ie=ke,Ue=Le;switch(te){case _x:ki(qe,st,Ze,Ie,Ue);break;case kx:ti(qe,st,Ze,Ie,Ue);break;case ww:ti(qe,st,Ze,Ie,Ue),es(Ie,Ue,0,Ze,1,0);break;case uj:Go(qe,st,Ze,Ie,Ue);break;case Sx:bt(qe,st,Ze,Ie,Ue,1);break;case _w:bt(qe,st,Ze,Ie,Ue,1),es(Ie,Ue,0,Ze,1,0);break;case Nx:bt(qe,st,Ze,Ie,Ue,0);break;case jx:bt(qe,st,Ze,Ie,Ue,0),es(Ie,Ue,1,Ze,1,0);break;case bw:Wl(qe,st,Ze,Ie,Ue);break;case kw:Wl(qe,st,Ze,Ie,Ue),nn(Ie,Ue,Ze,1,0);break;case dj:Vo(qe,st,Ze,Ie,Ue);break;default:t(0)}he+=ge,Le+=Ke}k.Ma+=ue}else alert("todo:EmitRescaledRowsYUVA");t(k.Ma<=V.height)}}k.C=D,t(k.C<=k.i)}function xe(k){var D;if(0<k.ua)return 0;for(D=0;D<k.Wb;++D){var V=k.Ya[D].G,te=k.Ya[D].H;if(0<V[1][te[1]+0].g||0<V[2][te[2]+0].g||0<V[3][te[3]+0].g)return 0}return 1}function ye(k,D,V,te,ie,ue){if(k.Z!=0){var fe=k.qd,he=k.rd;for(t(Yl[k.Z]!=null);D<V;++D)Yl[k.Z](fe,he,te,ie,te,ie,ue),fe=te,he=ie,ie+=ue;k.qd=fe,k.rd=he}}function _e(k,D){var V=k.l.ma,te=V.Z==0||V.Z==1?k.l.j:k.C;if(te=k.C<te?te:k.C,t(D<=k.l.o),D>te){var ie=k.l.width,ue=V.ca,fe=V.tb+ie*te,he=k.V,ge=k.Ba+k.c*te,ke=k.gc;t(k.ab==1),t(ke[0].hc==3),xx(ke[0],te,D,he,ge,ue,fe),ye(V,te,D,ue,fe,ie)}k.C=k.Ma=D}function Ne(k,D,V,te,ie,ue,fe){var he=k.$/te,ge=k.$%te,ke=k.m,Le=k.s,Ke=V+k.$,Xe=Ke;ie=V+te*ie;var qe=V+te*ue,st=280+Le.ua,Ze=k.Pb?he:16777216,Ie=0<Le.ua?Le.Wa:null,Ue=Le.wc,at=Ke<qe?Er(Le,ge,he):null;t(k.C<ue),t(qe<=ie);var ot=!1;e:for(;;){for(;ot||Ke<qe;){var it=0;if(he>=Ze){var yt=Ke-V;t((Ze=k).Pb),Ze.wd=Ze.m,Ze.xd=yt,0<Ze.s.ua&&pe(Ze.s.Wa,Ze.s.vb),Ze=he+PU}if(ge&Ue||(at=Er(Le,ge,he)),t(at!=null),at.Qb&&(D[Ke]=at.qb,ot=!0),!ot)if(G(ke),at.jc){it=ke,yt=D;var mt=Ke,It=at.pd[R(it)&Sa-1];t(at.jc),256>It.g?(z(it,it.u+It.g),yt[mt]=It.value,it=0):(z(it,it.u+It.g-256),t(256<=It.value),it=It.value),it==0&&(ot=!0)}else it=ar(at.G[0],at.H[0],ke);if(ke.h)break;if(ot||256>it){if(!ot)if(at.nd)D[Ke]=(at.qb|it<<8)>>>0;else{if(G(ke),ot=ar(at.G[1],at.H[1],ke),G(ke),yt=ar(at.G[2],at.H[2],ke),mt=ar(at.G[3],at.H[3],ke),ke.h)break;D[Ke]=(mt<<24|ot<<16|it<<8|yt)>>>0}if(ot=!1,++Ke,++ge>=te&&(ge=0,++he,fe!=null&&he<=ue&&!(he%16)&&fe(k,he),Ie!=null))for(;Xe<Ke;)it=D[Xe++],Ie.X[(506832829*it&4294967295)>>>Ie.Mb]=it}else if(280>it){if(it=Yn(it-256,ke),yt=ar(at.G[4],at.H[4],ke),G(ke),yt=Ct(te,yt=Yn(yt,ke)),ke.h)break;if(Ke-V<yt||ie-Ke<it)break e;for(mt=0;mt<it;++mt)D[Ke+mt]=D[Ke+mt-yt];for(Ke+=it,ge+=it;ge>=te;)ge-=te,++he,fe!=null&&he<=ue&&!(he%16)&&fe(k,he);if(t(Ke<=ie),ge&Ue&&(at=Er(Le,ge,he)),Ie!=null)for(;Xe<Ke;)it=D[Xe++],Ie.X[(506832829*it&4294967295)>>>Ie.Mb]=it}else{if(!(it<st))break e;for(ot=it-280,t(Ie!=null);Xe<Ke;)it=D[Xe++],Ie.X[(506832829*it&4294967295)>>>Ie.Mb]=it;it=Ke,t(!(ot>>>(yt=Ie).Xa)),D[it]=yt.X[ot],ot=!0}ot||t(ke.h==U(ke))}if(k.Pb&&ke.h&&Ke<ie)t(k.m.h),k.a=5,k.m=k.wd,k.$=k.xd,0<k.s.ua&&pe(k.s.vb,k.s.Wa);else{if(ke.h)break e;fe!=null&&fe(k,he>ue?ue:he),k.a=0,k.$=Ke-V}return 1}return k.a=3,0}function He(k){t(k!=null),k.vc=null,k.yc=null,k.Ya=null;var D=k.Wa;D!=null&&(D.X=null),k.vb=null,t(k!=null)}function Je(){var k=new xw;return k==null?null:(k.a=0,k.xb=pj,Vt("Predictor","VP8LPredictors"),Vt("Predictor","VP8LPredictors_C"),Vt("PredictorAdd","VP8LPredictorsAdd"),Vt("PredictorAdd","VP8LPredictorsAdd_C"),gx=Oe,nu=Ae,ki=De,ti=et,Wl=Qe,Vo=kt,Go=jt,w.VP8LMapColor32b=Gd,w.VP8LMapColor8b=vx,k)}function Ye(k,D,V,te,ie){var ue=1,fe=[k],he=[D],ge=te.m,ke=te.s,Le=null,Ke=0;e:for(;;){if(V)for(;ue&&J(ge,1);){var Xe=fe,qe=he,st=te,Ze=1,Ie=st.m,Ue=st.gc[st.ab],at=J(Ie,2);if(st.Oc&1<<at)ue=0;else{switch(st.Oc|=1<<at,Ue.hc=at,Ue.Ea=Xe[0],Ue.nc=qe[0],Ue.K=[null],++st.ab,t(4>=st.ab),at){case 0:case 1:Ue.b=J(Ie,3)+2,Ze=Ye(Te(Ue.Ea,Ue.b),Te(Ue.nc,Ue.b),0,st,Ue.K),Ue.K=Ue.K[0];break;case 3:var ot,it=J(Ie,8)+1,yt=16<it?0:4<it?1:2<it?2:3;if(Xe[0]=Te(Ue.Ea,yt),Ue.b=yt,ot=Ze=Ye(it,1,0,st,Ue.K)){var mt,It=it,gt=Ue,Mr=1<<(8>>gt.b),Wr=i(Mr);if(Wr==null)ot=0;else{var Nr=gt.K[0],pr=gt.w;for(Wr[0]=gt.K[0][0],mt=1;mt<1*It;++mt)Wr[mt]=Ee(Nr[pr+mt],Wr[mt-1]);for(;mt<4*Mr;++mt)Wr[mt]=0;gt.K[0]=null,gt.K[0]=Wr,ot=1}}Ze=ot;break;case 2:break;default:t(0)}ue=Ze}}if(fe=fe[0],he=he[0],ue&&J(ge,1)&&!(ue=1<=(Ke=J(ge,4))&&11>=Ke)){te.a=3;break e}var Qr;if(Qr=ue)t:{var Xr,tr,Gn,Si=te,Kn=fe,Ni=he,qr=Ke,Ii=V,Ri=Si.m,ha=Si.s,Na=[null],ni=1,ns=0,oo=OU[qr];r:for(;;){if(Ii&&J(Ri,1)){var pa=J(Ri,3)+2,Qo=Te(Kn,pa),lu=Te(Ni,pa),Zd=Qo*lu;if(!Ye(Qo,lu,0,Si,Na))break r;for(Na=Na[0],ha.xc=pa,Xr=0;Xr<Zd;++Xr){var Vl=Na[Xr]>>8&65535;Na[Xr]=Vl,Vl>=ni&&(ni=Vl+1)}}if(Ri.h)break r;for(tr=0;5>tr;++tr){var jn=fj[tr];!tr&&0<qr&&(jn+=1<<qr),ns<jn&&(ns=jn)}var Aw=s(ni*oo,j),_j=ni,kj=s(_j,M);if(kj==null)var Ex=null;else t(65536>=_j),Ex=kj;var R0=i(ns);if(Ex==null||R0==null||Aw==null){Si.a=1;break r}var Ox=Aw;for(Xr=Gn=0;Xr<ni;++Xr){var Es=Ex[Xr],ef=Es.G,tf=Es.H,Sj=0,Px=1,Nj=0;for(tr=0;5>tr;++tr){jn=fj[tr],ef[tr]=Ox,tf[tr]=Gn,!tr&&0<qr&&(jn+=1<<qr);a:{var Dx,Cw=jn,$x=Si,B0=R0,QU=Ox,ZU=Gn,Tw=0,Gl=$x.m,eW=J(Gl,1);if(a(B0,0,0,Cw),eW){var tW=J(Gl,1)+1,rW=J(Gl,1),jj=J(Gl,rW==0?1:8);B0[jj]=1,tW==2&&(B0[jj=J(Gl,8)]=1);var Mx=1}else{var Aj=i(19),Cj=J(Gl,4)+4;if(19<Cj){$x.a=3;var Fx=0;break a}for(Dx=0;Dx<Cj;++Dx)Aj[TU[Dx]]=J(Gl,3);var Ew=void 0,U0=void 0,Tj=$x,nW=Aj,Lx=Cw,Ej=B0,Ow=0,Kl=Tj.m,Oj=8,Pj=s(128,j);n:for(;A(Pj,0,7,nW,19);){if(J(Kl,1)){var aW=2+2*J(Kl,3);if((Ew=2+J(Kl,aW))>Lx)break n}else Ew=Lx;for(U0=0;U0<Lx&&Ew--;){G(Kl);var Dj=Pj[0+(127&R(Kl))];z(Kl,Kl.u+Dj.g);var rf=Dj.value;if(16>rf)Ej[U0++]=rf,rf!=0&&(Oj=rf);else{var iW=rf==16,$j=rf-16,sW=AU[$j],Mj=J(Kl,jU[$j])+sW;if(U0+Mj>Lx)break n;for(var oW=iW?Oj:0;0<Mj--;)Ej[U0++]=oW}}Ow=1;break n}Ow||(Tj.a=3),Mx=Ow}(Mx=Mx&&!Gl.h)&&(Tw=A(QU,ZU,8,B0,Cw)),Mx&&Tw!=0?Fx=Tw:($x.a=3,Fx=0)}if(Fx==0)break r;if(Px&&CU[tr]==1&&(Px=Ox[Gn].g==0),Sj+=Ox[Gn].g,Gn+=Fx,3>=tr){var W0,Pw=R0[0];for(W0=1;W0<jn;++W0)R0[W0]>Pw&&(Pw=R0[W0]);Nj+=Pw}}if(Es.nd=Px,Es.Qb=0,Px&&(Es.qb=(ef[3][tf[3]+0].value<<24|ef[1][tf[1]+0].value<<16|ef[2][tf[2]+0].value)>>>0,Sj==0&&256>ef[0][tf[0]+0].value&&(Es.Qb=1,Es.qb+=ef[0][tf[0]+0].value<<8)),Es.jc=!Es.Qb&&6>Nj,Es.jc){var Ix,Zo=Es;for(Ix=0;Ix<Sa;++Ix){var Xl=Ix,Jl=Zo.pd[Xl],Rx=Zo.G[0][Zo.H[0]+Xl];256<=Rx.value?(Jl.g=Rx.g+256,Jl.value=Rx.value):(Jl.g=0,Jl.value=0,Xl>>=fr(Rx,8,Jl),Xl>>=fr(Zo.G[1][Zo.H[1]+Xl],16,Jl),Xl>>=fr(Zo.G[2][Zo.H[2]+Xl],0,Jl),fr(Zo.G[3][Zo.H[3]+Xl],24,Jl))}}}ha.vc=Na,ha.Wb=ni,ha.Ya=Ex,ha.yc=Aw,Qr=1;break t}Qr=0}if(!(ue=Qr)){te.a=3;break e}if(0<Ke){if(ke.ua=1<<Ke,!ce(ke.Wa,Ke)){te.a=1,ue=0;break e}}else ke.ua=0;var Dw=te,Fj=fe,lW=he,$w=Dw.s,Mw=$w.xc;if(Dw.c=Fj,Dw.i=lW,$w.md=Te(Fj,Mw),$w.wc=Mw==0?-1:(1<<Mw)-1,V){te.xb=RU;break e}if((Le=i(fe*he))==null){te.a=1,ue=0;break e}ue=(ue=Ne(te,Le,0,fe,he,he,null))&&!ge.h;break e}return ue?(ie!=null?ie[0]=Le:(t(Le==null),t(V)),te.$=0,V||He(ke)):He(ke),ue}function Ve(k,D){var V=k.c*k.i,te=V+D+16*D;return t(k.c<=D),k.V=i(te),k.V==null?(k.Ta=null,k.Ua=0,k.a=1,0):(k.Ta=k.V,k.Ua=k.Ba+V+D,1)}function Ge(k,D){var V=k.C,te=D-V,ie=k.V,ue=k.Ba+k.c*V;for(t(D<=k.l.o);0<te;){var fe=16<te?16:te,he=k.l.ma,ge=k.l.width,ke=ge*fe,Le=he.ca,Ke=he.tb+ge*V,Xe=k.Ta,qe=k.Ua;oe(k,fe,ie,ue),Mn(Xe,qe,Le,Ke,ke),ye(he,V,V+fe,Le,Ke,ge),te-=fe,ie+=fe*k.c,V+=fe}t(V==D),k.C=k.Ma=D}function lt(){this.ub=this.yd=this.td=this.Rb=0}function ft(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ht(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function ut(){this.Yb=function(){var k=[];return function D(V,te,ie){for(var ue=ie[te],fe=0;fe<ue&&(V.push(ie.length>te+1?[]:0),!(ie.length<te+1));fe++)D(V[fe],te+1,ie)}(k,0,[3,11]),k}()}function pt(){this.jb=i(3),this.Wc=o([4,8],ut),this.Xc=o([4,17],ut)}function Dt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function ur(){this.ld=this.La=this.dd=this.tc=0}function xr(){this.Na=this.la=0}function mn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function yi(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ei(){this.uc=this.M=this.Nb=0,this.wa=Array(new ur),this.Y=0,this.ya=Array(new yi),this.aa=0,this.l=new $a}function Mi(){this.y=i(16),this.f=i(8),this.ea=i(8)}function bi(){this.cb=this.a=0,this.sc="",this.m=new Q,this.Od=new lt,this.Kc=new ft,this.ed=new Dt,this.Qa=new ht,this.Ic=this.$c=this.Aa=0,this.D=new ei,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Q),this.ia=0,this.pb=s(4,mn),this.Pa=new pt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Mi),this.Hd=0,this.rb=Array(new xr),this.sb=0,this.wa=Array(new ur),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new yi),this.L=this.aa=0,this.gd=o([4,2],ur),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $a(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ma(){var k=new bi;return k!=null&&(k.a=0,k.sc="OK",k.cb=0,k.Xb=0,L0||(L0=Ll)),k}function Ur(k,D,V){return k.a==0&&(k.a=D,k.sc=V,k.cb=0),0}function $d(k,D,V){return 3<=V&&k[D+0]==157&&k[D+1]==1&&k[D+2]==42}function Xi(k,D){if(k==null)return 0;if(k.a=0,k.sc="OK",D==null)return Ur(k,2,"null VP8Io passed to VP8GetHeaders()");var V=D.data,te=D.w,ie=D.ha;if(4>ie)return Ur(k,7,"Truncated header.");var ue=V[te+0]|V[te+1]<<8|V[te+2]<<16,fe=k.Od;if(fe.Rb=!(1&ue),fe.td=ue>>1&7,fe.yd=ue>>4&1,fe.ub=ue>>5,3<fe.td)return Ur(k,3,"Incorrect keyframe parameters.");if(!fe.yd)return Ur(k,4,"Frame not displayable.");te+=3,ie-=3;var he=k.Kc;if(fe.Rb){if(7>ie)return Ur(k,7,"cannot parse picture header");if(!$d(V,te,ie))return Ur(k,3,"Bad code word");he.c=16383&(V[te+4]<<8|V[te+3]),he.Td=V[te+4]>>6,he.i=16383&(V[te+6]<<8|V[te+5]),he.Ud=V[te+6]>>6,te+=7,ie-=7,k.za=he.c+15>>4,k.Ub=he.i+15>>4,D.width=he.c,D.height=he.i,D.Da=0,D.j=0,D.v=0,D.va=D.width,D.o=D.height,D.da=0,D.ib=D.width,D.hb=D.height,D.U=D.width,D.T=D.height,a((ue=k.Pa).jb,0,255,ue.jb.length),t((ue=k.Qa)!=null),ue.Cb=0,ue.Bb=0,ue.Fb=1,a(ue.Zb,0,0,ue.Zb.length),a(ue.Lb,0,0,ue.Lb)}if(fe.ub>ie)return Ur(k,7,"bad partition length");H(ue=k.m,V,te,fe.ub),te+=fe.ub,ie-=fe.ub,fe.Rb&&(he.Ld=ee(ue),he.Kd=ee(ue)),he=k.Qa;var ge,ke=k.Pa;if(t(ue!=null),t(he!=null),he.Cb=ee(ue),he.Cb){if(he.Bb=ee(ue),ee(ue)){for(he.Fb=ee(ue),ge=0;4>ge;++ge)he.Zb[ge]=ee(ue)?Y(ue,7):0;for(ge=0;4>ge;++ge)he.Lb[ge]=ee(ue)?Y(ue,6):0}if(he.Bb)for(ge=0;3>ge;++ge)ke.jb[ge]=ee(ue)?q(ue,8):255}else he.Bb=0;if(ue.Ka)return Ur(k,3,"cannot parse segment header");if((he=k.ed).zd=ee(ue),he.Tb=q(ue,6),he.wb=q(ue,3),he.Pc=ee(ue),he.Pc&&ee(ue)){for(ke=0;4>ke;++ke)ee(ue)&&(he.vd[ke]=Y(ue,6));for(ke=0;4>ke;++ke)ee(ue)&&(he.od[ke]=Y(ue,6))}if(k.L=he.Tb==0?0:he.zd?1:2,ue.Ka)return Ur(k,3,"cannot parse filter header");var Le=ie;if(ie=ge=te,te=ge+Le,he=Le,k.Xb=(1<<q(k.m,2))-1,Le<3*(ke=k.Xb))V=7;else{for(ge+=3*ke,he-=3*ke,Le=0;Le<ke;++Le){var Ke=V[ie+0]|V[ie+1]<<8|V[ie+2]<<16;Ke>he&&(Ke=he),H(k.Jc[+Le],V,ge,Ke),ge+=Ke,he-=Ke,ie+=3}H(k.Jc[+ke],V,ge,he),V=ge<te?0:5}if(V!=0)return Ur(k,V,"cannot parse partitions");for(V=q(ge=k.m,7),ie=ee(ge)?Y(ge,4):0,te=ee(ge)?Y(ge,4):0,he=ee(ge)?Y(ge,4):0,ke=ee(ge)?Y(ge,4):0,ge=ee(ge)?Y(ge,4):0,Le=k.Qa,Ke=0;4>Ke;++Ke){if(Le.Cb){var Xe=Le.Zb[Ke];Le.Fb||(Xe+=V)}else{if(0<Ke){k.pb[Ke]=k.pb[0];continue}Xe=V}var qe=k.pb[Ke];qe.Sc[0]=Sw[Fi(Xe+ie,127)],qe.Sc[1]=Nw[Fi(Xe+0,127)],qe.Eb[0]=2*Sw[Fi(Xe+te,127)],qe.Eb[1]=101581*Nw[Fi(Xe+he,127)]>>16,8>qe.Eb[1]&&(qe.Eb[1]=8),qe.Qc[0]=Sw[Fi(Xe+ke,117)],qe.Qc[1]=Nw[Fi(Xe+ge,127)],qe.lc=Xe+ge}if(!fe.Rb)return Ur(k,4,"Not a key frame.");for(ee(ue),fe=k.Pa,V=0;4>V;++V){for(ie=0;8>ie;++ie)for(te=0;3>te;++te)for(he=0;11>he;++he)ke=W(ue,LU[V][ie][te][he])?q(ue,8):MU[V][ie][te][he],fe.Wc[V][ie].Yb[te][he]=ke;for(ie=0;17>ie;++ie)fe.Xc[V][ie]=fe.Wc[V][IU[ie]]}return k.kc=ee(ue),k.kc&&(k.Bd=q(ue,8)),k.cb=1}function Ll(k,D,V,te,ie,ue,fe){var he=D[ie].Yb[V];for(V=0;16>ie;++ie){if(!W(k,he[V+0]))return ie;for(;!W(k,he[V+1]);)if(he=D[++ie].Yb[0],V=0,ie==16)return 16;var ge=D[ie+1].Yb;if(W(k,he[V+2])){var ke=k,Le=0;if(W(ke,(Xe=he)[(Ke=V)+3]))if(W(ke,Xe[Ke+6])){for(he=0,Ke=2*(Le=W(ke,Xe[Ke+8]))+(Xe=W(ke,Xe[Ke+9+Le])),Le=0,Xe=DU[Ke];Xe[he];++he)Le+=Le+W(ke,Xe[he]);Le+=3+(8<<Ke)}else W(ke,Xe[Ke+7])?(Le=7+2*W(ke,165),Le+=W(ke,145)):Le=5+W(ke,159);else Le=W(ke,Xe[Ke+4])?3+W(ke,Xe[Ke+5]):2;he=ge[2]}else Le=1,he=ge[1];ge=fe+$U[ie],0>(ke=k).b&&ae(ke);var Ke,Xe=ke.b,qe=(Ke=ke.Ca>>1)-(ke.I>>Xe)>>31;--ke.b,ke.Ca+=qe,ke.Ca|=1,ke.I-=(Ke+1&qe)<<Xe,ue[ge]=((Le^qe)-qe)*te[(0<ie)+0]}return 16}function p0(k){var D=k.rb[k.sb-1];D.la=0,D.Na=0,a(k.zc,0,0,k.zc.length),k.ja=0}function ew(k,D){if(k==null)return 0;if(D==null)return Ur(k,2,"NULL VP8Io parameter in VP8Decode().");if(!k.cb&&!Xi(k,D))return 0;if(t(k.cb),D.ac==null||D.ac(D)){D.ob&&(k.L=0);var V=Tx[k.L];if(k.L==2?(k.yb=0,k.zb=0):(k.yb=D.v-V>>4,k.zb=D.j-V>>4,0>k.yb&&(k.yb=0),0>k.zb&&(k.zb=0)),k.Va=D.o+15+V>>4,k.Hb=D.va+15+V>>4,k.Hb>k.za&&(k.Hb=k.za),k.Va>k.Ub&&(k.Va=k.Ub),0<k.L){var te=k.ed;for(V=0;4>V;++V){var ie;if(k.Qa.Cb){var ue=k.Qa.Lb[V];k.Qa.Fb||(ue+=te.Tb)}else ue=te.Tb;for(ie=0;1>=ie;++ie){var fe=k.gd[V][ie],he=ue;if(te.Pc&&(he+=te.vd[0],ie&&(he+=te.od[0])),0<(he=0>he?0:63<he?63:he)){var ge=he;0<te.wb&&(ge=4<te.wb?ge>>2:ge>>1)>9-te.wb&&(ge=9-te.wb),1>ge&&(ge=1),fe.dd=ge,fe.tc=2*he+ge,fe.ld=40<=he?2:15<=he?1:0}else fe.tc=0;fe.La=ie}}}V=0}else Ur(k,6,"Frame setup failed"),V=k.a;if(V=V==0){if(V){k.$c=0,0<k.Aa||(k.Ic=JU);e:{V=k.Ic,te=4*(ge=k.za);var ke=32*ge,Le=ge+1,Ke=0<k.L?ge*(0<k.Aa?2:1):0,Xe=(k.Aa==2?2:1)*ge;if((fe=te+832+(ie=3*(16*V+Tx[k.L])/2*ke)+(ue=k.Fa!=null&&0<k.Fa.length?k.Kc.c*k.Kc.i:0))!=fe)V=0;else{if(fe>k.Vb){if(k.Vb=0,k.Ec=i(fe),k.Fc=0,k.Ec==null){V=Ur(k,1,"no memory during frame initialization.");break e}k.Vb=fe}fe=k.Ec,he=k.Fc,k.Ac=fe,k.Bc=he,he+=te,k.Gd=s(ke,Mi),k.Hd=0,k.rb=s(Le+1,xr),k.sb=1,k.wa=Ke?s(Ke,ur):null,k.Y=0,k.D.Nb=0,k.D.wa=k.wa,k.D.Y=k.Y,0<k.Aa&&(k.D.Y+=ge),t(!0),k.oc=fe,k.pc=he,he+=832,k.ya=s(Xe,yi),k.aa=0,k.D.ya=k.ya,k.D.aa=k.aa,k.Aa==2&&(k.D.aa+=ge),k.R=16*ge,k.B=8*ge,ge=(ke=Tx[k.L])*k.R,ke=ke/2*k.B,k.sa=fe,k.ta=he+ge,k.qa=k.sa,k.ra=k.ta+16*V*k.R+ke,k.Ha=k.qa,k.Ia=k.ra+8*V*k.B+ke,k.$c=0,he+=ie,k.mb=ue?fe:null,k.nb=ue?he:null,t(he+ue<=k.Fc+k.Vb),p0(k),a(k.Ac,k.Bc,0,te),V=1}}if(V){if(D.ka=0,D.y=k.sa,D.O=k.ta,D.f=k.qa,D.N=k.ra,D.ea=k.Ha,D.Vd=k.Ia,D.fa=k.R,D.Rc=k.B,D.F=null,D.J=0,!bx){for(V=-255;255>=V;++V)ra[255+V]=0>V?-V:V;for(V=-1020;1020>=V;++V)Xo[1020+V]=-128>V?-128:127<V?127:V;for(V=-112;112>=V;++V)F0[112+V]=-16>V?-16:15<V?15:V;for(V=-255;510>=V;++V)Qd[255+V]=0>V?0:255<V?255:V;bx=1}Kd=nw,Ko=tw,D0=nx,ri=rw,Qi=ax,$n=rx,Xd=b0,yx=tu,$0=gw,au=w0,iu=mw,ql=Bd,su=_0,Jd=hx,ou=fx,Hl=io,M0=Yo,Zi=pw,Ts[0]=ao,Ts[1]=aw,Ts[2]=lw,Ts[3]=cw,Ts[4]=ox,Ts[5]=Id,Ts[6]=lx,Ts[7]=x0,Ts[8]=dw,Ts[9]=uw,zl[0]=ix,zl[1]=sw,zl[2]=zo,zl[3]=Fd,zl[4]=Fa,zl[5]=ow,zl[6]=sx,Jo[0]=Il,Jo[1]=iw,Jo[2]=fw,Jo[3]=v0,Jo[4]=eu,Jo[5]=hw,Jo[6]=y0,V=1}else V=0}V&&(V=function(qe,st){for(qe.M=0;qe.M<qe.Va;++qe.M){var Ze,Ie=qe.Jc[qe.M&qe.Xb],Ue=qe.m,at=qe;for(Ze=0;Ze<at.za;++Ze){var ot=Ue,it=at,yt=it.Ac,mt=it.Bc+4*Ze,It=it.zc,gt=it.ya[it.aa+Ze];if(it.Qa.Bb?gt.$b=W(ot,it.Pa.jb[0])?2+W(ot,it.Pa.jb[2]):W(ot,it.Pa.jb[1]):gt.$b=0,it.kc&&(gt.Ad=W(ot,it.Bd)),gt.Za=!W(ot,145)+0,gt.Za){var Mr=gt.Ob,Wr=0;for(it=0;4>it;++it){var Nr,pr=It[0+it];for(Nr=0;4>Nr;++Nr){pr=FU[yt[mt+Nr]][pr];for(var Qr=hj[W(ot,pr[0])];0<Qr;)Qr=hj[2*Qr+W(ot,pr[Qr])];pr=-Qr,yt[mt+Nr]=pr}n(Mr,Wr,yt,mt,4),Wr+=4,It[0+it]=pr}}else pr=W(ot,156)?W(ot,128)?1:3:W(ot,163)?2:0,gt.Ob[0]=pr,a(yt,mt,pr,4),a(It,0,pr,4);gt.Dd=W(ot,142)?W(ot,114)?W(ot,183)?1:3:2:0}if(at.m.Ka)return Ur(qe,7,"Premature end-of-partition0 encountered.");for(;qe.ja<qe.za;++qe.ja){if(at=Ie,ot=(Ue=qe).rb[Ue.sb-1],yt=Ue.rb[Ue.sb+Ue.ja],Ze=Ue.ya[Ue.aa+Ue.ja],mt=Ue.kc?Ze.Ad:0)ot.la=yt.la=0,Ze.Za||(ot.Na=yt.Na=0),Ze.Hc=0,Ze.Gc=0,Ze.ia=0;else{var Xr,tr;if(ot=yt,yt=at,mt=Ue.Pa.Xc,It=Ue.ya[Ue.aa+Ue.ja],gt=Ue.pb[It.$b],it=It.ad,Mr=0,Wr=Ue.rb[Ue.sb-1],pr=Nr=0,a(it,Mr,0,384),It.Za)var Gn=0,Si=mt[3];else{Qr=i(16);var Kn=ot.Na+Wr.Na;if(Kn=L0(yt,mt[1],Kn,gt.Eb,0,Qr,0),ot.Na=Wr.Na=(0<Kn)+0,1<Kn)Kd(Qr,0,it,Mr);else{var Ni=Qr[0]+3>>3;for(Qr=0;256>Qr;Qr+=16)it[Mr+Qr]=Ni}Gn=1,Si=mt[0]}var qr=15&ot.la,Ii=15&Wr.la;for(Qr=0;4>Qr;++Qr){var Ri=1&Ii;for(Ni=tr=0;4>Ni;++Ni)qr=qr>>1|(Ri=(Kn=L0(yt,Si,Kn=Ri+(1&qr),gt.Sc,Gn,it,Mr))>Gn)<<7,tr=tr<<2|(3<Kn?3:1<Kn?2:it[Mr+0]!=0),Mr+=16;qr>>=4,Ii=Ii>>1|Ri<<7,Nr=(Nr<<8|tr)>>>0}for(Si=qr,Gn=Ii>>4,Xr=0;4>Xr;Xr+=2){for(tr=0,qr=ot.la>>4+Xr,Ii=Wr.la>>4+Xr,Qr=0;2>Qr;++Qr){for(Ri=1&Ii,Ni=0;2>Ni;++Ni)Kn=Ri+(1&qr),qr=qr>>1|(Ri=0<(Kn=L0(yt,mt[2],Kn,gt.Qc,0,it,Mr)))<<3,tr=tr<<2|(3<Kn?3:1<Kn?2:it[Mr+0]!=0),Mr+=16;qr>>=2,Ii=Ii>>1|Ri<<5}pr|=tr<<4*Xr,Si|=qr<<4<<Xr,Gn|=(240&Ii)<<Xr}ot.la=Si,Wr.la=Gn,It.Hc=Nr,It.Gc=pr,It.ia=43690&pr?0:gt.ia,mt=!(Nr|pr)}if(0<Ue.L&&(Ue.wa[Ue.Y+Ue.ja]=Ue.gd[Ze.$b][Ze.Za],Ue.wa[Ue.Y+Ue.ja].La|=!mt),at.Ka)return Ur(qe,7,"Premature end-of-file encountered.")}if(p0(qe),Ue=st,at=1,Ze=(Ie=qe).D,ot=0<Ie.L&&Ie.M>=Ie.zb&&Ie.M<=Ie.Va,Ie.Aa==0)e:{if(Ze.M=Ie.M,Ze.uc=ot,C0(Ie,Ze),at=1,Ze=(tr=Ie.D).Nb,ot=(pr=Tx[Ie.L])*Ie.R,yt=pr/2*Ie.B,Qr=16*Ze*Ie.R,Ni=8*Ze*Ie.B,mt=Ie.sa,It=Ie.ta-ot+Qr,gt=Ie.qa,it=Ie.ra-yt+Ni,Mr=Ie.Ha,Wr=Ie.Ia-yt+Ni,Ii=(qr=tr.M)==0,Nr=qr>=Ie.Va-1,Ie.Aa==2&&C0(Ie,tr),tr.uc)for(Ri=(Kn=Ie).D.M,t(Kn.D.uc),tr=Kn.yb;tr<Kn.Hb;++tr){Gn=tr,Si=Ri;var ha=(Na=(jn=Kn).D).Nb;Xr=jn.R;var Na=Na.wa[Na.Y+Gn],ni=jn.sa,ns=jn.ta+16*ha*Xr+16*Gn,oo=Na.dd,pa=Na.tc;if(pa!=0)if(t(3<=pa),jn.L==1)0<Gn&&Hl(ni,ns,Xr,pa+4),Na.La&&Zi(ni,ns,Xr,pa),0<Si&&ou(ni,ns,Xr,pa+4),Na.La&&M0(ni,ns,Xr,pa);else{var Qo=jn.B,lu=jn.qa,Zd=jn.ra+8*ha*Qo+8*Gn,Vl=jn.Ha,jn=jn.Ia+8*ha*Qo+8*Gn;ha=Na.ld,0<Gn&&(yx(ni,ns,Xr,pa+4,oo,ha),au(lu,Zd,Vl,jn,Qo,pa+4,oo,ha)),Na.La&&(ql(ni,ns,Xr,pa,oo,ha),Jd(lu,Zd,Vl,jn,Qo,pa,oo,ha)),0<Si&&(Xd(ni,ns,Xr,pa+4,oo,ha),$0(lu,Zd,Vl,jn,Qo,pa+4,oo,ha)),Na.La&&(iu(ni,ns,Xr,pa,oo,ha),su(lu,Zd,Vl,jn,Qo,pa,oo,ha))}}if(Ie.ia&&alert("todo:DitherRow"),Ue.put!=null){if(tr=16*qr,qr=16*(qr+1),Ii?(Ue.y=Ie.sa,Ue.O=Ie.ta+Qr,Ue.f=Ie.qa,Ue.N=Ie.ra+Ni,Ue.ea=Ie.Ha,Ue.W=Ie.Ia+Ni):(tr-=pr,Ue.y=mt,Ue.O=It,Ue.f=gt,Ue.N=it,Ue.ea=Mr,Ue.W=Wr),Nr||(qr-=pr),qr>Ue.o&&(qr=Ue.o),Ue.F=null,Ue.J=null,Ie.Fa!=null&&0<Ie.Fa.length&&tr<qr&&(Ue.J=j0(Ie,Ue,tr,qr-tr),Ue.F=Ie.mb,Ue.F==null&&Ue.F.length==0)){at=Ur(Ie,3,"Could not decode alpha data.");break e}tr<Ue.j&&(pr=Ue.j-tr,tr=Ue.j,t(!(1&pr)),Ue.O+=Ie.R*pr,Ue.N+=Ie.B*(pr>>1),Ue.W+=Ie.B*(pr>>1),Ue.F!=null&&(Ue.J+=Ue.width*pr)),tr<qr&&(Ue.O+=Ue.v,Ue.N+=Ue.v>>1,Ue.W+=Ue.v>>1,Ue.F!=null&&(Ue.J+=Ue.v),Ue.ka=tr-Ue.j,Ue.U=Ue.va-Ue.v,Ue.T=qr-tr,at=Ue.put(Ue))}Ze+1!=Ie.Ic||Nr||(n(Ie.sa,Ie.ta-ot,mt,It+16*Ie.R,ot),n(Ie.qa,Ie.ra-yt,gt,it+8*Ie.B,yt),n(Ie.Ha,Ie.Ia-yt,Mr,Wr+8*Ie.B,yt))}if(!at)return Ur(qe,6,"Output aborted.")}return 1}(k,D)),D.bc!=null&&D.bc(D),V&=1}return V?(k.cb=0,V):0}function js(k,D,V,te,ie){ie=k[D+V+32*te]+(ie>>3),k[D+V+32*te]=-256&ie?0>ie?0:255:ie}function Md(k,D,V,te,ie,ue){js(k,D,0,V,te+ie),js(k,D,1,V,te+ue),js(k,D,2,V,te-ue),js(k,D,3,V,te-ie)}function wi(k){return(20091*k>>16)+k}function m0(k,D,V,te){var ie,ue=0,fe=i(16);for(ie=0;4>ie;++ie){var he=k[D+0]+k[D+8],ge=k[D+0]-k[D+8],ke=(35468*k[D+4]>>16)-wi(k[D+12]),Le=wi(k[D+4])+(35468*k[D+12]>>16);fe[ue+0]=he+Le,fe[ue+1]=ge+ke,fe[ue+2]=ge-ke,fe[ue+3]=he-Le,ue+=4,D++}for(ie=ue=0;4>ie;++ie)he=(k=fe[ue+0]+4)+fe[ue+8],ge=k-fe[ue+8],ke=(35468*fe[ue+4]>>16)-wi(fe[ue+12]),js(V,te,0,0,he+(Le=wi(fe[ue+4])+(35468*fe[ue+12]>>16))),js(V,te,1,0,ge+ke),js(V,te,2,0,ge-ke),js(V,te,3,0,he-Le),ue++,te+=32}function rx(k,D,V,te){var ie=k[D+0]+4,ue=35468*k[D+4]>>16,fe=wi(k[D+4]),he=35468*k[D+1]>>16;Md(V,te,0,ie+fe,k=wi(k[D+1]),he),Md(V,te,1,ie+ue,k,he),Md(V,te,2,ie-ue,k,he),Md(V,te,3,ie-fe,k,he)}function tw(k,D,V,te,ie){m0(k,D,V,te),ie&&m0(k,D+16,V,te+4)}function nx(k,D,V,te){Ko(k,D+0,V,te,1),Ko(k,D+32,V,te+128,1)}function rw(k,D,V,te){var ie;for(k=k[D+0]+4,ie=0;4>ie;++ie)for(D=0;4>D;++D)js(V,te,D,ie,k)}function ax(k,D,V,te){k[D+0]&&ri(k,D+0,V,te),k[D+16]&&ri(k,D+16,V,te+4),k[D+32]&&ri(k,D+32,V,te+128),k[D+48]&&ri(k,D+48,V,te+128+4)}function nw(k,D,V,te){var ie,ue=i(16);for(ie=0;4>ie;++ie){var fe=k[D+0+ie]+k[D+12+ie],he=k[D+4+ie]+k[D+8+ie],ge=k[D+4+ie]-k[D+8+ie],ke=k[D+0+ie]-k[D+12+ie];ue[0+ie]=fe+he,ue[8+ie]=fe-he,ue[4+ie]=ke+ge,ue[12+ie]=ke-ge}for(ie=0;4>ie;++ie)fe=(k=ue[0+4*ie]+3)+ue[3+4*ie],he=ue[1+4*ie]+ue[2+4*ie],ge=ue[1+4*ie]-ue[2+4*ie],ke=k-ue[3+4*ie],V[te+0]=fe+he>>3,V[te+16]=ke+ge>>3,V[te+32]=fe-he>>3,V[te+48]=ke-ge>>3,te+=64}function g0(k,D,V){var te,ie=D-32,ue=Li,fe=255-k[ie-1];for(te=0;te<V;++te){var he,ge=ue,ke=fe+k[D-1];for(he=0;he<V;++he)k[D+he]=ge[ke+k[ie+he]];D+=32}}function aw(k,D){g0(k,D,4)}function iw(k,D){g0(k,D,8)}function sw(k,D){g0(k,D,16)}function zo(k,D){var V;for(V=0;16>V;++V)n(k,D+32*V,k,D-32,16)}function Fd(k,D){var V;for(V=16;0<V;--V)a(k,D,k[D-1],16),D+=32}function Ld(k,D,V){var te;for(te=0;16>te;++te)a(D,V+32*te,k,16)}function ix(k,D){var V,te=16;for(V=0;16>V;++V)te+=k[D-1+32*V]+k[D+V-32];Ld(te>>5,k,D)}function Fa(k,D){var V,te=8;for(V=0;16>V;++V)te+=k[D-1+32*V];Ld(te>>4,k,D)}function ow(k,D){var V,te=8;for(V=0;16>V;++V)te+=k[D+V-32];Ld(te>>4,k,D)}function sx(k,D){Ld(128,k,D)}function zt(k,D,V){return k+2*D+V+2>>2}function lw(k,D){var V,te=D-32;for(te=new Uint8Array([zt(k[te-1],k[te+0],k[te+1]),zt(k[te+0],k[te+1],k[te+2]),zt(k[te+1],k[te+2],k[te+3]),zt(k[te+2],k[te+3],k[te+4])]),V=0;4>V;++V)n(k,D+32*V,te,0,te.length)}function cw(k,D){var V=k[D-1],te=k[D-1+32],ie=k[D-1+64],ue=k[D-1+96];Z(k,D+0,16843009*zt(k[D-1-32],V,te)),Z(k,D+32,16843009*zt(V,te,ie)),Z(k,D+64,16843009*zt(te,ie,ue)),Z(k,D+96,16843009*zt(ie,ue,ue))}function ao(k,D){var V,te=4;for(V=0;4>V;++V)te+=k[D+V-32]+k[D-1+32*V];for(te>>=3,V=0;4>V;++V)a(k,D+32*V,te,4)}function ox(k,D){var V=k[D-1+0],te=k[D-1+32],ie=k[D-1+64],ue=k[D-1-32],fe=k[D+0-32],he=k[D+1-32],ge=k[D+2-32],ke=k[D+3-32];k[D+0+96]=zt(te,ie,k[D-1+96]),k[D+1+96]=k[D+0+64]=zt(V,te,ie),k[D+2+96]=k[D+1+64]=k[D+0+32]=zt(ue,V,te),k[D+3+96]=k[D+2+64]=k[D+1+32]=k[D+0+0]=zt(fe,ue,V),k[D+3+64]=k[D+2+32]=k[D+1+0]=zt(he,fe,ue),k[D+3+32]=k[D+2+0]=zt(ge,he,fe),k[D+3+0]=zt(ke,ge,he)}function lx(k,D){var V=k[D+1-32],te=k[D+2-32],ie=k[D+3-32],ue=k[D+4-32],fe=k[D+5-32],he=k[D+6-32],ge=k[D+7-32];k[D+0+0]=zt(k[D+0-32],V,te),k[D+1+0]=k[D+0+32]=zt(V,te,ie),k[D+2+0]=k[D+1+32]=k[D+0+64]=zt(te,ie,ue),k[D+3+0]=k[D+2+32]=k[D+1+64]=k[D+0+96]=zt(ie,ue,fe),k[D+3+32]=k[D+2+64]=k[D+1+96]=zt(ue,fe,he),k[D+3+64]=k[D+2+96]=zt(fe,he,ge),k[D+3+96]=zt(he,ge,ge)}function Id(k,D){var V=k[D-1+0],te=k[D-1+32],ie=k[D-1+64],ue=k[D-1-32],fe=k[D+0-32],he=k[D+1-32],ge=k[D+2-32],ke=k[D+3-32];k[D+0+0]=k[D+1+64]=ue+fe+1>>1,k[D+1+0]=k[D+2+64]=fe+he+1>>1,k[D+2+0]=k[D+3+64]=he+ge+1>>1,k[D+3+0]=ge+ke+1>>1,k[D+0+96]=zt(ie,te,V),k[D+0+64]=zt(te,V,ue),k[D+0+32]=k[D+1+96]=zt(V,ue,fe),k[D+1+32]=k[D+2+96]=zt(ue,fe,he),k[D+2+32]=k[D+3+96]=zt(fe,he,ge),k[D+3+32]=zt(he,ge,ke)}function x0(k,D){var V=k[D+0-32],te=k[D+1-32],ie=k[D+2-32],ue=k[D+3-32],fe=k[D+4-32],he=k[D+5-32],ge=k[D+6-32],ke=k[D+7-32];k[D+0+0]=V+te+1>>1,k[D+1+0]=k[D+0+64]=te+ie+1>>1,k[D+2+0]=k[D+1+64]=ie+ue+1>>1,k[D+3+0]=k[D+2+64]=ue+fe+1>>1,k[D+0+32]=zt(V,te,ie),k[D+1+32]=k[D+0+96]=zt(te,ie,ue),k[D+2+32]=k[D+1+96]=zt(ie,ue,fe),k[D+3+32]=k[D+2+96]=zt(ue,fe,he),k[D+3+64]=zt(fe,he,ge),k[D+3+96]=zt(he,ge,ke)}function uw(k,D){var V=k[D-1+0],te=k[D-1+32],ie=k[D-1+64],ue=k[D-1+96];k[D+0+0]=V+te+1>>1,k[D+2+0]=k[D+0+32]=te+ie+1>>1,k[D+2+32]=k[D+0+64]=ie+ue+1>>1,k[D+1+0]=zt(V,te,ie),k[D+3+0]=k[D+1+32]=zt(te,ie,ue),k[D+3+32]=k[D+1+64]=zt(ie,ue,ue),k[D+3+64]=k[D+2+64]=k[D+0+96]=k[D+1+96]=k[D+2+96]=k[D+3+96]=ue}function dw(k,D){var V=k[D-1+0],te=k[D-1+32],ie=k[D-1+64],ue=k[D-1+96],fe=k[D-1-32],he=k[D+0-32],ge=k[D+1-32],ke=k[D+2-32];k[D+0+0]=k[D+2+32]=V+fe+1>>1,k[D+0+32]=k[D+2+64]=te+V+1>>1,k[D+0+64]=k[D+2+96]=ie+te+1>>1,k[D+0+96]=ue+ie+1>>1,k[D+3+0]=zt(he,ge,ke),k[D+2+0]=zt(fe,he,ge),k[D+1+0]=k[D+3+32]=zt(V,fe,he),k[D+1+32]=k[D+3+64]=zt(te,V,fe),k[D+1+64]=k[D+3+96]=zt(ie,te,V),k[D+1+96]=zt(ue,ie,te)}function fw(k,D){var V;for(V=0;8>V;++V)n(k,D+32*V,k,D-32,8)}function v0(k,D){var V;for(V=0;8>V;++V)a(k,D,k[D-1],8),D+=32}function Zc(k,D,V){var te;for(te=0;8>te;++te)a(D,V+32*te,k,8)}function Il(k,D){var V,te=8;for(V=0;8>V;++V)te+=k[D+V-32]+k[D-1+32*V];Zc(te>>4,k,D)}function hw(k,D){var V,te=4;for(V=0;8>V;++V)te+=k[D+V-32];Zc(te>>3,k,D)}function eu(k,D){var V,te=4;for(V=0;8>V;++V)te+=k[D-1+32*V];Zc(te>>3,k,D)}function y0(k,D){Zc(128,k,D)}function Rd(k,D,V){var te=k[D-V],ie=k[D+0],ue=3*(ie-te)+yw[1020+k[D-2*V]-k[D+V]],fe=wx[112+(ue+4>>3)];k[D-V]=Li[255+te+wx[112+(ue+3>>3)]],k[D+0]=Li[255+ie-fe]}function cx(k,D,V,te){var ie=k[D+0],ue=k[D+V];return ts[255+k[D-2*V]-k[D-V]]>te||ts[255+ue-ie]>te}function ux(k,D,V,te){return 4*ts[255+k[D-V]-k[D+0]]+ts[255+k[D-2*V]-k[D+V]]<=te}function dx(k,D,V,te,ie){var ue=k[D-3*V],fe=k[D-2*V],he=k[D-V],ge=k[D+0],ke=k[D+V],Le=k[D+2*V],Ke=k[D+3*V];return 4*ts[255+he-ge]+ts[255+fe-ke]>te?0:ts[255+k[D-4*V]-ue]<=ie&&ts[255+ue-fe]<=ie&&ts[255+fe-he]<=ie&&ts[255+Ke-Le]<=ie&&ts[255+Le-ke]<=ie&&ts[255+ke-ge]<=ie}function fx(k,D,V,te){var ie=2*te+1;for(te=0;16>te;++te)ux(k,D+te,V,ie)&&Rd(k,D+te,V)}function io(k,D,V,te){var ie=2*te+1;for(te=0;16>te;++te)ux(k,D+te*V,1,ie)&&Rd(k,D+te*V,1)}function Yo(k,D,V,te){var ie;for(ie=3;0<ie;--ie)fx(k,D+=4*V,V,te)}function pw(k,D,V,te){var ie;for(ie=3;0<ie;--ie)io(k,D+=4,V,te)}function Rl(k,D,V,te,ie,ue,fe,he){for(ue=2*ue+1;0<ie--;){if(dx(k,D,V,ue,fe))if(cx(k,D,V,he))Rd(k,D,V);else{var ge=k,ke=D,Le=V,Ke=ge[ke-2*Le],Xe=ge[ke-Le],qe=ge[ke+0],st=ge[ke+Le],Ze=ge[ke+2*Le],Ie=27*(at=yw[1020+3*(qe-Xe)+yw[1020+Ke-st]])+63>>7,Ue=18*at+63>>7,at=9*at+63>>7;ge[ke-3*Le]=Li[255+ge[ke-3*Le]+at],ge[ke-2*Le]=Li[255+Ke+Ue],ge[ke-Le]=Li[255+Xe+Ie],ge[ke+0]=Li[255+qe-Ie],ge[ke+Le]=Li[255+st-Ue],ge[ke+2*Le]=Li[255+Ze-at]}D+=te}}function As(k,D,V,te,ie,ue,fe,he){for(ue=2*ue+1;0<ie--;){if(dx(k,D,V,ue,fe))if(cx(k,D,V,he))Rd(k,D,V);else{var ge=k,ke=D,Le=V,Ke=ge[ke-Le],Xe=ge[ke+0],qe=ge[ke+Le],st=wx[112+((Ze=3*(Xe-Ke))+4>>3)],Ze=wx[112+(Ze+3>>3)],Ie=st+1>>1;ge[ke-2*Le]=Li[255+ge[ke-2*Le]+Ie],ge[ke-Le]=Li[255+Ke+Ze],ge[ke+0]=Li[255+Xe-st],ge[ke+Le]=Li[255+qe-Ie]}D+=te}}function b0(k,D,V,te,ie,ue){Rl(k,D,V,1,16,te,ie,ue)}function tu(k,D,V,te,ie,ue){Rl(k,D,1,V,16,te,ie,ue)}function mw(k,D,V,te,ie,ue){var fe;for(fe=3;0<fe;--fe)As(k,D+=4*V,V,1,16,te,ie,ue)}function Bd(k,D,V,te,ie,ue){var fe;for(fe=3;0<fe;--fe)As(k,D+=4,1,V,16,te,ie,ue)}function gw(k,D,V,te,ie,ue,fe,he){Rl(k,D,ie,1,8,ue,fe,he),Rl(V,te,ie,1,8,ue,fe,he)}function w0(k,D,V,te,ie,ue,fe,he){Rl(k,D,1,ie,8,ue,fe,he),Rl(V,te,1,ie,8,ue,fe,he)}function _0(k,D,V,te,ie,ue,fe,he){As(k,D+4*ie,ie,1,8,ue,fe,he),As(V,te+4*ie,ie,1,8,ue,fe,he)}function hx(k,D,V,te,ie,ue,fe,he){As(k,D+4,1,ie,8,ue,fe,he),As(V,te+4,1,ie,8,ue,fe,he)}function Ud(){this.ba=new pn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new gr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function k0(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function S0(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function px(){this.ua=0,this.Wa=new K,this.vb=new K,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new M,this.yc=new j}function xw(){this.xb=this.a=0,this.l=new $a,this.ca=new pn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new E,this.Pb=0,this.wd=new E,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new px,this.ab=0,this.gc=s(4,S0),this.Oc=0}function Wd(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $a,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ru(k,D,V,te,ie,ue,fe){for(k=k==null?0:k[D+0],D=0;D<fe;++D)ie[ue+D]=k+V[te+D]&255,k=ie[ue+D]}function N0(k,D,V,te,ie,ue,fe){var he;if(k==null)ru(null,null,V,te,ie,ue,fe);else for(he=0;he<fe;++he)ie[ue+he]=k[D+he]+V[te+he]&255}function Bl(k,D,V,te,ie,ue,fe){if(k==null)ru(null,null,V,te,ie,ue,fe);else{var he,ge=k[D+0],ke=ge,Le=ge;for(he=0;he<fe;++he)ke=Le+(ge=k[D+he])-ke,Le=V[te+he]+(-256&ke?0>ke?0:255:ke)&255,ke=ge,ie[ue+he]=Le}}function j0(k,D,V,te){var ie=D.width,ue=D.o;if(t(k!=null&&D!=null),0>V||0>=te||V+te>ue)return null;if(!k.Cc){if(k.ga==null){var fe;if(k.ga=new Wd,(fe=k.ga==null)||(fe=D.width*D.o,t(k.Gb.length==0),k.Gb=i(fe),k.Uc=0,k.Gb==null?fe=0:(k.mb=k.Gb,k.nb=k.Uc,k.rc=null,fe=1),fe=!fe),!fe){fe=k.ga;var he=k.Fa,ge=k.P,ke=k.qc,Le=k.mb,Ke=k.nb,Xe=ge+1,qe=ke-1,st=fe.l;if(t(he!=null&&Le!=null&&D!=null),Yl[0]=null,Yl[1]=ru,Yl[2]=N0,Yl[3]=Bl,fe.ca=Le,fe.tb=Ke,fe.c=D.width,fe.i=D.height,t(0<fe.c&&0<fe.i),1>=ke)D=0;else if(fe.$a=he[ge+0]>>0&3,fe.Z=he[ge+0]>>2&3,fe.Lc=he[ge+0]>>4&3,ge=he[ge+0]>>6&3,0>fe.$a||1<fe.$a||4<=fe.Z||1<fe.Lc||ge)D=0;else if(st.put=Sn,st.ac=Kr,st.bc=Dn,st.ma=fe,st.width=D.width,st.height=D.height,st.Da=D.Da,st.v=D.v,st.va=D.va,st.j=D.j,st.o=D.o,fe.$a)e:{t(fe.$a==1),D=Je();t:for(;;){if(D==null){D=0;break e}if(t(fe!=null),fe.mc=D,D.c=fe.c,D.i=fe.i,D.l=fe.l,D.l.ma=fe,D.l.width=fe.c,D.l.height=fe.i,D.a=0,X(D.m,he,Xe,qe),!Ye(fe.c,fe.i,1,D,null)||(D.ab==1&&D.gc[0].hc==3&&xe(D.s)?(fe.ic=1,he=D.c*D.i,D.Ta=null,D.Ua=0,D.V=i(he),D.Ba=0,D.V==null?(D.a=1,D=0):D=1):(fe.ic=0,D=Ve(D,fe.c)),!D))break t;D=1;break e}fe.mc=null,D=0}else D=qe>=fe.c*fe.i;fe=!D}if(fe)return null;k.ga.Lc!=1?k.Ga=0:te=ue-V}t(k.ga!=null),t(V+te<=ue);e:{if(D=(he=k.ga).c,ue=he.l.o,he.$a==0){if(Xe=k.rc,qe=k.Vc,st=k.Fa,ge=k.P+1+V*D,ke=k.mb,Le=k.nb+V*D,t(ge<=k.P+k.qc),he.Z!=0)for(t(Yl[he.Z]!=null),fe=0;fe<te;++fe)Yl[he.Z](Xe,qe,st,ge,ke,Le,D),Xe=ke,qe=Le,Le+=D,ge+=D;else for(fe=0;fe<te;++fe)n(ke,Le,st,ge,D),Xe=ke,qe=Le,Le+=D,ge+=D;k.rc=Xe,k.Vc=qe}else{if(t(he.mc!=null),D=V+te,t((fe=he.mc)!=null),t(D<=fe.i),fe.C>=D)D=1;else if(he.ic||ze(),he.ic){he=fe.V,Xe=fe.Ba,qe=fe.c;var Ze=fe.i,Ie=(st=1,ge=fe.$/qe,ke=fe.$%qe,Le=fe.m,Ke=fe.s,fe.$),Ue=qe*Ze,at=qe*D,ot=Ke.wc,it=Ie<at?Er(Ke,ke,ge):null;t(Ie<=Ue),t(D<=Ze),t(xe(Ke));t:for(;;){for(;!Le.h&&Ie<at;){if(ke&ot||(it=Er(Ke,ke,ge)),t(it!=null),G(Le),256>(Ze=ar(it.G[0],it.H[0],Le)))he[Xe+Ie]=Ze,++Ie,++ke>=qe&&(ke=0,++ge<=D&&!(ge%16)&&_e(fe,ge));else{if(!(280>Ze)){st=0;break t}Ze=Yn(Ze-256,Le);var yt,mt=ar(it.G[4],it.H[4],Le);if(G(Le),!(Ie>=(mt=Ct(qe,mt=Yn(mt,Le)))&&Ue-Ie>=Ze)){st=0;break t}for(yt=0;yt<Ze;++yt)he[Xe+Ie+yt]=he[Xe+Ie+yt-mt];for(Ie+=Ze,ke+=Ze;ke>=qe;)ke-=qe,++ge<=D&&!(ge%16)&&_e(fe,ge);Ie<at&&ke&ot&&(it=Er(Ke,ke,ge))}t(Le.h==U(Le))}_e(fe,ge>D?D:ge);break t}!st||Le.h&&Ie<Ue?(st=0,fe.a=Le.h?5:3):fe.$=Ie,D=st}else D=Ne(fe,fe.V,fe.Ba,fe.c,fe.i,D,Ge);if(!D){te=0;break e}}V+te>=ue&&(k.Cc=1),te=1}if(!te)return null;if(k.Cc&&((te=k.ga)!=null&&(te.mc=null),k.ga=null,0<k.Ga))return alert("todo:WebPDequantizeLevels"),null}return k.nb+V*ie}function B(k,D,V,te,ie,ue){for(;0<ie--;){var fe,he=k,ge=D+(V?1:0),ke=k,Le=D+(V?0:3);for(fe=0;fe<te;++fe){var Ke=ke[Le+4*fe];Ke!=255&&(Ke*=32897,he[ge+4*fe+0]=he[ge+4*fe+0]*Ke>>23,he[ge+4*fe+1]=he[ge+4*fe+1]*Ke>>23,he[ge+4*fe+2]=he[ge+4*fe+2]*Ke>>23)}D+=ue}}function se(k,D,V,te,ie){for(;0<te--;){var ue;for(ue=0;ue<V;++ue){var fe=k[D+2*ue+0],he=15&(ke=k[D+2*ue+1]),ge=4369*he,ke=(240&ke|ke>>4)*ge>>16;k[D+2*ue+0]=(240&fe|fe>>4)*ge>>16&240|(15&fe|fe<<4)*ge>>16>>4&15,k[D+2*ue+1]=240&ke|he}D+=ie}}function Ce(k,D,V,te,ie,ue,fe,he){var ge,ke,Le=255;for(ke=0;ke<ie;++ke){for(ge=0;ge<te;++ge){var Ke=k[D+ge];ue[fe+4*ge]=Ke,Le&=Ke}D+=V,fe+=he}return Le!=255}function Me(k,D,V,te,ie){var ue;for(ue=0;ue<ie;++ue)V[te+ue]=k[D+ue]>>8}function ze(){es=B,nn=se,an=Ce,Mn=Me}function tt(k,D,V){w[k]=function(te,ie,ue,fe,he,ge,ke,Le,Ke,Xe,qe,st,Ze,Ie,Ue,at,ot){var it,yt=ot-1>>1,mt=he[ge+0]|ke[Le+0]<<16,It=Ke[Xe+0]|qe[st+0]<<16;t(te!=null);var gt=3*mt+It+131074>>2;for(D(te[ie+0],255&gt,gt>>16,Ze,Ie),ue!=null&&(gt=3*It+mt+131074>>2,D(ue[fe+0],255&gt,gt>>16,Ue,at)),it=1;it<=yt;++it){var Mr=he[ge+it]|ke[Le+it]<<16,Wr=Ke[Xe+it]|qe[st+it]<<16,Nr=mt+Mr+It+Wr+524296,pr=Nr+2*(Mr+It)>>3;gt=pr+mt>>1,mt=(Nr=Nr+2*(mt+Wr)>>3)+Mr>>1,D(te[ie+2*it-1],255&gt,gt>>16,Ze,Ie+(2*it-1)*V),D(te[ie+2*it-0],255&mt,mt>>16,Ze,Ie+(2*it-0)*V),ue!=null&&(gt=Nr+It>>1,mt=pr+Wr>>1,D(ue[fe+2*it-1],255&gt,gt>>16,Ue,at+(2*it-1)*V),D(ue[fe+2*it+0],255&mt,mt>>16,Ue,at+(2*it+0)*V)),mt=Mr,It=Wr}1&ot||(gt=3*mt+It+131074>>2,D(te[ie+ot-1],255&gt,gt>>16,Ze,Ie+(ot-1)*V),ue!=null&&(gt=3*It+mt+131074>>2,D(ue[fe+ot-1],255&gt,gt>>16,Ue,at+(ot-1)*V)))}}function ct(){rs[_x]=BU,rs[kx]=mj,rs[uj]=UU,rs[Sx]=gj,rs[Nx]=xj,rs[bw]=vj,rs[dj]=WU,rs[ww]=mj,rs[_w]=gj,rs[jx]=xj,rs[kw]=vj}function vt(k){return k&-16384?0>k?0:255:k>>qU}function Mt(k,D){return vt((19077*k>>8)+(26149*D>>8)-14234)}function Jt(k,D,V){return vt((19077*k>>8)-(6419*D>>8)-(13320*V>>8)+8708)}function Gt(k,D){return vt((19077*k>>8)+(33050*D>>8)-17685)}function _r(k,D,V,te,ie){te[ie+0]=Mt(k,V),te[ie+1]=Jt(k,D,V),te[ie+2]=Gt(k,D)}function wn(k,D,V,te,ie){te[ie+0]=Gt(k,D),te[ie+1]=Jt(k,D,V),te[ie+2]=Mt(k,V)}function Nn(k,D,V,te,ie){var ue=Jt(k,D,V);D=ue<<3&224|Gt(k,D)>>3,te[ie+0]=248&Mt(k,V)|ue>>5,te[ie+1]=D}function Vn(k,D,V,te,ie){var ue=240&Gt(k,D)|15;te[ie+0]=240&Mt(k,V)|Jt(k,D,V)>>4,te[ie+1]=ue}function La(k,D,V,te,ie){te[ie+0]=255,_r(k,D,V,te,ie+1)}function fa(k,D,V,te,ie){wn(k,D,V,te,ie),te[ie+3]=255}function Cs(k,D,V,te,ie){_r(k,D,V,te,ie),te[ie+3]=255}function Fi(k,D){return 0>k?0:k>D?D:k}function so(k,D,V){w[k]=function(te,ie,ue,fe,he,ge,ke,Le,Ke){for(var Xe=Le+(-2&Ke)*V;Le!=Xe;)D(te[ie+0],ue[fe+0],he[ge+0],ke,Le),D(te[ie+1],ue[fe+0],he[ge+0],ke,Le+V),ie+=2,++fe,++ge,Le+=2*V;1&Ke&&D(te[ie+0],ue[fe+0],he[ge+0],ke,Le)}}function mx(k,D,V){return V==0?k==0?D==0?6:5:D==0?4:0:V}function A0(k,D,V,te,ie){switch(k>>>30){case 3:Ko(D,V,te,ie,0);break;case 2:$n(D,V,te,ie);break;case 1:ri(D,V,te,ie)}}function C0(k,D){var V,te,ie=D.M,ue=D.Nb,fe=k.oc,he=k.pc+40,ge=k.oc,ke=k.pc+584,Le=k.oc,Ke=k.pc+600;for(V=0;16>V;++V)fe[he+32*V-1]=129;for(V=0;8>V;++V)ge[ke+32*V-1]=129,Le[Ke+32*V-1]=129;for(0<ie?fe[he-1-32]=ge[ke-1-32]=Le[Ke-1-32]=129:(a(fe,he-32-1,127,21),a(ge,ke-32-1,127,9),a(Le,Ke-32-1,127,9)),te=0;te<k.za;++te){var Xe=D.ya[D.aa+te];if(0<te){for(V=-1;16>V;++V)n(fe,he+32*V-4,fe,he+32*V+12,4);for(V=-1;8>V;++V)n(ge,ke+32*V-4,ge,ke+32*V+4,4),n(Le,Ke+32*V-4,Le,Ke+32*V+4,4)}var qe=k.Gd,st=k.Hd+te,Ze=Xe.ad,Ie=Xe.Hc;if(0<ie&&(n(fe,he-32,qe[st].y,0,16),n(ge,ke-32,qe[st].f,0,8),n(Le,Ke-32,qe[st].ea,0,8)),Xe.Za){var Ue=fe,at=he-32+16;for(0<ie&&(te>=k.za-1?a(Ue,at,qe[st].y[15],4):n(Ue,at,qe[st+1].y,0,4)),V=0;4>V;V++)Ue[at+128+V]=Ue[at+256+V]=Ue[at+384+V]=Ue[at+0+V];for(V=0;16>V;++V,Ie<<=2)Ue=fe,at=he+bj[V],Ts[Xe.Ob[V]](Ue,at),A0(Ie,Ze,16*+V,Ue,at)}else if(Ue=mx(te,ie,Xe.Ob[0]),zl[Ue](fe,he),Ie!=0)for(V=0;16>V;++V,Ie<<=2)A0(Ie,Ze,16*+V,fe,he+bj[V]);for(V=Xe.Gc,Ue=mx(te,ie,Xe.Dd),Jo[Ue](ge,ke),Jo[Ue](Le,Ke),Ie=Ze,Ue=ge,at=ke,255&(Xe=V>>0)&&(170&Xe?D0(Ie,256,Ue,at):Qi(Ie,256,Ue,at)),Xe=Le,Ie=Ke,255&(V>>=8)&&(170&V?D0(Ze,320,Xe,Ie):Qi(Ze,320,Xe,Ie)),ie<k.Ub-1&&(n(qe[st].y,0,fe,he+480,16),n(qe[st].f,0,ge,ke+224,8),n(qe[st].ea,0,Le,Ke+224,8)),V=8*ue*k.B,qe=k.sa,st=k.ta+16*te+16*ue*k.R,Ze=k.qa,Xe=k.ra+8*te+V,Ie=k.Ha,Ue=k.Ia+8*te+V,V=0;16>V;++V)n(qe,st+V*k.R,fe,he+32*V,16);for(V=0;8>V;++V)n(Ze,Xe+V*k.B,ge,ke+32*V,8),n(Ie,Ue+V*k.B,Le,Ke+32*V,8)}}function qd(k,D,V,te,ie,ue,fe,he,ge){var ke=[0],Le=[0],Ke=0,Xe=ge!=null?ge.kd:0,qe=ge??new k0;if(k==null||12>V)return 7;qe.data=k,qe.w=D,qe.ha=V,D=[D],V=[V],qe.gb=[qe.gb];e:{var st=D,Ze=V,Ie=qe.gb;if(t(k!=null),t(Ze!=null),t(Ie!=null),Ie[0]=0,12<=Ze[0]&&!r(k,st[0],"RIFF")){if(r(k,st[0]+8,"WEBP")){Ie=3;break e}var Ue=de(k,st[0]+4);if(12>Ue||4294967286<Ue){Ie=3;break e}if(Xe&&Ue>Ze[0]-8){Ie=7;break e}Ie[0]=Ue,st[0]+=12,Ze[0]-=12}Ie=0}if(Ie!=0)return Ie;for(Ue=0<qe.gb[0],V=V[0];;){e:{var at=k;Ze=D,Ie=V;var ot=ke,it=Le,yt=st=[0];if((gt=Ke=[Ke])[0]=0,8>Ie[0])Ie=7;else{if(!r(at,Ze[0],"VP8X")){if(de(at,Ze[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var mt=de(at,Ze[0]+8),It=1+O(at,Ze[0]+12);if(2147483648<=It*(at=1+O(at,Ze[0]+15))){Ie=3;break e}yt!=null&&(yt[0]=mt),ot!=null&&(ot[0]=It),it!=null&&(it[0]=at),Ze[0]+=18,Ie[0]-=18,gt[0]=1}Ie=0}}if(Ke=Ke[0],st=st[0],Ie!=0)return Ie;if(Ze=!!(2&st),!Ue&&Ke)return 3;if(ue!=null&&(ue[0]=!!(16&st)),fe!=null&&(fe[0]=Ze),he!=null&&(he[0]=0),fe=ke[0],st=Le[0],Ke&&Ze&&ge==null){Ie=0;break}if(4>V){Ie=7;break}if(Ue&&Ke||!Ue&&!Ke&&!r(k,D[0],"ALPH")){V=[V],qe.na=[qe.na],qe.P=[qe.P],qe.Sa=[qe.Sa];e:{mt=k,Ie=D,Ue=V;var gt=qe.gb;ot=qe.na,it=qe.P,yt=qe.Sa,It=22,t(mt!=null),t(Ue!=null),at=Ie[0];var Mr=Ue[0];for(t(ot!=null),t(yt!=null),ot[0]=null,it[0]=null,yt[0]=0;;){if(Ie[0]=at,Ue[0]=Mr,8>Mr){Ie=7;break e}var Wr=de(mt,at+4);if(4294967286<Wr){Ie=3;break e}var Nr=8+Wr+1&-2;if(It+=Nr,0<gt&&It>gt){Ie=3;break e}if(!r(mt,at,"VP8 ")||!r(mt,at,"VP8L")){Ie=0;break e}if(Mr[0]<Nr){Ie=7;break e}r(mt,at,"ALPH")||(ot[0]=mt,it[0]=at+8,yt[0]=Wr),at+=Nr,Mr-=Nr}}if(V=V[0],qe.na=qe.na[0],qe.P=qe.P[0],qe.Sa=qe.Sa[0],Ie!=0)break}V=[V],qe.Ja=[qe.Ja],qe.xa=[qe.xa];e:if(gt=k,Ie=D,Ue=V,ot=qe.gb[0],it=qe.Ja,yt=qe.xa,mt=Ie[0],at=!r(gt,mt,"VP8 "),It=!r(gt,mt,"VP8L"),t(gt!=null),t(Ue!=null),t(it!=null),t(yt!=null),8>Ue[0])Ie=7;else{if(at||It){if(gt=de(gt,mt+4),12<=ot&&gt>ot-12){Ie=3;break e}if(Xe&&gt>Ue[0]-8){Ie=7;break e}it[0]=gt,Ie[0]+=8,Ue[0]-=8,yt[0]=It}else yt[0]=5<=Ue[0]&&gt[mt+0]==47&&!(gt[mt+4]>>5),it[0]=Ue[0];Ie=0}if(V=V[0],qe.Ja=qe.Ja[0],qe.xa=qe.xa[0],D=D[0],Ie!=0)break;if(4294967286<qe.Ja)return 3;if(he==null||Ze||(he[0]=qe.xa?2:1),fe=[fe],st=[st],qe.xa){if(5>V){Ie=7;break}he=fe,Xe=st,Ze=ue,k==null||5>V?k=0:5<=V&&k[D+0]==47&&!(k[D+4]>>5)?(Ue=[0],gt=[0],ot=[0],X(it=new E,k,D,V),Ot(it,Ue,gt,ot)?(he!=null&&(he[0]=Ue[0]),Xe!=null&&(Xe[0]=gt[0]),Ze!=null&&(Ze[0]=ot[0]),k=1):k=0):k=0}else{if(10>V){Ie=7;break}he=st,k==null||10>V||!$d(k,D+3,V-3)?k=0:(Xe=k[D+0]|k[D+1]<<8|k[D+2]<<16,Ze=16383&(k[D+7]<<8|k[D+6]),k=16383&(k[D+9]<<8|k[D+8]),1&Xe||3<(Xe>>1&7)||!(Xe>>4&1)||Xe>>5>=qe.Ja||!Ze||!k?k=0:(fe&&(fe[0]=Ze),he&&(he[0]=k),k=1))}if(!k||(fe=fe[0],st=st[0],Ke&&(ke[0]!=fe||Le[0]!=st)))return 3;ge!=null&&(ge[0]=qe,ge.offset=D-ge.w,t(4294967286>D-ge.w),t(ge.offset==ge.ha-V));break}return Ie==0||Ie==7&&Ke&&ge==null?(ue!=null&&(ue[0]|=qe.na!=null&&0<qe.na.length),te!=null&&(te[0]=fe),ie!=null&&(ie[0]=st),0):Ie}function T0(k,D,V){var te=D.width,ie=D.height,ue=0,fe=0,he=te,ge=ie;if(D.Da=k!=null&&0<k.Da,D.Da&&(he=k.cd,ge=k.bd,ue=k.v,fe=k.j,11>V||(ue&=-2,fe&=-2),0>ue||0>fe||0>=he||0>=ge||ue+he>te||fe+ge>ie))return 0;if(D.v=ue,D.j=fe,D.va=ue+he,D.o=fe+ge,D.U=he,D.T=ge,D.da=k!=null&&0<k.da,D.da){if(!ne(he,ge,V=[k.ib],ue=[k.hb]))return 0;D.ib=V[0],D.hb=ue[0]}return D.ob=k!=null&&k.ob,D.Kb=k==null||!k.Sd,D.da&&(D.ob=D.ib<3*te/4&&D.hb<3*ie/4,D.Kb=0),1}function E0(k){if(k==null)return 2;if(11>k.S){var D=k.f.RGBA;D.fb+=(k.height-1)*D.A,D.A=-D.A}else D=k.f.kb,k=k.height,D.O+=(k-1)*D.fa,D.fa=-D.fa,D.N+=(k-1>>1)*D.Ab,D.Ab=-D.Ab,D.W+=(k-1>>1)*D.Db,D.Db=-D.Db,D.F!=null&&(D.J+=(k-1)*D.lb,D.lb=-D.lb);return 0}function Hd(k,D,V,te){if(te==null||0>=k||0>=D)return 2;if(V!=null){if(V.Da){var ie=V.cd,ue=V.bd,fe=-2&V.v,he=-2&V.j;if(0>fe||0>he||0>=ie||0>=ue||fe+ie>k||he+ue>D)return 2;k=ie,D=ue}if(V.da){if(!ne(k,D,ie=[V.ib],ue=[V.hb]))return 2;k=ie[0],D=ue[0]}}te.width=k,te.height=D;e:{var ge=te.width,ke=te.height;if(k=te.S,0>=ge||0>=ke||!(k>=_x&&13>k))k=2;else{if(0>=te.Rd&&te.sd==null){fe=ue=ie=D=0;var Le=(he=ge*wj[k])*ke;if(11>k||(ue=(ke+1)/2*(D=(ge+1)/2),k==12&&(fe=(ie=ge)*ke)),(ke=i(Le+2*ue+fe))==null){k=1;break e}te.sd=ke,11>k?((ge=te.f.RGBA).eb=ke,ge.fb=0,ge.A=he,ge.size=Le):((ge=te.f.kb).y=ke,ge.O=0,ge.fa=he,ge.Fd=Le,ge.f=ke,ge.N=0+Le,ge.Ab=D,ge.Cd=ue,ge.ea=ke,ge.W=0+Le+ue,ge.Db=D,ge.Ed=ue,k==12&&(ge.F=ke,ge.J=0+Le+2*ue),ge.Tc=fe,ge.lb=ie)}if(D=1,ie=te.S,ue=te.width,fe=te.height,ie>=_x&&13>ie)if(11>ie)k=te.f.RGBA,D&=(he=Math.abs(k.A))*(fe-1)+ue<=k.size,D&=he>=ue*wj[ie],D&=k.eb!=null;else{k=te.f.kb,he=(ue+1)/2,Le=(fe+1)/2,ge=Math.abs(k.fa),ke=Math.abs(k.Ab);var Ke=Math.abs(k.Db),Xe=Math.abs(k.lb),qe=Xe*(fe-1)+ue;D&=ge*(fe-1)+ue<=k.Fd,D&=ke*(Le-1)+he<=k.Cd,D=(D&=Ke*(Le-1)+he<=k.Ed)&ge>=ue&ke>=he&Ke>=he,D&=k.y!=null,D&=k.f!=null,D&=k.ea!=null,ie==12&&(D&=Xe>=ue,D&=qe<=k.Tc,D&=k.F!=null)}else D=0;k=D?0:2}}return k!=0||V!=null&&V.fd&&(k=E0(te)),k}var Sa=64,zd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yd=24,Vd=32,O0=8,_i=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];$e("Predictor0","PredictorAdd0"),w.Predictor0=function(){return 4278190080},w.Predictor1=function(k){return k},w.Predictor2=function(k,D,V){return D[V+0]},w.Predictor3=function(k,D,V){return D[V+1]},w.Predictor4=function(k,D,V){return D[V-1]},w.Predictor5=function(k,D,V){return Fe(Fe(k,D[V+1]),D[V+0])},w.Predictor6=function(k,D,V){return Fe(k,D[V-1])},w.Predictor7=function(k,D,V){return Fe(k,D[V+0])},w.Predictor8=function(k,D,V){return Fe(D[V-1],D[V+0])},w.Predictor9=function(k,D,V){return Fe(D[V+0],D[V+1])},w.Predictor10=function(k,D,V){return Fe(Fe(k,D[V-1]),Fe(D[V+0],D[V+1]))},w.Predictor11=function(k,D,V){var te=D[V+0];return 0>=le(te>>24&255,k>>24&255,(D=D[V-1])>>24&255)+le(te>>16&255,k>>16&255,D>>16&255)+le(te>>8&255,k>>8&255,D>>8&255)+le(255&te,255&k,255&D)?te:k},w.Predictor12=function(k,D,V){var te=D[V+0];return(ve((k>>24&255)+(te>>24&255)-((D=D[V-1])>>24&255))<<24|ve((k>>16&255)+(te>>16&255)-(D>>16&255))<<16|ve((k>>8&255)+(te>>8&255)-(D>>8&255))<<8|ve((255&k)+(255&te)-(255&D)))>>>0},w.Predictor13=function(k,D,V){var te=D[V-1];return(me((k=Fe(k,D[V+0]))>>24&255,te>>24&255)<<24|me(k>>16&255,te>>16&255)<<16|me(k>>8&255,te>>8&255)<<8|me(k>>0&255,te>>0&255))>>>0};var vw=w.PredictorAdd0;w.PredictorAdd1=be,$e("Predictor2","PredictorAdd2"),$e("Predictor3","PredictorAdd3"),$e("Predictor4","PredictorAdd4"),$e("Predictor5","PredictorAdd5"),$e("Predictor6","PredictorAdd6"),$e("Predictor7","PredictorAdd7"),$e("Predictor8","PredictorAdd8"),$e("Predictor9","PredictorAdd9"),$e("Predictor10","PredictorAdd10"),$e("Predictor11","PredictorAdd11"),$e("Predictor12","PredictorAdd12"),$e("Predictor13","PredictorAdd13");var P0=w.PredictorAdd2;Be("ColorIndexInverseTransform","MapARGB","32b",function(k){return k>>8&255},function(k){return k}),Be("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(k){return k},function(k){return k>>8&255});var gx,Ji=w.ColorIndexInverseTransform,Gd=w.MapARGB,xx=w.VP8LColorIndexInverseTransformAlpha,vx=w.MapAlpha,Ul=w.VP8LPredictorsAdd=[];Ul.length=16,(w.VP8LPredictors=[]).length=16,(w.VP8LPredictorsAdd_C=[]).length=16,(w.VP8LPredictors_C=[]).length=16;var nu,ki,ti,Wl,Vo,Go,Kd,Ko,$n,D0,ri,Qi,Xd,yx,$0,au,iu,ql,su,Jd,ou,Hl,M0,Zi,es,nn,an,Mn,ra=i(511),Xo=i(2041),F0=i(225),Qd=i(767),bx=0,yw=Xo,wx=F0,Li=Qd,ts=ra,_x=0,kx=1,uj=2,Sx=3,Nx=4,bw=5,dj=6,ww=7,_w=8,jx=9,kw=10,jU=[2,3,7],AU=[3,3,11],fj=[280,256,256,256,40],CU=[0,1,1,1,0],TU=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],EU=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],OU=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],PU=8,Sw=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nw=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],L0=null,DU=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$U=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],hj=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],MU=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],FU=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],LU=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],IU=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],zl=[],Ts=[],Jo=[],RU=1,pj=2,Yl=[],rs=[];tt("UpsampleRgbLinePair",_r,3),tt("UpsampleBgrLinePair",wn,3),tt("UpsampleRgbaLinePair",Cs,4),tt("UpsampleBgraLinePair",fa,4),tt("UpsampleArgbLinePair",La,4),tt("UpsampleRgba4444LinePair",Vn,2),tt("UpsampleRgb565LinePair",Nn,2);var BU=w.UpsampleRgbLinePair,UU=w.UpsampleBgrLinePair,mj=w.UpsampleRgbaLinePair,gj=w.UpsampleBgraLinePair,xj=w.UpsampleArgbLinePair,vj=w.UpsampleRgba4444LinePair,WU=w.UpsampleRgb565LinePair,Ax=16,Cx=1<<Ax-1,I0=-227,jw=482,qU=6,yj=0,HU=i(256),zU=i(256),YU=i(256),VU=i(256),GU=i(jw-I0),KU=i(jw-I0);so("YuvToRgbRow",_r,3),so("YuvToBgrRow",wn,3),so("YuvToRgbaRow",Cs,4),so("YuvToBgraRow",fa,4),so("YuvToArgbRow",La,4),so("YuvToRgba4444Row",Vn,2),so("YuvToRgb565Row",Nn,2);var bj=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Tx=[0,2,8],XU=[8,7,6,4,4,2,2,2,1,1,1,1],JU=1;this.WebPDecodeRGBA=function(k,D,V,te,ie){var ue=kx,fe=new Ud,he=new pn;fe.ba=he,he.S=ue,he.width=[he.width],he.height=[he.height];var ge=he.width,ke=he.height,Le=new bn;if(Le==null||k==null)var Ke=2;else t(Le!=null),Ke=qd(k,D,V,Le.width,Le.height,Le.Pd,Le.Qd,Le.format,null);if(Ke!=0?ge=0:(ge!=null&&(ge[0]=Le.width[0]),ke!=null&&(ke[0]=Le.height[0]),ge=1),ge){he.width=he.width[0],he.height=he.height[0],te!=null&&(te[0]=he.width),ie!=null&&(ie[0]=he.height);e:{if(te=new $a,(ie=new k0).data=k,ie.w=D,ie.ha=V,ie.kd=1,D=[0],t(ie!=null),((k=qd(ie.data,ie.w,ie.ha,null,null,null,D,null,ie))==0||k==7)&&D[0]&&(k=4),(D=k)==0){if(t(fe!=null),te.data=ie.data,te.w=ie.w+ie.offset,te.ha=ie.ha-ie.offset,te.put=Sn,te.ac=Kr,te.bc=Dn,te.ma=fe,ie.xa){if((k=Je())==null){fe=1;break e}if(function(Xe,qe){var st=[0],Ze=[0],Ie=[0];t:for(;;){if(Xe==null)return 0;if(qe==null)return Xe.a=2,0;if(Xe.l=qe,Xe.a=0,X(Xe.m,qe.data,qe.w,qe.ha),!Ot(Xe.m,st,Ze,Ie)){Xe.a=3;break t}if(Xe.xb=pj,qe.width=st[0],qe.height=Ze[0],!Ye(st[0],Ze[0],1,Xe,null))break t;return 1}return t(Xe.a!=0),0}(k,te)){if(te=(D=Hd(te.width,te.height,fe.Oa,fe.ba))==0){t:{te=k;r:for(;;){if(te==null){te=0;break t}if(t(te.s.yc!=null),t(te.s.Ya!=null),t(0<te.s.Wb),t((V=te.l)!=null),t((ie=V.ma)!=null),te.xb!=0){if(te.ca=ie.ba,te.tb=ie.tb,t(te.ca!=null),!T0(ie.Oa,V,Sx)){te.a=2;break r}if(!Ve(te,V.width)||V.da)break r;if((V.da||Pt(te.ca.S))&&ze(),11>te.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),te.ca.f.kb.F!=null&&ze()),te.Pb&&0<te.s.ua&&te.s.vb.X==null&&!ce(te.s.vb,te.s.Wa.Xa)){te.a=1;break r}te.xb=0}if(!Ne(te,te.V,te.Ba,te.c,te.i,V.o,Se))break r;ie.Dc=te.Ma,te=1;break t}t(te.a!=0),te=0}te=!te}te&&(D=k.a)}else D=k.a}else{if((k=new Ma)==null){fe=1;break e}if(k.Fa=ie.na,k.P=ie.P,k.qc=ie.Sa,Xi(k,te)){if((D=Hd(te.width,te.height,fe.Oa,fe.ba))==0){if(k.Aa=0,V=fe.Oa,t((ie=k)!=null),V!=null){if(0<(ge=0>(ge=V.Md)?0:100<ge?255:255*ge/100)){for(ke=Le=0;4>ke;++ke)12>(Ke=ie.pb[ke]).lc&&(Ke.ia=ge*XU[0>Ke.lc?0:Ke.lc]>>3),Le|=Ke.ia;Le&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=V.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}ew(k,te)||(D=k.a)}}else D=k.a}D==0&&fe.Oa!=null&&fe.Oa.fd&&(D=E0(fe.ba))}fe=D}ue=fe!=0?null:11>ue?he.f.RGBA.eb:he.f.kb.y}else ue=null;return ue};var wj=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(w,_){for(var P="",A=0;A<4;A++)P+=String.fromCharCode(w[_++]);return P}function d(w,_){return(w[_+0]<<0|w[_+1]<<8|w[_+2]<<16)>>>0}function f(w,_){return(w[_+0]<<0|w[_+1]<<8|w[_+2]<<16|w[_+3]<<24)>>>0}new c;var h=[0],p=[0],m=[],g=new c,x=e,v=function(w,_){var P={},A=0,j=!1,F=0,M=0;if(P.frames=[],!function(R,U,z,G){for(var ae=0;ae<G;ae++)if(R[U+ae]!=z.charCodeAt(ae))return!0;return!1}(w,_,"RIFF",4)){var H,q;for(f(w,_+=4),_+=8;_<w.length;){var Y=u(w,_),X=f(w,_+=4);_+=4;var I=X+(1&X);switch(Y){case"VP8 ":case"VP8L":P.frames[A]===void 0&&(P.frames[A]={}),(E=P.frames[A]).src_off=j?M:_-8,E.src_size=F+X+8,A++,j&&(j=!1,F=0,M=0);break;case"VP8X":(E=P.header={}).feature_flags=w[_];var J=_+4;E.canvas_width=1+d(w,J),J+=3,E.canvas_height=1+d(w,J),J+=3;break;case"ALPH":j=!0,F=I+8,M=_-8;break;case"ANIM":(E=P.header).bgcolor=f(w,_),J=_+4,E.loop_count=(H=w)[(q=J)+0]<<0|H[q+1]<<8,J+=2;break;case"ANMF":var Q,E;(E=P.frames[A]={}).offset_x=2*d(w,_),_+=3,E.offset_y=2*d(w,_),_+=3,E.width=1+d(w,_),_+=3,E.height=1+d(w,_),_+=3,E.duration=d(w,_),_+=3,Q=w[_++],E.dispose=1&Q,E.blend=Q>>1&1}Y!="ANMF"&&(_+=I)}return P}}(x,0);v.response=x,v.rgbaoutput=!0,v.dataurl=!1;var b=v.header?v.header:null,y=v.frames?v.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],p=[b.canvas_width];for(var C=0;C<y.length&&y[C].blend!=0;C++);}var S=y[0],T=g.WebPDecodeRGBA(x,S.src_off,S.src_size,p,h);S.rgba=T,S.imgwidth=p[0],S.imgheight=h[0];for(var N=0;N<p[0]*h[0]*4;N++)m[N]=T[N];return this.width=p,this.height=h,this.data=m,this}(function(e){var t=function(){return typeof q_=="function"},r=function(h,p,m,g){var x=4,v=s;switch(g){case e.image_compression.FAST:x=1,v=i;break;case e.image_compression.MEDIUM:x=6,v=o;break;case e.image_compression.SLOW:x=9,v=c}h=n(h,p,m,v);var b=q_(h,{level:x});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(h,p,m,g){for(var x,v,b,y=h.length/p,C=new Uint8Array(h.length+y),S=d(),T=0;T<y;T+=1){if(b=T*p,x=h.subarray(b,b+p),g)C.set(g(x,m,v),b+T);else{for(var N,w=S.length,_=[];N<w;N+=1)_[N]=S[N](x,m,v);var P=f(_.concat());C.set(_[P],b+T)}v=x}return C},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var m,g=[],x=h.length;g[0]=1;for(var v=0;v<x;v+=1)m=h[v-p]||0,g[v+1]=h[v]-m+256&255;return g},s=function(h,p,m){var g,x=[],v=h.length;x[0]=2;for(var b=0;b<v;b+=1)g=m&&m[b]||0,x[b+1]=h[b]-g+256&255;return x},o=function(h,p,m){var g,x,v=[],b=h.length;v[0]=3;for(var y=0;y<b;y+=1)g=h[y-p]||0,x=m&&m[y]||0,v[y+1]=h[y]+256-(g+x>>>1)&255;return v},c=function(h,p,m){var g,x,v,b,y=[],C=h.length;y[0]=4;for(var S=0;S<C;S+=1)g=h[S-p]||0,x=m&&m[S]||0,v=m&&m[S-p]||0,b=u(g,x,v),y[S+1]=h[S]-b+256&255;return y},u=function(h,p,m){if(h===p&&p===m)return h;var g=Math.abs(p-m),x=Math.abs(h-m),v=Math.abs(h+p-m-m);return g<=x&&g<=v?h:x<=v?p:m},d=function(){return[a,i,s,o,c]},f=function(h){var p=h.map(function(m){return m.reduce(function(g,x){return g+Math.abs(x)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,m,g){var x,v,b,y,C,S,T,N,w,_,P,A,j,F,M,H=this.decode.FLATE_DECODE,q="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(b=new FG(h)).imgData,v=b.bits,x=b.colorSpace,C=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){w=(N=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,P=new Uint8Array(w*b.colors),_=new Uint8Array(w);var Y,X=b.pixelBitlength-b.bits;for(F=0,M=0;F<w;F++){for(j=N[F],Y=0;Y<X;)P[M++]=j>>>Y&255,Y+=b.bits;_[F]=j>>>Y&255}}if(b.bits===16){w=(N=new Uint32Array(b.decodePixels().buffer)).length,P=new Uint8Array(w*(32/b.pixelBitlength)*b.colors),_=new Uint8Array(w*(32/b.pixelBitlength)),A=b.colors>1,F=0,M=0;for(var I=0;F<w;)j=N[F++],P[M++]=j>>>0&255,A&&(P[M++]=j>>>16&255,j=N[F++],P[M++]=j>>>0&255),_[I++]=j>>>16&255;v=8}g!==e.image_compression.NONE&&t()?(h=r(P,b.width*b.colors,b.colors,g),T=r(_,b.width,1,g)):(h=P,T=_,H=void 0)}if(b.colorType===3&&(x=this.color_spaces.INDEXED,S=b.palette,b.transparency.indexed)){var J=b.transparency.indexed,Q=0;for(F=0,w=J.length;F<w;++F)Q+=J[F];if((Q/=255)===w-1&&J.indexOf(0)!==-1)y=[J.indexOf(0)];else if(Q!==w){for(N=b.decodePixels(),_=new Uint8Array(N.length),F=0,w=N.length;F<w;F++)_[F]=J[N[F]];T=r(_,b.width,1)}}var E=function(R){var U;switch(R){case e.image_compression.FAST:U=11;break;case e.image_compression.MEDIUM:U=13;break;case e.image_compression.SLOW:U=14;break;default:U=12}return U}(g);return H===this.decode.FLATE_DECODE&&(q="/Predictor "+E+" "),q+="/Colors "+C+" /BitsPerComponent "+v+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(T&&this.__addimage__.isArrayBuffer(T)||this.__addimage__.isArrayBufferView(T))&&(T=this.__addimage__.arrayBufferToBinaryString(T)),{alias:m,data:h,index:p,filter:H,decodeParameters:q,transparency:y,palette:S,sMask:T,predictor:E,width:b.width,height:b.height,bitsPerComponent:v,colorSpace:x}}}})(Lt.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new LG(t),s=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:o},d=new t5(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(Lt.API),Ps.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ps.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Zr.log("bit decode error:"+r)}},Ps.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[s+4*o]=c.blue,this.data[s+4*o+1]=c.green,this.data[s+4*o+2]=c.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Ps.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,c=15&i,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Ps.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Ps.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=u}this.pos+=e}},Ps.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,c=(s>>5&r)/r*255|0,u=(s>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Ps.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Ps.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},Ps.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Ps(t,!1),s=i.width,o=i.height,c={data:i.getData(),width:s,height:o},u=new t5(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Lt.API),BA.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new BA(t),s=i.width,o=i.height,c={data:i.getData(),width:s,height:o},u=new t5(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Lt.API),Lt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],p=n[u+3];i[o++]=d,i[o++]=f,i[o++]=h,s[c++]=p}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Lt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},uf=Lt.API,Gx=uf.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,c=o.fof?o.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,p=e.length,m=0,g=o[0]||c,x=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=f&&Yr(u[n])==="object"&&!isNaN(parseInt(u[n][m],10))?u[n][m]/d:0,x.push((o[n]||g)/c+h)),m=n;return x},FA=uf.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return uf.processArabic&&(e=uf.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Gx.apply(this,arguments).reduce(function(i,s){return i+s},0)},LA=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var c=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(c,i)),o=0,c=i),o+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},IA=function(e,t,r){r||(r={});var n,a,i,s,o,c,u,d=[],f=[d],h=r.textIndent||0,p=0,m=0,g=e.split(" "),x=Gx.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var v=Array(c).join(" "),b=[];g.map(function(C){(C=C.split(/\s*\n/)).length>1?b=b.concat(C.map(function(S,T){return(T&&S.length?`
`:"")+S})):b.push(C[0])}),g=b,c=FA.apply(this,[v,r])}for(i=0,s=g.length;i<s;i++){var y=0;if(n=g[i],c&&n[0]==`
`&&(n=n.substr(1),y=1),h+p+(m=(a=Gx.apply(this,[n,r])).reduce(function(C,S){return C+S},0))>t||y){if(m>t){for(o=LA.apply(this,[n,a,t-(h+p),t]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);m=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(C,S){return C+S},0)}else d=[n];f.push(d),h=m+c,p=x}else d.push(n),h+=p+m,p=x}return u=c?function(C,S){return(S?v:"")+C.join(" ")}:function(C){return C.join(" ")},f.map(u)},uf.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,c,u=[];for(o=0,c=n.length;o<c;o++)u=u.concat(IA.apply(this,[n[o],s,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var h,p,m,g,x=["{"];for(var v in f){if(h=f[v],isNaN(parseInt(v,10))?p="'"+v+"'":(v=parseInt(v,10),p=(p=i(v).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(m=i(h).slice(3),g="-"):(m=i(h).slice(2),g=""),m=g+m.slice(0,-1)+n[m.slice(-1)];else{if(Yr(h)!=="object")throw new Error("Don't know what to do with value type "+Yr(h)+".");m=s(h)}x.push(p+m)}return x.push("}"),x.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,m,g,x={},v=1,b=x,y=[],C="",S="",T=f.length-1,N=1;N<T;N+=1)(g=f[N])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(y.push([b,m]),b={},m=void 0):g=="}"?((p=y.pop())[0][p[1]]=b,m=void 0,b=p[0]):g=="-"?v=-1:m===void 0?r.hasOwnProperty(g)?(C+=r[g],m=parseInt(C,16)*v,v=1,C=""):C+=g:r.hasOwnProperty(g)?(S+=r[g],b[m]=parseInt(S,16)*v,v=1,m=void 0,S=""):S+=g;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var m=u.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(Lt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(qp(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(Lt),function(e){function t(){return(Ut.canvg?Promise.resolve(Ut.canvg):_l(()=>import("./index.es-fRLYO-G_.js"),__vite__mapDeps([3,1,2]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Lt.API.addSvgAsImage=function(r,n,a,i,s,o,c,u){if(isNaN(n)||isNaN(a))throw Zr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw Zr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=s;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(m){return m.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,a,i,s,c,u)})}}(),Lt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Lt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),c=[],u=0,d=0,f=0;function h(m,g){var x,v=!1;for(x=0;x<m.length;x+=1)m[x]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(f=0;f<p;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Yr(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?g.push("/"+m+" /"+r[m].value):g.push("/"+m+" "+r[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+s.length+o.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Lt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=i.length;f<h;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(i){var s,o,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(o=Object.keys(i).sort(function(p,m){return p-m})).length;f<h;f++)s=o[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(u=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,c=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",m=0;m<h.length;m++)p+=String.fromCharCode(h[m]);var g=u();d({data:p,addLength1:!0,objectId:g}),c("endobj");var x=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var v=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Sf(o.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var b=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Sf(o.fontName)),c("/FontDescriptor "+v+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+Sf(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,c=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var m=u();d({data:h,addLength1:!0,objectId:m}),c("endobj");var g=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var x=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+m+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Sf(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Sf(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},h=f.pdfEscape,p=f.activeFontKey,m=f.fonts,g=p,x="",v=0,b="",y=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:o,x:c,y:u,options:d,mutex:f};for(b=o,g=p,Array.isArray(o)&&(b=o[0]),v=0;v<b.length;v+=1)m[g].metadata.hasOwnProperty("cmap")&&(s=m[g].metadata.cmap.unicode.codeMap[b[v].charCodeAt(0)]),s||b[v].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?x+=b[v]:x+="";var C="";return parseInt(g.slice(1))<14||y==="WinAnsiEncoding"?C=h(x,g).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):y==="Identity-H"&&(C=r(x,m[g])),f.isHex=!0,{text:C,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([a(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(a(Object.assign({},c,{text:s[u]})).text);i.text=o}else i.text=a(Object.assign({},c,{text:s})).text}])}(Lt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Lt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,c,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,y=0;this.__bidiEngine__={};var C=function(A){var j=A.charCodeAt(),F=j>>8,M=g[F];return M!==void 0?f[256*M+(255&j)]:F===252||F===253?"AL":v.test(F)?"L":F===8?"R":"N"},S=function(A){for(var j,F=0;F<A.length;F++){if((j=C(A.charAt(F)))==="L")return!1;if(j==="R")return!0}return!1},T=function(A,j,F,M){var H,q,Y,X,I=j[M];switch(I){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(I="AN");break;case"AL":b=!0,I="R";break;case"WS":I="N";break;case"CS":M<1||M+1>=j.length||(H=F[M-1])!=="EN"&&H!=="AN"||(q=j[M+1])!=="EN"&&q!=="AN"?I="N":b&&(q="AN"),I=q===H?q:"N";break;case"ES":I=(H=M>0?F[M-1]:"B")==="EN"&&M+1<j.length&&j[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&F[M-1]==="EN"){I="EN";break}if(b){I="N";break}for(Y=M+1,X=j.length;Y<X&&j[Y]==="ET";)Y++;I=Y<X&&j[Y]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(X=j.length,Y=M+1;Y<X&&j[Y]==="NSM";)Y++;if(Y<X){var J=A[M],Q=J>=1425&&J<=2303||J===64286;if(H=j[Y],Q&&(H==="R"||H==="AL")){I="R";break}}}I=M<1||(H=j[M-1])==="B"?"N":F[M-1];break;case"B":b=!1,a=!0,I=y;break;case"S":i=!0,I="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":I="N"}return I},N=function(A,j,F){var M=A.split("");return F&&w(M,F,{hiLevel:y}),M.reverse(),j&&j.reverse(),M.join("")},w=function(A,j,F){var M,H,q,Y,X,I=-1,J=A.length,Q=0,E=[],R=y?p:h,U=[];for(b=!1,a=!1,i=!1,H=0;H<J;H++)U[H]=C(A[H]);for(q=0;q<J;q++){if(X=Q,E[q]=T(A,U,E,q),M=240&(Q=R[X][m[E[q]]]),Q&=15,j[q]=Y=R[Q][5],M>0)if(M===16){for(H=I;H<q;H++)j[H]=1;I=-1}else I=-1;if(R[Q][6])I===-1&&(I=q);else if(I>-1){for(H=I;H<q;H++)j[H]=Y;I=-1}U[q]==="B"&&(j[q]=0),F.hiLevel|=Y}i&&function(z,G,ae){for(var ee=0;ee<ae;ee++)if(z[ee]==="S"){G[ee]=y;for(var W=ee-1;W>=0&&z[W]==="WS";W--)G[W]=y}}(U,j,J)},_=function(A,j,F,M,H){if(!(H.hiLevel<A)){if(A===1&&y===1&&!a)return j.reverse(),void(F&&F.reverse());for(var q,Y,X,I,J=j.length,Q=0;Q<J;){if(M[Q]>=A){for(X=Q+1;X<J&&M[X]>=A;)X++;for(I=Q,Y=X-1;I<Y;I++,Y--)q=j[I],j[I]=j[Y],j[Y]=q,F&&(q=F[I],F[I]=F[Y],F[Y]=q);Q=X}Q++}}},P=function(A,j,F){var M=A.split(""),H={hiLevel:y};return F||(F=[]),w(M,F,H),function(q,Y,X){if(X.hiLevel!==0&&d)for(var I,J=0;J<q.length;J++)Y[J]===1&&(I=x.indexOf(q[J]))>=0&&(q[J]=x[I+1])}(M,F,H),_(2,M,j,F,H),_(1,M,j,F,H),M.join("")};return this.__bidiEngine__.doBidiReorder=function(A,j,F){if(function(H,q){if(q)for(var Y=0;Y<H.length;Y++)q[Y]=Y;o===void 0&&(o=S(H)),u===void 0&&(u=S(H))}(A,j),s||!c||u)if(s&&c&&o^u)y=o?1:0,A=N(A,j,F);else if(!s&&c&&u)y=o?1:0,A=P(A,j,F),A=N(A,j);else if(!s||o||c||u){if(s&&!c&&o^u)A=N(A,j),o?(y=0,A=P(A,j,F)):(y=1,A=P(A,j,F),A=N(A,j));else if(s&&o&&!c&&u)y=1,A=P(A,j,F),A=N(A,j);else if(!s&&!c&&o^u){var M=d;o?(y=1,A=P(A,j,F),y=0,d=!1,A=P(A,j,F),d=M):(y=0,A=P(A,j,F),A=N(A,j),y=1,d=!1,A=P(A,j,F),d=M,A=N(A,j))}}else y=0,A=P(A,j,F);else y=o?1:0,A=P(A,j,F);return A},this.__bidiEngine__.setOptions=function(A){A&&(s=A.isInputVisual,c=A.isOutputVisual,o=A.isInputRtl,u=A.isOutputRtl,d=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),s=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Lt),Lt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Pc(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new QG(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new IG(this.contents),this.head=new BG(this),this.name=new zG(this),this.cmap=new L$(this),this.toUnicode={},this.hhea=new UG(this),this.maxp=new YG(this),this.hmtx=new VG(this),this.post=new qG(this),this.os2=new WG(this),this.loca=new JG(this),this.glyf=new GG(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,c,u;for(u=[],s=0,o=(c=this.bbox).length;s<o;s++)t=c[s],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var to,Pc=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),IG=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,c,u,d,f,h,p,m,g;for(g in p=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),s=Math.floor(f/c),d=16*p-f,(a=new Pc).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(s),a.writeShort(d),i=16*p,u=a.pos+i,o=null,m=[],r)for(h=r[g],a.writeString(g),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),m=m.concat(h),g==="head"&&(o=u),u+=h.length;u%4;)m.push(0),u++;return a.write(m),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=I$.call(r);r.length%4;)r.push(0);for(i=new Pc(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),RG={}.hasOwnProperty,Io=function(e,t){for(var r in t)RG.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};to=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var BG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Io(t,to),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Pc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),UA=function(){function e(t,r){var n,a,i,s,o,c,u,d,f,h,p,m,g,x,v,b,y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var C,S;for(S=[],c=C=0;0<=h?C<h:C>h;c=0<=h?++C:--C)S.push(t.readUInt16());return S}(),t.pos+=2,g=function(){var C,S;for(S=[],c=C=0;0<=h?C<h:C>h;c=0<=h?++C:--C)S.push(t.readUInt16());return S}(),u=function(){var C,S;for(S=[],c=C=0;0<=h?C<h:C>h;c=0<=h?++C:--C)S.push(t.readUInt16());return S}(),d=function(){var C,S;for(S=[],c=C=0;0<=h?C<h:C>h;c=0<=h?++C:--C)S.push(t.readUInt16());return S}(),a=(this.length-t.pos+this.offset)/2,o=function(){var C,S;for(S=[],c=C=0;0<=a?C<a:C>a;c=0<=a?++C:--C)S.push(t.readUInt16());return S}(),c=v=0,y=i.length;v<y;c=++v)for(x=i[c],n=b=m=g[c];m<=x?b<=x:b>=x;n=m<=x?++b:--b)d[c]===0?s=n+u[c]:(s=o[d[c]/2+(n-m)-(h-c)]||0)!==0&&(s+=u[c]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,a,i,s,o,c,u,d,f,h,p,m,g,x,v,b,y,C,S,T,N,w,_,P,A,j,F,M,H,q,Y,X,I,J,Q,E,R,U,z,G,ae,ee,W,Z,re,O;switch(M=new Pc,s=Object.keys(t).sort(function(de,ce){return de-ce}),r){case"macroman":for(g=0,x=function(){var de=[];for(m=0;m<256;++m)de.push(0);return de}(),b={0:0},i={},H=0,I=s.length;H<I;H++)b[W=t[a=s[H]]]==null&&(b[W]=++g),i[a]={old:t[a],new:b[t[a]]},x[a]=b[t[a]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(x),{charMap:i,subtable:M.data,maxGlyphID:g+1};case"unicode":for(j=[],f=[],y=0,b={},n={},v=u=null,q=0,J=s.length;q<J;q++)b[S=t[a=s[q]]]==null&&(b[S]=++y),n[a]={old:S,new:b[S]},o=b[S]-a,v!=null&&o===u||(v&&f.push(v),j.push(a),u=o),v=a;for(v&&f.push(v),f.push(65535),j.push(65535),P=2*(_=j.length),w=2*Math.pow(Math.log(_)/Math.LN2,2),h=Math.log(w/2)/Math.LN2,N=2*_-w,c=[],T=[],p=[],m=Y=0,Q=j.length;Y<Q;m=++Y){if(A=j[m],d=f[m],A===65535){c.push(0),T.push(0);break}if(A-(F=n[A].new)>=32768)for(c.push(0),T.push(2*(p.length+_-m)),a=X=A;A<=d?X<=d:X>=d;a=A<=d?++X:--X)p.push(n[a].new);else c.push(F-A),T.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*_+2*p.length),M.writeUInt16(0),M.writeUInt16(P),M.writeUInt16(w),M.writeUInt16(h),M.writeUInt16(N),ae=0,E=f.length;ae<E;ae++)a=f[ae],M.writeUInt16(a);for(M.writeUInt16(0),ee=0,R=j.length;ee<R;ee++)a=j[ee],M.writeUInt16(a);for(Z=0,U=c.length;Z<U;Z++)o=c[Z],M.writeUInt16(o);for(re=0,z=T.length;re<z;re++)C=T[re],M.writeUInt16(C);for(O=0,G=p.length;O<G;O++)g=p[O],M.writeUInt16(g);return{charMap:n,subtable:M.data,maxGlyphID:y+1}}},e}(),L$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Io(t,to),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new UA(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=UA.encode(r,n),(i=new Pc).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),UG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Io(t,to),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),WG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Io(t,to),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),qG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Io(t,to),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,c,u;for(u=[],s=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;s=0<=c?++o:--o)u.push(r.readUInt32());return u}).call(this)}},t}(),HG=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},zG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Io(t,to),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,c,u,d,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},s=f=0,h=a.length;f<h;s=++f)i=a[s],r.pos=i.offset,d=r.readString(i.length),o=new HG(d,i),u[p=i.nameID]==null&&(u[p]=[]),u[i.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),YG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Io(t,to),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),VG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Io(t,to),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,p;for(p=[],d=0,f=(h=this.metrics).length;d<f;d++)s=h[d],p.push(s.advance);return p}).call(this),a=this.widths[this.widths.length-1],u=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),I$=[].slice,GG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Io(t,to),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,c,u,d,f,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(c=new Pc(n.read(i))).readShort(),d=c.readShort(),h=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=o===-1?new XG(c,d,h,u,f):new KG(c,o,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,c,u;for(o=[],s=[],c=0,u=n.length;c<u;c++)i=r[n[c]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),KG=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),XG=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Pc(I$.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),JG=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Io(t,to),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var c=this.offsets[o],u=this.offsets[o+1]-c;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),QG=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,c;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,c,u,d,f,h,p,m,g,x,v;for(a in n=L$.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},v=n.charMap)p[(c=v[a]).old]=c.new;for(m in h=n.maxGlyphID,s)m in p||(p[m]=h++);return d=function(b){var y,C;for(y in C={},b)C[b[y]]=y;return C}(p),f=Object.keys(d).sort(function(b,y){return b-y}),g=function(){var b,y,C;for(C=[],b=0,y=f.length;b<y;b++)o=f[b],C.push(d[o]);return C}(),i=this.font.glyf.encode(s,g,p),u=this.font.loca.encode(i.offsets,g),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();Lt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,c,u;for(u=[],o=0,c=r.length;o<c;o++)n=r[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();const ZG=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:EG,AcroFormAppearance:At,AcroFormButton:ia,AcroFormCheckBox:Yp,AcroFormChoiceField:$u,AcroFormComboBox:Fu,AcroFormEditBox:Hp,AcroFormListBox:Mu,AcroFormPasswordField:Vp,AcroFormPushButton:zp,AcroFormRadioButton:Lu,AcroFormTextField:bc,GState:gm,ShadingPattern:cc,TilingPattern:Nu,default:Lt,jsPDF:Lt},Symbol.toStringTag,{value:"Module"}));var R$={exports:{}};const eK=cD(ZG);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(n,a){e.exports=a(function(){try{return eK}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Zn<"u"?Zn:typeof window<"u"?window:typeof self<"u"?self:Zn,function(r){return function(){var n={172:function(o,c){var u=this&&this.__extends||function(){var h=function(p,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,x){g.__proto__=x}||function(g,x){for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(g[v]=x[v])},h(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");h(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var d=function(){function h(p,m,g){this.table=m,this.pageNumber=m.pageNumber,this.pageCount=this.pageNumber,this.settings=m.settings,this.cursor=g,this.doc=p.getDocument()}return h}();c.HookData=d;var f=function(h){u(p,h);function p(m,g,x,v,b,y){var C=h.call(this,m,g,y)||this;return C.cell=x,C.row=v,C.column=b,C.section=v.section,C}return p}(d);c.CellHookData=f},340:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0});var d=u(4),f=u(136),h=u(744),p=u(776),m=u(664),g=u(972);function x(v){v.API.autoTable=function(){for(var b=[],y=0;y<arguments.length;y++)b[y]=arguments[y];var C;b.length===1?C=b[0]:(console.error("Use of deprecated autoTable initiation"),C=b[2]||{},C.columns=b[0],C.body=b[1]);var S=(0,p.parseInput)(this,C),T=(0,g.createTable)(this,S);return(0,m.drawTable)(this,T),this},v.API.lastAutoTable=!1,v.API.previousAutoTable=!1,v.API.autoTable.previous=!1,v.API.autoTableText=function(b,y,C,S){(0,f.default)(b,y,C,S,this)},v.API.autoTableSetDefaults=function(b){return h.DocHandler.setDefaults(b,this),this},v.autoTableSetDefaults=function(b,y){h.DocHandler.setDefaults(b,y)},v.API.autoTableHtmlToJson=function(b,y){var C;if(y===void 0&&(y=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var S=new h.DocHandler(this),T=(0,d.parseHtml)(S,b,window,y,!1),N=T.head,w=T.body,_=((C=N[0])===null||C===void 0?void 0:C.map(function(P){return P.content}))||[];return{columns:_,rows:w,data:w}},v.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var b=this.lastAutoTable;return b&&b.finalY?b.finalY:0},v.API.autoTableAddPageContent=function(b){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),v.API.autoTable.globalDefaults||(v.API.autoTable.globalDefaults={}),v.API.autoTable.globalDefaults.addPageContent=b,this},v.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=x},136:function(o,c){Object.defineProperty(c,"__esModule",{value:!0});function u(d,f,h,p,m){p=p||{};var g=1.15,x=m.internal.scaleFactor,v=m.internal.getFontSize()/x,b=m.getLineHeightFactor?m.getLineHeightFactor():g,y=v*b,C=/\r\n|\r|\n/g,S="",T=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(S=typeof d=="string"?d.split(C):d,T=S.length||1),h+=v*(2-g),p.valign==="middle"?h-=T/2*y:p.valign==="bottom"&&(h-=T*y),p.halign==="center"||p.halign==="right"){var N=v;if(p.halign==="center"&&(N*=.5),S&&T>=1){for(var w=0;w<S.length;w++)m.text(S[w],f-m.getStringUnitWidth(S[w])*N,h),h+=y;return m}f-=m.getStringUnitWidth(d)*N}return p.halign==="justify"?m.text(d,f,h,{maxWidth:p.maxWidth||100,align:"justify"}):m.text(d,f,h),m}c.default=u},420:function(o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function u(m,g,x){x.applyStyles(g,!0);var v=Array.isArray(m)?m:[m],b=v.map(function(y){return x.getTextWidth(y)}).reduce(function(y,C){return Math.max(y,C)},0);return b}c.getStringWidth=u;function d(m,g,x,v){var b=g.settings.tableLineWidth,y=g.settings.tableLineColor;m.applyStyles({lineWidth:b,lineColor:y});var C=f(b,!1);C&&m.rect(x.x,x.y,g.getWidth(m.pageSize().width),v.y-x.y,C)}c.addTableBorder=d;function f(m,g){var x=m>0,v=g||g===0;return x&&v?"DF":x?"S":v?"F":null}c.getFillStyle=f;function h(m,g){var x,v,b,y;if(m=m||g,Array.isArray(m)){if(m.length>=4)return{top:m[0],right:m[1],bottom:m[2],left:m[3]};if(m.length===3)return{top:m[0],right:m[1],bottom:m[2],left:m[1]};if(m.length===2)return{top:m[0],right:m[1],bottom:m[0],left:m[1]};m.length===1?m=m[0]:m=g}return typeof m=="object"?(typeof m.vertical=="number"&&(m.top=m.vertical,m.bottom=m.vertical),typeof m.horizontal=="number"&&(m.right=m.horizontal,m.left=m.horizontal),{left:(x=m.left)!==null&&x!==void 0?x:g,top:(v=m.top)!==null&&v!==void 0?v:g,right:(b=m.right)!==null&&b!==void 0?b:g,bottom:(y=m.bottom)!==null&&y!==void 0?y:g}):(typeof m!="number"&&(m=g),{top:m,right:m,bottom:m,left:m})}c.parseSpacing=h;function p(m,g){var x=h(g.settings.margin,0);return m.pageSize().width-(x.left+x.right)}c.getPageAvailableWidth=p},796:function(o,c){var u=this&&this.__extends||function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,v){x.__proto__=v}||function(x,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(x[b]=v[b])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(m,g);function x(){this.constructor=m}m.prototype=g===null?Object.create(g):(x.prototype=g.prototype,new x)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var d=function(p){u(m,p);function m(g){var x=p.call(this)||this;return x._element=g,x}return m}(Array);c.HtmlRowInput=d;function f(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=f;function h(p){var m={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return m[p]}c.getTheme=h},903:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var d=u(420);function f(x,v,b,y,C){var S={},T=1.3333333333333333,N=p(v,function(I){return C.getComputedStyle(I).backgroundColor});N!=null&&(S.fillColor=N);var w=p(v,function(I){return C.getComputedStyle(I).color});w!=null&&(S.textColor=w);var _=g(y,b);_&&(S.cellPadding=_);var P="borderTopColor",A=T*b,j=y.borderTopWidth;if(y.borderBottomWidth===j&&y.borderRightWidth===j&&y.borderLeftWidth===j){var F=(parseFloat(j)||0)/A;F&&(S.lineWidth=F)}else S.lineWidth={top:(parseFloat(y.borderTopWidth)||0)/A,right:(parseFloat(y.borderRightWidth)||0)/A,bottom:(parseFloat(y.borderBottomWidth)||0)/A,left:(parseFloat(y.borderLeftWidth)||0)/A},S.lineWidth.top||(S.lineWidth.right?P="borderRightColor":S.lineWidth.bottom?P="borderBottomColor":S.lineWidth.left&&(P="borderLeftColor"));var M=p(v,function(I){return C.getComputedStyle(I)[P]});M!=null&&(S.lineColor=M);var H=["left","right","center","justify"];H.indexOf(y.textAlign)!==-1&&(S.halign=y.textAlign),H=["middle","bottom","top"],H.indexOf(y.verticalAlign)!==-1&&(S.valign=y.verticalAlign);var q=parseInt(y.fontSize||"");isNaN(q)||(S.fontSize=q/T);var Y=h(y);Y&&(S.fontStyle=Y);var X=(y.fontFamily||"").toLowerCase();return x.indexOf(X)!==-1&&(S.font=X),S}c.parseCss=f;function h(x){var v="";return(x.fontWeight==="bold"||x.fontWeight==="bolder"||parseInt(x.fontWeight)>=700)&&(v="bold"),(x.fontStyle==="italic"||x.fontStyle==="oblique")&&(v+="italic"),v}function p(x,v){var b=m(x,v);if(!b)return null;var y=b.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!y||!Array.isArray(y))return null;var C=[parseInt(y[1]),parseInt(y[2]),parseInt(y[3])],S=parseInt(y[4]);return S===0||isNaN(C[0])||isNaN(C[1])||isNaN(C[2])?null:C}function m(x,v){var b=v(x);return b==="rgba(0, 0, 0, 0)"||b==="transparent"||b==="initial"||b==="inherit"?x.parentElement==null?null:m(x.parentElement,v):b}function g(x,v){var b=[x.paddingTop,x.paddingRight,x.paddingBottom,x.paddingLeft],y=96/(72/v),C=(parseInt(x.lineHeight)-parseInt(x.fontSize))/v/2,S=b.map(function(N){return parseInt(N||"0")/y}),T=(0,d.parseSpacing)(S,0);return C>T.top&&(T.top=C),C>T.bottom&&(T.bottom=C),T}},744:function(o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var u={},d=function(){function f(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(h,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=h:u=h},f.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},f.prototype.applyStyles=function(h,p){var m,g,x;p===void 0&&(p=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var v=this.jsPDFDocument.internal.getFont(),b=v.fontStyle,y=v.fontName;if(h.font&&(y=h.font),h.fontStyle){b=h.fontStyle;var C=this.getFontList()[y];C&&C.indexOf(b)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(C[0]),b=C[0])}if(this.jsPDFDocument.setFont(y,b),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!p){var S=f.unifyColor(h.fillColor);S&&(m=this.jsPDFDocument).setFillColor.apply(m,S),S=f.unifyColor(h.textColor),S&&(g=this.jsPDFDocument).setTextColor.apply(g,S),S=f.unifyColor(h.lineColor),S&&(x=this.jsPDFDocument).setDrawColor.apply(x,S),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},f.prototype.splitTextToSize=function(h,p,m){return this.jsPDFDocument.splitTextToSize(h,p,m)},f.prototype.rect=function(h,p,m,g,x){return this.jsPDFDocument.rect(h,p,m,g,x)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();c.DocHandler=d},4:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var d=u(903),f=u(796);function h(g,x,v,b,y){var C,S;b===void 0&&(b=!1),y===void 0&&(y=!1);var T;typeof x=="string"?T=v.document.querySelector(x):T=x;var N=Object.keys(g.getFontList()),w=g.scaleFactor(),_=[],P=[],A=[];if(!T)return console.error("Html table could not be found with input: ",x),{head:_,body:P,foot:A};for(var j=0;j<T.rows.length;j++){var F=T.rows[j],M=(S=(C=F==null?void 0:F.parentElement)===null||C===void 0?void 0:C.tagName)===null||S===void 0?void 0:S.toLowerCase(),H=p(N,w,v,F,b,y);H&&(M==="thead"?_.push(H):M==="tfoot"?A.push(H):P.push(H))}return{head:_,body:P,foot:A}}c.parseHtml=h;function p(g,x,v,b,y,C){for(var S=new f.HtmlRowInput(b),T=0;T<b.cells.length;T++){var N=b.cells[T],w=v.getComputedStyle(N);if(y||w.display!=="none"){var _=void 0;C&&(_=(0,d.parseCss)(g,N,x,w,v)),S.push({rowSpan:N.rowSpan,colSpan:N.colSpan,styles:_,_element:N,content:m(N)})}}var P=v.getComputedStyle(b);if(S.length>0&&(y||P.display!=="none"))return S}function m(g){var x=g.cloneNode(!0);return x.innerHTML=x.innerHTML.replace(/\n/g,"").replace(/ +/g," "),x.innerHTML=x.innerHTML.split(/<br.*?>/).map(function(v){return v.trim()}).join(`
`),x.innerText||x.textContent||""}},776:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var d=u(4),f=u(356),h=u(420),p=u(744),m=u(792);function g(T,N){var w=new p.DocHandler(T),_=w.getDocumentOptions(),P=w.getGlobalOptions();(0,m.default)(w,P,_,N);var A=(0,f.assign)({},P,_,N),j;typeof window<"u"&&(j=window);var F=x(P,_,N),M=v(P,_,N),H=b(w,A),q=C(w,A,j);return{id:N.tableId,content:q,hooks:M,styles:F,settings:H}}c.parseInput=g;function x(T,N,w){for(var _={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},P=function(M){if(M==="columnStyles"){var H=T[M],q=N[M],Y=w[M];_.columnStyles=(0,f.assign)({},H,q,Y)}else{var X=[T,N,w],I=X.map(function(J){return J[M]||{}});_[M]=(0,f.assign)({},I[0],I[1],I[2])}},A=0,j=Object.keys(_);A<j.length;A++){var F=j[A];P(F)}return _}function v(T,N,w){for(var _=[T,N,w],P={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},A=0,j=_;A<j.length;A++){var F=j[A];F.didParseCell&&P.didParseCell.push(F.didParseCell),F.willDrawCell&&P.willDrawCell.push(F.willDrawCell),F.didDrawCell&&P.didDrawCell.push(F.didDrawCell),F.willDrawPage&&P.willDrawPage.push(F.willDrawPage),F.didDrawPage&&P.didDrawPage.push(F.didDrawPage)}return P}function b(T,N){var w,_,P,A,j,F,M,H,q,Y,X,I,J=(0,h.parseSpacing)(N.margin,40/T.scaleFactor()),Q=(w=y(T,N.startY))!==null&&w!==void 0?w:J.top,E;N.showFoot===!0?E="everyPage":N.showFoot===!1?E="never":E=(_=N.showFoot)!==null&&_!==void 0?_:"everyPage";var R;N.showHead===!0?R="everyPage":N.showHead===!1?R="never":R=(P=N.showHead)!==null&&P!==void 0?P:"everyPage";var U=(A=N.useCss)!==null&&A!==void 0?A:!1,z=N.theme||(U?"plain":"striped"),G=!!N.horizontalPageBreak,ae=(j=N.horizontalPageBreakRepeat)!==null&&j!==void 0?j:null;return{includeHiddenHtml:(F=N.includeHiddenHtml)!==null&&F!==void 0?F:!1,useCss:U,theme:z,startY:Q,margin:J,pageBreak:(M=N.pageBreak)!==null&&M!==void 0?M:"auto",rowPageBreak:(H=N.rowPageBreak)!==null&&H!==void 0?H:"auto",tableWidth:(q=N.tableWidth)!==null&&q!==void 0?q:"auto",showHead:R,showFoot:E,tableLineWidth:(Y=N.tableLineWidth)!==null&&Y!==void 0?Y:0,tableLineColor:(X=N.tableLineColor)!==null&&X!==void 0?X:200,horizontalPageBreak:G,horizontalPageBreakRepeat:ae,horizontalPageBreakBehaviour:(I=N.horizontalPageBreakBehaviour)!==null&&I!==void 0?I:"afterAllRows"}}function y(T,N){var w=T.getLastAutoTable(),_=T.scaleFactor(),P=T.pageNumber(),A=!1;if(w&&w.startPageNumber){var j=w.startPageNumber+w.pageNumber-1;A=j===P}return typeof N=="number"?N:(N==null||N===!1)&&A&&(w==null?void 0:w.finalY)!=null?w.finalY+20/_:null}function C(T,N,w){var _=N.head||[],P=N.body||[],A=N.foot||[];if(N.html){var j=N.includeHiddenHtml;if(w){var F=(0,d.parseHtml)(T,N.html,w,j,N.useCss)||{};_=F.head||_,P=F.body||_,A=F.foot||_}else console.error("Cannot parse html in non browser environment")}var M=N.columns||S(_,P,A);return{columns:M,head:_,body:P,foot:A}}function S(T,N,w){var _=T[0]||N[0]||w[0]||[],P=[];return Object.keys(_).filter(function(A){return A!=="_element"}).forEach(function(A){var j=1,F;Array.isArray(_)?F=_[parseInt(A)]:F=_[A],typeof F=="object"&&!Array.isArray(F)&&(j=(F==null?void 0:F.colSpan)||1);for(var M=0;M<j;M++){var H=void 0;Array.isArray(_)?H=P.length:H=A+(M>0?"_".concat(M):"");var q={dataKey:H};P.push(q)}}),P}},792:function(o,c){Object.defineProperty(c,"__esModule",{value:!0});function u(f,h,p,m){for(var g=function(y){y&&typeof y!="object"&&console.error("The options parameter should be of type object, is: "+typeof y),typeof y.extendWidth<"u"&&(y.tableWidth=y.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof y.margins<"u"&&(typeof y.margin>"u"&&(y.margin=y.margins),console.error("Use of deprecated option: margins, use margin instead.")),y.startY&&typeof y.startY!="number"&&(console.error("Invalid value for startY option",y.startY),delete y.startY),!y.didDrawPage&&(y.afterPageContent||y.beforePageContent||y.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),y.didDrawPage=function(A){f.applyStyles(f.userStyles),y.beforePageContent&&y.beforePageContent(A),f.applyStyles(f.userStyles),y.afterPageContent&&y.afterPageContent(A),f.applyStyles(f.userStyles),y.afterPageAdd&&A.pageNumber>1&&A.afterPageAdd(A),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(A){y[A]&&console.error('The "'.concat(A,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(A){var j=A[0],F=A[1];y[F]&&(console.error("Use of deprecated option ".concat(F,". Use ").concat(j," instead")),y[j]=y[F])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(A){var j=typeof A=="string"?A:A[0],F=typeof A=="string"?A:A[1];typeof y[j]<"u"&&(typeof y.styles[F]>"u"&&(y.styles[F]=y[j]),console.error("Use of deprecated option: "+j+", use the style "+F+" instead."))});for(var C=0,S=["styles","bodyStyles","headStyles","footStyles"];C<S.length;C++){var T=S[C];d(y[T]||{})}for(var N=y.columnStyles||{},w=0,_=Object.keys(N);w<_.length;w++){var P=_[w];d(N[P]||{})}},x=0,v=[h,p,m];x<v.length;x++){var b=v[x];g(b)}}c.default=u;function d(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var d=u(796),f=u(172),h=u(420),p=function(){function v(b,y){this.pageNumber=1,this.pageCount=1,this.id=b.id,this.settings=b.settings,this.styles=b.styles,this.hooks=b.hooks,this.columns=y.columns,this.head=y.head,this.body=y.body,this.foot=y.foot}return v.prototype.getHeadHeight=function(b){return this.head.reduce(function(y,C){return y+C.getMaxCellHeight(b)},0)},v.prototype.getFootHeight=function(b){return this.foot.reduce(function(y,C){return y+C.getMaxCellHeight(b)},0)},v.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},v.prototype.callCellHooks=function(b,y,C,S,T,N){for(var w=0,_=y;w<_.length;w++){var P=_[w],A=new f.CellHookData(b,this,C,S,T,N),j=P(A)===!1;if(C.text=Array.isArray(C.text)?C.text:[C.text],j)return!1}return!0},v.prototype.callEndPageHooks=function(b,y){b.applyStyles(b.userStyles);for(var C=0,S=this.hooks.didDrawPage;C<S.length;C++){var T=S[C];T(new f.HookData(b,this,y))}},v.prototype.callWillDrawPageHooks=function(b,y){for(var C=0,S=this.hooks.willDrawPage;C<S.length;C++){var T=S[C];T(new f.HookData(b,this,y))}},v.prototype.getWidth=function(b){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var y=this.columns.reduce(function(S,T){return S+T.wrappedWidth},0);return y}else{var C=this.settings.margin;return b-C.left-C.right}},v}();c.Table=p;var m=function(){function v(b,y,C,S,T){T===void 0&&(T=!1),this.height=0,this.raw=b,b instanceof d.HtmlRowInput&&(this.raw=b._element,this.element=b._element),this.index=y,this.section=C,this.cells=S,this.spansMultiplePages=T}return v.prototype.getMaxCellHeight=function(b){var y=this;return b.reduce(function(C,S){var T;return Math.max(C,((T=y.cells[S.index])===null||T===void 0?void 0:T.height)||0)},0)},v.prototype.hasRowSpan=function(b){var y=this;return b.filter(function(C){var S=y.cells[C.index];return S?S.rowSpan>1:!1}).length>0},v.prototype.canEntireRowFit=function(b,y){return this.getMaxCellHeight(y)<=b},v.prototype.getMinimumRowHeight=function(b,y){var C=this;return b.reduce(function(S,T){var N=C.cells[T.index];if(!N)return 0;var w=y.getLineHeight(N.styles.fontSize),_=N.padding("vertical"),P=_+w;return P>S?P:S},0)},v}();c.Row=m;var g=function(){function v(b,y,C){var S,T;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=y,this.section=C,this.raw=b;var N=b;b!=null&&typeof b=="object"&&!Array.isArray(b)?(this.rowSpan=b.rowSpan||1,this.colSpan=b.colSpan||1,N=(T=(S=b.content)!==null&&S!==void 0?S:b.title)!==null&&T!==void 0?T:b,b._element&&(this.raw=b._element)):(this.rowSpan=1,this.colSpan=1);var w=N!=null?""+N:"",_=/\r\n|\r|\n/g;this.text=w.split(_)}return v.prototype.getTextPos=function(){var b;if(this.styles.valign==="top")b=this.y+this.padding("top");else if(this.styles.valign==="bottom")b=this.y+this.height-this.padding("bottom");else{var y=this.height-this.padding("vertical");b=this.y+y/2+this.padding("top")}var C;if(this.styles.halign==="right")C=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var S=this.width-this.padding("horizontal");C=this.x+S/2+this.padding("left")}else C=this.x+this.padding("left");return{x:C,y:b}},v.prototype.getContentHeight=function(b,y){y===void 0&&(y=1.15);var C=Array.isArray(this.text)?this.text.length:1,S=this.styles.fontSize/b*y,T=C*S+this.padding("vertical");return Math.max(T,this.styles.minCellHeight)},v.prototype.padding=function(b){var y=(0,h.parseSpacing)(this.styles.cellPadding,0);return b==="vertical"?y.top+y.bottom:b==="horizontal"?y.left+y.right:y[b]},v}();c.Cell=g;var x=function(){function v(b,y,C){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=b,this.raw=y,this.index=C}return v.prototype.getMaxCustomCellWidth=function(b){for(var y=0,C=0,S=b.allRows();C<S.length;C++){var T=S[C],N=T.cells[this.index];N&&typeof N.styles.cellWidth=="number"&&(y=Math.max(y,N.styles.cellWidth))}return y},v}();c.Column=x},356:function(o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function u(d,f,h,p,m){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(d),x=1;x<arguments.length;x++){var v=arguments[x];if(v!=null)for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(g[b]=v[b])}return g}c.assign=u},972:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var d=u(744),f=u(260),h=u(324),p=u(796),m=u(356);function g(T,N){var w=new d.DocHandler(T),_=x(N,w.scaleFactor()),P=new f.Table(N,_);return(0,h.calculateWidths)(w,P),w.applyStyles(w.userStyles),P}c.createTable=g;function x(T,N){var w=T.content,_=C(w.columns);if(w.head.length===0){var P=b(_,"head");P&&w.head.push(P)}if(w.foot.length===0){var P=b(_,"foot");P&&w.foot.push(P)}var A=T.settings.theme,j=T.styles;return{columns:_,head:v("head",w.head,_,j,A,N),body:v("body",w.body,_,j,A,N),foot:v("foot",w.foot,_,j,A,N)}}function v(T,N,w,_,P,A){var j={},F=N.map(function(M,H){for(var q=0,Y={},X=0,I=0,J=0,Q=w;J<Q.length;J++){var E=Q[J];if(j[E.index]==null||j[E.index].left===0)if(I===0){var R=void 0;Array.isArray(M)?R=M[E.index-X-q]:R=M[E.dataKey];var U={};typeof R=="object"&&!Array.isArray(R)&&(U=(R==null?void 0:R.styles)||{});var z=S(T,E,H,P,_,A,U),G=new f.Cell(R,z,T);Y[E.dataKey]=G,Y[E.index]=G,I=G.colSpan-1,j[E.index]={left:G.rowSpan-1,times:I}}else I--,X++;else j[E.index].left--,I=j[E.index].times,q++}return new f.Row(M,H,T,Y)});return F}function b(T,N){var w={};return T.forEach(function(_){if(_.raw!=null){var P=y(N,_.raw);P!=null&&(w[_.dataKey]=P)}}),Object.keys(w).length>0?w:null}function y(T,N){if(T==="head"){if(typeof N=="object")return N.header||N.title||null;if(typeof N=="string"||typeof N=="number")return N}else if(T==="foot"&&typeof N=="object")return N.footer;return null}function C(T){return T.map(function(N,w){var _,P,A;return typeof N=="object"?A=(P=(_=N.dataKey)!==null&&_!==void 0?_:N.key)!==null&&P!==void 0?P:w:A=w,new f.Column(A,N,w)})}function S(T,N,w,_,P,A,j){var F=(0,p.getTheme)(_),M;T==="head"?M=P.headStyles:T==="body"?M=P.bodyStyles:T==="foot"&&(M=P.footStyles);var H=(0,m.assign)({},F.table,F[T],P.styles,M),q=P.columnStyles[N.dataKey]||P.columnStyles[N.index]||{},Y=T==="body"?q:{},X=T==="body"&&w%2===0?(0,m.assign)({},F.alternateRow,P.alternateRowStyles):{},I=(0,p.defaultStyles)(A),J=(0,m.assign)({},I,H,X,Y);return(0,m.assign)(J,j)}},664:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var d=u(420),f=u(260),h=u(744),p=u(356),m=u(136),g=u(224);function x(q,Y){var X=Y.settings,I=X.startY,J=X.margin,Q={x:J.left,y:I},E=Y.getHeadHeight(Y.columns)+Y.getFootHeight(Y.columns),R=I+J.bottom+E;if(X.pageBreak==="avoid"){var U=Y.body,z=U.reduce(function(ee,W){return ee+W.height},0);R+=z}var G=new h.DocHandler(q);(X.pageBreak==="always"||X.startY!=null&&R>G.pageSize().height)&&(H(G),Q.y=J.top),Y.callWillDrawPageHooks(G,Q);var ae=(0,p.assign)({},Q);Y.startPageNumber=G.pageNumber(),X.horizontalPageBreak?v(G,Y,ae,Q):(G.applyStyles(G.userStyles),(X.showHead==="firstPage"||X.showHead==="everyPage")&&Y.head.forEach(function(ee){return P(G,Y,ee,Q,Y.columns)}),G.applyStyles(G.userStyles),Y.body.forEach(function(ee,W){var Z=W===Y.body.length-1;_(G,Y,ee,Z,ae,Q,Y.columns)}),G.applyStyles(G.userStyles),(X.showFoot==="lastPage"||X.showFoot==="everyPage")&&Y.foot.forEach(function(ee){return P(G,Y,ee,Q,Y.columns)})),(0,d.addTableBorder)(G,Y,ae,Q),Y.callEndPageHooks(G,Q),Y.finalY=Q.y,q.lastAutoTable=Y,q.previousAutoTable=Y,q.autoTable&&(q.autoTable.previous=Y),G.applyStyles(G.userStyles)}c.drawTable=x;function v(q,Y,X,I){var J=(0,g.calculateAllColumnsCanFitInPage)(q,Y),Q=Y.settings;if(Q.horizontalPageBreakBehaviour==="afterAllRows")J.forEach(function(z,G){q.applyStyles(q.userStyles),G>0?M(q,Y,X,I,z.columns,!0):b(q,Y,I,z.columns),y(q,Y,X,I,z.columns),S(q,Y,I,z.columns)});else for(var E=-1,R=J[0],U=function(){var z=E;if(R){q.applyStyles(q.userStyles);var G=R.columns;E>=0?M(q,Y,X,I,G,!0):b(q,Y,I,G),z=C(q,Y,E+1,I,G),S(q,Y,I,G)}var ae=z-E;J.slice(1).forEach(function(ee){q.applyStyles(q.userStyles),M(q,Y,X,I,ee.columns,!0),C(q,Y,E+1,I,ee.columns,ae),S(q,Y,I,ee.columns)}),E=z};E<Y.body.length-1;)U()}function b(q,Y,X,I){var J=Y.settings;q.applyStyles(q.userStyles),(J.showHead==="firstPage"||J.showHead==="everyPage")&&Y.head.forEach(function(Q){return P(q,Y,Q,X,I)})}function y(q,Y,X,I,J){q.applyStyles(q.userStyles),Y.body.forEach(function(Q,E){var R=E===Y.body.length-1;_(q,Y,Q,R,X,I,J)})}function C(q,Y,X,I,J,Q){q.applyStyles(q.userStyles),Q=Q??Y.body.length;var E=Math.min(X+Q,Y.body.length),R=-1;return Y.body.slice(X,E).forEach(function(U,z){var G=X+z===Y.body.length-1,ae=F(q,Y,G,I);U.canEntireRowFit(ae,J)&&(P(q,Y,U,I,J),R=X+z)}),R}function S(q,Y,X,I){var J=Y.settings;q.applyStyles(q.userStyles),(J.showFoot==="lastPage"||J.showFoot==="everyPage")&&Y.foot.forEach(function(Q){return P(q,Y,Q,X,I)})}function T(q,Y,X){var I=X.getLineHeight(q.styles.fontSize),J=q.padding("vertical"),Q=Math.floor((Y-J)/I);return Math.max(0,Q)}function N(q,Y,X,I){var J={};q.spansMultiplePages=!0,q.height=0;for(var Q=0,E=0,R=X.columns;E<R.length;E++){var U=R[E],z=q.cells[U.index];if(z){Array.isArray(z.text)||(z.text=[z.text]);var G=new f.Cell(z.raw,z.styles,z.section);G=(0,p.assign)(G,z),G.text=[];var ae=T(z,Y,I);z.text.length>ae&&(G.text=z.text.splice(ae,z.text.length));var ee=I.scaleFactor(),W=I.getLineHeightFactor();z.contentHeight=z.getContentHeight(ee,W),z.contentHeight>=Y&&(z.contentHeight=Y,G.styles.minCellHeight-=Y),z.contentHeight>q.height&&(q.height=z.contentHeight),G.contentHeight=G.getContentHeight(ee,W),G.contentHeight>Q&&(Q=G.contentHeight),J[U.index]=G}}var Z=new f.Row(q.raw,-1,q.section,J,!0);Z.height=Q;for(var re=0,O=X.columns;re<O.length;re++){var U=O[re],G=Z.cells[U.index];G&&(G.height=Z.height);var z=q.cells[U.index];z&&(z.height=q.height)}return Z}function w(q,Y,X,I){var J=q.pageSize().height,Q=I.settings.margin,E=Q.top+Q.bottom,R=J-E;Y.section==="body"&&(R-=I.getHeadHeight(I.columns)+I.getFootHeight(I.columns));var U=Y.getMinimumRowHeight(I.columns,q),z=U<X;if(U>R)return console.error("Will not be able to print row ".concat(Y.index," correctly since it's minimum height is larger than page height")),!0;if(!z)return!1;var G=Y.hasRowSpan(I.columns),ae=Y.getMaxCellHeight(I.columns)>R;return ae?(G&&console.error("The content of row ".concat(Y.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(G||I.settings.rowPageBreak==="avoid")}function _(q,Y,X,I,J,Q,E){var R=F(q,Y,I,Q);if(X.canEntireRowFit(R,E))P(q,Y,X,Q,E);else if(w(q,X,R,Y)){var U=N(X,R,Y,q);P(q,Y,X,Q,E),M(q,Y,J,Q,E),_(q,Y,U,I,J,Q,E)}else M(q,Y,J,Q,E),_(q,Y,X,I,J,Q,E)}function P(q,Y,X,I,J){I.x=Y.settings.margin.left;for(var Q=0,E=J;Q<E.length;Q++){var R=E[Q],U=X.cells[R.index];if(!U){I.x+=R.width;continue}q.applyStyles(U.styles),U.x=I.x,U.y=I.y;var z=Y.callCellHooks(q,Y.hooks.willDrawCell,U,X,R,I);if(z===!1){I.x+=R.width;continue}A(q,U,I);var G=U.getTextPos();(0,m.default)(U.text,G.x,G.y,{halign:U.styles.halign,valign:U.styles.valign,maxWidth:Math.ceil(U.width-U.padding("left")-U.padding("right"))},q.getDocument()),Y.callCellHooks(q,Y.hooks.didDrawCell,U,X,R,I),I.x+=R.width}I.y+=X.height}function A(q,Y,X){var I=Y.styles;if(q.getDocument().setFillColor(q.getDocument().getFillColor()),typeof I.lineWidth=="number"){var J=(0,d.getFillStyle)(I.lineWidth,I.fillColor);J&&q.rect(Y.x,X.y,Y.width,Y.height,J)}else typeof I.lineWidth=="object"&&(I.fillColor&&q.rect(Y.x,X.y,Y.width,Y.height,"F"),j(q,Y,X,I.lineWidth))}function j(q,Y,X,I){var J,Q,E,R;I.top&&(J=X.x,Q=X.y,E=X.x+Y.width,R=X.y,I.right&&(E+=.5*I.right),I.left&&(J-=.5*I.left),U(I.top,J,Q,E,R)),I.bottom&&(J=X.x,Q=X.y+Y.height,E=X.x+Y.width,R=X.y+Y.height,I.right&&(E+=.5*I.right),I.left&&(J-=.5*I.left),U(I.bottom,J,Q,E,R)),I.left&&(J=X.x,Q=X.y,E=X.x,R=X.y+Y.height,I.top&&(Q-=.5*I.top),I.bottom&&(R+=.5*I.bottom),U(I.left,J,Q,E,R)),I.right&&(J=X.x+Y.width,Q=X.y,E=X.x+Y.width,R=X.y+Y.height,I.top&&(Q-=.5*I.top),I.bottom&&(R+=.5*I.bottom),U(I.right,J,Q,E,R));function U(z,G,ae,ee,W){q.getDocument().setLineWidth(z),q.getDocument().line(G,ae,ee,W,"S")}}function F(q,Y,X,I){var J=Y.settings.margin.bottom,Q=Y.settings.showFoot;return(Q==="everyPage"||Q==="lastPage"&&X)&&(J+=Y.getFootHeight(Y.columns)),q.pageSize().height-I.y-J}function M(q,Y,X,I,J,Q){J===void 0&&(J=[]),Q===void 0&&(Q=!1),q.applyStyles(q.userStyles),Y.settings.showFoot==="everyPage"&&!Q&&Y.foot.forEach(function(R){return P(q,Y,R,I,J)}),Y.callEndPageHooks(q,I);var E=Y.settings.margin;(0,d.addTableBorder)(q,Y,X,I),H(q),Y.pageNumber++,Y.pageCount++,I.x=E.left,I.y=E.top,X.y=E.top,Y.callWillDrawPageHooks(q,I),Y.settings.showHead==="everyPage"&&(Y.head.forEach(function(R){return P(q,Y,R,I,J)}),q.applyStyles(q.userStyles))}c.addPage=M;function H(q){var Y=q.pageNumber();q.setPage(Y+1);var X=q.pageNumber();return X===Y?(q.addPage(),!0):!1}},224:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var d=u(420);function f(p,m,g){var x;g===void 0&&(g={});var v=(0,d.getPageAvailableWidth)(p,m),b=new Map,y=[],C=[],S=[];m.settings.horizontalPageBreakRepeat,Array.isArray(m.settings.horizontalPageBreakRepeat)?S=m.settings.horizontalPageBreakRepeat:(typeof m.settings.horizontalPageBreakRepeat=="string"||typeof m.settings.horizontalPageBreakRepeat=="number")&&(S=[m.settings.horizontalPageBreakRepeat]),S.forEach(function(_){var P=m.columns.find(function(A){return A.dataKey===_||A.index===_});P&&!b.has(P.index)&&(b.set(P.index,!0),y.push(P.index),C.push(m.columns[P.index]),v-=P.wrappedWidth)});for(var T=!0,N=(x=g==null?void 0:g.start)!==null&&x!==void 0?x:0;N<m.columns.length;){if(b.has(N)){N++;continue}var w=m.columns[N].wrappedWidth;if(T||v>=w)T=!1,y.push(N),C.push(m.columns[N]),v-=w;else break;N++}return{colIndexes:y,columns:C,lastIndex:N-1}}function h(p,m){for(var g=[],x=0;x<m.columns.length;x++){var v=f(p,m,{start:x});v.columns.length&&(g.push(v),x=v.lastIndex)}return g}c.calculateAllColumnsCanFitInPage=h},324:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var d=u(420);function f(y,C){h(y,C);var S=[],T=0;C.columns.forEach(function(w){var _=w.getMaxCustomCellWidth(C);_?w.width=_:(w.width=w.wrappedWidth,S.push(w)),T+=w.width});var N=C.getWidth(y.pageSize().width)-T;N&&(N=p(S,N,function(w){return Math.max(w.minReadableWidth,w.minWidth)})),N&&(N=p(S,N,function(w){return w.minWidth})),N=Math.abs(N),!C.settings.horizontalPageBreak&&N>.1/y.scaleFactor()&&(N=N<1?N:Math.round(N),console.warn("Of the table content, ".concat(N," units width could not fit page"))),g(C),x(C,y),m(C)}c.calculateWidths=f;function h(y,C){var S=y.scaleFactor(),T=C.settings.horizontalPageBreak,N=(0,d.getPageAvailableWidth)(y,C);C.allRows().forEach(function(w){for(var _=0,P=C.columns;_<P.length;_++){var A=P[_],j=w.cells[A.index];if(j){var F=C.hooks.didParseCell;C.callCellHooks(y,F,j,w,A,null);var M=j.padding("horizontal");j.contentWidth=(0,d.getStringWidth)(j.text,j.styles,y)+M;var H=(0,d.getStringWidth)(j.text.join(" ").split(/[^\S\u00A0]+/),j.styles,y);if(j.minReadableWidth=H+j.padding("horizontal"),typeof j.styles.cellWidth=="number")j.minWidth=j.styles.cellWidth,j.wrappedWidth=j.styles.cellWidth;else if(j.styles.cellWidth==="wrap"||T===!0)j.contentWidth>N?(j.minWidth=N,j.wrappedWidth=N):(j.minWidth=j.contentWidth,j.wrappedWidth=j.contentWidth);else{var q=10/S;j.minWidth=j.styles.minCellWidth||q,j.wrappedWidth=j.contentWidth,j.minWidth>j.wrappedWidth&&(j.wrappedWidth=j.minWidth)}}}}),C.allRows().forEach(function(w){for(var _=0,P=C.columns;_<P.length;_++){var A=P[_],j=w.cells[A.index];if(j&&j.colSpan===1)A.wrappedWidth=Math.max(A.wrappedWidth,j.wrappedWidth),A.minWidth=Math.max(A.minWidth,j.minWidth),A.minReadableWidth=Math.max(A.minReadableWidth,j.minReadableWidth);else{var F=C.styles.columnStyles[A.dataKey]||C.styles.columnStyles[A.index]||{},M=F.cellWidth||F.minCellWidth;M&&typeof M=="number"&&(A.minWidth=M,A.wrappedWidth=M)}j&&(j.colSpan>1&&!A.minWidth&&(A.minWidth=j.minWidth),j.colSpan>1&&!A.wrappedWidth&&(A.wrappedWidth=j.minWidth))}})}function p(y,C,S){for(var T=C,N=y.reduce(function(q,Y){return q+Y.wrappedWidth},0),w=0;w<y.length;w++){var _=y[w],P=_.wrappedWidth/N,A=T*P,j=_.width+A,F=S(_),M=j<F?F:j;C-=M-_.width,_.width=M}if(C=Math.round(C*1e10)/1e10,C){var H=y.filter(function(q){return C<0?q.width>S(q):!0});H.length&&(C=p(H,C,S))}return C}c.resizeColumns=p;function m(y){for(var C={},S=1,T=y.allRows(),N=0;N<T.length;N++)for(var w=T[N],_=0,P=y.columns;_<P.length;_++){var A=P[_],j=C[A.index];if(S>1)S--,delete w.cells[A.index];else if(j)j.cell.height+=w.height,S=j.cell.colSpan,delete w.cells[A.index],j.left--,j.left<=1&&delete C[A.index];else{var F=w.cells[A.index];if(!F)continue;if(F.height=w.height,F.rowSpan>1){var M=T.length-N,H=F.rowSpan>M?M:F.rowSpan;C[A.index]={cell:F,left:H,row:w}}}}}function g(y){for(var C=y.allRows(),S=0;S<C.length;S++)for(var T=C[S],N=null,w=0,_=0,P=0;P<y.columns.length;P++){var A=y.columns[P];if(_-=1,_>1&&y.columns[P+1])w+=A.width,delete T.cells[A.index];else if(N){var j=N;delete T.cells[A.index],N=null,j.width=A.width+w}else{var j=T.cells[A.index];if(!j)continue;if(_=j.colSpan,w=0,j.colSpan>1){N=j,w+=A.width;continue}j.width=A.width+w}}}function x(y,C){for(var S={count:0,height:0},T=0,N=y.allRows();T<N.length;T++){for(var w=N[T],_=0,P=y.columns;_<P.length;_++){var A=P[_],j=w.cells[A.index];if(j){C.applyStyles(j.styles,!0);var F=j.width-j.padding("horizontal");if(j.styles.overflow==="linebreak")j.text=C.splitTextToSize(j.text,F+1/C.scaleFactor(),{fontSize:j.styles.fontSize});else if(j.styles.overflow==="ellipsize")j.text=v(j.text,F,j.styles,C,"...");else if(j.styles.overflow==="hidden")j.text=v(j.text,F,j.styles,C,"");else if(typeof j.styles.overflow=="function"){var M=j.styles.overflow(j.text,F);typeof M=="string"?j.text=[M]:j.text=M}j.contentHeight=j.getContentHeight(C.scaleFactor(),C.getLineHeightFactor());var H=j.contentHeight/j.rowSpan;j.rowSpan>1&&S.count*S.height<H*j.rowSpan?S={height:H,count:j.rowSpan}:S&&S.count>0&&S.height>H&&(H=S.height),H>w.height&&(w.height=H)}}S.count--}}function v(y,C,S,T,N){return y.map(function(w){return b(w,C,S,T,N)})}c.ellipsize=v;function b(y,C,S,T,N){var w=1e4*T.scaleFactor();if(C=Math.ceil(C*w)/w,C>=(0,d.getStringWidth)(y,S,T))return y;for(;C<(0,d.getStringWidth)(y+N,S,T)&&!(y.length<=1);)y=y.substring(0,y.length-1);return y.trim()+N}},964:function(o){if(typeof r>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}o.exports=r}},a={};function i(o){var c=a[o];if(c!==void 0)return c.exports;var u=a[o]={exports:{}};return n[o].call(u.exports,u,u.exports,i),u.exports}var s={};return function(){var o=s;Object.defineProperty(o,"__esModule",{value:!0}),o.Cell=o.Column=o.Row=o.Table=o.CellHookData=o.__drawTable=o.__createTable=o.applyPlugin=void 0;var c=i(340),u=i(776),d=i(664),f=i(972),h=i(260);Object.defineProperty(o,"Table",{enumerable:!0,get:function(){return h.Table}});var p=i(172);Object.defineProperty(o,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var m=i(260);Object.defineProperty(o,"Cell",{enumerable:!0,get:function(){return m.Cell}}),Object.defineProperty(o,"Column",{enumerable:!0,get:function(){return m.Column}}),Object.defineProperty(o,"Row",{enumerable:!0,get:function(){return m.Row}});function g(C){(0,c.default)(C)}o.applyPlugin=g;function x(C,S){var T=(0,u.parseInput)(C,S),N=(0,f.createTable)(C,T);(0,d.drawTable)(C,N)}function v(C,S){var T=(0,u.parseInput)(C,S);return(0,f.createTable)(C,T)}o.__createTable=v;function b(C,S){(0,d.drawTable)(C,S)}o.__drawTable=b;try{var y=i(964);y.jsPDF&&(y=y.jsPDF),g(y)}catch{}o.default=x}(),s}()})})(R$);var tK=R$.exports;const rK=hr(tK);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var B$=1252,nK=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],A3={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},C3=function(e){nK.indexOf(e)!=-1&&(B$=A3[0]=e)};function aK(){C3(1252)}var qs=function(e){C3(e)};function U$(){qs(1200),aK()}function WA(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function iK(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function W$(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Tp=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?iK(e.slice(2)):t==254&&r==255?W$(e.slice(2)):t==65279?e.slice(1):e},Kx=function(t){return String.fromCharCode(t)},qA=function(t){return String.fromCharCode(t)},X_,hc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function HA(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,c=a&63,isNaN(n)?o=c=64:isNaN(a)&&(c=64),t+=hc.charAt(i)+hc.charAt(s)+hc.charAt(o)+hc.charAt(c);return t}function Gi(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=hc.indexOf(e.charAt(u++)),s=hc.indexOf(e.charAt(u++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=hc.indexOf(e.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=hc.indexOf(e.charAt(u++)),a=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var yr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),gd=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Dc(e){return yr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function zA(e){return yr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Us=function(t){return yr?gd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function xd(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function T3(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return T3(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var uc=yr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:gd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function sK(e){for(var t=[],r=0,n=e.length+250,a=Dc(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Dc(65535),n=65530)}return t.push(a.slice(0,r)),uc(t)}var hi=/\u0000/g,Ep=/[\u0001-\u0006]/g;function Mf(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Hs(e,t){var r=""+e;return r.length>=t?r:Cn("0",t-r.length)+r}function E3(e,t){var r=""+e;return r.length>=t?r:Cn(" ",t-r.length)+r}function ey(e,t){var r=""+e;return r.length>=t?r:r+Cn(" ",t-r.length)}function oK(e,t){var r=""+Math.round(e);return r.length>=t?r:Cn("0",t-r.length)+r}function lK(e,t){var r=""+e;return r.length>=t?r:Cn("0",t-r.length)+r}var YA=Math.pow(2,32);function df(e,t){if(e>YA||e<-YA)return oK(e,t);var r=Math.round(e);return lK(r,t)}function ty(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var VA=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],r5=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function cK(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var rr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},GA={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},uK={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ry(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),o=f*s+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,c=u,u=d;if(d>t&&(u>t?(d=c,o=i):(d=u,o=s)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function ju(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=gK(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var q$=new Date(1899,11,31,0,0,0),dK=q$.getTime(),fK=new Date(1900,2,1,0,0,0);function H$(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=fK&&(r+=24*60*60*1e3),(r-(dK+(e.getTimezoneOffset()-q$.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function O3(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function hK(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function pK(e){var t=e<0?12:11,r=O3(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function mK(e){var t=O3(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function xm(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=pK(e):t===10?r=e.toFixed(10).substr(0,12):r=mK(e),O3(hK(r.toUpperCase()))}function Ku(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):xm(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return bs(14,H$(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function gK(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function xK(e,t,r,n){var a="",i=0,s=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return r5[r.m-1][1];case 5:return r5[r.m-1][0];default:return r5[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return VA[r.q][0];default:return VA[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Hs(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Hs(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var d=u>0?Hs(c,u):"";return d}function pc(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var z$=/%/g;function vK(e,t,r){var n=t.replace(z$,""),a=t.length-n.length;return dl(e,n,r*Math.pow(10,2*a))+Cn("%",a)}function yK(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return dl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Y$(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Y$(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var V$=/# (\?+)( ?)\/( ?)(\d+)/;function bK(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Cn(" ",e[1].length+1+e[4].length):E3(s,e[1].length)+e[2]+"/"+e[3]+Hs(o,e[4].length))}function wK(e,t,r){return r+(t===0?"":""+t)+Cn(" ",e[1].length+2+e[4].length)}var G$=/^#*0*\.([0#]+)/,K$=/\).*[0#]/,X$=/\(###\) ###\\?-####/;function ii(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function KA(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function XA(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function _K(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function kK(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function os(e,t,r){if(e.charCodeAt(0)===40&&!t.match(K$)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?os("n",n,r):"("+os("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return yK(e,t,r);if(t.indexOf("%")!==-1)return vK(e,t,r);if(t.indexOf("E")!==-1)return Y$(t,r);if(t.charCodeAt(0)===36)return"$"+os(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+df(c,t.length);if(t.match(/^[#?]+$/))return a=df(r,0),a==="0"&&(a=""),a.length>t.length?a:ii(t.substr(0,t.length-a.length))+a;if(i=t.match(V$))return bK(i,c,u);if(t.match(/^#+0+$/))return u+df(c,t.length-t.indexOf("0"));if(i=t.match(G$))return a=KA(r,i[1].length).replace(/^([^\.]+)$/,"$1."+ii(i[1])).replace(/\.$/,"."+ii(i[1])).replace(/\.(\d*)$/,function(m,g){return"."+g+Cn("0",ii(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+KA(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+pc(df(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+os(e,t,-r):pc(""+(Math.floor(r)+_K(r,i[1].length)))+"."+Hs(XA(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return os(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Mf(os(e,t.replace(/[\\-]/g,""),r)),s=0,Mf(Mf(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<a.length?a.charAt(s++):m==="0"?"0":""}));if(t.match(X$))return a=os(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=ry(c,Math.pow(10,s)-1,!1),a=""+u,d=dl("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=ey(o[2],s),d.length<i[4].length&&(d=ii(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=ry(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?E3(o[1],s)+i[2]+"/"+i[3]+ey(o[2],s):Cn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=df(r,0),t.length<=a.length?a:ii(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return ii(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=XA(r,i[1].length),r<0?"-"+os(e,t,-r):pc(kK(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Hs(0,3-m.length):"")+m})+"."+Hs(s,i[1].length);switch(t){case"###,##0.00":return os(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=pc(df(c,0));return p!=="0"?u+p:"";case"###,###.00":return os(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return os(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function SK(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return dl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function NK(e,t,r){var n=t.replace(z$,""),a=t.length-n.length;return dl(e,n,r*Math.pow(10,2*a))+Cn("%",a)}function J$(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+J$(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ho(e,t,r){if(e.charCodeAt(0)===40&&!t.match(K$)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ho("n",n,r):"("+ho("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return SK(e,t,r);if(t.indexOf("%")!==-1)return NK(e,t,r);if(t.indexOf("E")!==-1)return J$(t,r);if(t.charCodeAt(0)===36)return"$"+ho(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Hs(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:ii(t.substr(0,t.length-a.length))+a;if(i=t.match(V$))return wK(i,c,u);if(t.match(/^#+0+$/))return u+Hs(c,t.length-t.indexOf("0"));if(i=t.match(G$))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ii(i[1])).replace(/\.$/,"."+ii(i[1])),a=a.replace(/\.(\d*)$/,function(m,g){return"."+g+Cn("0",ii(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+pc(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ho(e,t,-r):pc(""+r)+"."+Cn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ho(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Mf(ho(e,t.replace(/[\\-]/g,""),r)),s=0,Mf(Mf(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<a.length?a.charAt(s++):m==="0"?"0":""}));if(t.match(X$))return a=ho(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=ry(c,Math.pow(10,s)-1,!1),a=""+u,d=dl("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=ey(o[2],s),d.length<i[4].length&&(d=ii(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=ry(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?E3(o[1],s)+i[2]+"/"+i[3]+ey(o[2],s):Cn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:ii(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return ii(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ho(e,t,-r):pc(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Hs(0,3-m.length):"")+m})+"."+Hs(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=pc(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return ho(e,t.slice(0,t.lastIndexOf(".")),r)+ii(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function dl(e,t,r){return(r|0)===r?ho(e,t,r):os(e,t,r)}function jK(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Q$=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Vh(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":ty(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Q$))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function AK(e,t,r,n){for(var a=[],i="",s=0,o="",c="t",u,d,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!ty(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),m=p==="("||p===")"?p:"t";a[a.length]={t:m,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=ju(t,r,e.charAt(s+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=ju(t,r),u==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var g={t:o,v:o};if(u==null&&(u=ju(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",s+=5,h="h"):(g.t="t",++s),u==null&&g.t==="T")return"";a[a.length]=g,c=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Q$)){if(u==null&&(u=ju(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Vh(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},c=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var x=0,v=0,b;for(s=a.length-1,c="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,c="h",x<1&&(x=1);break;case"s":(b=a[s].v.match(/\.0+$/))&&(v=Math.max(v,b[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[s].t;break;case"m":c==="s"&&(a[s].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[s].v.match(/[Hh]/)&&(x=1),x<2&&a[s].v.match(/[Mm]/)&&(x=2),x<3&&a[s].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var y="",C;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=xK(a[s].t.charCodeAt(0),a[s].v,u,v),a[s].t="t";break;case"n":case"?":for(C=s+1;a[C]!=null&&((o=a[C].t)==="?"||o==="D"||(o===" "||o==="t")&&a[C+1]!=null&&(a[C+1].t==="?"||a[C+1].t==="t"&&a[C+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[C].v==="/"||a[C].v===" "&&a[C+1]!=null&&a[C+1].t=="?"));)a[s].v+=a[C].v,a[C]={v:"",t:";"},++C;y+=a[s].v,s=C-1;break;case"G":a[s].t="t",a[s].v=Ku(t,r);break}var S="",T,N;if(y.length>0){y.charCodeAt(0)==40?(T=t<0&&y.charCodeAt(0)===45?-t:t,N=dl("n",y,T)):(T=t<0&&n>1?-t:t,N=dl("n",y,T),T<0&&a[0]&&a[0].t=="t"&&(N=N.substr(1),a[0].v="-"+a[0].v)),C=N.length-1;var w=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){w=s;break}var _=a.length;if(w===a.length&&N.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(C>=a[s].v.length-1?(C-=a[s].v.length,a[s].v=N.substr(C+1,a[s].v.length)):C<0?a[s].v="":(a[s].v=N.substr(0,C+1),C=-1),a[s].t="t",_=s);C>=0&&_<a.length&&(a[_].v=N.substr(0,C+1)+a[_].v)}else if(w!==a.length&&N.indexOf("E")===-1){for(C=N.indexOf(".")-1,s=w;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(d=a[s].v.indexOf(".")>-1&&s===w?a[s].v.indexOf(".")-1:a[s].v.length-1,S=a[s].v.substr(d+1);d>=0;--d)C>=0&&(a[s].v.charAt(d)==="0"||a[s].v.charAt(d)==="#")&&(S=N.charAt(C--)+S);a[s].v=S,a[s].t="t",_=s}for(C>=0&&_<a.length&&(a[_].v=N.substr(0,C+1)+a[_].v),C=N.indexOf(".")+1,s=w;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==w)){for(d=a[s].v.indexOf(".")>-1&&s===w?a[s].v.indexOf(".")+1:0,S=a[s].v.substr(0,d);d<a[s].v.length;++d)C<N.length&&(S+=N.charAt(C++));a[s].v=S,a[s].t="t",_=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(T=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=dl(a[s].t,a[s].v,T),a[s].t="t");var P="";for(s=0;s!==a.length;++s)a[s]!=null&&(P+=a[s].v);return P}var JA=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function QA(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function CK(e,t){var r=jK(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(JA),o=r[1].match(JA);return QA(t,s)?[n,r[0]]:QA(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function bs(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:rr)[e],n==null&&(n=r.table&&r.table[GA[e]]||rr[GA[e]]),n==null&&(n=uK[e]||"General");break}if(ty(n,0))return Ku(t,r);t instanceof Date&&(t=H$(t,r.date1904));var a=CK(n,t);if(ty(a[1]))return Ku(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return AK(a[1],t,r,a[0])}function Iu(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(rr[r]==null){t<0&&(t=r);continue}if(rr[r]==e){t=r;break}}t<0&&(t=391)}return rr[t]=e,t}function Z$(){rr=cK()}var TK={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},eM=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function EK(e){var t=typeof e=="number"?rr[e]:e;return t=t.replace(eM,"(\\d+)"),new RegExp("^"+t+"$")}function OK(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,c=-1;(t.match(eM)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":c=p;break;case"m":s>=0?o=p:a=p;break}}),c>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var PK=function(){var e={};e.version="1.2.0";function t(){for(var N=0,w=new Array(256),_=0;_!=256;++_)N=_,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,w[_]=N;return typeof Int32Array<"u"?new Int32Array(w):w}var r=t();function n(N){var w=0,_=0,P=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)A[P]=N[P];for(P=0;P!=256;++P)for(_=N[P],w=256+P;w<4096;w+=256)_=A[w]=_>>>8^N[_&255];var j=[];for(P=1;P!=16;++P)j[P-1]=typeof Int32Array<"u"?A.subarray(P*256,P*256+256):A.slice(P*256,P*256+256);return j}var a=n(r),i=a[0],s=a[1],o=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],m=a[9],g=a[10],x=a[11],v=a[12],b=a[13],y=a[14];function C(N,w){for(var _=w^-1,P=0,A=N.length;P<A;)_=_>>>8^r[(_^N.charCodeAt(P++))&255];return~_}function S(N,w){for(var _=w^-1,P=N.length-15,A=0;A<P;)_=y[N[A++]^_&255]^b[N[A++]^_>>8&255]^v[N[A++]^_>>16&255]^x[N[A++]^_>>>24]^g[N[A++]]^m[N[A++]]^p[N[A++]]^h[N[A++]]^f[N[A++]]^d[N[A++]]^u[N[A++]]^c[N[A++]]^o[N[A++]]^s[N[A++]]^i[N[A++]]^r[N[A++]];for(P+=15;A<P;)_=_>>>8^r[(_^N[A++])&255];return~_}function T(N,w){for(var _=w^-1,P=0,A=N.length,j=0,F=0;P<A;)j=N.charCodeAt(P++),j<128?_=_>>>8^r[(_^j)&255]:j<2048?(_=_>>>8^r[(_^(192|j>>6&31))&255],_=_>>>8^r[(_^(128|j&63))&255]):j>=55296&&j<57344?(j=(j&1023)+64,F=N.charCodeAt(P++)&1023,_=_>>>8^r[(_^(240|j>>8&7))&255],_=_>>>8^r[(_^(128|j>>2&63))&255],_=_>>>8^r[(_^(128|F>>6&15|(j&3)<<4))&255],_=_>>>8^r[(_^(128|F&63))&255]):(_=_>>>8^r[(_^(224|j>>12&15))&255],_=_>>>8^r[(_^(128|j>>6&63))&255],_=_>>>8^r[(_^(128|j&63))&255]);return~_}return e.table=r,e.bstr=C,e.buf=S,e.str=T,e}(),kr=function(){var t={};t.version="1.2.1";function r(oe,Se){for(var xe=oe.split("/"),ye=Se.split("/"),_e=0,Ne=0,He=Math.min(xe.length,ye.length);_e<He;++_e){if(Ne=xe[_e].length-ye[_e].length)return Ne;if(xe[_e]!=ye[_e])return xe[_e]<ye[_e]?-1:1}return xe.length-ye.length}function n(oe){if(oe.charAt(oe.length-1)=="/")return oe.slice(0,-1).indexOf("/")===-1?oe:n(oe.slice(0,-1));var Se=oe.lastIndexOf("/");return Se===-1?oe:oe.slice(0,Se+1)}function a(oe){if(oe.charAt(oe.length-1)=="/")return a(oe.slice(0,-1));var Se=oe.lastIndexOf("/");return Se===-1?oe:oe.slice(Se+1)}function i(oe,Se){typeof Se=="string"&&(Se=new Date(Se));var xe=Se.getHours();xe=xe<<6|Se.getMinutes(),xe=xe<<5|Se.getSeconds()>>>1,oe.write_shift(2,xe);var ye=Se.getFullYear()-1980;ye=ye<<4|Se.getMonth()+1,ye=ye<<5|Se.getDate(),oe.write_shift(2,ye)}function s(oe){var Se=oe.read_shift(2)&65535,xe=oe.read_shift(2)&65535,ye=new Date,_e=xe&31;xe>>>=5;var Ne=xe&15;xe>>>=4,ye.setMilliseconds(0),ye.setFullYear(xe+1980),ye.setMonth(Ne-1),ye.setDate(_e);var He=Se&31;Se>>>=5;var Je=Se&63;return Se>>>=6,ye.setHours(Se),ye.setMinutes(Je),ye.setSeconds(He<<1),ye}function o(oe){Aa(oe,0);for(var Se={},xe=0;oe.l<=oe.length-4;){var ye=oe.read_shift(2),_e=oe.read_shift(2),Ne=oe.l+_e,He={};switch(ye){case 21589:xe=oe.read_shift(1),xe&1&&(He.mtime=oe.read_shift(4)),_e>5&&(xe&2&&(He.atime=oe.read_shift(4)),xe&4&&(He.ctime=oe.read_shift(4))),He.mtime&&(He.mt=new Date(He.mtime*1e3));break}oe.l=Ne,Se[ye]=He}return Se}var c;function u(){return c||(c={})}function d(oe,Se){if(oe[0]==80&&oe[1]==75)return wr(oe,Se);if((oe[0]|32)==109&&(oe[1]|32)==105)return Dn(oe,Se);if(oe.length<512)throw new Error("CFB file size "+oe.length+" < 512");var xe=3,ye=512,_e=0,Ne=0,He=0,Je=0,Ye=0,Ve=[],Ge=oe.slice(0,512);Aa(Ge,0);var lt=f(Ge);switch(xe=lt[0],xe){case 3:ye=512;break;case 4:ye=4096;break;case 0:if(lt[1]==0)return wr(oe,Se);default:throw new Error("Major Version: Expected 3 or 4 saw "+xe)}ye!==512&&(Ge=oe.slice(0,ye),Aa(Ge,28));var ft=oe.slice(0,ye);h(Ge,xe);var ht=Ge.read_shift(4,"i");if(xe===3&&ht!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ht);Ge.l+=4,He=Ge.read_shift(4,"i"),Ge.l+=4,Ge.chk("00100000","Mini Stream Cutoff Size: "),Je=Ge.read_shift(4,"i"),_e=Ge.read_shift(4,"i"),Ye=Ge.read_shift(4,"i"),Ne=Ge.read_shift(4,"i");for(var ut=-1,pt=0;pt<109&&(ut=Ge.read_shift(4,"i"),!(ut<0));++pt)Ve[pt]=ut;var Dt=p(oe,ye);x(Ye,Ne,Dt,ye,Ve);var ur=b(Dt,He,Ve,ye);ur[He].name="!Directory",_e>0&&Je!==F&&(ur[Je].name="!MiniFAT"),ur[Ve[0]].name="!FAT",ur.fat_addrs=Ve,ur.ssz=ye;var xr={},mn=[],yi=[],ei=[];y(He,ur,Dt,mn,_e,xr,yi,Je),m(yi,ei,mn),mn.shift();var Mi={FileIndex:yi,FullPaths:ei};return Se&&Se.raw&&(Mi.raw={header:ft,sectors:Dt}),Mi}function f(oe){if(oe[oe.l]==80&&oe[oe.l+1]==75)return[0,0];oe.chk(M,"Header Signature: "),oe.l+=16;var Se=oe.read_shift(2,"u");return[oe.read_shift(2,"u"),Se]}function h(oe,Se){var xe=9;switch(oe.l+=2,xe=oe.read_shift(2)){case 9:if(Se!=3)throw new Error("Sector Shift: Expected 9 saw "+xe);break;case 12:if(Se!=4)throw new Error("Sector Shift: Expected 12 saw "+xe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+xe)}oe.chk("0600","Mini Sector Shift: "),oe.chk("000000000000","Reserved: ")}function p(oe,Se){for(var xe=Math.ceil(oe.length/Se)-1,ye=[],_e=1;_e<xe;++_e)ye[_e-1]=oe.slice(_e*Se,(_e+1)*Se);return ye[xe-1]=oe.slice(xe*Se),ye}function m(oe,Se,xe){for(var ye=0,_e=0,Ne=0,He=0,Je=0,Ye=xe.length,Ve=[],Ge=[];ye<Ye;++ye)Ve[ye]=Ge[ye]=ye,Se[ye]=xe[ye];for(;Je<Ge.length;++Je)ye=Ge[Je],_e=oe[ye].L,Ne=oe[ye].R,He=oe[ye].C,Ve[ye]===ye&&(_e!==-1&&Ve[_e]!==_e&&(Ve[ye]=Ve[_e]),Ne!==-1&&Ve[Ne]!==Ne&&(Ve[ye]=Ve[Ne])),He!==-1&&(Ve[He]=ye),_e!==-1&&ye!=Ve[ye]&&(Ve[_e]=Ve[ye],Ge.lastIndexOf(_e)<Je&&Ge.push(_e)),Ne!==-1&&ye!=Ve[ye]&&(Ve[Ne]=Ve[ye],Ge.lastIndexOf(Ne)<Je&&Ge.push(Ne));for(ye=1;ye<Ye;++ye)Ve[ye]===ye&&(Ne!==-1&&Ve[Ne]!==Ne?Ve[ye]=Ve[Ne]:_e!==-1&&Ve[_e]!==_e&&(Ve[ye]=Ve[_e]));for(ye=1;ye<Ye;++ye)if(oe[ye].type!==0){if(Je=ye,Je!=Ve[Je])do Je=Ve[Je],Se[ye]=Se[Je]+"/"+Se[ye];while(Je!==0&&Ve[Je]!==-1&&Je!=Ve[Je]);Ve[ye]=-1}for(Se[0]+="/",ye=1;ye<Ye;++ye)oe[ye].type!==2&&(Se[ye]+="/")}function g(oe,Se,xe){for(var ye=oe.start,_e=oe.size,Ne=[],He=ye;xe&&_e>0&&He>=0;)Ne.push(Se.slice(He*j,He*j+j)),_e-=j,He=wu(xe,He*4);return Ne.length===0?aa(0):uc(Ne).slice(0,oe.size)}function x(oe,Se,xe,ye,_e){var Ne=F;if(oe===F){if(Se!==0)throw new Error("DIFAT chain shorter than expected")}else if(oe!==-1){var He=xe[oe],Je=(ye>>>2)-1;if(!He)return;for(var Ye=0;Ye<Je&&(Ne=wu(He,Ye*4))!==F;++Ye)_e.push(Ne);x(wu(He,ye-4),Se-1,xe,ye,_e)}}function v(oe,Se,xe,ye,_e){var Ne=[],He=[];_e||(_e=[]);var Je=ye-1,Ye=0,Ve=0;for(Ye=Se;Ye>=0;){_e[Ye]=!0,Ne[Ne.length]=Ye,He.push(oe[Ye]);var Ge=xe[Math.floor(Ye*4/ye)];if(Ve=Ye*4&Je,ye<4+Ve)throw new Error("FAT boundary crossed: "+Ye+" 4 "+ye);if(!oe[Ge])break;Ye=wu(oe[Ge],Ve)}return{nodes:Ne,data:lC([He])}}function b(oe,Se,xe,ye){var _e=oe.length,Ne=[],He=[],Je=[],Ye=[],Ve=ye-1,Ge=0,lt=0,ft=0,ht=0;for(Ge=0;Ge<_e;++Ge)if(Je=[],ft=Ge+Se,ft>=_e&&(ft-=_e),!He[ft]){Ye=[];var ut=[];for(lt=ft;lt>=0;){ut[lt]=!0,He[lt]=!0,Je[Je.length]=lt,Ye.push(oe[lt]);var pt=xe[Math.floor(lt*4/ye)];if(ht=lt*4&Ve,ye<4+ht)throw new Error("FAT boundary crossed: "+lt+" 4 "+ye);if(!oe[pt]||(lt=wu(oe[pt],ht),ut[lt]))break}Ne[ft]={nodes:Je,data:lC([Ye])}}return Ne}function y(oe,Se,xe,ye,_e,Ne,He,Je){for(var Ye=0,Ve=ye.length?2:0,Ge=Se[oe].data,lt=0,ft=0,ht;lt<Ge.length;lt+=128){var ut=Ge.slice(lt,lt+128);Aa(ut,64),ft=ut.read_shift(2),ht=F3(ut,0,ft-Ve),ye.push(ht);var pt={name:ht,type:ut.read_shift(1),color:ut.read_shift(1),L:ut.read_shift(4,"i"),R:ut.read_shift(4,"i"),C:ut.read_shift(4,"i"),clsid:ut.read_shift(16),state:ut.read_shift(4,"i"),start:0,size:0},Dt=ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2);Dt!==0&&(pt.ct=C(ut,ut.l-8));var ur=ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2);ur!==0&&(pt.mt=C(ut,ut.l-8)),pt.start=ut.read_shift(4,"i"),pt.size=ut.read_shift(4,"i"),pt.size<0&&pt.start<0&&(pt.size=pt.type=0,pt.start=F,pt.name=""),pt.type===5?(Ye=pt.start,_e>0&&Ye!==F&&(Se[Ye].name="!StreamData")):pt.size>=4096?(pt.storage="fat",Se[pt.start]===void 0&&(Se[pt.start]=v(xe,pt.start,Se.fat_addrs,Se.ssz)),Se[pt.start].name=pt.name,pt.content=Se[pt.start].data.slice(0,pt.size)):(pt.storage="minifat",pt.size<0?pt.size=0:Ye!==F&&pt.start!==F&&Se[Ye]&&(pt.content=g(pt,Se[Ye].data,(Se[Je]||{}).data))),pt.content&&Aa(pt.content,0),Ne[ht]=pt,He.push(pt)}}function C(oe,Se){return new Date((Wi(oe,Se+4)/1e7*Math.pow(2,32)+Wi(oe,Se)/1e7-11644473600)*1e3)}function S(oe,Se){return u(),d(c.readFileSync(oe),Se)}function T(oe,Se){var xe=Se&&Se.type;switch(xe||yr&&Buffer.isBuffer(oe)&&(xe="buffer"),xe||"base64"){case"file":return S(oe,Se);case"base64":return d(Us(Gi(oe)),Se);case"binary":return d(Us(oe),Se)}return d(oe,Se)}function N(oe,Se){var xe=Se||{},ye=xe.root||"Root Entry";if(oe.FullPaths||(oe.FullPaths=[]),oe.FileIndex||(oe.FileIndex=[]),oe.FullPaths.length!==oe.FileIndex.length)throw new Error("inconsistent CFB structure");oe.FullPaths.length===0&&(oe.FullPaths[0]=ye+"/",oe.FileIndex[0]={name:ye,type:5}),xe.CLSID&&(oe.FileIndex[0].clsid=xe.CLSID),w(oe)}function w(oe){var Se="Sh33tJ5";if(!kr.find(oe,"/"+Se)){var xe=aa(4);xe[0]=55,xe[1]=xe[3]=50,xe[2]=54,oe.FileIndex.push({name:Se,type:2,content:xe,size:4,L:69,R:69,C:69}),oe.FullPaths.push(oe.FullPaths[0]+Se),_(oe)}}function _(oe,Se){N(oe);for(var xe=!1,ye=!1,_e=oe.FullPaths.length-1;_e>=0;--_e){var Ne=oe.FileIndex[_e];switch(Ne.type){case 0:ye?xe=!0:(oe.FileIndex.pop(),oe.FullPaths.pop());break;case 1:case 2:case 5:ye=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(xe=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(xe=!0);break;default:xe=!0;break}}if(!(!xe&&!Se)){var He=new Date(1987,1,19),Je=0,Ye=Object.create?Object.create(null):{},Ve=[];for(_e=0;_e<oe.FullPaths.length;++_e)Ye[oe.FullPaths[_e]]=!0,oe.FileIndex[_e].type!==0&&Ve.push([oe.FullPaths[_e],oe.FileIndex[_e]]);for(_e=0;_e<Ve.length;++_e){var Ge=n(Ve[_e][0]);ye=Ye[Ge],ye||(Ve.push([Ge,{name:a(Ge).replace("/",""),type:1,clsid:q,ct:He,mt:He,content:null}]),Ye[Ge]=!0)}for(Ve.sort(function(ht,ut){return r(ht[0],ut[0])}),oe.FullPaths=[],oe.FileIndex=[],_e=0;_e<Ve.length;++_e)oe.FullPaths[_e]=Ve[_e][0],oe.FileIndex[_e]=Ve[_e][1];for(_e=0;_e<Ve.length;++_e){var lt=oe.FileIndex[_e],ft=oe.FullPaths[_e];if(lt.name=a(ft).replace("/",""),lt.L=lt.R=lt.C=-(lt.color=1),lt.size=lt.content?lt.content.length:0,lt.start=0,lt.clsid=lt.clsid||q,_e===0)lt.C=Ve.length>1?1:-1,lt.size=0,lt.type=5;else if(ft.slice(-1)=="/"){for(Je=_e+1;Je<Ve.length&&n(oe.FullPaths[Je])!=ft;++Je);for(lt.C=Je>=Ve.length?-1:Je,Je=_e+1;Je<Ve.length&&n(oe.FullPaths[Je])!=n(ft);++Je);lt.R=Je>=Ve.length?-1:Je,lt.type=1}else n(oe.FullPaths[_e+1]||"")==n(ft)&&(lt.R=_e+1),lt.type=2}}}function P(oe,Se){var xe=Se||{};if(xe.fileType=="mad")return Ot(oe,xe);switch(_(oe),xe.fileType){case"zip":return bn(oe,xe)}var ye=function(ht){for(var ut=0,pt=0,Dt=0;Dt<ht.FileIndex.length;++Dt){var ur=ht.FileIndex[Dt];if(ur.content){var xr=ur.content.length;xr>0&&(xr<4096?ut+=xr+63>>6:pt+=xr+511>>9)}}for(var mn=ht.FullPaths.length+3>>2,yi=ut+7>>3,ei=ut+127>>7,Mi=yi+pt+mn+ei,bi=Mi+127>>7,$a=bi<=109?0:Math.ceil((bi-109)/127);Mi+bi+$a+127>>7>bi;)$a=++bi<=109?0:Math.ceil((bi-109)/127);var Ma=[1,$a,bi,ei,mn,pt,ut,0];return ht.FileIndex[0].size=ut<<6,Ma[7]=(ht.FileIndex[0].start=Ma[0]+Ma[1]+Ma[2]+Ma[3]+Ma[4]+Ma[5])+(Ma[6]+7>>3),Ma}(oe),_e=aa(ye[7]<<9),Ne=0,He=0;{for(Ne=0;Ne<8;++Ne)_e.write_shift(1,H[Ne]);for(Ne=0;Ne<8;++Ne)_e.write_shift(2,0);for(_e.write_shift(2,62),_e.write_shift(2,3),_e.write_shift(2,65534),_e.write_shift(2,9),_e.write_shift(2,6),Ne=0;Ne<3;++Ne)_e.write_shift(2,0);for(_e.write_shift(4,0),_e.write_shift(4,ye[2]),_e.write_shift(4,ye[0]+ye[1]+ye[2]+ye[3]-1),_e.write_shift(4,0),_e.write_shift(4,4096),_e.write_shift(4,ye[3]?ye[0]+ye[1]+ye[2]-1:F),_e.write_shift(4,ye[3]),_e.write_shift(-4,ye[1]?ye[0]-1:F),_e.write_shift(4,ye[1]),Ne=0;Ne<109;++Ne)_e.write_shift(-4,Ne<ye[2]?ye[1]+Ne:-1)}if(ye[1])for(He=0;He<ye[1];++He){for(;Ne<236+He*127;++Ne)_e.write_shift(-4,Ne<ye[2]?ye[1]+Ne:-1);_e.write_shift(-4,He===ye[1]-1?F:He+1)}var Je=function(ht){for(He+=ht;Ne<He-1;++Ne)_e.write_shift(-4,Ne+1);ht&&(++Ne,_e.write_shift(-4,F))};for(He=Ne=0,He+=ye[1];Ne<He;++Ne)_e.write_shift(-4,Y.DIFSECT);for(He+=ye[2];Ne<He;++Ne)_e.write_shift(-4,Y.FATSECT);Je(ye[3]),Je(ye[4]);for(var Ye=0,Ve=0,Ge=oe.FileIndex[0];Ye<oe.FileIndex.length;++Ye)Ge=oe.FileIndex[Ye],Ge.content&&(Ve=Ge.content.length,!(Ve<4096)&&(Ge.start=He,Je(Ve+511>>9)));for(Je(ye[6]+7>>3);_e.l&511;)_e.write_shift(-4,Y.ENDOFCHAIN);for(He=Ne=0,Ye=0;Ye<oe.FileIndex.length;++Ye)Ge=oe.FileIndex[Ye],Ge.content&&(Ve=Ge.content.length,!(!Ve||Ve>=4096)&&(Ge.start=He,Je(Ve+63>>6)));for(;_e.l&511;)_e.write_shift(-4,Y.ENDOFCHAIN);for(Ne=0;Ne<ye[4]<<2;++Ne){var lt=oe.FullPaths[Ne];if(!lt||lt.length===0){for(Ye=0;Ye<17;++Ye)_e.write_shift(4,0);for(Ye=0;Ye<3;++Ye)_e.write_shift(4,-1);for(Ye=0;Ye<12;++Ye)_e.write_shift(4,0);continue}Ge=oe.FileIndex[Ne],Ne===0&&(Ge.start=Ge.size?Ge.start-1:F);var ft=Ne===0&&xe.root||Ge.name;if(Ve=2*(ft.length+1),_e.write_shift(64,ft,"utf16le"),_e.write_shift(2,Ve),_e.write_shift(1,Ge.type),_e.write_shift(1,Ge.color),_e.write_shift(-4,Ge.L),_e.write_shift(-4,Ge.R),_e.write_shift(-4,Ge.C),Ge.clsid)_e.write_shift(16,Ge.clsid,"hex");else for(Ye=0;Ye<4;++Ye)_e.write_shift(4,0);_e.write_shift(4,Ge.state||0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,Ge.start),_e.write_shift(4,Ge.size),_e.write_shift(4,0)}for(Ne=1;Ne<oe.FileIndex.length;++Ne)if(Ge=oe.FileIndex[Ne],Ge.size>=4096)if(_e.l=Ge.start+1<<9,yr&&Buffer.isBuffer(Ge.content))Ge.content.copy(_e,_e.l,0,Ge.size),_e.l+=Ge.size+511&-512;else{for(Ye=0;Ye<Ge.size;++Ye)_e.write_shift(1,Ge.content[Ye]);for(;Ye&511;++Ye)_e.write_shift(1,0)}for(Ne=1;Ne<oe.FileIndex.length;++Ne)if(Ge=oe.FileIndex[Ne],Ge.size>0&&Ge.size<4096)if(yr&&Buffer.isBuffer(Ge.content))Ge.content.copy(_e,_e.l,0,Ge.size),_e.l+=Ge.size+63&-64;else{for(Ye=0;Ye<Ge.size;++Ye)_e.write_shift(1,Ge.content[Ye]);for(;Ye&63;++Ye)_e.write_shift(1,0)}if(yr)_e.l=_e.length;else for(;_e.l<_e.length;)_e.write_shift(1,0);return _e}function A(oe,Se){var xe=oe.FullPaths.map(function(Ye){return Ye.toUpperCase()}),ye=xe.map(function(Ye){var Ve=Ye.split("/");return Ve[Ve.length-(Ye.slice(-1)=="/"?2:1)]}),_e=!1;Se.charCodeAt(0)===47?(_e=!0,Se=xe[0].slice(0,-1)+Se):_e=Se.indexOf("/")!==-1;var Ne=Se.toUpperCase(),He=_e===!0?xe.indexOf(Ne):ye.indexOf(Ne);if(He!==-1)return oe.FileIndex[He];var Je=!Ne.match(Ep);for(Ne=Ne.replace(hi,""),Je&&(Ne=Ne.replace(Ep,"!")),He=0;He<xe.length;++He)if((Je?xe[He].replace(Ep,"!"):xe[He]).replace(hi,"")==Ne||(Je?ye[He].replace(Ep,"!"):ye[He]).replace(hi,"")==Ne)return oe.FileIndex[He];return null}var j=64,F=-2,M="d0cf11e0a1b11ae1",H=[208,207,17,224,161,177,26,225],q="00000000000000000000000000000000",Y={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:M,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function X(oe,Se,xe){u();var ye=P(oe,xe);c.writeFileSync(Se,ye)}function I(oe){for(var Se=new Array(oe.length),xe=0;xe<oe.length;++xe)Se[xe]=String.fromCharCode(oe[xe]);return Se.join("")}function J(oe,Se){var xe=P(oe,Se);switch(Se&&Se.type||"buffer"){case"file":return u(),c.writeFileSync(Se.filename,xe),xe;case"binary":return typeof xe=="string"?xe:I(xe);case"base64":return HA(typeof xe=="string"?xe:I(xe));case"buffer":if(yr)return Buffer.isBuffer(xe)?xe:gd(xe);case"array":return typeof xe=="string"?Us(xe):xe}return xe}var Q;function E(oe){try{var Se=oe.InflateRaw,xe=new Se;if(xe._processChunk(new Uint8Array([3,0]),xe._finishFlushFlag),xe.bytesRead)Q=oe;else throw new Error("zlib does not expose bytesRead")}catch(ye){console.error("cannot use native zlib: "+(ye.message||ye))}}function R(oe,Se){if(!Q)return Pt(oe,Se);var xe=Q.InflateRaw,ye=new xe,_e=ye._processChunk(oe.slice(oe.l),ye._finishFlushFlag);return oe.l+=ye.bytesRead,_e}function U(oe){return Q?Q.deflateRawSync(oe):Be(oe)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ee(oe){var Se=(oe<<1|oe<<11)&139536|(oe<<5|oe<<15)&558144;return(Se>>16|Se>>8|Se)&255}for(var W=typeof Uint8Array<"u",Z=W?new Uint8Array(256):[],re=0;re<256;++re)Z[re]=ee(re);function O(oe,Se){var xe=Z[oe&255];return Se<=8?xe>>>8-Se:(xe=xe<<8|Z[oe>>8&255],Se<=16?xe>>>16-Se:(xe=xe<<8|Z[oe>>16&255],xe>>>24-Se))}function de(oe,Se){var xe=Se&7,ye=Se>>>3;return(oe[ye]|(xe<=6?0:oe[ye+1]<<8))>>>xe&3}function ce(oe,Se){var xe=Se&7,ye=Se>>>3;return(oe[ye]|(xe<=5?0:oe[ye+1]<<8))>>>xe&7}function pe(oe,Se){var xe=Se&7,ye=Se>>>3;return(oe[ye]|(xe<=4?0:oe[ye+1]<<8))>>>xe&15}function K(oe,Se){var xe=Se&7,ye=Se>>>3;return(oe[ye]|(xe<=3?0:oe[ye+1]<<8))>>>xe&31}function ne(oe,Se){var xe=Se&7,ye=Se>>>3;return(oe[ye]|(xe<=1?0:oe[ye+1]<<8))>>>xe&127}function Te(oe,Se,xe){var ye=Se&7,_e=Se>>>3,Ne=(1<<xe)-1,He=oe[_e]>>>ye;return xe<8-ye||(He|=oe[_e+1]<<8-ye,xe<16-ye)||(He|=oe[_e+2]<<16-ye,xe<24-ye)||(He|=oe[_e+3]<<24-ye),He&Ne}function Ee(oe,Se,xe){var ye=Se&7,_e=Se>>>3;return ye<=5?oe[_e]|=(xe&7)<<ye:(oe[_e]|=xe<<ye&255,oe[_e+1]=(xe&7)>>8-ye),Se+3}function $e(oe,Se,xe){var ye=Se&7,_e=Se>>>3;return xe=(xe&1)<<ye,oe[_e]|=xe,Se+1}function Pe(oe,Se,xe){var ye=Se&7,_e=Se>>>3;return xe<<=ye,oe[_e]|=xe&255,xe>>>=8,oe[_e+1]=xe,Se+8}function Fe(oe,Se,xe){var ye=Se&7,_e=Se>>>3;return xe<<=ye,oe[_e]|=xe&255,xe>>>=8,oe[_e+1]=xe&255,oe[_e+2]=xe>>>8,Se+16}function ve(oe,Se){var xe=oe.length,ye=2*xe>Se?2*xe:Se+5,_e=0;if(xe>=Se)return oe;if(yr){var Ne=zA(ye);if(oe.copy)oe.copy(Ne);else for(;_e<oe.length;++_e)Ne[_e]=oe[_e];return Ne}else if(W){var He=new Uint8Array(ye);if(He.set)He.set(oe);else for(;_e<xe;++_e)He[_e]=oe[_e];return He}return oe.length=ye,oe}function me(oe){for(var Se=new Array(oe),xe=0;xe<oe;++xe)Se[xe]=0;return Se}function le(oe,Se,xe){var ye=1,_e=0,Ne=0,He=0,Je=0,Ye=oe.length,Ve=W?new Uint16Array(32):me(32);for(Ne=0;Ne<32;++Ne)Ve[Ne]=0;for(Ne=Ye;Ne<xe;++Ne)oe[Ne]=0;Ye=oe.length;var Ge=W?new Uint16Array(Ye):me(Ye);for(Ne=0;Ne<Ye;++Ne)Ve[_e=oe[Ne]]++,ye<_e&&(ye=_e),Ge[Ne]=0;for(Ve[0]=0,Ne=1;Ne<=ye;++Ne)Ve[Ne+16]=Je=Je+Ve[Ne-1]<<1;for(Ne=0;Ne<Ye;++Ne)Je=oe[Ne],Je!=0&&(Ge[Ne]=Ve[Je+16]++);var lt=0;for(Ne=0;Ne<Ye;++Ne)if(lt=oe[Ne],lt!=0)for(Je=O(Ge[Ne],ye)>>ye-lt,He=(1<<ye+4-lt)-1;He>=0;--He)Se[Je|He<<lt]=lt&15|Ne<<4;return ye}var be=W?new Uint16Array(512):me(512),Oe=W?new Uint16Array(32):me(32);if(!W){for(var je=0;je<512;++je)be[je]=0;for(je=0;je<32;++je)Oe[je]=0}(function(){for(var oe=[],Se=0;Se<32;Se++)oe.push(5);le(oe,Oe,32);var xe=[];for(Se=0;Se<=143;Se++)xe.push(8);for(;Se<=255;Se++)xe.push(9);for(;Se<=279;Se++)xe.push(7);for(;Se<=287;Se++)xe.push(8);le(xe,be,288)})();var Ae=function(){for(var Se=W?new Uint8Array(32768):[],xe=0,ye=0;xe<ae.length-1;++xe)for(;ye<ae[xe+1];++ye)Se[ye]=xe;for(;ye<32768;++ye)Se[ye]=29;var _e=W?new Uint8Array(259):[];for(xe=0,ye=0;xe<G.length-1;++xe)for(;ye<G[xe+1];++ye)_e[ye]=xe;function Ne(Je,Ye){for(var Ve=0;Ve<Je.length;){var Ge=Math.min(65535,Je.length-Ve),lt=Ve+Ge==Je.length;for(Ye.write_shift(1,+lt),Ye.write_shift(2,Ge),Ye.write_shift(2,~Ge&65535);Ge-- >0;)Ye[Ye.l++]=Je[Ve++]}return Ye.l}function He(Je,Ye){for(var Ve=0,Ge=0,lt=W?new Uint16Array(32768):[];Ge<Je.length;){var ft=Math.min(65535,Je.length-Ge);if(ft<10){for(Ve=Ee(Ye,Ve,+(Ge+ft==Je.length)),Ve&7&&(Ve+=8-(Ve&7)),Ye.l=Ve/8|0,Ye.write_shift(2,ft),Ye.write_shift(2,~ft&65535);ft-- >0;)Ye[Ye.l++]=Je[Ge++];Ve=Ye.l*8;continue}Ve=Ee(Ye,Ve,+(Ge+ft==Je.length)+2);for(var ht=0;ft-- >0;){var ut=Je[Ge];ht=(ht<<5^ut)&32767;var pt=-1,Dt=0;if((pt=lt[ht])&&(pt|=Ge&-32768,pt>Ge&&(pt-=32768),pt<Ge))for(;Je[pt+Dt]==Je[Ge+Dt]&&Dt<250;)++Dt;if(Dt>2){ut=_e[Dt],ut<=22?Ve=Pe(Ye,Ve,Z[ut+1]>>1)-1:(Pe(Ye,Ve,3),Ve+=5,Pe(Ye,Ve,Z[ut-23]>>5),Ve+=3);var ur=ut<8?0:ut-4>>2;ur>0&&(Fe(Ye,Ve,Dt-G[ut]),Ve+=ur),ut=Se[Ge-pt],Ve=Pe(Ye,Ve,Z[ut]>>3),Ve-=3;var xr=ut<4?0:ut-2>>1;xr>0&&(Fe(Ye,Ve,Ge-pt-ae[ut]),Ve+=xr);for(var mn=0;mn<Dt;++mn)lt[ht]=Ge&32767,ht=(ht<<5^Je[Ge])&32767,++Ge;ft-=Dt-1}else ut<=143?ut=ut+48:Ve=$e(Ye,Ve,1),Ve=Pe(Ye,Ve,Z[ut]),lt[ht]=Ge&32767,++Ge}Ve=Pe(Ye,Ve,0)-1}return Ye.l=(Ve+7)/8|0,Ye.l}return function(Ye,Ve){return Ye.length<8?Ne(Ye,Ve):He(Ye,Ve)}}();function Be(oe){var Se=aa(50+Math.floor(oe.length*1.1)),xe=Ae(oe,Se);return Se.slice(0,xe)}var De=W?new Uint16Array(32768):me(32768),et=W?new Uint16Array(32768):me(32768),Qe=W?new Uint16Array(128):me(128),kt=1,jt=1;function bt(oe,Se){var xe=K(oe,Se)+257;Se+=5;var ye=K(oe,Se)+1;Se+=5;var _e=pe(oe,Se)+4;Se+=4;for(var Ne=0,He=W?new Uint8Array(19):me(19),Je=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ye=1,Ve=W?new Uint8Array(8):me(8),Ge=W?new Uint8Array(8):me(8),lt=He.length,ft=0;ft<_e;++ft)He[z[ft]]=Ne=ce(oe,Se),Ye<Ne&&(Ye=Ne),Ve[Ne]++,Se+=3;var ht=0;for(Ve[0]=0,ft=1;ft<=Ye;++ft)Ge[ft]=ht=ht+Ve[ft-1]<<1;for(ft=0;ft<lt;++ft)(ht=He[ft])!=0&&(Je[ft]=Ge[ht]++);var ut=0;for(ft=0;ft<lt;++ft)if(ut=He[ft],ut!=0){ht=Z[Je[ft]]>>8-ut;for(var pt=(1<<7-ut)-1;pt>=0;--pt)Qe[ht|pt<<ut]=ut&7|ft<<3}var Dt=[];for(Ye=1;Dt.length<xe+ye;)switch(ht=Qe[ne(oe,Se)],Se+=ht&7,ht>>>=3){case 16:for(Ne=3+de(oe,Se),Se+=2,ht=Dt[Dt.length-1];Ne-- >0;)Dt.push(ht);break;case 17:for(Ne=3+ce(oe,Se),Se+=3;Ne-- >0;)Dt.push(0);break;case 18:for(Ne=11+ne(oe,Se),Se+=7;Ne-- >0;)Dt.push(0);break;default:Dt.push(ht),Ye<ht&&(Ye=ht);break}var ur=Dt.slice(0,xe),xr=Dt.slice(xe);for(ft=xe;ft<286;++ft)ur[ft]=0;for(ft=ye;ft<30;++ft)xr[ft]=0;return kt=le(ur,De,286),jt=le(xr,et,30),Se}function Vt(oe,Se){if(oe[0]==3&&!(oe[1]&3))return[Dc(Se),2];for(var xe=0,ye=0,_e=zA(Se||1<<18),Ne=0,He=_e.length>>>0,Je=0,Ye=0;!(ye&1);){if(ye=ce(oe,xe),xe+=3,ye>>>1)ye>>1==1?(Je=9,Ye=5):(xe=bt(oe,xe),Je=kt,Ye=jt);else{xe&7&&(xe+=8-(xe&7));var Ve=oe[xe>>>3]|oe[(xe>>>3)+1]<<8;if(xe+=32,Ve>0)for(!Se&&He<Ne+Ve&&(_e=ve(_e,Ne+Ve),He=_e.length);Ve-- >0;)_e[Ne++]=oe[xe>>>3],xe+=8;continue}for(;;){!Se&&He<Ne+32767&&(_e=ve(_e,Ne+32767),He=_e.length);var Ge=Te(oe,xe,Je),lt=ye>>>1==1?be[Ge]:De[Ge];if(xe+=lt&15,lt>>>=4,!(lt>>>8&255))_e[Ne++]=lt;else{if(lt==256)break;lt-=257;var ft=lt<8?0:lt-4>>2;ft>5&&(ft=0);var ht=Ne+G[lt];ft>0&&(ht+=Te(oe,xe,ft),xe+=ft),Ge=Te(oe,xe,Ye),lt=ye>>>1==1?Oe[Ge]:et[Ge],xe+=lt&15,lt>>>=4;var ut=lt<4?0:lt-2>>1,pt=ae[lt];for(ut>0&&(pt+=Te(oe,xe,ut),xe+=ut),!Se&&He<ht&&(_e=ve(_e,ht+100),He=_e.length);Ne<ht;)_e[Ne]=_e[Ne-pt],++Ne}}}return Se?[_e,xe+7>>>3]:[_e.slice(0,Ne),xe+7>>>3]}function Pt(oe,Se){var xe=oe.slice(oe.l||0),ye=Vt(xe,Se);return oe.l+=ye[1],ye[0]}function Ir(oe,Se){if(oe)typeof console<"u"&&console.error(Se);else throw new Error(Se)}function wr(oe,Se){var xe=oe;Aa(xe,0);var ye=[],_e=[],Ne={FileIndex:ye,FullPaths:_e};N(Ne,{root:Se.root});for(var He=xe.length-4;(xe[He]!=80||xe[He+1]!=75||xe[He+2]!=5||xe[He+3]!=6)&&He>=0;)--He;xe.l=He+4,xe.l+=4;var Je=xe.read_shift(2);xe.l+=6;var Ye=xe.read_shift(4);for(xe.l=Ye,He=0;He<Je;++He){xe.l+=20;var Ve=xe.read_shift(4),Ge=xe.read_shift(4),lt=xe.read_shift(2),ft=xe.read_shift(2),ht=xe.read_shift(2);xe.l+=8;var ut=xe.read_shift(4),pt=o(xe.slice(xe.l+lt,xe.l+lt+ft));xe.l+=lt+ft+ht;var Dt=xe.l;xe.l=ut+4,pn(xe,Ve,Ge,Ne,pt),xe.l=Dt}return Ne}function pn(oe,Se,xe,ye,_e){oe.l+=2;var Ne=oe.read_shift(2),He=oe.read_shift(2),Je=s(oe);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var Ye=oe.read_shift(4),Ve=oe.read_shift(4),Ge=oe.read_shift(4),lt=oe.read_shift(2),ft=oe.read_shift(2),ht="",ut=0;ut<lt;++ut)ht+=String.fromCharCode(oe[oe.l++]);if(ft){var pt=o(oe.slice(oe.l,oe.l+ft));(pt[21589]||{}).mt&&(Je=pt[21589].mt),((_e||{})[21589]||{}).mt&&(Je=_e[21589].mt)}oe.l+=ft;var Dt=oe.slice(oe.l,oe.l+Ve);switch(He){case 8:Dt=R(oe,Ge);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+He)}var ur=!1;Ne&8&&(Ye=oe.read_shift(4),Ye==134695760&&(Ye=oe.read_shift(4),ur=!0),Ve=oe.read_shift(4),Ge=oe.read_shift(4)),Ve!=Se&&Ir(ur,"Bad compressed size: "+Se+" != "+Ve),Ge!=xe&&Ir(ur,"Bad uncompressed size: "+xe+" != "+Ge),Ct(ye,ht,Dt,{unsafe:!0,mt:Je})}function bn(oe,Se){var xe=Se||{},ye=[],_e=[],Ne=aa(1),He=xe.compression?8:0,Je=0,Ye=0,Ve=0,Ge=0,lt=0,ft=oe.FullPaths[0],ht=ft,ut=oe.FileIndex[0],pt=[],Dt=0;for(Ye=1;Ye<oe.FullPaths.length;++Ye)if(ht=oe.FullPaths[Ye].slice(ft.length),ut=oe.FileIndex[Ye],!(!ut.size||!ut.content||ht=="Sh33tJ5")){var ur=Ge,xr=aa(ht.length);for(Ve=0;Ve<ht.length;++Ve)xr.write_shift(1,ht.charCodeAt(Ve)&127);xr=xr.slice(0,xr.l),pt[lt]=PK.buf(ut.content,0);var mn=ut.content;He==8&&(mn=U(mn)),Ne=aa(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,Je),Ne.write_shift(2,He),ut.mt?i(Ne,ut.mt):Ne.write_shift(4,0),Ne.write_shift(-4,pt[lt]),Ne.write_shift(4,mn.length),Ne.write_shift(4,ut.content.length),Ne.write_shift(2,xr.length),Ne.write_shift(2,0),Ge+=Ne.length,ye.push(Ne),Ge+=xr.length,ye.push(xr),Ge+=mn.length,ye.push(mn),Ne=aa(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,Je),Ne.write_shift(2,He),Ne.write_shift(4,0),Ne.write_shift(-4,pt[lt]),Ne.write_shift(4,mn.length),Ne.write_shift(4,ut.content.length),Ne.write_shift(2,xr.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,ur),Dt+=Ne.l,_e.push(Ne),Dt+=xr.length,_e.push(xr),++lt}return Ne=aa(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,lt),Ne.write_shift(2,lt),Ne.write_shift(4,Dt),Ne.write_shift(4,Ge),Ne.write_shift(2,0),uc([uc(ye),uc(_e),Ne])}var gr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ft(oe,Se){if(oe.ctype)return oe.ctype;var xe=oe.name||"",ye=xe.match(/\.([^\.]+)$/);return ye&&gr[ye[1]]||Se&&(ye=(xe=Se).match(/[\.\\]([^\.\\])+$/),ye&&gr[ye[1]])?gr[ye[1]]:"application/octet-stream"}function er(oe){for(var Se=HA(oe),xe=[],ye=0;ye<Se.length;ye+=76)xe.push(Se.slice(ye,ye+76));return xe.join(`\r
`)+`\r
`}function Da(oe){var Se=oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ve){var Ge=Ve.charCodeAt(0).toString(16).toUpperCase();return"="+(Ge.length==1?"0"+Ge:Ge)});Se=Se.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Se.charAt(0)==`
`&&(Se="=0D"+Se.slice(1)),Se=Se.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var xe=[],ye=Se.split(`\r
`),_e=0;_e<ye.length;++_e){var Ne=ye[_e];if(Ne.length==0){xe.push("");continue}for(var He=0;He<Ne.length;){var Je=76,Ye=Ne.slice(He,He+Je);Ye.charAt(Je-1)=="="?Je--:Ye.charAt(Je-2)=="="?Je-=2:Ye.charAt(Je-3)=="="&&(Je-=3),Ye=Ne.slice(He,He+Je),He+=Je,He<Ne.length&&(Ye+="="),xe.push(Ye)}}return xe.join(`\r
`)}function Kr(oe){for(var Se=[],xe=0;xe<oe.length;++xe){for(var ye=oe[xe];xe<=oe.length&&ye.charAt(ye.length-1)=="=";)ye=ye.slice(0,ye.length-1)+oe[++xe];Se.push(ye)}for(var _e=0;_e<Se.length;++_e)Se[_e]=Se[_e].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return Us(Se.join(`\r
`))}function Sn(oe,Se,xe){for(var ye="",_e="",Ne="",He,Je=0;Je<10;++Je){var Ye=Se[Je];if(!Ye||Ye.match(/^\s*$/))break;var Ve=Ye.match(/^(.*?):\s*([^\s].*)$/);if(Ve)switch(Ve[1].toLowerCase()){case"content-location":ye=Ve[2].trim();break;case"content-type":Ne=Ve[2].trim();break;case"content-transfer-encoding":_e=Ve[2].trim();break}}switch(++Je,_e.toLowerCase()){case"base64":He=Us(Gi(Se.slice(Je).join("")));break;case"quoted-printable":He=Kr(Se.slice(Je));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+_e)}var Ge=Ct(oe,ye.slice(xe.length),He,{unsafe:!0});Ne&&(Ge.ctype=Ne)}function Dn(oe,Se){if(I(oe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var xe=Se&&Se.root||"",ye=(yr&&Buffer.isBuffer(oe)?oe.toString("binary"):I(oe)).split(`\r
`),_e=0,Ne="";for(_e=0;_e<ye.length;++_e)if(Ne=ye[_e],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),xe||(xe=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,xe.length)!=xe))for(;xe.length>0&&(xe=xe.slice(0,xe.length-1),xe=xe.slice(0,xe.lastIndexOf("/")+1),Ne.slice(0,xe.length)!=xe););var He=(ye[1]||"").match(/boundary="(.*?)"/);if(!He)throw new Error("MAD cannot find boundary");var Je="--"+(He[1]||""),Ye=[],Ve=[],Ge={FileIndex:Ye,FullPaths:Ve};N(Ge);var lt,ft=0;for(_e=0;_e<ye.length;++_e){var ht=ye[_e];ht!==Je&&ht!==Je+"--"||(ft++&&Sn(Ge,ye.slice(lt,_e),xe),lt=_e)}return Ge}function Ot(oe,Se){var xe=Se||{},ye=xe.boundary||"SheetJS";ye="------="+ye;for(var _e=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ye.slice(2)+'"',"","",""],Ne=oe.FullPaths[0],He=Ne,Je=oe.FileIndex[0],Ye=1;Ye<oe.FullPaths.length;++Ye)if(He=oe.FullPaths[Ye].slice(Ne.length),Je=oe.FileIndex[Ye],!(!Je.size||!Je.content||He=="Sh33tJ5")){He=He.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Dt){return"_x"+Dt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Dt){return"_u"+Dt.charCodeAt(0).toString(16)+"_"});for(var Ve=Je.content,Ge=yr&&Buffer.isBuffer(Ve)?Ve.toString("binary"):I(Ve),lt=0,ft=Math.min(1024,Ge.length),ht=0,ut=0;ut<=ft;++ut)(ht=Ge.charCodeAt(ut))>=32&&ht<128&&++lt;var pt=lt>=ft*4/5;_e.push(ye),_e.push("Content-Location: "+(xe.root||"file:///C:/SheetJS/")+He),_e.push("Content-Transfer-Encoding: "+(pt?"quoted-printable":"base64")),_e.push("Content-Type: "+Ft(Je,He)),_e.push(""),_e.push(pt?Da(Ge):er(Ge))}return _e.push(ye+`--\r
`),_e.join(`\r
`)}function Yn(oe){var Se={};return N(Se,oe),Se}function Ct(oe,Se,xe,ye){var _e=ye&&ye.unsafe;_e||N(oe);var Ne=!_e&&kr.find(oe,Se);if(!Ne){var He=oe.FullPaths[0];Se.slice(0,He.length)==He?He=Se:(He.slice(-1)!="/"&&(He+="/"),He=(He+Se).replace("//","/")),Ne={name:a(Se),type:2},oe.FileIndex.push(Ne),oe.FullPaths.push(He),_e||kr.utils.cfb_gc(oe)}return Ne.content=xe,Ne.size=xe?xe.length:0,ye&&(ye.CLSID&&(Ne.clsid=ye.CLSID),ye.mt&&(Ne.mt=ye.mt),ye.ct&&(Ne.ct=ye.ct)),Ne}function ar(oe,Se){N(oe);var xe=kr.find(oe,Se);if(xe){for(var ye=0;ye<oe.FileIndex.length;++ye)if(oe.FileIndex[ye]==xe)return oe.FileIndex.splice(ye,1),oe.FullPaths.splice(ye,1),!0}return!1}function fr(oe,Se,xe){N(oe);var ye=kr.find(oe,Se);if(ye){for(var _e=0;_e<oe.FileIndex.length;++_e)if(oe.FileIndex[_e]==ye)return oe.FileIndex[_e].name=a(xe),oe.FullPaths[_e]=xe,!0}return!1}function Er(oe){_(oe,!0)}return t.find=A,t.read=T,t.parse=d,t.write=J,t.writeFile=X,t.utils={cfb_new:Yn,cfb_add:Ct,cfb_del:ar,cfb_mov:fr,cfb_gc:Er,ReadShift:Gp,CheckField:_M,prep_blob:Aa,bconcat:uc,use_zlib:E,_deflateRaw:Be,_inflateRaw:Pt,consts:Y},t}();function DK(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Oo(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function P3(e){for(var t=[],r=Oo(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var ny=new Date(1899,11,30,0,0,0);function xi(e,t){var r=e.getTime(),n=ny.getTime()+(e.getTimezoneOffset()-ny.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var tM=new Date,$K=ny.getTime()+(tM.getTimezoneOffset()-ny.getTimezoneOffset())*6e4,ZA=tM.getTimezoneOffset();function G1(e){var t=new Date;return t.setTime(e*24*60*60*1e3+$K),t.getTimezoneOffset()!==ZA&&t.setTime(t.getTime()+(t.getTimezoneOffset()-ZA)*6e4),t}function MK(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var eC=new Date("2017-02-19T19:06:09.000Z"),rM=isNaN(eC.getFullYear())?new Date("2/19/17"):eC,FK=rM.getFullYear()==2017;function va(e,t){var r=new Date(e);if(FK)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(rM.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Xu(e,t){if(yr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Pp(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Pp(W$(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Pp(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Pp(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Ea(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ea(e[r]));return t}function Cn(e,t){for(var r="";r.length<t;)r+=e;return r}function Vs(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var LK=["january","february","march","april","may","june","july","august","september","october","november","december"];function eh(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&LK.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var IK=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function nM(e){return e?e.content&&e.type?Xu(e.content,!0):e.data?Tp(e.data):e.asNodeBuffer&&yr?Tp(e.asNodeBuffer().toString("binary")):e.asBinary?Tp(e.asBinary()):e._data&&e._data.getContent?Tp(Xu(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function aM(e){if(!e)return null;if(e.data)return WA(e.data);if(e.asNodeBuffer&&yr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?WA(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function RK(e){return e&&e.name.slice(-4)===".bin"?aM(e):nM(e)}function ls(e,t){for(var r=e.FullPaths||Oo(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function D3(e,t){var r=ls(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Jn(e,t,r){if(!r)return RK(D3(e,t));if(!t)return null;try{return Jn(e,t)}catch{return null}}function qi(e,t,r){if(!r)return nM(D3(e,t));if(!t)return null;try{return qi(e,t)}catch{return null}}function BK(e,t,r){return aM(D3(e,t))}function tC(e){for(var t=e.FullPaths||Oo(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function UK(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return yr?n=gd(r):n=sK(r),kr.utils.cfb_add(e,t,n)}kr.utils.cfb_add(e,t,r)}else e.file(t,r)}function iM(e,t){switch(t.type){case"base64":return kr.read(e,{type:"base64"});case"binary":return kr.read(e,{type:"binary"});case"buffer":case"array":return kr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Op(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var sM=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,WK=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,rC=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,qK=/<[^>]*>/g,Za=sM.match(rC)?rC:qK,HK=/<\w*:/,zK=/<(\/?)\w+:/;function qt(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(WK),o=0,c="",u=0,d="",f="",h=1;if(s)for(u=0;u!=s.length;++u){for(f=s[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,c=f.slice(i+1+h,f.length-h),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var p=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[p]&&d.slice(o-3,o)=="ext")continue;n[p]=c,n[p.toLowerCase()]=c}}return n}function Ro(e){return e.replace(zK,"<$1")}var oM={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},YK=P3(oM),Cr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,c){return oM[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),VK=/[&<>'"]/g,GK=/[\u0000-\u001f]/g;function $3(e){var t=e+"";return t.replace(VK,function(r){return YK[r]}).replace(/\n/g,"<br/>").replace(GK,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var nC=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function gn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function n5(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function aC(e){var t=Dc(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function iC(e){return gd(e,"binary").toString("utf8")}var Xx="foo bar baz",cn=yr&&(iC(Xx)==n5(Xx)&&iC||aC(Xx)==n5(Xx)&&aC)||n5,Pp=yr?function(e){return gd(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},vm=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),lM=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),KK=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),XK=/<\/?(?:vt:)?variant>/g,JK=/<(?:vt:)([^>]*)>([\s\S]*)</;function sC(e,t){var r=qt(e),n=e.match(KK(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(XK,"").match(JK);s&&a.push({v:cn(s[2]),t:s[1]})}),a}var QK=/(^\s|\s$|\n)/;function ZK(e){return Oo(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function eX(e,t,r){return"<"+e+(r!=null?ZK(r):"")+(t!=null?(t.match(QK)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function M3(e){if(yr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return cn(xd(T3(e)));throw new Error("Bad input format: expected Buffer or string")}var ym=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,tX={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},rX=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function nX(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function aX(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var oC=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},lC=yr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:gd(t)})):oC(e)}:oC,cC=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(ol(e,a)));return n.join("").replace(hi,"")},F3=yr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(hi,""):cC(e,t,r)}:cC,uC=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},cM=yr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):uC(e,t,r)}:uC,dC=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Nf(e,a)));return n.join("")},Cg=yr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):dC(t,r,n)}:dC,uM=function(e,t){var r=Wi(e,t);return r>0?Cg(e,t+4,t+4+r-1):""},dM=uM,fM=function(e,t){var r=Wi(e,t);return r>0?Cg(e,t+4,t+4+r-1):""},hM=fM,pM=function(e,t){var r=2*Wi(e,t);return r>0?Cg(e,t+4,t+4+r-1):""},mM=pM,gM=function(t,r){var n=Wi(t,r);return n>0?F3(t,r+4,r+4+n):""},xM=gM,vM=function(e,t){var r=Wi(e,t);return r>0?Cg(e,t+4,t+4+r):""},yM=vM,bM=function(e,t){return nX(e,t)},ay=bM,wM=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};yr&&(dM=function(t,r){if(!Buffer.isBuffer(t))return uM(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},hM=function(t,r){if(!Buffer.isBuffer(t))return fM(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},mM=function(t,r){if(!Buffer.isBuffer(t))return pM(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},xM=function(t,r){if(!Buffer.isBuffer(t))return gM(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},yM=function(t,r){if(!Buffer.isBuffer(t))return vM(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},ay=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):bM(t,r)},wM=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Nf=function(e,t){return e[t]},ol=function(e,t){return e[t+1]*256+e[t]},iX=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Wi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},wu=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},sX=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Gp(e,t){var r="",n,a,i=[],s,o,c,u;switch(t){case"dbcs":if(u=this.l,yr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(ol(this,u)),u+=2;e*=2;break;case"utf8":r=Cg(this,this.l,this.l+e);break;case"utf16le":e*=2,r=F3(this,this.l,this.l+e);break;case"wstr":return Gp.call(this,e,"dbcs");case"lpstr-ansi":r=dM(this,this.l),e=4+Wi(this,this.l);break;case"lpstr-cp":r=hM(this,this.l),e=4+Wi(this,this.l);break;case"lpwstr":r=mM(this,this.l),e=4+2*Wi(this,this.l);break;case"lpp4":e=4+Wi(this,this.l),r=xM(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Wi(this,this.l),r=yM(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Nf(this,this.l+e++))!==0;)i.push(Kx(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=ol(this,this.l+e))!==0;)i.push(Kx(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Nf(this,u),this.l=u+1,o=Gp.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Kx(ol(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Nf(this,u),this.l=u+1,o=Gp.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Kx(Nf(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=Nf(this,this.l),this.l++,n;case 2:return n=(t==="i"?iX:ol)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?wu:sX)(this,this.l),this.l+=4,n):(a=Wi(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=ay(this,this.l):a=ay([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=cM(this,this.l,e);break}}return this.l+=e,r}var oX=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},lX=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},cX=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function uX(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)cX(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,oX(this,t,this.l);break;case 8:if(n=8,r==="f"){aX(this,t,this.l);break}case 16:break;case-4:n=4,lX(this,t,this.l);break}return this.l+=n,this}function _M(e,t){var r=cM(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Aa(e,t){e.l=t,e.read_shift=Gp,e.chk=_M,e.write_shift=uX}function Qa(e,t){e.l+=t}function aa(e){var t=Dc(e);return Aa(t,0),t}function Pl(e,t,r){if(e){var n,a,i;Aa(e,e.l||0);for(var s=e.length,o=0,c=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=uy[o]||uy[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;c=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=c,t(d,u,o))return}}}function J_(){var e=[],t=yr?256:2048,r=function(u){var d=aa(u);return Aa(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},s=function(){return a(),uc(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function Kp(e,t,r){var n=Ea(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function fC(e,t,r){var n=Ea(e);return n.s=Kp(n.s,t.s,r),n.e=Kp(n.e,t.s,r),n}function Xp(e,t){if(e.cRel&&e.c<0)for(e=Ea(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ea(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Xt(e);return!e.cRel&&e.cRel!=null&&(r=hX(r)),!e.rRel&&e.rRel!=null&&(r=dX(r)),r}function a5(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+sa(e.s.c)+":"+(e.e.cRel?"":"$")+sa(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Oa(e.s.r)+":"+(e.e.rRel?"":"$")+Oa(e.e.r):Xp(e.s,t.biff)+":"+Xp(e.e,t.biff)}function L3(e){return parseInt(fX(e),10)-1}function Oa(e){return""+(e+1)}function dX(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function fX(e){return e.replace(/\$(\d+)$/,"$1")}function I3(e){for(var t=pX(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function sa(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function hX(e){return e.replace(/^([A-Z])/,"$$$1")}function pX(e){return e.replace(/^\$([A-Z])/,"$1")}function mX(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function li(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Xt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Gh(e){var t=e.indexOf(":");return t==-1?{s:li(e),e:li(e)}:{s:li(e.slice(0,t)),e:li(e.slice(t+1))}}function Sr(e,t){return typeof t>"u"||typeof t=="number"?Sr(e.s,e.e):(typeof e!="string"&&(e=Xt(e)),typeof t!="string"&&(t=Xt(t)),e==t?e:e+":"+t)}function On(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function hC(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=bs(e.z,r?xi(t):t)}catch{}try{return e.w=bs((e.XF||{}).numFmtId||(r?14:0),r?xi(t):t)}catch{return""+t}}function jl(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?bd[e.v]||e.v:t==null?hC(e,e.v):hC(e,t))}function Gc(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function kM(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?li(n.origin):n.origin;s=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=On(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},m=s+f,g=o+h;if(u.s.r>m&&(u.s.r=m),u.s.c>g&&(u.s.c=g),u.e.r<m&&(u.e.r=m),u.e.c<g&&(u.e.c=g),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||rr[14],n.cellDates?(p.t="d",p.w=bs(p.z,xi(p.v))):(p.t="n",p.v=xi(p.v),p.w=bs(p.z,p.v))):p.t="s";if(a)i[m]||(i[m]=[]),i[m][g]&&i[m][g].z&&(p.z=i[m][g].z),i[m][g]=p;else{var x=Xt({c:g,r:m});i[x]&&i[x].z&&(p.z=i[x].z),i[x]=p}}}return u.s.c<1e7&&(i["!ref"]=Sr(u)),i}function Kh(e,t){return kM(null,e,t)}function gX(e){return e.read_shift(4,"i")}function Ja(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function xX(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function R3(e,t){var r=e.l,n=e.read_shift(1),a=Ja(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(xX(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var vX=R3;function ks(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function vd(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var yX=Ja;function B3(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var bX=Ja,Q_=B3;function U3(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?ay([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):wu(t,0)>>2;return r?a/100:a}function SM(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var yd=SM;function Ga(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function wX(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Ru[a];u&&(t.rgb=wm(u));break;case 2:t.rgb=wm([s,o,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function _X(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function NM(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function kX(e){return NM(e,1)}function SX(e){return NM(e,2)}var W3=2,Ci=3,Jx=11,pC=12,iy=19,Qx=64,NX=65,jX=71,AX=4108,CX=4126,ga=80,jM=81,TX=[ga,jM],EX={1:{n:"CodePage",t:W3},2:{n:"Category",t:ga},3:{n:"PresentationFormat",t:ga},4:{n:"ByteCount",t:Ci},5:{n:"LineCount",t:Ci},6:{n:"ParagraphCount",t:Ci},7:{n:"SlideCount",t:Ci},8:{n:"NoteCount",t:Ci},9:{n:"HiddenCount",t:Ci},10:{n:"MultimediaClipCount",t:Ci},11:{n:"ScaleCrop",t:Jx},12:{n:"HeadingPairs",t:AX},13:{n:"TitlesOfParts",t:CX},14:{n:"Manager",t:ga},15:{n:"Company",t:ga},16:{n:"LinksUpToDate",t:Jx},17:{n:"CharacterCount",t:Ci},19:{n:"SharedDoc",t:Jx},22:{n:"HyperlinksChanged",t:Jx},23:{n:"AppVersion",t:Ci,p:"version"},24:{n:"DigSig",t:NX},26:{n:"ContentType",t:ga},27:{n:"ContentStatus",t:ga},28:{n:"Language",t:ga},29:{n:"Version",t:ga},255:{},2147483648:{n:"Locale",t:iy},2147483651:{n:"Behavior",t:iy},1919054434:{}},OX={1:{n:"CodePage",t:W3},2:{n:"Title",t:ga},3:{n:"Subject",t:ga},4:{n:"Author",t:ga},5:{n:"Keywords",t:ga},6:{n:"Comments",t:ga},7:{n:"Template",t:ga},8:{n:"LastAuthor",t:ga},9:{n:"RevNumber",t:ga},10:{n:"EditTime",t:Qx},11:{n:"LastPrinted",t:Qx},12:{n:"CreatedDate",t:Qx},13:{n:"ModifiedDate",t:Qx},14:{n:"PageCount",t:Ci},15:{n:"WordCount",t:Ci},16:{n:"CharCount",t:Ci},17:{n:"Thumbnail",t:jX},18:{n:"Application",t:ga},19:{n:"DocSecurity",t:Ci},255:{},2147483648:{n:"Locale",t:iy},2147483651:{n:"Behavior",t:iy},1919054434:{}},mC={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},PX=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function DX(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var $X=DX([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ru=Ea($X),bd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},AM={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},gC={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function MX(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function FX(e){var t=MX();if(!e||!e.match)return t;var r={};if((e.match(Za)||[]).forEach(function(n){var a=qt(n);switch(a[0].replace(HK,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[gC[a.ContentType]]!==void 0&&t[gC[a.ContentType]].push(a.PartName);break}}),t.xmlns!==tX.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Cf={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Z_(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Jp(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Za)||[]).forEach(function(a){var i=qt(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:Op(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}var LX="application/vnd.oasis.opendocument.spreadsheet";function IX(e,t){for(var r=M3(e),n,a;n=ym.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=qt(n[0],!1),a.path=="/"&&a.type!==LX)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Qp=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],RX=function(){for(var e=new Array(Qp.length),t=0;t<Qp.length;++t){var r=Qp[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function CM(e){var t={};e=cn(e);for(var r=0;r<Qp.length;++r){var n=Qp[r],a=e.match(RX[r]);a!=null&&a.length>0&&(t[n[1]]=Cr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=va(t[n[1]]))}return t}var BX=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function TM(e,t,r,n){var a=[];if(typeof e=="string")a=sC(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var s=typeof t=="string"?sC(t,n).map(function(d){return d.v}):t,o=0,c=0;if(s.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=s.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=s.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=s.slice(o,o+c);break}o+=c}}function UX(e,t,r){var n={};return t||(t={}),e=cn(e),BX.forEach(function(a){var i=(e.match(vm(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Cr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&TM(n.HeadingPairs,n.TitlesOfParts,t,r),t}var WX=/<[^>]+>[^<]*/g;function qX(e,t){var r={},n="",a=e.match(WX);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=qt(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Cr(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var c=s.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Cr(d);break;case"bool":r[n]=gn(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=va(d);break;case"cy":case"error":r[n]=Cr(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,c)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var HX={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},i5;function zX(e,t,r){i5||(i5=P3(HX)),t=i5[t]||t,e[t]=r}function q3(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function EM(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function OM(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function PM(e,t,r){return t===31?OM(e):EM(e,t,r)}function ek(e,t,r){return PM(e,t,r===!1?0:4)}function YX(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return PM(e,t,0)}function VX(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(hi,""),e.l-a&2&&(e.l+=2)}return r}function GX(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(hi,"");return r}function KX(e){var t=e.l,r=sy(e,jM);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=sy(e,Ci);return[r,n]}function XX(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(KX(e));return r}function xC(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(hi,"").replace(Ep,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function DM(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function JX(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function sy(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==pC&&n!==t&&TX.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===pC?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return EM(e,n,4).replace(hi,"");case 31:return OM(e);case 64:return q3(e);case 65:return DM(e);case 71:return JX(e);case 80:return ek(e,n,!i.raw).replace(hi,"");case 81:return YX(e,n).replace(hi,"");case 4108:return XX(e);case 4126:case 4127:return n==4127?VX(e):GX(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function vC(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,c=-1,u={};for(s=0;s!=a;++s){var d=e.read_shift(4),f=e.read_shift(4);i[s]=[d,f+r]}i.sort(function(b,y){return b[1]-y[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var m=t[i[s][0]];if(h[m.n]=sy(e,m.t,{raw:!0}),m.p==="version"&&(h[m.n]=String(h[m.n]>>16)+"."+("0000"+String(h[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(h[m.n]){case 0:h[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:qs(o=h[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[m.n])}}else if(i[s][0]===1){if(o=h.CodePage=sy(e,W3),qs(o),c!==-1){var g=e.l;e.l=i[c][1],u=xC(e,o),e.l=g}}else if(i[s][0]===0){if(o===0){c=s,e.l=i[s+1][1];continue}u=xC(e,o)}else{var x=u[i[s][0]],v;switch(e[e.l]){case 65:e.l+=4,v=DM(e);break;case 30:e.l+=4,v=ek(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,v=ek(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,v=e.read_shift(4,"i");break;case 19:e.l+=4,v=e.read_shift(4);break;case 5:e.l+=4,v=e.read_shift(8,"f");break;case 11:e.l+=4,v=Fn(e,4);break;case 64:e.l+=4,v=va(q3(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[x]=v}}return e.l=r+n,h}function yC(e,t,r){var n=e.content;if(!n)return{};Aa(n,0);var a,i,s,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==kr.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),c=n.read_shift(4));var f=vC(n,t),h={SystemIdentifier:u};for(var p in f)h[p]=f[p];if(h.FMTID=i,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var m;try{m=vC(n,null)}catch{}for(p in m)h[p]=m[p];return h.FMTID=[i,s],h}function tc(e,t){return e.read_shift(t),null}function QX(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Fn(e,t){return e.read_shift(t)===1}function Qn(e){return e.read_shift(2,"u")}function $M(e,t){return QX(e,t,Qn)}function ZX(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Tg(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function eJ(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,c={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*s),n&&(e.l+=o),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Ju(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Eg(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Ju(e,n,r)}function wd(e,t,r){if(r.biff>5)return Eg(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function tJ(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function rJ(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(hi,"");return n&&(e.l+=24),a}function nJ(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(hi,"");return r+s}function aJ(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return rJ(e);case"0303000000000000c000000000000046":return nJ(e);default:throw new Error("Unsupported Moniker "+r)}}function Zx(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(hi,""):"";return r}function iJ(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,c,u="",d,f;a&16&&(i=Zx(e,r-e.l)),a&128&&(s=Zx(e,r-e.l)),(a&257)===257&&(o=Zx(e,r-e.l)),(a&257)===1&&(c=aJ(e,r-e.l)),a&8&&(u=Zx(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=q3(e)),e.l=r;var h=s||o||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return d&&(p.guid=d),f&&(p.time=f),i&&(p.Tooltip=i),p}function MM(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function FM(e,t){var r=MM(e);return r[3]=0,r}function Bo(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function sJ(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function oJ(e,t,r){return t===0?"":wd(e,t,r)}function lJ(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function LM(e){var t=e.read_shift(2),r=U3(e);return[t,r]}function cJ(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Tg(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function K1(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function IM(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var uJ=IM;function RM(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function dJ(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function fJ(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Wa(e){e.l+=2,e.l+=e.read_shift(2)}var hJ={0:Wa,4:Wa,5:Wa,6:Wa,7:fJ,8:Wa,9:Wa,10:Wa,11:Wa,12:Wa,13:dJ,14:Wa,15:Wa,16:Wa,17:Wa,18:Wa,19:Wa,20:Wa,21:RM};function pJ(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(hJ[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function ev(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function mJ(e,t){return t===0||e.read_shift(2),1200}function gJ(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=wd(e,0,r);return e.read_shift(t+n-e.l),a}function xJ(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function vJ(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=Tg(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function yJ(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(eJ(e));return i.Count=n,i.Unique=a,i}function bJ(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function wJ(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function _J(e){var t=sJ(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function kJ(e){return e.read_shift(2),e.read_shift(4)}function bC(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function SJ(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:c,TabRatio:u}}function NJ(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function jJ(){}function AJ(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Tg(e,0,r),n}function CJ(e){var t=Bo(e);return t.isst=e.read_shift(4),t}function TJ(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Bo(e);r.biff==2&&e.l++;var i=Eg(e,n-e.l,r);return a.val=i,a}function EJ(e,t,r){var n=e.read_shift(2),a=wd(e,0,r);return[n,a]}var OJ=wd;function wC(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c}}}function PJ(e){var t=e.read_shift(2),r=e.read_shift(2),n=LM(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function DJ(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(LM(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function $J(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function MJ(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return a.patternType=PX[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function FJ(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=MJ(e,t,n.fStyle,r),n}function LJ(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function _C(e,t,r){var n=Bo(e);(r.biff==2||t==9)&&++e.l;var a=ZX(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function IJ(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Bo(e),a=Ga(e);return n.val=a,n}var kC=oJ;function RJ(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=Ju(e,i),o=[];n>e.l;)o.push(Eg(e));return[i,a,s,o]}function SC(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=cJ(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var BJ=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function NC(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=Ju(e,s,r);a&32&&(u=BJ[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||o===0||!(d>0)?[]:wte(e,d,r,o);return{chKey:i,Name:u,itab:c,rgce:f}}function BM(e,t,r){if(r.biff<8)return UJ(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(lJ(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function UJ(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Tg(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function WJ(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=Ju(e,n,r),s=Ju(e,a,r);return[i,s]}function qJ(e,t,r){var n=IM(e);e.l++;var a=e.read_shift(1);return t-=8,[_te(e,t,r),a,n]}function jC(e,t,r){var n=uJ(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,yte(e,t,r)]}function HJ(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function zJ(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=wd(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function YJ(e,t,r){return zJ(e,t,r)}function VJ(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(K1(e));return r}function GJ(e,t,r){if(r&&r.biff<8)return XJ(e,t,r);var n=RM(e),a=pJ(e,t-22,n[1]);return{cmo:n,ft:a}}var KJ={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function XJ(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((KJ[n]||Qa)(e,t,r)),{cmo:[a,n,i],ft:s}}function JJ(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=tJ(e,6,r);var o=e.read_shift(2);e.read_shift(2),Qn(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=Ju(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function QJ(e,t){var r=K1(e);e.l+=16;var n=iJ(e,t-24);return[r,n]}function ZJ(e,t){e.read_shift(2);var r=K1(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(hi,""),[r,n]}function eQ(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=mC[r]||r,r=e.read_shift(2),t[1]=mC[r]||r,t}function tQ(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(FM(e));return r}function rQ(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(FM(e));return r}function nQ(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function UM(e,t,r){if(!r.cellStyles)return Qa(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function aQ(e,t){var r={};return t<32||(e.l+=16,r.header=Ga(e),r.footer=Ga(e),e.l+=2),r}function iQ(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var sQ=Bo,oQ=$M,lQ=Eg;function cQ(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function uQ(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Bo(e);++e.l;var a=wd(e,t-7,r);return n.t="str",n.val=a,n}function dQ(e){var t=Bo(e);++e.l;var r=Ga(e);return t.t="n",t.val=r,t}function fQ(e){var t=Bo(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function hQ(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function pQ(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function mQ(e,t,r){var n=e.l+t,a=Bo(e),i=e.read_shift(2),s=Ju(e,i,r);return e.l=n,a.t="str",a.val=s,a}var gQ=[2,3,48,49,131,139,140,245],AC=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=P3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],d=Dc(1);switch(c.type){case"base64":d=Us(Gi(o));break;case"binary":d=Us(o);break;case"buffer":case"array":d=o;break}Aa(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,m=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,x=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(x=d.read_shift(2));var v=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),m&&(d.l+=36);for(var y=[],C={},S=Math.min(d.length,f==2?521:x-10-(p?264:0)),T=m?32:11;d.l<S&&d[d.l]!=13;)switch(C={},C.name=X_.utils.decode(b,d.slice(d.l,d.l+T)).replace(/[\u0000\r\n].*$/g,""),d.l+=T,C.type=String.fromCharCode(d.read_shift(1)),f!=2&&!m&&(C.offset=d.read_shift(4)),C.len=d.read_shift(1),f==2&&(C.offset=d.read_shift(2)),C.dec=d.read_shift(1),C.name.length&&y.push(C),f!=2&&(d.l+=m?13:14),C.type){case"B":(!p||C.len!=8)&&c.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+C.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var N=0,w=0;for(u[0]=[],w=0;w!=y.length;++w)u[0][w]=y[w].name;for(;g-- >0;){if(d[d.l]===42){d.l+=v;continue}for(++d.l,u[++N]=[],w=0,w=0;w!=y.length;++w){var _=d.slice(d.l,d.l+y[w].len);d.l+=y[w].len,Aa(_,0);var P=X_.utils.decode(b,_);switch(y[w].type){case"C":P.trim().length&&(u[N][w]=P.replace(/\s+$/,""));break;case"D":P.length===8?u[N][w]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):u[N][w]=P;break;case"F":u[N][w]=parseFloat(P.trim());break;case"+":case"I":u[N][w]=m?_.read_shift(-4,"i")^2147483648:_.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":u[N][w]=!0;break;case"N":case"F":u[N][w]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[N][w]="##MEMO##"+(m?parseInt(P.trim(),10):_.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(u[N][w]=+P||0);break;case"@":u[N][w]=new Date(_.read_shift(-8,"f")-621356832e5);break;case"T":u[N][w]=new Date((_.read_shift(4)-2440588)*864e5+_.read_shift(4));break;case"Y":u[N][w]=_.read_shift(4,"i")/1e4+_.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[N][w]=-_.read_shift(-8,"f");break;case"B":if(p&&y[w].len==8){u[N][w]=_.read_shift(8,"f");break}case"G":case"P":_.l+=y[w].len;break;case"0":if(y[w].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[w].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=y,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Kh(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(o,c){try{return Gc(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var u=c||{};if(+u.codepage>=0&&qs(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=J_(),f=sk(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),m=o["!cols"]||[],g=0,x=0,v=0,b=1;for(g=0;g<h.length;++g){if(((m[g]||{}).DBF||{}).name){h[g]=m[g].DBF.name,++v;continue}if(h[g]!=null){if(++v,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(x=0;x<1024;++x)if(h.indexOf(h[g]+"_"+x)==-1){h[g]+="_"+x;break}}}}var y=On(o["!ref"]),C=[],S=[],T=[];for(g=0;g<=y.e.c-y.s.c;++g){var N="",w="",_=0,P=[];for(x=0;x<p.length;++x)p[x][g]!=null&&P.push(p[x][g]);if(P.length==0||h[g]==null){C[g]="?";continue}for(x=0;x<P.length;++x){switch(typeof P[x]){case"number":w="B";break;case"string":w="C";break;case"boolean":w="L";break;case"object":w=P[x]instanceof Date?"D":"C";break;default:w="C"}_=Math.max(_,String(P[x]).length),N=N&&N!=w?"C":w}_>250&&(_=250),w=((m[g]||{}).DBF||{}).type,w=="C"&&m[g].DBF.len>_&&(_=m[g].DBF.len),N=="B"&&w=="N"&&(N="N",T[g]=m[g].DBF.dec,_=m[g].DBF.len),S[g]=N=="C"||w=="N"?_:i[N]||0,b+=S[g],C[g]=N}var A=d.next(32);for(A.write_shift(4,318902576),A.write_shift(4,p.length),A.write_shift(2,296+32*v),A.write_shift(2,b),g=0;g<4;++g)A.write_shift(4,0);for(A.write_shift(4,0|(+t[B$]||3)<<8),g=0,x=0;g<h.length;++g)if(h[g]!=null){var j=d.next(32),F=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);j.write_shift(1,F,"sbcs"),j.write_shift(1,C[g]=="?"?"C":C[g],"sbcs"),j.write_shift(4,x),j.write_shift(1,S[g]||i[C[g]]||0),j.write_shift(1,T[g]||0),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(1,0),j.write_shift(4,0),j.write_shift(4,0),x+=S[g]||i[C[g]]||0}var M=d.next(264);for(M.write_shift(4,13),g=0;g<65;++g)M.write_shift(4,0);for(g=0;g<p.length;++g){var H=d.next(b);for(H.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(C[x]){case"L":H.write_shift(1,p[g][x]==null?63:p[g][x]?84:70);break;case"B":H.write_shift(8,p[g][x]||0,"f");break;case"N":var q="0";for(typeof p[g][x]=="number"&&(q=p[g][x].toFixed(T[x]||0)),v=0;v<S[x]-q.length;++v)H.write_shift(1,32);H.write_shift(1,q,"sbcs");break;case"D":p[g][x]?(H.write_shift(4,("0000"+p[g][x].getFullYear()).slice(-4),"sbcs"),H.write_shift(2,("00"+(p[g][x].getMonth()+1)).slice(-2),"sbcs"),H.write_shift(2,("00"+p[g][x].getDate()).slice(-2),"sbcs")):H.write_shift(8,"00000000","sbcs");break;case"C":var Y=String(p[g][x]!=null?p[g][x]:"").slice(0,S[x]);for(H.write_shift(1,Y,"sbcs"),v=0;v<S[x]-Y.length;++v)H.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),xQ=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Oo(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var m=e[p];return typeof m=="number"?qA(m):m},n=function(h,p,m){var g=p.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return g==59?h:qA(g)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(Gi(h),p);case"binary":return i(h,p);case"buffer":return i(yr&&Buffer.isBuffer(h)?h.toString("binary"):xd(h),p);case"array":return i(Xu(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var m=h.split(/[\n\r]+/),g=-1,x=-1,v=0,b=0,y=[],C=[],S=null,T={},N=[],w=[],_=[],P=0,A;for(+p.codepage>=0&&qs(+p.codepage);v!==m.length;++v){P=0;var j=m[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),F=j.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),M=F[0],H;if(j.length>0)switch(M){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&C.push(j.slice(3).replace(/;;/g,";"));break;case"C":var q=!1,Y=!1,X=!1,I=!1,J=-1,Q=-1;for(b=1;b<F.length;++b)switch(F[b].charAt(0)){case"A":break;case"X":x=parseInt(F[b].slice(1))-1,Y=!0;break;case"Y":for(g=parseInt(F[b].slice(1))-1,Y||(x=0),A=y.length;A<=g;++A)y[A]=[];break;case"K":H=F[b].slice(1),H.charAt(0)==='"'?H=H.slice(1,H.length-1):H==="TRUE"?H=!0:H==="FALSE"?H=!1:isNaN(Vs(H))?isNaN(eh(H).getDate())||(H=va(H)):(H=Vs(H),S!==null&&Vh(S)&&(H=G1(H))),q=!0;break;case"E":I=!0;var E=Ff(F[b].slice(1),{r:g,c:x});y[g][x]=[y[g][x],E];break;case"S":X=!0,y[g][x]=[y[g][x],"S5S"];break;case"G":break;case"R":J=parseInt(F[b].slice(1))-1;break;case"C":Q=parseInt(F[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+j)}if(q&&(y[g][x]&&y[g][x].length==2?y[g][x][0]=H:y[g][x]=H,S=null),X){if(I)throw new Error("SYLK shared formula cannot have own formula");var R=J>-1&&y[J][Q];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");y[g][x][1]=JM(R[1],{r:g-J,c:x-Q})}break;case"F":var U=0;for(b=1;b<F.length;++b)switch(F[b].charAt(0)){case"X":x=parseInt(F[b].slice(1))-1,++U;break;case"Y":for(g=parseInt(F[b].slice(1))-1,A=y.length;A<=g;++A)y[A]=[];break;case"M":P=parseInt(F[b].slice(1))/20;break;case"F":break;case"G":break;case"P":S=C[parseInt(F[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(_=F[b].slice(1).split(" "),A=parseInt(_[0],10);A<=parseInt(_[1],10);++A)P=parseInt(_[2],10),w[A-1]=P===0?{hidden:!0}:{wch:P},th(w[A-1]);break;case"C":x=parseInt(F[b].slice(1))-1,w[x]||(w[x]={});break;case"R":g=parseInt(F[b].slice(1))-1,N[g]||(N[g]={}),P>0?(N[g].hpt=P,N[g].hpx=_m(P)):P===0&&(N[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+j)}U<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+j)}}return N.length>0&&(T["!rows"]=N),w.length>0&&(T["!cols"]=w),p&&p.sheetRows&&(y=y.slice(0,p.sheetRows)),[y,T]}function s(h,p){var m=a(h,p),g=m[0],x=m[1],v=Kh(g,p);return Oo(x).forEach(function(b){v[b]=x[b]}),v}function o(h,p){return Gc(s(h,p),p)}function c(h,p,m,g){var x="C;Y"+(m+1)+";X"+(g+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+nee(h.f,{r:m,c:g}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(h,p){p.forEach(function(m,g){var x="F;W"+(g+1)+" "+(g+1)+" ";m.hidden?x+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=ly(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=cy(m.wpx)),typeof m.wch=="number"&&(x+=Math.round(m.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function d(h,p){p.forEach(function(m,g){var x="F;";m.hidden?x+="M0;":m.hpt?x+="M"+20*m.hpt+";":m.hpx&&(x+="M"+20*GM(m.hpx)+";"),x.length>2&&h.push(x+"R"+(g+1))})}function f(h,p){var m=["ID;PWXL;N;E"],g=[],x=On(h["!ref"]),v,b=Array.isArray(h),y=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),h["!cols"]&&u(m,h["!cols"]),h["!rows"]&&d(m,h["!rows"]),m.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var C=x.s.r;C<=x.e.r;++C)for(var S=x.s.c;S<=x.e.c;++S){var T=Xt({r:C,c:S});v=b?(h[C]||[])[S]:h[T],!(!v||v.v==null&&(!v.f||v.F))&&g.push(c(v,h,C,S))}return m.join(y)+y+g.join(y)+y+"E"+y}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),vQ=function(){function e(i,s){switch(s.type){case"base64":return t(Gi(i),s);case"binary":return t(i,s);case"buffer":return t(yr&&Buffer.isBuffer(i)?i.toString("binary"):xd(i),s);case"array":return t(Xu(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=o[d].trim().split(","),p=h[0],m=h[1];++d;for(var g=o[d]||"";(g.match(/["]/g)||[]).length&1&&d<o.length-1;)g+=`
`+o[++d];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(Vs(m))?isNaN(eh(m).getDate())?f[c][u]=m:f[c][u]=va(m):f[c][u]=Vs(m),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return Kh(e(i,s),s)}function n(i,s){return Gc(r(i,s),s)}var a=function(){var i=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},s=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=On(c["!ref"]),f,h=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){s(u,-1,0,"BOT");for(var m=d.s.c;m<=d.e.c;++m){var g=Xt({r:p,c:m});if(f=h?(c[p]||[])[m]:c[g],!f){s(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,x,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=bs(f.z||rr[14],xi(va(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var v=`\r
`,b=u.join(v);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),yQ=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),m=-1,g=-1,x=0,v=[];x!==p.length;++x){var b=p[x].trim().split(":");if(b[0]==="cell"){var y=li(b[1]);if(v.length<=y.r)for(m=v.length;m<=y.r;++m)v[m]||(v[m]=[]);switch(m=y.r,g=y.c,b[2]){case"t":v[m][g]=e(b[3]);break;case"v":v[m][g]=+b[3];break;case"vtf":var C=b[b.length-1];case"vtc":switch(b[3]){case"nl":v[m][g]=!!+b[4];break;default:v[m][g]=+b[4];break}b[2]=="vtf"&&(v[m][g]=[v[m][g],C])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function n(f,h){return Kh(r(f,h),h)}function a(f,h){return Gc(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],m,g="",x=Gh(f["!ref"]),v=Array.isArray(f),b=x.s.r;b<=x.e.r;++b)for(var y=x.s.c;y<=x.e.c;++y)if(g=Xt({r:b,c:y}),m=v?(f[b]||[])[y]:f[g],!(!m||m.v==null||m.t==="z")){switch(p=["cell",g,"t"],m.t){case"s":case"str":p.push(t(m.v));break;case"n":m.f?(p[2]="vtf",p[3]="n",p[4]=m.v,p[5]=t(m.f)):(p[2]="v",p[3]=m.v);break;case"b":p[2]="vt"+(m.f?"f":"c"),p[3]="nl",p[4]=m.v?"1":"0",p[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var C=xi(va(m.v));p[2]="vtc",p[3]="nd",p[4]=""+C,p[5]=m.w||bs(m.z||rr[14],C);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,s,o,s,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),bm=function(){function e(d,f,h,p,m){m.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(Vs(d))?isNaN(eh(d).getDate())?f[h][p]=d:f[h][p]=va(d):f[h][p]=Vs(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var m=d.split(/[\r\n]/),g=m.length-1;g>=0&&m[g].length===0;)--g;for(var x=10,v=0,b=0;b<=g;++b)v=m[b].indexOf(" "),v==-1?v=m[b].length:v++,x=Math.max(x,v);for(b=0;b<=g;++b){p[b]=[];var y=0;for(e(m[b].slice(0,x).trim(),p,b,y,h),y=1;y<=(m[b].length-x)/10+1;++y)e(m[b].slice(x+(y-1)*10,x+y*10).trim(),p,b,y,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,m=0;p<d.length;++p)(m=d.charCodeAt(p))==34?h=!h:!h&&m in r&&(f[m]=(f[m]||0)+1);m=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p]);if(!m.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p])}return m.sort(function(g,x){return g[0]-x[0]||n[g[1]]-n[x[1]]}),r[m.pop()[1]]||44}function i(d,f){var h=f||{},p="",m=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var x=0,v=0,b=0,y=0,C=0,S=p.charCodeAt(0),T=!1,N=0,w=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var _=h.dateNF!=null?EK(h.dateNF):null;function P(){var A=d.slice(y,C),j={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)j.t="z";else if(h.raw)j.t="s",j.v=A;else if(A.trim().length===0)j.t="s",j.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(j.t="s",j.v=A.slice(2,-1).replace(/""/g,'"')):iee(A)?(j.t="n",j.f=A.slice(1)):(j.t="s",j.v=A);else if(A=="TRUE")j.t="b",j.v=!0;else if(A=="FALSE")j.t="b",j.v=!1;else if(!isNaN(b=Vs(A)))j.t="n",h.cellText!==!1&&(j.w=A),j.v=b;else if(!isNaN(eh(A).getDate())||_&&A.match(_)){j.z=h.dateNF||rr[14];var F=0;_&&A.match(_)&&(A=OK(A,h.dateNF,A.match(_)||[]),F=1),h.cellDates?(j.t="d",j.v=va(A,F)):(j.t="n",j.v=xi(va(A,F))),h.cellText!==!1&&(j.w=bs(j.z,j.v instanceof Date?xi(j.v):j.v)),h.cellNF||delete j.z}else j.t="s",j.v=A;if(j.t=="z"||(h.dense?(m[x]||(m[x]=[]),m[x][v]=j):m[Xt({c:v,r:x})]=j),y=C+1,w=d.charCodeAt(y),g.e.c<v&&(g.e.c=v),g.e.r<x&&(g.e.r=x),N==S)++v;else if(v=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;C<d.length;++C)switch(N=d.charCodeAt(C)){case 34:w===34&&(T=!T);break;case S:case 10:case 13:if(!T&&P())break e;break}return C-y>0&&P(),m["!ref"]=Sr(g),m}function s(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Kh(t(d,f),f)}function o(d,f){var h="",p=f.type=="string"?[0,0,0,0]:J3(d,f);switch(f.type){case"base64":h=Gi(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):(f.codepage,h=yr&&Buffer.isBuffer(d)?d.toString("binary"):xd(d));break;case"array":h=Xu(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=cn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=cn(h):f.type=="binary",h.slice(0,19)=="socialcalc:version:"?yQ.to_sheet(f.type=="string"?h:cn(h),f):s(h,f)}function c(d,f){return Gc(o(d,f),f)}function u(d){for(var f=[],h=On(d["!ref"]),p,m=Array.isArray(d),g=h.s.r;g<=h.e.r;++g){for(var x=[],v=h.s.c;v<=h.e.c;++v){var b=Xt({r:g,c:v});if(p=m?(d[g]||[])[v]:d[b],!p||p.v==null){x.push("          ");continue}for(var y=(p.w||(jl(p),p.w)||"").slice(0,10);y.length<10;)y+=" ";x.push(y+(v===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}();function bQ(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=xQ.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return bm.to_workbook(e,t)}}var Zp=function(){function e(E,R,U){if(E){Aa(E,E.l||0);for(var z=U.Enum||J;E.l<E.length;){var G=E.read_shift(2),ae=z[G]||z[65535],ee=E.read_shift(2),W=E.l+ee,Z=ae.f&&ae.f(E,ee,U);if(E.l=W,R(Z,ae,G))return}}}function t(E,R){switch(R.type){case"base64":return r(Us(Gi(E)),R);case"binary":return r(Us(E),R);case"buffer":case"array":return r(E,R)}throw"Unsupported type "+R.type}function r(E,R){if(!E)return E;var U=R||{},z=U.dense?[]:{},G="Sheet1",ae="",ee=0,W={},Z=[],re=[],O={s:{r:0,c:0},e:{r:0,c:0}},de=U.sheetRows||0;if(E[2]==0&&(E[3]==8||E[3]==9)&&E.length>=16&&E[14]==5&&E[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(E[2]==2)U.Enum=J,e(E,function(ne,Te,Ee){switch(Ee){case 0:U.vers=ne,ne>=4096&&(U.qpro=!0);break;case 6:O=ne;break;case 204:ne&&(ae=ne);break;case 222:ae=ne;break;case 15:case 51:U.qpro||(ne[1].v=ne[1].v.slice(1));case 13:case 14:case 16:Ee==14&&(ne[2]&112)==112&&(ne[2]&15)>1&&(ne[2]&15)<15&&(ne[1].z=U.dateNF||rr[14],U.cellDates&&(ne[1].t="d",ne[1].v=G1(ne[1].v))),U.qpro&&ne[3]>ee&&(z["!ref"]=Sr(O),W[G]=z,Z.push(G),z=U.dense?[]:{},O={s:{r:0,c:0},e:{r:0,c:0}},ee=ne[3],G=ae||"Sheet"+(ee+1),ae="");var $e=U.dense?(z[ne[0].r]||[])[ne[0].c]:z[Xt(ne[0])];if($e){$e.t=ne[1].t,$e.v=ne[1].v,ne[1].z!=null&&($e.z=ne[1].z),ne[1].f!=null&&($e.f=ne[1].f);break}U.dense?(z[ne[0].r]||(z[ne[0].r]=[]),z[ne[0].r][ne[0].c]=ne[1]):z[Xt(ne[0])]=ne[1];break}},U);else if(E[2]==26||E[2]==14)U.Enum=Q,E[2]==14&&(U.qpro=!0,E.l=0),e(E,function(ne,Te,Ee){switch(Ee){case 204:G=ne;break;case 22:ne[1].v=ne[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ne[3]>ee&&(z["!ref"]=Sr(O),W[G]=z,Z.push(G),z=U.dense?[]:{},O={s:{r:0,c:0},e:{r:0,c:0}},ee=ne[3],G="Sheet"+(ee+1)),de>0&&ne[0].r>=de)break;U.dense?(z[ne[0].r]||(z[ne[0].r]=[]),z[ne[0].r][ne[0].c]=ne[1]):z[Xt(ne[0])]=ne[1],O.e.c<ne[0].c&&(O.e.c=ne[0].c),O.e.r<ne[0].r&&(O.e.r=ne[0].r);break;case 27:ne[14e3]&&(re[ne[14e3][0]]=ne[14e3][1]);break;case 1537:re[ne[0]]=ne[1],ne[0]==ee&&(G=ne[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+E[2]);if(z["!ref"]=Sr(O),W[ae||G]=z,Z.push(ae||G),!re.length)return{SheetNames:Z,Sheets:W};for(var ce={},pe=[],K=0;K<re.length;++K)W[Z[K]]?(pe.push(re[K]||Z[K]),ce[re[K]]=W[re[K]]||W[Z[K]]):(pe.push(re[K]),ce[re[K]]={"!ref":"A1"});return{SheetNames:pe,Sheets:ce}}function n(E,R){var U=R||{};if(+U.codepage>=0&&qs(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var z=J_(),G=On(E["!ref"]),ae=Array.isArray(E),ee=[];$s(z,0,i(1030)),$s(z,6,c(G));for(var W=Math.min(G.e.r,8191),Z=G.s.r;Z<=W;++Z)for(var re=Oa(Z),O=G.s.c;O<=G.e.c;++O){Z===G.s.r&&(ee[O]=sa(O));var de=ee[O]+re,ce=ae?(E[Z]||[])[O]:E[de];if(!(!ce||ce.t=="z"))if(ce.t=="n")(ce.v|0)==ce.v&&ce.v>=-32768&&ce.v<=32767?$s(z,13,p(Z,O,ce.v)):$s(z,14,g(Z,O,ce.v));else{var pe=jl(ce);$s(z,15,f(Z,O,pe.slice(0,239)))}}return $s(z,1),z.end()}function a(E,R){var U=R||{};if(+U.codepage>=0&&qs(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var z=J_();$s(z,0,s(E));for(var G=0,ae=0;G<E.SheetNames.length;++G)(E.Sheets[E.SheetNames[G]]||{})["!ref"]&&$s(z,27,I(E.SheetNames[G],ae++));var ee=0;for(G=0;G<E.SheetNames.length;++G){var W=E.Sheets[E.SheetNames[G]];if(!(!W||!W["!ref"])){for(var Z=On(W["!ref"]),re=Array.isArray(W),O=[],de=Math.min(Z.e.r,8191),ce=Z.s.r;ce<=de;++ce)for(var pe=Oa(ce),K=Z.s.c;K<=Z.e.c;++K){ce===Z.s.r&&(O[K]=sa(K));var ne=O[K]+pe,Te=re?(W[ce]||[])[K]:W[ne];if(!(!Te||Te.t=="z"))if(Te.t=="n")$s(z,23,P(ce,K,ee,Te.v));else{var Ee=jl(Te);$s(z,22,N(ce,K,ee,Ee.slice(0,239)))}}++ee}}return $s(z,1),z.end()}function i(E){var R=aa(2);return R.write_shift(2,E),R}function s(E){var R=aa(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var U=0,z=0,G=0,ae=0;ae<E.SheetNames.length;++ae){var ee=E.SheetNames[ae],W=E.Sheets[ee];if(!(!W||!W["!ref"])){++G;var Z=Gh(W["!ref"]);U<Z.e.r&&(U=Z.e.r),z<Z.e.c&&(z=Z.e.c)}}return U>8191&&(U=8191),R.write_shift(2,U),R.write_shift(1,G),R.write_shift(1,z),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function o(E,R,U){var z={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&U.qpro?(z.s.c=E.read_shift(1),E.l++,z.s.r=E.read_shift(2),z.e.c=E.read_shift(1),E.l++,z.e.r=E.read_shift(2),z):(z.s.c=E.read_shift(2),z.s.r=E.read_shift(2),R==12&&U.qpro&&(E.l+=2),z.e.c=E.read_shift(2),z.e.r=E.read_shift(2),R==12&&U.qpro&&(E.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function c(E){var R=aa(8);return R.write_shift(2,E.s.c),R.write_shift(2,E.s.r),R.write_shift(2,E.e.c),R.write_shift(2,E.e.r),R}function u(E,R,U){var z=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(z[0].c=E.read_shift(1),z[3]=E.read_shift(1),z[0].r=E.read_shift(2),E.l+=2):(z[2]=E.read_shift(1),z[0].c=E.read_shift(2),z[0].r=E.read_shift(2)),z}function d(E,R,U){var z=E.l+R,G=u(E,R,U);if(G[1].t="s",U.vers==20768){E.l++;var ae=E.read_shift(1);return G[1].v=E.read_shift(ae,"utf8"),G}return U.qpro&&E.l++,G[1].v=E.read_shift(z-E.l,"cstr"),G}function f(E,R,U){var z=aa(7+U.length);z.write_shift(1,255),z.write_shift(2,R),z.write_shift(2,E),z.write_shift(1,39);for(var G=0;G<z.length;++G){var ae=U.charCodeAt(G);z.write_shift(1,ae>=128?95:ae)}return z.write_shift(1,0),z}function h(E,R,U){var z=u(E,R,U);return z[1].v=E.read_shift(2,"i"),z}function p(E,R,U){var z=aa(7);return z.write_shift(1,255),z.write_shift(2,R),z.write_shift(2,E),z.write_shift(2,U,"i"),z}function m(E,R,U){var z=u(E,R,U);return z[1].v=E.read_shift(8,"f"),z}function g(E,R,U){var z=aa(13);return z.write_shift(1,255),z.write_shift(2,R),z.write_shift(2,E),z.write_shift(8,U,"f"),z}function x(E,R,U){var z=E.l+R,G=u(E,R,U);if(G[1].v=E.read_shift(8,"f"),U.qpro)E.l=z;else{var ae=E.read_shift(2);C(E.slice(E.l,E.l+ae),G),E.l+=ae}return G}function v(E,R,U){var z=R&32768;return R&=-32769,R=(z?E:0)+(R>=8192?R-16384:R),(z?"":"$")+(U?sa(R):Oa(R))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function C(E,R){Aa(E,0);for(var U=[],z=0,G="",ae="",ee="",W="";E.l<E.length;){var Z=E[E.l++];switch(Z){case 0:U.push(E.read_shift(8,"f"));break;case 1:ae=v(R[0].c,E.read_shift(2),!0),G=v(R[0].r,E.read_shift(2),!1),U.push(ae+G);break;case 2:{var re=v(R[0].c,E.read_shift(2),!0),O=v(R[0].r,E.read_shift(2),!1);ae=v(R[0].c,E.read_shift(2),!0),G=v(R[0].r,E.read_shift(2),!1),U.push(re+O+":"+ae+G)}break;case 3:if(E.l<E.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(E.read_shift(2));break;case 6:{for(var de="";Z=E[E.l++];)de+=String.fromCharCode(Z);U.push('"'+de.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:W=U.pop(),ee=U.pop(),U.push(["AND","OR"][Z-20]+"("+ee+","+W+")");break;default:if(Z<32&&y[Z])W=U.pop(),ee=U.pop(),U.push(ee+y[Z]+W);else if(b[Z]){if(z=b[Z][1],z==69&&(z=E[E.l++]),z>U.length){console.error("WK1 bad formula parse 0x"+Z.toString(16)+":|"+U.join("|")+"|");return}var ce=U.slice(-z);U.length-=z,U.push(b[Z][0]+"("+ce.join(",")+")")}else return Z<=7?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=24?console.error("WK1 unsupported op "+Z.toString(16)):Z<=30?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=115?console.error("WK1 unsupported function opcode "+Z.toString(16)):console.error("WK1 unrecognized opcode "+Z.toString(16))}}U.length==1?R[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function S(E){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=E.read_shift(2),R[3]=E[E.l++],R[0].c=E[E.l++],R}function T(E,R){var U=S(E);return U[1].t="s",U[1].v=E.read_shift(R-4,"cstr"),U}function N(E,R,U,z){var G=aa(6+z.length);G.write_shift(2,E),G.write_shift(1,U),G.write_shift(1,R),G.write_shift(1,39);for(var ae=0;ae<z.length;++ae){var ee=z.charCodeAt(ae);G.write_shift(1,ee>=128?95:ee)}return G.write_shift(1,0),G}function w(E,R){var U=S(E);U[1].v=E.read_shift(2);var z=U[1].v>>1;if(U[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return U[1].v=z,U}function _(E,R){var U=S(E),z=E.read_shift(4),G=E.read_shift(4),ae=E.read_shift(2);if(ae==65535)return z===0&&G===3221225472?(U[1].t="e",U[1].v=15):z===0&&G===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var ee=ae&32768;return ae=(ae&32767)-16446,U[1].v=(1-ee*2)*(G*Math.pow(2,ae+32)+z*Math.pow(2,ae)),U}function P(E,R,U,z){var G=aa(14);if(G.write_shift(2,E),G.write_shift(1,U),G.write_shift(1,R),z==0)return G.write_shift(4,0),G.write_shift(4,0),G.write_shift(2,65535),G;var ae=0,ee=0,W=0,Z=0;return z<0&&(ae=1,z=-z),ee=Math.log2(z)|0,z/=Math.pow(2,ee-31),Z=z>>>0,Z&2147483648||(z/=2,++ee,Z=z>>>0),z-=Z,Z|=2147483648,Z>>>=0,z*=Math.pow(2,32),W=z>>>0,G.write_shift(4,W),G.write_shift(4,Z),ee+=16383+(ae?32768:0),G.write_shift(2,ee),G}function A(E,R){var U=_(E);return E.l+=R-14,U}function j(E,R){var U=S(E),z=E.read_shift(4);return U[1].v=z>>6,U}function F(E,R){var U=S(E),z=E.read_shift(8,"f");return U[1].v=z,U}function M(E,R){var U=F(E);return E.l+=R-10,U}function H(E,R){return E[E.l+R-1]==0?E.read_shift(R,"cstr"):""}function q(E,R){var U=E[E.l++];U>R-1&&(U=R-1);for(var z="";z.length<U;)z+=String.fromCharCode(E[E.l++]);return z}function Y(E,R,U){if(!(!U.qpro||R<21)){var z=E.read_shift(1);E.l+=17,E.l+=1,E.l+=2;var G=E.read_shift(R-21,"cstr");return[z,G]}}function X(E,R){for(var U={},z=E.l+R;E.l<z;){var G=E.read_shift(2);if(G==14e3){for(U[G]=[0,""],U[G][0]=E.read_shift(2);E[E.l];)U[G][1]+=String.fromCharCode(E[E.l]),E.l++;E.l++}}return U}function I(E,R){var U=aa(5+E.length);U.write_shift(2,14e3),U.write_shift(2,R);for(var z=0;z<E.length;++z){var G=E.charCodeAt(z);U[U.l++]=G>127?95:G}return U[U.l++]=0,U}var J={0:{n:"BOF",f:Qn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:H},222:{n:"SHEETNAMELP",f:q},65535:{n:""}},Q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:T},23:{n:"NUMBER17",f:_},24:{n:"NUMBER18",f:w},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:X},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:j},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:M},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:H},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Y},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function wQ(e){var t={},r=e.match(Za),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=qt(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=A3[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var _Q=function(){var e=vm("t"),t=vm("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:Cr(s[1])},c=i.match(t);return c&&(o.s=wQ(c[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),kQ=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),s.push("</"+c+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),SQ=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,NQ=/<(?:\w+:)?r>/,jQ=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function H3(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Cr(cn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=cn(e),r&&(n.h=$3(n.t))):e.match(NQ)&&(n.r=cn(e),n.t=Cr(cn((e.replace(jQ,"").match(SQ)||[]).join("").replace(Za,""))),r&&(n.h=kQ(_Q(n.r)))),n):{t:""}}var AQ=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,CQ=/<(?:\w+:)?(?:si|sstItem)>/g,TQ=/<\/(?:\w+:)?(?:si|sstItem)>/;function EQ(e,t){var r=[],n="";if(!e)return r;var a=e.match(AQ);if(a){n=a[2].replace(CQ,"").split(TQ);for(var i=0;i!=n.length;++i){var s=H3(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=qt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function OQ(e){return[e.read_shift(4),e.read_shift(4)]}function PQ(e,t){var r=[],n=!1;return Pl(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function WM(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function fl(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function DQ(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=fl(e,4),t.U=fl(e,4),t.W=fl(e,4),t}function $Q(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function MQ(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push($Q(e));return t}function FQ(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function LQ(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=fl(e,4),t.U=fl(e,4),t.W=fl(e,4),t}function IQ(e){var t=LQ(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function qM(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function HM(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function RQ(e){var t=fl(e);switch(t.Minor){case 2:return[t.Minor,BQ(e)];case 3:return[t.Minor,UQ()];case 4:return[t.Minor,WQ(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function BQ(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=qM(e,r),a=HM(e,e.length-e.l);return{t:"Std",h:n,v:a}}function UQ(){throw new Error("File is password-protected: ECMA-376 Extensible")}function WQ(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Za,function(i){var s=qt(i);switch(Ro(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function qQ(e,t){var r={},n=r.EncryptionVersionInfo=fl(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=qM(e,a),t-=a,r.EncryptionVerifier=HM(e,t),r}function HQ(e){var t={},r=t.EncryptionVersionInfo=fl(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function zQ(e){var t=0,r,n=WM(e),a=n.length+1,i,s,o,c,u;for(r=Dc(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,c=t<<1&32767,u=o|c,t=u^s;return t^52811}var zM=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],c=104,u=s.length-1;u>=0;--u)for(var d=s[u],f=0;f!=7;++f)d&64&&(o^=r[c]),d*=2,--c;return o};return function(s){for(var o=WM(s),c=i(o),u=o.length,d=Dc(16),f=0;f!=16;++f)d[f]=0;var h,p,m;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,p=o[o.length-1],d[u]=a(p,h));u>0;)--u,h=c>>8,d[u]=a(o[u],h),--u,h=c&255,d[u]=a(o[u],h);for(u=15,m=15-o.length;m>0;)h=c>>8,d[u]=a(e[m],h),--u,--m,h=c&255,d[u]=a(o[u],h),--u,--m;return d}}(),YQ=function(e,t,r,n,a){a||(a=t),n||(n=zM(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},VQ=function(e){var t=0,r=zM(e);return function(n){var a=YQ("",n,t,r);return t=a[1],a[0]}};function GQ(e,t,r,n){var a={key:Qn(e),verificationBytes:Qn(e)};return r.password&&(a.verifier=zQ(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=VQ(r.password)),a}function KQ(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=HQ(e):n.Data=qQ(e,t),n}function XQ(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?KQ(e,t-2,n):GQ(e,r.biff>=8?t:t-2,r,n),n}var JQ=function(){function e(a,i){switch(i.type){case"base64":return t(Gi(a),i);case"binary":return t(a,i);case"buffer":return t(yr&&Buffer.isBuffer(a)?a.toString("binary"):xd(a),i);case"array":return t(Xu(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,m,g=-1;m=h.exec(d);){switch(m[0]){case"\\cell":var x=d.slice(p,h.lastIndex-m[0].length);if(x[0]==" "&&(x=x.slice(1)),++g,x.length){var v={v:x,t:"s"};Array.isArray(o)?o[f][g]=v:o[Xt({r:f,c:g})]=v}break}p=h.lastIndex}g>u.e.c&&(u.e.c=g)}),o["!ref"]=Sr(u),o}function r(a,i){return Gc(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=On(a["!ref"]),o,c=Array.isArray(a),u=s.s.r;u<=s.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var f=Xt({r:u,c:d});o=c?(a[u]||[])[d]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(jl(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function QQ(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function wm(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function ZQ(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,c=0,u=a+i;switch(c=s/(u>1?2-u:u),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,c,u/2]}function eZ(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=a*o,s[0]+=a,s[1]+=c;break;case 1:c=a*(2-o),s[0]+=c,s[1]+=a;break;case 2:c=a*(o-2),s[1]+=a,s[2]+=c;break;case 3:c=a*(4-o),s[1]+=c,s[2]+=a;break;case 4:c=a*(o-4),s[2]+=a,s[0]+=c;break;case 5:c=a*(6-o),s[2]+=c,s[0]+=a;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function oy(e,t){if(t===0)return e;var r=ZQ(QQ(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),wm(eZ(r))}var YM=6,tZ=15,rZ=1,oi=YM;function ly(e){return Math.floor((e+Math.round(128/oi)/256)*oi)}function cy(e){return Math.floor((e-5)/oi*100+.5)/100}function tk(e){return Math.round((e*oi+5)/oi*256)/256}function s5(e){return tk(cy(ly(e)))}function z3(e){var t=Math.abs(e-s5(e)),r=oi;if(t>.005)for(oi=rZ;oi<tZ;++oi)Math.abs(e-s5(e))<=t&&(t=Math.abs(e-s5(e)),r=oi);oi=r}function th(e){e.width?(e.wpx=ly(e.width),e.wch=cy(e.wpx),e.MDW=oi):e.wpx?(e.wch=cy(e.wpx),e.width=tk(e.wch),e.MDW=oi):typeof e.wch=="number"&&(e.width=tk(e.wch),e.wpx=ly(e.width),e.MDW=oi),e.customWidth&&delete e.customWidth}var nZ=96,VM=nZ;function GM(e){return e*96/VM}function _m(e){return e*VM/96}var aZ={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function iZ(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Za)||[]).forEach(function(s){var o=qt(s);switch(Ro(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=gn(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=gn(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function sZ(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Za)||[]).forEach(function(s){var o=qt(s);switch(Ro(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function oZ(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Za)||[]).forEach(function(s){var o=qt(s);switch(Ro(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=cn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?gn(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?gn(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?gn(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?gn(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?gn(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?gn(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?gn(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=A3[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=gn(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var c=Ru[a.color.index];a.color.index==81&&(c=Ru[1]),c||(c=Ru[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=oy(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function lZ(e,t,r){t.NumberFmt=[];for(var n=Oo(rr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=rr[n[a]];var i=e[0].match(Za);if(i)for(a=0;a<i.length;++a){var s=qt(i[a]);switch(Ro(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Cr(cn(s.formatCode)),c=parseInt(s.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}Iu(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var tv=["numFmtId","fillId","fontId","borderId","xfId"],rv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function cZ(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Za)||[]).forEach(function(i){var s=qt(i),o=0;switch(Ro(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<tv.length;++o)n[tv[o]]&&(n[tv[o]]=parseInt(n[tv[o]],10));for(o=0;o<rv.length;++o)n[rv[o]]&&(n[rv[o]]=gn(n[rv[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};s.vertical&&(c.vertical=s.vertical),s.horizontal&&(c.horizontal=s.horizontal),s.textRotation!=null&&(c.textRotation=s.textRotation),s.indent&&(c.indent=s.indent),s.wrapText&&(c.wrapText=gn(s.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var uZ=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&lZ(f,d,u),(f=o.match(a))&&oZ(f,d,c,u),(f=o.match(n))&&sZ(f,d,c,u),(f=o.match(i))&&iZ(f,d,c,u),(f=o.match(r))&&cZ(f,d,u),d}}();function dZ(e,t){var r=e.read_shift(2),n=Ja(e);return[r,n]}function fZ(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=_X(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=wX(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ja(e),n}var hZ=Qa;function pZ(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var mZ=Qa;function gZ(e,t,r){var n={};n.NumberFmt=[];for(var a in rr)n.NumberFmt[a]=rr[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return Pl(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Iu(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=oy(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(d),s=!0;break;case 38:i.pop(),s=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var xZ=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function vZ(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Za)||[]).forEach(function(a){var i=qt(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[xZ.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function yZ(){}function bZ(){}var wZ=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,_Z=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,kZ=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function SZ(e,t,r){t.themeElements={};var n;[["clrScheme",wZ,vZ],["fontScheme",_Z,yZ],["fmtScheme",kZ,bZ]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var NZ=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function KM(e,t){(!e||e.length===0)&&(e=jZ());var r,n={};if(!(r=e.match(NZ)))throw new Error("themeElements not found in theme");return SZ(r[0],n,t),n.raw=e,n}function jZ(e,t){var r=[sM];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function AZ(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=iM(i,{type:"array"})}catch{return}var o=qi(s,"theme/theme/theme1.xml",!0);if(o)return KM(o,r)}}function CZ(e){return e.read_shift(4)}function TZ(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=EZ(e,4);break;case 2:t.xclrValue=MM(e);break;case 3:t.xclrValue=CZ(e);break;case 4:e.l+=4;break}return e.l+=8,t}function EZ(e,t){return Qa(e,t)}function OZ(e,t){return Qa(e,t)}function PZ(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=TZ(e);break;case 6:n[1]=OZ(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function DZ(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(PZ(e,r-e.l));return{ixfe:n,ext:i}}function $Z(e,t){t.forEach(function(r){switch(r[0]){}})}function MZ(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ja(e)}}function FZ(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function LZ(e){return e.l+=4,e.read_shift(4)!=0}function IZ(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return Pl(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:i.push(d),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!u.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function RZ(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Za,function(o){var c=qt(o);switch(Ro(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(s=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function BZ(e){var t=[];if(!e)return t;var r=1;return(e.match(Za)||[]).forEach(function(n){var a=qt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function UZ(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Xt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function WZ(e,t,r){var n=[];return Pl(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function qZ(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Pl(e,function(o,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function HZ(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function CC(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=li(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var c=On(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var u=Sr(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:s.author,t:s.t,r:s.r,T:r};s.h&&(d.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function zZ(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=qt(o[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=li(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&H3(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function YZ(e,t){var r=[],n=!1,a={},i=0;return e.replace(Za,function(o,c){var u=qt(o);switch(Ro(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+o.length;break;case"</text>":a.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function VZ(e,t){var r=[],n=!1;return e.replace(Za,function(i){var s=qt(i);switch(Ro(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function GZ(e){var t={};t.iauthor=e.read_shift(4);var r=yd(e);return t.rfx=r.s,t.ref=Xt(r.s),e.l+=16,t}var KZ=Ja;function XZ(e,t){var r=[],n=[],a={},i=!1;return Pl(e,function(o,c,u){switch(u){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var JZ="application/vnd.ms-office.vbaProject";function QZ(e){var t=kr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");kr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),kr.write(t)}function ZZ(){return{"!type":"dialog"}}function eee(){return{"!type":"dialog"}}function tee(){return{"!type":"macro"}}function ree(){return{"!type":"macro"}}var Ff=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return o?d+=t.c:--d,c?u+=t.r:--u,a+(o?"":"$")+sa(d)+(c?"":"$")+Oa(u)}return function(a,i){return t=i,a.replace(e,r)}}(),XM=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,nee=function(){return function(t,r){return t.replace(XM,function(n,a,i,s,o,c){var u=I3(s)-(i?0:r.c),d=L3(c)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function JM(e,t){return e.replace(XM,function(r,n,a,i,s,o){return n+(a=="$"?a+i:sa(I3(i)+t.c))+(s=="$"?s+o:Oa(L3(o)+t.r))})}function aee(e,t,r){var n=Gh(t),a=n.s,i=li(r),s={r:i.r-a.r,c:i.c-a.c};return JM(e,s)}function iee(e){return e.length!=1}function TC(e){return e.replace(/_xlfn\./g,"")}function Xn(e){e.l+=1}function $c(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function QM(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return ZM(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=$c(e),o=$c(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function ZM(e){var t=$c(e),r=$c(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function see(e,t,r){if(r.biff<8)return ZM(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=$c(e),s=$c(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function e7(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return oee(e);var n=e.read_shift(r&&r.biff==12?4:2),a=$c(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function oee(e){var t=$c(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function lee(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function cee(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return uee(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function uee(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function dee(e,t,r){var n=(e[e.l++]&96)>>5,a=QM(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function fee(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=QM(e,i,r);return[n,a,s]}function hee(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function pee(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function mee(e,t,r){var n=(e[e.l++]&96)>>5,a=see(e,t-1,r);return[n,a]}function gee(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function EC(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function xee(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function vee(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function yee(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function bee(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function wee(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function t7(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function _ee(e){return e.read_shift(2),t7(e)}function kee(e){return e.read_shift(2),t7(e)}function See(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e7(e,0,r);return[n,a]}function Nee(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=cee(e,0,r);return[n,a]}function jee(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=e7(e,0,r);return[n,a,i]}function Aee(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Cte[a],a7[a],n]}function Cee(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Tee(e);return[a,(i[0]===0?a7:Ate)[i[1]]]}function Tee(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Eee(e,t,r){e.l+=r&&r.biff==2?3:4}function Oee(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Pee(e){return e.l++,bd[e.read_shift(1)]}function Dee(e){return e.l++,e.read_shift(2)}function $ee(e){return e.l++,e.read_shift(1)!==0}function Mee(e){return e.l++,Ga(e)}function Fee(e,t,r){return e.l++,Tg(e,t-1,r)}function Lee(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Fn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=bd[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ga(e);break;case 2:r[1]=wd(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Iee(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?yd:K1)(e));return a}function Ree(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=Lee(e,r.biff);return s}function Bee(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Uee(e,t,r){if(r.biff==5)return Wee(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Wee(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function qee(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Hee(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function zee(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Yee(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Vee=Qa,Gee=Qa,Kee=Qa;function Og(e,t,r){return e.l+=2,[lee(e)]}function Y3(e){return e.l+=6,[]}var Xee=Og,Jee=Y3,Qee=Y3,Zee=Og;function r7(e){return e.l+=2,[Qn(e),e.read_shift(2)&1]}var ete=Og,tte=r7,rte=Y3,nte=Og,ate=Og,ite=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function ste(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=ite[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function ote(e){return e.l+=2,[e.read_shift(4)]}function lte(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function cte(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function ute(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function dte(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function fte(e){return e.l+=4,[0,0]}var OC={1:{n:"PtgExp",f:Oee},2:{n:"PtgTbl",f:Kee},3:{n:"PtgAdd",f:Xn},4:{n:"PtgSub",f:Xn},5:{n:"PtgMul",f:Xn},6:{n:"PtgDiv",f:Xn},7:{n:"PtgPower",f:Xn},8:{n:"PtgConcat",f:Xn},9:{n:"PtgLt",f:Xn},10:{n:"PtgLe",f:Xn},11:{n:"PtgEq",f:Xn},12:{n:"PtgGe",f:Xn},13:{n:"PtgGt",f:Xn},14:{n:"PtgNe",f:Xn},15:{n:"PtgIsect",f:Xn},16:{n:"PtgUnion",f:Xn},17:{n:"PtgRange",f:Xn},18:{n:"PtgUplus",f:Xn},19:{n:"PtgUminus",f:Xn},20:{n:"PtgPercent",f:Xn},21:{n:"PtgParen",f:Xn},22:{n:"PtgMissArg",f:Xn},23:{n:"PtgStr",f:Fee},26:{n:"PtgSheet",f:lte},27:{n:"PtgEndSheet",f:cte},28:{n:"PtgErr",f:Pee},29:{n:"PtgBool",f:$ee},30:{n:"PtgInt",f:Dee},31:{n:"PtgNum",f:Mee},32:{n:"PtgArray",f:gee},33:{n:"PtgFunc",f:Aee},34:{n:"PtgFuncVar",f:Cee},35:{n:"PtgName",f:Bee},36:{n:"PtgRef",f:See},37:{n:"PtgArea",f:dee},38:{n:"PtgMemArea",f:qee},39:{n:"PtgMemErr",f:Vee},40:{n:"PtgMemNoMem",f:Gee},41:{n:"PtgMemFunc",f:Hee},42:{n:"PtgRefErr",f:zee},43:{n:"PtgAreaErr",f:hee},44:{n:"PtgRefN",f:Nee},45:{n:"PtgAreaN",f:mee},46:{n:"PtgMemAreaN",f:ute},47:{n:"PtgMemNoMemN",f:dte},57:{n:"PtgNameX",f:Uee},58:{n:"PtgRef3d",f:jee},59:{n:"PtgArea3d",f:fee},60:{n:"PtgRefErr3d",f:Yee},61:{n:"PtgAreaErr3d",f:pee},255:{}},hte={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},pte={1:{n:"PtgElfLel",f:r7},2:{n:"PtgElfRw",f:nte},3:{n:"PtgElfCol",f:Xee},6:{n:"PtgElfRwV",f:ate},7:{n:"PtgElfColV",f:Zee},10:{n:"PtgElfRadical",f:ete},11:{n:"PtgElfRadicalS",f:rte},13:{n:"PtgElfColS",f:Jee},15:{n:"PtgElfColSV",f:Qee},16:{n:"PtgElfRadicalLel",f:tte},25:{n:"PtgList",f:ste},29:{n:"PtgSxName",f:ote},255:{}},mte={0:{n:"PtgAttrNoop",f:fte},1:{n:"PtgAttrSemi",f:wee},2:{n:"PtgAttrIf",f:yee},4:{n:"PtgAttrChoose",f:xee},8:{n:"PtgAttrGoto",f:vee},16:{n:"PtgAttrSum",f:Eee},32:{n:"PtgAttrBaxcel",f:EC},33:{n:"PtgAttrBaxcel",f:EC},64:{n:"PtgAttrSpace",f:_ee},65:{n:"PtgAttrSpaceSemi",f:kee},128:{n:"PtgAttrIfError",f:bee},255:{}};function Pg(e,t,r,n){if(n.biff<8)return Qa(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Ree(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Iee(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Qa(e,t)),i}function Dg(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=OC[i]||OC[hte[i]],(i===24||i===25)&&(a=(i===24?pte:mte)[e[e.l+1]]),!a||!a.f?Qa(e,t):s.push([a.n,a.f(e,t,r)]);return s}function gte(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var xte={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function vte(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function n7(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function PC(e,t,r){var n=n7(e,t,r);return n=="#REF"?n:vte(n,r)}function Ya(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],c,u,d,f=0,h=0,p,m="";if(!e[0]||!e[0][0])return"";for(var g=-1,x="",v=0,b=e[0].length;v<b;++v){var y=e[0][v];switch(y[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),g>=0){switch(e[0][g][1][0]){case 0:x=Cn(" ",e[0][g][1][1]);break;case 1:x=Cn("\r",e[0][g][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+x,g=-1}o.push(u+xte[y[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Kp(y[1][1],s,a),o.push(Xp(d,i));break;case"PtgRefN":d=r?Kp(y[1][1],r,a):y[1][1],o.push(Xp(d,i));break;case"PtgRef3d":f=y[1][1],d=Kp(y[1][2],s,a),m=PC(n,f,a),o.push(m+"!"+Xp(d,i));break;case"PtgFunc":case"PtgFuncVar":var C=y[1][0],S=y[1][1];C||(C=0),C&=127;var T=C==0?[]:o.slice(-C);o.length-=C,S==="User"&&(S=T.shift()),o.push(S+"("+T.join(",")+")");break;case"PtgBool":o.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(y[1]);break;case"PtgNum":o.push(String(y[1]));break;case"PtgStr":o.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(y[1]);break;case"PtgAreaN":p=fC(y[1][1],r?{s:r}:s,a),o.push(a5(p,a));break;case"PtgArea":p=fC(y[1][1],s,a),o.push(a5(p,a));break;case"PtgArea3d":f=y[1][1],p=y[1][2],m=PC(n,f,a),o.push(m+"!"+a5(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=y[1][2];var N=(n.names||[])[h-1]||(n[0]||[])[h],w=N?N.Name:"SH33TJSNAME"+String(h);w&&w.slice(0,6)=="_xlfn."&&!a.xlfn&&(w=w.slice(6)),o.push(w);break;case"PtgNameX":var _=y[1][1];h=y[1][2];var P;if(a.biff<=5)_<0&&(_=-_),n[_]&&(P=n[_][h]);else{var A="";if(((n[_]||[])[0]||[])[0]==14849||(((n[_]||[])[0]||[])[0]==1025?n[_][h]&&n[_][h].itab>0&&(A=n.SheetNames[n[_][h].itab-1]+"!"):A=n.SheetNames[h-1]+"!"),n[_]&&n[_][h])A+=n[_][h].Name;else if(n[0]&&n[0][h])A+=n[0][h].Name;else{var j=(n7(n,_,a)||"").split(";;");j[h-1]?A=j[h-1]:A+="SH33TJSERRX"}o.push(A);break}P||(P={Name:"SH33TJSERRY"}),o.push(P.Name);break;case"PtgParen":var F="(",M=")";if(g>=0){switch(x="",e[0][g][1][0]){case 2:F=Cn(" ",e[0][g][1][1])+F;break;case 3:F=Cn("\r",e[0][g][1][1])+F;break;case 4:M=Cn(" ",e[0][g][1][1])+M;break;case 5:M=Cn("\r",e[0][g][1][1])+M;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}o.push(F+o.pop()+M);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:y[1][1],r:y[1][0]};var H={c:r.c,r:r.r};if(n.sharedf[Xt(d)]){var q=n.sharedf[Xt(d)];o.push(Ya(q,s,H,n,a))}else{var Y=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(Ya(u[1],s,H,n,a)),Y=!0;break}Y||o.push(y[1])}break;case"PtgArray":o.push("{"+gte(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var X=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&X.indexOf(e[0][v][0])==-1){y=e[0][g];var I=!0;switch(y[1][0]){case 4:I=!1;case 0:x=Cn(" ",y[1][1]);break;case 5:I=!1;case 1:x=Cn("\r",y[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}o.push((I?x:"")+o.pop()+(I?"":x)),g=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function yte(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Qa(e,t-2)];var o=Dg(e,s,r);return t!==s+a&&(i=Pg(e,t-s-a,o,r)),e.l=n,[o,i]}function bte(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Qa(e,t-2)];var o=Dg(e,s,r);return t!==s+a&&(i=Pg(e,t-s-a,o,r)),e.l=n,[o,i]}function wte(e,t,r,n){var a=e.l+t,i=Dg(e,n,r),s;return a!==e.l&&(s=Pg(e,a-e.l,i,r)),[i,s]}function _te(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=Dg(e,i,r);return i==65535?[[],Qa(e,t-2)]:(t!==i+2&&(a=Pg(e,n-i-2,s,r)),[s,a])}function kte(e){var t;if(ol(e,e.l+6)!==65535)return[Ga(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function o5(e,t,r){var n=e.l+t,a=Bo(e);r.biff==2&&++e.l;var i=kte(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=bte(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function X1(e,t,r){var n=e.read_shift(4),a=Dg(e,n,r),i=e.read_shift(4),s=i>0?Pg(e,i,a,r):null;return[a,s]}var Ste=X1,J1=X1,Nte=X1,jte=X1,Ate={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},a7={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Cte={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function DC(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function l5(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var em={},Lf={};function tm(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function i7(e,t,r,n,a,i){try{n.cellNF&&(e.z=rr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=va(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(rr[t]==null&&Iu(TK[t]||"General",t),e.t==="e")e.w=e.w||bd[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=xm(e.v);else if(e.t==="d"){var s=xi(e.v);(s|0)===s?e.w=s.toString(10):e.w=xm(s)}else{if(e.v===void 0)return"";e.w=Ku(e.v,Lf)}else e.t==="d"?e.w=bs(t,xi(e.v),Lf):e.w=bs(t,e.v,Lf)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=oy(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=oy(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function Tte(e,t){var r=On(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Sr(r))}var Ete=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Ote=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Pte=/<(?:\w:)?hyperlink [^>]*>/mg,Dte=/"(\w*:\w*)"/,$te=/<(?:\w:)?col\b[^>]*[\/]?>/g,Mte=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Fte=/<(?:\w:)?pageMargins[^>]*\/>/g,s7=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Lte=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Ite=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Rte(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(Ote);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(s7);h?V3(h[0],o,a,r):(h=u.match(Lte))&&Bte(h[0],h[1]||"",o,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var m=u.slice(p,p+50).match(Dte);m&&Tte(o,m[1])}var g=u.match(Ite);g&&g[1]&&Yte(g[1],a);var x=[];if(t.cellStyles){var v=u.match($te);v&&qte(x,v)}f&&Vte(f[1],o,t,c,i,s);var b=d.match(Mte);b&&(o["!autofilter"]=Hte(b[0]));var y=[],C=d.match(Ete);if(C)for(p=0;p!=C.length;++p)y[p]=On(C[p].slice(C[p].indexOf('"')+1));var S=d.match(Pte);S&&Ute(o,S,n);var T=d.match(Fte);if(T&&(o["!margins"]=Wte(qt(T[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=Sr(c)),t.sheetRows>0&&o["!ref"]){var N=On(o["!ref"]);t.sheetRows<=+N.e.r&&(N.e.r=t.sheetRows-1,N.e.r>c.e.r&&(N.e.r=c.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>c.e.c&&(N.e.c=c.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Sr(N))}return x.length>0&&(o["!cols"]=x),y.length>0&&(o["!merges"]=y),o}function V3(e,t,r,n){var a=qt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Cr(cn(a.codeName)))}function Bte(e,t,r,n,a){V3(e.slice(0,e.indexOf(">")),r,n,a)}function Ute(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=qt(cn(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Cr(i.location))):(i.Target="#"+Cr(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=On(i.ref),c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var d=Xt({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function Wte(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function qte(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=qt(t[n],!0);a.hidden&&(a.hidden=gn(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,z3(a.width)),th(a);i<=s;)e[i++]=Ea(a)}}function Hte(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var zte=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Yte(e,t){t.Views||(t.Views=[{}]),(e.match(zte)||[]).forEach(function(r,n){var a=qt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),gn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var Vte=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=vm("v"),s=vm("f");return function(c,u,d,f,h,p){for(var m=0,g="",x=[],v=[],b=0,y=0,C=0,S="",T,N,w=0,_=0,P,A,j=0,F=0,M=Array.isArray(p.CellXf),H,q=[],Y=[],X=Array.isArray(u),I=[],J={},Q=!1,E=!!d.sheetStubs,R=c.split(t),U=0,z=R.length;U!=z;++U){g=R[U].trim();var G=g.length;if(G!==0){var ae=0;e:for(m=0;m<G;++m)switch(g[m]){case">":if(g[m-1]!="/"){++m;break e}if(d&&d.cellStyles){if(N=qt(g.slice(ae,m),!0),w=N.r!=null?parseInt(N.r,10):w+1,_=-1,d.sheetRows&&d.sheetRows<w)continue;J={},Q=!1,N.ht&&(Q=!0,J.hpt=parseFloat(N.ht),J.hpx=_m(J.hpt)),N.hidden=="1"&&(Q=!0,J.hidden=!0),N.outlineLevel!=null&&(Q=!0,J.level=+N.outlineLevel),Q&&(I[w-1]=J)}break;case"<":ae=m;break}if(ae>=m)break;if(N=qt(g.slice(ae,m),!0),w=N.r!=null?parseInt(N.r,10):w+1,_=-1,!(d.sheetRows&&d.sheetRows<w)){f.s.r>w-1&&(f.s.r=w-1),f.e.r<w-1&&(f.e.r=w-1),d&&d.cellStyles&&(J={},Q=!1,N.ht&&(Q=!0,J.hpt=parseFloat(N.ht),J.hpx=_m(J.hpt)),N.hidden=="1"&&(Q=!0,J.hidden=!0),N.outlineLevel!=null&&(Q=!0,J.level=+N.outlineLevel),Q&&(I[w-1]=J)),x=g.slice(m).split(e);for(var ee=0;ee!=x.length&&x[ee].trim().charAt(0)=="<";++ee);for(x=x.slice(ee),m=0;m!=x.length;++m)if(g=x[m].trim(),g.length!==0){if(v=g.match(r),b=m,y=0,C=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,v!=null&&v.length===2){for(b=0,S=v[1],y=0;y!=S.length&&!((C=S.charCodeAt(y)-64)<1||C>26);++y)b=26*b+C;--b,_=b}else++_;for(y=0;y!=g.length&&g.charCodeAt(y)!==62;++y);if(++y,N=qt(g.slice(0,y),!0),N.r||(N.r=Xt({r:w-1,c:_})),S=g.slice(y),T={t:""},(v=S.match(i))!=null&&v[1]!==""&&(T.v=Cr(v[1])),d.cellFormula){if((v=S.match(s))!=null&&v[1]!==""){if(T.f=Cr(cn(v[1])).replace(/\r\n/g,`
`),d.xlfn||(T.f=TC(T.f)),v[0].indexOf('t="array"')>-1)T.F=(S.match(a)||[])[1],T.F.indexOf(":")>-1&&q.push([On(T.F),T.F]);else if(v[0].indexOf('t="shared"')>-1){A=qt(v[0]);var W=Cr(cn(v[1]));d.xlfn||(W=TC(W)),Y[parseInt(A.si,10)]=[A,W,N.r]}}else(v=S.match(/<f[^>]*\/>/))&&(A=qt(v[0]),Y[A.si]&&(T.f=aee(Y[A.si][1],Y[A.si][2],N.r)));var Z=li(N.r);for(y=0;y<q.length;++y)Z.r>=q[y][0].s.r&&Z.r<=q[y][0].e.r&&Z.c>=q[y][0].s.c&&Z.c<=q[y][0].e.c&&(T.F=q[y][1])}if(N.t==null&&T.v===void 0)if(T.f||T.F)T.v=0,T.t="n";else if(E)T.t="z";else continue;else T.t=N.t||"n";switch(f.s.c>_&&(f.s.c=_),f.e.c<_&&(f.e.c=_),T.t){case"n":if(T.v==""||T.v==null){if(!E)continue;T.t="z"}else T.v=parseFloat(T.v);break;case"s":if(typeof T.v>"u"){if(!E)continue;T.t="z"}else P=em[parseInt(T.v,10)],T.v=P.t,T.r=P.r,d.cellHTML&&(T.h=P.h);break;case"str":T.t="s",T.v=T.v!=null?cn(T.v):"",d.cellHTML&&(T.h=$3(T.v));break;case"inlineStr":v=S.match(n),T.t="s",v!=null&&(P=H3(v[1]))?(T.v=P.t,d.cellHTML&&(T.h=P.h)):T.v="";break;case"b":T.v=gn(T.v);break;case"d":d.cellDates?T.v=va(T.v,1):(T.v=xi(va(T.v,1)),T.t="n");break;case"e":(!d||d.cellText!==!1)&&(T.w=T.v),T.v=AM[T.v];break}if(j=F=0,H=null,M&&N.s!==void 0&&(H=p.CellXf[N.s],H!=null&&(H.numFmtId!=null&&(j=H.numFmtId),d.cellStyles&&H.fillId!=null&&(F=H.fillId))),i7(T,j,F,d,h,p),d.cellDates&&M&&T.t=="n"&&Vh(rr[j])&&(T.t="d",T.v=G1(T.v)),N.cm&&d.xlmeta){var re=(d.xlmeta.Cell||[])[+N.cm-1];re&&re.type=="XLDAPR"&&(T.D=!0)}if(X){var O=li(N.r);u[O.r]||(u[O.r]=[]),u[O.r][O.c]=T}else u[N.r]=T}}}}I.length>0&&(u["!rows"]=I)}}();function Gte(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var Kte=yd;function Xte(){}function Jte(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=yX(e),r}function Qte(e){var t=ks(e);return[t]}function Zte(e){var t=vd(e);return[t]}function ere(e){var t=ks(e),r=e.read_shift(1);return[t,r,"b"]}function tre(e){var t=vd(e),r=e.read_shift(1);return[t,r,"b"]}function rre(e){var t=ks(e),r=e.read_shift(1);return[t,r,"e"]}function nre(e){var t=vd(e),r=e.read_shift(1);return[t,r,"e"]}function are(e){var t=ks(e),r=e.read_shift(4);return[t,r,"s"]}function ire(e){var t=vd(e),r=e.read_shift(4);return[t,r,"s"]}function sre(e){var t=ks(e),r=Ga(e);return[t,r,"n"]}function o7(e){var t=vd(e),r=Ga(e);return[t,r,"n"]}function ore(e){var t=ks(e),r=U3(e);return[t,r,"n"]}function lre(e){var t=vd(e),r=U3(e);return[t,r,"n"]}function cre(e){var t=ks(e),r=R3(e);return[t,r,"is"]}function ure(e){var t=ks(e),r=Ja(e);return[t,r,"str"]}function dre(e){var t=vd(e),r=Ja(e);return[t,r,"str"]}function fre(e,t,r){var n=e.l+t,a=ks(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=J1(e,n-e.l,r);s[3]=Ya(o,null,a,r.supbooks,r)}else e.l=n;return s}function hre(e,t,r){var n=e.l+t,a=ks(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=J1(e,n-e.l,r);s[3]=Ya(o,null,a,r.supbooks,r)}else e.l=n;return s}function pre(e,t,r){var n=e.l+t,a=ks(e);a.r=r["!row"];var i=Ga(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=J1(e,n-e.l,r);s[3]=Ya(o,null,a,r.supbooks,r)}else e.l=n;return s}function mre(e,t,r){var n=e.l+t,a=ks(e);a.r=r["!row"];var i=Ja(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=J1(e,n-e.l,r);s[3]=Ya(o,null,a,r.supbooks,r)}else e.l=n;return s}var gre=yd;function xre(e,t){var r=e.l+t,n=yd(e),a=B3(e),i=Ja(e),s=Ja(e),o=Ja(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:o};return s&&(c.Tooltip=s),c}function vre(){}function yre(e,t,r){var n=e.l+t,a=SM(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=Ste(e,n-e.l,r);s[1]=o}else e.l=n;return s}function bre(e,t,r){var n=e.l+t,a=yd(e),i=[a];if(r.cellFormula){var s=jte(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var wre=["left","right","top","bottom","header","footer"];function _re(e){var t={};return wre.forEach(function(r){t[r]=Ga(e)}),t}function kre(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Sre(){}function Nre(){}function jre(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var c=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,m,g,x,v,b,y,C,S,T=[];o.biff=12,o["!row"]=0;var N=0,w=!1,_=[],P={},A=o.supbooks||a.supbooks||[[]];if(A.sharedf=P,A.arrayf=_,A.SheetNames=a.SheetNames||a.Sheets.map(function(X){return X.name}),!o.supbooks&&(o.supbooks=A,a.Names))for(var j=0;j<a.Names.length;++j)A[0][j+1]=a.Names[j];var F=[],M=[],H=!1;uy[16]={n:"BrtShortReal",f:o7};var q;if(Pl(e,function(I,J,Q){if(!h)switch(Q){case 148:u=I;break;case 0:p=I,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),C=Oa(x=p.r),o["!row"]=p.r,(I.hidden||I.hpt||I.level!=null)&&(I.hpt&&(I.hpx=_m(I.hpt)),M[I.r]=I);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(m={t:I[2]},I[2]){case"n":m.v=I[1];break;case"s":y=em[I[1]],m.v=y.t,m.r=y.r;break;case"b":m.v=!!I[1];break;case"e":m.v=I[1],o.cellText!==!1&&(m.w=bd[m.v]);break;case"str":m.t="s",m.v=I[1];break;case"is":m.t="s",m.v=I[1].t;break}if((g=s.CellXf[I[0].iStyleRef])&&i7(m,g.numFmtId,null,o,i,s),v=I[0].c==-1?v+1:I[0].c,o.dense?(c[x]||(c[x]=[]),c[x][v]=m):c[sa(v)+C]=m,o.cellFormula){for(w=!1,N=0;N<_.length;++N){var E=_[N];p.r>=E[0].s.r&&p.r<=E[0].e.r&&v>=E[0].s.c&&v<=E[0].e.c&&(m.F=Sr(E[0]),w=!0)}!w&&I.length>3&&(m.f=I[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>v&&(d.s.c=v),d.e.r<p.r&&(d.e.r=p.r),d.e.c<v&&(d.e.c=v),o.cellDates&&g&&m.t=="n"&&Vh(rr[g.numFmtId])){var R=ju(m.v);R&&(m.t="d",m.v=new Date(R.y,R.m-1,R.d,R.H,R.M,R.S,R.u))}q&&(q.type=="XLDAPR"&&(m.D=!0),q=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;m={t:"z",v:void 0},v=I[0].c==-1?v+1:I[0].c,o.dense?(c[x]||(c[x]=[]),c[x][v]=m):c[sa(v)+C]=m,d.s.r>p.r&&(d.s.r=p.r),d.s.c>v&&(d.s.c=v),d.e.r<p.r&&(d.e.r=p.r),d.e.c<v&&(d.e.c=v),q&&(q.type=="XLDAPR"&&(m.D=!0),q=void 0);break;case 176:T.push(I);break;case 49:q=((o.xlmeta||{}).Cell||[])[I-1];break;case 494:var U=n["!id"][I.relId];for(U?(I.Target=U.Target,I.loc&&(I.Target+="#"+I.loc),I.Rel=U):I.relId==""&&(I.Target="#"+I.loc),x=I.rfx.s.r;x<=I.rfx.e.r;++x)for(v=I.rfx.s.c;v<=I.rfx.e.c;++v)o.dense?(c[x]||(c[x]=[]),c[x][v]||(c[x][v]={t:"z",v:void 0}),c[x][v].l=I):(b=Xt({c:v,r:x}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=I);break;case 426:if(!o.cellFormula)break;_.push(I),S=o.dense?c[x][v]:c[sa(v)+C],S.f=Ya(I[1],d,{r:p.r,c:v},A,o),S.F=Sr(I[0]);break;case 427:if(!o.cellFormula)break;P[Xt(I[0].s)]=I[1],S=o.dense?c[x][v]:c[sa(v)+C],S.f=Ya(I[1],d,{r:p.r,c:v},A,o);break;case 60:if(!o.cellStyles)break;for(;I.e>=I.s;)F[I.e--]={width:I.w/256,hidden:!!(I.flags&1),level:I.level},H||(H=!0,z3(I.w/256)),th(F[I.e+1]);break;case 161:c["!autofilter"]={ref:Sr(I)};break;case 476:c["!margins"]=I;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),I.name&&(a.Sheets[r].CodeName=I.name),(I.above||I.left)&&(c["!outline"]={above:I.above,left:I.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),I.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!J.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+Q.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Sr(u||d)),o.sheetRows&&c["!ref"]){var Y=On(c["!ref"]);o.sheetRows<=+Y.e.r&&(Y.e.r=o.sheetRows-1,Y.e.r>d.e.r&&(Y.e.r=d.e.r),Y.e.r<Y.s.r&&(Y.s.r=Y.e.r),Y.e.c>d.e.c&&(Y.e.c=d.e.c),Y.e.c<Y.s.c&&(Y.s.c=Y.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Sr(Y))}return T.length>0&&(c["!merges"]=T),F.length>0&&(c["!cols"]=F),M.length>0&&(c["!rows"]=M),c}function Are(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=Cr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function Cre(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Are(f);d.s.r=d.s.c=0,d.e.c=o,u=sa(o),h[0].forEach(function(p,m){s[u+Oa(m)]={t:"n",v:p,z:h[1]},c=m}),d.e.r<c&&(d.e.r=c),++o}),o>0&&(s["!ref"]=Sr(d)),s}function Tre(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(s7);return o&&V3(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Ere(e,t){e.l+=10;var r=Ja(e);return{name:r}}function Ore(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Pl(e,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var l7=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Pre=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Dre=[],$re=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function $C(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=gn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function MC(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=gn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function c7(e){MC(e.WBProps,l7),MC(e.CalcPr,$re),$C(e.WBView,Pre),$C(e.Sheets,Dre),Lf.date1904=gn(e.WBProps.date1904)}var Mre="][*?/\\".split("");function Fre(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Mre.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var Lre=/<\w+:workbook/;function Ire(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Za,function(c,u){var d=qt(c);switch(Ro(d[0])){case"<?xml":break;case"<workbook":c.match(Lre)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":l7.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=gn(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=cn(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Cr(cn(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=cn(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),gn(d.hidden||"0")&&(i.Hidden=!0),s=u+c.length;break;case"</definedName>":i.Ref=Cr(cn(e.slice(s,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),rX.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return c7(r),r}function Rre(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Q_(e),r.name=Ja(e),r}function Bre(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ja(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Ure(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Wre(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=bX(e),s=Nte(e,0,r),o=B3(e);e.l=n;var c={Name:i,Ptg:s};return a<268435455&&(c.Sheet=a),o&&(c.Comment=o),c}function qre(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],uy[16]={n:"BrtFRTArchID$",f:Ure},Pl(e,function(c,u,d){switch(d){case 156:s.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Ya(c.Ptg,null,null,s,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([d,c]):s[0]=[d,c],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(c),s.XTI=s.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),c7(r),r.Names=i,r.supbooks=s,r}function Hre(e,t,r){return t.slice(-4)===".bin"?qre(e,r):Ire(e,r)}function zre(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?jre(e,n,r,a,i,s,o):Rte(e,n,r,a,i,s,o)}function Yre(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Ore(e,n,r,a,i):Tre(e,n,r,a,i)}function Vre(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?tee():ree()}function Gre(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?ZZ():eee()}function Kre(e,t,r,n){return t.slice(-4)===".bin"?gZ(e,r,n):uZ(e,r,n)}function Xre(e,t,r){return KM(e,r)}function Jre(e,t,r){return t.slice(-4)===".bin"?PQ(e,r):EQ(e,r)}function Qre(e,t,r){return t.slice(-4)===".bin"?XZ(e,r):zZ(e,r)}function Zre(e,t,r){return t.slice(-4)===".bin"?WZ(e):BZ(e)}function ene(e,t,r,n){return r.slice(-4)===".bin"?qZ(e,t,r,n):void 0}function tne(e,t,r){return t.slice(-4)===".bin"?IZ(e,t,r):RZ(e,t,r)}var u7=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,d7=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ds(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(u7),i,s,o,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(d7),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function rne(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(u7),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(d7),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var rm;function nne(e,t){var r=rm[e]||Cr(e);return r==="General"?Ku(t):bs(r,t)}function ane(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=gn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=va(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Cr(t)]=a}function ine(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||bd[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=xm(e.v):e.w=Ku(e.v):e.w=nne(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=rm[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Vh(n)){var a=ju(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function sne(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=aZ[n.Pattern]||n.Pattern)}e[t.ID]=t}function one(e,t,r,n,a,i,s,o,c,u){var d="General",f=n.StyleID,h={};u=u||{};var p=[],m=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=gn(e);break;case"String":n.t="s",n.r=nC(Cr(e)),n.v=e.indexOf("<")>-1?Cr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(va(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Cr(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=AM[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=nC(t||e));break}if(ine(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=Cr(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=Ff(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Ff("RC:RC",a):n.ArrayRange&&(n.F=Ff(n.ArrayRange,a),c.push([On(n.F),n.F]))}else for(m=0;m<c.length;++m)a.r>=c[m][0].s.r&&a.r<=c[m][0].e.r&&a.c>=c[m][0].s.c&&a.c<=c[m][0].e.c&&(n.F=c[m][1]);u.cellStyles&&(p.forEach(function(x){!h.patternType&&x.patternType&&(h.patternType=x.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function lne(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function c5(e,t){var r=t||{};Z$();var n=Tp(M3(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=cn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Ea(r);return s.type="string",bm.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Te){a.indexOf("<"+Te)>=0&&(i=!0)}),i)return xne(n,r);rm={"General Number":"General","General Date":rr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":rr[15],"Short Date":rr[14],"Long Time":rr[19],"Medium Time":rr[18],"Short Time":rr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:rr[2],Standard:rr[4],Percent:rr[10],Scientific:rr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],u,d={},f=[],h=r.dense?[]:{},p="",m={},g={},x=Ds('<Data ss:Type="String">'),v=0,b=0,y=0,C={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},T={},N="",w=0,_=[],P={},A={},j=0,F=[],M=[],H={},q=[],Y,X=!1,I=[],J=[],Q={},E=0,R=0,U={Sheets:[],WBProps:{date1904:!1}},z={};ym.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var G="";o=ym.exec(n);)switch(o[3]=(G=o[3]).toLowerCase()){case"data":if(G=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?one(n.slice(v,o.index),N,x,c[c.length-1][0]=="comment"?H:m,{c:b,r:y},S,q[b],g,I,r):(N="",x=Ds(o[0]),v=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(M.length>0&&(m.c=M),(!r.sheetRows||r.sheetRows>y)&&m.v!==void 0&&(r.dense?(h[y]||(h[y]=[]),h[y][b]=m):h[sa(b)+Oa(y)]=m),m.HRef&&(m.l={Target:Cr(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(E=b+(parseInt(m.MergeAcross,10)|0),R=y+(parseInt(m.MergeDown,10)|0),_.push({s:{c:b,r:y},e:{c:E,r:R}})),!r.sheetStubs)m.MergeAcross?b=E+1:++b;else if(m.MergeAcross||m.MergeDown){for(var ae=b;ae<=E;++ae)for(var ee=y;ee<=R;++ee)(ae>b||ee>y)&&(r.dense?(h[ee]||(h[ee]=[]),h[ee][ae]={t:"z"}):h[sa(ae)+Oa(ee)]={t:"z"});b=E+1}else++b;else m=rne(o[0]),m.Index&&(b=+m.Index-1),b<C.s.c&&(C.s.c=b),b>C.e.c&&(C.e.c=b),o[0].slice(-2)==="/>"&&++b,M=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(y<C.s.r&&(C.s.r=y),y>C.e.r&&(C.e.r=y),o[0].slice(-2)==="/>"&&(g=Ds(o[0]),g.Index&&(y=+g.Index-1)),b=0,++y):(g=Ds(o[0]),g.Index&&(y=+g.Index-1),Q={},(g.AutoFitHeight=="0"||g.Height)&&(Q.hpx=parseInt(g.Height,10),Q.hpt=GM(Q.hpx),J[y]=Q),g.Hidden=="1"&&(Q.hidden=!0,J[y]=Q));break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));f.push(p),C.s.r<=C.e.r&&C.s.c<=C.e.c&&(h["!ref"]=Sr(C),r.sheetRows&&r.sheetRows<=C.e.r&&(h["!fullref"]=h["!ref"],C.e.r=r.sheetRows-1,h["!ref"]=Sr(C))),_.length&&(h["!merges"]=_),q.length>0&&(h["!cols"]=q),J.length>0&&(h["!rows"]=J),d[p]=h}else C={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=b=0,c.push([o[3],!1]),u=Ds(o[0]),p=Cr(u.Name),h=r.dense?[]:{},_=[],I=[],J=[],z={name:p,Hidden:0},U.Sheets.push(z);break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),q=[],X=!1}break;case"style":o[1]==="/"?sne(S,T,r):T=Ds(o[0]);break;case"numberformat":T.nf=Cr(Ds(o[0]).Format||"General"),rm[T.nf]&&(T.nf=rm[T.nf]);for(var W=0;W!=392&&rr[W]!=T.nf;++W);if(W==392){for(W=57;W!=392;++W)if(rr[W]==null){Iu(T.nf,W);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(Y=Ds(o[0]),Y.Hidden&&(Y.hidden=!0,delete Y.Hidden),Y.Width&&(Y.wpx=parseInt(Y.Width,10)),!X&&Y.wpx>10){X=!0,oi=YM;for(var Z=0;Z<q.length;++Z)q[Z]&&th(q[Z])}X&&th(Y),q[Y.Index-1||q.length]=Y;for(var re=0;re<+Y.Span;++re)q[q.length]=Ea(Y);break;case"namedrange":if(o[1]==="/")break;U.Names||(U.Names=[]);var O=qt(o[0]),de={Name:O.Name,Ref:Ff(O.RefersTo.slice(1),{r:0,c:0})};U.Sheets.length>0&&(de.Sheet=U.Sheets.length-1),U.Names.push(de);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?N+=n.slice(w,o.index):w=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;T.Interior=Ds(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?zX(P,G,n.slice(j,o.index)):j=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));lne(H),M.push(H)}else c.push([o[3],!1]),u=Ds(o[0]),H={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var ce=Ds(o[0]);h["!autofilter"]={ref:Ff(ce.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return UC(n,r);var pe=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:pe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:pe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":U.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:pe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:pe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(j,o.index)){case"SheetHidden":z.Hidden=1;break;case"SheetVeryHidden":z.Hidden=2;break}else j=o.index+o[0].length;break;case"header":h["!margins"]||tm(h["!margins"]={},"xlml"),isNaN(+qt(o[0]).Margin)||(h["!margins"].header=+qt(o[0]).Margin);break;case"footer":h["!margins"]||tm(h["!margins"]={},"xlml"),isNaN(+qt(o[0]).Margin)||(h["!margins"].footer=+qt(o[0]).Margin);break;case"pagemargins":var K=qt(o[0]);h["!margins"]||tm(h["!margins"]={},"xlml"),isNaN(+K.Top)||(h["!margins"].top=+K.Top),isNaN(+K.Left)||(h["!margins"].left=+K.Left),isNaN(+K.Right)||(h["!margins"].right=+K.Right),isNaN(+K.Bottom)||(h["!margins"].bottom=+K.Bottom);break;case"displayrighttoleft":U.Views||(U.Views=[]),U.Views[0]||(U.Views[0]={}),U.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:pe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:pe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:pe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:pe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:pe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:pe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:pe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:pe=!1}break;case"smarttags":break;default:pe=!1;break}if(pe||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?ane(A,G,F,n.slice(j,o.index)):(F=o,j=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var ne={};return!r.bookSheets&&!r.bookProps&&(ne.Sheets=d),ne.SheetNames=f,ne.Workbook=U,ne.SSF=Ea(rr),ne.Props=P,ne.Custprops=A,ne}function rk(e,t){switch(X3(t=t||{}),t.type||"base64"){case"base64":return c5(Gi(e),t);case"binary":case"buffer":case"file":return c5(e,t);case"array":return c5(xd(e),t)}}function cne(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=kX(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=SX(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var une=[60,1084,2066,2165,2175];function dne(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var c=ol(r,r.l),u=nk[c],d=0;u!=null&&une.indexOf(c)>-1;)i=ol(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),o=r.slice(d,r.l+4+i),s.push(o),r.l+=4+i,u=nk[c=ol(r,r.l)];var f=uc(s);Aa(f,0);var h=0;f.lens=[];for(var p=0;p<s.length;++p)f.lens.push(h),h+=s[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function lo(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=rr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||bd[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=xm(e.v):e.w=Ku(e.v):e.w=bs(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Vh(rr[n]||String(n))){var a=ju(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function nv(e,t,r){return{v:e,ixfe:t,t:r}}function fne(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,c=[],u="",d={},f,h="",p,m,g,x,v={},b=[],y,C,S=[],T=[],N={Sheets:[],WBProps:{date1904:!1},Views:[{}]},w={},_=function(Be){return Be<8?Ru[Be]:Be<64&&T[Be-8]||Ru[Be]},P=function(Be,De,et){var Qe=De.XF.data;if(!(!Qe||!Qe.patternType||!et||!et.cellStyles)){De.s={},De.s.patternType=Qe.patternType;var kt;(kt=wm(_(Qe.icvFore)))&&(De.s.fgColor={rgb:kt}),(kt=wm(_(Qe.icvBack)))&&(De.s.bgColor={rgb:kt})}},A=function(Be,De,et){if(!(Q>1)&&!(et.sheetRows&&Be.r>=et.sheetRows)){if(et.cellStyles&&De.XF&&De.XF.data&&P(Be,De,et),delete De.ixfe,delete De.XF,f=Be,h=Xt(Be),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Be.r<s.s.r&&(s.s.r=Be.r),Be.c<s.s.c&&(s.s.c=Be.c),Be.r+1>s.e.r&&(s.e.r=Be.r+1),Be.c+1>s.e.c&&(s.e.c=Be.c+1),et.cellFormula&&De.f){for(var Qe=0;Qe<b.length;++Qe)if(!(b[Qe][0].s.c>Be.c||b[Qe][0].s.r>Be.r)&&!(b[Qe][0].e.c<Be.c||b[Qe][0].e.r<Be.r)){De.F=Sr(b[Qe][0]),(b[Qe][0].s.c!=Be.c||b[Qe][0].s.r!=Be.r)&&delete De.f,De.f&&(De.f=""+Ya(b[Qe][1],s,Be,I,j));break}}et.dense?(a[Be.r]||(a[Be.r]=[]),a[Be.r][Be.c]=De):a[h]=De}},j={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(j.password=t.password);var F,M=[],H=[],q=[],Y=[],X=!1,I=[];I.SheetNames=j.snames,I.sharedf=j.sharedf,I.arrayf=j.arrayf,I.names=[],I.XTI=[];var J=0,Q=0,E=0,R=[],U=[],z;j.codepage=1200,qs(1200);for(var G=!1;e.l<e.length-1;){var ae=e.l,ee=e.read_shift(2);if(ee===0&&J===10)break;var W=e.l===e.length?0:e.read_shift(2),Z=nk[ee];if(Z&&Z.f){if(t.bookSheets&&J===133&&ee!==133)break;if(J=ee,Z.r===2||Z.r==12){var re=e.read_shift(2);if(W-=2,!j.enc&&re!==ee&&((re&255)<<8|re>>8)!==ee)throw new Error("rt mismatch: "+re+"!="+ee);Z.r==12&&(e.l+=10,W-=10)}var O={};if(ee===10?O=Z.f(e,W,j):O=dne(ee,Z,e,W,j),Q==0&&[9,521,1033,2057].indexOf(J)===-1)continue;switch(ee){case 34:r.opts.Date1904=N.WBProps.date1904=O;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(j.enc||(e.l=0),j.enc=O,!t.password)throw new Error("File is password-protected");if(O.valid==null)throw new Error("Encryption scheme unsupported");if(!O.valid)throw new Error("Password is incorrect");break;case 92:j.lastuser=O;break;case 66:var de=Number(O);switch(de){case 21010:de=1200;break;case 32768:de=1e4;break;case 32769:de=1252;break}qs(j.codepage=de),G=!0;break;case 317:j.rrtabid=O;break;case 25:j.winlocked=O;break;case 439:r.opts.RefreshAll=O;break;case 12:r.opts.CalcCount=O;break;case 16:r.opts.CalcDelta=O;break;case 17:r.opts.CalcIter=O;break;case 13:r.opts.CalcMode=O;break;case 14:r.opts.CalcPrecision=O;break;case 95:r.opts.CalcSaveRecalc=O;break;case 15:j.CalcRefMode=O;break;case 2211:r.opts.FullCalc=O;break;case 129:O.fDialog&&(a["!type"]="dialog"),O.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),O.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:S.push(O);break;case 430:I.push([O]),I[I.length-1].XTI=[];break;case 35:case 547:I[I.length-1].push(O);break;case 24:case 536:z={Name:O.Name,Ref:Ya(O.rgce,s,null,I,j)},O.itab>0&&(z.Sheet=O.itab-1),I.names.push(z),I[0]||(I[0]=[],I[0].XTI=[]),I[I.length-1].push(O),O.Name=="_xlnm._FilterDatabase"&&O.itab>0&&O.rgce&&O.rgce[0]&&O.rgce[0][0]&&O.rgce[0][0][0]=="PtgArea3d"&&(U[O.itab-1]={ref:Sr(O.rgce[0][0][1][2])});break;case 22:j.ExternCount=O;break;case 23:I.length==0&&(I[0]=[],I[0].XTI=[]),I[I.length-1].XTI=I[I.length-1].XTI.concat(O),I.XTI=I.XTI.concat(O);break;case 2196:if(j.biff<8)break;z!=null&&(z.Comment=O[1]);break;case 18:a["!protect"]=O;break;case 19:O!==0&&j.WTF&&console.error("Password verifier: "+O);break;case 133:i[O.pos]=O,j.snames.push(O.name);break;case 10:{if(--Q)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=Sr(s),t.sheetRows&&t.sheetRows<=s.e.r){var ce=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Sr(s),s.e.r=ce}s.e.r++,s.e.c++}M.length>0&&(a["!merges"]=M),H.length>0&&(a["!objects"]=H),q.length>0&&(a["!cols"]=q),Y.length>0&&(a["!rows"]=Y),N.Sheets.push(w)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(j.biff===8&&(j.biff={9:2,521:3,1033:4}[ee]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[O.BIFFVer]||8),j.biffguess=O.BIFFVer==0,O.BIFFVer==0&&O.dt==4096&&(j.biff=5,G=!0,qs(j.codepage=28591)),j.biff==8&&O.BIFFVer==0&&O.dt==16&&(j.biff=2),Q++)break;if(a=t.dense?[]:{},j.biff<8&&!G&&(G=!0,qs(j.codepage=t.codepage||1252)),j.biff<5||O.BIFFVer==0&&O.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var pe={pos:e.l-W,name:u};i[pe.pos]=pe,j.snames.push(u)}else u=(i[ae]||{name:""}).name;O.dt==32&&(a["!type"]="chart"),O.dt==64&&(a["!type"]="macro"),M=[],H=[],j.arrayf=b=[],q=[],Y=[],X=!1,w={Hidden:(i[ae]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[O.r]||[])[O.c]:a[Xt({c:O.c,r:O.r})])&&++O.c,y={ixfe:O.ixfe,XF:S[O.ixfe]||{},v:O.val,t:"n"},E>0&&(y.z=R[y.ixfe>>8&63]),lo(y,t,r.opts.Date1904),A({c:O.c,r:O.r},y,t);break;case 5:case 517:y={ixfe:O.ixfe,XF:S[O.ixfe],v:O.val,t:O.t},E>0&&(y.z=R[y.ixfe>>8&63]),lo(y,t,r.opts.Date1904),A({c:O.c,r:O.r},y,t);break;case 638:y={ixfe:O.ixfe,XF:S[O.ixfe],v:O.rknum,t:"n"},E>0&&(y.z=R[y.ixfe>>8&63]),lo(y,t,r.opts.Date1904),A({c:O.c,r:O.r},y,t);break;case 189:for(var K=O.c;K<=O.C;++K){var ne=O.rkrec[K-O.c][0];y={ixfe:ne,XF:S[ne],v:O.rkrec[K-O.c][1],t:"n"},E>0&&(y.z=R[y.ixfe>>8&63]),lo(y,t,r.opts.Date1904),A({c:K,r:O.r},y,t)}break;case 6:case 518:case 1030:{if(O.val=="String"){o=O;break}if(y=nv(O.val,O.cell.ixfe,O.tt),y.XF=S[y.ixfe],t.cellFormula){var Te=O.formula;if(Te&&Te[0]&&Te[0][0]&&Te[0][0][0]=="PtgExp"){var Ee=Te[0][0][1][0],$e=Te[0][0][1][1],Pe=Xt({r:Ee,c:$e});v[Pe]?y.f=""+Ya(O.formula,s,O.cell,I,j):y.F=((t.dense?(a[Ee]||[])[$e]:a[Pe])||{}).F}else y.f=""+Ya(O.formula,s,O.cell,I,j)}E>0&&(y.z=R[y.ixfe>>8&63]),lo(y,t,r.opts.Date1904),A(O.cell,y,t),o=O}break;case 7:case 519:if(o)o.val=O,y=nv(O,o.cell.ixfe,"s"),y.XF=S[y.ixfe],t.cellFormula&&(y.f=""+Ya(o.formula,s,o.cell,I,j)),E>0&&(y.z=R[y.ixfe>>8&63]),lo(y,t,r.opts.Date1904),A(o.cell,y,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(O);var Fe=Xt(O[0].s);if(p=t.dense?(a[O[0].s.r]||[])[O[0].s.c]:a[Fe],t.cellFormula&&p){if(!o||!Fe||!p)break;p.f=""+Ya(O[1],s,O[0],I,j),p.F=Sr(O[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;v[Xt(o.cell)]=O[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Xt(o.cell)],(p||{}).f=""+Ya(O[0],s,f,I,j)}}break;case 253:y=nv(c[O.isst].t,O.ixfe,"s"),c[O.isst].h&&(y.h=c[O.isst].h),y.XF=S[y.ixfe],E>0&&(y.z=R[y.ixfe>>8&63]),lo(y,t,r.opts.Date1904),A({c:O.c,r:O.r},y,t);break;case 513:t.sheetStubs&&(y={ixfe:O.ixfe,XF:S[O.ixfe],t:"z"},E>0&&(y.z=R[y.ixfe>>8&63]),lo(y,t,r.opts.Date1904),A({c:O.c,r:O.r},y,t));break;case 190:if(t.sheetStubs)for(var ve=O.c;ve<=O.C;++ve){var me=O.ixfe[ve-O.c];y={ixfe:me,XF:S[me],t:"z"},E>0&&(y.z=R[y.ixfe>>8&63]),lo(y,t,r.opts.Date1904),A({c:ve,r:O.r},y,t)}break;case 214:case 516:case 4:y=nv(O.val,O.ixfe,"s"),y.XF=S[y.ixfe],E>0&&(y.z=R[y.ixfe>>8&63]),lo(y,t,r.opts.Date1904),A({c:O.c,r:O.r},y,t);break;case 0:case 512:Q===1&&(s=O);break;case 252:c=O;break;case 1054:if(j.biff==4){R[E++]=O[1];for(var le=0;le<E+163&&rr[le]!=O[1];++le);le>=163&&Iu(O[1],E+163)}else Iu(O[1],O[0]);break;case 30:{R[E++]=O;for(var be=0;be<E+163&&rr[be]!=O;++be);be>=163&&Iu(O,E+163)}break;case 229:M=M.concat(O);break;case 93:H[O.cmo[0]]=j.lastobj=O;break;case 438:j.lastobj.TxO=O;break;case 127:j.lastobj.ImData=O;break;case 440:for(x=O[0].s.r;x<=O[0].e.r;++x)for(g=O[0].s.c;g<=O[0].e.c;++g)p=t.dense?(a[x]||[])[g]:a[Xt({c:g,r:x})],p&&(p.l=O[1]);break;case 2048:for(x=O[0].s.r;x<=O[0].e.r;++x)for(g=O[0].s.c;g<=O[0].e.c;++g)p=t.dense?(a[x]||[])[g]:a[Xt({c:g,r:x})],p&&p.l&&(p.l.Tooltip=O[1]);break;case 28:{if(j.biff<=5&&j.biff>=2)break;p=t.dense?(a[O[0].r]||[])[O[0].c]:a[Xt(O[0])];var Oe=H[O[2]];p||(t.dense?(a[O[0].r]||(a[O[0].r]=[]),p=a[O[0].r][O[0].c]={t:"z"}):p=a[Xt(O[0])]={t:"z"},s.e.r=Math.max(s.e.r,O[0].r),s.s.r=Math.min(s.s.r,O[0].r),s.e.c=Math.max(s.e.c,O[0].c),s.s.c=Math.min(s.s.c,O[0].c)),p.c||(p.c=[]),m={a:O[1],t:Oe.TxO.t},p.c.push(m)}break;case 2173:$Z(S[O.ixfe],O.ext);break;case 125:{if(!j.cellStyles)break;for(;O.e>=O.s;)q[O.e--]={width:O.w/256,level:O.level||0,hidden:!!(O.flags&1)},X||(X=!0,z3(O.w/256)),th(q[O.e+1])}break;case 520:{var je={};O.level!=null&&(Y[O.r]=je,je.level=O.level),O.hidden&&(Y[O.r]=je,je.hidden=!0),O.hpt&&(Y[O.r]=je,je.hpt=O.hpt,je.hpx=_m(O.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||tm(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ee]]=O;break;case 161:a["!margins"]||tm(a["!margins"]={}),a["!margins"].header=O.header,a["!margins"].footer=O.footer;break;case 574:O.RTL&&(N.Views[0].RTL=!0);break;case 146:T=O;break;case 2198:F=O;break;case 140:C=O;break;case 442:u?w.CodeName=O||w.name:N.WBProps.CodeName=O||"ThisWorkbook";break}}else Z||console.error("Missing Info for XLS Record 0x"+ee.toString(16)),e.l+=W}return r.SheetNames=Oo(i).sort(function(Ae,Be){return Number(Ae)-Number(Be)}).map(function(Ae){return i[Ae].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&U.forEach(function(Ae,Be){r.Sheets[r.SheetNames[Be]]["!autofilter"]=Ae}),r.Strings=c,r.SSF=Ea(rr),j.enc&&(r.Encryption=j.enc),F&&(r.Themes=F),r.Metadata={},C!==void 0&&(r.Metadata.Country=C),I.names.length>0&&(N.Names=I.names),r.Workbook=N,r}var FC={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function hne(e,t,r){var n=kr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=yC(n,EX,FC.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var s=kr.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=yC(s,OX,FC.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(TM(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function f7(e,t){t||(t={}),X3(t),U$(),t.codepage&&C3(t.codepage);var r,n;if(e.FullPaths){if(kr.find(e,"/encryption"))throw new Error("File is password-protected");r=kr.find(e,"!CompObj"),n=kr.find(e,"/Workbook")||kr.find(e,"/Book")}else{switch(t.type){case"base64":e=Us(Gi(e));break;case"binary":e=Us(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Aa(e,0),n={content:e}}var a,i;if(r&&cne(r),t.bookProps&&!t.bookSheets)a={};else{var s=yr?"buffer":"array";if(n&&n.content)a=fne(n.content,t);else if((i=kr.find(e,"PerfectOffice_MAIN"))&&i.content)a=Zp.to_workbook(i.content,(t.type=s,t));else if((i=kr.find(e,"NativeContent_MAIN"))&&i.content)a=Zp.to_workbook(i.content,(t.type=s,t));else throw(i=kr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&kr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=QZ(e))}var o={};return e.FullPaths&&hne(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var uy={0:{f:Gte},1:{f:Qte},2:{f:ore},3:{f:rre},4:{f:ere},5:{f:sre},6:{f:ure},7:{f:are},8:{f:mre},9:{f:pre},10:{f:fre},11:{f:hre},12:{f:Zte},13:{f:lre},14:{f:nre},15:{f:tre},16:{f:o7},17:{f:dre},18:{f:ire},19:{f:R3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Wre},40:{},42:{},43:{f:fZ},44:{f:dZ},45:{f:hZ},46:{f:mZ},47:{f:pZ},48:{},49:{f:gX},50:{},51:{f:FZ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:UM},62:{f:cre},63:{f:UZ},64:{f:Sre},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Qa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:kre},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Jte},148:{f:Kte,p:16},151:{f:vre},152:{},153:{f:Bre},154:{},155:{},156:{f:Rre},157:{},158:{},159:{T:1,f:OQ},160:{T:-1},161:{T:1,f:yd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:gre},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:MZ},336:{T:-1},337:{f:LZ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Q_},357:{},358:{},359:{},360:{T:1},361:{},362:{f:BM},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:yre},427:{f:bre},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:_re},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Xte},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:xre},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Q_},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:KZ},633:{T:1},634:{T:-1},635:{T:1,f:GZ},636:{T:-1},637:{f:vX},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Ere},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Nre},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},nk={6:{f:o5},10:{f:tc},12:{f:Qn},13:{f:Qn},14:{f:Fn},15:{f:Fn},16:{f:Ga},17:{f:Fn},18:{f:Fn},19:{f:Qn},20:{f:kC},21:{f:kC},23:{f:BM},24:{f:NC},25:{f:Fn},26:{},27:{},28:{f:YJ},29:{},34:{f:Fn},35:{f:SC},38:{f:Ga},39:{f:Ga},40:{f:Ga},41:{f:Ga},42:{f:Fn},43:{f:Fn},47:{f:XQ},49:{f:AJ},51:{f:Qn},60:{},61:{f:SJ},64:{f:Fn},65:{f:jJ},66:{f:Qn},77:{},80:{},81:{},82:{},85:{f:Qn},89:{},90:{},91:{},92:{f:gJ},93:{f:GJ},94:{},95:{f:Fn},96:{},97:{},99:{f:Fn},125:{f:UM},128:{f:LJ},129:{f:xJ},130:{f:Qn},131:{f:Fn},132:{f:Fn},133:{f:vJ},134:{},140:{f:eQ},141:{f:Qn},144:{},146:{f:rQ},151:{},152:{},153:{},154:{},155:{},156:{f:Qn},157:{},158:{},160:{f:oQ},161:{f:aQ},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:DJ},190:{f:$J},193:{f:tc},197:{},198:{},199:{},200:{},201:{},202:{f:Fn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Qn},220:{},221:{f:Fn},222:{},224:{f:FJ},225:{f:mJ},226:{f:tc},227:{},229:{f:VJ},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:yJ},253:{f:CJ},255:{f:bJ},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:$M},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Fn},353:{f:tc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:RJ},431:{f:Fn},432:{},433:{},434:{},437:{},438:{f:JJ},439:{f:Fn},440:{f:QJ},441:{},442:{f:Eg},443:{},444:{f:Qn},445:{},446:{},448:{f:tc},449:{f:kJ,r:2},450:{f:tc},512:{f:wC},513:{f:sQ},515:{f:IJ},516:{f:TJ},517:{f:_C},519:{f:lQ},520:{f:wJ},523:{},545:{f:jC},549:{f:bC},566:{},574:{f:NJ},638:{f:PJ},659:{},1048:{},1054:{f:EJ},1084:{},1212:{f:qJ},2048:{f:ZJ},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:ev},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:tc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:nQ,r:12},2173:{f:DZ,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Fn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:WJ,r:12},2197:{},2198:{f:AZ,r:12},2199:{},2200:{},2201:{},2202:{f:HJ,r:12},2203:{f:tc},2204:{},2205:{},2206:{},2207:{},2211:{f:_J},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Qn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:iQ},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:tQ},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:wC},1:{},2:{f:fQ},3:{f:dQ},4:{f:uQ},5:{f:_C},7:{f:hQ},8:{},9:{f:ev},11:{},22:{f:Qn},30:{f:OJ},31:{},32:{},33:{f:jC},36:{},37:{f:bC},50:{f:pQ},62:{},52:{},67:{},68:{f:Qn},69:{},86:{},126:{},127:{f:cQ},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:mQ},223:{},234:{},354:{},421:{},518:{f:o5},521:{f:ev},536:{f:NC},547:{f:SC},561:{},579:{},1030:{f:o5},1033:{f:ev},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function $s(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&wM(r)&&e.push(r)}}function LC(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,c=IK(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(s=0;s<c.length;++s){var g=c[s].trim(),x=g.slice(0,3).toLowerCase();if(x=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(x!="<td"&&x!="<th")){var v=g.split(/<\/t[dh]>/i);for(o=0;o<v.length;++o){var b=v[o].trim();if(b.match(/<t[dh]/i)){for(var y=b,C=0;y.charAt(0)=="<"&&(C=y.indexOf(">"))>-1;)y=y.slice(C+1);for(var S=0;S<m.length;++S){var T=m[S];T.s.c==d&&T.s.r<u&&u<=T.e.r&&(d=T.e.c+1,S=-1)}var N=qt(b.slice(0,b.indexOf(">")));h=N.colspan?+N.colspan:1,((f=+N.rowspan)>1||h>1)&&m.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var w=N.t||N["data-t"]||"";if(!y.length){d+=h;continue}if(y=lM(y),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!y.length){d+=h;continue}var _={t:"s",v:y};r.raw||!y.trim().length||w=="s"||(y==="TRUE"?_={t:"b",v:!0}:y==="FALSE"?_={t:"b",v:!1}:isNaN(Vs(y))?isNaN(eh(y).getDate())||(_={t:"d",v:va(y)},r.cellDates||(_={t:"n",v:xi(_.v)}),_.z=r.dateNF||rr[14]):_={t:"n",v:Vs(y)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=_):n[Xt({r:u,c:d})]=_,d+=h}}}}return n["!ref"]=Sr(p),m.length&&(n["!merges"]=m),n}function pne(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>s)&&!(a[u].e.r<r||a[u].e.c<s)){if(a[u].s.r<r||a[u].s.c<s){o=-1;break}o=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var d=Xt({r,c:s}),f=n.dense?(e[r]||[])[s]:e[d],h=f&&f.v!=null&&(f.h||$3(f.w||(jl(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(eX("td",h,p))}}var m="<tr>";return m+i.join("")+"</tr>"}var mne='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',gne="</body></html>";function xne(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Gc(LC(r[0],t),t);var n=Q3();return r.forEach(function(a,i){Z3(n,LC(a,t),"Sheet"+(i+1))}),n}function vne(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function yne(e,t){var r=t||{},n=r.header!=null?r.header:mne,a=r.footer!=null?r.footer:gne,i=[n],s=Gh(e["!ref"]);r.dense=Array.isArray(e),i.push(vne(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(pne(e,s,o,r));return i.push("</table>"+a),i.join("")}function h7(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?li(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Gh(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),m=0,g=0,x=0,v=0,b=0,y=0;for(e["!cols"]||(e["!cols"]=[]);m<o.length&&g<c;++m){var C=o[m];if(IC(C)){if(n.display)continue;p[g]={hidden:!0}}var S=C.children;for(x=v=0;x<S.length;++x){var T=S[x];if(!(n.display&&IC(T))){var N=T.hasAttribute("data-v")?T.getAttribute("data-v"):T.hasAttribute("v")?T.getAttribute("v"):lM(T.innerHTML),w=T.getAttribute("data-z")||T.getAttribute("z");for(h=0;h<f.length;++h){var _=f[h];_.s.c==v+i&&_.s.r<g+a&&g+a<=_.e.r&&(v=_.e.c+1-i,h=-1)}y=+T.getAttribute("colspan")||1,((b=+T.getAttribute("rowspan")||1)>1||y>1)&&f.push({s:{r:g+a,c:v+i},e:{r:g+a+(b||1)-1,c:v+i+(y||1)-1}});var P={t:"s",v:N},A=T.getAttribute("data-t")||T.getAttribute("t")||"";N!=null&&(N.length==0?P.t=A||"z":n.raw||N.trim().length==0||A=="s"||(N==="TRUE"?P={t:"b",v:!0}:N==="FALSE"?P={t:"b",v:!1}:isNaN(Vs(N))?isNaN(eh(N).getDate())||(P={t:"d",v:va(N)},n.cellDates||(P={t:"n",v:xi(P.v)}),P.z=n.dateNF||rr[14]):P={t:"n",v:Vs(N)})),P.z===void 0&&w!=null&&(P.z=w);var j="",F=T.getElementsByTagName("A");if(F&&F.length)for(var M=0;M<F.length&&!(F[M].hasAttribute("href")&&(j=F[M].getAttribute("href"),j.charAt(0)!="#"));++M);j&&j.charAt(0)!="#"&&(P.l={Target:j}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][v+i]=P):e[Xt({c:v+i,r:g+a})]=P,u.e.c<v+i&&(u.e.c=v+i),v+=y}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=Sr(u),g>=c&&(e["!fullref"]=Sr((u.e.r=o.length-m+g-1+a,u))),e}function p7(e,t){var r=t||{},n=r.dense?[]:{};return h7(n,e,t)}function bne(e,t){return Gc(p7(e,t),t)}function IC(e){var t="",r=wne(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function wne(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function _ne(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Cr(t.replace(/<[^>]*>/g,""));return[r]}var RC={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function m7(e,t){var r=t||{},n=M3(e),a=[],i,s,o={name:""},c="",u=0,d,f,h={},p=[],m=r.dense?[]:{},g,x,v={value:""},b="",y=0,C=[],S=-1,T=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},w=0,_={},P=[],A={},j=0,F=0,M=[],H=1,q=1,Y=[],X={Names:[]},I={},J=["",""],Q=[],E={},R="",U=0,z=!1,G=!1,ae=0;for(ym.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=ym.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?m["!ref"]=Sr(N):m["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=N.e.r&&(m["!fullref"]=m["!ref"],N.e.r=r.sheetRows-1,m["!ref"]=Sr(N)),P.length&&(m["!merges"]=P),M.length&&(m["!rows"]=M),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),h[d.name]=m,G=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=qt(g[0],!1),S=T=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,m=r.dense?[]:{},P=[],M=[],G=!0);break;case"table-row-group":g[1]==="/"?--w:++w;break;case"table-row":case"":if(g[1]==="/"){S+=H,H=1;break}if(f=qt(g[0],!1),f.?S=f.-1:S==-1&&(S=0),H=+f["number-rows-repeated"]||1,H<10)for(ae=0;ae<H;++ae)w>0&&(M[S+ae]={level:w});T=-1;break;case"covered-table-cell":g[1]!=="/"&&++T,r.sheetStubs&&(r.dense?(m[S]||(m[S]=[]),m[S][T]={t:"z"}):m[Xt({r:S,c:T})]={t:"z"}),b="",C=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++T,v=qt(g[0],!1),q=parseInt(v["number-columns-repeated"]||"1",10),x={t:"z",v:null},v.formula&&r.cellFormula!=!1&&(x.f=DC(Cr(v.formula))),(v.||v["value-type"])=="string"&&(x.t="s",x.v=Cr(v["string-value"]||""),r.dense?(m[S]||(m[S]=[]),m[S][T]=x):m[Xt({r:S,c:T})]=x),T+=q-1;else if(g[1]!=="/"){++T,b="",y=0,C=[],q=1;var ee=H?S+H-1:S;if(T>N.e.c&&(N.e.c=T),T<N.s.c&&(N.s.c=T),S<N.s.r&&(N.s.r=S),ee>N.e.r&&(N.e.r=ee),v=qt(g[0],!1),Q=[],E={},x={t:v.||v["value-type"],v:null},r.cellFormula)if(v.formula&&(v.formula=Cr(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(j=parseInt(v["number-matrix-rows-spanned"],10)||0,F=parseInt(v["number-matrix-columns-spanned"],10)||0,A={s:{r:S,c:T},e:{r:S+j-1,c:T+F-1}},x.F=Sr(A),Y.push([A,x.F])),v.formula)x.f=DC(v.formula);else for(ae=0;ae<Y.length;++ae)S>=Y[ae][0].s.r&&S<=Y[ae][0].e.r&&T>=Y[ae][0].s.c&&T<=Y[ae][0].e.c&&(x.F=Y[ae][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(j=parseInt(v["number-rows-spanned"],10)||0,F=parseInt(v["number-columns-spanned"],10)||0,A={s:{r:S,c:T},e:{r:S+j-1,c:T+F-1}},P.push(A)),v["number-columns-repeated"]&&(q=parseInt(v["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=gn(v["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(v.value);break;case"percentage":x.t="n",x.v=parseFloat(v.value);break;case"currency":x.t="n",x.v=parseFloat(v.value);break;case"date":x.t="d",x.v=va(v["date-value"]),r.cellDates||(x.t="n",x.v=xi(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=MK(v["time-value"])/86400,r.cellDates&&(x.t="d",x.v=G1(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(v.);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",v["string-value"]!=null&&(b=Cr(v["string-value"]),C=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(z=!1,x.t==="s"&&(x.v=b||"",C.length&&(x.R=C),z=y==0),I.Target&&(x.l=I),Q.length>0&&(x.c=Q,Q=[]),b&&r.cellText!==!1&&(x.w=b),z&&(x.t="z",delete x.v),(!z||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var W=0;W<H;++W){if(q=parseInt(v["number-columns-repeated"]||"1",10),r.dense)for(m[S+W]||(m[S+W]=[]),m[S+W][T]=W==0?x:Ea(x);--q>0;)m[S+W][T+q]=Ea(x);else for(m[Xt({r:S+W,c:T})]=x;--q>0;)m[Xt({r:S+W,c:T+q})]=Ea(x);N.e.c<=T&&(N.e.c=T)}q=parseInt(v["number-columns-repeated"]||"1",10),T+=q-1,q=0,x={},b="",C=[]}I={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i;E.t=b,C.length&&(E.R=C),E.a=R,Q.push(E)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);R="",U=0,b="",y=0,C=[];break;case"creator":g[1]==="/"?R=n.slice(U,g.index):U=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);b="",y=0,C=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(_[o.name]=c,(i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(c="",o=qt(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=qt(g[0],!1),c+=RC[g[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=qt(g[0],!1),c+=RC[g[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":s=qt(g[0],!1),J=l5(s["cell-range-address"]);var Z={Name:s.name,Ref:J[0]+"!"+J[1]};G&&(Z.Sheet=p.length),X.Names.push(Z);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!v||!v["string-value"])){var re=_ne(n.slice(y,g.index));b=(b.length>0?b+`
`:"")+re[0]}else qt(g[0],!1),y=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{J=l5(qt(g[0])["target-range-address"]),h[J[0]]["!autofilter"]={ref:J[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(I=qt(g[0],!1),!I.href)break;I.Target=Cr(I.href),delete I.href,I.Target.charAt(0)=="#"&&I.Target.indexOf(".")>-1?(J=l5(I.Target.slice(1)),I.Target="#"+J[0]+"!"+J[1]):I.Target.match(/^\.\.[\\\/]/)&&(I.Target=I.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(g)}}var O={Sheets:h,SheetNames:p,Workbook:X};return r.bookSheets&&delete O.Sheets,O}function BC(e,t){t=t||{},ls(e,"META-INF/manifest.xml")&&IX(Jn(e,"META-INF/manifest.xml"),t);var r=qi(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=m7(cn(r),t);return ls(e,"meta.xml")&&(n.Props=CM(Jn(e,"meta.xml"))),n}function UC(e,t){return m7(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function G3(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ak(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):cn(xd(e))}function ik(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function WC(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function kne(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function km(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function ua(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Ka(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=km(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=km(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function K3(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Sne(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=km(e,n),i=Ka(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:ua(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=Ka(o.data),u=ua(c[3][0].data);s.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(s.merge=ua(i[3][0].data)>>>0>0),r.push(s)}return r}function Nne(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=km(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[ik(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=ik(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function jne(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Nne(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return ik(t)}function Ane(e,t,r,n){var a=G3(e),i=a.getUint32(4,!0),s=(n>1?12:8)+WC(i&(n>1?3470:398))*4,o=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=WC(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(s,!0),s+=4),i&32&&(u=a.getFloat64(s,!0),s+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function Cne(e,t,r){var n=G3(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=kne(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function Tne(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Ane(e,t,r,e[0]);case 5:return Cne(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function wc(e){var t=Ka(e);return km(t[1][0].data)}function qC(e,t){var r=Ka(t.data),n=ua(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=Ka(s.data),c=ua(o[1][0].data)>>>0;switch(n){case 1:i[c]=ak(o[3][0].data);break;case 8:{var u=e[wc(o[9][0].data)][0],d=Ka(u.data),f=e[wc(d[1][0].data)][0],h=ua(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Ka(f.data);i[c]=p[3].map(function(m){return ak(m.data)}).join("")}break}}),i}function Ene(e,t){var r,n,a,i,s,o,c,u,d,f,h,p,m,g,x=Ka(e),v=ua(x[1][0].data)>>>0,b=ua(x[2][0].data)>>>0,y=((n=(r=x[8])==null?void 0:r[0])==null?void 0:n.data)&&ua(x[8][0].data)>0||!1,C,S;if((i=(a=x[7])==null?void 0:a[0])!=null&&i.data&&t!=0)C=(o=(s=x[7])==null?void 0:s[0])==null?void 0:o.data,S=(u=(c=x[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=x[4])==null?void 0:d[0])!=null&&f.data&&t!=1)C=(p=(h=x[4])==null?void 0:h[0])==null?void 0:p.data,S=(g=(m=x[3])==null?void 0:m[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var T=y?4:1,N=G3(C),w=[],_=0;_<C.length/2;++_){var P=N.getUint16(_*2,!0);P<65535&&w.push([_,P])}if(w.length!=b)throw"Expected ".concat(b," cells, found ").concat(w.length);var A=[];for(_=0;_<w.length-1;++_)A[w[_][0]]=S.subarray(w[_][1]*T,w[_+1][1]*T);return w.length>=1&&(A[w[w.length-1][0]]=S.subarray(w[w.length-1][1]*T)),{R:v,cells:A}}function One(e,t){var r,n=Ka(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?ua(n[7][0].data)>>>0>0?1:0:-1,i=K3(n[5],function(s){return Ene(s,a)});return{nrows:ua(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(c,u){if(s[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));s[o.R][u]=c}),s},[])}}function Pne(e,t,r){var n,a=Ka(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(ua(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(ua(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Sr(i);var s=Ka(a[4][0].data),o=qC(e,e[wc(s[4][0].data)][0]),c=(n=s[17])!=null&&n[0]?qC(e,e[wc(s[17][0].data)][0]):[],u=Ka(s[3][0].data),d=0;u[1].forEach(function(f){var h=Ka(f.data),p=e[wc(h[2][0].data)][0],m=ua(p.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var g=One(e,p);g.data.forEach(function(x,v){x.forEach(function(b,y){var C=Xt({r:d+v,c:y}),S=Tne(b,o,c);S&&(r[C]=S)})}),d+=g.nrows})}function Dne(e,t){var r=Ka(t.data),n={"!ref":"A1"},a=e[wc(r[2][0].data)],i=ua(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Pne(e,a[0],n),n}function $ne(e,t){var r,n=Ka(t.data),a={name:(r=n[1])!=null&&r[0]?ak(n[1][0].data):"",sheets:[]},i=K3(n[2],wc);return i.forEach(function(s){e[s].forEach(function(o){var c=ua(o.meta[1][0].data);c==6e3&&a.sheets.push(Dne(e,o))})}),a}function Mne(e,t){var r=Q3(),n=Ka(t.data),a=K3(n[1],wc);if(a.forEach(function(i){e[i].forEach(function(s){var o=ua(s.meta[1][0].data);if(o==2){var c=$ne(e,s);c.sheets.forEach(function(u,d){Z3(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function u5(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=jne(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=Sne(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&ua(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(c){i[c].forEach(function(u){var d=ua(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Mne(i,o)}function Fne(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function X3(e){Fne([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Lne(e){return Cf.WS.indexOf(e)>-1?"sheet":e==Cf.CS?"chart":e==Cf.DS?"dialog":e==Cf.MS?"macro":e&&e.length?e:"sheet"}function Ine(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Lne(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Rne(e,t,r,n,a,i,s,o,c,u,d,f){try{i[n]=Jp(qi(e,r,!0),t);var h=Jn(e,t),p;switch(o){case"sheet":p=zre(h,t,a,c,i[n],u,d,f);break;case"chart":if(p=Yre(h,t,a,c,i[n],u,d,f),!p||!p["!drawel"])break;var m=Op(p["!drawel"].Target,t),g=Z_(m),x=HZ(qi(e,m,!0),Jp(qi(e,g,!0),m)),v=Op(x,m),b=Z_(v);p=Cre(qi(e,v,!0),v,c,Jp(qi(e,b,!0),v),u,p);break;case"macro":p=Vre(h,t,a,c,i[n],u,d,f);break;case"dialog":p=Gre(h,t,a,c,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=p;var y=[];i&&i[n]&&Oo(i[n]).forEach(function(C){var S="";if(i[n][C].Type==Cf.CMNT){S=Op(i[n][C].Target,t);var T=Qre(Jn(e,S,!0),S,c);if(!T||!T.length)return;CC(p,T,!1)}i[n][C].Type==Cf.TCMNT&&(S=Op(i[n][C].Target,t),y=y.concat(YZ(Jn(e,S,!0),c)))}),y&&y.length&&CC(p,y,!0,c.people||[])}catch(C){if(c.WTF)throw C}}function as(e){return e.charAt(0)=="/"?e.slice(1):e}function Bne(e,t){if(Z$(),t=t||{},X3(t),ls(e,"META-INF/manifest.xml")||ls(e,"objectdata.xml"))return BC(e,t);if(ls(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof u5<"u"){if(e.FileIndex)return u5(e);var r=kr.utils.cfb_new();return tC(e).forEach(function(M){UK(r,M,BK(e,M))}),u5(r)}throw new Error("Unsupported NUMBERS file")}if(!ls(e,"[Content_Types].xml"))throw ls(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ls(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=tC(e),a=FX(qi(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",Jn(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!Jn(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(em=[],a.sst)try{em=Jre(Jn(e,as(a.sst)),a.sst,t)}catch(M){if(t.WTF)throw M}t.cellStyles&&a.themes.length&&(c=Xre(qi(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=Kre(Jn(e,as(a.style)),a.style,c,t))}a.links.map(function(M){try{var H=Jp(qi(e,Z_(as(M))),M);return ene(Jn(e,as(M)),H,M,t)}catch{}});var d=Hre(Jn(e,as(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=Jn(e,as(a.coreprops[0]),!0),h&&(f=CM(h)),a.extprops.length!==0&&(h=Jn(e,as(a.extprops[0]),!0),h&&UX(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=qi(e,as(a.custprops[0]),!0),h&&(p=qX(h,t)));var m={};if((t.bookSheets||t.bookProps)&&(d.Sheets?s=d.Sheets.map(function(H){return H.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(m.Props=f,m.Custprops=p),t.bookSheets&&typeof s<"u"&&(m.SheetNames=s),t.bookSheets?m.SheetNames:t.bookProps))return m;s={};var g={};t.bookDeps&&a.calcchain&&(g=Zre(Jn(e,as(a.calcchain)),a.calcchain));var x=0,v={},b,y;{var C=d.Sheets;f.Worksheets=C.length,f.SheetNames=[];for(var S=0;S!=C.length;++S)f.SheetNames[S]=C[S].name}var T=i?"bin":"xml",N=a.workbooks[0].lastIndexOf("/"),w=(a.workbooks[0].slice(0,N+1)+"_rels/"+a.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");ls(e,w)||(w="xl/_rels/workbook."+T+".rels");var _=Jp(qi(e,w,!0),w.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=tne(Jn(e,as(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=VZ(Jn(e,as(a.people[0])),t)),_&&(_=Ine(_,d.Sheets));var P=Jn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=f.Worksheets;++x){var A="sheet";if(_&&_[x]?(b="xl/"+_[x][1].replace(/[\/]?xl\//,""),ls(e,b)||(b=_[x][1]),ls(e,b)||(b=w.replace(/_rels\/.*$/,"")+_[x][1]),A=_[x][2]):(b="xl/worksheets/sheet"+(x+1-P)+"."+T,b=b.replace(/sheet0\./,"sheet.")),y=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(x!=t.sheets)continue e;break;case"string":if(f.SheetNames[x].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var j=!1,F=0;F!=t.sheets.length;++F)typeof t.sheets[F]=="number"&&t.sheets[F]==x&&(j=1),typeof t.sheets[F]=="string"&&t.sheets[F].toLowerCase()==f.SheetNames[x].toLowerCase()&&(j=1);if(!j)continue e}}Rne(e,b,y,f.SheetNames[x],x,v,s,A,t,d,c,u)}return m={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:g,Sheets:s,SheetNames:f.SheetNames,Strings:em,Styles:u,Themes:c,SSF:Ea(rr)},t&&t.bookFiles&&(e.files?(m.keys=n,m.files=e.files):(m.keys=[],m.files={},e.FullPaths.forEach(function(M,H){M=M.replace(/^Root Entry[\/]/,""),m.keys.push(M),m.files[M]=e.FileIndex[H]}))),t&&t.bookVBA&&(a.vba.length>0?m.vbaraw=Jn(e,as(a.vba[0]),!0):a.defaults&&a.defaults.bin===JZ&&(m.vbaraw=Jn(e,"xl/vbaProject.bin",!0))),m}function Une(e,t){var r=t||{},n="Workbook",a=kr.find(e,n);try{if(n="/!DataSpaces/Version",a=kr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(DQ(a.content),n="/!DataSpaces/DataSpaceMap",a=kr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=MQ(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=kr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=FQ(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=kr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);IQ(a.content)}catch{}if(n="/EncryptionInfo",a=kr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=RQ(a.content);if(n="/EncryptedPackage",a=kr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function J3(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Gi(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Wne(e,t){return kr.find(e,"EncryptedPackage")?Une(e,t):f7(e,t)}function qne(e,t){var r,n=e,a=t||{};return a.type||(a.type=yr&&Buffer.isBuffer(e)?"buffer":"base64"),r=iM(n,a),Bne(r,a)}function g7(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return rk(e.slice(r),t);default:break e}return bm.to_workbook(e,t)}function Hne(e,t){var r="",n=J3(e,t);switch(t.type){case"base64":r=Gi(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Xu(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=cn(r)),t.type="binary",g7(r,t)}function zne(e,t){var r=e;return t.type=="base64"&&(r=Gi(r)),r=X_.utils.decode(1200,r.slice(2),"str"),t.type="binary",g7(r,t)}function Yne(e){return e.match(/[^\x00-\x7F]/)?Pp(e):e}function d5(e,t,r,n){return n?(r.type="string",bm.to_workbook(e,r)):bm.to_workbook(t,r)}function rh(e,t){U$();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return rh(new Uint8Array(e),(r=Ea(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Lf={},r.dateNF&&(Lf.dateNF=r.dateNF),r.type||(r.type=yr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=yr?"buffer":"binary",n=DK(e),typeof Uint8Array<"u"&&!yr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=Yne(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Ea(r),r.type="array",rh(T3(n),r)}switch((a=J3(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Wne(kr.read(n,r),r);break;case 9:if(a[1]<=8)return f7(n,r);break;case 60:return rk(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return bQ(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return vQ.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?qne(n,r):d5(e,n,r,i);case 239:return a[3]===60?rk(n,r):d5(e,n,r,i);case 255:if(a[1]===254)return zne(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Zp.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Zp.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return AC.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return JQ.to_workbook(n,r);break;case 10:case 13:case 32:return Hne(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return gQ.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?AC.to_workbook(n,r):d5(e,n,r,i)}function Vne(e,t,r,n,a,i,s,o){var c=Oa(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var m=s?e[r][p]:e[n[p]+c];if(m===void 0||m.t===void 0){if(u===void 0)continue;i[p]!=null&&(h[i[p]]=u);continue}var g=m.v;switch(m.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(i[p]!=null){if(g==null)if(m.t=="e"&&g===null)h[i[p]]=null;else if(u!==void 0)h[i[p]]=u;else if(d&&g===null)h[i[p]]=null;else continue;else h[i[p]]=d&&(m.t!=="n"||m.t==="n"&&o.rawNumbers!==!1)?g:jl(m,g,o);g!=null&&(f=!1)}}return{row:h,isempty:f}}function sk(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=On(d);break;case"number":c=On(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Oa(c.s.r),h=[],p=[],m=0,g=0,x=Array.isArray(e),v=c.s.r,b=0,y={};x&&!e[v]&&(e[v]=[]);var C=u.skipHidden&&e["!cols"]||[],S=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(C[b]||{}).hidden)switch(h[b]=sa(b),r=x?e[v][b]:e[h[b]+f],n){case 1:i[b]=b-c.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=jl(r,null,u),g=y[s]||0,!g)y[s]=1;else{do o=s+"_"+g++;while(y[o]);y[s]=g,y[o]=1}i[b]=o}for(v=c.s.r+a;v<=c.e.r;++v)if(!(S[v]||{}).hidden){var T=Vne(e,c,v,h,n,i,x,u);(T.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[m++]=T.row)}return p.length=m,p}var HC=/"/g;function Gne(e,t,r,n,a,i,s,o){for(var c=!0,u=[],d="",f=Oa(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(o.rawNumbers&&p.t=="n"?p.v:jl(p,null,o));for(var m=0,g=0;m!==d.length;++m)if((g=d.charCodeAt(m))===a||g===i||g===34||o.forceQuotes){d='"'+d.replace(HC,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(HC,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&c?null:u.join(s)}function x7(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=On(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],m=a.s.c;m<=a.e.c;++m)(h[m]||{}).hidden||(f[m]=sa(m));for(var g=0,x=a.s.r;x<=a.e.r;++x)(p[x]||{}).hidden||(d=Gne(e,a,x,f,s,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?o:"")+d)));return delete n.dense,r.join("")}function Kne(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=x7(e,t);return r}function Xne(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=On(e["!ref"]),i="",s=[],o,c=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=sa(o);for(var d=a.s.r;d<=a.e.r;++d)for(i=Oa(d),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function v7(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?li(n.origin):n.origin;s=c.r,o=c.c}var u,d={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=On(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),s==-1&&(s=f.e.r+1,d.e.r=s+t.length-1+a)}else s==-1&&(s=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(g,x){Oo(g).forEach(function(v){(p=h.indexOf(v))==-1&&(h[p=h.length]=v);var b=g[v],y="z",C="",S=Xt({c:o+p,r:s+x+a});u=Sm(i,S),b&&typeof b=="object"&&!(b instanceof Date)?i[S]=b:(typeof b=="number"?y="n":typeof b=="boolean"?y="b":typeof b=="string"?y="s":b instanceof Date?(y="d",n.cellDates||(y="n",b=xi(b)),C=n.dateNF||rr[14]):b===null&&n.nullError&&(y="e",b=0),u?(u.t=y,u.v=b,delete u.w,delete u.R,C&&(u.z=C)):i[S]=u={t:y,v:b},C&&(u.z=C))})}),d.e.c=Math.max(d.e.c,o+h.length-1);var m=Oa(s);if(a)for(p=0;p<h.length;++p)i[sa(p+o)+m]={t:"s",v:h[p]};return i["!ref"]=Sr(d),i}function Jne(e,t){return v7(null,e,t)}function Sm(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=li(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Sm(e,Xt(t)):Sm(e,Xt({r:t,c:r||0}))}function Qne(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Q3(){return{SheetNames:[],Sheets:{}}}function Z3(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(Fre(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Zne(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Qne(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function eae(e,t){return e.z=t,e}function y7(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function tae(e,t,r){return y7(e,"#"+t,r)}function rae(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function nae(e,t,r,n){for(var a=typeof t!="string"?t:On(t),i=typeof t=="string"?t:Sr(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var c=Sm(e,s,o);c.t="n",c.F=i,delete c.v,s==a.s.r&&o==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var Q1={encode_col:sa,encode_row:Oa,encode_cell:Xt,encode_range:Sr,decode_col:I3,decode_row:L3,split_cell:mX,decode_cell:li,decode_range:Gh,format_cell:jl,sheet_add_aoa:kM,sheet_add_json:v7,sheet_add_dom:h7,aoa_to_sheet:Kh,json_to_sheet:Jne,table_to_sheet:p7,table_to_book:bne,sheet_to_csv:x7,sheet_to_txt:Kne,sheet_to_json:sk,sheet_to_html:yne,sheet_to_formulae:Xne,sheet_to_row_object_array:sk,sheet_get_cell:Sm,book_new:Q3,book_append_sheet:Z3,book_set_sheet_visibility:Zne,cell_set_number_format:eae,cell_set_hyperlink:y7,cell_set_internal_link:tae,cell_add_comment:rae,sheet_set_array_formula:nae,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const aae=(e,t,r,n)=>{const a=new Lt;a.setFontSize(20),a.text("Worker Report",20,20),a.setFontSize(8),a.text(`Worker: ${e.name}`,20,35),a.text(`Period: ${St(r.start,"MMM d, yyyy")} - ${St(r.end,"MMM d, yyyy")}`,20,45),t.filter(o=>o.status==="completed").reduce((o,c)=>o+c.amount,0);const s=t.map(o=>{const c=o.project||{name:"N/A"};return[St(new Date(o.created_at),"MMM d, yyyy"),c.name,o.description,o.status,`${o.amount.toFixed(2)}`]});return rK(a,{head:[["Date","Project","Description","Status",`Amount(${n})`]],body:s,startY:90,theme:"grid",headStyles:{fillColor:[66,139,202]},styles:{fontSize:8},columnStyles:{0:{cellWidth:30},1:{cellWidth:40},2:{cellWidth:50},3:{cellWidth:25},4:{cellWidth:25}}}),a};function iae(){var J;const[e,t]=L.useState(null),[r,n]=L.useState(!1),[a,i]=L.useState(null),[s,o]=L.useState([]),[c,u]=L.useState([]),[d,f]=L.useState(!0),[h,p]=L.useState(new Date),[m,g]=L.useState("week"),{id:x}=F1(),v=Lo(),{organization:b}=Zt(),{confirm:y,addToast:C}=Tr(),{theme:S,getThemeStyle:T}=Ht(),N=b!=null&&b.currency?((J=tn[b.currency])==null?void 0:J.symbol)||b.currency:tn.USD.symbol,w=()=>{switch(m){case"day":return{start:new Date(h.setHours(0,0,0,0)),end:new Date(h.setHours(23,59,59,999))};case"week":return{start:Js(h,{weekStartsOn:1}),end:Yh(h,{weekStartsOn:1})};case"month":return{start:Ng(h),end:Sg(h)};case"year":return{start:zh(h),end:jg(h)}}},{start:_,end:P}=w(),A=c.filter(Q=>{const E=new Date(Q.created_at);return E>=_&&E<=P});L.useEffect(()=>{!b||!x||j()},[x,b]);const j=async()=>{try{const{data:Q,error:E}=await We.from("workers").select("*, organization:organizations(id)").eq("id",x).single();if(E)throw E;t({...Q,organization_id:Q.organization.id}),i({...Q,organization_id:Q.organization.id});const{data:R,error:U}=await We.from("worker_projects").select("*").eq("worker_id",x).eq("status","active").order("created_at",{ascending:!1});if(U)throw U;o(R||[]);const{data:z,error:G}=await We.from("tasks").select(`
          *
        `).eq("worker_id",x).eq("organization_id",b==null?void 0:b.id).order("created_at",{ascending:!1});if(G)throw G;u(z||[])}catch(Q){console.error("Error loading data:",Q),C({type:"error",title:"Error",message:"Failed to load worker data. Please try again."})}finally{f(!1)}},F=async()=>{if(!(!e||!a||!b))try{const{error:Q}=await We.from("workers").update({name:a.name,whatsapp:a.whatsapp,image:a.image}).eq("id",e.id).eq("organization_id",b.id);if(Q)throw Q;t(a),n(!1),C({type:"success",title:"Worker Updated",message:"Worker details have been updated successfully."})}catch(Q){console.error("Error updating worker:",Q),C({type:"error",title:"Error",message:"Failed to update worker. Please try again."})}},M=async()=>{if(!(!e||!await y({title:"Delete Worker",message:"Are you sure you want to delete this worker? This action cannot be undone.",type:"danger",confirmText:"Delete",cancelText:"Cancel"})))try{if(e.image){const R=e.image.split("/").slice(-2).join("/");await We.storage.from("profiles").remove([R])}const{error:E}=await We.from("workers").delete().eq("id",e.id);if(E)throw E;C({type:"success",title:"Worker Deleted",message:"The worker has been deleted successfully."}),v("/dashboard/workers")}catch(E){console.error("Error deleting worker:",E),C({type:"error",title:"Error",message:"Failed to delete worker. Please try again."})}},H=Q=>{p(E=>{const R=new Date(E);switch(m){case"day":return Q==="prev"?Sl(R,-1):Sl(R,1);case"week":return Q==="prev"?Tc(R,-1):Tc(R,1);case"month":return Q==="prev"?Nl(R,-1):Nl(R,1);case"year":return Q==="prev"?Ec(R,-1):Ec(R,1)}})},q=Q=>{g(Q)},Y=async()=>{if(e)try{aae(e,A,{start:_,end:P},N).save(`${e.name}_report_${St(_,"yyyy-MM-dd")}.pdf`),C({type:"success",title:"Report Generated",message:"PDF report has been generated successfully."})}catch(Q){console.error("Error generating PDF report:",Q),C({type:"error",title:"Error",message:"Failed to generate PDF report. Please try again."})}},X=()=>{if(!(e!=null&&e.whatsapp)){C({type:"error",title:"Error",message:"No WhatsApp number available for this worker."});return}const Q=encodeURIComponent(`
Hi ${e.name},

Here's your work report:
Total Tasks: ${c.length}
Completed Tasks: ${c.filter(E=>E.status==="completed").length}
Total Earnings: ${N}${c.reduce((E,R)=>E+R.amount,0).toFixed(2)}
    `);window.open(`https://wa.me/${e.whatsapp}?text=${Q}`,"_blank")},I=async Q=>{if(!(!e||!Q.target.files||!Q.target.files[0]))try{const E=Q.target.files[0],R=E.name.split(".").pop(),U=`${e.id}-${Math.random()}.${R}`,z=`${e.organization_id}/${U}`,{error:G}=await We.storage.from("profiles").upload(z,E);if(G)throw G;const{data:{publicUrl:ae}}=We.storage.from("profiles").getPublicUrl(z),{error:ee}=await We.from("workers").update({image:ae}).eq("id",e.id);if(ee)throw ee;t(W=>W?{...W,image:ae}:null),i(W=>W?{...W,image:ae}:null),C({type:"success",title:"Success",message:"Profile image updated successfully."})}catch(E){console.error("Error uploading image:",E),C({type:"error",title:"Error",message:"Failed to upload image. Please try again."})}};return d?l.jsx("div",{className:`min-h-screen flex items-center justify-center ${T("background")}`,children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:`mt-4 ${T("text.secondary")}`,children:"Loading worker details..."})]})}):e?l.jsx("div",{className:"min-h-[calc(100vh-64px)] ",children:l.jsxs("div",{className:"flex flex-col lg:flex-row",children:[l.jsx("div",{className:"w-full lg:w-80  lg:border-r lg:min-h-[calc(100vh-64px)] ",children:l.jsxs("div",{className:"p-4 lg:p-6 space-y-6 lg:space-y-8",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsxs("div",{className:"relative inline-block",children:[e!=null&&e.image?l.jsx("img",{src:e.image,alt:e==null?void 0:e.name,className:"w-20 h-20 lg:w-24 lg:h-24 rounded-md mx-auto ring-4"}):l.jsx("div",{className:`w-20 h-20 lg:w-24 lg:h-24 rounded-md mx-auto ring-4 ${T(S,"background","secondary")} flex items-center justify-center bg-gray-100`,children:l.jsx(Qf,{className:"w-12 h-12 text-gray-400"})}),r&&l.jsxs("label",{className:"absolute bottom-0 right-0 p-1.5 bg-blue-600 rounded-full text-white hover:bg-blue-700 shadow-sm cursor-pointer",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"hidden"}),l.jsx(To,{className:"h-4 w-4"})]})]}),l.jsx("h2",{className:`mt-4 text-lg lg:text-xl font-semibold ${T("text.primary")} text-center`,children:e==null?void 0:e.name}),l.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-6",children:[l.jsxs("button",{onClick:Y,className:"flex flex-col items-center",children:[l.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-full ${T("button.secondary")}`,children:l.jsx(pm,{className:T("icon")})}),l.jsx("span",{className:`mt-1 text-xs ${T("text.secondary")}`,children:"PDF"})]}),(e==null?void 0:e.whatsapp)&&l.jsxs("button",{onClick:X,className:"flex flex-col items-center",children:[l.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-full ${T("button.secondary")}`,children:l.jsx(Xv,{className:T("icon")})}),l.jsx("span",{className:`mt-1 text-xs ${T("text.secondary")}`,children:"WhatsApp"})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:`text-sm font-bold ${T("text.primary")}`,children:"Worker Details"}),!r&&l.jsxs("button",{onClick:()=>n(!0),className:`inline-flex items-center px-2.5 py-1.5 border rounded-md text-xs font-medium ${T("button.secondary")}`,children:[l.jsx(To,{className:"h-3 w-3 mr-1"}),"Edit"]})]}),l.jsx("div",{className:"space-y-4",children:r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${T(S,"text","secondary")} mb-1`,children:"Name"}),l.jsx("input",{type:"text",value:(a==null?void 0:a.name)||"",onChange:Q=>i(E=>E?{...E,name:Q.target.value}:null),className:`block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ${T("input")}`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${T(S,"text","secondary")} mb-1`,children:"WhatsApp"}),l.jsx("input",{type:"text",value:(a==null?void 0:a.whatsapp)||"",onChange:Q=>i(E=>E?{...E,whatsapp:Q.target.value}:null),className:`block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ${T("input")}`})]}),l.jsxs("div",{className:"flex space-x-3 pt-2",children:[l.jsx("button",{onClick:F,className:"flex-1 inline-flex justify-center items-center px-3 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Save"}),l.jsx("button",{onClick:()=>{n(!1),i(e)},className:`flex-1 inline-flex justify-center items-center px-3 py-2 border rounded-md shadow-sm text-sm font-medium ${T("button.secondary")}`,children:"Cancel"})]})]}):l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(Xv,{className:`h-4 w-4 ${T(S,"icon")} mr-3`}),l.jsx("span",{className:T(S,"text","secondary"),children:(e==null?void 0:e.whatsapp)||"No phone number"})]})})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:`text-sm font-bold ${T(S,"text","primary")}`,children:"All Time Worker Stats"}),l.jsxs("div",{className:`divide-y ${T(S,"divider")}`,children:[l.jsx("div",{className:"py-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(ul,{className:`h-4 w-4 ${T(S,"icon")} mr-2`}),l.jsx("p",{className:`text-xs font-medium ${T(S,"text","secondary")}`,children:"Assigned Tasks"})]}),l.jsxs("p",{className:`text-xs font-semibold ${T(S,"text","primary")}`,children:[c.filter(Q=>Q.status==="pending").length," | ",N,c.filter(Q=>Q.status==="pending").reduce((Q,E)=>Q+E.amount,0).toFixed(2)]})]})}),l.jsx("div",{className:"py-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(mi,{className:`h-4 w-4 ${T(S,"icon")} mr-2`}),l.jsx("p",{className:`text-xs font-medium ${T(S,"text","secondary")}`,children:"In Progress"})]}),l.jsxs("p",{className:`text-xs font-semibold ${T(S,"text","primary")}`,children:[c.filter(Q=>Q.status==="in_progress").length," | ",N,c.filter(Q=>Q.status==="in_progress").reduce((Q,E)=>Q+E.amount,0).toFixed(2)]})]})}),l.jsx("div",{className:"py-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(vr,{className:`h-4 w-4 ${T(S,"icon")} mr-2`}),l.jsx("p",{className:`text-xs font-medium ${T(S,"text","secondary")}`,children:"Completed Tasks"})]}),l.jsxs("p",{className:`text-xs font-semibold ${T(S,"text","primary")}`,children:[c.filter(Q=>Q.status==="completed").length," | ",N,c.filter(Q=>Q.status==="completed").reduce((Q,E)=>Q+E.amount,0).toFixed(2)]})]})})]})]}),l.jsx(JV,{worker:e,workerProjects:s,setWorkerProjects:o,organization:b||{id:"",currency:"USD"}}),l.jsx("div",{className:"pt-3",children:l.jsxs("button",{onClick:M,className:`w-full inline-flex justify-center items-center px-3 py-2 border rounded-md text-xs font-medium ${T("button.danger")}`,children:[l.jsx(gi,{className:"h-4 w-4 mr-2"}),"Delete Worker"]})})]})}),l.jsxs("div",{className:`flex-1 p-4 lg:p-6 ${T("background")}`,children:[l.jsxs("div",{className:T("background"),children:[l.jsx("div",{className:"p-4",children:l.jsx(Ag,{currentDate:h,dateFilterType:m,onDateChange:H,onFilterTypeChange:q,itemCount:A.length,itemLabel:"tasks"})}),l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 p-4",children:[l.jsxs("div",{className:`border-l-4 border-yellow-500 p-3 flex items-center justify-between ${T("background")}`,children:[l.jsx("h3",{className:"text-xs font-medium text-yellow-800",children:"Assigned Tasks"}),l.jsx("p",{className:"text-base lg:text-lg font-bold text-yellow-600 mt-1",children:A.filter(Q=>Q.status==="pending").length})]}),l.jsxs("div",{className:`border-l-4 border-blue-500 p-3 flex items-center justify-between ${T("background")}`,children:[l.jsx("h3",{className:"text-xs font-medium text-blue-800",children:"In Progress"}),l.jsx("p",{className:"text-base lg:text-lg font-bold text-blue-600 mt-1",children:A.filter(Q=>Q.status==="in_progress").length})]}),l.jsxs("div",{className:`border-l-4 border-green-500 p-3 flex items-center justify-between ${T("background")}`,children:[l.jsx("h3",{className:"text-xs font-medium text-green-800",children:"Completed"}),l.jsx("p",{className:"text-base lg:text-lg font-bold text-green-600 mt-1",children:A.filter(Q=>Q.status==="completed").length})]}),l.jsxs("div",{className:`border-l-4 border-gray-400 p-3 flex items-center justify-between ${T("background")}`,children:[l.jsx("h3",{className:"text-xs font-medium text-gray-800",children:"Cancelled"}),l.jsx("p",{className:"text-base lg:text-lg font-bold text-gray-600 mt-1",children:A.filter(Q=>Q.status==="cancelled").length})]})]})]}),l.jsx(eG,{worker:e,tasks:A,setTasks:u,workerProjects:s,organization:b||{id:"",currency:"USD"}})]})]})}):l.jsx("div",{className:`min-h-screen flex items-center justify-center ${T("background")}`,children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:T("text.secondary"),children:"Worker not found."}),l.jsxs("button",{onClick:()=>v("/dashboard/workers"),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(Gu,{className:"h-4 w-4 mr-2"}),"Back to Workers"]})]})})}const K0=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),sae=({stats:e,loadedStats:t,currencySymbol:r})=>{const{theme:n,getThemeStyle:a}=Ht(),i=f=>{const h={indigo:{border:"border-indigo-600",text:"text-indigo-600",bg:"bg-indigo-100"},blue:{border:"border-blue-600",text:"text-blue-600",bg:"bg-blue-100"},emerald:{border:"border-emerald-600",text:"text-emerald-600",bg:"bg-emerald-100"},amber:{border:"border-amber-600",text:"text-amber-600",bg:"bg-amber-100"},teal:{border:"border-teal-600",text:"text-teal-600",bg:"bg-teal-100"},purple:{border:"border-purple-600",text:"text-purple-600",bg:"bg-purple-100"},rose:{border:"border-rose-600",text:"text-rose-600",bg:"bg-rose-100"},cyan:{border:"border-cyan-600",text:"text-cyan-600",bg:"bg-cyan-100"},red:{border:"border-red-600",text:"text-red-600",bg:"bg-red-100"}};return h[f]||h.indigo},s={primary:"indigo",blue:"blue",emerald:"emerald",amber:"amber",teal:"teal",purple:"purple",rose:"rose",cyan:"cyan",red:"red"},o={name:"Revenue Today",value:e.revenueToday,icon:la,color:s.primary},c=[{name:"Active Orders",value:e.activeOrders,icon:Jf,color:s.blue,link:void 0,key:"activeOrders"},{name:"Orders Today",value:e.ordersToday,icon:Jf,color:s.emerald,link:void 0,key:"ordersToday"},{name:"Orders Due Today",value:e.ordersDueToday,icon:Co,color:s.amber,link:void 0,key:"ordersDueToday"},{name:"Completed Orders",value:e.completedOrdersToday,icon:vr,color:s.teal,link:void 0,key:"completedOrdersToday"},{name:"Tasks Done",value:e.completedTasksToday,icon:vr,color:s.purple,link:void 0,key:"completedTasksToday"},{name:"Sales Today",value:e.salesToday,icon:ca,color:s.rose,link:void 0,key:"salesToday"},{name:`Revenue for ${new Date().toLocaleString("default",{month:"long"})}`,value:`${r}${K0(e.currentMonthRevenue)}`,icon:la,color:s.cyan,link:void 0,key:"currentMonthRevenue"},{name:"Outstanding",value:`${r}${K0(e.outstandingAmount)}`,icon:la,color:s.red,link:void 0,key:"outstandingAmount"}],u=t.includes("revenueToday"),d=i(o.color);return l.jsxs("div",{className:"space-y-4 w-full flex-shrink-0",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(o.icon,{className:`h-4 w-4 ${d.text}`}),l.jsx("p",{className:`text-xs font-medium ${a(n,"text","primary")} truncate`,children:o.name})]}),l.jsx("div",{className:"mt-1",children:u?l.jsxs("p",{className:`text-4xl font-semibold ${a(n,"text","primary")} truncate`,children:[r,K0(o.value)]}):l.jsx("div",{className:`h-8 ${a(n,"background","accent")} rounded w-1/3 animate-pulse`})})]}),l.jsx("div",{className:"grid grid-cols-1 gap-3",children:c.map(f=>{const h=t.includes(f.key),p=i(f.color),m=l.jsxs("div",{className:`rounded-md p-3 py-5 transition-all duration-200 hover:shadow-md border-l-4 ${p.border} ${h?"opacity-100":"opacity-50"} bg-gradient-to-br from-${n==="dark"?"gray-800":"white"} to-${n==="dark"?"gray-900":"gray-100"} shadow-sm`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[l.jsx("div",{className:"rounded-md flex-shrink-0",children:l.jsx(f.icon,{className:`h-4 w-4 ${p.text}`})}),l.jsx("p",{className:`text-xs font-medium ${a(n,"text","tertiary")} truncate`,children:f.name})]}),l.jsx("p",{className:`text-xs font-semibold ${a(n,"text","primary")} ml-2 flex-shrink-0 whitespace-nowrap`,children:f.value})]}),f.breakdown&&l.jsxs("div",{className:`mt-2 text-xs ${a(n,"text","muted")} flex items-center gap-2`,children:[l.jsxs("span",{className:"truncate",children:["Sales: ",r,K0(f.breakdown.sales)]}),l.jsx("span",{className:`w-1 h-1 rounded-full ${a(n,"background","accent")} flex-shrink-0`}),l.jsxs("span",{className:"truncate",children:["Service: ",r,K0(f.breakdown.service)]})]})]});return f.link?l.jsx(Rr,{to:f.link,className:`block hover:scale-[1.01] transition-transform ${a(n,"interactive","hover","background")}`,children:m},f.name):l.jsx("div",{children:m},f.name)})})]})},oae=(e,t,r,n,a,i,s,o,c)=>`
  <!DOCTYPE html>
  <html>
    <head>
      <title>Sales Receipt</title>
      <style>
        @page {
          size: 57mm auto;
          margin: 8px;
        }
        body {
          width: 57mm;
          margin: 0;
          padding: 0;
          font-family: Arial, sans-serif;
        }
        .receipt {
          width: 57mm;
          padding: 8px;
          background: white;
        }
        .header {
          text-align: center;
          margin-bottom: 4mm;
        }
        .title {
          font-size: 18px;
          font-weight: bold;
          margin-bottom: 1mm;
        }
        .subtitle {
          font-size: 12px;
          font-weight: bold;
          margin-bottom: 2mm;
        }
        .text {
          font-size: 12px;
          margin: 1mm 0;
        }
        .text-small {
          font-size: 10px;
        }
        .flex {
          display: flex;
          justify-content: space-between;
        }
        .border-top {
          border-top: 1px solid #000;
          padding-top: 2mm;
          margin-top: 2mm;
        }
        .section {
          margin-bottom: 3mm;
        }
        .section-title {
          font-weight: bold;
          margin-bottom: 1mm;
        }
        .item-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 1mm;
        }
        .item-details {
          flex: 1;
        }
        .item-quantity {
          font-size: 10px;
          color: #666;
        }
        .payment-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 1mm;
        }
        .payment-details {
          flex: 1;
        }
        .payment-date {
          font-size: 12px;
        }
        .payment-method {
          font-size: 10px;
          color: #666;
        }
        .footer {
          text-align: center;
          margin-top: 6mm;
        }
      </style>
    </head>
    <body>
      <div class="receipt">
        <div class="header">
          <div class="title">${e}</div>
          ${t?`<div class="text">${t}</div>`:""}
          <div class="subtitle">SALES RECEIPT</div>
        </div>
        
        <div class="section">
          <div class="section-title">Order For:</div>
          <div class="text">${n.name}</div>
          ${n.phone?`<div class="text">${n.phone}</div>`:""}
        </div>

        <div class="section">
          <div class="section-title">Order Date:</div>
          <div class="text">${St(new Date(a.created_at),"dd/MM/yyyy HH:mm")}</div>
        </div>

        <div class="section">
          <div class="section-title">Order Number:</div>
          <div class="text">${a.order_number}</div>
        </div>

        <div class="section">
          <div class="section-title">Items:</div>
          ${i.map(u=>`
            <div class="item-row">
              <div class="item-details">
                <div>${u.name}</div>
                <div class="item-quantity">x${u.quantity}</div>
              </div>
              <div>${o}${u.total_price.toFixed(2)}</div>
            </div>
          `).join("")}
        </div>

        <div class="border-top">
          <div class="flex">
            <div class="section-title">Total Amount:</div>
            <div class="section-title">${o}${c.toFixed(2)}</div>
          </div>
        </div>

        ${s.length>0?`
          <div class="section">
            <div class="section-title">Payments:</div>
            ${s.map(u=>`
              <div class="payment-row">
                <div class="payment-details">
                  <div class="payment-date">${St(new Date(u.created_at),"dd/MM/yyyy")}</div>
                  <div class="payment-method">${u.payment_method.charAt(0).toUpperCase()+u.payment_method.slice(1).replace("_"," ")}</div>
                </div>
                <div>${o}${u.amount.toFixed(2)}</div>
              </div>
            `).join("")}
          </div>
        `:""}
        
        ${a.outstanding_balance>0?`
          <div class="border-top">
            <div class="flex">
              <div class="section-title">Outstanding Balance:</div>
              <div class="section-title">${o}${a.outstanding_balance.toFixed(2)}</div>
            </div>
          </div>
        `:""}

        <div class="footer">
          <div class="text">Thank you for your purchase</div>
        </div>

        <div class="footer">
          <div class="text-small">Contact Us: ${r||"N/A"}</div>
        </div>
      </div>
    </body>
  </html>
`;function b7({orderId:e,onClose:t}){var y;const[r,n]=L.useState(!0),[a,i]=L.useState(null),[s,o]=L.useState(null),[c,u]=L.useState([]),[d,f]=L.useState([]),{organization:h}=Zt(),{addToast:p}=Tr(),{theme:m,getThemeStyle:g}=Ht(),x=h!=null&&h.currency?((y=tn[h.currency])==null?void 0:y.symbol)||h.currency:tn.USD.symbol;L.useEffect(()=>{(async()=>{try{const{data:S,error:T}=await We.from("sales_orders").select(`
                        *,
                        client:clients(name, phone),
                        items:sales_order_items(
                            id,
                            product_id,
                            name,
                            quantity,
                            unit_price,
                            total_price,
                            is_custom_item,
                            product:products(name)
                        )
                    `).eq("id",e).single();if(T)throw T;const{data:N,error:w}=await We.from("payments").select("*").eq("reference_type","sales_order").eq("reference_id",S.id).not("status","eq","cancelled");if(w)throw w;const _={id:S.client_id,name:S.client.name,phone:S.client.phone,custom_fields:[]},P=S.items.map(A=>({id:A.id,product_id:A.product_id,name:A.name,quantity:A.quantity,unit_price:A.unit_price,total_price:A.total_price,is_custom_item:A.is_custom_item,product:A.product?{id:A.product_id,name:A.product.name,price:A.unit_price}:void 0}));i(S),o(_),u(P),f(N||[])}catch(S){console.error("Error fetching order data:",S),p({type:"error",title:"Error",message:"Failed to load order details"})}finally{n(!1)}})()},[e,p]);const v=(a==null?void 0:a.total_amount)||0,b=L.useCallback(()=>{if(!s||!a)return;const C=window.open("","_blank");C&&(C.document.write(oae((h==null?void 0:h.name)||"",h==null?void 0:h.address,h==null?void 0:h.phone,s,a,c,d,x,v)),C.document.close(),C.focus(),C.print(),C.close())},[h,s,a,c,d,x,v]);return r?l.jsx("div",{className:`flex items-center justify-center min-h-[400px] ${g(m,"background","primary")}`,children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):!a||!s?l.jsx("div",{className:`text-center py-12 ${g(m,"background","primary")} ${g(m,"text","primary")}`,children:l.jsx("p",{className:g(m,"text","muted"),children:"Order not found."})}):l.jsx("div",{className:`rounded-lg shadow-xl max-w-[57mm] w-full mx-auto overflow-y-auto max-h-[90vh] border ${g(m,"modal","background")} ${g(m,"border","primary")}`,children:l.jsxs("div",{className:"px-4 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("button",{onClick:b,className:`inline-flex items-center px-3 py-1.5 border rounded-md shadow-sm text-sm font-medium ${g(m,"border","primary")} ${g(m,"text","secondary")} ${g(m,"modal","background")} ${g(m,"interactive","hover","background")}`,children:[l.jsx(_g,{className:"h-4 w-4 mr-2"}),"Print"]}),l.jsx("button",{onClick:t,className:`p-2 ${g(m,"text","muted")} ${g(m,"interactive","hover","text")} ${g(m,"interactive","hover","background")} rounded-full transition-colors duration-200`,children:l.jsx(cr,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"receipt-content",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("h1",{className:`text-[18px] font-bold ${g(m,"text","primary")}`,children:h==null?void 0:h.name}),(h==null?void 0:h.address)&&l.jsx("p",{className:`text-[12px] mb-2 ${g(m,"text","secondary")}`,children:h.address}),l.jsx("h2",{className:`text-[12px] font-bold ${g(m,"text","primary")}`,children:"SALES RECEIPT"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-[12px] font-bold ${g(m,"text","primary")}`,children:"Order For:"}),l.jsxs("div",{className:"pl-2",children:[l.jsx("p",{className:`text-[12px] ${g(m,"text","secondary")}`,children:s.name}),s.phone&&l.jsx("p",{className:`text-[12px] ${g(m,"text","secondary")}`,children:s.phone})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:`text-[12px] font-bold ${g(m,"text","primary")}`,children:"Order Date:"}),l.jsx("p",{className:`text-[12px] pl-2 ${g(m,"text","secondary")}`,children:St(new Date(a.created_at),"dd/MM/yyyy HH:mm")})]}),l.jsxs("div",{children:[l.jsx("p",{className:`text-[12px] font-bold ${g(m,"text","primary")}`,children:"Order Number:"}),l.jsx("p",{className:`text-[12px] pl-2 ${g(m,"text","secondary")}`,children:a.order_number})]}),l.jsxs("div",{children:[l.jsx("p",{className:`text-[12px] font-bold mb-2 ${g(m,"text","primary")}`,children:"Items:"}),l.jsx("div",{className:"space-y-1",children:c.map(C=>l.jsxs("div",{className:"flex justify-between pl-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-[12px] ${g(m,"text","secondary")}`,children:C.name}),l.jsxs("p",{className:`text-[10px] ${g(m,"text","muted")}`,children:["x",C.quantity]})]}),l.jsxs("p",{className:`text-[12px] ${g(m,"text","secondary")}`,children:[x," ",C.total_price.toFixed(2)]})]},C.id))})]}),l.jsxs("div",{className:`border-t pt-2 ${g(m,"border","primary")}`,children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("p",{className:`text-[12px] font-bold ${g(m,"text","primary")}`,children:"Total Amount:"}),l.jsxs("p",{className:`text-[12px] font-bold ${g(m,"text","primary")}`,children:[x," ",v.toFixed(2)]})]}),d.length>0&&l.jsxs("div",{className:"mt-2",children:[l.jsx("p",{className:`text-[12px] font-bold ${g(m,"text","primary")}`,children:"Payments:"}),l.jsx("div",{className:"space-y-1",children:d.map(C=>l.jsxs("div",{className:"flex justify-between pl-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-[12px] ${g(m,"text","secondary")}`,children:St(new Date(C.created_at),"dd/MM/yyyy")}),l.jsx("p",{className:`text-[10px] ${g(m,"text","muted")}`,children:C.payment_method.charAt(0).toUpperCase()+C.payment_method.slice(1).replace("_"," ")})]}),l.jsxs("p",{className:`text-[12px] ${g(m,"text","secondary")}`,children:[x," ",C.amount.toFixed(2)]})]},C.id))})]}),a.outstanding_balance>0&&l.jsxs("div",{className:`flex justify-between border-t pt-1 mt-2 ${g(m,"border","primary")}`,children:[l.jsx("p",{className:`text-[12px] font-bold ${g(m,"text","primary")}`,children:"Outstanding Bal:"}),l.jsxs("p",{className:`text-[12px] font-bold ${g(m,"text","primary")}`,children:[x," ",a.outstanding_balance.toFixed(2)]})]})]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("p",{className:`text-[12px] ${g(m,"text","secondary")}`,children:"Thank you for your purchase"})}),l.jsx("div",{className:"mt-2 text-center",children:l.jsxs("p",{className:`text-[10px] ${g(m,"text","muted")}`,children:["Contact Us: ",(h==null?void 0:h.phone)||"N/A"]})})]})]})})}function w7({onClose:e,onSuccess:t}){var pe;const[r,n]=L.useState(!1),[a,i]=L.useState([]),[s,o]=L.useState(null),[c,u]=L.useState([]),[d,f]=L.useState({name:"",quantity:1,unit_price:0}),[h,p]=L.useState(""),{organization:m}=Zt(),{addToast:g}=Tr(),{theme:x,getThemeStyle:v}=Ht(),b=m!=null&&m.currency?((pe=tn[m.currency])==null?void 0:pe.symbol)||m.currency:"",[y,C]=L.useState(!0),[S,T]=L.useState(!0),[N,w]=L.useState(""),[_,P]=L.useState(""),[A,j]=L.useState(""),[F,M]=L.useState(!1),[H,q]=L.useState(null),[Y,X]=L.useState(""),[I,J]=L.useState([]),[Q,E]=L.useState(!1),[R,U]=L.useState(null);L.useEffect(()=>{m&&z()},[m]),L.useEffect(()=>{if(Y.trim()==="")J(a);else{const K=a.filter(ne=>ne.name.toLowerCase().includes(Y.toLowerCase()));J(K)}},[Y,a]);const z=async()=>{if(m!=null&&m.id)try{const{data:K,error:ne}=await We.from("products").select("*").eq("organization_id",m.id).order("name");if(ne)throw ne;i(K||[])}catch(K){console.error("Error loading products:",K),g({type:"error",title:"Error",message:"Failed to load products"})}finally{C(!1)}},G=K=>{U(K),X(K.name),E(!1),ae(K.id)},ae=K=>{const ne=a.find(Ee=>Ee.id===K);if(!ne)return;if(ne.stock_quantity<=0){g({type:"error",title:"Error",message:"This product is out of stock"});return}const Te=c.find(Ee=>Ee.product_id===K);if(Te){if(Te.quantity>=ne.stock_quantity){g({type:"error",title:"Error",message:"Not enough stock available"});return}u(Ee=>Ee.map($e=>$e.product_id===K?{...$e,quantity:$e.quantity+1,total_price:($e.quantity+1)*$e.unit_price}:$e))}else u(Ee=>[...Ee,{product_id:ne.id,name:ne.name,quantity:1,unit_price:ne.unit_price,total_price:ne.unit_price,is_custom_item:!1,product:ne}]);U(null),X("")},ee=()=>{!d.name.trim()||d.quantity<=0||d.unit_price<=0||(u(K=>[...K,{product_id:null,name:d.name.trim(),quantity:d.quantity,unit_price:d.unit_price,total_price:d.quantity*d.unit_price,is_custom_item:!0}]),f({name:"",quantity:1,unit_price:0}))},W=K=>{u(ne=>ne.filter((Te,Ee)=>Ee!==K))},Z=(K,ne)=>{const Te=c[K];if(Te){if(!Te.is_custom_item&&Te.product&&ne>Te.product.stock_quantity){g({type:"error",title:"Error",message:"Not enough stock available"});return}if(ne<=0){W(K);return}u(Ee=>Ee.map(($e,Pe)=>Pe===K?{...$e,quantity:ne,total_price:ne*$e.unit_price}:$e))}},re=()=>c.reduce((K,ne)=>K+ne.total_price,0),O=()=>{const K=re(),ne=parseFloat(N)||0;return console.log(K,ne),K-ne},de=()=>{const K=O(),ne=re(),Te=K/ne*100;return Te===0?"bg-green-100 text-green-800":Te<=25?"bg-yellow-100 text-yellow-800":Te<=50?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"},ce=async()=>{if(!m||!s||c.length===0){g({type:"error",title:"Error",message:"Please select a client and add at least one item to the order"});return}n(!0);try{const{data:K,error:ne}=await We.from("sales_orders").insert([{organization_id:m.id,client_id:s.id,total_amount:re(),outstanding_balance:re(),notes:h.trim()||null}]).select().single();if(ne)throw ne;const{error:Te}=await We.from("sales_order_items").insert(c.map(Ee=>({sales_order_id:K.id,product_id:Ee.product_id,name:Ee.name,quantity:Ee.quantity,unit_price:Ee.unit_price,total_price:Ee.total_price,is_custom_item:Ee.is_custom_item})));if(Te)throw Te;for(const Ee of c)if(!Ee.is_custom_item&&Ee.product_id&&Ee.product){const{error:$e}=await We.from("products").update({stock_quantity:Ee.product.stock_quantity-Ee.quantity}).eq("id",Ee.product_id);if($e)throw $e}if(S&&N&&_){const Ee=parseFloat(N);if(isNaN(Ee)||Ee<=0)throw new Error("Invalid payment amount");if(Ee>re())throw new Error("Payment amount cannot exceed total amount");const{data:{user:$e},error:Pe}=await We.auth.getUser();if(Pe)throw Pe;if(!$e)throw new Error("User not authenticated");const{error:Fe}=await We.rpc("record_payment",{p_organization_id:m.id,p_order_id:K.id,p_amount:Ee,p_payment_method:_,p_payment_reference:A||null,p_recorded_by:$e.id});if(Fe)throw Fe}g({type:"success",title:"Order Created",message:"Sales order has been created successfully."}),q(K.id),M(!0),t()}catch(K){console.error("Error creating order:",K),g({type:"error",title:"Error",message:K instanceof Error?K.message:"Failed to create order"})}finally{n(!1)}};return y?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsxs("div",{className:`h-full flex flex-col ${v(x,"modal","background")} max-w-[450px] mx-auto  overflow-y-auto`,children:[l.jsxs("div",{className:`flex items-center justify-between px-4 py-3 border-b ${v(x,"border","primary")}`,children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("h2",{className:`text-lg font-semibold ${v(x,"text","primary")}`,children:"Create Sales Order"})}),l.jsx("button",{type:"button",onClick:e,className:`p-1.5 rounded-full ${v(x,"interactive","hover","background")} ${v(x,"text","accent")} ${v(x,"interactive","hover","text")} transition-colors`,children:l.jsx(cr,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsx(p$,{onClientSelect:o,selectedClient:s,showAddNew:!0}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h3",{className:`text-sm font-medium ${v(x,"text","secondary")}`,children:"Order Items"})}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsxs("div",{className:`${v(x,"background","secondary")} rounded-lg p-3`,children:[l.jsx("h4",{className:`text-sm font-medium ${v(x,"text","secondary")} mb-2`,children:"Add from Inventory"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:Y,onChange:K=>{X(K.target.value),E(!0)},onFocus:()=>E(!0),placeholder:"Search for a product",className:`w-full rounded-lg border ${v(x,"border","primary")} ${v(x,"background","secondary")} px-3 py-2 text-sm ${v(x,"text","primary")} shadow-sm hover:border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`}),R&&l.jsx("button",{type:"button",onClick:()=>{U(null),X("")},className:"absolute right-10 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l.jsx(cr,{className:"h-4 w-4"})}),l.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:l.jsx(kl,{className:"h-4 w-4 text-gray-400"})}),Q&&I.length>0&&l.jsx("div",{className:`absolute z-10 mt-1 w-full rounded-lg shadow-lg ${v(x,"background","secondary")} border ${v(x,"border","primary")} max-h-60 overflow-auto`,children:I.map(K=>l.jsx("div",{onClick:()=>G(K),className:`px-3 py-2 text-sm cursor-pointer ${v(x,"text","primary")} hover:bg-blue-50 hover:text-blue-700 transition-colors ${K.stock_quantity<=0?"opacity-50 cursor-not-allowed":""}`,children:l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:K.name}),l.jsxs("span",{className:"text-xs",children:[b,K.unit_price.toFixed(2)," (",K.stock_quantity," in stock)"]})]})},K.id))})]})]}),l.jsxs("div",{className:`${v(x,"background","secondary")} rounded-lg p-3`,children:[l.jsx("h4",{className:`text-sm font-medium ${v(x,"text","secondary")} mb-2`,children:"Add Custom Item"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"text",value:d.name,onChange:K=>f(ne=>({...ne,name:K.target.value})),className:`w-full rounded-lg border ${v(x,"border","primary")} ${v(x,"background","secondary")} px-3 py-2 text-sm ${v(x,"text","primary")} placeholder:text-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"Item name"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("input",{type:"number",min:"1",value:d.quantity,onChange:K=>f(ne=>({...ne,quantity:parseInt(K.target.value)||1})),className:`w-full rounded-lg border ${v(x,"border","primary")} ${v(x,"background","secondary")} px-3 py-2 text-sm ${v(x,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"Quantity"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx("span",{className:`text-sm ${v(x,"text","muted")}`,children:b})}),l.jsx("input",{type:"number",min:"0",step:"0.01",value:d.unit_price,onChange:K=>f(ne=>({...ne,unit_price:parseFloat(K.target.value)||0})),className:`w-full rounded-lg border ${v(x,"border","primary")} ${v(x,"background","secondary")} pl-7 pr-3 py-2 text-sm ${v(x,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"Price"})]})]}),l.jsx("button",{type:"button",onClick:ee,disabled:!d.name.trim()||d.quantity<=0||d.unit_price<=0,className:"bg-blue-600 w-full inline-flex items-center justify-center px-3 py-2 text-sm font-medium text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Add Custom Item"})]})]})]}),c.length>0&&l.jsxs("div",{className:`border ${v(x,"border","primary")} rounded-lg overflow-hidden`,children:[l.jsx("div",{className:`divide-y ${v(x,"border","primary")}`,children:c.map((K,ne)=>l.jsx("div",{className:`p-3 ${v(x,"interactive","hover","background")} transition-colors`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[l.jsx(ca,{className:`h-4 w-4 ${v(x,"text","accent")}`}),l.jsxs("div",{children:[l.jsx("h4",{className:`text-sm font-medium ${v(x,"text","primary")}`,children:K.name}),l.jsxs("p",{className:`text-xs ${v(x,"text","muted")}`,children:[b,K.unit_price.toFixed(2)," per unit"]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{type:"button",onClick:()=>Z(ne,K.quantity-1),className:`p-1 rounded-full ${v(x,"interactive","hover","background")} transition-colors`,children:l.jsx(i$,{className:"h-3 w-3 text-gray-500"})}),l.jsx("span",{className:"w-8 text-center text-sm font-medium",children:K.quantity}),l.jsx("button",{type:"button",onClick:()=>Z(ne,K.quantity+1),className:`p-1 rounded-full ${v(x,"interactive","hover","background")} transition-colors`,disabled:!K.is_custom_item&&K.product&&K.quantity>=K.product.stock_quantity,children:l.jsx(Hn,{className:"h-3 w-3 text-gray-500"})})]}),l.jsx("div",{className:"w-20 text-right",children:l.jsxs("div",{className:`text-sm font-medium ${v(x,"text","primary")}`,children:[b,K.total_price.toFixed(2)]})}),l.jsx("button",{type:"button",onClick:()=>W(ne),className:`p-1 rounded-full ${v(x,"interactive","hover","background")} ${v(x,"text","accent")} ${v(x,"interactive","hover","text")} transition-colors`,children:l.jsx(cr,{className:"h-3 w-3"})})]})]})},ne))}),l.jsxs("div",{className:`${v(x,"background","secondary")} px-3 py-2 flex justify-between items-center`,children:[l.jsx("span",{className:`text-sm font-medium ${v(x,"text","secondary")}`,children:"Total Amount"}),l.jsxs("span",{className:`text-base font-semibold ${v(x,"text","primary")}`,children:[b,re().toFixed(2)]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`block text-sm font-medium ${v(x,"text","secondary")}`,children:"Notes"}),l.jsx("textarea",{value:h,onChange:K=>p(K.target.value),rows:2,className:`w-full rounded-lg border ${v(x,"border","primary")} ${v(x,"background","secondary")} px-3 py-2 text-sm ${v(x,"text","primary")} placeholder:text-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"Add any notes about this order"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Yc,{className:`h-4 w-4 ${v(x,"text","accent")}`}),l.jsx("h3",{className:`text-sm font-medium ${v(x,"text","secondary")}`,children:"Initial Payment"})]}),l.jsxs("div",{className:`space-y-3 ${v(x,"background","secondary")} rounded-lg p-3`,children:[l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${v(x,"text","secondary")} mb-1.5`,children:"Payment Amount"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx("span",{className:`text-sm ${v(x,"text","muted")}`,children:b})}),l.jsx("input",{type:"number",step:"0.01",min:"0.01",max:re(),value:N,onChange:K=>w(K.target.value),className:`w-full rounded-lg border ${v(x,"border","primary")} ${v(x,"background","secondary")} pl-7 pr-3 py-2 text-sm ${v(x,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"0.00"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${v(x,"text","secondary")} mb-1.5`,children:"Payment Method"}),l.jsxs("select",{value:_,onChange:K=>P(K.target.value),className:`w-full rounded-lg border ${v(x,"border","primary")} ${v(x,"background","secondary")} px-3 py-2 text-sm ${v(x,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,children:[l.jsx("option",{value:"",children:"Select a payment method"}),Object.entries(_3).map(([K,ne])=>l.jsx("option",{value:K,children:ne},K))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${v(x,"text","secondary")} mb-1.5`,children:"Payment Reference"}),l.jsx("input",{type:"text",value:A,onChange:K=>j(K.target.value),className:`w-full rounded-lg border ${v(x,"border","primary")} ${v(x,"background","secondary")} px-3 py-2 text-sm ${v(x,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"e.g., Transaction ID, Check number"})]}),l.jsx("div",{className:`mt-2 p-2 rounded-lg ${de()}`,children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm font-medium",children:"Outstanding Amount"}),l.jsxs("span",{className:"text-sm font-semibold",children:[b,O().toFixed(2)]})]})})]})]})]})}),l.jsx("div",{className:`border-t ${v(x,"border","primary")} ${v(x,"background","secondary")} px-4 py-3`,children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:e,className:`px-3 py-2 text-sm font-medium ${v(x,"text","secondary")} ${v(x,"interactive","hover","text")} ${v(x,"interactive","hover","background")} rounded-lg transition-colors`,children:"Cancel"}),l.jsx("button",{type:"button",onClick:ce,disabled:r||!s||c.length===0,className:"inline-flex items-center px-3 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?l.jsxs(l.Fragment,{children:[l.jsx(mi,{className:"animate-spin h-4 w-4 mr-2"}),"Creating..."]}):"Create Sale"})]})}),F&&H&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[l.jsx("div",{className:`fixed inset-0 ${v(x,"modal","overlay")} transition-opacity`,onClick:()=>{M(!1),q(null),e()}}),l.jsx("div",{className:`relative transform overflow-hidden rounded-xl ${v(x,"modal","background")} text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg`,children:l.jsx(b7,{orderId:H,onClose:()=>{M(!1),q(null),e()}})})]})})]})}const zC=({onRecordPayment:e})=>{const[t,r]=L.useState(!1),[n,a]=L.useState(!1),[i,s]=L.useState(!1),o=L.useRef(null),c=L.useRef(null),u=L.useRef(null),{theme:d,getThemeStyle:f}=Ht();L.useEffect(()=>{const m=g=>{o.current&&!o.current.contains(g.target)&&r(!1),c.current&&!c.current.contains(g.target)&&a(!1),u.current&&!u.current.contains(g.target)&&s(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const h=()=>{r(!1),a(!0)},p=()=>{r(!1),s(!0)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative",ref:o,children:[l.jsxs("button",{onClick:()=>r(!t),className:`inline-flex items-center px-3 py-1.5 border ${f(d,"border","primary")} shadow-sm text-xs font-medium rounded-md ${f(d,"text","secondary")} ${f(d,"background","primary")} ${f(d,"interactive","hover","background")} focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-blue-500 transition-colors duration-200`,children:["Quick Actions",l.jsx(kl,{className:"ml-1.5 h-3.5 w-3.5"})]}),t&&l.jsx("div",{className:`origin-top-right absolute right-0 mt-1 w-48 rounded-md shadow-sm ${f(d,"sidebar","shadow")} ${f(d,"background","primary")} ring-1 ring-black ring-opacity-5 z-10`,children:l.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[l.jsxs("button",{onClick:h,className:`flex items-center w-full px-3 py-2 text-xs ${f(d,"text","secondary")} ${f(d,"interactive","hover","background")} transition-colors duration-200`,role:"menuitem",children:[l.jsx(Jf,{className:"h-3.5 w-3.5 mr-2 text-indigo-500"}),"Create Order"]}),l.jsxs("button",{onClick:p,className:`flex items-center w-full px-3 py-2 text-xs ${f(d,"text","secondary")} ${f(d,"interactive","hover","background")} transition-colors duration-200`,role:"menuitem",children:[l.jsx(Yc,{className:"h-3.5 w-3.5 mr-2 text-emerald-500"}),"Create Sale"]}),l.jsxs("button",{onClick:()=>{r(!1),e()},className:`flex items-center w-full px-3 py-2 text-xs ${f(d,"text","secondary")} ${f(d,"interactive","hover","background")} transition-colors duration-200`,role:"menuitem",children:[l.jsx(la,{className:"h-3.5 w-3.5 mr-2 text-blue-500"}),"Record Payment"]})]})})]}),n&&l.jsx("div",{ref:c,className:`fixed right-0 top-0 h-screen w-[90vw] sm:w-[450px] overflow-y-auto ${f(d,"background","primary")} shadow-lg z-50`,children:l.jsx(m$,{onClose:()=>a(!1),onSuccess:()=>a(!1)})}),i&&l.jsx("div",{ref:u,className:`fixed right-0 top-0 h-screen w-[90vw] sm:w-[450px] overflow-y-auto ${f(d,"background","primary")} shadow-lg z-50`,children:l.jsx(w7,{onClose:()=>s(!1),onSuccess:()=>s(!1)})})]})};var _7={exports:{}},lae="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cae=lae,uae=cae;function k7(){}function S7(){}S7.resetWarningCache=k7;var dae=function(){function e(n,a,i,s,o,c){if(c!==uae){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:S7,resetWarningCache:k7};return r.PropTypes=r,r};_7.exports=dae();var fae=_7.exports;const Re=hr(fae);var eS=Mg(),Qt=e=>$g(e,eS),tS=Mg();Qt.write=e=>$g(e,tS);var Z1=Mg();Qt.onStart=e=>$g(e,Z1);var rS=Mg();Qt.onFrame=e=>$g(e,rS);var nS=Mg();Qt.onFinish=e=>$g(e,nS);var If=[];Qt.setTimeout=(e,t)=>{const r=Qt.now()+t,n=()=>{const i=If.findIndex(s=>s.cancel==n);~i&&If.splice(i,1),gc-=~i?1:0},a={time:r,handler:e,cancel:n};return If.splice(N7(r),0,a),gc+=1,j7(),a};var N7=e=>~(~If.findIndex(t=>t.time>e)||~If.length);Qt.cancel=e=>{Z1.delete(e),rS.delete(e),nS.delete(e),eS.delete(e),tS.delete(e)};Qt.sync=e=>{ok=!0,Qt.batchedUpdates(e),ok=!1};Qt.throttle=e=>{let t;function r(){try{e(...t)}finally{t=null}}function n(...a){t=a,Qt.onStart(r)}return n.handler=e,n.cancel=()=>{Z1.delete(r),t=null},n};var aS=typeof window<"u"?window.requestAnimationFrame:()=>{};Qt.use=e=>aS=e;Qt.now=typeof performance<"u"?()=>performance.now():Date.now;Qt.batchedUpdates=e=>e();Qt.catch=console.error;Qt.frameLoop="always";Qt.advance=()=>{Qt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):C7()};var mc=-1,gc=0,ok=!1;function $g(e,t){ok?(t.delete(e),e(0)):(t.add(e),j7())}function j7(){mc<0&&(mc=0,Qt.frameLoop!=="demand"&&aS(A7))}function hae(){mc=-1}function A7(){~mc&&(aS(A7),Qt.batchedUpdates(C7))}function C7(){const e=mc;mc=Qt.now();const t=N7(mc);if(t&&(T7(If.splice(0,t),r=>r.handler()),gc-=t),!gc){hae();return}Z1.flush(),eS.flush(e?Math.min(64,mc-e):16.667),rS.flush(),tS.flush(),nS.flush()}function Mg(){let e=new Set,t=e;return{add(r){gc+=t==e&&!e.has(r)?1:0,e.add(r)},delete(r){return gc-=t==e&&e.has(r)?1:0,e.delete(r)},flush(r){t.size&&(e=new Set,gc-=t.size,T7(t,n=>n(r)&&e.add(n)),gc+=e.size,t=e)}}}function T7(e,t){e.forEach(r=>{try{t(r)}catch(n){Qt.catch(n)}})}var pae=Object.defineProperty,mae=(e,t)=>{for(var r in t)pae(e,r,{get:t[r],enumerable:!0})},Qs={};mae(Qs,{assign:()=>xae,colors:()=>_c,createStringInterpolator:()=>sS,skipAnimation:()=>O7,to:()=>E7,willAdvance:()=>oS});function lk(){}var gae=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),dt={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function al(e,t){if(dt.arr(e)){if(!dt.arr(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return e===t}var Yt=(e,t)=>e.forEach(t);function Po(e,t,r){if(dt.arr(e)){for(let n=0;n<e.length;n++)t.call(r,e[n],`${n}`);return}for(const n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n)}var ci=e=>dt.und(e)?[]:dt.arr(e)?e:[e];function nm(e,t){if(e.size){const r=Array.from(e);e.clear(),Yt(r,t)}}var Dp=(e,...t)=>nm(e,r=>r(...t)),iS=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),sS,E7,_c=null,O7=!1,oS=lk,xae=e=>{e.to&&(E7=e.to),e.now&&(Qt.now=e.now),e.colors!==void 0&&(_c=e.colors),e.skipAnimation!=null&&(O7=e.skipAnimation),e.createStringInterpolator&&(sS=e.createStringInterpolator),e.requestAnimationFrame&&Qt.use(e.requestAnimationFrame),e.batchedUpdates&&(Qt.batchedUpdates=e.batchedUpdates),e.willAdvance&&(oS=e.willAdvance),e.frameLoop&&(Qt.frameLoop=e.frameLoop)},am=new Set,ps=[],f5=[],dy=0,eb={get idle(){return!am.size&&!ps.length},start(e){dy>e.priority?(am.add(e),Qt.onStart(vae)):(P7(e),Qt(ck))},advance:ck,sort(e){if(dy)Qt.onFrame(()=>eb.sort(e));else{const t=ps.indexOf(e);~t&&(ps.splice(t,1),D7(e))}},clear(){ps=[],am.clear()}};function vae(){am.forEach(P7),am.clear(),Qt(ck)}function P7(e){ps.includes(e)||D7(e)}function D7(e){ps.splice(yae(ps,t=>t.priority>e.priority),0,e)}function ck(e){const t=f5;for(let r=0;r<ps.length;r++){const n=ps[r];dy=n.priority,n.idle||(oS(n),n.advance(e),n.idle||t.push(n))}return dy=0,f5=ps,f5.length=0,ps=t,ps.length>0}function yae(e,t){const r=e.findIndex(t);return r<0?e.length:r}var bae={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},zs="[-+]?\\d*\\.?\\d+",fy=zs+"%";function tb(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var wae=new RegExp("rgb"+tb(zs,zs,zs)),_ae=new RegExp("rgba"+tb(zs,zs,zs,zs)),kae=new RegExp("hsl"+tb(zs,fy,fy)),Sae=new RegExp("hsla"+tb(zs,fy,fy,zs)),Nae=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,jae=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Aae=/^#([0-9a-fA-F]{6})$/,Cae=/^#([0-9a-fA-F]{8})$/;function Tae(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Aae.exec(e))?parseInt(t[1]+"ff",16)>>>0:_c&&_c[e]!==void 0?_c[e]:(t=wae.exec(e))?(ff(t[1])<<24|ff(t[2])<<16|ff(t[3])<<8|255)>>>0:(t=_ae.exec(e))?(ff(t[1])<<24|ff(t[2])<<16|ff(t[3])<<8|GC(t[4]))>>>0:(t=Nae.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Cae.exec(e))?parseInt(t[1],16)>>>0:(t=jae.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=kae.exec(e))?(YC(VC(t[1]),av(t[2]),av(t[3]))|255)>>>0:(t=Sae.exec(e))?(YC(VC(t[1]),av(t[2]),av(t[3]))|GC(t[4]))>>>0:null}function h5(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function YC(e,t,r){const n=r<.5?r*(1+t):r+t-r*t,a=2*r-n,i=h5(a,n,e+1/3),s=h5(a,n,e),o=h5(a,n,e-1/3);return Math.round(i*255)<<24|Math.round(s*255)<<16|Math.round(o*255)<<8}function ff(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function VC(e){return(parseFloat(e)%360+360)%360/360}function GC(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function av(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function KC(e){let t=Tae(e);if(t===null)return e;t=t||0;const r=(t&4278190080)>>>24,n=(t&16711680)>>>16,a=(t&65280)>>>8,i=(t&255)/255;return`rgba(${r}, ${n}, ${a}, ${i})`}var Nm=(e,t,r)=>{if(dt.fun(e))return e;if(dt.arr(e))return Nm({range:e,output:t,extrapolate:r});if(dt.str(e.output[0]))return sS(e);const n=e,a=n.output,i=n.range||[0,1],s=n.extrapolateLeft||n.extrapolate||"extend",o=n.extrapolateRight||n.extrapolate||"extend",c=n.easing||(u=>u);return u=>{const d=Oae(u,i);return Eae(u,i[d],i[d+1],a[d],a[d+1],c,s,o,n.map)}};function Eae(e,t,r,n,a,i,s,o,c){let u=c?c(e):e;if(u<t){if(s==="identity")return u;s==="clamp"&&(u=t)}if(u>r){if(o==="identity")return u;o==="clamp"&&(u=r)}return n===a?n:t===r?e<=t?n:a:(t===-1/0?u=-u:r===1/0?u=u-t:u=(u-t)/(r-t),u=i(u),n===-1/0?u=-u:a===1/0?u=u+n:u=u*(a-n)+n,u)}function Oae(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}var Pae={linear:e=>e},jm=Symbol.for("FluidValue.get"),nh=Symbol.for("FluidValue.observers"),fs=e=>!!(e&&e[jm]),Ti=e=>e&&e[jm]?e[jm]():e,XC=e=>e[nh]||null;function Dae(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Am(e,t){const r=e[nh];r&&r.forEach(n=>{Dae(n,t)})}var $7=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");$ae(this,e)}},$ae=(e,t)=>M7(e,jm,t);function Xh(e,t){if(e[jm]){let r=e[nh];r||M7(e,nh,r=new Set),r.has(t)||(r.add(t),e.observerAdded&&e.observerAdded(r.size,t))}return t}function Cm(e,t){const r=e[nh];if(r&&r.has(t)){const n=r.size-1;n?r.delete(t):e[nh]=null,e.observerRemoved&&e.observerRemoved(n,t)}}var M7=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),Iv=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Mae=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,JC=new RegExp(`(${Iv.source})(%|[a-z]+)`,"i"),Fae=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,rb=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,F7=e=>{const[t,r]=Lae(e);if(!t||iS())return e;const n=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(n)return n.trim();if(r&&r.startsWith("--")){const a=window.getComputedStyle(document.documentElement).getPropertyValue(r);return a||e}else{if(r&&rb.test(r))return F7(r);if(r)return r}return e},Lae=e=>{const t=rb.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]},p5,Iae=(e,t,r,n,a)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(n)}, ${a})`,L7=e=>{p5||(p5=_c?new RegExp(`(${Object.keys(_c).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(i=>Ti(i).replace(rb,F7).replace(Mae,KC).replace(p5,KC)),r=t.map(i=>i.match(Iv).map(Number)),a=r[0].map((i,s)=>r.map(o=>{if(!(s in o))throw Error('The arity of each "output" value must be equal');return o[s]})).map(i=>Nm({...e,output:i}));return i=>{var c;const s=!JC.test(t[0])&&((c=t.find(u=>JC.test(u)))==null?void 0:c.replace(Iv,""));let o=0;return t[0].replace(Iv,()=>`${a[o++](i)}${s||""}`).replace(Fae,Iae)}},lS="react-spring: ",I7=e=>{const t=e;let r=!1;if(typeof t!="function")throw new TypeError(`${lS}once requires a function parameter`);return(...n)=>{r||(t(...n),r=!0)}},Rae=I7(console.warn);function Bae(){Rae(`${lS}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Uae=I7(console.warn);function Wae(){Uae(`${lS}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function nb(e){return dt.str(e)&&(e[0]=="#"||/\d/.test(e)||!iS()&&rb.test(e)||e in(_c||{}))}var Au=iS()?L.useEffect:L.useLayoutEffect,qae=()=>{const e=L.useRef(!1);return Au(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function cS(){const e=L.useState()[1],t=qae();return()=>{t.current&&e(Math.random())}}function Hae(e,t){const[r]=L.useState(()=>({inputs:t,result:e()})),n=L.useRef(),a=n.current;let i=a;return i?t&&i.inputs&&zae(t,i.inputs)||(i={inputs:t,result:e()}):i=r,L.useEffect(()=>{n.current=i,a==r&&(r.inputs=r.result=void 0)},[i]),i.result}function zae(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var uS=e=>L.useEffect(e,Yae),Yae=[];function uk(e){const t=L.useRef();return L.useEffect(()=>{t.current=e}),t.current}var Tm=Symbol.for("Animated:node"),Vae=e=>!!e&&e[Tm]===e,po=e=>e&&e[Tm],dS=(e,t)=>gae(e,Tm,t),ab=e=>e&&e[Tm]&&e[Tm].getPayload(),R7=class{constructor(){dS(this,this)}getPayload(){return this.payload||[]}},Fg=class extends R7{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,dt.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Fg(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return dt.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,dt.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Em=class extends Fg{constructor(e){super(0),this._string=null,this._toString=Nm({output:[e,e]})}static create(e){return new Em(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(dt.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Nm({output:[this.getValue(),e]})),this._value=0,super.reset()}},hy={dependencies:null},ib=class extends R7{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Po(this.source,(r,n)=>{Vae(r)?t[n]=r.getValue(e):fs(r)?t[n]=Ti(r):e||(t[n]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Yt(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return Po(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){hy.dependencies&&fs(e)&&hy.dependencies.add(e);const t=ab(e);t&&Yt(t,r=>this.add(r))}},B7=class extends ib{constructor(e){super(e)}static create(e){return new B7(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((r,n)=>r.setValue(e[n])).some(Boolean):(super.setValue(e.map(Gae)),!0)}};function Gae(e){return(nb(e)?Em:Fg).create(e)}function dk(e){const t=po(e);return t?t.constructor:dt.arr(e)?B7:nb(e)?Em:Fg}var QC=(e,t)=>{const r=!dt.fun(e)||e.prototype&&e.prototype.isReactComponent;return L.forwardRef((n,a)=>{const i=L.useRef(null),s=r&&L.useCallback(m=>{i.current=Jae(a,m)},[a]),[o,c]=Xae(n,t),u=cS(),d=()=>{const m=i.current;if(r&&!m)return;(m?t.applyAnimatedValues(m,o.getValue(!0)):!1)===!1&&u()},f=new Kae(d,c),h=L.useRef();Au(()=>(h.current=f,Yt(c,m=>Xh(m,f)),()=>{h.current&&(Yt(h.current.deps,m=>Cm(m,h.current)),Qt.cancel(h.current.update))})),L.useEffect(d,[]),uS(()=>()=>{const m=h.current;Yt(m.deps,g=>Cm(g,m))});const p=t.getComponentProps(o.getValue());return L.createElement(e,{...p,ref:s})})},Kae=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&Qt.write(this.update)}};function Xae(e,t){const r=new Set;return hy.dependencies=r,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new ib(e),hy.dependencies=null,[e,r]}function Jae(e,t){return e&&(dt.fun(e)?e(t):e.current=t),t}var ZC=Symbol.for("AnimatedComponent"),Qae=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:r=a=>new ib(a),getComponentProps:n=a=>a}={})=>{const a={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:n},i=s=>{const o=eT(s)||"Anonymous";return dt.str(s)?s=i[s]||(i[s]=QC(s,a)):s=s[ZC]||(s[ZC]=QC(s,a)),s.displayName=`Animated(${o})`,s};return Po(e,(s,o)=>{dt.arr(e)&&(o=eT(s)),i[o]=i(s)}),{animated:i}},eT=e=>dt.str(e)?e:e&&dt.str(e.displayName)?e.displayName:dt.fun(e)&&e.name||null;function Ei(e,...t){return dt.fun(e)?e(...t):e}var im=(e,t)=>e===!0||!!(t&&e&&(dt.fun(e)?e(t):ci(e).includes(t))),U7=(e,t)=>dt.obj(e)?t&&e[t]:e,W7=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,Zae=e=>e,sb=(e,t=Zae)=>{let r=eie;e.default&&e.default!==!0&&(e=e.default,r=Object.keys(e));const n={};for(const a of r){const i=t(e[a],a);dt.und(i)||(n[a]=i)}return n},eie=["config","onProps","onStart","onChange","onPause","onResume","onRest"],tie={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function rie(e){const t={};let r=0;if(Po(e,(n,a)=>{tie[a]||(t[a]=n,r++)}),r)return t}function fS(e){const t=rie(e);if(t){const r={to:t};return Po(e,(n,a)=>a in t||(r[a]=n)),r}return{...e}}function Om(e){return e=Ti(e),dt.arr(e)?e.map(Om):nb(e)?Qs.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function q7(e){for(const t in e)return!0;return!1}function fk(e){return dt.fun(e)||dt.arr(e)&&dt.obj(e[0])}function hk(e,t){var r;(r=e.ref)==null||r.delete(e),t==null||t.delete(e)}function H7(e,t){var r;t&&e.ref!==t&&((r=e.ref)==null||r.delete(e),t.add(e),e.ref=t)}var hS={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},pk={...hS.default,mass:1,damping:1,easing:Pae.linear,clamp:!1},nie=class{constructor(){this.velocity=0,Object.assign(this,pk)}};function aie(e,t,r){r&&(r={...r},tT(r,t),t={...r,...t}),tT(e,t),Object.assign(e,t);for(const s in pk)e[s]==null&&(e[s]=pk[s]);let{frequency:n,damping:a}=e;const{mass:i}=e;return dt.und(n)||(n<.01&&(n=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/n,2)*i,e.friction=4*Math.PI*a*i/n),e}function tT(e,t){if(!dt.und(t.decay))e.duration=void 0;else{const r=!dt.und(t.tension)||!dt.und(t.friction);(r||!dt.und(t.frequency)||!dt.und(t.damping)||!dt.und(t.mass))&&(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}}var rT=[],iie=class{constructor(){this.changed=!1,this.values=rT,this.toValues=null,this.fromValues=rT,this.config=new nie,this.immediate=!1}};function z7(e,{key:t,props:r,defaultProps:n,state:a,actions:i}){return new Promise((s,o)=>{let c,u,d=im(r.cancel??(n==null?void 0:n.cancel),t);if(d)p();else{dt.und(r.pause)||(a.paused=im(r.pause,t));let m=n==null?void 0:n.pause;m!==!0&&(m=a.paused||im(m,t)),c=Ei(r.delay||0,t),m?(a.resumeQueue.add(h),i.pause()):(i.resume(),h())}function f(){a.resumeQueue.add(h),a.timeouts.delete(u),u.cancel(),c=u.time-Qt.now()}function h(){c>0&&!Qs.skipAnimation?(a.delayed=!0,u=Qt.setTimeout(p,c),a.pauseQueue.add(f),a.timeouts.add(u)):p()}function p(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(f),a.timeouts.delete(u),e<=(a.cancelId||0)&&(d=!0);try{i.start({...r,callId:e,cancel:d},s)}catch(m){o(m)}}})}var pS=(e,t)=>t.length==1?t[0]:t.some(r=>r.cancelled)?Rf(e.get()):t.every(r=>r.noop)?Y7(e.get()):Bs(e.get(),t.every(r=>r.finished)),Y7=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Bs=(e,t,r=!1)=>({value:e,finished:t,cancelled:r}),Rf=e=>({value:e,cancelled:!0,finished:!1});function V7(e,t,r,n){const{callId:a,parentId:i,onRest:s}=t,{asyncTo:o,promise:c}=r;return!i&&e===o&&!t.reset?c:r.promise=(async()=>{r.asyncId=a,r.asyncTo=e;const u=sb(t,(x,v)=>v==="onRest"?void 0:x);let d,f;const h=new Promise((x,v)=>(d=x,f=v)),p=x=>{const v=a<=(r.cancelId||0)&&Rf(n)||a!==r.asyncId&&Bs(n,!1);if(v)throw x.result=v,f(x),x},m=(x,v)=>{const b=new nT,y=new aT;return(async()=>{if(Qs.skipAnimation)throw Pm(r),y.result=Bs(n,!1),f(y),y;p(b);const C=dt.obj(x)?{...x}:{...v,to:x};C.parentId=a,Po(u,(T,N)=>{dt.und(C[N])&&(C[N]=T)});const S=await n.start(C);return p(b),r.paused&&await new Promise(T=>{r.resumeQueue.add(T)}),S})()};let g;if(Qs.skipAnimation)return Pm(r),Bs(n,!1);try{let x;dt.arr(e)?x=(async v=>{for(const b of v)await m(b)})(e):x=Promise.resolve(e(m,n.stop.bind(n))),await Promise.all([x.then(d),h]),g=Bs(n.get(),!0,!1)}catch(x){if(x instanceof nT)g=x.result;else if(x instanceof aT)g=x.result;else throw x}finally{a==r.asyncId&&(r.asyncId=i,r.asyncTo=i?o:void 0,r.promise=i?c:void 0)}return dt.fun(s)&&Qt.batchedUpdates(()=>{s(g,n,n.item)}),g})()}function Pm(e,t){nm(e.timeouts,r=>r.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var nT=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},aT=class extends Error{constructor(){super("SkipAnimationSignal")}},mk=e=>e instanceof mS,sie=1,mS=class extends $7{constructor(){super(...arguments),this.id=sie++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=po(this);return e&&e.getValue()}to(...e){return Qs.to(this,e)}interpolate(...e){return Bae(),Qs.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Am(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||eb.sort(this),Am(this,{type:"priority",parent:this,priority:e})}},Qu=Symbol.for("SpringPhase"),G7=1,K7=2,X7=4,m5=e=>(e[Qu]&G7)>0,rc=e=>(e[Qu]&K7)>0,X0=e=>(e[Qu]&X7)>0,iT=(e,t)=>t?e[Qu]|=K7|G7:e[Qu]&=-3,sT=(e,t)=>t?e[Qu]|=X7:e[Qu]&=-5,oie=class extends mS{constructor(e,t){if(super(),this.animation=new iie,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!dt.und(e)||!dt.und(t)){const r=dt.obj(e)?{...e}:{...t,from:e};dt.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(rc(this)||this._state.asyncTo)||X0(this)}get goal(){return Ti(this.animation.to)}get velocity(){const e=po(this);return e instanceof Fg?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return m5(this)}get isAnimating(){return rc(this)}get isPaused(){return X0(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,r=!1;const n=this.animation;let{toValues:a}=n;const{config:i}=n,s=ab(n.to);!s&&fs(n.to)&&(a=ci(Ti(n.to))),n.values.forEach((u,d)=>{if(u.done)return;const f=u.constructor==Em?1:s?s[d].lastPosition:a[d];let h=n.immediate,p=f;if(!h){if(p=u.lastPosition,i.tension<=0){u.done=!0;return}let m=u.elapsedTime+=e;const g=n.fromValues[d],x=u.v0!=null?u.v0:u.v0=dt.arr(i.velocity)?i.velocity[d]:i.velocity;let v;const b=i.precision||(g==f?.005:Math.min(1,Math.abs(f-g)*.001));if(dt.und(i.duration))if(i.decay){const y=i.decay===!0?.998:i.decay,C=Math.exp(-(1-y)*m);p=g+x/(1-y)*(1-C),h=Math.abs(u.lastPosition-p)<=b,v=x*C}else{v=u.lastVelocity==null?x:u.lastVelocity;const y=i.restVelocity||b/10,C=i.clamp?0:i.bounce,S=!dt.und(C),T=g==f?u.v0>0:g<f;let N,w=!1;const _=1,P=Math.ceil(e/_);for(let A=0;A<P&&(N=Math.abs(v)>y,!(!N&&(h=Math.abs(f-p)<=b,h)));++A){S&&(w=p==f||p>f==T,w&&(v=-v*C,p=f));const j=-i.tension*1e-6*(p-f),F=-i.friction*.001*v,M=(j+F)/i.mass;v=v+M*_,p=p+v*_}}else{let y=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,u.durationProgress>0&&(u.elapsedTime=i.duration*u.durationProgress,m=u.elapsedTime+=e)),y=(i.progress||0)+m/this._memoizedDuration,y=y>1?1:y<0?0:y,u.durationProgress=y),p=g+i.easing(y)*(f-g),v=(p-u.lastPosition)/e,h=y==1}u.lastVelocity=v,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),h=!0)}s&&!s[d].done&&(h=!1),h?u.done=!0:t=!1,u.setValue(p,i.round)&&(r=!0)});const o=po(this),c=o.getValue();if(t){const u=Ti(n.to);(c!==u||r)&&!i.decay?(o.setValue(u),this._onChange(u)):r&&i.decay&&this._onChange(c),this._stop()}else r&&this._onChange(c)}set(e){return Qt.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(rc(this)){const{to:e,config:t}=this.animation;Qt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let r;return dt.und(e)?(r=this.queue||[],this.queue=[]):r=[dt.obj(e)?e:{...t,to:e}],Promise.all(r.map(n=>this._update(n))).then(n=>pS(this,n))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Pm(this._state,e&&this._lastCallId),Qt.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:r,from:n}=e;r=dt.obj(r)?r[t]:r,(r==null||fk(r))&&(r=void 0),n=dt.obj(n)?n[t]:n,n==null&&(n=void 0);const a={to:r,from:n};return m5(this)||(e.reverse&&([r,n]=[n,r]),n=Ti(n),dt.und(n)?po(this)||this._set(r):this._set(n)),a}_update({...e},t){const{key:r,defaultProps:n}=this;e.default&&Object.assign(n,sb(e,(s,o)=>/^on/.test(o)?U7(s,r):s)),lT(this,e,"onProps"),Q0(this,"onProps",e,this);const a=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const i=this._state;return z7(++this._lastCallId,{key:r,props:e,defaultProps:n,state:i,actions:{pause:()=>{X0(this)||(sT(this,!0),Dp(i.pauseQueue),Q0(this,"onPause",Bs(this,J0(this,this.animation.to)),this))},resume:()=>{X0(this)&&(sT(this,!1),rc(this)&&this._resume(),Dp(i.resumeQueue),Q0(this,"onResume",Bs(this,J0(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then(s=>{if(e.loop&&s.finished&&!(t&&s.noop)){const o=J7(e);if(o)return this._update(o,!0)}return s})}_merge(e,t,r){if(t.cancel)return this.stop(!0),r(Rf(this));const n=!dt.und(e.to),a=!dt.und(e.from);if(n||a)if(t.callId>this._lastToId)this._lastToId=t.callId;else return r(Rf(this));const{key:i,defaultProps:s,animation:o}=this,{to:c,from:u}=o;let{to:d=c,from:f=u}=e;a&&!n&&(!t.default||dt.und(d))&&(d=f),t.reverse&&([d,f]=[f,d]);const h=!al(f,u);h&&(o.from=f),f=Ti(f);const p=!al(d,c);p&&this._focus(d);const m=fk(t.to),{config:g}=o,{decay:x,velocity:v}=g;(n||a)&&(g.velocity=0),t.config&&!m&&aie(g,Ei(t.config,i),t.config!==s.config?Ei(s.config,i):void 0);let b=po(this);if(!b||dt.und(d))return r(Bs(this,!0));const y=dt.und(t.reset)?a&&!t.default:!dt.und(f)&&im(t.reset,i),C=y?f:this.get(),S=Om(d),T=dt.num(S)||dt.arr(S)||nb(S),N=!m&&(!T||im(s.immediate||t.immediate,i));if(p){const A=dk(d);if(A!==b.constructor)if(N)b=this._set(S);else throw Error(`Cannot animate between ${b.constructor.name} and ${A.name}, as the "to" prop suggests`)}const w=b.constructor;let _=fs(d),P=!1;if(!_){const A=y||!m5(this)&&h;(p||A)&&(P=al(Om(C),S),_=!P),(!al(o.immediate,N)&&!N||!al(g.decay,x)||!al(g.velocity,v))&&(_=!0)}if(P&&rc(this)&&(o.changed&&!y?_=!0:_||this._stop(c)),!m&&((_||fs(c))&&(o.values=b.getPayload(),o.toValues=fs(d)?null:w==Em?[1]:ci(S)),o.immediate!=N&&(o.immediate=N,!N&&!y&&this._set(c)),_)){const{onRest:A}=o;Yt(cie,F=>lT(this,t,F));const j=Bs(this,J0(this,c));Dp(this._pendingCalls,j),this._pendingCalls.add(r),o.changed&&Qt.batchedUpdates(()=>{var F;o.changed=!y,A==null||A(j,this),y?Ei(s.onRest,j):(F=o.onStart)==null||F.call(o,j,this)})}y&&this._set(C),m?r(V7(t.to,t,this._state,this)):_?this._start():rc(this)&&!p?this._pendingCalls.add(r):r(Y7(C))}_focus(e){const t=this.animation;e!==t.to&&(XC(this)&&this._detach(),t.to=e,XC(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;fs(t)&&(Xh(t,this),mk(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;fs(e)&&Cm(e,this)}_set(e,t=!0){const r=Ti(e);if(!dt.und(r)){const n=po(this);if(!n||!al(r,n.getValue())){const a=dk(r);!n||n.constructor!=a?dS(this,a.create(r)):n.setValue(r),n&&Qt.batchedUpdates(()=>{this._onChange(r,t)})}}return po(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Q0(this,"onStart",Bs(this,J0(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Ei(this.animation.onChange,e,this)),Ei(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;po(this).reset(Ti(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),rc(this)||(iT(this,!0),X0(this)||this._resume())}_resume(){Qs.skipAnimation?this.finish():eb.start(this)}_stop(e,t){if(rc(this)){iT(this,!1);const r=this.animation;Yt(r.values,a=>{a.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),Am(this,{type:"idle",parent:this});const n=t?Rf(this.get()):Bs(this.get(),J0(this,e??r.to));Dp(this._pendingCalls,n),r.changed&&(r.changed=!1,Q0(this,"onRest",n,this))}}};function J0(e,t){const r=Om(t),n=Om(e.get());return al(n,r)}function J7(e,t=e.loop,r=e.to){const n=Ei(t);if(n){const a=n!==!0&&fS(n),i=(a||e).reverse,s=!a||a.reset;return Dm({...e,loop:t,default:!1,pause:void 0,to:!i||fk(r)?r:void 0,from:s?e.from:void 0,reset:s,...a})}}function Dm(e){const{to:t,from:r}=e=fS(e),n=new Set;return dt.obj(t)&&oT(t,n),dt.obj(r)&&oT(r,n),e.keys=n.size?Array.from(n):null,e}function lie(e){const t=Dm(e);return dt.und(t.default)&&(t.default=sb(t)),t}function oT(e,t){Po(e,(r,n)=>r!=null&&t.add(n))}var cie=["onStart","onRest","onChange","onPause","onResume"];function lT(e,t,r){e.animation[r]=t[r]!==W7(t,r)?U7(t[r],e.key):void 0}function Q0(e,t,...r){var n,a,i,s;(a=(n=e.animation)[t])==null||a.call(n,...r),(s=(i=e.defaultProps)[t])==null||s.call(i,...r)}var uie=["onStart","onChange","onRest"],die=1,Q7=class{constructor(e,t){this.id=die++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,r)=>e[r]=t.get()),e}set(e){for(const t in e){const r=e[t];dt.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push(Dm(e)),this}start(e){let{queue:t}=this;return e?t=ci(e).map(Dm):this.queue=[],this._flush?this._flush(this,t):(nF(this,t),gk(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const r=this.springs;Yt(ci(t),n=>r[n].stop(!!e))}else Pm(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(dt.und(e))this.start({pause:!0});else{const t=this.springs;Yt(ci(e),r=>t[r].pause())}return this}resume(e){if(dt.und(e))this.start({pause:!1});else{const t=this.springs;Yt(ci(e),r=>t[r].resume())}return this}each(e){Po(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:r}=this._events,n=this._active.size>0,a=this._changed.size>0;(n&&!this._started||a&&!this._started)&&(this._started=!0,nm(e,([o,c])=>{c.value=this.get(),o(c,this,this._item)}));const i=!n&&this._started,s=a||i&&r.size?this.get():null;a&&t.size&&nm(t,([o,c])=>{c.value=s,o(c,this,this._item)}),i&&(this._started=!1,nm(r,([o,c])=>{c.value=s,o(c,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Qt.onFrame(this._onFrame)}};function gk(e,t){return Promise.all(t.map(r=>Z7(e,r))).then(r=>pS(e,r))}async function Z7(e,t,r){const{keys:n,to:a,from:i,loop:s,onRest:o,onResolve:c}=t,u=dt.obj(t.default)&&t.default;s&&(t.loop=!1),a===!1&&(t.to=null),i===!1&&(t.from=null);const d=dt.arr(a)||dt.fun(a)?a:void 0;d?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):Yt(uie,g=>{const x=t[g];if(dt.fun(x)){const v=e._events[g];t[g]=({finished:b,cancelled:y})=>{const C=v.get(x);C?(b||(C.finished=!1),y&&(C.cancelled=!0)):v.set(x,{value:null,finished:b||!1,cancelled:y||!1})},u&&(u[g]=t[g])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,Dp(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const h=(n||Object.keys(e.springs)).map(g=>e.springs[g].start(t)),p=t.cancel===!0||W7(t,"cancel")===!0;(d||p&&f.asyncId)&&h.push(z7(++e._lastAsyncId,{props:t,state:f,actions:{pause:lk,resume:lk,start(g,x){p?(Pm(f,e._lastAsyncId),x(Rf(e))):(g.onRest=o,x(V7(d,g,f,e)))}}})),f.paused&&await new Promise(g=>{f.resumeQueue.add(g)});const m=pS(e,await Promise.all(h));if(s&&m.finished&&!(r&&m.noop)){const g=J7(t,s,a);if(g)return nF(e,[g]),Z7(e,g,!0)}return c&&Qt.batchedUpdates(()=>c(m,e,e.item)),m}function xk(e,t){const r={...e.springs};return t&&Yt(ci(t),n=>{dt.und(n.keys)&&(n=Dm(n)),dt.obj(n.to)||(n={...n,to:void 0}),rF(r,n,a=>tF(a))}),eF(e,r),r}function eF(e,t){Po(t,(r,n)=>{e.springs[n]||(e.springs[n]=r,Xh(r,e))})}function tF(e,t){const r=new oie;return r.key=e,t&&Xh(r,t),r}function rF(e,t,r){t.keys&&Yt(t.keys,n=>{(e[n]||(e[n]=r(n)))._prepareNode(t)})}function nF(e,t){Yt(t,r=>{rF(e.springs,r,n=>tF(n,e))})}var Lg=({children:e,...t})=>{const r=L.useContext(py),n=t.pause||!!r.pause,a=t.immediate||!!r.immediate;t=Hae(()=>({pause:n,immediate:a}),[n,a]);const{Provider:i}=py;return L.createElement(i,{value:t},e)},py=fie(Lg,{});Lg.Provider=py.Provider;Lg.Consumer=py.Consumer;function fie(e,t){return Object.assign(e,L.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var aF=()=>{const e=[],t=function(n){Wae();const a=[];return Yt(e,(i,s)=>{if(dt.und(n))a.push(i.start());else{const o=r(n,i,s);o&&a.push(i.start(o))}}),a};t.current=e,t.add=function(n){e.includes(n)||e.push(n)},t.delete=function(n){const a=e.indexOf(n);~a&&e.splice(a,1)},t.pause=function(){return Yt(e,n=>n.pause(...arguments)),this},t.resume=function(){return Yt(e,n=>n.resume(...arguments)),this},t.set=function(n){Yt(e,(a,i)=>{const s=dt.fun(n)?n(i,a):n;s&&a.set(s)})},t.start=function(n){const a=[];return Yt(e,(i,s)=>{if(dt.und(n))a.push(i.start());else{const o=this._getProps(n,i,s);o&&a.push(i.start(o))}}),a},t.stop=function(){return Yt(e,n=>n.stop(...arguments)),this},t.update=function(n){return Yt(e,(a,i)=>a.update(this._getProps(n,a,i))),this};const r=function(n,a,i){return dt.fun(n)?n(i,a):n};return t._getProps=r,t};function hie(e,t,r){const n=dt.fun(t)&&t;n&&!r&&(r=[]);const a=L.useMemo(()=>n||arguments.length==3?aF():void 0,[]),i=L.useRef(0),s=cS(),o=L.useMemo(()=>({ctrls:[],queue:[],flush(v,b){const y=xk(v,b);return i.current>0&&!o.queue.length&&!Object.keys(y).some(S=>!v.springs[S])?gk(v,b):new Promise(S=>{eF(v,y),o.queue.push(()=>{S(gk(v,b))}),s()})}}),[]),c=L.useRef([...o.ctrls]),u=[],d=uk(e)||0;L.useMemo(()=>{Yt(c.current.slice(e,d),v=>{hk(v,a),v.stop(!0)}),c.current.length=e,f(d,e)},[e]),L.useMemo(()=>{f(0,Math.min(d,e))},r);function f(v,b){for(let y=v;y<b;y++){const C=c.current[y]||(c.current[y]=new Q7(null,o.flush)),S=n?n(y,C):t[y];S&&(u[y]=lie(S))}}const h=c.current.map((v,b)=>xk(v,u[b])),p=L.useContext(Lg),m=uk(p),g=p!==m&&q7(p);Au(()=>{i.current++,o.ctrls=c.current;const{queue:v}=o;v.length&&(o.queue=[],Yt(v,b=>b())),Yt(c.current,(b,y)=>{a==null||a.add(b),g&&b.start({default:p});const C=u[y];C&&(H7(b,C.ref),b.ref?b.queue.push(C):b.start(C))})}),uS(()=>()=>{Yt(o.ctrls,v=>v.stop(!0))});const x=h.map(v=>({...v}));return a?[x,a]:x}function Jh(e,t){const r=dt.fun(e),[[n],a]=hie(1,r?e:[e],r?[]:t);return r||arguments.length==2?[n,a]:n}function Ig(e,t,r){const n=dt.fun(t)&&t,{reset:a,sort:i,trail:s=0,expires:o=!0,exitBeforeEnter:c=!1,onDestroyed:u,ref:d,config:f}=n?n():t,h=L.useMemo(()=>n||arguments.length==3?aF():void 0,[]),p=ci(e),m=[],g=L.useRef(null),x=a?null:g.current;Au(()=>{g.current=m}),uS(()=>(Yt(m,M=>{h==null||h.add(M.ctrl),M.ctrl.ref=h}),()=>{Yt(g.current,M=>{M.expired&&clearTimeout(M.expirationId),hk(M.ctrl,h),M.ctrl.stop(!0)})}));const v=mie(p,n?n():t,x),b=a&&g.current||[];Au(()=>Yt(b,({ctrl:M,item:H,key:q})=>{hk(M,h),Ei(u,H,q)}));const y=[];if(x&&Yt(x,(M,H)=>{M.expired?(clearTimeout(M.expirationId),b.push(M)):(H=y[H]=v.indexOf(M.key),~H&&(m[H]=M))}),Yt(p,(M,H)=>{m[H]||(m[H]={key:v[H],item:M,phase:"mount",ctrl:new Q7},m[H].ctrl.item=M)}),y.length){let M=-1;const{leave:H}=n?n():t;Yt(y,(q,Y)=>{const X=x[Y];~q?(M=m.indexOf(X),m[M]={...X,item:p[q]}):H&&m.splice(++M,0,X)})}dt.fun(i)&&m.sort((M,H)=>i(M.item,H.item));let C=-s;const S=cS(),T=sb(t),N=new Map,w=L.useRef(new Map),_=L.useRef(!1);Yt(m,(M,H)=>{const q=M.key,Y=M.phase,X=n?n():t;let I,J;const Q=Ei(X.delay||0,q);if(Y=="mount")I=X.enter,J="enter";else{const z=v.indexOf(q)<0;if(Y!="leave")if(z)I=X.leave,J="leave";else if(I=X.update)J="update";else return;else if(!z)I=X.enter,J="enter";else return}if(I=Ei(I,M.item,H),I=dt.obj(I)?fS(I):{to:I},!I.config){const z=f||T.config;I.config=Ei(z,M.item,H,J)}C+=s;const E={...T,delay:Q+C,ref:d,immediate:X.immediate,reset:!1,...I};if(J=="enter"&&dt.und(E.from)){const z=n?n():t,G=dt.und(z.initial)||x?z.from:z.initial;E.from=Ei(G,M.item,H)}const{onResolve:R}=E;E.onResolve=z=>{Ei(R,z);const G=g.current,ae=G.find(ee=>ee.key===q);if(ae&&!(z.cancelled&&ae.phase!="update")&&ae.ctrl.idle){const ee=G.every(W=>W.ctrl.idle);if(ae.phase=="leave"){const W=Ei(o,ae.item);if(W!==!1){const Z=W===!0?0:W;if(ae.expired=!0,!ee&&Z>0){Z<=2147483647&&(ae.expirationId=setTimeout(S,Z));return}}}ee&&G.some(W=>W.expired)&&(w.current.delete(ae),c&&(_.current=!0),S())}};const U=xk(M.ctrl,E);J==="leave"&&c?w.current.set(M,{phase:J,springs:U,payload:E}):N.set(M,{phase:J,springs:U,payload:E})});const P=L.useContext(Lg),A=uk(P),j=P!==A&&q7(P);Au(()=>{j&&Yt(m,M=>{M.ctrl.start({default:P})})},[P]),Yt(N,(M,H)=>{if(w.current.size){const q=m.findIndex(Y=>Y.key===H.key);m.splice(q,1)}}),Au(()=>{Yt(w.current.size?w.current:N,({phase:M,payload:H},q)=>{const{ctrl:Y}=q;q.phase=M,h==null||h.add(Y),j&&M=="enter"&&Y.start({default:P}),H&&(H7(Y,H.ref),(Y.ref||h)&&!_.current?Y.update(H):(Y.start(H),_.current&&(_.current=!1)))})},a?void 0:r);const F=M=>L.createElement(L.Fragment,null,m.map((H,q)=>{const{springs:Y}=N.get(H)||H.ctrl,X=M({...Y},H.item,H,q);return X&&X.type?L.createElement(X.type,{...X.props,key:dt.str(H.key)||dt.num(H.key)?H.key:H.ctrl.id,ref:X.ref}):X}));return h?[F,h]:F}var pie=1;function mie(e,{key:t,keys:r=t},n){if(r===null){const a=new Set;return e.map(i=>{const s=n&&n.find(o=>o.item===i&&o.phase!=="leave"&&!a.has(o));return s?(a.add(s),s.key):pie++})}return dt.und(r)?e:dt.fun(r)?e.map(r):ci(r)}var iF=class extends mS{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Nm(...t);const r=this._get(),n=dk(r);dS(this,n.create(r))}advance(e){const t=this._get(),r=this.get();al(t,r)||(po(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&cT(this._active)&&g5(this)}_get(){const e=dt.arr(this.source)?this.source.map(Ti):ci(Ti(this.source));return this.calc(...e)}_start(){this.idle&&!cT(this._active)&&(this.idle=!1,Yt(ab(this),e=>{e.done=!1}),Qs.skipAnimation?(Qt.batchedUpdates(()=>this.advance()),g5(this)):eb.start(this))}_attach(){let e=1;Yt(ci(this.source),t=>{fs(t)&&Xh(t,this),mk(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Yt(ci(this.source),e=>{fs(e)&&Cm(e,this)}),this._active.clear(),g5(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=ci(this.source).reduce((t,r)=>Math.max(t,(mk(r)?r.priority:0)+1),0))}};function gie(e){return e.idle!==!1}function cT(e){return!e.size||Array.from(e).every(gie)}function g5(e){e.idle||(e.idle=!0,Yt(ab(e),t=>{t.done=!0}),Am(e,{type:"idle",parent:e}))}var Qh=(e,...t)=>new iF(e,t);Qs.assign({createStringInterpolator:L7,to:(e,t)=>new iF(e,t)});var sF=/^--/;function xie(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!sF.test(e)&&!(sm.hasOwnProperty(e)&&sm[e])?t+"px":(""+t).trim()}var uT={};function vie(e,t){if(!e.nodeType||!e.setAttribute)return!1;const r=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:n,style:a,children:i,scrollTop:s,scrollLeft:o,viewBox:c,...u}=t,d=Object.values(u),f=Object.keys(u).map(h=>r||e.hasAttribute(h)?h:uT[h]||(uT[h]=h.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));i!==void 0&&(e.textContent=i);for(const h in a)if(a.hasOwnProperty(h)){const p=xie(h,a[h]);sF.test(h)?e.style.setProperty(h,p):e.style[h]=p}f.forEach((h,p)=>{e.setAttribute(h,d[p])}),n!==void 0&&(e.className=n),s!==void 0&&(e.scrollTop=s),o!==void 0&&(e.scrollLeft=o),c!==void 0&&e.setAttribute("viewBox",c)}var sm={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yie=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),bie=["Webkit","Ms","Moz","O"];sm=Object.keys(sm).reduce((e,t)=>(bie.forEach(r=>e[yie(r,t)]=e[t]),e),sm);var wie=/^(matrix|translate|scale|rotate|skew)/,_ie=/^(translate)/,kie=/^(rotate|skew)/,x5=(e,t)=>dt.num(e)&&e!==0?e+t:e,Rv=(e,t)=>dt.arr(e)?e.every(r=>Rv(r,t)):dt.num(e)?e===t:parseFloat(e)===t,Sie=class extends ib{constructor({x:e,y:t,z:r,...n}){const a=[],i=[];(e||t||r)&&(a.push([e||0,t||0,r||0]),i.push(s=>[`translate3d(${s.map(o=>x5(o,"px")).join(",")})`,Rv(s,0)])),Po(n,(s,o)=>{if(o==="transform")a.push([s||""]),i.push(c=>[c,c===""]);else if(wie.test(o)){if(delete n[o],dt.und(s))return;const c=_ie.test(o)?"px":kie.test(o)?"deg":"";a.push(ci(s)),i.push(o==="rotate3d"?([u,d,f,h])=>[`rotate3d(${u},${d},${f},${x5(h,c)})`,Rv(h,0)]:u=>[`${o}(${u.map(d=>x5(d,c)).join(",")})`,Rv(u,o.startsWith("scale")?1:0)])}}),a.length&&(n.transform=new Nie(a,i)),super(n)}},Nie=class extends $7{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Yt(this.inputs,(r,n)=>{const a=Ti(r[0]),[i,s]=this.transforms[n](dt.arr(a)?a:r.map(Ti));e+=" "+i,t=t&&s}),t?"none":e}observerAdded(e){e==1&&Yt(this.inputs,t=>Yt(t,r=>fs(r)&&Xh(r,this)))}observerRemoved(e){e==0&&Yt(this.inputs,t=>Yt(t,r=>fs(r)&&Cm(r,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Am(this,e)}},jie=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Qs.assign({batchedUpdates:uD.unstable_batchedUpdates,createStringInterpolator:L7,colors:bae});var Aie=Qae(jie,{applyAnimatedValues:vie,createAnimatedStyle:e=>new Sie(e),getComponentProps:({scrollTop:e,scrollLeft:t,...r})=>r}),Pa=Aie.animated;function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zu.apply(this,arguments)}var Cie={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},dT=function(e,t){return"translate("+e+"px, "+t+"px)"},oF=L.memo(function(e){var t,r=e.position,n=e.anchor,a=e.children,i=zn(),s=Wo(),o=s.animate,c=s.config,u=wI(),d=u[0],f=u[1],h=L.useRef(!1),p=void 0,m=!1,g=f.width>0&&f.height>0,x=Math.round(r[0]),v=Math.round(r[1]);g&&(n==="top"?(x-=f.width/2,v-=f.height+14):n==="right"?(x+=14,v-=f.height/2):n==="bottom"?(x-=f.width/2,v+=14):n==="left"?(x-=f.width+14,v-=f.height/2):n==="center"&&(x-=f.width/2,v-=f.height/2),p={transform:dT(x,v)},h.current||(m=!0),h.current=[x,v]);var b=Jh({to:p,config:c,immediate:!o||m}),y=Zu({},Cie,i.tooltip.wrapper,{transform:(t=b.transform)!=null?t:dT(x,v),opacity:b.transform?1:0});return l.jsx(Pa.div,{ref:d,style:y,children:a})});oF.displayName="TooltipWrapper";var lF=L.memo(function(e){var t=e.size,r=t===void 0?12:t,n=e.color,a=e.style;return l.jsx("span",{style:Zu({display:"block",width:r,height:r,background:n},a===void 0?{}:a)})}),cF=L.memo(function(e){var t,r=e.id,n=e.value,a=e.format,i=e.enableChip,s=i!==void 0&&i,o=e.color,c=e.renderContent,u=zn(),d=My(a);if(typeof c=="function")t=c();else{var f=n;d!==void 0&&f!==void 0&&(f=d(f)),t=l.jsxs("div",{style:u.tooltip.basic,children:[s&&l.jsx(lF,{color:o,style:u.tooltip.chip}),f!==void 0?l.jsxs("span",{children:[r,": ",l.jsx("strong",{children:""+f})]}):r]})}return l.jsx("div",{style:u.tooltip.container,children:t})}),Tie={width:"100%",borderCollapse:"collapse"},uF=L.memo(function(e){var t,r=e.title,n=e.rows,a=n===void 0?[]:n,i=e.renderContent,s=zn();return a.length?(t=typeof i=="function"?i():l.jsxs("div",{children:[r&&r,l.jsx("table",{style:Zu({},Tie,s.tooltip.table),children:l.jsx("tbody",{children:a.map(function(o,c){return l.jsx("tr",{children:o.map(function(u,d){return l.jsx("td",{style:s.tooltip.tableCell,children:u},d)})},c)})})})]}),l.jsx("div",{style:s.tooltip.container,children:t})):null});uF.displayName="TableTooltip";var vk=L.memo(function(e){var t=e.x0,r=e.x1,n=e.y0,a=e.y1,i=zn(),s=Wo(),o=s.animate,c=s.config,u=L.useMemo(function(){return Zu({},i.crosshair.line,{pointerEvents:"none"})},[i.crosshair.line]),d=Jh({x1:t,x2:r,y1:n,y2:a,config:c,immediate:!o});return l.jsx(Pa.line,Zu({},d,{fill:"none",style:u}))});vk.displayName="CrosshairLine";var yk=L.memo(function(e){var t,r,n=e.width,a=e.height,i=e.type,s=e.x,o=e.y;return i==="cross"?(t={x0:s,x1:s,y0:0,y1:a},r={x0:0,x1:n,y0:o,y1:o}):i==="top-left"?(t={x0:s,x1:s,y0:0,y1:o},r={x0:0,x1:s,y0:o,y1:o}):i==="top"?t={x0:s,x1:s,y0:0,y1:o}:i==="top-right"?(t={x0:s,x1:s,y0:0,y1:o},r={x0:s,x1:n,y0:o,y1:o}):i==="right"?r={x0:s,x1:n,y0:o,y1:o}:i==="bottom-right"?(t={x0:s,x1:s,y0:o,y1:a},r={x0:s,x1:n,y0:o,y1:o}):i==="bottom"?t={x0:s,x1:s,y0:o,y1:a}:i==="bottom-left"?(t={x0:s,x1:s,y0:o,y1:a},r={x0:0,x1:s,y0:o,y1:o}):i==="left"?r={x0:0,x1:s,y0:o,y1:o}:i==="x"?t={x0:s,x1:s,y0:0,y1:a}:i==="y"&&(r={x0:0,x1:n,y0:o,y1:o}),l.jsxs(l.Fragment,{children:[t&&l.jsx(vk,{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1}),r&&l.jsx(vk,{x0:r.x0,x1:r.x1,y0:r.y0,y1:r.y1})]})});yk.displayName="Crosshair";var dF=L.createContext({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),bk={isVisible:!1,position:[null,null],content:null,anchor:null},fF=L.createContext(bk),Eie=function(e){var t=L.useState(bk),r=t[0],n=t[1],a=L.useCallback(function(o,c,u){var d=c[0],f=c[1];u===void 0&&(u="top"),n({isVisible:!0,position:[d,f],anchor:u,content:o})},[n]),i=L.useCallback(function(o,c,u){u===void 0&&(u="top");var d=e.current.getBoundingClientRect(),f=e.current.offsetWidth,h=f===d.width?1:f/d.width,p="touches"in c?c.touches[0]:c,m=p.clientX,g=p.clientY,x=(m-d.left)*h,v=(g-d.top)*h;u!=="left"&&u!=="right"||(u=x<d.width/2?"right":"left"),n({isVisible:!0,position:[x,v],anchor:u,content:o})},[e,n]),s=L.useCallback(function(){n(bk)},[n]);return{actions:L.useMemo(function(){return{showTooltipAt:a,showTooltipFromEvent:i,hideTooltip:s}},[a,i,s]),state:r}},Rg=function(){var e=L.useContext(dF);if(e===void 0)throw new Error("useTooltip must be used within a TooltipProvider");return e},Oie=function(){var e=L.useContext(fF);if(e===void 0)throw new Error("useTooltipState must be used within a TooltipProvider");return e},Pie=function(e){return e.isVisible},Die=function(){var e=Oie();return Pie(e)?l.jsx(oF,{position:e.position,anchor:e.anchor,children:e.content}):null},$ie=function(e){var t=e.container,r=e.children,n=Eie(t),a=n.actions,i=n.state;return l.jsx(dF.Provider,{value:a,children:l.jsx(fF.Provider,{value:i,children:r})})};function Mie(){this.__data__=[],this.size=0}var Fie=Mie;function Lie(e,t){return e===t||e!==e&&t!==t}var Bg=Lie,Iie=Bg;function Rie(e,t){for(var r=e.length;r--;)if(Iie(e[r][0],t))return r;return-1}var ob=Rie,Bie=ob,Uie=Array.prototype,Wie=Uie.splice;function qie(e){var t=this.__data__,r=Bie(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Wie.call(t,r,1),--this.size,!0}var Hie=qie,zie=ob;function Yie(e){var t=this.__data__,r=zie(t,e);return r<0?void 0:t[r][1]}var Vie=Yie,Gie=ob;function Kie(e){return Gie(this.__data__,e)>-1}var Xie=Kie,Jie=ob;function Qie(e,t){var r=this.__data__,n=Jie(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Zie=Qie,ese=Fie,tse=Hie,rse=Vie,nse=Xie,ase=Zie;function Zh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zh.prototype.clear=ese;Zh.prototype.delete=tse;Zh.prototype.get=rse;Zh.prototype.has=nse;Zh.prototype.set=ase;var lb=Zh,ise=lb;function sse(){this.__data__=new ise,this.size=0}var ose=sse;function lse(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var cse=lse;function use(e){return this.__data__.get(e)}var dse=use;function fse(e){return this.__data__.has(e)}var hse=fse,pse=typeof Zn=="object"&&Zn&&Zn.Object===Object&&Zn,hF=pse,mse=hF,gse=typeof self=="object"&&self&&self.Object===Object&&self,xse=mse||gse||Function("return this")(),ro=xse,vse=ro,yse=vse.Symbol,Ug=yse,fT=Ug,pF=Object.prototype,bse=pF.hasOwnProperty,wse=pF.toString,Z0=fT?fT.toStringTag:void 0;function _se(e){var t=bse.call(e,Z0),r=e[Z0];try{e[Z0]=void 0;var n=!0}catch{}var a=wse.call(e);return n&&(t?e[Z0]=r:delete e[Z0]),a}var kse=_se,Sse=Object.prototype,Nse=Sse.toString;function jse(e){return Nse.call(e)}var Ase=jse,hT=Ug,Cse=kse,Tse=Ase,Ese="[object Null]",Ose="[object Undefined]",pT=hT?hT.toStringTag:void 0;function Pse(e){return e==null?e===void 0?Ose:Ese:pT&&pT in Object(e)?Cse(e):Tse(e)}var Uo=Pse;function Dse(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ki=Dse;const e0=hr(Ki);var $se=Uo,Mse=Ki,Fse="[object AsyncFunction]",Lse="[object Function]",Ise="[object GeneratorFunction]",Rse="[object Proxy]";function Bse(e){if(!Mse(e))return!1;var t=$se(e);return t==Lse||t==Ise||t==Fse||t==Rse}var cb=Bse;const nr=hr(cb);var Use=ro,Wse=Use["__core-js_shared__"],qse=Wse,v5=qse,mT=function(){var e=/[^.]+$/.exec(v5&&v5.keys&&v5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Hse(e){return!!mT&&mT in e}var zse=Hse,Yse=Function.prototype,Vse=Yse.toString;function Gse(e){if(e!=null){try{return Vse.call(e)}catch{}try{return e+""}catch{}}return""}var mF=Gse,Kse=cb,Xse=zse,Jse=Ki,Qse=mF,Zse=/[\\^$.*+?()[\]{}|]/g,eoe=/^\[object .+?Constructor\]$/,toe=Function.prototype,roe=Object.prototype,noe=toe.toString,aoe=roe.hasOwnProperty,ioe=RegExp("^"+noe.call(aoe).replace(Zse,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function soe(e){if(!Jse(e)||Xse(e))return!1;var t=Kse(e)?ioe:eoe;return t.test(Qse(e))}var ooe=soe;function loe(e,t){return e==null?void 0:e[t]}var coe=loe,uoe=ooe,doe=coe;function foe(e,t){var r=doe(e,t);return uoe(r)?r:void 0}var _d=foe,hoe=_d,poe=ro,moe=hoe(poe,"Map"),gS=moe,goe=_d,xoe=goe(Object,"create"),ub=xoe,gT=ub;function voe(){this.__data__=gT?gT(null):{},this.size=0}var yoe=voe;function boe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var woe=boe,_oe=ub,koe="__lodash_hash_undefined__",Soe=Object.prototype,Noe=Soe.hasOwnProperty;function joe(e){var t=this.__data__;if(_oe){var r=t[e];return r===koe?void 0:r}return Noe.call(t,e)?t[e]:void 0}var Aoe=joe,Coe=ub,Toe=Object.prototype,Eoe=Toe.hasOwnProperty;function Ooe(e){var t=this.__data__;return Coe?t[e]!==void 0:Eoe.call(t,e)}var Poe=Ooe,Doe=ub,$oe="__lodash_hash_undefined__";function Moe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Doe&&t===void 0?$oe:t,this}var Foe=Moe,Loe=yoe,Ioe=woe,Roe=Aoe,Boe=Poe,Uoe=Foe;function t0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}t0.prototype.clear=Loe;t0.prototype.delete=Ioe;t0.prototype.get=Roe;t0.prototype.has=Boe;t0.prototype.set=Uoe;var Woe=t0,xT=Woe,qoe=lb,Hoe=gS;function zoe(){this.size=0,this.__data__={hash:new xT,map:new(Hoe||qoe),string:new xT}}var Yoe=zoe;function Voe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Goe=Voe,Koe=Goe;function Xoe(e,t){var r=e.__data__;return Koe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var db=Xoe,Joe=db;function Qoe(e){var t=Joe(this,e).delete(e);return this.size-=t?1:0,t}var Zoe=Qoe,ele=db;function tle(e){return ele(this,e).get(e)}var rle=tle,nle=db;function ale(e){return nle(this,e).has(e)}var ile=ale,sle=db;function ole(e,t){var r=sle(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var lle=ole,cle=Yoe,ule=Zoe,dle=rle,fle=ile,hle=lle;function r0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}r0.prototype.clear=cle;r0.prototype.delete=ule;r0.prototype.get=dle;r0.prototype.has=fle;r0.prototype.set=hle;var xS=r0,ple=lb,mle=gS,gle=xS,xle=200;function vle(e,t){var r=this.__data__;if(r instanceof ple){var n=r.__data__;if(!mle||n.length<xle-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new gle(n)}return r.set(e,t),this.size=r.size,this}var yle=vle,ble=lb,wle=ose,_le=cse,kle=dse,Sle=hse,Nle=yle;function n0(e){var t=this.__data__=new ble(e);this.size=t.size}n0.prototype.clear=wle;n0.prototype.delete=_le;n0.prototype.get=kle;n0.prototype.has=Sle;n0.prototype.set=Nle;var vS=n0,jle=_d,Ale=function(){try{var e=jle(Object,"defineProperty");return e({},"",{}),e}catch{}}(),gF=Ale,vT=gF;function Cle(e,t,r){t=="__proto__"&&vT?vT(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var fb=Cle,Tle=fb,Ele=Bg;function Ole(e,t,r){(r!==void 0&&!Ele(e[t],r)||r===void 0&&!(t in e))&&Tle(e,t,r)}var xF=Ole;function Ple(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var c=s[e?o:++a];if(r(i[c],c,i)===!1)break}return t}}var Dle=Ple,$le=Dle,Mle=$le(),vF=Mle,my={exports:{}};my.exports;(function(e,t){var r=ro,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,h=o?o(f):new u.constructor(f);return u.copy(h),h}e.exports=c})(my,my.exports);var Fle=my.exports,Lle=ro,Ile=Lle.Uint8Array,yF=Ile,yT=yF;function Rle(e){var t=new e.constructor(e.byteLength);return new yT(t).set(new yT(e)),t}var Ble=Rle,Ule=Ble;function Wle(e,t){var r=t?Ule(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var qle=Wle;function Hle(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var zle=Hle,Yle=Ki,bT=Object.create,Vle=function(){function e(){}return function(t){if(!Yle(t))return{};if(bT)return bT(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Gle=Vle;function Kle(e,t){return function(r){return e(t(r))}}var bF=Kle,Xle=bF,Jle=Xle(Object.getPrototypeOf,Object),wF=Jle,Qle=Object.prototype;function Zle(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Qle;return e===r}var yS=Zle,ece=Gle,tce=wF,rce=yS;function nce(e){return typeof e.constructor=="function"&&!rce(e)?ece(tce(e)):{}}var ace=nce;function ice(e){return e!=null&&typeof e=="object"}var no=ice,sce=Uo,oce=no,lce="[object Arguments]";function cce(e){return oce(e)&&sce(e)==lce}var uce=cce,wT=uce,dce=no,_F=Object.prototype,fce=_F.hasOwnProperty,hce=_F.propertyIsEnumerable,pce=wT(function(){return arguments}())?wT:function(e){return dce(e)&&fce.call(e,"callee")&&!hce.call(e,"callee")},hb=pce,mce=Array.isArray,vi=mce,gce=9007199254740991;function xce(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=gce}var bS=xce,vce=cb,yce=bS;function bce(e){return e!=null&&yce(e.length)&&!vce(e)}var a0=bce,wce=a0,_ce=no;function kce(e){return _ce(e)&&wce(e)}var kF=kce,gy={exports:{}};function Sce(){return!1}var Nce=Sce;gy.exports;(function(e,t){var r=ro,n=Nce,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||n;e.exports=u})(gy,gy.exports);var wS=gy.exports,jce=Uo,Ace=wF,Cce=no,Tce="[object Object]",Ece=Function.prototype,Oce=Object.prototype,SF=Ece.toString,Pce=Oce.hasOwnProperty,Dce=SF.call(Object);function $ce(e){if(!Cce(e)||jce(e)!=Tce)return!1;var t=Ace(e);if(t===null)return!0;var r=Pce.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&SF.call(r)==Dce}var NF=$ce;const pb=hr(NF);var Mce=Uo,Fce=bS,Lce=no,Ice="[object Arguments]",Rce="[object Array]",Bce="[object Boolean]",Uce="[object Date]",Wce="[object Error]",qce="[object Function]",Hce="[object Map]",zce="[object Number]",Yce="[object Object]",Vce="[object RegExp]",Gce="[object Set]",Kce="[object String]",Xce="[object WeakMap]",Jce="[object ArrayBuffer]",Qce="[object DataView]",Zce="[object Float32Array]",eue="[object Float64Array]",tue="[object Int8Array]",rue="[object Int16Array]",nue="[object Int32Array]",aue="[object Uint8Array]",iue="[object Uint8ClampedArray]",sue="[object Uint16Array]",oue="[object Uint32Array]",dn={};dn[Zce]=dn[eue]=dn[tue]=dn[rue]=dn[nue]=dn[aue]=dn[iue]=dn[sue]=dn[oue]=!0;dn[Ice]=dn[Rce]=dn[Jce]=dn[Bce]=dn[Qce]=dn[Uce]=dn[Wce]=dn[qce]=dn[Hce]=dn[zce]=dn[Yce]=dn[Vce]=dn[Gce]=dn[Kce]=dn[Xce]=!1;function lue(e){return Lce(e)&&Fce(e.length)&&!!dn[Mce(e)]}var cue=lue;function uue(e){return function(t){return e(t)}}var mb=uue,xy={exports:{}};xy.exports;(function(e,t){var r=hF,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(xy,xy.exports);var jF=xy.exports,due=cue,fue=mb,_T=jF,kT=_T&&_T.isTypedArray,hue=kT?fue(kT):due,_S=hue;function pue(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var AF=pue,mue=fb,gue=Bg,xue=Object.prototype,vue=xue.hasOwnProperty;function yue(e,t,r){var n=e[t];(!(vue.call(e,t)&&gue(n,r))||r===void 0&&!(t in e))&&mue(e,t,r)}var CF=yue,bue=CF,wue=fb;function _ue(e,t,r,n){var a=!r;r||(r={});for(var i=-1,s=t.length;++i<s;){var o=t[i],c=n?n(r[o],e[o],o,r,e):void 0;c===void 0&&(c=e[o]),a?wue(r,o,c):bue(r,o,c)}return r}var kue=_ue;function Sue(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Nue=Sue,jue=9007199254740991,Aue=/^(?:0|[1-9]\d*)$/;function Cue(e,t){var r=typeof e;return t=t??jue,!!t&&(r=="number"||r!="symbol"&&Aue.test(e))&&e>-1&&e%1==0&&e<t}var gb=Cue,Tue=Nue,Eue=hb,Oue=vi,Pue=wS,Due=gb,$ue=_S,Mue=Object.prototype,Fue=Mue.hasOwnProperty;function Lue(e,t){var r=Oue(e),n=!r&&Eue(e),a=!r&&!n&&Pue(e),i=!r&&!n&&!a&&$ue(e),s=r||n||a||i,o=s?Tue(e.length,String):[],c=o.length;for(var u in e)(t||Fue.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Due(u,c)))&&o.push(u);return o}var TF=Lue;function Iue(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Rue=Iue,Bue=Ki,Uue=yS,Wue=Rue,que=Object.prototype,Hue=que.hasOwnProperty;function zue(e){if(!Bue(e))return Wue(e);var t=Uue(e),r=[];for(var n in e)n=="constructor"&&(t||!Hue.call(e,n))||r.push(n);return r}var Yue=zue,Vue=TF,Gue=Yue,Kue=a0;function Xue(e){return Kue(e)?Vue(e,!0):Gue(e)}var EF=Xue,Jue=kue,Que=EF;function Zue(e){return Jue(e,Que(e))}var ede=Zue,ST=xF,tde=Fle,rde=qle,nde=zle,ade=ace,NT=hb,jT=vi,ide=kF,sde=wS,ode=cb,lde=Ki,cde=NF,ude=_S,AT=AF,dde=ede;function fde(e,t,r,n,a,i,s){var o=AT(e,r),c=AT(t,r),u=s.get(c);if(u){ST(e,r,u);return}var d=i?i(o,c,r+"",e,t,s):void 0,f=d===void 0;if(f){var h=jT(c),p=!h&&sde(c),m=!h&&!p&&ude(c);d=c,h||p||m?jT(o)?d=o:ide(o)?d=nde(o):p?(f=!1,d=tde(c,!0)):m?(f=!1,d=rde(c,!0)):d=[]:cde(c)||NT(c)?(d=o,NT(o)?d=dde(o):(!lde(o)||ode(o))&&(d=ade(c))):f=!1}f&&(s.set(c,d),a(d,c,n,i,s),s.delete(c)),ST(e,r,d)}var hde=fde,pde=vS,mde=xF,gde=vF,xde=hde,vde=Ki,yde=EF,bde=AF;function OF(e,t,r,n,a){e!==t&&gde(t,function(i,s){if(a||(a=new pde),vde(i))xde(e,t,s,r,OF,n,a);else{var o=n?n(bde(e,s),i,s+"",e,t,a):void 0;o===void 0&&(o=i),mde(e,s,o)}},yde)}var wde=OF;function _de(e){return e}var i0=_de;function kde(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Sde=kde,Nde=Sde,CT=Math.max;function jde(e,t,r){return t=CT(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=CT(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),Nde(e,this,o)}}var PF=jde;function Ade(e){return function(){return e}}var Cde=Ade,Tde=Cde,TT=gF,Ede=i0,Ode=TT?function(e,t){return TT(e,"toString",{configurable:!0,enumerable:!1,value:Tde(t),writable:!0})}:Ede,Pde=Ode,Dde=800,$de=16,Mde=Date.now;function Fde(e){var t=0,r=0;return function(){var n=Mde(),a=$de-(n-r);if(r=n,a>0){if(++t>=Dde)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Lde=Fde,Ide=Pde,Rde=Lde,Bde=Rde(Ide),DF=Bde,Ude=i0,Wde=PF,qde=DF;function Hde(e,t){return qde(Wde(e,t,Ude),e+"")}var kS=Hde,zde=Bg,Yde=a0,Vde=gb,Gde=Ki;function Kde(e,t,r){if(!Gde(r))return!1;var n=typeof t;return(n=="number"?Yde(r)&&Vde(t,r.length):n=="string"&&t in r)?zde(r[t],e):!1}var Wg=Kde,Xde=kS,Jde=Wg;function Qde(e){return Xde(function(t,r){var n=-1,a=r.length,i=a>1?r[a-1]:void 0,s=a>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,s&&Jde(r[0],r[1],s)&&(i=a<3?void 0:i,a=1),t=Object(t);++n<a;){var o=r[n];o&&e(t,o,n,i)}return t})}var Zde=Qde,efe=wde,tfe=Zde,rfe=tfe(function(e,t,r){efe(e,t,r)}),nfe=rfe;const afe=hr(nfe);var ife=Uo,sfe=no,ofe="[object Symbol]";function lfe(e){return typeof e=="symbol"||sfe(e)&&ife(e)==ofe}var s0=lfe,cfe=vi,ufe=s0,dfe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ffe=/^\w*$/;function hfe(e,t){if(cfe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ufe(e)?!0:ffe.test(e)||!dfe.test(e)||t!=null&&e in Object(t)}var SS=hfe,$F=xS,pfe="Expected a function";function NS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(pfe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(NS.Cache||$F),r}NS.Cache=$F;var MF=NS;const mfe=hr(MF);var gfe=MF,xfe=500;function vfe(e){var t=gfe(e,function(n){return r.size===xfe&&r.clear(),n}),r=t.cache;return t}var yfe=vfe,bfe=yfe,wfe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_fe=/\\(\\)?/g,kfe=bfe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(wfe,function(r,n,a,i){t.push(a?i.replace(_fe,"$1"):n||r)}),t}),Sfe=kfe;function Nfe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var xb=Nfe,ET=Ug,jfe=xb,Afe=vi,Cfe=s0,OT=ET?ET.prototype:void 0,PT=OT?OT.toString:void 0;function FF(e){if(typeof e=="string")return e;if(Afe(e))return jfe(e,FF)+"";if(Cfe(e))return PT?PT.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Tfe=FF,Efe=Tfe;function Ofe(e){return e==null?"":Efe(e)}var jS=Ofe,Pfe=vi,Dfe=SS,$fe=Sfe,Mfe=jS;function Ffe(e,t){return Pfe(e)?e:Dfe(e,t)?[e]:$fe(Mfe(e))}var vb=Ffe,Lfe=s0;function Ife(e){if(typeof e=="string"||Lfe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var qg=Ife,Rfe=vb,Bfe=qg;function Ufe(e,t){t=Rfe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Bfe(t[r++])];return r&&r==n?e:void 0}var yb=Ufe,Wfe=yb;function qfe(e,t,r){var n=e==null?void 0:Wfe(e,t);return n===void 0?r:n}var LF=qfe;const qn=hr(LF);var Hfe=CF,zfe=vb,Yfe=gb,DT=Ki,Vfe=qg;function Gfe(e,t,r,n){if(!DT(e))return e;t=zfe(t,e);for(var a=-1,i=t.length,s=i-1,o=e;o!=null&&++a<i;){var c=Vfe(t[a]),u=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(a!=s){var d=o[c];u=n?n(d,c,o):void 0,u===void 0&&(u=DT(d)?d:Yfe(t[a+1])?[]:{})}Hfe(o,c,u),o=o[c]}return e}var IF=Gfe,Kfe=IF;function Xfe(e,t,r){return e==null?e:Kfe(e,t,r)}var Jfe=Xfe;const $p=hr(Jfe);function bb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function AS(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function o0(){}var ed=.7,ah=1/ed,Bf="\\s*([+-]?\\d+)\\s*",$m="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",So="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qfe=/^#([0-9a-f]{3,8})$/,Zfe=new RegExp(`^rgb\\(${Bf},${Bf},${Bf}\\)$`),ehe=new RegExp(`^rgb\\(${So},${So},${So}\\)$`),the=new RegExp(`^rgba\\(${Bf},${Bf},${Bf},${$m}\\)$`),rhe=new RegExp(`^rgba\\(${So},${So},${So},${$m}\\)$`),nhe=new RegExp(`^hsl\\(${$m},${So},${So}\\)$`),ahe=new RegExp(`^hsla\\(${$m},${So},${So},${$m}\\)$`),$T={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bb(o0,Mm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:MT,formatHex:MT,formatHex8:ihe,formatHsl:she,formatRgb:FT,toString:FT});function MT(){return this.rgb().formatHex()}function ihe(){return this.rgb().formatHex8()}function she(){return BF(this).formatHsl()}function FT(){return this.rgb().formatRgb()}function Mm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Qfe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?LT(t):r===3?new Xa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?iv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?iv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Zfe.exec(e))?new Xa(t[1],t[2],t[3],1):(t=ehe.exec(e))?new Xa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=the.exec(e))?iv(t[1],t[2],t[3],t[4]):(t=rhe.exec(e))?iv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=nhe.exec(e))?BT(t[1],t[2]/100,t[3]/100,1):(t=ahe.exec(e))?BT(t[1],t[2]/100,t[3]/100,t[4]):$T.hasOwnProperty(e)?LT($T[e]):e==="transparent"?new Xa(NaN,NaN,NaN,0):null}function LT(e){return new Xa(e>>16&255,e>>8&255,e&255,1)}function iv(e,t,r,n){return n<=0&&(e=t=r=NaN),new Xa(e,t,r,n)}function RF(e){return e instanceof o0||(e=Mm(e)),e?(e=e.rgb(),new Xa(e.r,e.g,e.b,e.opacity)):new Xa}function ih(e,t,r,n){return arguments.length===1?RF(e):new Xa(e,t,r,n??1)}function Xa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}bb(Xa,ih,AS(o0,{brighter(e){return e=e==null?ah:Math.pow(ah,e),new Xa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ed:Math.pow(ed,e),new Xa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xa(Bu(this.r),Bu(this.g),Bu(this.b),vy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IT,formatHex:IT,formatHex8:ohe,formatRgb:RT,toString:RT}));function IT(){return`#${Cu(this.r)}${Cu(this.g)}${Cu(this.b)}`}function ohe(){return`#${Cu(this.r)}${Cu(this.g)}${Cu(this.b)}${Cu((isNaN(this.opacity)?1:this.opacity)*255)}`}function RT(){const e=vy(this.opacity);return`${e===1?"rgb(":"rgba("}${Bu(this.r)}, ${Bu(this.g)}, ${Bu(this.b)}${e===1?")":`, ${e})`}`}function vy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cu(e){return e=Bu(e),(e<16?"0":"")+e.toString(16)}function BT(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ws(e,t,r,n)}function BF(e){if(e instanceof Ws)return new Ws(e.h,e.s,e.l,e.opacity);if(e instanceof o0||(e=Mm(e)),!e)return new Ws;if(e instanceof Ws)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,c=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?i+a:2-i-a,s*=60):o=c>0&&c<1?0:s,new Ws(s,o,c,e.opacity)}function lhe(e,t,r,n){return arguments.length===1?BF(e):new Ws(e,t,r,n??1)}function Ws(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}bb(Ws,lhe,AS(o0,{brighter(e){return e=e==null?ah:Math.pow(ah,e),new Ws(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ed:Math.pow(ed,e),new Ws(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Xa(y5(e>=240?e-240:e+120,a,n),y5(e,a,n),y5(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ws(UT(this.h),sv(this.s),sv(this.l),vy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vy(this.opacity);return`${e===1?"hsl(":"hsla("}${UT(this.h)}, ${sv(this.s)*100}%, ${sv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function UT(e){return e=(e||0)%360,e<0?e+360:e}function sv(e){return Math.max(0,Math.min(1,e||0))}function y5(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const che=Math.PI/180,uhe=180/Math.PI;var UF=-.14861,CS=1.78277,TS=-.29227,wb=-.90649,Fm=1.97294,WT=Fm*wb,qT=Fm*CS,HT=CS*TS-wb*UF;function dhe(e){if(e instanceof Uu)return new Uu(e.h,e.s,e.l,e.opacity);e instanceof Xa||(e=RF(e));var t=e.r/255,r=e.g/255,n=e.b/255,a=(HT*n+WT*t-qT*r)/(HT+WT-qT),i=n-a,s=(Fm*(r-a)-TS*i)/wb,o=Math.sqrt(s*s+i*i)/(Fm*a*(1-a)),c=o?Math.atan2(s,i)*uhe-120:NaN;return new Uu(c<0?c+360:c,o,a,e.opacity)}function Do(e,t,r,n){return arguments.length===1?dhe(e):new Uu(e,t,r,n??1)}function Uu(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}bb(Uu,Do,AS(o0,{brighter(e){return e=e==null?ah:Math.pow(ah,e),new Uu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ed:Math.pow(ed,e),new Uu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*che,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),a=Math.sin(e);return new Xa(255*(t+r*(UF*n+CS*a)),255*(t+r*(TS*n+wb*a)),255*(t+r*(Fm*n)),this.opacity)}}));function fhe(e,t,r,n,a){var i=e*e,s=i*e;return((1-3*e+3*i-s)*t+(4-6*i+3*s)*r+(1+3*e+3*i-3*s)*n+s*a)/6}function hhe(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],i=e[n+1],s=n>0?e[n-1]:2*a-i,o=n<t-1?e[n+2]:2*i-a;return fhe((r-n/t)*t,s,a,i,o)}}const _b=e=>()=>e;function WF(e,t){return function(r){return e+r*t}}function phe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function mhe(e,t){var r=t-e;return r?WF(e,r>180||r<-180?r-360*Math.round(r/360):r):_b(isNaN(e)?t:e)}function ghe(e){return(e=+e)==1?Uf:function(t,r){return r-t?phe(t,r,e):_b(isNaN(t)?r:t)}}function Uf(e,t){var r=t-e;return r?WF(e,r):_b(isNaN(e)?t:e)}const zT=function e(t){var r=ghe(t);function n(a,i){var s=r((a=ih(a)).r,(i=ih(i)).r),o=r(a.g,i.g),c=r(a.b,i.b),u=Uf(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function xhe(e){return function(t){var r=t.length,n=new Array(r),a=new Array(r),i=new Array(r),s,o;for(s=0;s<r;++s)o=ih(t[s]),n[s]=o.r||0,a[s]=o.g||0,i[s]=o.b||0;return n=e(n),a=e(a),i=e(i),o.opacity=1,function(c){return o.r=n(c),o.g=a(c),o.b=i(c),o+""}}}var vhe=xhe(hhe);function yhe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function bhe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function whe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=l0(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function _he(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function yy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function khe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=l0(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var wk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,b5=new RegExp(wk.source,"g");function She(e){return function(){return e}}function Nhe(e){return function(t){return e(t)+""}}function qF(e,t){var r=wk.lastIndex=b5.lastIndex=0,n,a,i,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=wk.exec(e))&&(a=b5.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,c.push({i:s,x:yy(n,a)})),r=b5.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?c[0]?Nhe(c[0].x):She(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function l0(e,t){var r=typeof t,n;return t==null||r==="boolean"?_b(t):(r==="number"?yy:r==="string"?(n=Mm(t))?(t=n,zT):qF:t instanceof Mm?zT:t instanceof Date?_he:bhe(t)?yhe:Array.isArray(t)?whe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?khe:yy)(e,t)}function ES(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function HF(e){return function t(r){r=+r;function n(a,i){var s=e((a=Do(a)).h,(i=Do(i)).h),o=Uf(a.s,i.s),c=Uf(a.l,i.l),u=Uf(a.opacity,i.opacity);return function(d){return a.h=s(d),a.s=o(d),a.l=c(Math.pow(d,r)),a.opacity=u(d),a+""}}return n.gamma=t,n}(1)}HF(mhe);var OS=HF(Uf);function jhe(e,t){t===void 0&&(t=e,e=l0);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}var Ahe=Uo,Che=vi,The=no,Ehe="[object String]";function Ohe(e){return typeof e=="string"||!Che(e)&&The(e)&&Ahe(e)==Ehe}var Phe=Ohe;const c0=hr(Phe);function Dhe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var $he=Dhe;const $t=hr($he);function kc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Mhe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function PS(e){let t,r,n;e.length!==2?(t=kc,r=(o,c)=>kc(e(o),c),n=(o,c)=>e(o)-c):(t=e===kc||e===Mhe?e:Fhe,r=e,n=e);function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){const f=a(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:a,center:s,right:i}}function Fhe(){return 0}function zF(e){return e===null?NaN:+e}function*Lhe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Ihe=PS(kc),Hg=Ihe.right;PS(zF).center;class YT extends Map{constructor(t,r=Uhe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(VT(this,t))}has(t){return super.has(VT(this,t))}set(t,r){return super.set(Rhe(this,t),r)}delete(t){return super.delete(Bhe(this,t))}}function VT({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Rhe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Bhe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Uhe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Whe(e=kc){if(e===kc)return YF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function YF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const qhe=Math.sqrt(50),Hhe=Math.sqrt(10),zhe=Math.sqrt(2);function by(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=qhe?10:i>=Hhe?5:i>=zhe?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?by(e,t,r*2):[o,c,u]}function _k(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?by(t,e,r):by(e,t,r);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(i-u)/-s;else for(let u=0;u<o;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(a+u)/-s;else for(let u=0;u<o;++u)c[u]=(a+u)*s;return c}function kk(e,t,r){return t=+t,e=+e,r=+r,by(e,t,r)[2]}function Sk(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?kk(t,e,r):kk(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function GT(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function KT(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function VF(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?YF:Whe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),m=Math.min(n,Math.floor(t+(c-u)*f/c+h));VF(e,t,p,m,a)}const i=e[t];let s=r,o=n;for(ep(e,r,t),a(e[n],i)>0&&ep(e,r,n);s<o;){for(ep(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?ep(e,r,o):(++o,ep(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function ep(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Yhe(e,t,r){if(e=Float64Array.from(Lhe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return KT(e);if(t>=1)return GT(e);var n,a=(n-1)*t,i=Math.floor(a),s=GT(VF(e,i).subarray(0,i+1)),o=KT(e.subarray(i+1));return s+(o-s)*(a-i)}}function Vhe(e,t,r=zF){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function Ghe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ss(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Dl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Nk=Symbol("implicit");function xc(){var e=new YT,t=[],r=[],n=Nk;function a(i){let s=e.get(i);if(s===void 0){if(n!==Nk)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new YT;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return xc(t,r).unknown(n)},Ss.apply(a,arguments),a}function sh(){var e=xc().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,g=p?n:a;i=(g-m)/Math.max(1,h-c+u*2),o&&(i=Math.floor(i)),m+=(g-m-i*(h-c))*d,s=i*(1-c),o&&(m=Math.round(m),s=Math.round(s));var x=Ghe(h).map(function(v){return m+i*v});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return sh(t(),[n,a]).round(o).paddingInner(c).paddingOuter(u).align(d)},Ss.apply(f(),arguments)}function GF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return GF(t())},e}function Wf(){return GF(sh.apply(null,arguments).paddingInner(1))}function Khe(e){return function(){return e}}function wy(e){return+e}var XT=[0,1];function ui(e){return e}function jk(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Khe(isNaN(t)?NaN:.5)}function Xhe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Jhe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=jk(a,n),i=r(s,i)):(n=jk(n,a),i=r(i,s)),function(o){return i(n(o))}}function Qhe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=jk(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var c=Hg(e,o,1,n)-1;return i[c](a[c](o))}}function zg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function kb(){var e=XT,t=XT,r=l0,n,a,i,s=ui,o,c,u;function d(){var h=Math.min(e.length,t.length);return s!==ui&&(s=Xhe(e[0],e[h-1])),o=h>2?Qhe:Jhe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=o(t,e.map(n),yy)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,wy),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=ES,d()},f.clamp=function(h){return arguments.length?(s=h?!0:ui,d()):s!==ui},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function DS(){return kb()(ui,ui)}function Zhe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _y(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function oh(e){return e=_y(Math.abs(e)),e?e[1]:NaN}function e0e(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function t0e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var r0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lm(e){if(!(t=r0e.exec(e)))throw new Error("invalid format: "+e);var t;return new $S({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Lm.prototype=$S.prototype;function $S(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$S.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function n0e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var KF;function a0e(e,t){var r=_y(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(KF=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+_y(e,Math.max(0,t+i-1))[0]}function JT(e,t){var r=_y(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const QT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Zhe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>JT(e*100,t),r:JT,s:a0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ZT(e){return e}var e6=Array.prototype.map,t6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function i0e(e){var t=e.grouping===void 0||e.thousands===void 0?ZT:e0e(e6.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?ZT:t0e(e6.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Lm(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,x=f.zero,v=f.width,b=f.comma,y=f.precision,C=f.trim,S=f.type;S==="n"?(b=!0,S="g"):QT[S]||(y===void 0&&(y=12),C=!0,S="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var T=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",N=g==="$"?n:/[%p]/.test(S)?s:"",w=QT[S],_=/[defgprs%]/.test(S);y=y===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function P(A){var j=T,F=N,M,H,q;if(S==="c")F=w(A)+F,A="";else{A=+A;var Y=A<0||1/A<0;if(A=isNaN(A)?c:w(Math.abs(A),y),C&&(A=n0e(A)),Y&&+A==0&&m!=="+"&&(Y=!1),j=(Y?m==="("?m:o:m==="-"||m==="("?"":m)+j,F=(S==="s"?t6[8+KF/3]:"")+F+(Y&&m==="("?")":""),_){for(M=-1,H=A.length;++M<H;)if(q=A.charCodeAt(M),48>q||q>57){F=(q===46?a+A.slice(M+1):A.slice(M))+F,A=A.slice(0,M);break}}}b&&!x&&(A=t(A,1/0));var X=j.length+A.length+F.length,I=X<v?new Array(v-X+1).join(h):"";switch(b&&x&&(A=t(I+A,I.length?v-F.length:1/0),I=""),p){case"<":A=j+A+F+I;break;case"=":A=j+I+A+F;break;case"^":A=I.slice(0,X=I.length>>1)+j+A+F+I.slice(X);break;default:A=I+j+A+F;break}return i(A)}return P.toString=function(){return f+""},P}function d(f,h){var p=u((f=Lm(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(oh(h)/3)))*3,g=Math.pow(10,-m),x=t6[8+m/3];return function(v){return p(g*v)+x}}return{format:u,formatPrefix:d}}var ov,MS,XF;s0e({thousands:",",grouping:[3],currency:["$",""]});function s0e(e){return ov=i0e(e),MS=ov.format,XF=ov.formatPrefix,ov}function o0e(e){return Math.max(0,-oh(Math.abs(e)))}function l0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(oh(t)/3)))*3-oh(Math.abs(e)))}function c0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,oh(t)-oh(e))+1}function JF(e,t,r,n){var a=Sk(e,t,r),i;switch(n=Lm(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=l0e(a,s))&&(n.precision=i),XF(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=c0e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=o0e(a))&&(n.precision=i-(n.type==="%")*2);break}}return MS(n)}function Kc(e){var t=e.domain;return e.ticks=function(r){var n=t();return _k(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return JF(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);d-- >0;){if(u=kk(s,o,r),u===c)return n[a]=s,n[i]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function Im(){var e=DS();return e.copy=function(){return zg(e,Im())},Ss.apply(e,arguments),Kc(e)}function QF(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,wy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return QF(e).unknown(t)},e=arguments.length?Array.from(e,wy):[0,1],Kc(r)}function ZF(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function r6(e){return Math.log(e)}function n6(e){return Math.exp(e)}function u0e(e){return-Math.log(-e)}function d0e(e){return-Math.exp(-e)}function f0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function h0e(e){return e===10?f0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function p0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function a6(e){return(t,r)=>-e(-t,r)}function FS(e){const t=e(r6,n6),r=t.domain;let n=10,a,i;function s(){return a=p0e(n),i=h0e(n),r()[0]<0?(a=a6(a),i=a6(i),e(u0e,d0e)):e(r6,n6),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),m,g;const x=o==null?10:+o;let v=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(g=h<0?m/i(-h):m*i(h),!(g<u)){if(g>d)break;v.push(g)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/i(-h):m*i(h),!(g<u)){if(g>d)break;v.push(g)}v.length*2<x&&(v=_k(u,d,x))}else v=_k(h,p,Math.min(p-h,x)).map(i);return f?v.reverse():v},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Lm(c)).precision==null&&(c.trim=!0),c=MS(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(ZF(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function LS(){const e=FS(kb()).domain([1,10]);return e.copy=()=>zg(e,LS()).base(e.base()),Ss.apply(e,arguments),e}function i6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function s6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function IS(e){var t=1,r=e(i6(t),s6(t));return r.constant=function(n){return arguments.length?e(i6(t=+n),s6(t)):t},Kc(r)}function RS(){var e=IS(kb());return e.copy=function(){return zg(e,RS()).constant(e.constant())},Ss.apply(e,arguments)}function o6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function m0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function g0e(e){return e<0?-e*e:e*e}function BS(e){var t=e(ui,ui),r=1;function n(){return r===1?e(ui,ui):r===.5?e(m0e,g0e):e(o6(r),o6(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Kc(t)}function US(){var e=BS(kb());return e.copy=function(){return zg(e,US()).exponent(e.exponent())},Ss.apply(e,arguments),e}function x0e(){return US.apply(null,arguments).exponent(.5)}function l6(e){return Math.sign(e)*e*e}function v0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function eL(){var e=DS(),t=[0,1],r=!1,n;function a(i){var s=v0e(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(l6(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,wy)).map(l6)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return eL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ss.apply(a,arguments),Kc(a)}function tL(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=Vhe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Hg(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(kc),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return tL().domain(e).range(t).unknown(n)},Ss.apply(i,arguments)}function rL(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[Hg(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return rL().domain([e,t]).range(a).unknown(i)},Ss.apply(Kc(s),arguments)}function nL(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Hg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return nL().domain(e).range(t).unknown(r)},Ss.apply(a,arguments)}const w5=new Date,_5=new Date;function da(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return c;let u;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return c},a.filter=i=>da(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(w5.setTime(+i),_5.setTime(+s),e(w5),e(_5),Math.floor(r(w5,_5))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const ky=da(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ky.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?da(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ky);ky.range;const ll=1e3,gs=ll*60,cl=gs*60,Al=cl*24,WS=Al*7,c6=Al*30,k5=Al*365,Tu=da(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ll)},(e,t)=>(t-e)/ll,e=>e.getUTCSeconds());Tu.range;const qS=da(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ll)},(e,t)=>{e.setTime(+e+t*gs)},(e,t)=>(t-e)/gs,e=>e.getMinutes());qS.range;const HS=da(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gs)},(e,t)=>(t-e)/gs,e=>e.getUTCMinutes());HS.range;const zS=da(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ll-e.getMinutes()*gs)},(e,t)=>{e.setTime(+e+t*cl)},(e,t)=>(t-e)/cl,e=>e.getHours());zS.range;const YS=da(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*cl)},(e,t)=>(t-e)/cl,e=>e.getUTCHours());YS.range;const Yg=da(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gs)/Al,e=>e.getDate()-1);Yg.range;const Sb=da(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Al,e=>e.getUTCDate()-1);Sb.range;const aL=da(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Al,e=>Math.floor(e/Al));aL.range;function kd(e){return da(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*gs)/WS)}const Nb=kd(0),Sy=kd(1),y0e=kd(2),b0e=kd(3),lh=kd(4),w0e=kd(5),_0e=kd(6);Nb.range;Sy.range;y0e.range;b0e.range;lh.range;w0e.range;_0e.range;function Sd(e){return da(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/WS)}const jb=Sd(0),Ny=Sd(1),k0e=Sd(2),S0e=Sd(3),ch=Sd(4),N0e=Sd(5),j0e=Sd(6);jb.range;Ny.range;k0e.range;S0e.range;ch.range;N0e.range;j0e.range;const VS=da(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());VS.range;const GS=da(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());GS.range;const Cl=da(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Cl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:da(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Cl.range;const Tl=da(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Tl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:da(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Tl.range;function iL(e,t,r,n,a,i){const s=[[Tu,1,ll],[Tu,5,5*ll],[Tu,15,15*ll],[Tu,30,30*ll],[i,1,gs],[i,5,5*gs],[i,15,15*gs],[i,30,30*gs],[a,1,cl],[a,3,3*cl],[a,6,6*cl],[a,12,12*cl],[n,1,Al],[n,2,2*Al],[r,1,WS],[t,1,c6],[t,3,3*c6],[e,1,k5]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function c(u,d,f){const h=Math.abs(d-u)/f,p=PS(([,,x])=>x).right(s,h);if(p===s.length)return e.every(Sk(u/k5,d/k5,f));if(p===0)return ky.every(Math.max(Sk(u,d,f),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[o,c]}const[A0e,C0e]=iL(Tl,GS,jb,aL,YS,HS),[T0e,E0e]=iL(Cl,VS,Nb,Yg,zS,qS);function S5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function N5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tp(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function O0e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=rp(a),d=np(a),f=rp(i),h=np(i),p=rp(s),m=np(s),g=rp(o),x=np(o),v=rp(c),b=np(c),y={a:Y,A:X,b:I,B:J,c:null,d:m6,e:m6,f:epe,g:upe,G:fpe,H:J0e,I:Q0e,j:Z0e,L:sL,m:tpe,M:rpe,p:Q,q:E,Q:v6,s:y6,S:npe,u:ape,U:ipe,V:spe,w:ope,W:lpe,x:null,X:null,y:cpe,Y:dpe,Z:hpe,"%":x6},C={a:R,A:U,b:z,B:G,c:null,d:g6,e:g6,f:xpe,g:Ape,G:Tpe,H:ppe,I:mpe,j:gpe,L:lL,m:vpe,M:ype,p:ae,q:ee,Q:v6,s:y6,S:bpe,u:wpe,U:_pe,V:kpe,w:Spe,W:Npe,x:null,X:null,y:jpe,Y:Cpe,Z:Epe,"%":x6},S={a:P,A,b:j,B:F,c:M,d:h6,e:h6,f:V0e,g:f6,G:d6,H:p6,I:p6,j:q0e,L:Y0e,m:W0e,M:H0e,p:_,q:U0e,Q:K0e,s:X0e,S:z0e,u:F0e,U:L0e,V:I0e,w:M0e,W:R0e,x:H,X:q,y:f6,Y:d6,Z:B0e,"%":G0e};y.x=T(r,y),y.X=T(n,y),y.c=T(t,y),C.x=T(r,C),C.X=T(n,C),C.c=T(t,C);function T(W,Z){return function(re){var O=[],de=-1,ce=0,pe=W.length,K,ne,Te;for(re instanceof Date||(re=new Date(+re));++de<pe;)W.charCodeAt(de)===37&&(O.push(W.slice(ce,de)),(ne=u6[K=W.charAt(++de)])!=null?K=W.charAt(++de):ne=K==="e"?" ":"0",(Te=Z[K])&&(K=Te(re,ne)),O.push(K),ce=de+1);return O.push(W.slice(ce,de)),O.join("")}}function N(W,Z){return function(re){var O=tp(1900,void 0,1),de=w(O,W,re+="",0),ce,pe;if(de!=re.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(Z&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(ce=N5(tp(O.y,0,1)),pe=ce.getUTCDay(),ce=pe>4||pe===0?Ny.ceil(ce):Ny(ce),ce=Sb.offset(ce,(O.V-1)*7),O.y=ce.getUTCFullYear(),O.m=ce.getUTCMonth(),O.d=ce.getUTCDate()+(O.w+6)%7):(ce=S5(tp(O.y,0,1)),pe=ce.getDay(),ce=pe>4||pe===0?Sy.ceil(ce):Sy(ce),ce=Yg.offset(ce,(O.V-1)*7),O.y=ce.getFullYear(),O.m=ce.getMonth(),O.d=ce.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),pe="Z"in O?N5(tp(O.y,0,1)).getUTCDay():S5(tp(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(pe+5)%7:O.w+O.U*7-(pe+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,N5(O)):S5(O)}}function w(W,Z,re,O){for(var de=0,ce=Z.length,pe=re.length,K,ne;de<ce;){if(O>=pe)return-1;if(K=Z.charCodeAt(de++),K===37){if(K=Z.charAt(de++),ne=S[K in u6?Z.charAt(de++):K],!ne||(O=ne(W,re,O))<0)return-1}else if(K!=re.charCodeAt(O++))return-1}return O}function _(W,Z,re){var O=u.exec(Z.slice(re));return O?(W.p=d.get(O[0].toLowerCase()),re+O[0].length):-1}function P(W,Z,re){var O=p.exec(Z.slice(re));return O?(W.w=m.get(O[0].toLowerCase()),re+O[0].length):-1}function A(W,Z,re){var O=f.exec(Z.slice(re));return O?(W.w=h.get(O[0].toLowerCase()),re+O[0].length):-1}function j(W,Z,re){var O=v.exec(Z.slice(re));return O?(W.m=b.get(O[0].toLowerCase()),re+O[0].length):-1}function F(W,Z,re){var O=g.exec(Z.slice(re));return O?(W.m=x.get(O[0].toLowerCase()),re+O[0].length):-1}function M(W,Z,re){return w(W,t,Z,re)}function H(W,Z,re){return w(W,r,Z,re)}function q(W,Z,re){return w(W,n,Z,re)}function Y(W){return s[W.getDay()]}function X(W){return i[W.getDay()]}function I(W){return c[W.getMonth()]}function J(W){return o[W.getMonth()]}function Q(W){return a[+(W.getHours()>=12)]}function E(W){return 1+~~(W.getMonth()/3)}function R(W){return s[W.getUTCDay()]}function U(W){return i[W.getUTCDay()]}function z(W){return c[W.getUTCMonth()]}function G(W){return o[W.getUTCMonth()]}function ae(W){return a[+(W.getUTCHours()>=12)]}function ee(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var Z=T(W+="",y);return Z.toString=function(){return W},Z},parse:function(W){var Z=N(W+="",!1);return Z.toString=function(){return W},Z},utcFormat:function(W){var Z=T(W+="",C);return Z.toString=function(){return W},Z},utcParse:function(W){var Z=N(W+="",!0);return Z.toString=function(){return W},Z}}}var u6={"-":"",_:" ",0:"0"},ya=/^\s*\d+/,P0e=/^%/,D0e=/[\\^$*+?|[\]().{}]/g;function Or(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function $0e(e){return e.replace(D0e,"\\$&")}function rp(e){return new RegExp("^(?:"+e.map($0e).join("|")+")","i")}function np(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function M0e(e,t,r){var n=ya.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function F0e(e,t,r){var n=ya.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function L0e(e,t,r){var n=ya.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function I0e(e,t,r){var n=ya.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function R0e(e,t,r){var n=ya.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function d6(e,t,r){var n=ya.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function f6(e,t,r){var n=ya.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function B0e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function U0e(e,t,r){var n=ya.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function W0e(e,t,r){var n=ya.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function h6(e,t,r){var n=ya.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function q0e(e,t,r){var n=ya.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function p6(e,t,r){var n=ya.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function H0e(e,t,r){var n=ya.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function z0e(e,t,r){var n=ya.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Y0e(e,t,r){var n=ya.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function V0e(e,t,r){var n=ya.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function G0e(e,t,r){var n=P0e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function K0e(e,t,r){var n=ya.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function X0e(e,t,r){var n=ya.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function m6(e,t){return Or(e.getDate(),t,2)}function J0e(e,t){return Or(e.getHours(),t,2)}function Q0e(e,t){return Or(e.getHours()%12||12,t,2)}function Z0e(e,t){return Or(1+Yg.count(Cl(e),e),t,3)}function sL(e,t){return Or(e.getMilliseconds(),t,3)}function epe(e,t){return sL(e,t)+"000"}function tpe(e,t){return Or(e.getMonth()+1,t,2)}function rpe(e,t){return Or(e.getMinutes(),t,2)}function npe(e,t){return Or(e.getSeconds(),t,2)}function ape(e){var t=e.getDay();return t===0?7:t}function ipe(e,t){return Or(Nb.count(Cl(e)-1,e),t,2)}function oL(e){var t=e.getDay();return t>=4||t===0?lh(e):lh.ceil(e)}function spe(e,t){return e=oL(e),Or(lh.count(Cl(e),e)+(Cl(e).getDay()===4),t,2)}function ope(e){return e.getDay()}function lpe(e,t){return Or(Sy.count(Cl(e)-1,e),t,2)}function cpe(e,t){return Or(e.getFullYear()%100,t,2)}function upe(e,t){return e=oL(e),Or(e.getFullYear()%100,t,2)}function dpe(e,t){return Or(e.getFullYear()%1e4,t,4)}function fpe(e,t){var r=e.getDay();return e=r>=4||r===0?lh(e):lh.ceil(e),Or(e.getFullYear()%1e4,t,4)}function hpe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Or(t/60|0,"0",2)+Or(t%60,"0",2)}function g6(e,t){return Or(e.getUTCDate(),t,2)}function ppe(e,t){return Or(e.getUTCHours(),t,2)}function mpe(e,t){return Or(e.getUTCHours()%12||12,t,2)}function gpe(e,t){return Or(1+Sb.count(Tl(e),e),t,3)}function lL(e,t){return Or(e.getUTCMilliseconds(),t,3)}function xpe(e,t){return lL(e,t)+"000"}function vpe(e,t){return Or(e.getUTCMonth()+1,t,2)}function ype(e,t){return Or(e.getUTCMinutes(),t,2)}function bpe(e,t){return Or(e.getUTCSeconds(),t,2)}function wpe(e){var t=e.getUTCDay();return t===0?7:t}function _pe(e,t){return Or(jb.count(Tl(e)-1,e),t,2)}function cL(e){var t=e.getUTCDay();return t>=4||t===0?ch(e):ch.ceil(e)}function kpe(e,t){return e=cL(e),Or(ch.count(Tl(e),e)+(Tl(e).getUTCDay()===4),t,2)}function Spe(e){return e.getUTCDay()}function Npe(e,t){return Or(Ny.count(Tl(e)-1,e),t,2)}function jpe(e,t){return Or(e.getUTCFullYear()%100,t,2)}function Ape(e,t){return e=cL(e),Or(e.getUTCFullYear()%100,t,2)}function Cpe(e,t){return Or(e.getUTCFullYear()%1e4,t,4)}function Tpe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ch(e):ch.ceil(e),Or(e.getUTCFullYear()%1e4,t,4)}function Epe(){return"+0000"}function x6(){return"%"}function v6(e){return+e}function y6(e){return Math.floor(+e/1e3)}var hf,uL,dL;Ope({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ope(e){return hf=O0e(e),uL=hf.format,hf.parse,dL=hf.utcFormat,hf.utcParse,hf}function Ppe(e){return new Date(e)}function Dpe(e){return e instanceof Date?+e:+new Date(+e)}function KS(e,t,r,n,a,i,s,o,c,u){var d=DS(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),x=u("%I %p"),v=u("%a %d"),b=u("%b %d"),y=u("%B"),C=u("%Y");function S(T){return(c(T)<T?p:o(T)<T?m:s(T)<T?g:i(T)<T?x:n(T)<T?a(T)<T?v:b:r(T)<T?y:C)(T)}return d.invert=function(T){return new Date(f(T))},d.domain=function(T){return arguments.length?h(Array.from(T,Dpe)):h().map(Ppe)},d.ticks=function(T){var N=h();return e(N[0],N[N.length-1],T??10)},d.tickFormat=function(T,N){return N==null?S:u(N)},d.nice=function(T){var N=h();return(!T||typeof T.range!="function")&&(T=t(N[0],N[N.length-1],T??10)),T?h(ZF(N,T)):d},d.copy=function(){return zg(d,KS(e,t,r,n,a,i,s,o,c,u))},d}function fL(){return Ss.apply(KS(T0e,E0e,Cl,VS,Nb,Yg,zS,qS,Tu,uL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hL(){return Ss.apply(KS(A0e,C0e,Tl,GS,jb,Sb,YS,HS,Tu,dL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ab(){var e=0,t=1,r,n,a,i,s=ui,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,s=f(p,m),u):[s(0),s(1)]}}return u.range=d(l0),u.rangeRound=d(ES),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Xc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pL(){var e=Kc(Ab()(ui));return e.copy=function(){return Xc(e,pL())},Dl.apply(e,arguments)}function mL(){var e=FS(Ab()).domain([1,10]);return e.copy=function(){return Xc(e,mL()).base(e.base())},Dl.apply(e,arguments)}function gL(){var e=IS(Ab());return e.copy=function(){return Xc(e,gL()).constant(e.constant())},Dl.apply(e,arguments)}function XS(){var e=BS(Ab());return e.copy=function(){return Xc(e,XS()).exponent(e.exponent())},Dl.apply(e,arguments)}function $pe(){return XS.apply(null,arguments).exponent(.5)}function xL(){var e=[],t=ui;function r(n){if(n!=null&&!isNaN(n=+n))return t((Hg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(kc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Yhe(e,i/n))},r.copy=function(){return xL(t).domain(e)},Dl.apply(r,arguments)}function Cb(){var e=0,t=.5,r=1,n=1,a,i,s,o,c,u=ui,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-i)*(n*g<n*i?o:c),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),s=d(r=+r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(x){var v,b,y;return arguments.length?([v,b,y]=x,u=jhe(g,[v,b,y]),p):[u(0),u(.5),u(1)]}}return p.range=m(l0),p.rangeRound=m(ES),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,a=g(e),i=g(t),s=g(r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function vL(){var e=Kc(Cb()(ui));return e.copy=function(){return Xc(e,vL())},Dl.apply(e,arguments)}function yL(){var e=FS(Cb()).domain([.1,1,10]);return e.copy=function(){return Xc(e,yL()).base(e.base())},Dl.apply(e,arguments)}function bL(){var e=IS(Cb());return e.copy=function(){return Xc(e,bL()).constant(e.constant())},Dl.apply(e,arguments)}function JS(){var e=BS(Cb());return e.copy=function(){return Xc(e,JS()).exponent(e.exponent())},Dl.apply(e,arguments)}function Mpe(){return JS.apply(null,arguments).exponent(.5)}function or(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const Fpe=or("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Lpe=or("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Ipe=or("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Rpe=or("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Bpe=or("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Upe=or("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Wpe=or("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),qpe=or("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),wL=or("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Hpe=or("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),rn=e=>vhe(e[e.length-1]);var Tb=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(or);const zpe=rn(Tb);var Eb=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(or);const Ype=rn(Eb);var Ob=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(or);const Vpe=rn(Ob);var Pb=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(or);const Gpe=rn(Pb);var Db=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(or);const Kpe=rn(Db);var $b=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(or);const Xpe=rn($b);var Mb=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(or);const Jpe=rn(Mb);var Fb=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(or);const Qpe=rn(Fb);var Lb=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(or);const Zpe=rn(Lb);var Ib=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(or);const eme=rn(Ib);var Rb=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(or);const tme=rn(Rb);var Bb=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(or);const rme=rn(Bb);var Ub=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(or);const nme=rn(Ub);var Wb=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(or);const ame=rn(Wb);var qb=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(or);const ime=rn(qb);var Hb=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(or);const sme=rn(Hb);var zb=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(or);const ome=rn(zb);var Yb=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(or);const lme=rn(Yb);var Vb=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(or);const cme=rn(Vb);var Gb=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(or);const ume=rn(Gb);var Kb=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(or);const dme=rn(Kb);var Xb=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(or);const fme=rn(Xb);var Jb=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(or);const hme=rn(Jb);var Qb=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(or);const pme=rn(Qb);var Zb=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(or);const mme=rn(Zb);var e2=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(or);const gme=rn(e2);var t2=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(or);const xme=rn(t2);function vme(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const yme=OS(Do(300,.5,0),Do(-240,.5,1));var bme=OS(Do(-100,.75,.35),Do(80,1.5,.8)),wme=OS(Do(260,.75,.35),Do(80,1.5,.8)),lv=Do();function _me(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return lv.h=360*e-100,lv.s=1.5-1.5*t,lv.l=.8-.9*t,lv+""}var cv=ih(),kme=Math.PI/3,Sme=Math.PI*2/3;function Nme(e){var t;return e=(.5-e)*Math.PI,cv.r=255*(t=Math.sin(e))*t,cv.g=255*(t=Math.sin(e+kme))*t,cv.b=255*(t=Math.sin(e+Sme))*t,cv+""}function jme(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function r2(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}const Ame=r2(or("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Cme=r2(or("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Tme=r2(or("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Eme=r2(or("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Ome="__lodash_hash_undefined__";function Pme(e){return this.__data__.set(e,Ome),this}var Dme=Pme;function $me(e){return this.__data__.has(e)}var Mme=$me,Fme=xS,Lme=Dme,Ime=Mme;function jy(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Fme;++t<r;)this.add(e[t])}jy.prototype.add=jy.prototype.push=Lme;jy.prototype.has=Ime;var QS=jy;function Rme(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var Bme=Rme;function Ume(e){return e!==e}var Wme=Ume;function qme(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Hme=qme,zme=Bme,Yme=Wme,Vme=Hme;function Gme(e,t,r){return t===t?Vme(e,t,r):zme(e,Yme,r)}var Kme=Gme,Xme=Kme;function Jme(e,t){var r=e==null?0:e.length;return!!r&&Xme(e,t,0)>-1}var _L=Jme;function Qme(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var kL=Qme;function Zme(e,t){return e.has(t)}var ZS=Zme,ege=QS,tge=_L,rge=kL,nge=xb,age=mb,ige=ZS,sge=200;function oge(e,t,r,n){var a=-1,i=tge,s=!0,o=e.length,c=[],u=t.length;if(!o)return c;r&&(t=nge(t,age(r))),n?(i=rge,s=!1):t.length>=sge&&(i=ige,s=!1,t=new ege(t));e:for(;++a<o;){var d=e[a],f=r==null?d:r(d);if(d=n||d!==0?d:0,s&&f===f){for(var h=u;h--;)if(t[h]===f)continue e;c.push(d)}else i(t,f,n)||c.push(d)}return c}var lge=oge,cge=lge,uge=kS,dge=kF,fge=uge(function(e,t){return dge(e)?cge(e,t):[]}),hge=fge;const SL=hr(hge);function sr(e){return function(){return e}}const b6=Math.abs,qa=Math.atan2,il=Math.cos,pge=Math.max,j5=Math.min,Ai=Math.sin,Ta=Math.sqrt,za=1e-12,Mc=Math.PI,Ay=Mc/2,Sc=2*Mc;function mge(e){return e>1?0:e<-1?Mc:Math.acos(e)}function w6(e){return e>=1?Ay:e<=-1?-Ay:Math.asin(e)}const Ak=Math.PI,Ck=2*Ak,gu=1e-6,gge=Ck-gu;function NL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function xge(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return NL;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}let vge=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?NL:xge(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,c=n-t,u=a-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>gu)if(!(Math.abs(f*c-u*d)>gu)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,m=a-o,g=c*c+u*u,x=p*p+m*m,v=Math.sqrt(g),b=Math.sqrt(h),y=i*Math.tan((Ak-Math.acos((g+h-x)/(2*v*b)))/2),C=y/b,S=y/v;Math.abs(C-1)>gu&&this._append`L${t+C*d},${r+C*f}`,this._append`A${i},${i},0,0,${+(f*p>d*m)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),u=t+o,d=r+c,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>gu||Math.abs(this._y1-d)>gu)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Ck+Ck),h>gge?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>gu&&this._append`A${n},${n},0,${+(h>=Ak)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}};function n2(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new vge(t)}function yge(e){return e.innerRadius}function bge(e){return e.outerRadius}function wge(e){return e.startAngle}function _ge(e){return e.endAngle}function kge(e){return e&&e.padAngle}function Sge(e,t,r,n,a,i,s,o){var c=r-e,u=n-t,d=s-a,f=o-i,h=f*c-d*u;if(!(h*h<za))return h=(d*(t-i)-f*(e-a))/h,[e+h*c,t+h*u]}function uv(e,t,r,n,a,i,s){var o=e-r,c=t-n,u=(s?i:-i)/Ta(o*o+c*c),d=u*c,f=-u*o,h=e+d,p=t+f,m=r+d,g=n+f,x=(h+m)/2,v=(p+g)/2,b=m-h,y=g-p,C=b*b+y*y,S=a-i,T=h*g-m*p,N=(y<0?-1:1)*Ta(pge(0,S*S*C-T*T)),w=(T*y-b*N)/C,_=(-T*b-y*N)/C,P=(T*y+b*N)/C,A=(-T*b+y*N)/C,j=w-x,F=_-v,M=P-x,H=A-v;return j*j+F*F>M*M+H*H&&(w=P,_=A),{cx:w,cy:_,x01:-d,y01:-f,x11:w*(a/S-1),y11:_*(a/S-1)}}function Nge(){var e=yge,t=bge,r=sr(0),n=null,a=wge,i=_ge,s=kge,o=null,c=n2(u);function u(){var d,f,h=+e.apply(this,arguments),p=+t.apply(this,arguments),m=a.apply(this,arguments)-Ay,g=i.apply(this,arguments)-Ay,x=b6(g-m),v=g>m;if(o||(o=d=c()),p<h&&(f=p,p=h,h=f),!(p>za))o.moveTo(0,0);else if(x>Sc-za)o.moveTo(p*il(m),p*Ai(m)),o.arc(0,0,p,m,g,!v),h>za&&(o.moveTo(h*il(g),h*Ai(g)),o.arc(0,0,h,g,m,v));else{var b=m,y=g,C=m,S=g,T=x,N=x,w=s.apply(this,arguments)/2,_=w>za&&(n?+n.apply(this,arguments):Ta(h*h+p*p)),P=j5(b6(p-h)/2,+r.apply(this,arguments)),A=P,j=P,F,M;if(_>za){var H=w6(_/h*Ai(w)),q=w6(_/p*Ai(w));(T-=H*2)>za?(H*=v?1:-1,C+=H,S-=H):(T=0,C=S=(m+g)/2),(N-=q*2)>za?(q*=v?1:-1,b+=q,y-=q):(N=0,b=y=(m+g)/2)}var Y=p*il(b),X=p*Ai(b),I=h*il(S),J=h*Ai(S);if(P>za){var Q=p*il(y),E=p*Ai(y),R=h*il(C),U=h*Ai(C),z;if(x<Mc)if(z=Sge(Y,X,R,U,Q,E,I,J)){var G=Y-z[0],ae=X-z[1],ee=Q-z[0],W=E-z[1],Z=1/Ai(mge((G*ee+ae*W)/(Ta(G*G+ae*ae)*Ta(ee*ee+W*W)))/2),re=Ta(z[0]*z[0]+z[1]*z[1]);A=j5(P,(h-re)/(Z-1)),j=j5(P,(p-re)/(Z+1))}else A=j=0}N>za?j>za?(F=uv(R,U,Y,X,p,j,v),M=uv(Q,E,I,J,p,j,v),o.moveTo(F.cx+F.x01,F.cy+F.y01),j<P?o.arc(F.cx,F.cy,j,qa(F.y01,F.x01),qa(M.y01,M.x01),!v):(o.arc(F.cx,F.cy,j,qa(F.y01,F.x01),qa(F.y11,F.x11),!v),o.arc(0,0,p,qa(F.cy+F.y11,F.cx+F.x11),qa(M.cy+M.y11,M.cx+M.x11),!v),o.arc(M.cx,M.cy,j,qa(M.y11,M.x11),qa(M.y01,M.x01),!v))):(o.moveTo(Y,X),o.arc(0,0,p,b,y,!v)):o.moveTo(Y,X),!(h>za)||!(T>za)?o.lineTo(I,J):A>za?(F=uv(I,J,Q,E,h,-A,v),M=uv(Y,X,R,U,h,-A,v),o.lineTo(F.cx+F.x01,F.cy+F.y01),A<P?o.arc(F.cx,F.cy,A,qa(F.y01,F.x01),qa(M.y01,M.x01),!v):(o.arc(F.cx,F.cy,A,qa(F.y01,F.x01),qa(F.y11,F.x11),!v),o.arc(0,0,h,qa(F.cy+F.y11,F.cx+F.x11),qa(M.cy+M.y11,M.cx+M.x11),v),o.arc(M.cx,M.cy,A,qa(M.y11,M.x11),qa(M.y01,M.x01),!v))):o.arc(0,0,h,S,C,v)}if(o.closePath(),d)return o=null,d+""||null}return u.centroid=function(){var d=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-Mc/2;return[il(f)*d,Ai(f)*d]},u.innerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:sr(+d),u):e},u.outerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:sr(+d),u):t},u.cornerRadius=function(d){return arguments.length?(r=typeof d=="function"?d:sr(+d),u):r},u.padRadius=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:sr(+d),u):n},u.startAngle=function(d){return arguments.length?(a=typeof d=="function"?d:sr(+d),u):a},u.endAngle=function(d){return arguments.length?(i=typeof d=="function"?d:sr(+d),u):i},u.padAngle=function(d){return arguments.length?(s=typeof d=="function"?d:sr(+d),u):s},u.context=function(d){return arguments.length?(o=d??null,u):o},u}function a2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jL(e){this._context=e}jL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Vg(e){return new jL(e)}function AL(e){return e[0]}function CL(e){return e[1]}function i2(e,t){var r=sr(!0),n=null,a=Vg,i=null,s=n2(o);e=typeof e=="function"?e:e===void 0?AL:sr(e),t=typeof t=="function"?t:t===void 0?CL:sr(t);function o(c){var u,d=(c=a2(c)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:sr(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:sr(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:sr(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function Mp(e,t,r){var n=null,a=sr(!0),i=null,s=Vg,o=null,c=n2(u);e=typeof e=="function"?e:e===void 0?AL:sr(+e),t=typeof t=="function"?t:sr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?CL:sr(+r);function u(f){var h,p,m,g=(f=a2(f)).length,x,v=!1,b,y=new Array(g),C=new Array(g);for(i==null&&(o=s(b=c())),h=0;h<=g;++h){if(!(h<g&&a(x=f[h],h,f))===v)if(v=!v)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(y[m],C[m]);o.lineEnd(),o.areaEnd()}v&&(y[h]=+e(x,h,f),C[h]=+t(x,h,f),o.point(n?+n(x,h,f):y[h],r?+r(x,h,f):C[h]))}if(b)return o=null,b+""||null}function d(){return i2().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:sr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:sr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:sr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:sr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:sr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:sr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:sr(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),u):i},u}function jge(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Age(e){return e}function Cge(){var e=Age,t=jge,r=null,n=sr(0),a=sr(Sc),i=sr(0);function s(o){var c,u=(o=a2(o)).length,d,f,h=0,p=new Array(u),m=new Array(u),g=+n.apply(this,arguments),x=Math.min(Sc,Math.max(-Sc,a.apply(this,arguments)-g)),v,b=Math.min(Math.abs(x)/u,i.apply(this,arguments)),y=b*(x<0?-1:1),C;for(c=0;c<u;++c)(C=m[p[c]=c]=+e(o[c],c,o))>0&&(h+=C);for(t!=null?p.sort(function(S,T){return t(m[S],m[T])}):r!=null&&p.sort(function(S,T){return r(o[S],o[T])}),c=0,f=h?(x-u*y)/h:0;c<u;++c,g=v)d=p[c],C=m[d],v=g+(C>0?C*f:0)+y,m[d]={data:o[d],index:c,value:C,startAngle:g,endAngle:v,padAngle:b};return m}return s.value=function(o){return arguments.length?(e=typeof o=="function"?o:sr(+o),s):e},s.sortValues=function(o){return arguments.length?(t=o,r=null,s):t},s.sort=function(o){return arguments.length?(r=o,t=null,s):r},s.startAngle=function(o){return arguments.length?(n=typeof o=="function"?o:sr(+o),s):n},s.endAngle=function(o){return arguments.length?(a=typeof o=="function"?o:sr(+o),s):a},s.padAngle=function(o){return arguments.length?(i=typeof o=="function"?o:sr(+o),s):i},s}class TL{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Tge(e){return new TL(e,!0)}function Ege(e){return new TL(e,!1)}const eN={draw(e,t){const r=Ta(t/Mc);e.moveTo(r,0),e.arc(0,0,r,0,Sc)}},Oge={draw(e,t){const r=Ta(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},EL=Ta(1/3),Pge=EL*2,Dge={draw(e,t){const r=Ta(t/Pge),n=r*EL;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},$ge={draw(e,t){const r=Ta(t),n=-r/2;e.rect(n,n,r,r)}},Mge=.8908130915292852,OL=Ai(Mc/10)/Ai(7*Mc/10),Fge=Ai(Sc/10)*OL,Lge=-il(Sc/10)*OL,Ige={draw(e,t){const r=Ta(t*Mge),n=Fge*r,a=Lge*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=Sc*i/5,o=il(s),c=Ai(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},A5=Ta(3),Rge={draw(e,t){const r=-Ta(t/(A5*3));e.moveTo(0,r*2),e.lineTo(-A5*r,-r),e.lineTo(A5*r,-r),e.closePath()}},is=-.5,ss=Ta(3)/2,Tk=1/Ta(12),Bge=(Tk/2+1)*3,Uge={draw(e,t){const r=Ta(t/Bge),n=r/2,a=r*Tk,i=n,s=r*Tk+r,o=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,c),e.lineTo(is*n-ss*a,ss*n+is*a),e.lineTo(is*i-ss*s,ss*i+is*s),e.lineTo(is*o-ss*c,ss*o+is*c),e.lineTo(is*n+ss*a,is*a-ss*n),e.lineTo(is*i+ss*s,is*s-ss*i),e.lineTo(is*o+ss*c,is*c-ss*o),e.closePath()}};function Wge(e,t){let r=null,n=n2(a);e=typeof e=="function"?e:sr(e||eN),t=typeof t=="function"?t:sr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:sr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:sr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Fc(){}function Cy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function s2(e){this._context=e}s2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function PL(e){return new s2(e)}function DL(e){this._context=e}DL.prototype={areaStart:Fc,areaEnd:Fc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Cy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $L(e){return new DL(e)}function ML(e){this._context=e}ML.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Cy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FL(e){return new ML(e)}function LL(e,t){this._basis=new s2(e),this._beta=t}LL.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],a=t[0],i=e[r]-n,s=t[r]-a,o=-1,c;++o<=r;)c=o/r,this._basis.point(this._beta*e[o]+(1-this._beta)*(n+c*i),this._beta*t[o]+(1-this._beta)*(a+c*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const qge=function e(t){function r(n){return t===1?new s2(n):new LL(n,t)}return r.beta=function(n){return e(+n)},r}(.85);function Ty(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function tN(e,t){this._context=e,this._k=(1-t)/6}tN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ty(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ty(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Hge=function e(t){function r(n){return new tN(n,t)}return r.tension=function(n){return e(+n)},r}(0);function rN(e,t){this._context=e,this._k=(1-t)/6}rN.prototype={areaStart:Fc,areaEnd:Fc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ty(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const zge=function e(t){function r(n){return new rN(n,t)}return r.tension=function(n){return e(+n)},r}(0);function nN(e,t){this._context=e,this._k=(1-t)/6}nN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ty(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Yge=function e(t){function r(n){return new nN(n,t)}return r.tension=function(n){return e(+n)},r}(0);function aN(e,t,r){var n=e._x1,a=e._y1,i=e._x2,s=e._y2;if(e._l01_a>za){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,a=(a*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>za){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*u+e._x1*e._l23_2a-t*e._l12_2a)/d,s=(s*u+e._y1*e._l23_2a-r*e._l12_2a)/d}e._context.bezierCurveTo(n,a,i,s,e._x2,e._y2)}function IL(e,t){this._context=e,this._alpha=t}IL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:aN(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Vge=function e(t){function r(n){return t?new IL(n,t):new tN(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function RL(e,t){this._context=e,this._alpha=t}RL.prototype={areaStart:Fc,areaEnd:Fc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:aN(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Gge=function e(t){function r(n){return t?new RL(n,t):new rN(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function BL(e,t){this._context=e,this._alpha=t}BL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:aN(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Kge=function e(t){function r(n){return t?new BL(n,t):new nN(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function UL(e){this._context=e}UL.prototype={areaStart:Fc,areaEnd:Fc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function WL(e){return new UL(e)}function _6(e){return e<0?-1:1}function k6(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(_6(i)+_6(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function S6(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function C5(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Ey(e){this._context=e}Ey.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:C5(this,this._t0,S6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,C5(this,S6(this,r=k6(this,e,t)),r);break;default:C5(this,this._t0,r=k6(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function qL(e){this._context=new HL(e)}(qL.prototype=Object.create(Ey.prototype)).point=function(e,t){Ey.prototype.point.call(this,t,e)};function HL(e){this._context=e}HL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function zL(e){return new Ey(e)}function YL(e){return new qL(e)}function VL(e){this._context=e}VL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=N6(e),a=N6(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function N6(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function GL(e){return new VL(e)}function o2(e,t){this._context=e,this._t=t}o2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function KL(e){return new o2(e,.5)}function XL(e){return new o2(e,0)}function JL(e){return new o2(e,1)}function uh(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Ek(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Xge(e,t){return e[t]}function Jge(e){const t=[];return t.key=e,t}function Qge(){var e=sr([]),t=Ek,r=uh,n=Xge;function a(i){var s=Array.from(e.apply(this,arguments),Jge),o,c=s.length,u=-1,d;for(const f of i)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(f,s[o].key,u,i)]).data=f;for(o=0,d=a2(t(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:sr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:sr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Ek:typeof i=="function"?i:sr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??uh,a):r},a}function Zge(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}uh(e,t)}}function exe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}uh(e,t)}}function txe(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<o;++m){var g=e[t[m]],x=g[n][1]||0,v=g[n-1][1]||0;p+=x-v}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,uh(e,t)}}function rxe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Oy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function nxe(e){return e=Oy(Math.abs(e)),e?e[1]:NaN}function axe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function ixe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var sxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ok(e){if(!(t=sxe.exec(e)))throw new Error("invalid format: "+e);var t;return new iN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ok.prototype=iN.prototype;function iN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}iN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oxe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var QL;function lxe(e,t){var r=Oy(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(QL=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Oy(e,Math.max(0,t+i-1))[0]}function j6(e,t){var r=Oy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const A6={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:rxe,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return j6(e*100,t)},r:j6,s:lxe,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function C6(e){return e}var T6=Array.prototype.map,E6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cxe(e){var t=e.grouping===void 0||e.thousands===void 0?C6:axe(T6.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal+"",i=e.numerals===void 0?C6:ixe(T6.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ok(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,x=f.zero,v=f.width,b=f.comma,y=f.precision,C=f.trim,S=f.type;S==="n"?(b=!0,S="g"):A6[S]||(y===void 0&&(y=12),C=!0,S="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var T=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",N=g==="$"?n:/[%p]/.test(S)?s:"",w=A6[S],_=/[defgprs%]/.test(S);y=y===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function P(A){var j=T,F=N,M,H,q;if(S==="c")F=w(A)+F,A="";else{A=+A;var Y=A<0||1/A<0;if(A=isNaN(A)?c:w(Math.abs(A),y),C&&(A=oxe(A)),Y&&+A==0&&m!=="+"&&(Y=!1),j=(Y?m==="("?m:o:m==="-"||m==="("?"":m)+j,F=(S==="s"?E6[8+QL/3]:"")+F+(Y&&m==="("?")":""),_){for(M=-1,H=A.length;++M<H;)if(q=A.charCodeAt(M),48>q||q>57){F=(q===46?a+A.slice(M+1):A.slice(M))+F,A=A.slice(0,M);break}}}b&&!x&&(A=t(A,1/0));var X=j.length+A.length+F.length,I=X<v?new Array(v-X+1).join(h):"";switch(b&&x&&(A=t(I+A,I.length?v-F.length:1/0),I=""),p){case"<":A=j+A+F+I;break;case"=":A=j+I+A+F;break;case"^":A=I.slice(0,X=I.length>>1)+j+A+F+I.slice(X);break;default:A=I+j+A+F;break}return i(A)}return P.toString=function(){return f+""},P}function d(f,h){var p=u((f=Ok(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(nxe(h)/3)))*3,g=Math.pow(10,-m),x=E6[8+m/3];return function(v){return p(g*v)+x}}return{format:u,formatPrefix:d}}var dv,ZL;uxe({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function uxe(e){return dv=cxe(e),ZL=dv.format,dv.formatPrefix,dv}var T5=new Date,E5=new Date;function $l(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=function(i){return e(i=new Date(+i)),i},a.ceil=function(i){return e(i=new Date(i-1)),t(i,1),e(i),i},a.round=function(i){var s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=function(i,s){return t(i=new Date(+i),s==null?1:Math.floor(s)),i},a.range=function(i,s,o){var c=[],u;if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return c;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return c},a.filter=function(i){return $l(function(s){if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},function(s,o){if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););})},r&&(a.count=function(i,s){return T5.setTime(+i),E5.setTime(+s),e(T5),e(E5),Math.floor(r(T5,E5))},a.every=function(i){return i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?function(s){return n(s)%i===0}:function(s){return a.count(0,s)%i===0}):a}),a}const dxe=1e3,sN=dxe*60,fxe=sN*60,oN=fxe*24,eI=oN*7;var lN=$l(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sN)/oN,e=>e.getDate()-1);lN.range;function Nd(e){return $l(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*sN)/eI})}var tI=Nd(0),Py=Nd(1),hxe=Nd(2),pxe=Nd(3),dh=Nd(4),mxe=Nd(5),gxe=Nd(6);tI.range;Py.range;hxe.range;pxe.range;dh.range;mxe.range;gxe.range;var td=$l(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});td.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:$l(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};td.range;var cN=$l(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/oN},function(e){return e.getUTCDate()-1});cN.range;function jd(e){return $l(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/eI})}var rI=jd(0),Dy=jd(1),xxe=jd(2),vxe=jd(3),fh=jd(4),yxe=jd(5),bxe=jd(6);rI.range;Dy.range;xxe.range;vxe.range;fh.range;yxe.range;bxe.range;var rd=$l(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});rd.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:$l(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};rd.range;function O5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function P5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ap(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function wxe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=ip(a),d=sp(a),f=ip(i),h=sp(i),p=ip(s),m=sp(s),g=ip(o),x=sp(o),v=ip(c),b=sp(c),y={a:Y,A:X,b:I,B:J,c:null,d:F6,e:F6,f:Hxe,g:eve,G:rve,H:Uxe,I:Wxe,j:qxe,L:nI,m:zxe,M:Yxe,p:Q,q:E,Q:R6,s:B6,S:Vxe,u:Gxe,U:Kxe,V:Xxe,w:Jxe,W:Qxe,x:null,X:null,y:Zxe,Y:tve,Z:nve,"%":I6},C={a:R,A:U,b:z,B:G,c:null,d:L6,e:L6,f:ove,g:xve,G:yve,H:ave,I:ive,j:sve,L:iI,m:lve,M:cve,p:ae,q:ee,Q:R6,s:B6,S:uve,u:dve,U:fve,V:hve,w:pve,W:mve,x:null,X:null,y:gve,Y:vve,Z:bve,"%":I6},S={a:P,A,b:j,B:F,c:M,d:$6,e:$6,f:Lxe,g:D6,G:P6,H:M6,I:M6,j:Dxe,L:Fxe,m:Pxe,M:$xe,p:_,q:Oxe,Q:Rxe,s:Bxe,S:Mxe,u:jxe,U:Axe,V:Cxe,w:Nxe,W:Txe,x:H,X:q,y:D6,Y:P6,Z:Exe,"%":Ixe};y.x=T(r,y),y.X=T(n,y),y.c=T(t,y),C.x=T(r,C),C.X=T(n,C),C.c=T(t,C);function T(W,Z){return function(re){var O=[],de=-1,ce=0,pe=W.length,K,ne,Te;for(re instanceof Date||(re=new Date(+re));++de<pe;)W.charCodeAt(de)===37&&(O.push(W.slice(ce,de)),(ne=O6[K=W.charAt(++de)])!=null?K=W.charAt(++de):ne=K==="e"?" ":"0",(Te=Z[K])&&(K=Te(re,ne)),O.push(K),ce=de+1);return O.push(W.slice(ce,de)),O.join("")}}function N(W,Z){return function(re){var O=ap(1900,void 0,1),de=w(O,W,re+="",0),ce,pe;if(de!=re.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(Z&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(ce=P5(ap(O.y,0,1)),pe=ce.getUTCDay(),ce=pe>4||pe===0?Dy.ceil(ce):Dy(ce),ce=cN.offset(ce,(O.V-1)*7),O.y=ce.getUTCFullYear(),O.m=ce.getUTCMonth(),O.d=ce.getUTCDate()+(O.w+6)%7):(ce=O5(ap(O.y,0,1)),pe=ce.getDay(),ce=pe>4||pe===0?Py.ceil(ce):Py(ce),ce=lN.offset(ce,(O.V-1)*7),O.y=ce.getFullYear(),O.m=ce.getMonth(),O.d=ce.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),pe="Z"in O?P5(ap(O.y,0,1)).getUTCDay():O5(ap(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(pe+5)%7:O.w+O.U*7-(pe+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,P5(O)):O5(O)}}function w(W,Z,re,O){for(var de=0,ce=Z.length,pe=re.length,K,ne;de<ce;){if(O>=pe)return-1;if(K=Z.charCodeAt(de++),K===37){if(K=Z.charAt(de++),ne=S[K in O6?Z.charAt(de++):K],!ne||(O=ne(W,re,O))<0)return-1}else if(K!=re.charCodeAt(O++))return-1}return O}function _(W,Z,re){var O=u.exec(Z.slice(re));return O?(W.p=d.get(O[0].toLowerCase()),re+O[0].length):-1}function P(W,Z,re){var O=p.exec(Z.slice(re));return O?(W.w=m.get(O[0].toLowerCase()),re+O[0].length):-1}function A(W,Z,re){var O=f.exec(Z.slice(re));return O?(W.w=h.get(O[0].toLowerCase()),re+O[0].length):-1}function j(W,Z,re){var O=v.exec(Z.slice(re));return O?(W.m=b.get(O[0].toLowerCase()),re+O[0].length):-1}function F(W,Z,re){var O=g.exec(Z.slice(re));return O?(W.m=x.get(O[0].toLowerCase()),re+O[0].length):-1}function M(W,Z,re){return w(W,t,Z,re)}function H(W,Z,re){return w(W,r,Z,re)}function q(W,Z,re){return w(W,n,Z,re)}function Y(W){return s[W.getDay()]}function X(W){return i[W.getDay()]}function I(W){return c[W.getMonth()]}function J(W){return o[W.getMonth()]}function Q(W){return a[+(W.getHours()>=12)]}function E(W){return 1+~~(W.getMonth()/3)}function R(W){return s[W.getUTCDay()]}function U(W){return i[W.getUTCDay()]}function z(W){return c[W.getUTCMonth()]}function G(W){return o[W.getUTCMonth()]}function ae(W){return a[+(W.getUTCHours()>=12)]}function ee(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var Z=T(W+="",y);return Z.toString=function(){return W},Z},parse:function(W){var Z=N(W+="",!1);return Z.toString=function(){return W},Z},utcFormat:function(W){var Z=T(W+="",C);return Z.toString=function(){return W},Z},utcParse:function(W){var Z=N(W+="",!0);return Z.toString=function(){return W},Z}}}var O6={"-":"",_:" ",0:"0"},ba=/^\s*\d+/,_xe=/^%/,kxe=/[\\^$*+?|[\]().{}]/g;function Pr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Sxe(e){return e.replace(kxe,"\\$&")}function ip(e){return new RegExp("^(?:"+e.map(Sxe).join("|")+")","i")}function sp(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Nxe(e,t,r){var n=ba.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function jxe(e,t,r){var n=ba.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Axe(e,t,r){var n=ba.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Cxe(e,t,r){var n=ba.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Txe(e,t,r){var n=ba.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function P6(e,t,r){var n=ba.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function D6(e,t,r){var n=ba.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Exe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Oxe(e,t,r){var n=ba.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Pxe(e,t,r){var n=ba.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function $6(e,t,r){var n=ba.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Dxe(e,t,r){var n=ba.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function M6(e,t,r){var n=ba.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function $xe(e,t,r){var n=ba.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Mxe(e,t,r){var n=ba.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Fxe(e,t,r){var n=ba.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Lxe(e,t,r){var n=ba.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Ixe(e,t,r){var n=_xe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Rxe(e,t,r){var n=ba.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Bxe(e,t,r){var n=ba.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function F6(e,t){return Pr(e.getDate(),t,2)}function Uxe(e,t){return Pr(e.getHours(),t,2)}function Wxe(e,t){return Pr(e.getHours()%12||12,t,2)}function qxe(e,t){return Pr(1+lN.count(td(e),e),t,3)}function nI(e,t){return Pr(e.getMilliseconds(),t,3)}function Hxe(e,t){return nI(e,t)+"000"}function zxe(e,t){return Pr(e.getMonth()+1,t,2)}function Yxe(e,t){return Pr(e.getMinutes(),t,2)}function Vxe(e,t){return Pr(e.getSeconds(),t,2)}function Gxe(e){var t=e.getDay();return t===0?7:t}function Kxe(e,t){return Pr(tI.count(td(e)-1,e),t,2)}function aI(e){var t=e.getDay();return t>=4||t===0?dh(e):dh.ceil(e)}function Xxe(e,t){return e=aI(e),Pr(dh.count(td(e),e)+(td(e).getDay()===4),t,2)}function Jxe(e){return e.getDay()}function Qxe(e,t){return Pr(Py.count(td(e)-1,e),t,2)}function Zxe(e,t){return Pr(e.getFullYear()%100,t,2)}function eve(e,t){return e=aI(e),Pr(e.getFullYear()%100,t,2)}function tve(e,t){return Pr(e.getFullYear()%1e4,t,4)}function rve(e,t){var r=e.getDay();return e=r>=4||r===0?dh(e):dh.ceil(e),Pr(e.getFullYear()%1e4,t,4)}function nve(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pr(t/60|0,"0",2)+Pr(t%60,"0",2)}function L6(e,t){return Pr(e.getUTCDate(),t,2)}function ave(e,t){return Pr(e.getUTCHours(),t,2)}function ive(e,t){return Pr(e.getUTCHours()%12||12,t,2)}function sve(e,t){return Pr(1+cN.count(rd(e),e),t,3)}function iI(e,t){return Pr(e.getUTCMilliseconds(),t,3)}function ove(e,t){return iI(e,t)+"000"}function lve(e,t){return Pr(e.getUTCMonth()+1,t,2)}function cve(e,t){return Pr(e.getUTCMinutes(),t,2)}function uve(e,t){return Pr(e.getUTCSeconds(),t,2)}function dve(e){var t=e.getUTCDay();return t===0?7:t}function fve(e,t){return Pr(rI.count(rd(e)-1,e),t,2)}function sI(e){var t=e.getUTCDay();return t>=4||t===0?fh(e):fh.ceil(e)}function hve(e,t){return e=sI(e),Pr(fh.count(rd(e),e)+(rd(e).getUTCDay()===4),t,2)}function pve(e){return e.getUTCDay()}function mve(e,t){return Pr(Dy.count(rd(e)-1,e),t,2)}function gve(e,t){return Pr(e.getUTCFullYear()%100,t,2)}function xve(e,t){return e=sI(e),Pr(e.getUTCFullYear()%100,t,2)}function vve(e,t){return Pr(e.getUTCFullYear()%1e4,t,4)}function yve(e,t){var r=e.getUTCDay();return e=r>=4||r===0?fh(e):fh.ceil(e),Pr(e.getUTCFullYear()%1e4,t,4)}function bve(){return"+0000"}function I6(){return"%"}function R6(e){return+e}function B6(e){return Math.floor(+e/1e3)}var pf,oI;wve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wve(e){return pf=wxe(e),oI=pf.format,pf.parse,pf.utcFormat,pf.utcParse,pf}var _ve=yb,kve=IF,Sve=vb;function Nve(e,t,r){for(var n=-1,a=t.length,i={};++n<a;){var s=t[n],o=_ve(e,s);r(o,s)&&kve(i,Sve(s,e),o)}return i}var jve=Nve;function Ave(e,t){return e!=null&&t in Object(e)}var Cve=Ave,Tve=vb,Eve=hb,Ove=vi,Pve=gb,Dve=bS,$ve=qg;function Mve(e,t,r){t=Tve(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=$ve(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Dve(a)&&Pve(s,a)&&(Ove(e)||Eve(e)))}var Fve=Mve,Lve=Cve,Ive=Fve;function Rve(e,t){return e!=null&&Ive(e,t,Lve)}var lI=Rve,Bve=jve,Uve=lI;function Wve(e,t){return Bve(e,t,function(r,n){return Uve(e,n)})}var qve=Wve;function Hve(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var cI=Hve,U6=Ug,zve=hb,Yve=vi,W6=U6?U6.isConcatSpreadable:void 0;function Vve(e){return Yve(e)||zve(e)||!!(W6&&e&&e[W6])}var Gve=Vve,Kve=cI,Xve=Gve;function uI(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=Xve),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?uI(o,t-1,r,n,a):Kve(a,o):n||(a[a.length]=o)}return a}var uN=uI,Jve=uN;function Qve(e){var t=e==null?0:e.length;return t?Jve(e,1):[]}var Zve=Qve,eye=Zve,tye=PF,rye=DF;function nye(e){return rye(tye(e,void 0,eye),e+"")}var aye=nye,iye=qve,sye=aye,oye=sye(function(e,t){return e==null?{}:iye(e,t)}),lye=oye;const cye=hr(lye);function uye(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var dI=uye,dye=QS,fye=dI,hye=ZS,pye=1,mye=2;function gye(e,t,r,n,a,i){var s=r&pye,o=e.length,c=t.length;if(o!=c&&!(s&&c>o))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&mye?new dye:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var m=e[f],g=t[f];if(n)var x=s?n(g,m,f,t,e,i):n(m,g,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!fye(t,function(v,b){if(!hye(p,b)&&(m===v||a(m,v,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(m===g||a(m,g,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var fI=gye;function xye(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var vye=xye;function yye(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var dN=yye,q6=Ug,H6=yF,bye=Bg,wye=fI,_ye=vye,kye=dN,Sye=1,Nye=2,jye="[object Boolean]",Aye="[object Date]",Cye="[object Error]",Tye="[object Map]",Eye="[object Number]",Oye="[object RegExp]",Pye="[object Set]",Dye="[object String]",$ye="[object Symbol]",Mye="[object ArrayBuffer]",Fye="[object DataView]",z6=q6?q6.prototype:void 0,D5=z6?z6.valueOf:void 0;function Lye(e,t,r,n,a,i,s){switch(r){case Fye:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Mye:return!(e.byteLength!=t.byteLength||!i(new H6(e),new H6(t)));case jye:case Aye:case Eye:return bye(+e,+t);case Cye:return e.name==t.name&&e.message==t.message;case Oye:case Dye:return e==t+"";case Tye:var o=_ye;case Pye:var c=n&Sye;if(o||(o=kye),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=Nye,s.set(e,t);var d=wye(o(e),o(t),n,a,i,s);return s.delete(e),d;case $ye:if(D5)return D5.call(e)==D5.call(t)}return!1}var Iye=Lye,Rye=cI,Bye=vi;function Uye(e,t,r){var n=t(e);return Bye(e)?n:Rye(n,r(e))}var Wye=Uye;function qye(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var Hye=qye;function zye(){return[]}var Yye=zye,Vye=Hye,Gye=Yye,Kye=Object.prototype,Xye=Kye.propertyIsEnumerable,Y6=Object.getOwnPropertySymbols,Jye=Y6?function(e){return e==null?[]:(e=Object(e),Vye(Y6(e),function(t){return Xye.call(e,t)}))}:Gye,Qye=Jye,Zye=bF,e1e=Zye(Object.keys,Object),t1e=e1e,r1e=yS,n1e=t1e,a1e=Object.prototype,i1e=a1e.hasOwnProperty;function s1e(e){if(!r1e(e))return n1e(e);var t=[];for(var r in Object(e))i1e.call(e,r)&&r!="constructor"&&t.push(r);return t}var o1e=s1e,l1e=TF,c1e=o1e,u1e=a0;function d1e(e){return u1e(e)?l1e(e):c1e(e)}var fN=d1e,f1e=Wye,h1e=Qye,p1e=fN;function m1e(e){return f1e(e,p1e,h1e)}var g1e=m1e,V6=g1e,x1e=1,v1e=Object.prototype,y1e=v1e.hasOwnProperty;function b1e(e,t,r,n,a,i){var s=r&x1e,o=V6(e),c=o.length,u=V6(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=o[f];if(!(s?h in t:y1e.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var g=!0;i.set(e,t),i.set(t,e);for(var x=s;++f<c;){h=o[f];var v=e[h],b=t[h];if(n)var y=s?n(b,v,h,t,e,i):n(v,b,h,e,t,i);if(!(y===void 0?v===b||a(v,b,r,n,i):y)){g=!1;break}x||(x=h=="constructor")}if(g&&!x){var C=e.constructor,S=t.constructor;C!=S&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(g=!1)}return i.delete(e),i.delete(t),g}var w1e=b1e,_1e=_d,k1e=ro,S1e=_1e(k1e,"DataView"),N1e=S1e,j1e=_d,A1e=ro,C1e=j1e(A1e,"Promise"),T1e=C1e,E1e=_d,O1e=ro,P1e=E1e(O1e,"Set"),hI=P1e,D1e=_d,$1e=ro,M1e=D1e($1e,"WeakMap"),F1e=M1e,Pk=N1e,Dk=gS,$k=T1e,Mk=hI,Fk=F1e,pI=Uo,u0=mF,G6="[object Map]",L1e="[object Object]",K6="[object Promise]",X6="[object Set]",J6="[object WeakMap]",Q6="[object DataView]",I1e=u0(Pk),R1e=u0(Dk),B1e=u0($k),U1e=u0(Mk),W1e=u0(Fk),xu=pI;(Pk&&xu(new Pk(new ArrayBuffer(1)))!=Q6||Dk&&xu(new Dk)!=G6||$k&&xu($k.resolve())!=K6||Mk&&xu(new Mk)!=X6||Fk&&xu(new Fk)!=J6)&&(xu=function(e){var t=pI(e),r=t==L1e?e.constructor:void 0,n=r?u0(r):"";if(n)switch(n){case I1e:return Q6;case R1e:return G6;case B1e:return K6;case U1e:return X6;case W1e:return J6}return t});var q1e=xu,$5=vS,H1e=fI,z1e=Iye,Y1e=w1e,Z6=q1e,eE=vi,tE=wS,V1e=_S,G1e=1,rE="[object Arguments]",nE="[object Array]",fv="[object Object]",K1e=Object.prototype,aE=K1e.hasOwnProperty;function X1e(e,t,r,n,a,i){var s=eE(e),o=eE(t),c=s?nE:Z6(e),u=o?nE:Z6(t);c=c==rE?fv:c,u=u==rE?fv:u;var d=c==fv,f=u==fv,h=c==u;if(h&&tE(e)){if(!tE(t))return!1;s=!0,d=!1}if(h&&!d)return i||(i=new $5),s||V1e(e)?H1e(e,t,r,n,a,i):z1e(e,t,c,r,n,a,i);if(!(r&G1e)){var p=d&&aE.call(e,"__wrapped__"),m=f&&aE.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,x=m?t.value():t;return i||(i=new $5),a(g,x,r,n,i)}}return h?(i||(i=new $5),Y1e(e,t,r,n,a,i)):!1}var J1e=X1e,Q1e=J1e,iE=no;function mI(e,t,r,n,a){return e===t?!0:e==null||t==null||!iE(e)&&!iE(t)?e!==e&&t!==t:Q1e(e,t,r,n,mI,a)}var hN=mI,Z1e=hN;function ebe(e,t){return Z1e(e,t)}var tbe=ebe;const l2=hr(tbe);var rbe={background:"transparent",text:{fontFamily:"sans-serif",fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"transparent",outlineOpacity:1},axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}};function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vs.apply(this,arguments)}function Lk(e,t){return Lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Lk(e,t)}function c2(e,t){if(e==null)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}var nbe=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],abe=function(e,t){return vs({},t,e)},ibe=function(e,t){var r=afe({},e,t);return nbe.forEach(function(n){$p(r,n,abe(qn(r,n),r.text))}),r},gI=L.createContext(),xI=function(e){var t=e.children,r=e.animate,n=r===void 0||r,a=e.config,i=a===void 0?"default":a,s=L.useMemo(function(){var o=c0(i)?hS[i]:i;return{animate:n,config:o}},[n,i]);return l.jsx(gI.Provider,{value:s,children:t})},$y={animate:Re.bool,motionConfig:Re.oneOfType([Re.oneOf(Object.keys(hS)),Re.shape({mass:Re.number,tension:Re.number,friction:Re.number,clamp:Re.bool,precision:Re.number,velocity:Re.number,duration:Re.number,easing:Re.func})])};xI.propTypes={children:Re.node.isRequired,animate:$y.animate,config:$y.motionConfig};var Wo=function(){return L.useContext(gI)},vI=function(e){var t=Wo(),r=t.animate,n=t.config,a=function(o){var c=L.useRef();return L.useEffect(function(){c.current=o},[o]),c.current}(e),i=L.useMemo(function(){return qF(a,e)},[a,e]),s=Jh({from:{value:0},to:{value:1},reset:!0,config:n,immediate:!r}).value;return Qh(s,i)},sbe={nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:$t(Tb),PRGn:$t(Eb),PiYG:$t(Ob),PuOr:$t(Pb),RdBu:$t(Db),RdGy:$t($b),RdYlBu:$t(Mb),RdYlGn:$t(Fb),spectral:$t(Lb),blues:$t(Xb),greens:$t(Jb),greys:$t(Qb),oranges:$t(t2),purples:$t(Zb),reds:$t(e2),BuGn:$t(Ib),BuPu:$t(Rb),GnBu:$t(Bb),OrRd:$t(Ub),PuBuGn:$t(Wb),PuBu:$t(qb),PuRd:$t(Hb),RdPu:$t(zb),YlGnBu:$t(Yb),YlGn:$t(Vb),YlOrBr:$t(Gb),YlOrRd:$t(Kb)},obe=Object.keys(sbe);$t(Tb),$t(Eb),$t(Ob),$t(Pb),$t(Db),$t($b),$t(Mb),$t(Fb),$t(Lb),$t(Xb),$t(Jb),$t(Qb),$t(t2),$t(Zb),$t(e2),$t(Ib),$t(Rb),$t(Bb),$t(Ub),$t(Wb),$t(qb),$t(Hb),$t(zb),$t(Yb),$t(Vb),$t(Gb),$t(Kb);Re.oneOfType([Re.oneOf(obe),Re.func,Re.arrayOf(Re.string)]);var Ik={basis:PL,basisClosed:$L,basisOpen:FL,bundle:qge,cardinal:Hge,cardinalClosed:zge,cardinalOpen:Yge,catmullRom:Vge,catmullRomClosed:Gge,catmullRomOpen:Kge,linear:Vg,linearClosed:WL,monotoneX:zL,monotoneY:YL,natural:GL,step:KL,stepAfter:JL,stepBefore:XL},pN=Object.keys(Ik);pN.filter(function(e){return e.endsWith("Closed")});SL(pN,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");SL(pN,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");var yI=function(e){if(!Ik[e])throw new TypeError("'"+e+"', is not a valid curve interpolator identifier.");return Ik[e]};Re.shape({top:Re.number,right:Re.number,bottom:Re.number,left:Re.number}).isRequired;var lbe=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"];Re.oneOf(lbe);xc(wL);var bI={top:0,right:0,bottom:0,left:0},mN=function(e,t,r){return r===void 0&&(r={}),L.useMemo(function(){var n=vs({},bI,r);return{margin:n,innerWidth:e-n.left-n.right,innerHeight:t-n.top-n.bottom,outerWidth:e,outerHeight:t}},[e,t,r.top,r.right,r.bottom,r.left])},wI=function(){var e=L.useRef(null),t=L.useState({left:0,top:0,width:0,height:0}),r=t[0],n=t[1],a=L.useState(function(){return typeof ResizeObserver>"u"?null:new ResizeObserver(function(i){var s=i[0];return n(s.contentRect)})})[0];return L.useEffect(function(){return e.current&&a!==null&&a.observe(e.current),function(){a!==null&&a.disconnect()}},[]),[e,r]},cbe=function(e){return L.useMemo(function(){return ibe(rbe,e)},[e])},ube=function(e){return typeof e=="function"?e:typeof e=="string"?e.indexOf("time:")===0?oI(e.slice("5")):ZL(e):function(t){return""+t}},My=function(e){return L.useMemo(function(){return ube(e)},[e])},_I=L.createContext(),dbe={},kI=function(e){var t=e.theme,r=t===void 0?dbe:t,n=e.children,a=cbe(r);return l.jsx(_I.Provider,{value:a,children:n})};kI.propTypes={children:Re.node.isRequired,theme:Re.object};var zn=function(){return L.useContext(_I)},fbe=["outlineWidth","outlineColor","outlineOpacity"],gN=function(e){return e.outlineWidth,e.outlineColor,e.outlineOpacity,c2(e,fbe)},SI=function(e){var t=e.children,r=e.condition,n=e.wrapper;return r?L.cloneElement(n,{},t):t};SI.propTypes={children:Re.node.isRequired,condition:Re.bool.isRequired,wrapper:Re.element.isRequired};var hbe={position:"relative"},xN=function(e){var t=e.children,r=e.theme,n=e.renderWrapper,a=n===void 0||n,i=e.isInteractive,s=i===void 0||i,o=e.animate,c=e.motionConfig,u=L.useRef(null);return l.jsx(kI,{theme:r,children:l.jsx(xI,{animate:o,config:c,children:l.jsx($ie,{container:u,children:l.jsxs(SI,{condition:a,wrapper:l.jsx("div",{style:hbe,ref:u}),children:[t,s&&l.jsx(Die,{})]})})})})};xN.propTypes={children:Re.element.isRequired,isInteractive:Re.bool,renderWrapper:Re.bool,theme:Re.object,animate:Re.bool,motionConfig:Re.oneOfType([Re.string,$y.motionConfig])};Re.func.isRequired,Re.bool,Re.bool,Re.object.isRequired,Re.bool.isRequired,Re.oneOfType([Re.string,$y.motionConfig]);var u2=function(e){var t=e.children,r=wI(),n=r[0],a=r[1],i=a.width>0&&a.height>0;return l.jsx("div",{ref:n,style:{width:"100%",height:"100%"},children:i&&t({width:a.width,height:a.height})})};u2.propTypes={children:Re.func.isRequired};var pbe=["id","colors"],NI=function(e){var t=e.id,r=e.colors,n=c2(e,pbe);return l.jsx("linearGradient",vs({id:t,x1:0,x2:0,y1:0,y2:1},n,{children:r.map(function(a){var i=a.offset,s=a.color,o=a.opacity;return l.jsx("stop",{offset:i+"%",stopColor:s,stopOpacity:o!==void 0?o:1},i)})}))};NI.propTypes={id:Re.string.isRequired,colors:Re.arrayOf(Re.shape({offset:Re.number.isRequired,color:Re.string.isRequired,opacity:Re.number})).isRequired,gradientTransform:Re.string};var jI={linearGradient:NI},op={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},Rk=L.memo(function(e){var t=e.id,r=e.background,n=r===void 0?op.background:r,a=e.color,i=a===void 0?op.color:a,s=e.size,o=s===void 0?op.size:s,c=e.padding,u=c===void 0?op.padding:c,d=e.stagger,f=d===void 0?op.stagger:d,h=o+u,p=o/2,m=u/2;return f===!0&&(h=2*o+2*u),l.jsxs("pattern",{id:t,width:h,height:h,patternUnits:"userSpaceOnUse",children:[l.jsx("rect",{width:h,height:h,fill:n}),l.jsx("circle",{cx:m+p,cy:m+p,r:p,fill:i}),f&&l.jsx("circle",{cx:1.5*u+o+p,cy:1.5*u+o+p,r:p,fill:i})]})});Rk.displayName="PatternDots",Rk.propTypes={id:Re.string.isRequired,color:Re.string.isRequired,background:Re.string.isRequired,size:Re.number.isRequired,padding:Re.number.isRequired,stagger:Re.bool.isRequired};var Gs=function(e){return e*Math.PI/180},vN=function(e){return 180*e/Math.PI},mbe=function(e){return e.startAngle+(e.endAngle-e.startAngle)/2},qf=function(e,t){return{x:Math.cos(e)*t,y:Math.sin(e)*t}},gbe={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},lp={spacing:5,rotation:0,background:"#000000",color:"#ffffff",lineWidth:2},Bk=L.memo(function(e){var t=e.id,r=e.spacing,n=r===void 0?lp.spacing:r,a=e.rotation,i=a===void 0?lp.rotation:a,s=e.background,o=s===void 0?lp.background:s,c=e.color,u=c===void 0?lp.color:c,d=e.lineWidth,f=d===void 0?lp.lineWidth:d,h=Math.round(i)%360,p=Math.abs(n);h>180?h-=360:h>90?h-=180:h<-180?h+=360:h<-90&&(h+=180);var m,g=p,x=p;return h===0?m=`
                M 0 0 L `+g+` 0
                M 0 `+x+" L "+g+" "+x+`
            `:h===90?m=`
                M 0 0 L 0 `+x+`
                M `+g+" 0 L "+g+" "+x+`
            `:(g=Math.abs(p/Math.sin(Gs(h))),x=p/Math.sin(Gs(90-h)),m=h>0?`
                    M 0 `+-x+" L "+2*g+" "+x+`
                    M `+-g+" "+-x+" L "+g+" "+x+`
                    M `+-g+" 0 L "+g+" "+2*x+`
                `:`
                    M `+-g+" "+x+" L "+g+" "+-x+`
                    M `+-g+" "+2*x+" L "+2*g+" "+-x+`
                    M 0 `+2*x+" L "+2*g+` 0
                `),l.jsxs("pattern",{id:t,width:g,height:x,patternUnits:"userSpaceOnUse",children:[l.jsx("rect",{width:g,height:x,fill:o,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),l.jsx("path",{d:m,strokeWidth:f,stroke:u,strokeLinecap:"square"})]})});Bk.displayName="PatternLines",Bk.propTypes={id:Re.string.isRequired,spacing:Re.number.isRequired,rotation:Re.number.isRequired,background:Re.string.isRequired,color:Re.string.isRequired,lineWidth:Re.number.isRequired};var cp={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},Uk=L.memo(function(e){var t=e.id,r=e.color,n=r===void 0?cp.color:r,a=e.background,i=a===void 0?cp.background:a,s=e.size,o=s===void 0?cp.size:s,c=e.padding,u=c===void 0?cp.padding:c,d=e.stagger,f=d===void 0?cp.stagger:d,h=o+u,p=u/2;return f===!0&&(h=2*o+2*u),l.jsxs("pattern",{id:t,width:h,height:h,patternUnits:"userSpaceOnUse",children:[l.jsx("rect",{width:h,height:h,fill:i}),l.jsx("rect",{x:p,y:p,width:o,height:o,fill:n}),f&&l.jsx("rect",{x:1.5*u+o,y:1.5*u+o,width:o,height:o,fill:n})]})});Uk.displayName="PatternSquares",Uk.propTypes={id:Re.string.isRequired,color:Re.string.isRequired,background:Re.string.isRequired,size:Re.number.isRequired,padding:Re.number.isRequired,stagger:Re.bool.isRequired};var AI={patternDots:Rk,patternLines:Bk,patternSquares:Uk},xbe=["type"],Wk=vs({},jI,AI),CI=function(e){var t=e.defs;return!t||t.length<1?null:l.jsx("defs",{"aria-hidden":!0,children:t.map(function(r){var n=r.type,a=c2(r,xbe);return Wk[n]?L.createElement(Wk[n],vs({key:a.id},a)):null})})};CI.propTypes={defs:Re.arrayOf(Re.shape({type:Re.oneOf(Object.keys(Wk)).isRequired,id:Re.string.isRequired}))};var vbe=L.memo(CI),yN=function(e){var t=e.width,r=e.height,n=e.margin,a=e.defs,i=e.children,s=e.role,o=e.ariaLabel,c=e.ariaLabelledBy,u=e.ariaDescribedBy,d=e.isFocusable,f=zn();return l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:r,role:s,"aria-label":o,"aria-labelledby":c,"aria-describedby":u,focusable:d,tabIndex:d?0:void 0,children:[l.jsx(vbe,{defs:a}),l.jsx("rect",{width:t,height:r,fill:f.background}),l.jsx("g",{transform:"translate("+n.left+","+n.top+")",children:i})]})};yN.propTypes={width:Re.number.isRequired,height:Re.number.isRequired,margin:Re.shape({top:Re.number.isRequired,left:Re.number.isRequired}).isRequired,defs:Re.array,children:Re.oneOfType([Re.arrayOf(Re.node),Re.node]).isRequired,role:Re.string,isFocusable:Re.bool,ariaLabel:Re.string,ariaLabelledBy:Re.string,ariaDescribedBy:Re.string};var TI=function(e){var t=e.size,r=e.color,n=e.borderWidth,a=e.borderColor;return l.jsx("circle",{r:t/2,fill:r,stroke:a,strokeWidth:n,style:{pointerEvents:"none"}})};TI.propTypes={size:Re.number.isRequired,color:Re.string.isRequired,borderWidth:Re.number.isRequired,borderColor:Re.string.isRequired};var ybe=L.memo(TI),EI=function(e){var t=e.x,r=e.y,n=e.symbol,a=n===void 0?ybe:n,i=e.size,s=e.datum,o=e.color,c=e.borderWidth,u=e.borderColor,d=e.label,f=e.labelTextAnchor,h=f===void 0?"middle":f,p=e.labelYOffset,m=p===void 0?-12:p,g=zn(),x=Wo(),v=x.animate,b=x.config,y=Jh({transform:"translate("+t+", "+r+")",config:b,immediate:!v});return l.jsxs(Pa.g,{transform:y.transform,style:{pointerEvents:"none"},children:[L.createElement(a,{size:i,color:o,datum:s,borderWidth:c,borderColor:u}),d&&l.jsx("text",{textAnchor:h,y:m,style:gN(g.dots.text),children:d})]})};EI.propTypes={x:Re.number.isRequired,y:Re.number.isRequired,datum:Re.object.isRequired,size:Re.number.isRequired,color:Re.string.isRequired,borderWidth:Re.number.isRequired,borderColor:Re.string.isRequired,symbol:Re.oneOfType([Re.func,Re.object]),label:Re.oneOfType([Re.string,Re.number]),labelTextAnchor:Re.oneOf(["start","middle","end"]),labelYOffset:Re.number};var bbe=L.memo(EI),OI=function(e){var t=e.width,r=e.height,n=e.axis,a=e.scale,i=e.value,s=e.lineStyle,o=e.textStyle,c=e.legend,u=e.legendNode,d=e.legendPosition,f=d===void 0?"top-right":d,h=e.legendOffsetX,p=h===void 0?14:h,m=e.legendOffsetY,g=m===void 0?14:m,x=e.legendOrientation,v=x===void 0?"horizontal":x,b=zn(),y=0,C=0,S=0,T=0;if(n==="y"?(S=a(i),C=t):(y=a(i),T=r),c&&!u){var N=function(w){var _=w.axis,P=w.width,A=w.height,j=w.position,F=w.offsetX,M=w.offsetY,H=w.orientation,q=0,Y=0,X=H==="vertical"?-90:0,I="start";if(_==="x")switch(j){case"top-left":q=-F,Y=M,I="end";break;case"top":Y=-M,I=H==="horizontal"?"middle":"start";break;case"top-right":q=F,Y=M,I=H==="horizontal"?"start":"end";break;case"right":q=F,Y=A/2,I=H==="horizontal"?"start":"middle";break;case"bottom-right":q=F,Y=A-M,I="start";break;case"bottom":Y=A+M,I=H==="horizontal"?"middle":"end";break;case"bottom-left":Y=A-M,q=-F,I=H==="horizontal"?"end":"start";break;case"left":q=-F,Y=A/2,I=H==="horizontal"?"end":"middle"}else switch(j){case"top-left":q=F,Y=-M,I="start";break;case"top":q=P/2,Y=-M,I=H==="horizontal"?"middle":"start";break;case"top-right":q=P-F,Y=-M,I=H==="horizontal"?"end":"start";break;case"right":q=P+F,I=H==="horizontal"?"start":"middle";break;case"bottom-right":q=P-F,Y=M,I="end";break;case"bottom":q=P/2,Y=M,I=H==="horizontal"?"middle":"end";break;case"bottom-left":q=F,Y=M,I=H==="horizontal"?"start":"end";break;case"left":q=-F,I=H==="horizontal"?"end":"middle"}return{x:q,y:Y,rotation:X,textAnchor:I}}({axis:n,width:t,height:r,position:f,offsetX:p,offsetY:g,orientation:v});u=l.jsx("text",{transform:"translate("+N.x+", "+N.y+") rotate("+N.rotation+")",textAnchor:N.textAnchor,dominantBaseline:"central",style:o,children:c})}return l.jsxs("g",{transform:"translate("+y+", "+S+")",children:[l.jsx("line",{x1:0,x2:C,y1:0,y2:T,stroke:b.markers.lineColor,strokeWidth:b.markers.lineStrokeWidth,style:s}),u]})};OI.propTypes={width:Re.number.isRequired,height:Re.number.isRequired,axis:Re.oneOf(["x","y"]).isRequired,scale:Re.func.isRequired,value:Re.oneOfType([Re.number,Re.string,Re.instanceOf(Date)]).isRequired,lineStyle:Re.object,textStyle:Re.object,legend:Re.string,legendPosition:Re.oneOf(["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"]),legendOffsetX:Re.number.isRequired,legendOffsetY:Re.number.isRequired,legendOrientation:Re.oneOf(["horizontal","vertical"]).isRequired};var wbe=L.memo(OI),PI=function(e){var t=e.markers,r=e.width,n=e.height,a=e.xScale,i=e.yScale;return t&&t.length!==0?t.map(function(s,o){return l.jsx(wbe,vs({},s,{width:r,height:n,scale:s.axis==="y"?i:a}),o)}):null};PI.propTypes={width:Re.number.isRequired,height:Re.number.isRequired,xScale:Re.func.isRequired,yScale:Re.func.isRequired,markers:Re.arrayOf(Re.shape({axis:Re.oneOf(["x","y"]).isRequired,value:Re.oneOfType([Re.number,Re.string,Re.instanceOf(Date)]).isRequired,lineStyle:Re.object,textStyle:Re.object}))};var _be=L.memo(PI),kbe=["theme","renderWrapper","animate","motionConfig"],DI=function(e){return function(t){var r,n;function a(){return t.apply(this,arguments)||this}return n=t,(r=a).prototype=Object.create(n.prototype),r.prototype.constructor=r,Lk(r,n),a.prototype.render=function(){var i=this.props,s=i.theme,o=i.renderWrapper,c=i.animate,u=i.motionConfig,d=c2(i,kbe);return l.jsx(xN,{theme:s,renderWrapper:o,isInteractive:d.isInteractive,animate:c,motionConfig:u,children:l.jsx(e,vs({},d))})},a}(L.Component)},Sbe=function(e,t){var r=nr(e)?e:function(n){return qn(n,e)};return r},Nbe=function(e){return nr(e)?e:function(t){return qn(t,e)}},Fy=function(e){return L.useMemo(function(){return Nbe(e)},[e])},jbe=function(e,t,r,n){var a=r-e,i=n-t;return a*=a,i*=i,Math.sqrt(a+i)},Abe=function(e,t,r,n,a,i){return e<=a&&a<=e+r&&t<=i&&i<=t+n},$I=function(e,t){var r,n="touches"in t?t.touches[0]:t,a=n.clientX,i=n.clientY,s=e.getBoundingClientRect(),o=(r=e.getBBox!==void 0?e.getBBox():{width:e.offsetWidth||0,height:e.offsetHeight||0}).width===s.width?1:r.width/s.width;return[(a-s.left)*o,(i-s.top)*o]},Cbe=Object.keys(jI),Tbe=Object.keys(AI),Ebe=function(e,t,r){if(e==="*")return!0;if(nr(e))return e(t);if(pb(e)){var n=r?qn(t,r):t;return l2(cye(n,Object.keys(e)),e)}return!1},MI=function(e,t,r,n){var a={},i=a.dataKey,s=a.colorKey,o=s===void 0?"color":s,c=a.targetKey,u=c===void 0?"fill":c,d=[],f={};return e.length&&t.length&&(d=[].concat(e),t.forEach(function(h){for(var p=function(){var g=r[m],x=g.id,v=g.match;if(Ebe(v,h,i)){var b=e.find(function(P){return P.id===x});if(b){if(Tbe.includes(b.type))if(b.background==="inherit"||b.color==="inherit"){var y=qn(h,o),C=b.background,S=b.color,T=x;b.background==="inherit"&&(T=T+".bg."+y,C=y),b.color==="inherit"&&(T=T+".fg."+y,S=y),$p(h,u,"url(#"+T+")"),f[T]||(d.push(vs({},b,{id:T,background:C,color:S})),f[T]=1)}else $p(h,u,"url(#"+x+")");else if(Cbe.includes(b.type))if(b.colors.map(function(P){return P.color}).includes("inherit")){var N=qn(h,o),w=x,_=vs({},b,{colors:b.colors.map(function(P,A){return P.color!=="inherit"?P:(w=w+"."+A+"."+N,vs({},P,{color:P.color==="inherit"?N:P.color}))})});_.id=w,$p(h,u,"url(#"+w+")"),f[w]||(d.push(_),f[w]=1)}else $p(h,u,"url(#"+x+")")}return"break"}},m=0;m<r.length&&p()!=="break";m++);})),d};function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(this,arguments)}function sE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Obe(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(a,i){if(a){if(typeof a=="string")return sE(a,i);var s=Object.prototype.toString.call(a).slice(8,-1);return s==="Object"&&a.constructor&&(s=a.constructor.name),s==="Map"||s==="Set"?Array.from(a):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?sE(a,i):void 0}}(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var FI={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:Fpe,accent:Lpe,dark2:Ipe,paired:Rpe,pastel1:Bpe,pastel2:Upe,set1:Wpe,set2:qpe,set3:wL,tableau10:Hpe},Pbe=Object.keys(FI),LI={brown_blueGreen:Tb,purpleRed_green:Eb,pink_yellowGreen:Ob,purple_orange:Pb,red_blue:Db,red_grey:$b,red_yellow_blue:Mb,red_yellow_green:Fb,spectral:Lb},Dbe=Object.keys(LI),$be={brown_blueGreen:zpe,purpleRed_green:Ype,pink_yellowGreen:Vpe,purple_orange:Gpe,red_blue:Kpe,red_grey:Xpe,red_yellow_blue:Jpe,red_yellow_green:Qpe,spectral:Zpe},II={blues:Xb,greens:Jb,greys:Qb,oranges:t2,purples:Zb,reds:e2,blue_green:Ib,blue_purple:Rb,green_blue:Bb,orange_red:Ub,purple_blue_green:Wb,purple_blue:qb,purple_red:Hb,red_purple:zb,yellow_green_blue:Yb,yellow_green:Vb,yellow_orange_brown:Gb,yellow_orange_red:Kb},Mbe=Object.keys(II),Fbe={blues:fme,greens:hme,greys:pme,oranges:xme,purples:mme,reds:gme,turbo:jme,viridis:Ame,inferno:Tme,magma:Cme,plasma:Eme,cividis:vme,warm:bme,cool:wme,cubehelixDefault:yme,blue_green:eme,blue_purple:tme,green_blue:rme,orange_red:nme,purple_blue_green:ame,purple_blue:ime,purple_red:sme,red_purple:ome,yellow_green_blue:lme,yellow_green:cme,yellow_orange_brown:ume,yellow_orange_red:dme},M5=Ly({},FI,LI,II),Lbe=function(e){return Pbe.includes(e)},Ibe=function(e){return Dbe.includes(e)},Rbe=function(e){return Mbe.includes(e)},Bbe={rainbow:_me,sinebow:Nme};Ly({},$be,Fbe,Bbe);var Ube=function(e,t){if(typeof e=="function")return e;if(pb(e)){if(function(c){return c.theme!==void 0}(e)){if(t===void 0)throw new Error("Unable to use color from theme as no theme was provided");var r=qn(t,e.theme);if(r===void 0)throw new Error("Color from theme is undefined at path: '"+e.theme+"'");return function(){return r}}if(function(c){return c.from!==void 0}(e)){var n=function(c){return qn(c,e.from)};if(Array.isArray(e.modifiers)){for(var a,i=[],s=function(){var c=a.value,u=c[0],d=c[1];if(u==="brighter")i.push(function(f){return f.brighter(d)});else if(u==="darker")i.push(function(f){return f.darker(d)});else{if(u!=="opacity")throw new Error("Invalid color modifier: '"+u+"', must be one of: 'brighter', 'darker', 'opacity'");i.push(function(f){return f.opacity=d,f})}},o=Obe(e.modifiers);!(a=o()).done;)s();return i.length===0?n:function(c){return i.reduce(function(u,d){return d(u)},ih(n(c))).toString()}}return n}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return e}},Lc=function(e,t){return L.useMemo(function(){return Ube(e,t)},[e,t])};Re.oneOfType([Re.string,Re.func,Re.shape({theme:Re.string.isRequired}),Re.shape({from:Re.string.isRequired,modifiers:Re.arrayOf(Re.array)})]);var Wbe=function(e,t){if(typeof e=="function")return e;var r=function(f){return qn(f,t)};if(Array.isArray(e)){var n=xc(e),a=function(f){return n(r(f))};return a.scale=n,a}if(pb(e)){if(function(f){return f.datum!==void 0}(e))return function(f){return qn(f,e.datum)};if(function(f){return f.scheme!==void 0}(e)){if(Lbe(e.scheme)){var i=xc(M5[e.scheme]),s=function(f){return i(r(f))};return s.scale=i,s}if(Ibe(e.scheme)){if(e.size!==void 0&&(e.size<3||e.size>11))throw new Error("Invalid size '"+e.size+"' for diverging color scheme '"+e.scheme+"', must be between 3~11");var o=xc(M5[e.scheme][e.size||11]),c=function(f){return o(r(f))};return c.scale=o,c}if(Rbe(e.scheme)){if(e.size!==void 0&&(e.size<3||e.size>9))throw new Error("Invalid size '"+e.size+"' for sequential color scheme '"+e.scheme+"', must be between 3~9");var u=xc(M5[e.scheme][e.size||9]),d=function(f){return u(r(f))};return d.scale=u,d}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return e}},RI=function(e,t){return L.useMemo(function(){return Wbe(e,t)},[e,t])},F5=new Date,L5=new Date;function Ml(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=function(i){return e(i=new Date(+i)),i},a.ceil=function(i){return e(i=new Date(i-1)),t(i,1),e(i),i},a.round=function(i){var s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=function(i,s){return t(i=new Date(+i),s==null?1:Math.floor(s)),i},a.range=function(i,s,o){var c=[],u;if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return c;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return c},a.filter=function(i){return Ml(function(s){if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},function(s,o){if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););})},r&&(a.count=function(i,s){return F5.setTime(+i),L5.setTime(+s),e(F5),e(L5),Math.floor(r(F5,L5))},a.every=function(i){return i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?function(s){return n(s)%i===0}:function(s){return a.count(0,s)%i===0}):a}),a}const qbe=1e3,bN=qbe*60,Hbe=bN*60,wN=Hbe*24,BI=wN*7;var _N=Ml(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*bN)/wN,e=>e.getDate()-1);_N.range;function Ad(e){return Ml(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*bN)/BI})}var UI=Ad(0),Iy=Ad(1),zbe=Ad(2),Ybe=Ad(3),hh=Ad(4),Vbe=Ad(5),Gbe=Ad(6);UI.range;Iy.range;zbe.range;Ybe.range;hh.range;Vbe.range;Gbe.range;var nd=Ml(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});nd.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Ml(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};nd.range;var kN=Ml(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/wN},function(e){return e.getUTCDate()-1});kN.range;function Cd(e){return Ml(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/BI})}var WI=Cd(0),Ry=Cd(1),Kbe=Cd(2),Xbe=Cd(3),ph=Cd(4),Jbe=Cd(5),Qbe=Cd(6);WI.range;Ry.range;Kbe.range;Xbe.range;ph.range;Jbe.range;Qbe.range;var ad=Ml(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});ad.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Ml(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};ad.range;function I5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function R5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function up(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Zbe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=dp(a),d=fp(a),f=dp(i),h=fp(i),p=dp(s),m=fp(s),g=dp(o),x=fp(o),v=dp(c),b=fp(c),y={a:Y,A:X,b:I,B:J,c:null,d:fE,e:fE,f:_2e,g:P2e,G:$2e,H:y2e,I:b2e,j:w2e,L:qI,m:k2e,M:S2e,p:Q,q:E,Q:mE,s:gE,S:N2e,u:j2e,U:A2e,V:C2e,w:T2e,W:E2e,x:null,X:null,y:O2e,Y:D2e,Z:M2e,"%":pE},C={a:R,A:U,b:z,B:G,c:null,d:hE,e:hE,f:R2e,g:K2e,G:J2e,H:F2e,I:L2e,j:I2e,L:zI,m:B2e,M:U2e,p:ae,q:ee,Q:mE,s:gE,S:W2e,u:q2e,U:H2e,V:z2e,w:Y2e,W:V2e,x:null,X:null,y:G2e,Y:X2e,Z:Q2e,"%":pE},S={a:P,A,b:j,B:F,c:M,d:uE,e:uE,f:m2e,g:cE,G:lE,H:dE,I:dE,j:d2e,L:p2e,m:u2e,M:f2e,p:_,q:c2e,Q:x2e,s:v2e,S:h2e,u:a2e,U:i2e,V:s2e,w:n2e,W:o2e,x:H,X:q,y:cE,Y:lE,Z:l2e,"%":g2e};y.x=T(r,y),y.X=T(n,y),y.c=T(t,y),C.x=T(r,C),C.X=T(n,C),C.c=T(t,C);function T(W,Z){return function(re){var O=[],de=-1,ce=0,pe=W.length,K,ne,Te;for(re instanceof Date||(re=new Date(+re));++de<pe;)W.charCodeAt(de)===37&&(O.push(W.slice(ce,de)),(ne=oE[K=W.charAt(++de)])!=null?K=W.charAt(++de):ne=K==="e"?" ":"0",(Te=Z[K])&&(K=Te(re,ne)),O.push(K),ce=de+1);return O.push(W.slice(ce,de)),O.join("")}}function N(W,Z){return function(re){var O=up(1900,void 0,1),de=w(O,W,re+="",0),ce,pe;if(de!=re.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(Z&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(ce=R5(up(O.y,0,1)),pe=ce.getUTCDay(),ce=pe>4||pe===0?Ry.ceil(ce):Ry(ce),ce=kN.offset(ce,(O.V-1)*7),O.y=ce.getUTCFullYear(),O.m=ce.getUTCMonth(),O.d=ce.getUTCDate()+(O.w+6)%7):(ce=I5(up(O.y,0,1)),pe=ce.getDay(),ce=pe>4||pe===0?Iy.ceil(ce):Iy(ce),ce=_N.offset(ce,(O.V-1)*7),O.y=ce.getFullYear(),O.m=ce.getMonth(),O.d=ce.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),pe="Z"in O?R5(up(O.y,0,1)).getUTCDay():I5(up(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(pe+5)%7:O.w+O.U*7-(pe+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,R5(O)):I5(O)}}function w(W,Z,re,O){for(var de=0,ce=Z.length,pe=re.length,K,ne;de<ce;){if(O>=pe)return-1;if(K=Z.charCodeAt(de++),K===37){if(K=Z.charAt(de++),ne=S[K in oE?Z.charAt(de++):K],!ne||(O=ne(W,re,O))<0)return-1}else if(K!=re.charCodeAt(O++))return-1}return O}function _(W,Z,re){var O=u.exec(Z.slice(re));return O?(W.p=d.get(O[0].toLowerCase()),re+O[0].length):-1}function P(W,Z,re){var O=p.exec(Z.slice(re));return O?(W.w=m.get(O[0].toLowerCase()),re+O[0].length):-1}function A(W,Z,re){var O=f.exec(Z.slice(re));return O?(W.w=h.get(O[0].toLowerCase()),re+O[0].length):-1}function j(W,Z,re){var O=v.exec(Z.slice(re));return O?(W.m=b.get(O[0].toLowerCase()),re+O[0].length):-1}function F(W,Z,re){var O=g.exec(Z.slice(re));return O?(W.m=x.get(O[0].toLowerCase()),re+O[0].length):-1}function M(W,Z,re){return w(W,t,Z,re)}function H(W,Z,re){return w(W,r,Z,re)}function q(W,Z,re){return w(W,n,Z,re)}function Y(W){return s[W.getDay()]}function X(W){return i[W.getDay()]}function I(W){return c[W.getMonth()]}function J(W){return o[W.getMonth()]}function Q(W){return a[+(W.getHours()>=12)]}function E(W){return 1+~~(W.getMonth()/3)}function R(W){return s[W.getUTCDay()]}function U(W){return i[W.getUTCDay()]}function z(W){return c[W.getUTCMonth()]}function G(W){return o[W.getUTCMonth()]}function ae(W){return a[+(W.getUTCHours()>=12)]}function ee(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var Z=T(W+="",y);return Z.toString=function(){return W},Z},parse:function(W){var Z=N(W+="",!1);return Z.toString=function(){return W},Z},utcFormat:function(W){var Z=T(W+="",C);return Z.toString=function(){return W},Z},utcParse:function(W){var Z=N(W+="",!0);return Z.toString=function(){return W},Z}}}var oE={"-":"",_:" ",0:"0"},wa=/^\s*\d+/,e2e=/^%/,t2e=/[\\^$*+?|[\]().{}]/g;function Dr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function r2e(e){return e.replace(t2e,"\\$&")}function dp(e){return new RegExp("^(?:"+e.map(r2e).join("|")+")","i")}function fp(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function n2e(e,t,r){var n=wa.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function a2e(e,t,r){var n=wa.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function i2e(e,t,r){var n=wa.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function s2e(e,t,r){var n=wa.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function o2e(e,t,r){var n=wa.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function lE(e,t,r){var n=wa.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function cE(e,t,r){var n=wa.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function l2e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function c2e(e,t,r){var n=wa.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function u2e(e,t,r){var n=wa.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function uE(e,t,r){var n=wa.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function d2e(e,t,r){var n=wa.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function dE(e,t,r){var n=wa.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function f2e(e,t,r){var n=wa.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function h2e(e,t,r){var n=wa.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function p2e(e,t,r){var n=wa.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function m2e(e,t,r){var n=wa.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function g2e(e,t,r){var n=e2e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function x2e(e,t,r){var n=wa.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function v2e(e,t,r){var n=wa.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function fE(e,t){return Dr(e.getDate(),t,2)}function y2e(e,t){return Dr(e.getHours(),t,2)}function b2e(e,t){return Dr(e.getHours()%12||12,t,2)}function w2e(e,t){return Dr(1+_N.count(nd(e),e),t,3)}function qI(e,t){return Dr(e.getMilliseconds(),t,3)}function _2e(e,t){return qI(e,t)+"000"}function k2e(e,t){return Dr(e.getMonth()+1,t,2)}function S2e(e,t){return Dr(e.getMinutes(),t,2)}function N2e(e,t){return Dr(e.getSeconds(),t,2)}function j2e(e){var t=e.getDay();return t===0?7:t}function A2e(e,t){return Dr(UI.count(nd(e)-1,e),t,2)}function HI(e){var t=e.getDay();return t>=4||t===0?hh(e):hh.ceil(e)}function C2e(e,t){return e=HI(e),Dr(hh.count(nd(e),e)+(nd(e).getDay()===4),t,2)}function T2e(e){return e.getDay()}function E2e(e,t){return Dr(Iy.count(nd(e)-1,e),t,2)}function O2e(e,t){return Dr(e.getFullYear()%100,t,2)}function P2e(e,t){return e=HI(e),Dr(e.getFullYear()%100,t,2)}function D2e(e,t){return Dr(e.getFullYear()%1e4,t,4)}function $2e(e,t){var r=e.getDay();return e=r>=4||r===0?hh(e):hh.ceil(e),Dr(e.getFullYear()%1e4,t,4)}function M2e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Dr(t/60|0,"0",2)+Dr(t%60,"0",2)}function hE(e,t){return Dr(e.getUTCDate(),t,2)}function F2e(e,t){return Dr(e.getUTCHours(),t,2)}function L2e(e,t){return Dr(e.getUTCHours()%12||12,t,2)}function I2e(e,t){return Dr(1+kN.count(ad(e),e),t,3)}function zI(e,t){return Dr(e.getUTCMilliseconds(),t,3)}function R2e(e,t){return zI(e,t)+"000"}function B2e(e,t){return Dr(e.getUTCMonth()+1,t,2)}function U2e(e,t){return Dr(e.getUTCMinutes(),t,2)}function W2e(e,t){return Dr(e.getUTCSeconds(),t,2)}function q2e(e){var t=e.getUTCDay();return t===0?7:t}function H2e(e,t){return Dr(WI.count(ad(e)-1,e),t,2)}function YI(e){var t=e.getUTCDay();return t>=4||t===0?ph(e):ph.ceil(e)}function z2e(e,t){return e=YI(e),Dr(ph.count(ad(e),e)+(ad(e).getUTCDay()===4),t,2)}function Y2e(e){return e.getUTCDay()}function V2e(e,t){return Dr(Ry.count(ad(e)-1,e),t,2)}function G2e(e,t){return Dr(e.getUTCFullYear()%100,t,2)}function K2e(e,t){return e=YI(e),Dr(e.getUTCFullYear()%100,t,2)}function X2e(e,t){return Dr(e.getUTCFullYear()%1e4,t,4)}function J2e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ph(e):ph.ceil(e),Dr(e.getUTCFullYear()%1e4,t,4)}function Q2e(){return"+0000"}function pE(){return"%"}function mE(e){return+e}function gE(e){return Math.floor(+e/1e3)}var mf,VI;Z2e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Z2e(e){return mf=Zbe(e),VI=mf.format,mf.parse,mf.utcFormat,mf.utcParse,mf}function ewe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function By(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function twe(e){return e=By(Math.abs(e)),e?e[1]:NaN}function rwe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function nwe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var awe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qk(e){if(!(t=awe.exec(e)))throw new Error("invalid format: "+e);var t;return new SN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qk.prototype=SN.prototype;function SN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}SN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iwe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var GI;function swe(e,t){var r=By(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(GI=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+By(e,Math.max(0,t+i-1))[0]}function xE(e,t){var r=By(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const vE={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:ewe,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return xE(e*100,t)},r:xE,s:swe,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function yE(e){return e}var bE=Array.prototype.map,wE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function owe(e){var t=e.grouping===void 0||e.thousands===void 0?yE:rwe(bE.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal+"",i=e.numerals===void 0?yE:nwe(bE.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=qk(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,x=f.zero,v=f.width,b=f.comma,y=f.precision,C=f.trim,S=f.type;S==="n"?(b=!0,S="g"):vE[S]||(y===void 0&&(y=12),C=!0,S="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var T=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",N=g==="$"?n:/[%p]/.test(S)?s:"",w=vE[S],_=/[defgprs%]/.test(S);y=y===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function P(A){var j=T,F=N,M,H,q;if(S==="c")F=w(A)+F,A="";else{A=+A;var Y=A<0||1/A<0;if(A=isNaN(A)?c:w(Math.abs(A),y),C&&(A=iwe(A)),Y&&+A==0&&m!=="+"&&(Y=!1),j=(Y?m==="("?m:o:m==="-"||m==="("?"":m)+j,F=(S==="s"?wE[8+GI/3]:"")+F+(Y&&m==="("?")":""),_){for(M=-1,H=A.length;++M<H;)if(q=A.charCodeAt(M),48>q||q>57){F=(q===46?a+A.slice(M+1):A.slice(M))+F,A=A.slice(0,M);break}}}b&&!x&&(A=t(A,1/0));var X=j.length+A.length+F.length,I=X<v?new Array(v-X+1).join(h):"";switch(b&&x&&(A=t(I+A,I.length?v-F.length:1/0),I=""),p){case"<":A=j+A+F+I;break;case"=":A=j+I+A+F;break;case"^":A=I.slice(0,X=I.length>>1)+j+A+F+I.slice(X);break;default:A=I+j+A+F;break}return i(A)}return P.toString=function(){return f+""},P}function d(f,h){var p=u((f=qk(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(twe(h)/3)))*3,g=Math.pow(10,-m),x=wE[8+m/3];return function(v){return p(g*v)+x}}return{format:u,formatPrefix:d}}var hv,KI;lwe({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function lwe(e){return hv=owe(e),KI=hv.format,hv.formatPrefix,hv}function cwe(){}var uwe=cwe,B5=hI,dwe=uwe,fwe=dN,hwe=1/0,pwe=B5&&1/fwe(new B5([,-0]))[1]==hwe?function(e){return new B5(e)}:dwe,mwe=pwe,gwe=QS,xwe=_L,vwe=kL,ywe=ZS,bwe=mwe,wwe=dN,_we=200;function kwe(e,t,r){var n=-1,a=xwe,i=e.length,s=!0,o=[],c=o;if(r)s=!1,a=vwe;else if(i>=_we){var u=t?null:bwe(e);if(u)return wwe(u);s=!1,a=ywe,c=new gwe}else c=t?[]:o;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),o.push(d)}else a(c,f,r)||(c!==o&&c.push(f),o.push(d))}return o}var XI=kwe,Swe=XI;function Nwe(e){return e&&e.length?Swe(e):[]}var jwe=Nwe;const _E=hr(jwe);var Awe=vS,Cwe=hN,Twe=1,Ewe=2;function Owe(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var c=o[0],u=e[c],d=o[1];if(s&&o[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Awe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Cwe(d,u,Twe|Ewe,n,f):h))return!1}}return!0}var Pwe=Owe,Dwe=Ki;function $we(e){return e===e&&!Dwe(e)}var JI=$we,Mwe=JI,Fwe=fN;function Lwe(e){for(var t=Fwe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Mwe(a)]}return t}var Iwe=Lwe;function Rwe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var QI=Rwe,Bwe=Pwe,Uwe=Iwe,Wwe=QI;function qwe(e){var t=Uwe(e);return t.length==1&&t[0][2]?Wwe(t[0][0],t[0][1]):function(r){return r===e||Bwe(r,e,t)}}var Hwe=qwe,zwe=hN,Ywe=LF,Vwe=lI,Gwe=SS,Kwe=JI,Xwe=QI,Jwe=qg,Qwe=1,Zwe=2;function e5e(e,t){return Gwe(e)&&Kwe(t)?Xwe(Jwe(e),t):function(r){var n=Ywe(r,e);return n===void 0&&n===t?Vwe(r,e):zwe(t,n,Qwe|Zwe)}}var t5e=e5e;function r5e(e){return function(t){return t==null?void 0:t[e]}}var n5e=r5e,a5e=yb;function i5e(e){return function(t){return a5e(t,e)}}var s5e=i5e,o5e=n5e,l5e=s5e,c5e=SS,u5e=qg;function d5e(e){return c5e(e)?o5e(u5e(e)):l5e(e)}var f5e=d5e,h5e=Hwe,p5e=t5e,m5e=i0,g5e=vi,x5e=f5e;function v5e(e){return typeof e=="function"?e:e==null?m5e:typeof e=="object"?g5e(e)?p5e(e[0],e[1]):h5e(e):x5e(e)}var Jc=v5e,y5e=Jc,b5e=XI;function w5e(e,t){return e&&e.length?b5e(e,y5e(t)):[]}var _5e=w5e;const Hk=hr(_5e);var k5e=vF,S5e=fN;function N5e(e,t){return e&&k5e(e,t,S5e)}var ZI=N5e,j5e=a0;function A5e(e,t){return function(r,n){if(r==null)return r;if(!j5e(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var C5e=A5e,T5e=ZI,E5e=C5e,O5e=E5e(T5e),NN=O5e,P5e=NN,D5e=a0;function $5e(e,t){var r=-1,n=D5e(e)?Array(e.length):[];return P5e(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var eR=$5e;function M5e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var F5e=M5e,kE=s0;function L5e(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=kE(e),s=t!==void 0,o=t===null,c=t===t,u=kE(t);if(!o&&!u&&!i&&e>t||i&&s&&c&&!o&&!u||n&&s&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!c)return-1}return 0}var I5e=L5e,R5e=I5e;function B5e(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var c=R5e(a[n],i[n]);if(c){if(n>=o)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var U5e=B5e,U5=xb,W5e=yb,q5e=Jc,H5e=eR,z5e=F5e,Y5e=mb,V5e=U5e,G5e=i0,K5e=vi;function X5e(e,t,r){t.length?t=U5(t,function(i){return K5e(i)?function(s){return W5e(s,i.length===1?i[0]:i)}:i}):t=[G5e];var n=-1;t=U5(t,Y5e(q5e));var a=H5e(e,function(i,s,o){var c=U5(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return z5e(a,function(i,s){return V5e(i,s,r)})}var J5e=X5e,Q5e=uN,Z5e=J5e,e_e=kS,SE=Wg,t_e=e_e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&SE(e,t[0],t[1])?t=[]:r>2&&SE(t[0],t[1],t[2])&&(t=[t[0]]),Z5e(e,Q5e(t,1),[])}),r_e=t_e;const d2=hr(r_e);var n_e=Uo,a_e=no,i_e="[object Date]";function s_e(e){return a_e(e)&&n_e(e)==i_e}var o_e=s_e,l_e=o_e,c_e=mb,NE=jF,jE=NE&&NE.isDate,u_e=jE?c_e(jE):l_e,d_e=u_e;const f_e=hr(d_e);var W5=new Date,q5=new Date;function ta(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=function(i){return e(i=new Date(+i)),i},a.ceil=function(i){return e(i=new Date(i-1)),t(i,1),e(i),i},a.round=function(i){var s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=function(i,s){return t(i=new Date(+i),s==null?1:Math.floor(s)),i},a.range=function(i,s,o){var c=[],u;if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return c;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return c},a.filter=function(i){return ta(function(s){if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},function(s,o){if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););})},r&&(a.count=function(i,s){return W5.setTime(+i),q5.setTime(+s),e(W5),e(q5),Math.floor(r(W5,q5))},a.every=function(i){return i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?function(s){return n(s)%i===0}:function(s){return a.count(0,s)%i===0}):a}),a}var Rm=ta(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});Rm.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ta(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):Rm};Rm.range;var Uy=1e3,id=6e4,Wy=36e5,tR=864e5,rR=6048e5,zk=ta(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*Uy)},function(e,t){return(t-e)/Uy},function(e){return e.getUTCSeconds()});zk.range;var nR=ta(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uy)},function(e,t){e.setTime(+e+t*id)},function(e,t){return(t-e)/id},function(e){return e.getMinutes()});nR.range;var aR=ta(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uy-e.getMinutes()*id)},function(e,t){e.setTime(+e+t*Wy)},function(e,t){return(t-e)/Wy},function(e){return e.getHours()});aR.range;var jN=ta(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*id)/tR},function(e){return e.getDate()-1});jN.range;function Td(e){return ta(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*id)/rR})}var qy=Td(0),Bm=Td(1),iR=Td(2),sR=Td(3),sd=Td(4),oR=Td(5),lR=Td(6);qy.range;Bm.range;iR.range;sR.range;sd.range;oR.range;lR.range;var cR=ta(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});cR.range;var Ic=ta(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Ic.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:ta(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};Ic.range;var uR=ta(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*id)},function(e,t){return(t-e)/id},function(e){return e.getUTCMinutes()});uR.range;var dR=ta(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*Wy)},function(e,t){return(t-e)/Wy},function(e){return e.getUTCHours()});dR.range;var AN=ta(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/tR},function(e){return e.getUTCDate()-1});AN.range;function Ed(e){return ta(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/rR})}var Hy=Ed(0),Um=Ed(1),fR=Ed(2),hR=Ed(3),od=Ed(4),pR=Ed(5),mR=Ed(6);Hy.range;Um.range;fR.range;hR.range;od.range;pR.range;mR.range;var gR=ta(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});gR.range;var Rc=ta(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Rc.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:ta(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};Rc.range;function H5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function z5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hp(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function h_e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=pp(a),d=mp(a),f=pp(i),h=mp(i),p=pp(s),m=mp(s),g=pp(o),x=mp(o),v=pp(c),b=mp(c),y={a:Y,A:X,b:I,B:J,c:null,d:PE,e:PE,f:F_e,g:Y_e,G:G_e,H:D_e,I:$_e,j:M_e,L:xR,m:L_e,M:I_e,p:Q,q:E,Q:ME,s:FE,S:R_e,u:B_e,U:U_e,V:W_e,w:q_e,W:H_e,x:null,X:null,y:z_e,Y:V_e,Z:K_e,"%":$E},C={a:R,A:U,b:z,B:G,c:null,d:DE,e:DE,f:Z_e,g:cke,G:dke,H:X_e,I:J_e,j:Q_e,L:yR,m:eke,M:tke,p:ae,q:ee,Q:ME,s:FE,S:rke,u:nke,U:ake,V:ike,w:ske,W:oke,x:null,X:null,y:lke,Y:uke,Z:fke,"%":$E},S={a:P,A,b:j,B:F,c:M,d:EE,e:EE,f:T_e,g:TE,G:CE,H:OE,I:OE,j:N_e,L:C_e,m:S_e,M:j_e,p:_,q:k_e,Q:O_e,s:P_e,S:A_e,u:v_e,U:y_e,V:b_e,w:x_e,W:w_e,x:H,X:q,y:TE,Y:CE,Z:__e,"%":E_e};y.x=T(r,y),y.X=T(n,y),y.c=T(t,y),C.x=T(r,C),C.X=T(n,C),C.c=T(t,C);function T(W,Z){return function(re){var O=[],de=-1,ce=0,pe=W.length,K,ne,Te;for(re instanceof Date||(re=new Date(+re));++de<pe;)W.charCodeAt(de)===37&&(O.push(W.slice(ce,de)),(ne=AE[K=W.charAt(++de)])!=null?K=W.charAt(++de):ne=K==="e"?" ":"0",(Te=Z[K])&&(K=Te(re,ne)),O.push(K),ce=de+1);return O.push(W.slice(ce,de)),O.join("")}}function N(W,Z){return function(re){var O=hp(1900,void 0,1),de=w(O,W,re+="",0),ce,pe;if(de!=re.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(Z&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(ce=z5(hp(O.y,0,1)),pe=ce.getUTCDay(),ce=pe>4||pe===0?Um.ceil(ce):Um(ce),ce=AN.offset(ce,(O.V-1)*7),O.y=ce.getUTCFullYear(),O.m=ce.getUTCMonth(),O.d=ce.getUTCDate()+(O.w+6)%7):(ce=H5(hp(O.y,0,1)),pe=ce.getDay(),ce=pe>4||pe===0?Bm.ceil(ce):Bm(ce),ce=jN.offset(ce,(O.V-1)*7),O.y=ce.getFullYear(),O.m=ce.getMonth(),O.d=ce.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),pe="Z"in O?z5(hp(O.y,0,1)).getUTCDay():H5(hp(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(pe+5)%7:O.w+O.U*7-(pe+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,z5(O)):H5(O)}}function w(W,Z,re,O){for(var de=0,ce=Z.length,pe=re.length,K,ne;de<ce;){if(O>=pe)return-1;if(K=Z.charCodeAt(de++),K===37){if(K=Z.charAt(de++),ne=S[K in AE?Z.charAt(de++):K],!ne||(O=ne(W,re,O))<0)return-1}else if(K!=re.charCodeAt(O++))return-1}return O}function _(W,Z,re){var O=u.exec(Z.slice(re));return O?(W.p=d.get(O[0].toLowerCase()),re+O[0].length):-1}function P(W,Z,re){var O=p.exec(Z.slice(re));return O?(W.w=m.get(O[0].toLowerCase()),re+O[0].length):-1}function A(W,Z,re){var O=f.exec(Z.slice(re));return O?(W.w=h.get(O[0].toLowerCase()),re+O[0].length):-1}function j(W,Z,re){var O=v.exec(Z.slice(re));return O?(W.m=b.get(O[0].toLowerCase()),re+O[0].length):-1}function F(W,Z,re){var O=g.exec(Z.slice(re));return O?(W.m=x.get(O[0].toLowerCase()),re+O[0].length):-1}function M(W,Z,re){return w(W,t,Z,re)}function H(W,Z,re){return w(W,r,Z,re)}function q(W,Z,re){return w(W,n,Z,re)}function Y(W){return s[W.getDay()]}function X(W){return i[W.getDay()]}function I(W){return c[W.getMonth()]}function J(W){return o[W.getMonth()]}function Q(W){return a[+(W.getHours()>=12)]}function E(W){return 1+~~(W.getMonth()/3)}function R(W){return s[W.getUTCDay()]}function U(W){return i[W.getUTCDay()]}function z(W){return c[W.getUTCMonth()]}function G(W){return o[W.getUTCMonth()]}function ae(W){return a[+(W.getUTCHours()>=12)]}function ee(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var Z=T(W+="",y);return Z.toString=function(){return W},Z},parse:function(W){var Z=N(W+="",!1);return Z.toString=function(){return W},Z},utcFormat:function(W){var Z=T(W+="",C);return Z.toString=function(){return W},Z},utcParse:function(W){var Z=N(W+="",!0);return Z.toString=function(){return W},Z}}}var AE={"-":"",_:" ",0:"0"},_a=/^\s*\d+/,p_e=/^%/,m_e=/[\\^$*+?|[\]().{}]/g;function $r(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function g_e(e){return e.replace(m_e,"\\$&")}function pp(e){return new RegExp("^(?:"+e.map(g_e).join("|")+")","i")}function mp(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function x_e(e,t,r){var n=_a.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function v_e(e,t,r){var n=_a.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function y_e(e,t,r){var n=_a.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function b_e(e,t,r){var n=_a.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function w_e(e,t,r){var n=_a.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function CE(e,t,r){var n=_a.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function TE(e,t,r){var n=_a.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function __e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function k_e(e,t,r){var n=_a.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function S_e(e,t,r){var n=_a.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function EE(e,t,r){var n=_a.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function N_e(e,t,r){var n=_a.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function OE(e,t,r){var n=_a.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function j_e(e,t,r){var n=_a.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function A_e(e,t,r){var n=_a.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function C_e(e,t,r){var n=_a.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function T_e(e,t,r){var n=_a.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function E_e(e,t,r){var n=p_e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function O_e(e,t,r){var n=_a.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function P_e(e,t,r){var n=_a.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function PE(e,t){return $r(e.getDate(),t,2)}function D_e(e,t){return $r(e.getHours(),t,2)}function $_e(e,t){return $r(e.getHours()%12||12,t,2)}function M_e(e,t){return $r(1+jN.count(Ic(e),e),t,3)}function xR(e,t){return $r(e.getMilliseconds(),t,3)}function F_e(e,t){return xR(e,t)+"000"}function L_e(e,t){return $r(e.getMonth()+1,t,2)}function I_e(e,t){return $r(e.getMinutes(),t,2)}function R_e(e,t){return $r(e.getSeconds(),t,2)}function B_e(e){var t=e.getDay();return t===0?7:t}function U_e(e,t){return $r(qy.count(Ic(e)-1,e),t,2)}function vR(e){var t=e.getDay();return t>=4||t===0?sd(e):sd.ceil(e)}function W_e(e,t){return e=vR(e),$r(sd.count(Ic(e),e)+(Ic(e).getDay()===4),t,2)}function q_e(e){return e.getDay()}function H_e(e,t){return $r(Bm.count(Ic(e)-1,e),t,2)}function z_e(e,t){return $r(e.getFullYear()%100,t,2)}function Y_e(e,t){return e=vR(e),$r(e.getFullYear()%100,t,2)}function V_e(e,t){return $r(e.getFullYear()%1e4,t,4)}function G_e(e,t){var r=e.getDay();return e=r>=4||r===0?sd(e):sd.ceil(e),$r(e.getFullYear()%1e4,t,4)}function K_e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$r(t/60|0,"0",2)+$r(t%60,"0",2)}function DE(e,t){return $r(e.getUTCDate(),t,2)}function X_e(e,t){return $r(e.getUTCHours(),t,2)}function J_e(e,t){return $r(e.getUTCHours()%12||12,t,2)}function Q_e(e,t){return $r(1+AN.count(Rc(e),e),t,3)}function yR(e,t){return $r(e.getUTCMilliseconds(),t,3)}function Z_e(e,t){return yR(e,t)+"000"}function eke(e,t){return $r(e.getUTCMonth()+1,t,2)}function tke(e,t){return $r(e.getUTCMinutes(),t,2)}function rke(e,t){return $r(e.getUTCSeconds(),t,2)}function nke(e){var t=e.getUTCDay();return t===0?7:t}function ake(e,t){return $r(Hy.count(Rc(e)-1,e),t,2)}function bR(e){var t=e.getUTCDay();return t>=4||t===0?od(e):od.ceil(e)}function ike(e,t){return e=bR(e),$r(od.count(Rc(e),e)+(Rc(e).getUTCDay()===4),t,2)}function ske(e){return e.getUTCDay()}function oke(e,t){return $r(Um.count(Rc(e)-1,e),t,2)}function lke(e,t){return $r(e.getUTCFullYear()%100,t,2)}function cke(e,t){return e=bR(e),$r(e.getUTCFullYear()%100,t,2)}function uke(e,t){return $r(e.getUTCFullYear()%1e4,t,4)}function dke(e,t){var r=e.getUTCDay();return e=r>=4||r===0?od(e):od.ceil(e),$r(e.getUTCFullYear()%1e4,t,4)}function fke(){return"+0000"}function $E(){return"%"}function ME(e){return+e}function FE(e){return Math.floor(+e/1e3)}var gf,wR,_R;hke({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hke(e){return gf=h_e(e),gf.format,wR=gf.parse,gf.utcFormat,_R=gf.utcParse,gf}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_u.apply(this,arguments)}var xf=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],pke={millisecond:[],second:xf.slice(0,1),minute:xf.slice(0,2),hour:xf.slice(0,3),day:xf.slice(0,4),month:xf.slice(0,5),year:xf.slice(0,6)},mke=function(e){return function(t){return pke[e].forEach(function(r){r(t)}),t}},kR=function(e){var t=e.format,r=t===void 0?"native":t,n=e.precision,a=n===void 0?"millisecond":n,i=e.useUTC,s=i===void 0||i,o=mke(a);return function(c){if(c===void 0)return c;if(r==="native"||c instanceof Date)return o(c);var u=s?_R(r):wR(r);return o(u(c))}},gke=function(e,t,r,n){var a,i,s,o,c=e.min,u=c===void 0?0:c,d=e.max,f=d===void 0?"auto":d,h=e.stacked,p=h!==void 0&&h,m=e.reverse,g=m!==void 0&&m,x=e.clamp,v=x!==void 0&&x,b=e.nice,y=b!==void 0&&b;u==="auto"?a=p===!0?(i=t.minStacked)!=null?i:0:t.min:a=u,f==="auto"?s=p===!0?(o=t.maxStacked)!=null?o:0:t.max:s=f;var C=Im().rangeRound(n==="x"?[0,r]:[r,0]).domain(g?[s,a]:[a,s]).clamp(v);return y===!0?C.nice():typeof y=="number"&&C.nice(y),xke(C,p)},xke=function(e,t){t===void 0&&(t=!1);var r=e;return r.type="linear",r.stacked=t,r},vke=function(e,t,r){var n=Wf().range([0,r]).domain(t.all);return n.type="point",n},yke=function(e,t,r,n){var a=e.round,i=a===void 0||a,s=sh().range(n==="x"?[0,r]:[r,0]).domain(t.all).round(i);return bke(s)},bke=function(e){var t=e;return t.type="band",t},wke=function(e,t,r){var n,a,i=e.format,s=i===void 0?"native":i,o=e.precision,c=o===void 0?"millisecond":o,u=e.min,d=u===void 0?"auto":u,f=e.max,h=f===void 0?"auto":f,p=e.useUTC,m=p===void 0||p,g=e.nice,x=g!==void 0&&g,v=kR({format:s,precision:c,useUTC:m});n=d==="auto"?v(t.min):s!=="native"?v(d):d,a=h==="auto"?v(t.max):s!=="native"?v(h):h;var b=m?hL():fL();b.range([0,r]),n&&a&&b.domain([n,a]),x===!0?b.nice():typeof x!="object"&&typeof x!="number"||b.nice(x);var y=b;return y.type="time",y.useUTC=m,y},_ke=function(e,t,r,n){var a,i=e.base,s=i===void 0?10:i,o=e.min,c=o===void 0?"auto":o,u=e.max,d=u===void 0?"auto":u;if(t.all.some(function(g){return g===0}))throw new Error("a log scale domain must not include or cross zero");var f,h,p=!1;if(t.all.filter(function(g){return g!=null}).forEach(function(g){p||(a===void 0?a=Math.sign(g):Math.sign(g)!==a&&(p=!0))}),p)throw new Error("a log scale domain must be strictly-positive or strictly-negative");f=c==="auto"?t.min:c,h=d==="auto"?t.max:d;var m=LS().domain([f,h]).rangeRound(n==="x"?[0,r]:[r,0]).base(s).nice();return m.type="log",m},kke=function(e,t,r,n){var a,i,s=e.constant,o=s===void 0?1:s,c=e.min,u=c===void 0?"auto":c,d=e.max,f=d===void 0?"auto":d,h=e.reverse,p=h!==void 0&&h;a=u==="auto"?t.min:u,i=f==="auto"?t.max:f;var m=RS().constant(o).rangeRound(n==="x"?[0,r]:[r,0]).nice();p===!0?m.domain([i,a]):m.domain([a,i]);var g=m;return g.type="symlog",g},Ske=function(e){return e==="x"?"y":"x"},Nke=function(e,t){return e===t},jke=function(e,t){return e.getTime()===t.getTime()};function LE(e,t,r,n){switch(e.type){case"linear":return gke(e,t,r,n);case"point":return vke(e,t,r);case"band":return yke(e,t,r,n);case"time":return wke(e,t,r);case"log":return _ke(e,t,r,n);case"symlog":return kke(e,t,r,n);default:throw new Error("invalid scale spec")}}var IE=function(e,t,r){var n;if("stacked"in r&&r.stacked){var a=e.data[t==="x"?"xStacked":"yStacked"];return a==null?null:r(a)}return(n=r(e.data[t]))!=null?n:null},Ake=function(e,t,r,n,a){var i=e.map(function(d){return function(f){return _u({},f,{data:f.data.map(function(h){return{data:_u({},h)}})})}(d)}),s=Cke(i,t,r);"stacked"in t&&t.stacked===!0&&Tke(s,i),"stacked"in r&&r.stacked===!0&&Eke(s,i);var o=LE(t,s.x,n,"x"),c=LE(r,s.y,a,"y"),u=i.map(function(d){return _u({},d,{data:d.data.map(function(f){return _u({},f,{position:{x:IE(f,"x",o),y:IE(f,"y",c)}})})})});return _u({},s,{series:u,xScale:o,yScale:c})},Cke=function(e,t,r){return{x:RE(e,"x",t),y:RE(e,"y",r)}},RE=function(e,t,r,n){var a={},i=a.getValue,s=i===void 0?function(m){return m.data[t]}:i,o=a.setValue,c=o===void 0?function(m,g){m.data[t]=g}:o;if(r.type==="linear")e.forEach(function(m){m.data.forEach(function(g){var x=s(g);x&&c(g,parseFloat(String(x)))})});else if(r.type==="time"&&r.format!=="native"){var u=kR(r);e.forEach(function(m){m.data.forEach(function(g){var x=s(g);x&&c(g,u(x))})})}var d=[];switch(e.forEach(function(m){m.data.forEach(function(g){d.push(s(g))})}),r.type){case"linear":var f=d2(_E(d).filter(function(m){return m!==null}),function(m){return m});return{all:f,min:Math.min.apply(Math,f),max:Math.max.apply(Math,f)};case"time":var h=Hk(d,function(m){return m.getTime()}).slice(0).sort(function(m,g){return g.getTime()-m.getTime()}).reverse();return{all:h,min:h[0],max:$t(h)};default:var p=_E(d);return{all:p,min:p[0],max:$t(p)}}},SR=function(e,t,r){var n=Ske(e),a=[];t[n].all.forEach(function(i){var s=f_e(i)?jke:Nke,o=[];r.forEach(function(c){var u=c.data.find(function(p){return s(p.data[n],i)}),d=null,f=null;if(u!==void 0){if((d=u.data[e])!==null){var h=$t(o);h===void 0?f=d:h!==null&&(f=h+d)}u.data[e==="x"?"xStacked":"yStacked"]=f}o.push(f),f!==null&&a.push(f)})}),t[e].minStacked=Math.min.apply(Math,a),t[e].maxStacked=Math.max.apply(Math,a)},Tke=function(e,t){return SR("x",e,t)},Eke=function(e,t){return SR("y",e,t)},NR=function(e){var t=e.bandwidth();if(t===0)return e;var r=t/2;return e.round()&&(r=Math.round(r)),function(n){var a;return((a=e(n))!=null?a:0)+r}},jR={millisecond:[Rm,Rm],second:[zk,zk],minute:[nR,uR],hour:[aR,dR],day:[ta(function(e){return e.setHours(0,0,0,0)},function(e,t){return e.setDate(e.getDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)}),ta(function(e){return e.setUTCHours(0,0,0,0)},function(e,t){return e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)})],week:[qy,Hy],sunday:[qy,Hy],monday:[Bm,Um],tuesday:[iR,fR],wednesday:[sR,hR],thursday:[sd,od],friday:[oR,pR],saturday:[lR,mR],month:[cR,gR],year:[Ic,Rc]},Oke=Object.keys(jR),Pke=new RegExp("^every\\s*(\\d+)?\\s*("+Oke.join("|")+")s?$","i"),AR=function(e,t){if(Array.isArray(t))return t;if(typeof t=="string"&&"useUTC"in e){var r=t.match(Pke);if(r){var n=r[1],a=r[2],i=jR[a][e.useUTC?1:0];if(a==="day"){var s,o,c=e.domain(),u=c[0],d=c[1],f=new Date(d);return f.setDate(f.getDate()+1),(s=(o=i.every(Number(n??1)))==null?void 0:o.range(u,f))!=null?s:[]}if(n===void 0)return e.ticks(i);var h=i.every(Number(n));if(h)return e.ticks(h)}throw new Error("Invalid tickValues: "+t)}if("ticks"in e){if(t===void 0)return e.ticks();if(typeof(p=t)=="number"&&isFinite(p)&&Math.floor(p)===p)return e.ticks(t)}var p;return e.domain()};function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ys.apply(this,arguments)}var CR=function(e){var t,r=e.axis,n=e.scale,a=e.ticksPosition,i=e.tickValues,s=e.tickSize,o=e.tickPadding,c=e.tickRotation,u=e.truncateTickAt,d=e.engine,f=d===void 0?"svg":d,h=AR(n,i),p=gbe[f],m="bandwidth"in n?NR(n):n,g={lineX:0,lineY:0},x={textX:0,textY:0},v=typeof document=="object"&&document.dir==="rtl",b=p.align.center,y=p.baseline.center;return r==="x"?(t=function(C){var S;return{x:(S=m(C))!=null?S:0,y:0}},g.lineY=s*(a==="after"?1:-1),x.textY=(s+o)*(a==="after"?1:-1),y=a==="after"?p.baseline.top:p.baseline.bottom,c===0?b=p.align.center:a==="after"&&c<0||a==="before"&&c>0?(b=p.align[v?"left":"right"],y=p.baseline.center):(a==="after"&&c>0||a==="before"&&c<0)&&(b=p.align[v?"right":"left"],y=p.baseline.center)):(t=function(C){var S;return{x:0,y:(S=m(C))!=null?S:0}},g.lineX=s*(a==="after"?1:-1),x.textX=(s+o)*(a==="after"?1:-1),b=a==="after"?p.align.left:p.align.right),{ticks:h.map(function(C){var S=typeof C=="string"?function(T){var N=String(T).length;return u&&u>0&&N>u?""+String(T).slice(0,u).concat("..."):""+T}(C):C;return ys({key:C instanceof Date?""+C.valueOf():""+C,value:S},t(C),g,x)}),textAlign:b,textBaseline:y}},TR=function(e,t){if(e===void 0||typeof e=="function")return e;if(t.type==="time"){var r=VI(e);return function(n){return r(n instanceof Date?n:new Date(n))}}return KI(e)},Yk=function(e){var t,r=e.width,n=e.height,a=e.scale,i=e.axis,s=e.values,o=(t=s,(Array.isArray(t)?s:void 0)||AR(a,s)),c="bandwidth"in a?NR(a):a,u=i==="x"?o.map(function(d){var f,h;return{key:d instanceof Date?""+d.valueOf():""+d,x1:(f=c(d))!=null?f:0,x2:(h=c(d))!=null?h:0,y1:0,y2:n}}):o.map(function(d){var f,h;return{key:d instanceof Date?""+d.valueOf():""+d,x1:0,x2:r,y1:(f=c(d))!=null?f:0,y2:(h=c(d))!=null?h:0}});return u},Dke=L.memo(function(e){var t,r=e.value,n=e.format,a=e.lineX,i=e.lineY,s=e.onClick,o=e.textBaseline,c=e.textAnchor,u=e.animatedProps,d=zn(),f=d.axis.ticks.line,h=d.axis.ticks.text,p=(t=n==null?void 0:n(r))!=null?t:r,m=L.useMemo(function(){var g={opacity:u.opacity};return s?{style:ys({},g,{cursor:"pointer"}),onClick:function(x){return s(x,p)}}:{style:g}},[u.opacity,s,p]);return l.jsxs(Pa.g,ys({transform:u.transform},m,{children:[l.jsx("line",{x1:0,x2:a,y1:0,y2:i,style:f}),h.outlineWidth>0&&l.jsx(Pa.text,{dominantBaseline:o,textAnchor:c,transform:u.textTransform,style:h,strokeWidth:2*h.outlineWidth,stroke:h.outlineColor,strokeLinejoin:"round",children:""+p}),l.jsx(Pa.text,{dominantBaseline:o,textAnchor:c,transform:u.textTransform,style:gN(h),children:""+p})]}))}),$ke=function(e){var t=e.axis,r=e.scale,n=e.x,a=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.length,c=e.ticksPosition,u=e.tickValues,d=e.tickSize,f=d===void 0?5:d,h=e.tickPadding,p=h===void 0?5:h,m=e.tickRotation,g=m===void 0?0:m,x=e.format,v=e.renderTick,b=v===void 0?Dke:v,y=e.truncateTickAt,C=e.legend,S=e.legendPosition,T=S===void 0?"end":S,N=e.legendOffset,w=N===void 0?0:N,_=e.onClick,P=e.ariaHidden,A=zn(),j=A.axis.legend.text,F=L.useMemo(function(){return TR(x,r)},[x,r]),M=CR({axis:t,scale:r,ticksPosition:c,tickValues:u,tickSize:f,tickPadding:p,tickRotation:g,truncateTickAt:y}),H=M.ticks,q=M.textAlign,Y=M.textBaseline,X=null;if(C!==void 0){var I,J=0,Q=0,E=0;t==="y"?(E=-90,J=w,T==="start"?(I="start",Q=o):T==="middle"?(I="middle",Q=o/2):T==="end"&&(I="end")):(Q=w,T==="start"?I="start":T==="middle"?(I="middle",J=o/2):T==="end"&&(I="end",J=o)),X=l.jsxs(l.Fragment,{children:[j.outlineWidth>0&&l.jsx("text",{transform:"translate("+J+", "+Q+") rotate("+E+")",textAnchor:I,style:ys({dominantBaseline:"central"},j),strokeWidth:2*j.outlineWidth,stroke:j.outlineColor,strokeLinejoin:"round",children:C}),l.jsx("text",{transform:"translate("+J+", "+Q+") rotate("+E+")",textAnchor:I,style:ys({dominantBaseline:"central"},j),children:C})]})}var R=Wo(),U=R.animate,z=R.config,G=Jh({transform:"translate("+a+","+s+")",lineX2:t==="x"?o:0,lineY2:t==="x"?0:o,config:z,immediate:!U}),ae=L.useCallback(function(Z){return{opacity:1,transform:"translate("+Z.x+","+Z.y+")",textTransform:"translate("+Z.textX+","+Z.textY+") rotate("+g+")"}},[g]),ee=L.useCallback(function(Z){return{opacity:0,transform:"translate("+Z.x+","+Z.y+")",textTransform:"translate("+Z.textX+","+Z.textY+") rotate("+g+")"}},[g]),W=Ig(H,{keys:function(Z){return Z.key},initial:ae,from:ee,enter:ae,update:ae,leave:{opacity:0},config:z,immediate:!U});return l.jsxs(Pa.g,{transform:G.transform,"aria-hidden":P,children:[W(function(Z,re,O,de){return L.createElement(b,ys({tickIndex:de,format:F,rotate:g,textBaseline:Y,textAnchor:q,truncateTickAt:y,animatedProps:Z},re,_?{onClick:_}:{}))}),l.jsx(Pa.line,{style:A.axis.domain.line,x1:0,x2:G.lineX2,y1:0,y2:G.lineY2}),X]})},Mke=L.memo($ke),ER=["top","right","bottom","left"],Fke=L.memo(function(e){var t=e.xScale,r=e.yScale,n=e.width,a=e.height,i={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return l.jsx(l.Fragment,{children:ER.map(function(s){var o=i[s];if(!o)return null;var c=s==="top"||s==="bottom";return l.jsx(Mke,ys({},o,{axis:c?"x":"y",x:s==="right"?n:0,y:s==="bottom"?a:0,scale:c?t:r,length:c?n:a,ticksPosition:s==="top"||s==="left"?"before":"after",truncateTickAt:o.truncateTickAt}),s)})})}),Lke=L.memo(function(e){var t=e.animatedProps,r=zn();return l.jsx(Pa.line,ys({},t,r.grid.line))}),BE=L.memo(function(e){var t=e.lines,r=Wo(),n=r.animate,a=r.config,i=Ig(t,{keys:function(s){return s.key},initial:function(s){return{opacity:1,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2}},from:function(s){return{opacity:0,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2}},enter:function(s){return{opacity:1,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2}},update:function(s){return{opacity:1,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2}},leave:{opacity:0},config:a,immediate:!n});return l.jsx("g",{children:i(function(s,o){return L.createElement(Lke,ys({},o,{key:o.key,animatedProps:s}))})})}),Ike=L.memo(function(e){var t=e.width,r=e.height,n=e.xScale,a=e.yScale,i=e.xValues,s=e.yValues,o=L.useMemo(function(){return!!n&&Yk({width:t,height:r,scale:n,axis:"x",values:i})},[n,i,t,r]),c=L.useMemo(function(){return!!a&&Yk({width:t,height:r,scale:a,axis:"y",values:s})},[r,t,a,s]);return l.jsxs(l.Fragment,{children:[o&&l.jsx(BE,{lines:o}),c&&l.jsx(BE,{lines:c})]})}),Rke=function(e,t){var r,n=t.axis,a=t.scale,i=t.x,s=i===void 0?0:i,o=t.y,c=o===void 0?0:o,u=t.length,d=t.ticksPosition,f=t.tickValues,h=t.tickSize,p=h===void 0?5:h,m=t.tickPadding,g=m===void 0?5:m,x=t.tickRotation,v=x===void 0?0:x,b=t.format,y=t.legend,C=t.legendPosition,S=C===void 0?"end":C,T=t.legendOffset,N=T===void 0?0:T,w=t.theme,_=CR({axis:n,scale:a,ticksPosition:d,tickValues:f,tickSize:p,tickPadding:g,tickRotation:v,engine:"canvas"}),P=_.ticks,A=_.textAlign,j=_.textBaseline;e.save(),e.translate(s,c),e.textAlign=A,e.textBaseline=j;var F=w.axis.ticks.text;e.font=(F.fontWeight?F.fontWeight+" ":"")+F.fontSize+"px "+F.fontFamily,((r=w.axis.domain.line.strokeWidth)!=null?r:0)>0&&(e.lineWidth=Number(w.axis.domain.line.strokeWidth),e.lineCap="square",w.axis.domain.line.stroke&&(e.strokeStyle=w.axis.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo(n==="x"?u:0,n==="x"?0:u),e.stroke());var M=typeof b=="function"?b:function(I){return""+I};if(P.forEach(function(I){var J;((J=w.axis.ticks.line.strokeWidth)!=null?J:0)>0&&(e.lineWidth=Number(w.axis.ticks.line.strokeWidth),e.lineCap="square",w.axis.ticks.line.stroke&&(e.strokeStyle=w.axis.ticks.line.stroke),e.beginPath(),e.moveTo(I.x,I.y),e.lineTo(I.x+I.lineX,I.y+I.lineY),e.stroke());var Q=M(I.value);e.save(),e.translate(I.x+I.textX,I.y+I.textY),e.rotate(Gs(v)),F.outlineWidth>0&&(e.strokeStyle=F.outlineColor,e.lineWidth=2*F.outlineWidth,e.lineJoin="round",e.strokeText(""+Q,0,0)),w.axis.ticks.text.fill&&(e.fillStyle=F.fill),e.fillText(""+Q,0,0),e.restore()}),y!==void 0){var H=0,q=0,Y=0,X="center";n==="y"?(Y=-90,H=N,S==="start"?(X="start",q=u):S==="middle"?(X="center",q=u/2):S==="end"&&(X="end")):(q=N,S==="start"?X="start":S==="middle"?(X="center",H=u/2):S==="end"&&(X="end",H=u)),e.translate(H,q),e.rotate(Gs(Y)),e.font=(w.axis.legend.text.fontWeight?w.axis.legend.text.fontWeight+" ":"")+w.axis.legend.text.fontSize+"px "+w.axis.legend.text.fontFamily,w.axis.legend.text.fill&&(e.fillStyle=w.axis.legend.text.fill),e.textAlign=X,e.textBaseline="middle",e.fillText(y,0,0)}e.restore()},Bke=function(e,t){var r=t.xScale,n=t.yScale,a=t.width,i=t.height,s=t.top,o=t.right,c=t.bottom,u=t.left,d=t.theme,f={top:s,right:o,bottom:c,left:u};ER.forEach(function(h){var p=f[h];if(!p)return null;var m=h==="top"||h==="bottom",g=h==="top"||h==="left"?"before":"after",x=m?r:n,v=TR(p.format,x);Rke(e,ys({},p,{axis:m?"x":"y",x:h==="right"?a:0,y:h==="bottom"?i:0,scale:x,format:v,length:m?a:i,ticksPosition:g,theme:d}))})},UE=function(e,t){var r=t.width,n=t.height,a=t.scale,i=t.axis,s=t.values;Yk({width:r,height:n,scale:a,axis:i,values:s}).forEach(function(o){e.beginPath(),e.moveTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.stroke()})},Uke=function(e){var t=e.x,r=e.y,n=e.size,a=e.fill,i=e.opacity,s=i===void 0?1:i,o=e.borderWidth,c=o===void 0?0:o,u=e.borderColor;return l.jsx("circle",{r:n/2,cx:t+n/2,cy:r+n/2,fill:a,opacity:s,strokeWidth:c,stroke:u===void 0?"transparent":u,style:{pointerEvents:"none"}})},Wke=function(e){var t=e.x,r=e.y,n=e.size,a=e.fill,i=e.opacity,s=i===void 0?1:i,o=e.borderWidth,c=o===void 0?0:o,u=e.borderColor;return l.jsx("g",{transform:"translate("+t+","+r+")",children:l.jsx("path",{d:`
                    M`+n/2+` 0
                    L`+.8*n+" "+n/2+`
                    L`+n/2+" "+n+`
                    L`+.2*n+" "+n/2+`
                    L`+n/2+` 0
                `,fill:a,opacity:s,strokeWidth:c,stroke:u===void 0?"transparent":u,style:{pointerEvents:"none"}})})},qke=function(e){var t=e.x,r=e.y,n=e.size,a=e.fill,i=e.opacity,s=i===void 0?1:i,o=e.borderWidth,c=o===void 0?0:o,u=e.borderColor;return l.jsx("rect",{x:t,y:r,fill:a,opacity:s,strokeWidth:c,stroke:u===void 0?"transparent":u,width:n,height:n,style:{pointerEvents:"none"}})},Hke=function(e){var t=e.x,r=e.y,n=e.size,a=e.fill,i=e.opacity,s=i===void 0?1:i,o=e.borderWidth,c=o===void 0?0:o,u=e.borderColor;return l.jsx("g",{transform:"translate("+t+","+r+")",children:l.jsx("path",{d:`
                M`+n/2+` 0
                L`+n+" "+n+`
                L0 `+n+`
                L`+n/2+` 0
            `,fill:a,opacity:s,strokeWidth:c,stroke:u===void 0?"transparent":u,style:{pointerEvents:"none"}})})};function Eu(){return Eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eu.apply(this,arguments)}var zke={top:0,right:0,bottom:0,left:0},CN=function(e){var t,r=e.direction,n=e.itemsSpacing,a=e.padding,i=e.itemCount,s=e.itemWidth,o=e.itemHeight;if(typeof a!="number"&&(typeof(t=a)!="object"||Array.isArray(t)||t===null))throw new Error("Invalid property padding, must be one of: number, object");var c=typeof a=="number"?{top:a,right:a,bottom:a,left:a}:Eu({},zke,a),u=c.left+c.right,d=c.top+c.bottom,f=s+u,h=o+d,p=(i-1)*n;return r==="row"?f=s*i+p+u:r==="column"&&(h=o*i+p+d),{width:f,height:h,padding:c}},OR=function(e){var t=e.anchor,r=e.translateX,n=e.translateY,a=e.containerWidth,i=e.containerHeight,s=e.width,o=e.height,c=r,u=n;switch(t){case"top":c+=(a-s)/2;break;case"top-right":c+=a-s;break;case"right":c+=a-s,u+=(i-o)/2;break;case"bottom-right":c+=a-s,u+=i-o;break;case"bottom":c+=(a-s)/2,u+=i-o;break;case"bottom-left":u+=i-o;break;case"left":u+=(i-o)/2;break;case"center":c+=(a-s)/2,u+=(i-o)/2}return{x:c,y:u}},PR=function(e){var t,r,n,a,i,s,o=e.direction,c=e.justify,u=e.symbolSize,d=e.symbolSpacing,f=e.width,h=e.height;switch(o){case"left-to-right":t=0,r=(h-u)/2,a=h/2,s="central",c?(n=f,i="end"):(n=u+d,i="start");break;case"right-to-left":t=f-u,r=(h-u)/2,a=h/2,s="central",c?(n=0,i="start"):(n=f-u-d,i="end");break;case"top-to-bottom":t=(f-u)/2,r=0,n=f/2,i="middle",c?(a=h,s="alphabetic"):(a=u+d,s="text-before-edge");break;case"bottom-to-top":t=(f-u)/2,r=h-u,n=f/2,i="middle",c?(a=0,s="text-before-edge"):(a=h-u-d,s="alphabetic")}return{symbolX:t,symbolY:r,labelX:n,labelY:a,labelAnchor:i,labelAlignment:s}},Yke={circle:Uke,diamond:Wke,square:qke,triangle:Hke},Vke=function(e){var t,r,n,a,i,s,o,c,u,d,f,h=e.x,p=e.y,m=e.width,g=e.height,x=e.data,v=e.direction,b=v===void 0?"left-to-right":v,y=e.justify,C=y!==void 0&&y,S=e.textColor,T=e.background,N=T===void 0?"transparent":T,w=e.opacity,_=w===void 0?1:w,P=e.symbolShape,A=P===void 0?"square":P,j=e.symbolSize,F=j===void 0?16:j,M=e.symbolSpacing,H=M===void 0?8:M,q=e.symbolBorderWidth,Y=q===void 0?0:q,X=e.symbolBorderColor,I=X===void 0?"transparent":X,J=e.onClick,Q=e.onMouseEnter,E=e.onMouseLeave,R=e.toggleSerie,U=e.effects,z=L.useState({}),G=z[0],ae=z[1],ee=zn(),W=L.useCallback(function($e){if(U){var Pe=U.filter(function(Fe){return Fe.on==="hover"}).reduce(function(Fe,ve){return Eu({},Fe,ve.style)},{});ae(Pe)}Q==null||Q(x,$e)},[Q,x,U]),Z=L.useCallback(function($e){if(U){var Pe=U.filter(function(Fe){return Fe.on!=="hover"}).reduce(function(Fe,ve){return Eu({},Fe,ve.style)},{});ae(Pe)}E==null||E(x,$e)},[E,x,U]),re=PR({direction:b,justify:C,symbolSize:(t=G.symbolSize)!=null?t:F,symbolSpacing:H,width:m,height:g}),O=re.symbolX,de=re.symbolY,ce=re.labelX,pe=re.labelY,K=re.labelAnchor,ne=re.labelAlignment,Te=[J,Q,E,R].some(function($e){return $e!==void 0}),Ee=typeof A=="function"?A:Yke[A];return l.jsxs("g",{transform:"translate("+h+","+p+")",style:{opacity:(r=G.itemOpacity)!=null?r:_},children:[l.jsx("rect",{width:m,height:g,fill:(n=G.itemBackground)!=null?n:N,style:{cursor:Te?"pointer":"auto"},onClick:function($e){J==null||J(x,$e),R==null||R(x.id)},onMouseEnter:W,onMouseLeave:Z}),L.createElement(Ee,Eu({id:x.id,x:O,y:de,size:(a=G.symbolSize)!=null?a:F,fill:(i=(s=x.fill)!=null?s:x.color)!=null?i:"black",borderWidth:(o=G.symbolBorderWidth)!=null?o:Y,borderColor:(c=G.symbolBorderColor)!=null?c:I},x.hidden?ee.legends.hidden.symbol:void 0)),l.jsx("text",{textAnchor:K,style:Eu({},gN(ee.legends.text),{fill:(u=(d=(f=G.itemTextColor)!=null?f:S)!=null?d:ee.legends.text.fill)!=null?u:"black",dominantBaseline:ne,pointerEvents:"none",userSelect:"none"},x.hidden?ee.legends.hidden.text:void 0),x:ce,y:pe,children:x.label})]})},Gke=function(e){var t=e.data,r=e.x,n=e.y,a=e.direction,i=e.padding,s=i===void 0?0:i,o=e.justify,c=e.effects,u=e.itemWidth,d=e.itemHeight,f=e.itemDirection,h=f===void 0?"left-to-right":f,p=e.itemsSpacing,m=p===void 0?0:p,g=e.itemTextColor,x=e.itemBackground,v=x===void 0?"transparent":x,b=e.itemOpacity,y=b===void 0?1:b,C=e.symbolShape,S=e.symbolSize,T=e.symbolSpacing,N=e.symbolBorderWidth,w=e.symbolBorderColor,_=e.onClick,P=e.onMouseEnter,A=e.onMouseLeave,j=e.toggleSerie,F=CN({itemCount:t.length,itemWidth:u,itemHeight:d,itemsSpacing:m,direction:a,padding:s}).padding,M=a==="row"?u+m:0,H=a==="column"?d+m:0;return l.jsx("g",{transform:"translate("+r+","+n+")",children:t.map(function(q,Y){return l.jsx(Vke,{data:q,x:Y*M+F.left,y:Y*H+F.top,width:u,height:d,direction:h,justify:o,effects:c,textColor:g,background:v,opacity:y,symbolShape:C,symbolSize:S,symbolSpacing:T,symbolBorderWidth:N,symbolBorderColor:w,onClick:_,onMouseEnter:P,onMouseLeave:A,toggleSerie:j},Y)})})},DR=function(e){var t=e.data,r=e.containerWidth,n=e.containerHeight,a=e.translateX,i=a===void 0?0:a,s=e.translateY,o=s===void 0?0:s,c=e.anchor,u=e.direction,d=e.padding,f=d===void 0?0:d,h=e.justify,p=e.itemsSpacing,m=p===void 0?0:p,g=e.itemWidth,x=e.itemHeight,v=e.itemDirection,b=e.itemTextColor,y=e.itemBackground,C=e.itemOpacity,S=e.symbolShape,T=e.symbolSize,N=e.symbolSpacing,w=e.symbolBorderWidth,_=e.symbolBorderColor,P=e.onClick,A=e.onMouseEnter,j=e.onMouseLeave,F=e.toggleSerie,M=e.effects,H=CN({itemCount:t.length,itemsSpacing:m,itemWidth:g,itemHeight:x,direction:u,padding:f}),q=H.width,Y=H.height,X=OR({anchor:c,translateX:i,translateY:o,containerWidth:r,containerHeight:n,width:q,height:Y}),I=X.x,J=X.y;return l.jsx(Gke,{data:t,x:I,y:J,direction:u,padding:f,justify:h,effects:M,itemsSpacing:m,itemWidth:g,itemHeight:x,itemDirection:v,itemTextColor:b,itemBackground:y,itemOpacity:C,symbolShape:S,symbolSize:T,symbolSpacing:N,symbolBorderWidth:w,symbolBorderColor:_,onClick:P,onMouseEnter:A,onMouseLeave:j,toggleSerie:typeof F=="boolean"?void 0:F})},Kke={start:"left",middle:"center",end:"right"},Xke=function(e,t){var r=t.data,n=t.containerWidth,a=t.containerHeight,i=t.translateX,s=i===void 0?0:i,o=t.translateY,c=o===void 0?0:o,u=t.anchor,d=t.direction,f=t.padding,h=f===void 0?0:f,p=t.justify,m=p!==void 0&&p,g=t.itemsSpacing,x=g===void 0?0:g,v=t.itemWidth,b=t.itemHeight,y=t.itemDirection,C=y===void 0?"left-to-right":y,S=t.itemTextColor,T=t.symbolSize,N=T===void 0?16:T,w=t.symbolSpacing,_=w===void 0?8:w,P=t.theme,A=CN({itemCount:r.length,itemWidth:v,itemHeight:b,itemsSpacing:x,direction:d,padding:h}),j=A.width,F=A.height,M=A.padding,H=OR({anchor:u,translateX:s,translateY:c,containerWidth:n,containerHeight:a,width:j,height:F}),q=H.x,Y=H.y,X=d==="row"?v+x:0,I=d==="column"?b+x:0;e.save(),e.translate(q,Y),e.font=P.legends.text.fontSize+"px "+(P.legends.text.fontFamily||"sans-serif"),r.forEach(function(J,Q){var E,R,U=Q*X+M.left,z=Q*I+M.top,G=PR({direction:C,justify:m,symbolSize:N,symbolSpacing:_,width:v,height:b}),ae=G.symbolX,ee=G.symbolY,W=G.labelX,Z=G.labelY,re=G.labelAnchor,O=G.labelAlignment;e.fillStyle=(E=J.color)!=null?E:"black",e.fillRect(U+ae,z+ee,N,N),e.textAlign=Kke[re],O==="central"&&(e.textBaseline="middle"),e.fillStyle=(R=S??P.legends.text.fill)!=null?R:"black",e.fillText(String(J.label),U+W,z+Z)}),e.restore()},Jke=jS,Qke=0;function Zke(e){var t=++Qke;return Jke(e)+t}var e4e=Zke;const t4e=hr(e4e),hl=11102230246251565e-32,Ha=134217729,r4e=(3+8*hl)*hl;function Y5(e,t,r,n,a){let i,s,o,c,u=t[0],d=n[0],f=0,h=0;d>u==d>-u?(i=u,u=t[++f]):(i=d,d=n[++h]);let p=0;if(f<e&&h<r)for(d>u==d>-u?(s=u+i,o=i-(s-u),u=t[++f]):(s=d+i,o=i-(s-d),d=n[++h]),i=s,o!==0&&(a[p++]=o);f<e&&h<r;)d>u==d>-u?(s=i+u,c=s-i,o=i-(s-c)+(u-c),u=t[++f]):(s=i+d,c=s-i,o=i-(s-c)+(d-c),d=n[++h]),i=s,o!==0&&(a[p++]=o);for(;f<e;)s=i+u,c=s-i,o=i-(s-c)+(u-c),u=t[++f],i=s,o!==0&&(a[p++]=o);for(;h<r;)s=i+d,c=s-i,o=i-(s-c)+(d-c),d=n[++h],i=s,o!==0&&(a[p++]=o);return(i!==0||p===0)&&(a[p++]=i),p}function n4e(e,t){let r=t[0];for(let n=1;n<e;n++)r+=t[n];return r}function Gg(e){return new Float64Array(e)}const a4e=(3+16*hl)*hl,i4e=(2+12*hl)*hl,s4e=(9+64*hl)*hl*hl,vf=Gg(4),WE=Gg(8),qE=Gg(12),HE=Gg(16),ai=Gg(4);function o4e(e,t,r,n,a,i,s){let o,c,u,d,f,h,p,m,g,x,v,b,y,C,S,T,N,w;const _=e-a,P=r-a,A=t-i,j=n-i;C=_*j,h=Ha*_,p=h-(h-_),m=_-p,h=Ha*j,g=h-(h-j),x=j-g,S=m*x-(C-p*g-m*g-p*x),T=A*P,h=Ha*A,p=h-(h-A),m=A-p,h=Ha*P,g=h-(h-P),x=P-g,N=m*x-(T-p*g-m*g-p*x),v=S-N,f=S-v,vf[0]=S-(v+f)+(f-N),b=C+v,f=b-C,y=C-(b-f)+(v-f),v=y-T,f=y-v,vf[1]=y-(v+f)+(f-T),w=b+v,f=w-b,vf[2]=b-(w-f)+(v-f),vf[3]=w;let F=n4e(4,vf),M=i4e*s;if(F>=M||-F>=M||(f=e-_,o=e-(_+f)+(f-a),f=r-P,u=r-(P+f)+(f-a),f=t-A,c=t-(A+f)+(f-i),f=n-j,d=n-(j+f)+(f-i),o===0&&c===0&&u===0&&d===0)||(M=s4e*s+r4e*Math.abs(F),F+=_*d+j*o-(A*u+P*c),F>=M||-F>=M))return F;C=o*j,h=Ha*o,p=h-(h-o),m=o-p,h=Ha*j,g=h-(h-j),x=j-g,S=m*x-(C-p*g-m*g-p*x),T=c*P,h=Ha*c,p=h-(h-c),m=c-p,h=Ha*P,g=h-(h-P),x=P-g,N=m*x-(T-p*g-m*g-p*x),v=S-N,f=S-v,ai[0]=S-(v+f)+(f-N),b=C+v,f=b-C,y=C-(b-f)+(v-f),v=y-T,f=y-v,ai[1]=y-(v+f)+(f-T),w=b+v,f=w-b,ai[2]=b-(w-f)+(v-f),ai[3]=w;const H=Y5(4,vf,4,ai,WE);C=_*d,h=Ha*_,p=h-(h-_),m=_-p,h=Ha*d,g=h-(h-d),x=d-g,S=m*x-(C-p*g-m*g-p*x),T=A*u,h=Ha*A,p=h-(h-A),m=A-p,h=Ha*u,g=h-(h-u),x=u-g,N=m*x-(T-p*g-m*g-p*x),v=S-N,f=S-v,ai[0]=S-(v+f)+(f-N),b=C+v,f=b-C,y=C-(b-f)+(v-f),v=y-T,f=y-v,ai[1]=y-(v+f)+(f-T),w=b+v,f=w-b,ai[2]=b-(w-f)+(v-f),ai[3]=w;const q=Y5(H,WE,4,ai,qE);C=o*d,h=Ha*o,p=h-(h-o),m=o-p,h=Ha*d,g=h-(h-d),x=d-g,S=m*x-(C-p*g-m*g-p*x),T=c*u,h=Ha*c,p=h-(h-c),m=c-p,h=Ha*u,g=h-(h-u),x=u-g,N=m*x-(T-p*g-m*g-p*x),v=S-N,f=S-v,ai[0]=S-(v+f)+(f-N),b=C+v,f=b-C,y=C-(b-f)+(v-f),v=y-T,f=y-v,ai[1]=y-(v+f)+(f-T),w=b+v,f=w-b,ai[2]=b-(w-f)+(v-f),ai[3]=w;const Y=Y5(q,qE,4,ai,HE);return HE[Y-1]}function pv(e,t,r,n,a,i){const s=(t-i)*(r-a),o=(e-a)*(n-i),c=s-o,u=Math.abs(s+o);return Math.abs(c)>=a4e*u?c:-o4e(e,t,r,n,a,i,u)}const zE=Math.pow(2,-52),mv=new Uint32Array(512);class zy{static from(t,r=f4e,n=h4e){const a=t.length,i=new Float64Array(a*2);for(let s=0;s<a;s++){const o=t[s];i[2*s]=r(o),i[2*s+1]=n(o)}return new zy(i)}constructor(t){const r=t.length>>1;if(r>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*r-5,0);this._triangles=new Uint32Array(n*3),this._halfedges=new Int32Array(n*3),this._hashSize=Math.ceil(Math.sqrt(r)),this._hullPrev=new Uint32Array(r),this._hullNext=new Uint32Array(r),this._hullTri=new Uint32Array(r),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(r),this._dists=new Float64Array(r),this.update()}update(){const{coords:t,_hullPrev:r,_hullNext:n,_hullTri:a,_hullHash:i}=this,s=t.length>>1;let o=1/0,c=1/0,u=-1/0,d=-1/0;for(let _=0;_<s;_++){const P=t[2*_],A=t[2*_+1];P<o&&(o=P),A<c&&(c=A),P>u&&(u=P),A>d&&(d=A),this._ids[_]=_}const f=(o+u)/2,h=(c+d)/2;let p,m,g;for(let _=0,P=1/0;_<s;_++){const A=V5(f,h,t[2*_],t[2*_+1]);A<P&&(p=_,P=A)}const x=t[2*p],v=t[2*p+1];for(let _=0,P=1/0;_<s;_++){if(_===p)continue;const A=V5(x,v,t[2*_],t[2*_+1]);A<P&&A>0&&(m=_,P=A)}let b=t[2*m],y=t[2*m+1],C=1/0;for(let _=0;_<s;_++){if(_===p||_===m)continue;const P=u4e(x,v,b,y,t[2*_],t[2*_+1]);P<C&&(g=_,C=P)}let S=t[2*g],T=t[2*g+1];if(C===1/0){for(let A=0;A<s;A++)this._dists[A]=t[2*A]-t[0]||t[2*A+1]-t[1];Tf(this._ids,this._dists,0,s-1);const _=new Uint32Array(s);let P=0;for(let A=0,j=-1/0;A<s;A++){const F=this._ids[A],M=this._dists[F];M>j&&(_[P++]=F,j=M)}this.hull=_.subarray(0,P),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(pv(x,v,b,y,S,T)<0){const _=m,P=b,A=y;m=g,b=S,y=T,g=_,S=P,T=A}const N=d4e(x,v,b,y,S,T);this._cx=N.x,this._cy=N.y;for(let _=0;_<s;_++)this._dists[_]=V5(t[2*_],t[2*_+1],N.x,N.y);Tf(this._ids,this._dists,0,s-1),this._hullStart=p;let w=3;n[p]=r[g]=m,n[m]=r[p]=g,n[g]=r[m]=p,a[p]=0,a[m]=1,a[g]=2,i.fill(-1),i[this._hashKey(x,v)]=p,i[this._hashKey(b,y)]=m,i[this._hashKey(S,T)]=g,this.trianglesLen=0,this._addTriangle(p,m,g,-1,-1,-1);for(let _=0,P,A;_<this._ids.length;_++){const j=this._ids[_],F=t[2*j],M=t[2*j+1];if(_>0&&Math.abs(F-P)<=zE&&Math.abs(M-A)<=zE||(P=F,A=M,j===p||j===m||j===g))continue;let H=0;for(let J=0,Q=this._hashKey(F,M);J<this._hashSize&&(H=i[(Q+J)%this._hashSize],!(H!==-1&&H!==n[H]));J++);H=r[H];let q=H,Y;for(;Y=n[q],pv(F,M,t[2*q],t[2*q+1],t[2*Y],t[2*Y+1])>=0;)if(q=Y,q===H){q=-1;break}if(q===-1)continue;let X=this._addTriangle(q,j,n[q],-1,-1,a[q]);a[j]=this._legalize(X+2),a[q]=X,w++;let I=n[q];for(;Y=n[I],pv(F,M,t[2*I],t[2*I+1],t[2*Y],t[2*Y+1])<0;)X=this._addTriangle(I,j,Y,a[j],-1,a[I]),a[j]=this._legalize(X+2),n[I]=I,w--,I=Y;if(q===H)for(;Y=r[q],pv(F,M,t[2*Y],t[2*Y+1],t[2*q],t[2*q+1])<0;)X=this._addTriangle(Y,j,q,-1,a[q],a[Y]),this._legalize(X+2),a[Y]=X,n[q]=q,w--,q=Y;this._hullStart=r[j]=q,n[q]=r[I]=j,n[j]=I,i[this._hashKey(F,M)]=j,i[this._hashKey(t[2*q],t[2*q+1])]=q}this.hull=new Uint32Array(w);for(let _=0,P=this._hullStart;_<w;_++)this.hull[_]=P,P=n[P];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,r){return Math.floor(l4e(t-this._cx,r-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:r,_halfedges:n,coords:a}=this;let i=0,s=0;for(;;){const o=n[t],c=t-t%3;if(s=c+(t+2)%3,o===-1){if(i===0)break;t=mv[--i];continue}const u=o-o%3,d=c+(t+1)%3,f=u+(o+2)%3,h=r[s],p=r[t],m=r[d],g=r[f];if(c4e(a[2*h],a[2*h+1],a[2*p],a[2*p+1],a[2*m],a[2*m+1],a[2*g],a[2*g+1])){r[t]=g,r[o]=h;const v=n[f];if(v===-1){let y=this._hullStart;do{if(this._hullTri[y]===f){this._hullTri[y]=t;break}y=this._hullPrev[y]}while(y!==this._hullStart)}this._link(t,v),this._link(o,n[s]),this._link(s,f);const b=u+(o+1)%3;i<mv.length&&(mv[i++]=b)}else{if(i===0)break;t=mv[--i]}}return s}_link(t,r){this._halfedges[t]=r,r!==-1&&(this._halfedges[r]=t)}_addTriangle(t,r,n,a,i,s){const o=this.trianglesLen;return this._triangles[o]=t,this._triangles[o+1]=r,this._triangles[o+2]=n,this._link(o,a),this._link(o+1,i),this._link(o+2,s),this.trianglesLen+=3,o}}function l4e(e,t){const r=e/(Math.abs(e)+Math.abs(t));return(t>0?3-r:1+r)/4}function V5(e,t,r,n){const a=e-r,i=t-n;return a*a+i*i}function c4e(e,t,r,n,a,i,s,o){const c=e-s,u=t-o,d=r-s,f=n-o,h=a-s,p=i-o,m=c*c+u*u,g=d*d+f*f,x=h*h+p*p;return c*(f*x-g*p)-u*(d*x-g*h)+m*(d*p-f*h)<0}function u4e(e,t,r,n,a,i){const s=r-e,o=n-t,c=a-e,u=i-t,d=s*s+o*o,f=c*c+u*u,h=.5/(s*u-o*c),p=(u*d-o*f)*h,m=(s*f-c*d)*h;return p*p+m*m}function d4e(e,t,r,n,a,i){const s=r-e,o=n-t,c=a-e,u=i-t,d=s*s+o*o,f=c*c+u*u,h=.5/(s*u-o*c),p=e+(u*d-o*f)*h,m=t+(s*f-c*d)*h;return{x:p,y:m}}function Tf(e,t,r,n){if(n-r<=20)for(let a=r+1;a<=n;a++){const i=e[a],s=t[i];let o=a-1;for(;o>=r&&t[e[o]]>s;)e[o+1]=e[o--];e[o+1]=i}else{const a=r+n>>1;let i=r+1,s=n;gp(e,a,i),t[e[r]]>t[e[n]]&&gp(e,r,n),t[e[i]]>t[e[n]]&&gp(e,i,n),t[e[r]]>t[e[i]]&&gp(e,r,i);const o=e[i],c=t[o];for(;;){do i++;while(t[e[i]]<c);do s--;while(t[e[s]]>c);if(s<i)break;gp(e,i,s)}e[r+1]=e[s],e[s]=o,n-i+1>=s-r?(Tf(e,t,i,n),Tf(e,t,r,s-1)):(Tf(e,t,r,s-1),Tf(e,t,i,n))}}function gp(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function f4e(e){return e[0]}function h4e(e){return e[1]}const YE=1e-6;class Ou{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,r){this._+=`L${this._x1=+t},${this._y1=+r}`}arc(t,r,n){t=+t,r=+r,n=+n;const a=t+n,i=r;if(n<0)throw new Error("negative radius");this._x1===null?this._+=`M${a},${i}`:(Math.abs(this._x1-a)>YE||Math.abs(this._y1-i)>YE)&&(this._+="L"+a+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${r}A${n},${n},0,1,1,${this._x1=a},${this._y1=i}`)}rect(t,r,n,a){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${+n}v${+a}h${-n}Z`}value(){return this._||null}}let Vk=class{constructor(){this._=[]}moveTo(t,r){this._.push([t,r])}closePath(){this._.push(this._[0].slice())}lineTo(t,r){this._.push([t,r])}value(){return this._.length?this._:null}};class p4e{constructor(t,[r,n,a,i]=[0,0,960,500]){if(!((a=+a)>=(r=+r))||!((i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=a,this.xmin=r,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:r,triangles:n},vectors:a}=this;let i,s;const o=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let g=0,x=0,v=n.length,b,y;g<v;g+=3,x+=2){const C=n[g]*2,S=n[g+1]*2,T=n[g+2]*2,N=t[C],w=t[C+1],_=t[S],P=t[S+1],A=t[T],j=t[T+1],F=_-N,M=P-w,H=A-N,q=j-w,Y=(F*q-M*H)*2;if(Math.abs(Y)<1e-9){if(i===void 0){i=s=0;for(const I of r)i+=t[I*2],s+=t[I*2+1];i/=r.length,s/=r.length}const X=1e9*Math.sign((i-N)*q-(s-w)*H);b=(N+A)/2-X*q,y=(w+j)/2+X*H}else{const X=1/Y,I=F*F+M*M,J=H*H+q*q;b=N+(q*I-M*J)*X,y=w+(F*J-H*I)*X}o[x]=b,o[x+1]=y}let c=r[r.length-1],u,d=c*4,f,h=t[2*c],p,m=t[2*c+1];a.fill(0);for(let g=0;g<r.length;++g)c=r[g],u=d,f=h,p=m,d=c*4,h=t[2*c],m=t[2*c+1],a[u+2]=a[d]=p-m,a[u+3]=a[d+1]=h-f}render(t){const r=t==null?t=new Ou:void 0,{delaunay:{halfedges:n,inedges:a,hull:i},circumcenters:s,vectors:o}=this;if(i.length<=1)return null;for(let d=0,f=n.length;d<f;++d){const h=n[d];if(h<d)continue;const p=Math.floor(d/3)*2,m=Math.floor(h/3)*2,g=s[p],x=s[p+1],v=s[m],b=s[m+1];this._renderSegment(g,x,v,b,t)}let c,u=i[i.length-1];for(let d=0;d<i.length;++d){c=u,u=i[d];const f=Math.floor(a[u]/3)*2,h=s[f],p=s[f+1],m=c*4,g=this._project(h,p,o[m+2],o[m+3]);g&&this._renderSegment(h,p,g[0],g[1],t)}return r&&r.value()}renderBounds(t){const r=t==null?t=new Ou:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),r&&r.value()}renderCell(t,r){const n=r==null?r=new Ou:void 0,a=this._clip(t);if(a===null||!a.length)return;r.moveTo(a[0],a[1]);let i=a.length;for(;a[0]===a[i-2]&&a[1]===a[i-1]&&i>1;)i-=2;for(let s=2;s<i;s+=2)(a[s]!==a[s-2]||a[s+1]!==a[s-1])&&r.lineTo(a[s],a[s+1]);return r.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let r=0,n=t.length/2;r<n;++r){const a=this.cellPolygon(r);a&&(a.index=r,yield a)}}cellPolygon(t){const r=new Vk;return this.renderCell(t,r),r.value()}_renderSegment(t,r,n,a,i){let s;const o=this._regioncode(t,r),c=this._regioncode(n,a);o===0&&c===0?(i.moveTo(t,r),i.lineTo(n,a)):(s=this._clipSegment(t,r,n,a,o,c))&&(i.moveTo(s[0],s[1]),i.lineTo(s[2],s[3]))}contains(t,r,n){return r=+r,r!==r||(n=+n,n!==n)?!1:this.delaunay._step(t,r,n)===t}*neighbors(t){const r=this._clip(t);if(r)for(const n of this.delaunay.neighbors(t)){const a=this._clip(n);if(a){e:for(let i=0,s=r.length;i<s;i+=2)for(let o=0,c=a.length;o<c;o+=2)if(r[i]===a[o]&&r[i+1]===a[o+1]&&r[(i+2)%s]===a[(o+c-2)%c]&&r[(i+3)%s]===a[(o+c-1)%c]){yield n;break e}}}}_cell(t){const{circumcenters:r,delaunay:{inedges:n,halfedges:a,triangles:i}}=this,s=n[t];if(s===-1)return null;const o=[];let c=s;do{const u=Math.floor(c/3);if(o.push(r[u*2],r[u*2+1]),c=c%3===2?c-2:c+1,i[c]!==t)break;c=a[c]}while(c!==s&&c!==-1);return o}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const r=this._cell(t);if(r===null)return null;const{vectors:n}=this,a=t*4;return this._simplify(n[a]||n[a+1]?this._clipInfinite(t,r,n[a],n[a+1],n[a+2],n[a+3]):this._clipFinite(t,r))}_clipFinite(t,r){const n=r.length;let a=null,i,s,o=r[n-2],c=r[n-1],u,d=this._regioncode(o,c),f,h=0;for(let p=0;p<n;p+=2)if(i=o,s=c,o=r[p],c=r[p+1],u=d,d=this._regioncode(o,c),u===0&&d===0)f=h,h=0,a?a.push(o,c):a=[o,c];else{let m,g,x,v,b;if(u===0){if((m=this._clipSegment(i,s,o,c,u,d))===null)continue;[g,x,v,b]=m}else{if((m=this._clipSegment(o,c,i,s,d,u))===null)continue;[v,b,g,x]=m,f=h,h=this._edgecode(g,x),f&&h&&this._edge(t,f,h,a,a.length),a?a.push(g,x):a=[g,x]}f=h,h=this._edgecode(v,b),f&&h&&this._edge(t,f,h,a,a.length),a?a.push(v,b):a=[v,b]}if(a)f=h,h=this._edgecode(a[0],a[1]),f&&h&&this._edge(t,f,h,a,a.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return a}_clipSegment(t,r,n,a,i,s){const o=i<s;for(o&&([t,r,n,a,i,s]=[n,a,t,r,s,i]);;){if(i===0&&s===0)return o?[n,a,t,r]:[t,r,n,a];if(i&s)return null;let c,u,d=i||s;d&8?(c=t+(n-t)*(this.ymax-r)/(a-r),u=this.ymax):d&4?(c=t+(n-t)*(this.ymin-r)/(a-r),u=this.ymin):d&2?(u=r+(a-r)*(this.xmax-t)/(n-t),c=this.xmax):(u=r+(a-r)*(this.xmin-t)/(n-t),c=this.xmin),i?(t=c,r=u,i=this._regioncode(t,r)):(n=c,a=u,s=this._regioncode(n,a))}}_clipInfinite(t,r,n,a,i,s){let o=Array.from(r),c;if((c=this._project(o[0],o[1],n,a))&&o.unshift(c[0],c[1]),(c=this._project(o[o.length-2],o[o.length-1],i,s))&&o.push(c[0],c[1]),o=this._clipFinite(t,o))for(let u=0,d=o.length,f,h=this._edgecode(o[d-2],o[d-1]);u<d;u+=2)f=h,h=this._edgecode(o[u],o[u+1]),f&&h&&(u=this._edge(t,f,h,o,u),d=o.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(t,r,n,a,i){for(;r!==n;){let s,o;switch(r){case 5:r=4;continue;case 4:r=6,s=this.xmax,o=this.ymin;break;case 6:r=2;continue;case 2:r=10,s=this.xmax,o=this.ymax;break;case 10:r=8;continue;case 8:r=9,s=this.xmin,o=this.ymax;break;case 9:r=1;continue;case 1:r=5,s=this.xmin,o=this.ymin;break}(a[i]!==s||a[i+1]!==o)&&this.contains(t,s,o)&&(a.splice(i,0,s,o),i+=2)}return i}_project(t,r,n,a){let i=1/0,s,o,c;if(a<0){if(r<=this.ymin)return null;(s=(this.ymin-r)/a)<i&&(c=this.ymin,o=t+(i=s)*n)}else if(a>0){if(r>=this.ymax)return null;(s=(this.ymax-r)/a)<i&&(c=this.ymax,o=t+(i=s)*n)}if(n>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/n)<i&&(o=this.xmax,c=r+(i=s)*a)}else if(n<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/n)<i&&(o=this.xmin,c=r+(i=s)*a)}return[o,c]}_edgecode(t,r){return(t===this.xmin?1:t===this.xmax?2:0)|(r===this.ymin?4:r===this.ymax?8:0)}_regioncode(t,r){return(t<this.xmin?1:t>this.xmax?2:0)|(r<this.ymin?4:r>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let r=0;r<t.length;r+=2){const n=(r+2)%t.length,a=(r+4)%t.length;(t[r]===t[n]&&t[n]===t[a]||t[r+1]===t[n+1]&&t[n+1]===t[a+1])&&(t.splice(n,2),r-=2)}t.length||(t=null)}return t}}const m4e=2*Math.PI,yf=Math.pow;function g4e(e){return e[0]}function x4e(e){return e[1]}function v4e(e){const{triangles:t,coords:r}=e;for(let n=0;n<t.length;n+=3){const a=2*t[n],i=2*t[n+1],s=2*t[n+2];if((r[s]-r[a])*(r[i+1]-r[a+1])-(r[i]-r[a])*(r[s+1]-r[a+1])>1e-10)return!1}return!0}function y4e(e,t,r){return[e+Math.sin(e+t)*r,t+Math.cos(e-t)*r]}class TN{static from(t,r=g4e,n=x4e,a){return new TN("length"in t?b4e(t,r,n,a):Float64Array.from(w4e(t,r,n,a)))}constructor(t){this._delaunator=new zy(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,r=this.points;if(t.hull&&t.hull.length>2&&v4e(t)){this.collinear=Int32Array.from({length:r.length/2},(h,p)=>p).sort((h,p)=>r[2*h]-r[2*p]||r[2*h+1]-r[2*p+1]);const c=this.collinear[0],u=this.collinear[this.collinear.length-1],d=[r[2*c],r[2*c+1],r[2*u],r[2*u+1]],f=1e-8*Math.hypot(d[3]-d[1],d[2]-d[0]);for(let h=0,p=r.length/2;h<p;++h){const m=y4e(r[2*h],r[2*h+1],f);r[2*h]=m[0],r[2*h+1]=m[1]}this._delaunator=new zy(r)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,a=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let c=0,u=n.length;c<u;++c){const d=i[c%3===2?c-2:c+1];(n[c]===-1||s[d]===-1)&&(s[d]=c)}for(let c=0,u=a.length;c<u;++c)o[a[c]]=c;a.length<=2&&a.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=a[0],s[a[0]]=1,a.length===2&&(s[a[1]]=0,this.triangles[1]=a[1],this.triangles[2]=a[1]))}voronoi(t){return new p4e(this,t)}*neighbors(t){const{inedges:r,hull:n,_hullIndex:a,halfedges:i,triangles:s,collinear:o}=this;if(o){const f=o.indexOf(t);f>0&&(yield o[f-1]),f<o.length-1&&(yield o[f+1]);return}const c=r[t];if(c===-1)return;let u=c,d=-1;do{if(yield d=s[u],u=u%3===2?u-2:u+1,s[u]!==t)return;if(u=i[u],u===-1){const f=n[(a[t]+1)%n.length];f!==d&&(yield f);return}}while(u!==c)}find(t,r,n=0){if(t=+t,t!==t||(r=+r,r!==r))return-1;const a=n;let i;for(;(i=this._step(n,t,r))>=0&&i!==n&&i!==a;)n=i;return i}_step(t,r,n){const{inedges:a,hull:i,_hullIndex:s,halfedges:o,triangles:c,points:u}=this;if(a[t]===-1||!u.length)return(t+1)%(u.length>>1);let d=t,f=yf(r-u[t*2],2)+yf(n-u[t*2+1],2);const h=a[t];let p=h;do{let m=c[p];const g=yf(r-u[m*2],2)+yf(n-u[m*2+1],2);if(g<f&&(f=g,d=m),p=p%3===2?p-2:p+1,c[p]!==t)break;if(p=o[p],p===-1){if(p=i[(s[t]+1)%i.length],p!==m&&yf(r-u[p*2],2)+yf(n-u[p*2+1],2)<f)return p;break}}while(p!==h);return d}render(t){const r=t==null?t=new Ou:void 0,{points:n,halfedges:a,triangles:i}=this;for(let s=0,o=a.length;s<o;++s){const c=a[s];if(c<s)continue;const u=i[s]*2,d=i[c]*2;t.moveTo(n[u],n[u+1]),t.lineTo(n[d],n[d+1])}return this.renderHull(t),r&&r.value()}renderPoints(t,r){r===void 0&&(!t||typeof t.moveTo!="function")&&(r=t,t=null),r=r==null?2:+r;const n=t==null?t=new Ou:void 0,{points:a}=this;for(let i=0,s=a.length;i<s;i+=2){const o=a[i],c=a[i+1];t.moveTo(o+r,c),t.arc(o,c,r,0,m4e)}return n&&n.value()}renderHull(t){const r=t==null?t=new Ou:void 0,{hull:n,points:a}=this,i=n[0]*2,s=n.length;t.moveTo(a[i],a[i+1]);for(let o=1;o<s;++o){const c=2*n[o];t.lineTo(a[c],a[c+1])}return t.closePath(),r&&r.value()}hullPolygon(){const t=new Vk;return this.renderHull(t),t.value()}renderTriangle(t,r){const n=r==null?r=new Ou:void 0,{points:a,triangles:i}=this,s=i[t*=3]*2,o=i[t+1]*2,c=i[t+2]*2;return r.moveTo(a[s],a[s+1]),r.lineTo(a[o],a[o+1]),r.lineTo(a[c],a[c+1]),r.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let r=0,n=t.length/3;r<n;++r)yield this.trianglePolygon(r)}trianglePolygon(t){const r=new Vk;return this.renderTriangle(t,r),r.value()}}function b4e(e,t,r,n){const a=e.length,i=new Float64Array(a*2);for(let s=0;s<a;++s){const o=e[s];i[s*2]=t.call(n,o,s,e),i[s*2+1]=r.call(n,o,s,e)}return i}function*w4e(e,t,r,n){let a=0;for(const i of e)yield t.call(n,i,a,e),yield r.call(n,i,a,e),++a}var EN=function(e){return[e.x,e.y]},Kg=bI,$R="cursor",MR="top",_4e=function(e){var t=e.points,r=e.getNodePosition,n=r===void 0?EN:r,a=e.margin,i=a===void 0?Kg:a;return t.map(function(s){var o=n(s),c=o[0],u=o[1];return[c+i.left,u+i.top]})},k4e=function(e){var t=e.points,r=e.width,n=e.height,a=e.margin,i=a===void 0?Kg:a,s=e.debug,o=TN.from(t),c=s?o.voronoi([0,0,i.left+r+i.right,i.top+n+i.bottom]):void 0;return{points:t,delaunay:o,voronoi:c}},FR=function(e){var t=e.points,r=e.getNodePosition,n=r===void 0?EN:r,a=e.width,i=e.height,s=e.margin,o=s===void 0?Kg:s,c=e.debug;return L.useMemo(function(){return k4e({points:_4e({points:t,margin:o,getNodePosition:n}),width:a,height:i,margin:o,debug:c})},[t,a,i,o,c])},S4e=function(e){var t=e.elementRef,r=e.nodes,n=e.getNodePosition,a=n===void 0?EN:n,i=e.delaunay,s=e.setCurrent,o=e.margin,c=o===void 0?Kg:o,u=e.detectionRadius,d=u===void 0?1/0:u,f=e.isInteractive,h=f===void 0||f,p=e.onMouseEnter,m=e.onMouseMove,g=e.onMouseLeave,x=e.onClick,v=e.onTouchStart,b=e.onTouchMove,y=e.onTouchEnd,C=e.enableTouchCrosshair,S=C!==void 0&&C,T=e.tooltip,N=e.tooltipPosition,w=N===void 0?$R:N,_=e.tooltipAnchor,P=_===void 0?MR:_,A=L.useState(null),j=A[0],F=A[1],M=L.useRef(null);L.useEffect(function(){M.current=j},[M,j]);var H=L.useCallback(function(ee){if(!t.current)return null;var W=$I(t.current,ee),Z=W[0],re=W[1],O=i.find(Z,re),de=O!==void 0?r[O]:null;if(de&&d!==1/0){var ce=a(de),pe=ce[0],K=ce[1];jbe(Z,re,pe+c.left,K+c.top)>d&&(O=null,de=null)}return O===null||de===null?null:[O,de]},[t,i,r,a,c,d]),q=Rg(),Y=q.showTooltipAt,X=q.showTooltipFromEvent,I=q.hideTooltip,J=L.useMemo(function(){if(T)return w==="cursor"?function(ee,W){X(T(ee),W,P)}:function(ee){var W=a(ee),Z=W[0],re=W[1];Y(T(ee),[Z+c.left,re+c.top],P)}},[Y,X,T,w,P,a,c]),Q=L.useCallback(function(ee){var W=H(ee);if(F(W),s==null||s(W?W[1]:null),W){var Z=W[1];J==null||J(Z,ee),p==null||p(W[1],ee)}},[H,F,s,J,p]),E=L.useCallback(function(ee){var W=H(ee);if(F(W),W){var Z=W[0],re=W[1];if(s==null||s(re),J==null||J(re,ee),M.current){var O=M.current,de=O[0],ce=O[1];Z!==de?g==null||g(ce,ee):m==null||m(re,ee)}else p==null||p(re,ee)}else s==null||s(null),I==null||I(),M.current&&(g==null||g(M.current[1],ee))},[H,F,M,p,m,g,J,I]),R=L.useCallback(function(ee){F(null),s==null||s(null),I(),g&&M.current&&g(M.current[1],ee)},[F,s,M,I,g]),U=L.useCallback(function(ee){var W=H(ee);F(W),W&&(x==null||x(W[1],ee))},[H,F,x]),z=L.useCallback(function(ee){var W=H(ee);S&&(F(W),s==null||s(W?W[1]:null)),W&&(v==null||v(W[1],ee))},[H,F,s,S,v]),G=L.useCallback(function(ee){var W=H(ee);S&&(F(W),s==null||s(W?W[1]:null)),W&&(b==null||b(W[1],ee))},[H,F,s,S,b]),ae=L.useCallback(function(ee){S&&(F(null),s==null||s(null)),y&&M.current&&y(M.current[1],ee)},[S,F,s,y,M]);return{current:j,handleMouseEnter:h?Q:void 0,handleMouseMove:h?E:void 0,handleMouseLeave:h?R:void 0,handleClick:h?U:void 0,handleTouchStart:h?z:void 0,handleTouchMove:h?G:void 0,handleTouchEnd:h?ae:void 0}},N4e=function(e){var t=e.nodes,r=e.width,n=e.height,a=e.margin,i=a===void 0?Kg:a,s=e.getNodePosition,o=e.setCurrent,c=e.onMouseEnter,u=e.onMouseMove,d=e.onMouseLeave,f=e.onClick,h=e.onTouchStart,p=e.onTouchMove,m=e.onTouchEnd,g=e.enableTouchCrosshair,x=g!==void 0&&g,v=e.detectionRadius,b=v===void 0?1/0:v,y=e.tooltip,C=e.tooltipPosition,S=C===void 0?$R:C,T=e.tooltipAnchor,N=T===void 0?MR:T,w=e.debug,_=L.useRef(null),P=FR({points:t,getNodePosition:s,width:r,height:n,margin:i,debug:w}),A=P.delaunay,j=P.voronoi,F=S4e({elementRef:_,nodes:t,delaunay:A,margin:i,detectionRadius:b,setCurrent:o,onMouseEnter:c,onMouseMove:u,onMouseLeave:d,onClick:f,onTouchStart:h,onTouchMove:p,onTouchEnd:m,enableTouchCrosshair:x,tooltip:y,tooltipPosition:S,tooltipAnchor:N}),M=F.current,H=F.handleMouseEnter,q=F.handleMouseMove,Y=F.handleMouseLeave,X=F.handleClick,I=F.handleTouchStart,J=F.handleTouchMove,Q=F.handleTouchEnd,E=L.useMemo(function(){if(w&&j)return j.render()},[w,j]);return l.jsxs("g",{ref:_,transform:"translate("+-i.left+","+-i.top+")",children:[w&&j&&l.jsxs(l.Fragment,{children:[l.jsx("path",{d:E,stroke:"red",strokeWidth:1,opacity:.75}),b<1/0&&l.jsx("path",{stroke:"red",strokeWidth:.35,fill:"none",d:A.renderPoints(void 0,b)}),M&&l.jsx("path",{fill:"pink",opacity:.35,d:j.renderCell(M[0])})]}),l.jsx("rect",{"data-ref":"mesh-interceptor",width:i.left+r+i.right,height:i.top+n+i.bottom,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:H,onMouseMove:q,onMouseLeave:Y,onTouchStart:I,onTouchMove:J,onTouchEnd:Q,onClick:X})]})},j4e=function(e,t){e.save(),e.globalAlpha=.75,e.beginPath(),t.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()},A4e=function(e,t,r){e.save(),e.globalAlpha=.35,e.beginPath(),t.renderCell(r,e),e.fillStyle="pink",e.fill(),e.restore()};function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pi.apply(this,arguments)}var ON=L.memo(function(e){var t=e.point;return l.jsx(cF,{id:l.jsxs("span",{children:["x: ",l.jsx("strong",{children:t.data.xFormatted}),", y:"," ",l.jsx("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})}),LR=L.memo(function(e){var t=e.slice,r=e.axis,n=zn(),a=r==="x"?"y":"x";return l.jsx(uF,{rows:t.points.map(function(i){return[l.jsx(lF,{color:i.serieColor,style:n.tooltip.chip},"chip"),i.serieId,l.jsx("span",{style:n.tooltip.tableCellValue,children:i.data[a+"Formatted"]},"value")]})})}),IR={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:ON,enableSlices:!1,debugSlices:!1,sliceTooltip:LR,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},tl=pi({},IR,{enablePointLabel:!1,useMesh:!1,enableTouchCrosshair:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img",initialHiddenIds:[]});pi({},IR,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1});var C4e=function(e){var t=e.curve;return L.useMemo(function(){return i2().defined(function(r){return r.x!==null&&r.y!==null}).x(function(r){return r.x}).y(function(r){return r.y}).curve(yI(t))},[t])},T4e=function(e){var t=e.curve,r=e.yScale,n=e.areaBaselineValue;return L.useMemo(function(){return Mp().defined(function(a){return a.x!==null&&a.y!==null}).x(function(a){return a.x}).y1(function(a){return a.y}).curve(yI(t)).y0(r(n))},[t,r,n])},E4e=function(e){var t=e.componentId,r=e.enableSlices,n=e.points,a=e.width,i=e.height;return L.useMemo(function(){if(r===!1)return[];if(r==="x"){var s=new Map;return n.forEach(function(c){c.data.x!==null&&c.data.y!==null&&(s.has(c.x)?s.get(c.x).push(c):s.set(c.x,[c]))}),Array.from(s.entries()).sort(function(c,u){return c[0]-u[0]}).map(function(c,u,d){var f,h,p=c[0],m=c[1],g=d[u-1],x=d[u+1];return f=g?p-(p-g[0])/2:p,h=x?p-f+(x[0]-p)/2:a-f,{id:"slice:"+t+":"+p,x0:f,x:p,y0:0,y:0,width:h,height:i,points:m.reverse()}})}if(r==="y"){var o=new Map;return n.forEach(function(c){c.data.x!==null&&c.data.y!==null&&(o.has(c.y)?o.get(c.y).push(c):o.set(c.y,[c]))}),Array.from(o.entries()).sort(function(c,u){return c[0]-u[0]}).map(function(c,u,d){var f,h,p=c[0],m=c[1],g=d[u-1],x=d[u+1];return f=g?p-(p-g[0])/2:p,h=x?p-f+(x[0]-p)/2:i-f,{id:p,x0:0,x:0,y0:f,y:p,width:a,height:h,points:m.reverse()}})}},[t,r,i,n,a])},O4e="line",RR=function(e){var t=e.data,r=e.xScale,n=r===void 0?tl.xScale:r,a=e.xFormat,i=e.yScale,s=i===void 0?tl.yScale:i,o=e.yFormat,c=e.width,u=e.height,d=e.colors,f=d===void 0?tl.colors:d,h=e.curve,p=h===void 0?tl.curve:h,m=e.areaBaselineValue,g=m===void 0?tl.areaBaselineValue:m,x=e.pointColor,v=x===void 0?tl.pointColor:x,b=e.pointBorderColor,y=b===void 0?tl.pointBorderColor:b,C=e.enableSlices,S=C===void 0?tl.enableSlicesTooltip:C,T=e.initialHiddenIds,N=T===void 0?tl.initialHiddenIds:T,w=L.useState(t4e(O4e))[0],_=My(a),P=My(o),A=RI(f,"id"),j=zn(),F=Lc(v,j),M=Lc(y,j),H=L.useState(N??[]),q=H[0],Y=H[1],X=L.useMemo(function(){return Ake(t.filter(function(ee){return q.indexOf(ee.id)===-1}),n,s,c,u)},[t,q,n,s,c,u]),I=X.xScale,J=X.yScale,Q=X.series,E=L.useMemo(function(){var ee=t.map(function(Z){return{id:Z.id,label:Z.id,color:A(Z)}}),W=ee.map(function(Z){return pi({},Q.find(function(re){return re.id===Z.id}),{color:Z.color})}).filter(function(Z){return!!Z.id});return{legendData:ee.map(function(Z){return pi({},Z,{hidden:!W.find(function(re){return re.id===Z.id})})}).reverse(),series:W}},[t,Q,A]),R=E.legendData,U=E.series,z=L.useCallback(function(ee){Y(function(W){return W.indexOf(ee)>-1?W.filter(function(Z){return Z!==ee}):[].concat(W,[ee])})},[]),G=function(ee){var W=ee.series,Z=ee.getPointColor,re=ee.getPointBorderColor,O=ee.formatX,de=ee.formatY;return L.useMemo(function(){return W.reduce(function(ce,pe){return[].concat(ce,pe.data.filter(function(K){return K.position.x!==null&&K.position.y!==null}).map(function(K,ne){var Te={id:pe.id+"."+ne,index:ce.length+ne,serieId:pe.id,serieColor:pe.color,x:K.position.x,y:K.position.y};return Te.color=Z(pe),Te.borderColor=re(Te),Te.data=pi({},K.data,{xFormatted:O(K.data.x),yFormatted:de(K.data.y)}),Te}))},[])},[W,Z,re,O,de])}({series:U,getPointColor:F,getPointBorderColor:M,formatX:_,formatY:P}),ae=E4e({componentId:w,enableSlices:S,points:G,width:c,height:u});return{legendData:R,toggleSerie:z,lineGenerator:C4e({curve:p}),areaGenerator:T4e({curve:p,yScale:J,areaBaselineValue:g}),getColor:A,series:U,xScale:I,yScale:J,slices:ae,points:G}},P4e=function(e){var t=e.areaBlendMode,r=e.areaOpacity,n=e.color,a=e.fill,i=e.path,s=Wo(),o=s.animate,c=s.config,u=vI(i),d=Jh({color:n,config:c,immediate:!o});return l.jsx(Pa.path,{d:u,fill:a||d.color,fillOpacity:r,strokeWidth:0,style:{mixBlendMode:t}})},D4e=L.memo(function(e){var t=e.areaGenerator,r=e.areaOpacity,n=e.areaBlendMode,a=e.lines.slice(0).reverse();return l.jsx("g",{children:a.map(function(i){return l.jsx(P4e,pi({path:t(i.data.map(function(s){return s.position}))},pi({areaOpacity:r,areaBlendMode:n},i)),i.id)})})}),$4e=L.memo(function(e){var t=e.lineGenerator,r=e.points,n=e.color,a=e.thickness,i=L.useMemo(function(){return t(r)},[t,r]),s=vI(i);return l.jsx(Pa.path,{d:s,fill:"none",strokeWidth:a,stroke:n})}),M4e=L.memo(function(e){var t=e.lines,r=e.lineGenerator,n=e.lineWidth;return t.slice(0).reverse().map(function(a){var i=a.id,s=a.data,o=a.color;return l.jsx($4e,{id:i,points:s.map(function(c){return c.position}),lineGenerator:r,color:o,thickness:n},i)})}),F4e=L.memo(function(e){var t=e.slice,r=e.slices,n=e.axis,a=e.debug,i=e.tooltip,s=e.isCurrent,o=e.setCurrent,c=e.onMouseEnter,u=e.onMouseMove,d=e.onMouseLeave,f=e.onClick,h=e.onTouchStart,p=e.onTouchMove,m=e.onTouchEnd,g=Rg(),x=g.showTooltipFromEvent,v=g.hideTooltip,b=L.useCallback(function(_){x(L.createElement(i,{slice:t,axis:n}),_,"right"),o(t),c&&c(t,_)},[x,i,t,n,o,c]),y=L.useCallback(function(_){x(L.createElement(i,{slice:t,axis:n}),_,"right"),u&&u(t,_)},[x,i,t,n,u]),C=L.useCallback(function(_){v(),o(null),d&&d(t,_)},[v,o,d,t]),S=L.useCallback(function(_){f&&f(t,_)},[t,f]),T=L.useCallback(function(_){x(L.createElement(i,{slice:t,axis:n}),_,"right"),o(t),h&&h(t,_)},[n,h,o,x,t,i]),N=L.useCallback(function(_){var P=_.touches[0],A=document.elementFromPoint(P.clientX,P.clientY),j=A==null?void 0:A.getAttribute("data-ref");if(j){var F=r.find(function(M){return M.id===j});F&&(x(L.createElement(i,{slice:F,axis:n}),_,"right"),o(F))}p&&p(t,_)},[n,p,o,x,t,r,i]),w=L.useCallback(function(_){v(),o(null),m&&m(t,_)},[v,o,m,t]);return l.jsx("rect",{x:t.x0,y:t.y0,width:t.width,height:t.height,stroke:"red",strokeWidth:a?1:0,strokeOpacity:.75,fill:"red",fillOpacity:s&&a?.35:0,onMouseEnter:b,onMouseMove:y,onMouseLeave:C,onClick:S,onTouchStart:T,onTouchMove:N,onTouchEnd:w,"data-ref":t.id})}),L4e=L.memo(function(e){var t=e.slices,r=e.axis,n=e.debug,a=e.height,i=e.tooltip,s=e.current,o=e.setCurrent,c=e.onMouseEnter,u=e.onMouseMove,d=e.onMouseLeave,f=e.onClick,h=e.onTouchStart,p=e.onTouchMove,m=e.onTouchEnd;return t.map(function(g){return l.jsx(F4e,{slice:g,slices:t,axis:r,debug:n,height:a,tooltip:i,setCurrent:o,isCurrent:s!==null&&s.id===g.id,onMouseEnter:c,onMouseMove:u,onMouseLeave:d,onClick:f,onTouchStart:h,onTouchMove:p,onTouchEnd:m},g.id)})}),I4e=L.memo(function(e){var t=e.points,r=e.symbol,n=e.size,a=e.borderWidth,i=e.enableLabel,s=e.label,o=e.labelYOffset,c=zn(),u=Sbe(s),d=t.slice(0).reverse().map(function(f){return{id:f.id,x:f.x,y:f.y,datum:f.data,fill:f.color,stroke:f.borderColor,label:i?u(f):null}});return l.jsx("g",{children:d.map(function(f){return l.jsx(bbe,{x:f.x,y:f.y,datum:f.datum,symbol:r,size:n,color:f.fill,borderWidth:a,borderColor:f.stroke,label:f.label,labelYOffset:o,theme:c},f.id)})})}),R4e=L.memo(function(e){var t=e.points,r=e.width,n=e.height,a=e.margin,i=e.setCurrent,s=e.onMouseEnter,o=e.onMouseMove,c=e.onMouseLeave,u=e.onClick,d=e.onTouchStart,f=e.onTouchMove,h=e.onTouchEnd,p=e.tooltip,m=e.debug,g=e.enableTouchCrosshair,x=Rg(),v=x.showTooltipAt,b=x.hideTooltip,y=L.useCallback(function(P,A){v(L.createElement(p,{point:P}),[P.x+a.left,P.y+a.top],"top"),s&&s(P,A)},[v,p,s,a]),C=L.useCallback(function(P,A){v(L.createElement(p,{point:P}),[P.x+a.left,P.y+a.top],"top"),o&&o(P,A)},[v,p,a.left,a.top,o]),S=L.useCallback(function(P,A){b(),c&&c(P,A)},[b,c]),T=L.useCallback(function(P,A){u&&u(P,A)},[u]),N=L.useCallback(function(P,A){v(L.createElement(p,{point:P}),[P.x+a.left,P.y+a.top],"top"),d&&d(P,A)},[a.left,a.top,d,v,p]),w=L.useCallback(function(P,A){v(L.createElement(p,{point:P}),[P.x+a.left,P.y+a.top],"top"),f&&f(P,A)},[a.left,a.top,f,v,p]),_=L.useCallback(function(P,A){b(),h&&h(P,A)},[h,b]);return l.jsx(N4e,{nodes:t,width:r,height:n,setCurrent:i,onMouseEnter:y,onMouseMove:C,onMouseLeave:S,onClick:T,onTouchStart:N,onTouchMove:w,onTouchEnd:_,enableTouchCrosshair:g,debug:m})}),B4e=DI(function(e){var t=e.data,r=e.xScale,n=r===void 0?{type:"point"}:r,a=e.xFormat,i=e.yScale,s=i===void 0?{type:"linear",min:0,max:"auto"}:i,o=e.yFormat,c=e.layers,u=c===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:c,d=e.curve,f=d===void 0?"linear":d,h=e.areaBaselineValue,p=h===void 0?0:h,m=e.colors,g=m===void 0?{scheme:"nivo"}:m,x=e.margin,v=e.width,b=e.height,y=e.axisTop,C=e.axisRight,S=e.axisBottom,T=S===void 0?{}:S,N=e.axisLeft,w=N===void 0?{}:N,_=e.enableGridX,P=_===void 0||_,A=e.enableGridY,j=A===void 0||A,F=e.gridXValues,M=e.gridYValues,H=e.lineWidth,q=H===void 0?2:H,Y=e.enableArea,X=Y!==void 0&&Y,I=e.areaOpacity,J=I===void 0?.2:I,Q=e.areaBlendMode,E=Q===void 0?"normal":Q,R=e.enablePoints,U=R===void 0||R,z=e.pointSymbol,G=e.pointSize,ae=G===void 0?6:G,ee=e.pointColor,W=ee===void 0?{from:"color"}:ee,Z=e.pointBorderWidth,re=Z===void 0?0:Z,O=e.pointBorderColor,de=O===void 0?{theme:"background"}:O,ce=e.enablePointLabel,pe=ce!==void 0&&ce,K=e.pointLabel,ne=K===void 0?"data.yFormatted":K,Te=e.pointLabelYOffset,Ee=e.defs,$e=Ee===void 0?[]:Ee,Pe=e.fill,Fe=Pe===void 0?[]:Pe,ve=e.markers,me=e.legends,le=me===void 0?[]:me,be=e.isInteractive,Oe=be===void 0||be,je=e.useMesh,Ae=je!==void 0&&je,Be=e.debugMesh,De=Be!==void 0&&Be,et=e.onMouseEnter,Qe=e.onMouseMove,kt=e.onMouseLeave,jt=e.onClick,bt=e.onTouchStart,Vt=e.onTouchMove,Pt=e.onTouchEnd,Ir=e.tooltip,wr=Ir===void 0?ON:Ir,pn=e.enableSlices,bn=pn!==void 0&&pn,gr=e.debugSlices,Ft=gr!==void 0&&gr,er=e.sliceTooltip,Da=er===void 0?LR:er,Kr=e.enableCrosshair,Sn=Kr===void 0||Kr,Dn=e.crosshairType,Ot=Dn===void 0?"bottom-left":Dn,Yn=e.enableTouchCrosshair,Ct=Yn!==void 0&&Yn,ar=e.role,fr=ar===void 0?"img":ar,Er=e.initialHiddenIds,oe=Er===void 0?[]:Er,Se=mN(v,b,x),xe=Se.margin,ye=Se.innerWidth,_e=Se.innerHeight,Ne=Se.outerWidth,He=Se.outerHeight,Je=RR({data:t,xScale:n,xFormat:a,yScale:s,yFormat:o,width:ye,height:_e,colors:g,curve:f,areaBaselineValue:p,pointColor:W,pointBorderColor:de,enableSlices:bn,initialHiddenIds:oe}),Ye=Je.legendData,Ve=Je.toggleSerie,Ge=Je.lineGenerator,lt=Je.areaGenerator,ft=Je.series,ht=Je.xScale,ut=Je.yScale,pt=Je.slices,Dt=Je.points,ur=zn(),xr=Lc(W,ur),mn=Lc(de,ur),yi=L.useState(null),ei=yi[0],Mi=yi[1],bi=L.useState(null),$a=bi[0],Ma=bi[1],Ur={grid:l.jsx(Ike,{theme:ur,width:ye,height:_e,xScale:P?ht:null,yScale:j?ut:null,xValues:F,yValues:M},"grid"),markers:l.jsx(_be,{markers:ve,width:ye,height:_e,xScale:ht,yScale:ut,theme:ur},"markers"),axes:l.jsx(Fke,{xScale:ht,yScale:ut,width:ye,height:_e,theme:ur,top:y,right:C,bottom:T,left:w},"axes"),areas:null,lines:l.jsx(M4e,{lines:ft,lineGenerator:Ge,lineWidth:q},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:le.map(function(Xi,Ll){return l.jsx(DR,pi({},Xi,{containerWidth:ye,containerHeight:_e,data:Xi.data||Ye,theme:ur,toggleSerie:Xi.toggleSerie?Ve:void 0}),"legend."+Ll)})},$d=MI($e,ft,Fe);return X&&(Ur.areas=l.jsx(D4e,{areaGenerator:lt,areaOpacity:J,areaBlendMode:E,lines:ft},"areas")),Oe&&bn!==!1&&(Ur.slices=l.jsx(L4e,{slices:pt,axis:bn,debug:Ft,height:_e,tooltip:Da,current:$a,setCurrent:Ma,onMouseEnter:et,onMouseMove:Qe,onMouseLeave:kt,onClick:jt,onTouchStart:bt,onTouchMove:Vt,onTouchEnd:Pt},"slices")),U&&(Ur.points=l.jsx(I4e,{points:Dt,symbol:z,size:ae,color:xr,borderWidth:re,borderColor:mn,enableLabel:pe,label:ne,labelYOffset:Te},"points")),Oe&&Sn&&(ei!==null&&(Ur.crosshair=l.jsx(yk,{width:ye,height:_e,x:ei.x,y:ei.y,type:Ot},"crosshair")),$a!==null&&(Ur.crosshair=l.jsx(yk,{width:ye,height:_e,x:$a.x,y:$a.y,type:bn},"crosshair"))),Oe&&Ae&&bn===!1&&(Ur.mesh=l.jsx(R4e,{points:Dt,width:ye,height:_e,margin:xe,current:ei,setCurrent:Mi,onMouseEnter:et,onMouseMove:Qe,onMouseLeave:kt,onClick:jt,onTouchStart:bt,onTouchMove:Vt,onTouchEnd:Pt,tooltip:wr,enableTouchCrosshair:Ct,debug:De},"mesh")),l.jsx(yN,{defs:$d,width:Ne,height:He,margin:xe,role:fr,children:u.map(function(Xi,Ll){return typeof Xi=="function"?l.jsx(L.Fragment,{children:Xi(pi({},e,{innerWidth:ye,innerHeight:_e,series:ft,slices:pt,points:Dt,xScale:ht,yScale:ut,lineGenerator:Ge,areaGenerator:lt,currentPoint:ei,setCurrentPoint:Mi,currentSlice:$a,setCurrentSlice:Ma}))},Ll):Ur[Xi]})})}),BR=function(e){return l.jsx(u2,{children:function(t){var r=t.width,n=t.height;return l.jsx(B4e,pi({width:r,height:n},e))}})},U4e=DI(function(e){var t=L.useRef(null),r=e.width,n=e.height,a=e.margin,i=e.pixelRatio,s=i===void 0?typeof window<"u"&&window.devicePixelRatio||1:i,o=e.data,c=e.xScale,u=c===void 0?{type:"point"}:c,d=e.xFormat,f=e.yScale,h=f===void 0?{type:"linear",min:0,max:"auto"}:f,p=e.yFormat,m=e.curve,g=m===void 0?"linear":m,x=e.layers,v=x===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:x,b=e.colors,y=b===void 0?{scheme:"nivo"}:b,C=e.lineWidth,S=C===void 0?2:C,T=e.enableArea,N=T!==void 0&&T,w=e.areaBaselineValue,_=w===void 0?0:w,P=e.areaOpacity,A=P===void 0?.2:P,j=e.enablePoints,F=j===void 0||j,M=e.pointSize,H=M===void 0?6:M,q=e.pointColor,Y=q===void 0?{from:"color"}:q,X=e.pointBorderWidth,I=X===void 0?0:X,J=e.pointBorderColor,Q=J===void 0?{theme:"background"}:J,E=e.enableGridX,R=E===void 0||E,U=e.gridXValues,z=e.enableGridY,G=z===void 0||z,ae=e.gridYValues,ee=e.axisTop,W=e.axisRight,Z=e.axisBottom,re=Z===void 0?{}:Z,O=e.axisLeft,de=O===void 0?{}:O,ce=e.legends,pe=ce===void 0?[]:ce,K=e.isInteractive,ne=K===void 0||K,Te=e.debugMesh,Ee=Te!==void 0&&Te,$e=e.onMouseLeave,Pe=e.onClick,Fe=e.tooltip,ve=Fe===void 0?ON:Fe,me=e.canvasRef,le=mN(r,n,a),be=le.margin,Oe=le.innerWidth,je=le.innerHeight,Ae=le.outerWidth,Be=le.outerHeight,De=zn(),et=L.useState(null),Qe=et[0],kt=et[1],jt=RR({data:o,xScale:u,xFormat:d,yScale:h,yFormat:p,width:Oe,height:je,colors:y,curve:g,areaBaselineValue:_,pointColor:Y,pointBorderColor:Q}),bt=jt.lineGenerator,Vt=jt.areaGenerator,Pt=jt.series,Ir=jt.xScale,wr=jt.yScale,pn=jt.points,bn=FR({points:pn,width:Oe,height:je,debug:Ee}),gr=bn.delaunay,Ft=bn.voronoi;L.useEffect(function(){me&&(me.current=t.current),t.current.width=Ae*s,t.current.height=Be*s;var Ct=t.current.getContext("2d");Ct.scale(s,s),Ct.fillStyle=De.background,Ct.fillRect(0,0,Ae,Be),Ct.translate(be.left,be.top),v.forEach(function(ar){if(typeof ar=="function"&&ar({ctx:Ct,innerWidth:Oe,innerHeight:je,series:Pt,points:pn,xScale:Ir,yScale:wr,lineWidth:S,lineGenerator:bt,areaGenerator:Vt,currentPoint:Qe,setCurrentPoint:kt}),ar==="grid"&&De.grid.line.strokeWidth>0&&(Ct.lineWidth=De.grid.line.strokeWidth,Ct.strokeStyle=De.grid.line.stroke,R&&UE(Ct,{width:Oe,height:je,scale:Ir,axis:"x",values:U}),G&&UE(Ct,{width:Oe,height:je,scale:wr,axis:"y",values:ae})),ar==="axes"&&Bke(Ct,{xScale:Ir,yScale:wr,width:Oe,height:je,top:ee,right:W,bottom:re,left:de,theme:De}),ar==="areas"&&N===!0){Ct.save(),Ct.globalAlpha=A,Vt.context(Ct);for(var fr=Pt.length-1;fr>=0;fr--)Ct.fillStyle=Pt[fr].color,Ct.beginPath(),Vt(Pt[fr].data.map(function(oe){return oe.position})),Ct.fill();Ct.restore()}if(ar==="lines"&&(bt.context(Ct),Pt.forEach(function(oe){Ct.strokeStyle=oe.color,Ct.lineWidth=S,Ct.beginPath(),bt(oe.data.map(function(Se){return Se.position})),Ct.stroke()})),ar==="points"&&F===!0&&H>0&&pn.forEach(function(oe){Ct.fillStyle=oe.color,Ct.beginPath(),Ct.arc(oe.x,oe.y,H/2,0,2*Math.PI),Ct.fill(),I>0&&(Ct.strokeStyle=oe.borderColor,Ct.lineWidth=I,Ct.stroke())}),ar==="mesh"&&Ee===!0&&(j4e(Ct,Ft),Qe&&A4e(Ct,Ft,Qe.index)),ar==="legends"){var Er=Pt.map(function(oe){return{id:oe.id,label:oe.id,color:oe.color}}).reverse();pe.forEach(function(oe){Xke(Ct,pi({},oe,{data:oe.data||Er,containerWidth:Oe,containerHeight:je,theme:De}))})}})},[t,Ae,Be,v,De,bt,Pt,Ir,wr,R,U,G,ae,ee,W,re,de,pe,pn,F,H,Qe]);var er=L.useCallback(function(Ct){var ar=$I(t.current,Ct),fr=ar[0],Er=ar[1];if(!Abe(be.left,be.top,Oe,je,fr,Er))return null;var oe=gr.find(fr-be.left,Er-be.top);return pn[oe]},[t,be,Oe,je,gr]),Da=Rg(),Kr=Da.showTooltipFromEvent,Sn=Da.hideTooltip,Dn=L.useCallback(function(Ct){var ar=er(Ct);kt(ar),ar?Kr(L.createElement(ve,{point:ar}),Ct):Sn()},[er,kt,Kr,Sn,ve]),Ot=L.useCallback(function(Ct){Sn(),kt(null),Qe&&$e&&$e(Qe,Ct)},[Sn,kt,$e]),Yn=L.useCallback(function(Ct){if(Pe){var ar=er(Ct);ar&&Pe(ar,Ct)}},[er,Pe]);return l.jsx("canvas",{ref:t,width:Ae*s,height:Be*s,style:{width:Ae,height:Be,cursor:ne?"auto":"normal"},onMouseEnter:ne?Dn:void 0,onMouseMove:ne?Dn:void 0,onMouseLeave:ne?Ot:void 0,onClick:ne?Yn:void 0})}),W4e=L.forwardRef(function(e,t){return l.jsx(U4e,pi({},e,{canvasRef:t}))});L.forwardRef(function(e,t){return l.jsx(u2,{children:function(r){var n=r.width,a=r.height;return l.jsx(W4e,pi({width:n,height:a},e,{ref:t}))}})});const q4e=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),H4e=({dailyRevenue:e,isLoading:t,currencySymbol:r,screenWidth:n})=>{const{theme:a,getThemeStyle:i}=Ht(),s=n<640;if(t)return l.jsx("div",{className:`${i(a,"background","primary")} rounded-lg shadow-sm animate-pulse`,children:l.jsxs("div",{className:"px-4 py-4",children:[l.jsx("div",{className:`h-4 ${i(a,"background","accent")} rounded w-1/4 mb-4`}),l.jsx("div",{className:`h-[250px] ${i(a,"background","accent")} rounded`})]})});if(!(Array.isArray(e)&&e.length>0))return l.jsx("div",{className:"w-full px-2 sm:px-6",children:l.jsxs("div",{className:"w-full",children:[l.jsxs("h3",{className:`text-lg font-medium ${i(a,"text","primary")} mb-2`,children:["Revenue for ",new Date().toLocaleString("default",{month:"long",year:"numeric"})]}),l.jsx("div",{className:"h-[350px] w-full flex items-center justify-center",style:{background:a==="dark"?"linear-gradient(to bottom,rgb(22, 31, 44), #111827)":"linear-gradient(to bottom, white, #efeff1)",borderRadius:"0.5rem",padding:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:l.jsx("div",{className:`${i(a,"text","muted")} text-sm`,children:"No revenue data yet."})})]})});const c=[{id:"Total Revenue",color:"#8B5CF6",data:e.map(d=>({x:new Date(d.date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit"}),y:Number.isFinite(d.total)?d.total:0}))},{id:"Sales Orders",color:"#3B82F6",data:e.map(d=>({x:new Date(d.date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit"}),y:Number.isFinite(d.sales)?d.sales:0}))},{id:"Service Orders",color:"#10B981",data:e.map(d=>({x:new Date(d.date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit"}),y:Number.isFinite(d.service)?d.service:0}))}],u=s?{top:20,right:20,left:60,bottom:60}:{top:30,right:40,left:80,bottom:60};return l.jsx("div",{className:"w-full px-2 sm:px-6",children:l.jsxs("div",{className:"w-full",children:[l.jsxs("h3",{className:`text-lg font-medium ${i(a,"text","primary")} mb-2`,children:["Revenue for ",new Date().toLocaleString("default",{month:"long",year:"numeric"})]}),l.jsx("div",{className:"h-[350px] w-full",style:{background:a==="dark"?"linear-gradient(to bottom,rgb(22, 31, 44), #111827)":"linear-gradient(to bottom, white, #efeff1)",borderRadius:"0.5rem",padding:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:l.jsx(BR,{data:c,margin:u,xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto",stacked:!1,reverse:!1},curve:"monotoneX",axisLeft:{tickSize:0,tickPadding:10,format:d=>`${r}${q4e(d)}`,tickRotation:0},axisBottom:{tickSize:0,tickPadding:10,tickRotation:-45,tickValues:s?e.filter((d,f)=>f%4===0).map(d=>new Date(d.date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit"})):void 0},enableGridX:!1,enableGridY:!0,pointSize:0,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,enableArea:!0,areaOpacity:.1,useMesh:!0,enableSlices:"x",crosshairType:"x",colors:{datum:"color"},theme:{grid:{line:{stroke:a==="dark"?"#374151":"#f0f0f0",strokeWidth:1}},axis:{ticks:{text:{fontSize:s?9:10,fill:a==="dark"?"#9CA3AF":"#6B7280"}}},crosshair:{line:{stroke:a==="dark"?"#9CA3AF":"#6B7280",strokeWidth:1,strokeOpacity:.5}},tooltip:{container:{background:a==="dark"?"#374151":"#ffffff",color:a==="dark"?"#e5e7eb":"#1f2937",fontSize:12,borderRadius:6,boxShadow:"0 2px 12px rgba(0,0,0,0.1)",padding:"8px 12px"}}},lineWidth:2,enablePoints:!1})})]})})};function on(){return on=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},on.apply(this,arguments)}var z4e={pointerEvents:"none"},Y4e=function(e){var t=e.label,r=e.style,n=zn();return l.jsx(Pa.g,{transform:r.transform,opacity:r.progress,style:z4e,children:l.jsx(Pa.text,{textAnchor:"middle",dominantBaseline:"central",style:on({},n.labels.text,{fill:r.textColor}),children:t})})},UR=function(e){var t=e%(2*Math.PI);return t<0&&(t+=2*Math.PI),t},V4e=function(e,t){return e.filter(function(r){return Math.abs(vN(r.arc.endAngle-r.arc.startAngle))>=t})},G4e={startAngle:{enter:function(e){return on({},e,{endAngle:e.startAngle})},update:function(e){return e},leave:function(e){return on({},e,{startAngle:e.endAngle})}},middleAngle:{enter:function(e){var t=e.startAngle+(e.endAngle-e.startAngle)/2;return on({},e,{startAngle:t,endAngle:t})},update:function(e){return e},leave:function(e){var t=e.startAngle+(e.endAngle-e.startAngle)/2;return on({},e,{startAngle:t,endAngle:t})}},endAngle:{enter:function(e){return on({},e,{startAngle:e.endAngle})},update:function(e){return e},leave:function(e){return on({},e,{endAngle:e.startAngle})}},innerRadius:{enter:function(e){return on({},e,{outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return on({},e,{innerRadius:e.outerRadius})}},centerRadius:{enter:function(e){var t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return on({},e,{innerRadius:t,outerRadius:t})},update:function(e){return e},leave:function(e){var t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return on({},e,{innerRadius:t,outerRadius:t})}},outerRadius:{enter:function(e){return on({},e,{innerRadius:e.outerRadius})},update:function(e){return e},leave:function(e){return on({},e,{outerRadius:e.innerRadius})}},pushIn:{enter:function(e){return on({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return on({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})}},pushOut:{enter:function(e){return on({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})},update:function(e){return e},leave:function(e){return on({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})}}},WR=function(e,t){return L.useMemo(function(){var r=G4e[e];return{enter:function(n){return on({progress:0},r.enter(n.arc),t?t.enter(n):{})},update:function(n){return on({progress:1},r.update(n.arc),t?t.update(n):{})},leave:function(n){return on({progress:0},r.leave(n.arc),t?t.leave(n):{})}}},[e,t])},K4e=function(e,t){var r=mbe(e)-Math.PI/2,n=e.innerRadius+(e.outerRadius-e.innerRadius)*t;return qf(r,n)},X4e=function(e){return function(t,r,n,a){return Qh([t,r,n,a],function(i,s,o,c){var u=K4e({startAngle:i,endAngle:s,innerRadius:o,outerRadius:c},e);return"translate("+u.x+","+u.y+")"})}},J4e=function(e,t,r,n){t===void 0&&(t=.5),r===void 0&&(r="innerRadius");var a=Wo(),i=a.animate,s=a.config,o=WR(r,n);return{transition:Ig(e,{keys:function(c){return c.id},initial:o.update,from:o.enter,enter:o.update,update:o.update,leave:o.leave,config:s,immediate:!i}),interpolate:X4e(t)}},Q4e=function(e){var t=e.center,r=e.data,n=e.transitionMode,a=e.label,i=e.radiusOffset,s=e.skipAngle,o=e.textColor,c=e.component,u=c===void 0?Y4e:c,d=Fy(a),f=zn(),h=Lc(o,f),p=L.useMemo(function(){return r.filter(function(b){return Math.abs(vN(b.arc.endAngle-b.arc.startAngle))>=s})},[r,s]),m=J4e(p,i,n),g=m.transition,x=m.interpolate,v=u;return l.jsx("g",{transform:"translate("+t[0]+","+t[1]+")",children:g(function(b,y){return L.createElement(v,{key:y.id,datum:y,label:d(y),style:on({},b,{transform:x(b.startAngle,b.endAngle,b.innerRadius,b.outerRadius),textColor:h(y)})})})})},Z4e=function(e){var t=e.label,r=e.style,n=zn();return l.jsxs(Pa.g,{opacity:r.opacity,children:[l.jsx(Pa.path,{fill:"none",stroke:r.linkColor,strokeWidth:r.thickness,d:r.path}),l.jsx(Pa.text,{transform:r.textPosition,textAnchor:r.textAnchor,dominantBaseline:"central",style:on({},n.labels.text,{fill:r.textColor}),children:t})]})},e3e=function(e){var t=UR(e.startAngle+(e.endAngle-e.startAngle)/2-Math.PI/2);return t<Math.PI/2||t>1.5*Math.PI?"start":"end"},qR=function(e,t,r,n){var a,i,s=UR(e.startAngle+(e.endAngle-e.startAngle)/2-Math.PI/2),o=qf(s,e.outerRadius+t),c=qf(s,e.outerRadius+t+r);return s<Math.PI/2||s>1.5*Math.PI?(a="after",i={x:c.x+n,y:c.y}):(a="before",i={x:c.x-n,y:c.y}),{side:a,points:[o,c,i]}},t3e=i2().x(function(e){return e.x}).y(function(e){return e.y}),r3e=function(e,t,r,n,a,i,s){return Qh([e,t,r,n,a,i,s],function(o,c,u,d,f,h,p){var m=qR({startAngle:o,endAngle:c,outerRadius:d},f,h,p).points;return t3e(m)})},n3e=function(e,t,r,n){return Qh([e,t,r,n],function(a,i,s,o){return e3e({startAngle:a,endAngle:i})})},a3e=function(e,t,r,n,a,i,s,o){return Qh([e,t,r,n,a,i,s,o],function(c,u,d,f,h,p,m,g){var x=qR({startAngle:c,endAngle:u,outerRadius:f},h,p,m),v=x.points,b=x.side,y=v[2];return b==="before"?y.x-=g:y.x+=g,"translate("+y.x+","+y.y+")"})},i3e=function(e){var t=e.data,r=e.offset,n=r===void 0?0:r,a=e.diagonalLength,i=e.straightLength,s=e.skipAngle,o=s===void 0?0:s,c=e.textOffset,u=e.linkColor,d=e.textColor,f=Wo(),h=f.animate,p=f.config,m=zn(),g=Lc(u,m),x=Lc(d,m),v=function(y,C){return L.useMemo(function(){return V4e(y,C)},[y,C])}(t,o),b=function(y){var C=y.offset,S=y.diagonalLength,T=y.straightLength,N=y.textOffset,w=y.getLinkColor,_=y.getTextColor;return L.useMemo(function(){return{enter:function(P){return{startAngle:P.arc.startAngle,endAngle:P.arc.endAngle,innerRadius:P.arc.innerRadius,outerRadius:P.arc.outerRadius,offset:C,diagonalLength:0,straightLength:0,textOffset:N,linkColor:w(P),textColor:_(P),opacity:0}},update:function(P){return{startAngle:P.arc.startAngle,endAngle:P.arc.endAngle,innerRadius:P.arc.innerRadius,outerRadius:P.arc.outerRadius,offset:C,diagonalLength:S,straightLength:T,textOffset:N,linkColor:w(P),textColor:_(P),opacity:1}},leave:function(P){return{startAngle:P.arc.startAngle,endAngle:P.arc.endAngle,innerRadius:P.arc.innerRadius,outerRadius:P.arc.outerRadius,offset:C,diagonalLength:0,straightLength:0,textOffset:N,linkColor:w(P),textColor:_(P),opacity:0}}}},[S,T,N,w,_,C])}({offset:n,diagonalLength:a,straightLength:i,textOffset:c,getLinkColor:g,getTextColor:x});return{transition:Ig(v,{keys:function(y){return y.id},initial:b.update,from:b.enter,enter:b.update,update:b.update,leave:b.leave,config:p,immediate:!h}),interpolateLink:r3e,interpolateTextAnchor:n3e,interpolateTextPosition:a3e}},s3e=function(e){var t=e.center,r=e.data,n=e.label,a=e.skipAngle,i=e.offset,s=e.diagonalLength,o=e.straightLength,c=e.strokeWidth,u=e.textOffset,d=e.textColor,f=e.linkColor,h=e.component,p=h===void 0?Z4e:h,m=Fy(n),g=i3e({data:r,skipAngle:a,offset:i,diagonalLength:s,straightLength:o,textOffset:u,linkColor:f,textColor:d}),x=g.transition,v=g.interpolateLink,b=g.interpolateTextAnchor,y=g.interpolateTextPosition,C=p;return l.jsx("g",{transform:"translate("+t[0]+","+t[1]+")",children:x(function(S,T){return L.createElement(C,{key:T.id,datum:T,label:m(T),style:on({},S,{thickness:c,path:v(S.startAngle,S.endAngle,S.innerRadius,S.outerRadius,S.offset,S.diagonalLength,S.straightLength),textAnchor:b(S.startAngle,S.endAngle,S.innerRadius,S.outerRadius),textPosition:y(S.startAngle,S.endAngle,S.innerRadius,S.outerRadius,S.offset,S.diagonalLength,S.straightLength,S.textOffset)})})})})},o3e=function(e){var t=e.datum,r=e.style,n=e.onClick,a=e.onMouseEnter,i=e.onMouseMove,s=e.onMouseLeave,o=L.useCallback(function(f){return n==null?void 0:n(t,f)},[n,t]),c=L.useCallback(function(f){return a==null?void 0:a(t,f)},[a,t]),u=L.useCallback(function(f){return i==null?void 0:i(t,f)},[i,t]),d=L.useCallback(function(f){return s==null?void 0:s(t,f)},[s,t]);return l.jsx(Pa.path,{d:r.path,opacity:r.opacity,fill:t.fill||r.color,stroke:r.borderColor,strokeWidth:r.borderWidth,onClick:n?o:void 0,onMouseEnter:a?c:void 0,onMouseMove:i?u:void 0,onMouseLeave:s?d:void 0})},l3e=function(e,t,r,n,a){return Qh([e,t,r,n],function(i,s,o,c){return a({startAngle:i,endAngle:s,innerRadius:Math.max(0,o),outerRadius:Math.max(0,c)})})},c3e=function(e,t,r){t===void 0&&(t="innerRadius");var n=Wo(),a=n.animate,i=n.config,s=WR(t,r);return{transition:Ig(e,{keys:function(o){return o.id},initial:s.update,from:s.enter,enter:s.update,update:s.update,leave:s.leave,config:i,immediate:!a}),interpolate:l3e}},u3e=function(e){var t=e.center,r=e.data,n=e.arcGenerator,a=e.borderWidth,i=e.borderColor,s=e.onClick,o=e.onMouseEnter,c=e.onMouseMove,u=e.onMouseLeave,d=e.transitionMode,f=e.component,h=f===void 0?o3e:f,p=zn(),m=Lc(i,p),g=c3e(r,d,{enter:function(y){return{opacity:0,color:y.color,borderColor:m(y)}},update:function(y){return{opacity:1,color:y.color,borderColor:m(y)}},leave:function(y){return{opacity:0,color:y.color,borderColor:m(y)}}}),x=g.transition,v=g.interpolate,b=h;return l.jsx("g",{transform:"translate("+t[0]+","+t[1]+")",children:x(function(y,C){return L.createElement(b,{key:C.id,datum:C,style:on({},y,{borderWidth:a,path:v(y.startAngle,y.endAngle,y.innerRadius,y.outerRadius,n)}),onClick:s,onMouseEnter:o,onMouseMove:c,onMouseLeave:u})})})},d3e=function(e,t,r,n,a,i){i===void 0&&(i=!0);var s=[],o=qf(Gs(n),r);s.push([o.x,o.y]);var c=qf(Gs(a),r);s.push([c.x,c.y]);for(var u=Math.round(Math.min(n,a));u<=Math.round(Math.max(n,a));u++)if(u%90==0){var d=qf(Gs(u),r);s.push([d.x,d.y])}s=s.map(function(x){var v=x[0],b=x[1];return[e+v,t+b]}),i&&s.push([e,t]);var f=s.map(function(x){return x[0]}),h=s.map(function(x){return x[1]}),p=Math.min.apply(Math,f),m=Math.max.apply(Math,f),g=Math.min.apply(Math,h);return{points:s,x:p,y:g,width:m-p,height:Math.max.apply(Math,h)-g}},f3e=function(e){var t=e===void 0?{}:e,r=t.cornerRadius,n=r===void 0?0:r,a=t.padAngle,i=a===void 0?0:a;return L.useMemo(function(){return Nge().innerRadius(function(s){return s.innerRadius}).outerRadius(function(s){return s.outerRadius}).cornerRadius(n).padAngle(i)},[n,i])};function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bc.apply(this,arguments)}function HR(e,t){if(e==null)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}var h3e=function(e){var t=e.width,r=e.height,n=e.legends,a=e.data,i=e.toggleSerie;return l.jsx(l.Fragment,{children:n.map(function(s,o){var c;return l.jsx(DR,Bc({},s,{containerWidth:t,containerHeight:r,data:(c=s.data)!=null?c:a,toggleSerie:s.toggleSerie?i:void 0}),o)})})},Rt={id:"id",value:"value",sortByValue:!1,innerRadius:0,padAngle:0,cornerRadius:0,layers:["arcs","arcLinkLabels","arcLabels","legends"],startAngle:0,endAngle:360,fit:!0,activeInnerRadiusOffset:0,activeOuterRadiusOffset:0,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableArcLabels:!0,arcLabel:"formattedValue",arcLabelsSkipAngle:0,arcLabelsRadiusOffset:.5,arcLabelsTextColor:{theme:"labels.text.fill"},enableArcLinkLabels:!0,arcLinkLabel:"id",arcLinkLabelsSkipAngle:0,arcLinkLabelsOffset:0,arcLinkLabelsDiagonalLength:16,arcLinkLabelsStraightLength:24,arcLinkLabelsThickness:1,arcLinkLabelsTextOffset:6,arcLinkLabelsTextColor:{theme:"labels.text.fill"},arcLinkLabelsColor:{theme:"axis.ticks.line.stroke"},colors:{scheme:"nivo"},defs:[],fill:[],isInteractive:!0,animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",tooltip:function(e){var t=e.datum;return l.jsx(cF,{id:t.id,value:t.formattedValue,enableChip:!0,color:t.color})},legends:[],role:"img"},p3e=["points"],m3e=function(e){var t=e.data,r=e.id,n=r===void 0?Rt.id:r,a=e.value,i=a===void 0?Rt.value:a,s=e.valueFormat,o=e.colors,c=o===void 0?Rt.colors:o,u=Fy(n),d=Fy(i),f=My(s),h=RI(c,"id");return L.useMemo(function(){return t.map(function(p){var m,g=u(p),x=d(p),v={id:g,label:(m=p.label)!=null?m:g,hidden:!1,value:x,formattedValue:f(x),data:p};return Bc({},v,{color:h(v)})})},[t,u,d,f,h])},g3e=function(e){var t=e.data,r=e.startAngle,n=e.endAngle,a=e.innerRadius,i=e.outerRadius,s=e.padAngle,o=e.sortByValue,c=e.activeId,u=e.activeInnerRadiusOffset,d=e.activeOuterRadiusOffset,f=e.hiddenIds,h=e.forwardLegendData,p=L.useMemo(function(){var v=Cge().value(function(b){return b.value}).startAngle(Gs(r)).endAngle(Gs(n)).padAngle(Gs(s));return o||v.sortValues(null),v},[r,n,s,o]),m=L.useMemo(function(){var v=t.filter(function(b){return!f.includes(b.id)});return{dataWithArc:p(v).map(function(b){var y=Math.abs(b.endAngle-b.startAngle);return Bc({},b.data,{arc:{index:b.index,startAngle:b.startAngle,endAngle:b.endAngle,innerRadius:c===b.data.id?a-u:a,outerRadius:c===b.data.id?i+d:i,thickness:i-a,padAngle:b.padAngle,angle:y,angleDeg:vN(y)}})}),legendData:t.map(function(b){return{id:b.id,label:b.label,color:b.color,hidden:f.includes(b.id),data:b}})}},[p,t,f,c,a,u,i,d]),g=m.legendData,x=L.useRef(h);return L.useEffect(function(){typeof x.current=="function"&&x.current(g)},[x,g]),m},x3e=function(e){var t=e.activeId,r=e.onActiveIdChange,n=e.defaultActiveId,a=t!==void 0,i=L.useState(a||n===void 0?null:n),s=i[0],o=i[1];return{activeId:a?t:s,setActiveId:L.useCallback(function(c){r&&r(c),a||o(c)},[a,r,o])}},v3e=function(e){var t=e.data,r=e.width,n=e.height,a=e.innerRadius,i=a===void 0?Rt.innerRadius:a,s=e.startAngle,o=s===void 0?Rt.startAngle:s,c=e.endAngle,u=c===void 0?Rt.endAngle:c,d=e.padAngle,f=d===void 0?Rt.padAngle:d,h=e.sortByValue,p=h===void 0?Rt.sortByValue:h,m=e.cornerRadius,g=m===void 0?Rt.cornerRadius:m,x=e.fit,v=x===void 0?Rt.fit:x,b=e.activeInnerRadiusOffset,y=b===void 0?Rt.activeInnerRadiusOffset:b,C=e.activeOuterRadiusOffset,S=C===void 0?Rt.activeOuterRadiusOffset:C,T=e.activeId,N=e.onActiveIdChange,w=e.defaultActiveId,_=e.forwardLegendData,P=x3e({activeId:T,onActiveIdChange:N,defaultActiveId:w}),A=P.activeId,j=P.setActiveId,F=L.useState([]),M=F[0],H=F[1],q=L.useMemo(function(){var I,J=Math.min(r,n)/2,Q=J*Math.min(i,1),E=r/2,R=n/2;if(v){var U=d3e(E,R,J,o-90,u-90),z=U.points,G=HR(U,p3e),ae=Math.min(r/G.width,n/G.height),ee={width:G.width*ae,height:G.height*ae};ee.x=(r-ee.width)/2,ee.y=(n-ee.height)/2,E=(E-G.x)/G.width*G.width*ae+ee.x,R=(R-G.y)/G.height*G.height*ae+ee.y,I={box:G,ratio:ae,points:z},J*=ae,Q*=ae}return{centerX:E,centerY:R,radius:J,innerRadius:Q,debug:I}},[r,n,i,o,u,v]),Y=g3e({data:t,startAngle:o,endAngle:u,innerRadius:q.innerRadius,outerRadius:q.radius,padAngle:f,sortByValue:p,activeId:A,activeInnerRadiusOffset:y,activeOuterRadiusOffset:S,hiddenIds:M,forwardLegendData:_}),X=L.useCallback(function(I){H(function(J){return J.indexOf(I)>-1?J.filter(function(Q){return Q!==I}):[].concat(J,[I])})},[]);return Bc({arcGenerator:f3e({cornerRadius:g,padAngle:Gs(f)}),activeId:A,setActiveId:j,toggleSerie:X},Y,q)},y3e=function(e){var t=e.dataWithArc,r=e.arcGenerator,n=e.centerX,a=e.centerY,i=e.radius,s=e.innerRadius;return L.useMemo(function(){return{dataWithArc:t,arcGenerator:r,centerX:n,centerY:a,radius:i,innerRadius:s}},[t,r,n,a,i,s])},b3e=function(e){var t=e.center,r=e.data,n=e.arcGenerator,a=e.borderWidth,i=e.borderColor,s=e.isInteractive,o=e.onClick,c=e.onMouseEnter,u=e.onMouseMove,d=e.onMouseLeave,f=e.setActiveId,h=e.tooltip,p=e.transitionMode,m=Rg(),g=m.showTooltipFromEvent,x=m.hideTooltip,v=L.useMemo(function(){if(s)return function(S,T){o==null||o(S,T)}},[s,o]),b=L.useMemo(function(){if(s)return function(S,T){g(L.createElement(h,{datum:S}),T),f(S.id),c==null||c(S,T)}},[s,g,f,c,h]),y=L.useMemo(function(){if(s)return function(S,T){g(L.createElement(h,{datum:S}),T),u==null||u(S,T)}},[s,g,u,h]),C=L.useMemo(function(){if(s)return function(S,T){x(),f(null),d==null||d(S,T)}},[s,x,f,d]);return l.jsx(u3e,{center:t,data:r,arcGenerator:n,borderWidth:a,borderColor:i,transitionMode:p,onClick:v,onMouseEnter:b,onMouseMove:y,onMouseLeave:C})},w3e=["isInteractive","animate","motionConfig","theme","renderWrapper"],_3e=function(e){var t=e.data,r=e.id,n=r===void 0?Rt.id:r,a=e.value,i=a===void 0?Rt.value:a,s=e.valueFormat,o=e.sortByValue,c=o===void 0?Rt.sortByValue:o,u=e.layers,d=u===void 0?Rt.layers:u,f=e.startAngle,h=f===void 0?Rt.startAngle:f,p=e.endAngle,m=p===void 0?Rt.endAngle:p,g=e.padAngle,x=g===void 0?Rt.padAngle:g,v=e.fit,b=v===void 0?Rt.fit:v,y=e.innerRadius,C=y===void 0?Rt.innerRadius:y,S=e.cornerRadius,T=S===void 0?Rt.cornerRadius:S,N=e.activeInnerRadiusOffset,w=N===void 0?Rt.activeInnerRadiusOffset:N,_=e.activeOuterRadiusOffset,P=_===void 0?Rt.activeOuterRadiusOffset:_,A=e.width,j=e.height,F=e.margin,M=e.colors,H=M===void 0?Rt.colors:M,q=e.borderWidth,Y=q===void 0?Rt.borderWidth:q,X=e.borderColor,I=X===void 0?Rt.borderColor:X,J=e.enableArcLabels,Q=J===void 0?Rt.enableArcLabels:J,E=e.arcLabel,R=E===void 0?Rt.arcLabel:E,U=e.arcLabelsSkipAngle,z=U===void 0?Rt.arcLabelsSkipAngle:U,G=e.arcLabelsTextColor,ae=G===void 0?Rt.arcLabelsTextColor:G,ee=e.arcLabelsRadiusOffset,W=ee===void 0?Rt.arcLabelsRadiusOffset:ee,Z=e.arcLabelsComponent,re=e.enableArcLinkLabels,O=re===void 0?Rt.enableArcLinkLabels:re,de=e.arcLinkLabel,ce=de===void 0?Rt.arcLinkLabel:de,pe=e.arcLinkLabelsSkipAngle,K=pe===void 0?Rt.arcLinkLabelsSkipAngle:pe,ne=e.arcLinkLabelsOffset,Te=ne===void 0?Rt.arcLinkLabelsOffset:ne,Ee=e.arcLinkLabelsDiagonalLength,$e=Ee===void 0?Rt.arcLinkLabelsDiagonalLength:Ee,Pe=e.arcLinkLabelsStraightLength,Fe=Pe===void 0?Rt.arcLinkLabelsStraightLength:Pe,ve=e.arcLinkLabelsThickness,me=ve===void 0?Rt.arcLinkLabelsThickness:ve,le=e.arcLinkLabelsTextOffset,be=le===void 0?Rt.arcLinkLabelsTextOffset:le,Oe=e.arcLinkLabelsTextColor,je=Oe===void 0?Rt.arcLinkLabelsTextColor:Oe,Ae=e.arcLinkLabelsColor,Be=Ae===void 0?Rt.arcLinkLabelsColor:Ae,De=e.arcLinkLabelComponent,et=e.defs,Qe=et===void 0?Rt.defs:et,kt=e.fill,jt=kt===void 0?Rt.fill:kt,bt=e.isInteractive,Vt=bt===void 0?Rt.isInteractive:bt,Pt=e.onClick,Ir=e.onMouseEnter,wr=e.onMouseMove,pn=e.onMouseLeave,bn=e.tooltip,gr=bn===void 0?Rt.tooltip:bn,Ft=e.activeId,er=e.onActiveIdChange,Da=e.defaultActiveId,Kr=e.transitionMode,Sn=Kr===void 0?Rt.transitionMode:Kr,Dn=e.legends,Ot=Dn===void 0?Rt.legends:Dn,Yn=e.forwardLegendData,Ct=e.role,ar=Ct===void 0?Rt.role:Ct,fr=mN(A,j,F),Er=fr.outerWidth,oe=fr.outerHeight,Se=fr.margin,xe=fr.innerWidth,ye=fr.innerHeight,_e=m3e({data:t,id:n,value:i,valueFormat:s,colors:H}),Ne=v3e({data:_e,width:xe,height:ye,fit:b,innerRadius:C,startAngle:h,endAngle:m,padAngle:x,sortByValue:c,cornerRadius:T,activeInnerRadiusOffset:w,activeOuterRadiusOffset:P,activeId:Ft,onActiveIdChange:er,defaultActiveId:Da,forwardLegendData:Yn}),He=Ne.dataWithArc,Je=Ne.legendData,Ye=Ne.arcGenerator,Ve=Ne.centerX,Ge=Ne.centerY,lt=Ne.radius,ft=Ne.innerRadius,ht=Ne.setActiveId,ut=Ne.toggleSerie,pt=MI(Qe,He,jt),Dt={arcs:null,arcLinkLabels:null,arcLabels:null,legends:null};d.includes("arcs")&&(Dt.arcs=l.jsx(b3e,{center:[Ve,Ge],data:He,arcGenerator:Ye,borderWidth:Y,borderColor:I,isInteractive:Vt,onClick:Pt,onMouseEnter:Ir,onMouseMove:wr,onMouseLeave:pn,setActiveId:ht,tooltip:gr,transitionMode:Sn},"arcs")),O&&d.includes("arcLinkLabels")&&(Dt.arcLinkLabels=l.jsx(s3e,{center:[Ve,Ge],data:He,label:ce,skipAngle:K,offset:Te,diagonalLength:$e,straightLength:Fe,strokeWidth:me,textOffset:be,textColor:je,linkColor:Be,component:De},"arcLinkLabels")),Q&&d.includes("arcLabels")&&(Dt.arcLabels=l.jsx(Q4e,{center:[Ve,Ge],data:He,label:R,radiusOffset:W,skipAngle:z,textColor:ae,transitionMode:Sn,component:Z},"arcLabels")),Ot.length>0&&d.includes("legends")&&(Dt.legends=l.jsx(h3e,{width:xe,height:ye,data:Je,legends:Ot,toggleSerie:ut},"legends"));var ur=y3e({dataWithArc:He,arcGenerator:Ye,centerX:Ve,centerY:Ge,radius:lt,innerRadius:ft});return l.jsx(yN,{width:Er,height:oe,margin:Se,defs:pt,role:ar,children:d.map(function(xr,mn){return Dt[xr]!==void 0?Dt[xr]:typeof xr=="function"?l.jsx(L.Fragment,{children:L.createElement(xr,ur)},mn):null})})},k3e=function(e){var t=e.isInteractive,r=t===void 0?Rt.isInteractive:t,n=e.animate,a=n===void 0?Rt.animate:n,i=e.motionConfig,s=i===void 0?Rt.motionConfig:i,o=e.theme,c=e.renderWrapper,u=HR(e,w3e);return l.jsx(xN,{animate:a,isInteractive:r,motionConfig:s,renderWrapper:c,theme:o,children:l.jsx(_3e,Bc({isInteractive:r},u))})},zR=function(e){return l.jsx(u2,{children:function(t){var r=t.width,n=t.height;return l.jsx(k3e,Bc({width:r,height:n},e))}})};const VE=["#F4C430","#3498DB","#2ECC71","#E74C3C"],S3e=({monthlyOrderData:e,dailyOrderStats:t})=>{const{theme:r}=Ht(),n=r==="dark",[a,i]=L.useState(window.innerWidth);L.useEffect(()=>{const y=()=>i(window.innerWidth);return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]);const s=e.reduce((y,C)=>y+C.value,0),o=s>0,c=o?e.map((y,C)=>({id:y.name,label:y.name,value:Math.round(y.value/s*100),color:VE[C]??"#9CA3AF"})):[],u=t.slice(-30),d=u.length>0,f=a<640?u.filter((y,C)=>C%3===0||C===u.length-1):u,h=d?[{id:"Orders",color:"#60A5FA",data:f.map(y=>({x:new Date(y.date).getDate().toString(),y:Number.isFinite(y.orders)?y.orders:0}))}]:[],p=new Map(f.map(y=>[new Date(y.date).getDate().toString(),y.date])),m=u.reduce((y,C)=>y+(Number.isFinite(C.orders)?C.orders:0),0),g=a<640,x=a>=640&&a<1024,v=g?{top:5,right:5,bottom:30,left:5}:{top:10,right:10,bottom:40,left:10},b=g?{top:10,right:10,left:30,bottom:40}:x?{top:15,right:15,left:35,bottom:50}:{top:20,right:20,left:40,bottom:60};return l.jsx("div",{className:`w-full overflow-hidden ${n?"text-white":"text-gray-900"}`,children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-5 lg:gap-8",children:[l.jsx("div",{className:`rounded-lg overflow-hidden ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border shadow-sm hover:shadow-md transition-shadow`,children:l.jsxs("div",{className:"p-3 sm:p-4 lg:p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-3 sm:mb-4 lg:mb-6",children:l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold mb-0.5 sm:mb-1 truncate",children:String(s)}),l.jsxs("p",{className:`text-xs lg:text-sm truncate ${n?"text-gray-400":"text-gray-600"}`,children:["Total Orders for ",new Date().toLocaleString("default",{month:"long"})]})]})}),l.jsx("div",{className:"h-[200px] xs:h-[220px] sm:h-[250px] lg:h-[300px] w-full overflow-hidden",style:{background:r==="dark"?"linear-gradient(to bottom, #1f2937, #111827)":"linear-gradient(to bottom, white,#efeff1)",borderRadius:"0.5rem",padding:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:o?l.jsx(zR,{data:c,margin:v,innerRadius:g?.6:.65,padAngle:.5,cornerRadius:1,colors:y=>y.data.color,borderWidth:0,enableArcLinkLabels:!1,arcLabelsSkipAngle:g?15:10,arcLabelsTextColor:"#ffffff",arcLabel:y=>g&&y.value<10?"":`${y.value}%`,legends:[{anchor:"bottom",direction:"row",justify:!1,translateY:g?20:30,itemsSpacing:2,itemWidth:g?70:80,itemHeight:g?18:20,itemTextColor:n?"#e5e7eb":"#6B7280",itemDirection:"left-to-right",itemOpacity:1,symbolSize:g?8:10,symbolShape:"circle"}],theme:{labels:{text:{fontSize:g?10:12,fontWeight:"bold"}},legends:{text:{fontSize:g?8:10}},tooltip:{container:{background:n?"#374151":"#ffffff",color:n?"#e5e7eb":"#1f2937",fontSize:12,borderRadius:6,boxShadow:"0 2px 12px rgba(0,0,0,0.1)",padding:"8px 12px"}},axis:{ticks:{text:{fill:n?"#9ca3af":"#6B7280"}},legend:{text:{fill:n?"#9ca3af":"#6B7280"}}}}}):l.jsx("div",{className:"h-full w-full flex items-center justify-center",children:l.jsx("div",{className:`text-sm ${n?"text-gray-400":"text-gray-500"}`,children:"No order status data yet."})})}),l.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-2 text-xs",children:e.map((y,C)=>l.jsxs("div",{className:`rounded p-2 text-center ${n?"bg-gray-900":"bg-gray-50"}`,children:[l.jsx("p",{className:`${n?"text-gray-400":"text-gray-500"} truncate`,children:y.name}),l.jsx("p",{className:"font-medium mt-1",style:{color:VE[C]},children:y.value})]},y.name))})]})}),l.jsx("div",{className:`rounded-lg overflow-hidden ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border shadow-sm hover:shadow-md transition-shadow`,children:l.jsxs("div",{className:"p-3 sm:p-4 lg:p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-3 sm:mb-4 lg:mb-6",children:l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold mb-0.5 sm:mb-1 truncate",children:String(m)}),l.jsx("p",{className:`text-xs lg:text-sm truncate ${n?"text-gray-400":"text-gray-600"}`,children:"Orders Over The Past Month"})]})}),l.jsx("div",{className:"h-[200px] xs:h-[220px] sm:h-[250px] lg:h-[300px] w-full overflow-hidden",style:{background:r==="dark"?"linear-gradient(to bottom, #1f2937, #111827)":"linear-gradient(to bottom, white, #efeff1)"},children:d?l.jsx(BR,{data:h,margin:b,xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto",stacked:!1},curve:"monotoneX",enableSlices:"x",crosshairType:"x",axisLeft:{tickSize:0,tickPadding:g?5:10,tickRotation:0,format:y=>String(y),legend:g?"":"Number of Orders",legendOffset:-35,legendPosition:"middle"},axisBottom:{tickSize:0,tickPadding:g?8:15,tickRotation:g?-30:-45,format:y=>String(y),legend:g?"":"Day of Month",legendOffset:g?30:45,legendPosition:"middle"},enableGridX:!1,enableGridY:!0,pointSize:g?3:4,pointColor:r==="dark"?"#60A5FA":"#3b82f6",pointBorderWidth:0,enableArea:!0,areaOpacity:.1,areaBaselineValue:0,lineWidth:g?1.5:2,useMesh:!0,colors:[r==="dark"?"#60A5FA":"#3b82f6"],theme:{grid:{line:{stroke:r==="dark"?"#374151":"#f0f0f0",strokeWidth:1}},axis:{legend:{text:{fontSize:g?7:8,fill:r==="dark"?"#9ca3af":"#6B7280"}},ticks:{text:{fontSize:g?7:8,fill:r==="dark"?"#9ca3af":"#6B7280"}}},tooltip:{container:{background:r==="dark"?"#374151":"#ffffff",color:r==="dark"?"#e5e7eb":"#1f2937",fontSize:12,borderRadius:6,boxShadow:"0 2px 12px rgba(0,0,0,0.1)",padding:"8px 12px"}}},tooltip:({point:y})=>{const C=p.get(y.data.x.toString());return l.jsxs("div",{style:{background:r==="dark"?"#374151":"white",padding:g?"6px 10px":"8px 12px",border:`1px solid ${r==="dark"?"#4b5563":"#e5e7eb"}`,borderRadius:"6px",fontSize:g?"10px":"12px",boxShadow:"0 2px 12px rgba(0,0,0,0.1)",color:r==="dark"?"#e5e7eb":"inherit"},children:[l.jsx("strong",{children:String(y.data.y)})," orders",l.jsx("br",{}),l.jsx("span",{className:r==="dark"?"text-gray-400":"text-gray-600",children:C?new Date(C).toLocaleDateString():`Day ${y.data.x}`})]})}}):l.jsx("div",{className:"h-full w-full flex items-center justify-center",children:l.jsx("div",{className:`text-sm ${n?"text-gray-400":"text-gray-500"}`,children:"No order trend data yet."})})}),l.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-2 text-xs",children:[l.jsxs("div",{className:`rounded p-2 text-center ${n?"bg-gray-900":"bg-gray-50"}`,children:[l.jsx("p",{className:`${n?"text-gray-400":"text-gray-500"}`,children:"Daily Avg"}),l.jsx("p",{className:`font-medium mt-1 ${n?"text-blue-400":"text-blue-600"}`,children:(u.length?m/u.length:0).toFixed(1)})]}),l.jsxs("div",{className:`rounded p-2 text-center ${n?"bg-gray-900":"bg-gray-50"}`,children:[l.jsx("p",{className:`${n?"text-gray-400":"text-gray-500"}`,children:"Weekly Avg"}),l.jsx("p",{className:`font-medium mt-1 ${n?"text-blue-400":"text-blue-600"}`,children:(m/4).toFixed(1)})]}),l.jsxs("div",{className:`rounded p-2 text-center ${n?"bg-gray-900":"bg-gray-50"}`,children:[l.jsx("p",{className:`${n?"text-gray-400":"text-gray-500"}`,children:"Highest"}),l.jsx("p",{className:`font-medium mt-1 ${n?"text-green-400":"text-green-600"}`,children:u.length?Math.max(...u.map(y=>y.orders)):0})]}),l.jsxs("div",{className:`rounded p-2 text-center ${n?"bg-gray-900":"bg-gray-50"}`,children:[l.jsx("p",{className:`${n?"text-gray-400":"text-gray-500"}`,children:"Lowest"}),l.jsx("p",{className:`font-medium mt-1 ${n?"text-yellow-400":"text-yellow-600"}`,children:u.length?Math.min(...u.map(y=>y.orders)):0})]})]})]})})]})})},N3e=({isOpen:e,onClose:t,onPaymentRecorded:r,outstandingItems:n,isLoading:a,currencySymbol:i})=>{const{theme:s,getThemeStyle:o}=Ht(),[c,u]=L.useState(null),[d,f]=L.useState(""),h=[...n].filter(p=>p.number.toLowerCase().includes(d.toLowerCase())||p.id.toLowerCase().includes(d.toLowerCase())).sort((p,m)=>new Date(m.created_at).getTime()-new Date(p.created_at).getTime());return e?l.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 transition-opacity","aria-hidden":"true",children:l.jsx("div",{className:`absolute inset-0 ${o(s,"modal","overlay")}`,onClick:t})}),l.jsx("div",{className:"fixed inset-y-0 right-0 flex max-w-full pl-0 sm:pl-10",children:l.jsxs("div",{className:`w-screen max-w-md ${o(s,"modal","background")} shadow-xl overflow-y-auto`,children:[l.jsxs("div",{className:`flex items-center justify-between px-6 py-4 border-b ${o(s,"border","primary")}`,children:[l.jsx("h3",{className:`text-lg font-medium ${o(s,"text","primary")}`,children:"Record Payment"}),l.jsx("button",{onClick:t,className:`${o(s,"text","muted")} ${o(s,"interactive","hover","text")}`,children:l.jsx(cr,{className:"h-5 w-5"})})]}),c?l.jsx("div",{className:"p-6",children:l.jsx(Zf,{orderId:c.id,orderType:c.type,orderNumber:c.number,clientName:c.client_name,outstandingBalance:c.outstanding_balance,onPaymentRecorded:()=>{u(null),t(),r()},isOpen:!0,onClose:()=>u(null),showTriggerButton:!1,currencySymbol:i})}):l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"mb-4",children:l.jsx("input",{type:"text",value:d,onChange:p=>f(p.target.value),className:`${o(s,"background","primary")} 
                  ${o(s,"text","primary")} block w-full rounded-md shadow-sm 
                  h-[40px] pl-3 pr-12 sm:text-sm border ${o(s,"border","primary")}
                  focus:border-blue-500 focus:ring-blue-500`,placeholder:"Search by order number or ID..."})}),a?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):h.length===0?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:o(s,"text","muted"),children:"No outstanding items found"})}):l.jsx("div",{className:"space-y",children:h.map(p=>l.jsx("button",{onClick:()=>u({id:p.id,type:p.type,outstandingBalance:p.outstanding_balance}),className:`w-full text-left p-2 ${o(s,"border","primary")} ${o(s,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-blue-500`,children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${o(s,"text","primary")}`,children:p.number}),l.jsx("p",{className:`text-xs ${o(s,"text","muted")}`,children:p.client_name})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:`text-sm font-medium ${o(s,"text","primary")}`,children:[i," ",p.outstanding_balance.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),l.jsx("p",{className:`text-xs ${o(s,"text","muted")}`,children:new Date(p.created_at).toLocaleDateString()})]})]})},`${p.type}-${p.id}`))})]})]})})]}):null},G5=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),j3e=e=>[{name:yo.pending,value:e.pending,status:"pending"},{name:yo.in_progress,value:e.in_progress,status:"in_progress"},{name:yo.completed,value:e.completed,status:"completed"},{name:yo.cancelled,value:e.cancelled,status:"cancelled"}];function A3e(){var J;const{organization:e}=Zt(),{theme:t}=Ht(),[r,n]=L.useState({activeOrders:0,revenueToday:0,outstandingAmount:0,currentMonthRevenue:0,ordersToday:0,salesToday:0,completedOrdersToday:0,completedTasksToday:0,ordersDueToday:0,monthlyOrderStats:{pending:0,in_progress:0,completed:0,cancelled:0}}),{addToast:a}=Tr(),[i,s]=L.useState([]),[o,c]=L.useState(!0),[u,d]=L.useState(!0),[f,h]=L.useState(!0),[p,m]=L.useState(window.innerWidth),[g,x]=L.useState([]),[v,b]=L.useState([]),[y,C]=L.useState(!1),[S,T]=L.useState(null),[N,w]=L.useState([]),[_,P]=L.useState(!1),[A,j]=L.useState(""),F=e!=null&&e.currency?((J=tn[e.currency])==null?void 0:J.symbol)||e.currency:"$",M=async()=>{var Q,E,R,U,z,G;if(e)try{const ae=new Date().toISOString().split("T")[0],ee=new Date,W=new Date(ee.getFullYear(),ee.getMonth(),1),Z=new Date(ee.getFullYear(),ee.getMonth()+1,0),re=W.toISOString().split("T")[0],O=Z.toISOString().split("T")[0],[de,ce,pe,K,ne,Te,Ee,$e,Pe,Fe]=await Promise.all([We.from("orders").select("*",{count:"exact",head:!0}).eq("organization_id",e.id).not("status","eq","completed").not("status","eq","cancelled"),We.from("orders").select("*",{count:"exact",head:!0}).eq("organization_id",e.id).not("status","eq","cancelled").gte("created_at",ae).lt("created_at",new Date(new Date(ae).getTime()+24*60*60*1e3).toISOString()),We.from("sales_orders").select("*",{count:"exact",head:!0}).eq("organization_id",e.id).gte("created_at",ae).lt("created_at",new Date(new Date(ae).getTime()+24*60*60*1e3).toISOString()),We.from("orders").select("outstanding_balance").eq("organization_id",e.id).not("status","eq","cancelled"),We.from("sales_orders").select("outstanding_balance").eq("organization_id",e.id),We.from("orders").select("*",{count:"exact",head:!0}).eq("organization_id",e.id).eq("status","completed").gte("created_at",ae).lt("created_at",new Date(new Date(ae).getTime()+24*60*60*1e3).toISOString()),We.from("tasks").select("*",{count:"exact",head:!0}).eq("organization_id",e.id).eq("status","completed").gte("created_at",ae).lt("created_at",new Date(new Date(ae).getTime()+24*60*60*1e3).toISOString()),We.from("orders").select("*",{count:"exact",head:!0}).eq("organization_id",e.id).not("status","eq","completed").not("status","eq","cancelled").eq("due_date",ae),We.from("payments").select("amount").eq("organization_id",e.id).gte("created_at",ae).not("status","eq","cancelled").lt("created_at",new Date(new Date(ae).getTime()+24*60*60*1e3).toISOString()),We.from("payments").select("amount").eq("organization_id",e.id).gte("created_at",re).lte("created_at",O+"T23:59:59")]),ve=(((Q=K.data)==null?void 0:Q.reduce((Oe,je)=>Oe+(je.outstanding_balance||0),0))||0)+(((E=ne.data)==null?void 0:E.reduce((Oe,je)=>Oe+(je.outstanding_balance||0),0))||0),me=((R=Pe.data)==null?void 0:R.reduce((Oe,je)=>Oe+(je.amount||0),0))||0,le=((U=Fe.data)==null?void 0:U.reduce((Oe,je)=>Oe+(je.amount||0),0))||0,be=[{key:"activeOrders",value:de.count||0},{key:"ordersToday",value:ce.count||0},{key:"salesToday",value:pe.count||0},{key:"outstandingAmount",value:ve},{key:"outstandingSales",value:((z=ne.data)==null?void 0:z.reduce((Oe,je)=>Oe+(je.outstanding_balance||0),0))||0},{key:"outstandingOrders",value:((G=K.data)==null?void 0:G.reduce((Oe,je)=>Oe+(je.outstanding_balance||0),0))||0},{key:"completedOrdersToday",value:Te.count||0},{key:"completedTasksToday",value:Ee.count||0},{key:"ordersDueToday",value:$e.count||0},{key:"revenueToday",value:me},{key:"currentMonthRevenue",value:le}];for(const Oe of be)n(je=>({...je,[Oe.key]:Oe.value})),b(je=>[...je,Oe.key])}catch(ae){console.error("Error loading basic stats:",ae)}finally{c(!1)}},H=async()=>{if(!(!e||o))try{const Q=new Date,E=new Date(Q.getFullYear(),Q.getMonth(),1),R=new Date(Q.getFullYear(),Q.getMonth()+1,0),U=E.toISOString().split("T")[0],z=R.toISOString().split("T")[0],{data:G}=await We.from("payments").select("amount, reference_id, reference_type, created_at").eq("organization_id",e.id).gte("created_at",U).lte("created_at",z+"T23:59:59"),ae=await Promise.all((G==null?void 0:G.map(async re=>{if(re.reference_type==="service_order"){const{data:O}=await We.from("orders").select("status").eq("id",re.reference_id).single();return(O==null?void 0:O.status)!=="cancelled"?re:null}return re}))||[]),ee=ae.filter(re=>re!==null).reduce((re,O)=>re+((O==null?void 0:O.amount)||0),0),W=new Map;for(let re=0;re<=R.getDate();re++){const O=new Date(E);O.setDate(re+1);const de=O.toISOString().split("T")[0];W.set(de,{total:0,sales:0,service:0})}ae.filter(re=>re!==null).forEach(re=>{const O=re==null?void 0:re.created_at.split("T")[0];if(!O)return;const de=W.get(O)||{total:0,sales:0,service:0},ce=(re==null?void 0:re.amount)||0;(re==null?void 0:re.reference_type)==="sales_order"?de.sales+=ce:(re==null?void 0:re.reference_type)==="service_order"&&(de.service+=ce),de.total+=ce,W.set(O,de)});const Z=Array.from(W.entries()).map(([re,O])=>({date:re,total:O.total,sales:O.sales,service:O.service})).sort((re,O)=>re.date.localeCompare(O.date));s(Z)}catch(Q){console.error("Error loading revenue data:",Q)}finally{d(!1)}},q=async()=>{if(!(!e||u))try{const Q=new Date,E=new Date(Q.getFullYear(),Q.getMonth(),1),R=new Date(Q.getFullYear(),Q.getMonth()+1,0),U=E.toISOString().split("T")[0],z=R.toISOString().split("T")[0],{data:G}=await We.from("orders").select("status").eq("organization_id",e.id).gte("created_at",U).lte("created_at",z+"T23:59:59"),ae={pending:(G==null?void 0:G.filter(de=>de.status==="pending").length)||0,in_progress:(G==null?void 0:G.filter(de=>de.status==="in_progress").length)||0,completed:(G==null?void 0:G.filter(de=>de.status==="completed").length)||0,cancelled:(G==null?void 0:G.filter(de=>de.status==="cancelled").length)||0},ee=new Date;ee.setDate(ee.getDate()-30);const W=ee.toISOString().split("T")[0],{data:Z}=await We.from("orders").select("created_at").eq("organization_id",e.id).gte("created_at",W).order("created_at",{ascending:!0}),re=new Map;Z==null||Z.forEach(de=>{const ce=de.created_at.split("T")[0];re.set(ce,(re.get(ce)||0)+1)});const O=[];for(let de=0;de<30;de++){const ce=new Date;ce.setDate(ce.getDate()-de);const pe=ce.toISOString().split("T")[0];O.unshift({date:pe,orders:re.get(pe)||0})}n(de=>({...de,monthlyOrderStats:ae})),x(O)}catch(Q){console.error("Error loading order stats:",Q)}finally{h(!1)}},Y=async()=>{if(e){P(!0);try{const{data:Q,error:E}=await We.from("sales_orders").select(`
          id,
          order_number,
          outstanding_balance,
          created_at,
          client:clients!client_id (
            name
          )
        `).eq("organization_id",e.id).not("status","eq","cancelled").gt("outstanding_balance",0).order("created_at",{ascending:!1});if(E)throw E;const{data:R,error:U}=await We.from("orders").select(`
          id,
          order_number,
          outstanding_balance,
          created_at,
          client:clients!client_id (
            name
          )
        `).eq("organization_id",e.id).not("status","eq","cancelled").gt("outstanding_balance",0).order("created_at",{ascending:!1});if(U)throw U;const z=[...(Q||[]).map(G=>{var ee,W;const ae=G.client&&Array.isArray(G.client)?(ee=G.client[0])==null?void 0:ee.name:(W=G.client)==null?void 0:W.name;return{id:G.id,type:"sales_order",number:G.order_number,client_name:ae||"N/A",outstanding_balance:G.outstanding_balance,created_at:G.created_at}}),...(R||[]).map(G=>{var ee,W;const ae=G.client&&Array.isArray(G.client)?(ee=G.client[0])==null?void 0:ee.name:(W=G.client)==null?void 0:W.name;return{id:G.id,type:"service_order",number:G.order_number,client_name:ae||"N/A",outstanding_balance:G.outstanding_balance,created_at:G.created_at}})];w(z)}catch(Q){console.error("Error loading outstanding items:",Q),a({type:"error",title:"Error",message:"Failed to load outstanding items"})}finally{P(!1)}}};L.useEffect(()=>{const Q=()=>{m(window.innerWidth)};return window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]),L.useEffect(()=>{M()},[e]),L.useEffect(()=>{H()},[e,o]),L.useEffect(()=>{q()},[e,u]);const X=async()=>{C(!0),await Y()},I=()=>{M(),H(),q()};return N.filter(Q=>Q.number.toLowerCase().includes(A.toLowerCase())||Q.id.toLowerCase().includes(A.toLowerCase())),o?l.jsx("div",{className:"animate-pulse p-4",children:l.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:[...Array(3)].map((Q,E)=>l.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:l.jsxs("div",{className:"p-5",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-4"}),l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4"})]})},E))})}):(r.activeOrders,r.ordersToday,r.ordersDueToday,r.completedOrdersToday,r.completedTasksToday,r.salesToday,`${F}${G5(r.revenueToday)}`,`${F}${G5(r.outstandingAmount)}`,r.outstandingSales,r.outstandingOrders,`${new Date().toLocaleString("default",{month:"long"})}`,`${F}${G5(r.currentMonthRevenue)}`,r.monthlyOrderStats&&(yo.pending,r.monthlyOrderStats.pending,yo.in_progress,r.monthlyOrderStats.in_progress,yo.completed,r.monthlyOrderStats.completed,yo.cancelled,r.monthlyOrderStats.cancelled),l.jsxs("div",{className:`${nt(t,"background","primary")} p-4 overflow-x-hidden`,children:[l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[l.jsxs("div",{className:"lg:w-1/4 xl:w-1/5 min-w-0 sm:max-w-[250px] flex-shrink-0",children:[l.jsx("div",{className:"flex justify-end mb-6 mt-2 sm:hidden",children:l.jsx(zC,{onRecordPayment:X})}),l.jsx(sae,{stats:r,loadedStats:v,currencySymbol:F})]}),l.jsxs("div",{className:"flex-1 space-y-6 min-w-0",children:[l.jsx("div",{className:"flex justify-end mb-6 mt-2 hidden sm:flex",children:l.jsx(zC,{onRecordPayment:X})}),l.jsx("div",{className:"min-w-0",children:l.jsx(S3e,{monthlyOrderData:j3e(r.monthlyOrderStats),dailyOrderStats:g})}),l.jsx("div",{className:"min-w-0",children:l.jsx(H4e,{dailyRevenue:i,isLoading:u,currencySymbol:F,screenWidth:p})})]})]}),l.jsx(N3e,{isOpen:y,onClose:()=>C(!1),onPaymentRecorded:I,outstandingItems:N,isLoading:_,currencySymbol:F})]}))}const gv={pending:"Pending",in_progress:"In Progress",completed:"Completed",delayed:"Delayed",cancelled:"Cancelled"},C3e={pending:Co,in_progress:Co,completed:vr,delayed:ZD,cancelled:Di},xp={pending:{bg:"bg-yellow-100 dark:bg-yellow-900/20",text:"text-yellow-800 dark:text-yellow-400",border:"border-yellow-200 dark:border-yellow-800",hover:"hover:bg-yellow-200 dark:hover:bg-yellow-900/30",icon:"text-yellow-600 dark:text-yellow-400"},in_progress:{bg:"bg-blue-100 dark:bg-blue-900/20",text:"text-blue-800 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",hover:"hover:bg-blue-200 dark:hover:bg-blue-900/30",icon:"text-blue-600 dark:text-blue-400"},completed:{bg:"bg-green-100 dark:bg-green-900/20",text:"text-green-800 dark:text-green-400",border:"border-green-200 dark:border-green-800",hover:"hover:bg-green-200 dark:hover:bg-green-900/30",icon:"text-green-600 dark:text-green-400"},delayed:{bg:"bg-red-100 dark:bg-red-900/20",text:"text-red-800 dark:text-red-400",border:"border-red-200 dark:border-red-800",hover:"hover:bg-red-200 dark:hover:bg-red-900/30",icon:"text-red-600 dark:text-red-400"},cancelled:{bg:"bg-gray-100 dark:bg-gray-900/20",text:"text-gray-800 dark:text-gray-400",border:"border-gray-200 dark:border-gray-800",hover:"hover:bg-gray-200 dark:hover:bg-gray-900/30",icon:"text-gray-600 dark:text-gray-400"}};function vp({status:e}){var I;const{organization:t}=Zt(),{theme:r,getThemeStyle:n}=Ht(),{confirm:a,addToast:i}=Tr(),[s,o]=L.useState([]),[c,u]=L.useState(!0),[d,f]=L.useState(!1),[h,p]=L.useState(null),[m,g]=L.useState(!1),[x,v]=L.useState(!1),[b,y]=L.useState(new Date),[C,S]=L.useState("week"),[T,N]=L.useState(""),[w,_]=L.useState(""),[P,A]=L.useState(null),j=t!=null&&t.currency?((I=tn[t.currency])==null?void 0:I.symbol)||t.currency:"";L.useEffect(()=>{const J=()=>{v(window.innerWidth<640)};return J(),window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]),L.useEffect(()=>{const J=Q=>{Q.target.closest(".status-dropdown-container")||g(!1)};return document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[]);const F=L.useMemo(()=>{switch(C){case"day":return{start:Cc(b),end:Qv(b)};case"week":return{start:Js(b,{weekStartsOn:1}),end:Yh(b,{weekStartsOn:1})};case"month":return{start:Ng(b),end:Sg(b)};case"year":return{start:zh(b),end:jg(b)}}},[b,C]),M=L.useCallback(async()=>{if(!(t!=null&&t.id)||!F)return;const J=t.id;try{const{data:Q,error:E}=await We.from("tasks").select(`
          *,
          project:worker_projects!project_id (
            id,
            name,
            price
          ),
          worker:workers!worker_id (
            id,
            name
          )
        `).eq("organization_id",J).gte("created_at",F.start.toISOString()).lte("created_at",F.end.toISOString()).order("created_at",{ascending:!1});if(E)throw E;o(Q||[])}catch(Q){console.error("Error loading data:",Q)}finally{u(!1)}},[t==null?void 0:t.id,F]);L.useEffect(()=>(t!=null&&t.id&&F&&M(),()=>{}),[M]);const H=J=>{y(Q=>{const E=new Date(Q);switch(C){case"day":return J==="prev"?Sl(E,-1):Sl(E,1);case"week":return J==="prev"?Tc(E,-1):Tc(E,1);case"month":return J==="prev"?Nl(E,-1):Nl(E,1);case"year":return J==="prev"?Ec(E,-1):Ec(E,1);default:return E}})},q=J=>{o(Q=>[J,...Q])},Y=async J=>{if(await a({title:"Delete Task",message:"Are you sure you want to delete this task? This action cannot be undone.",type:"danger",confirmText:"Delete",cancelText:"Cancel"}))try{const{error:E}=await We.from("tasks").update({status:"cancelled"}).eq("id",J);if(E)throw E;o(R=>R.map(U=>U.id===J?{...U,status:"cancelled"}:U)),i({type:"success",title:"Task Deleted",message:"The task has been marked as cancelled."})}catch(E){console.error("Error deleting task:",E),i({type:"error",title:"Error",message:"Failed to delete task. Please try again."})}},X=J=>J?`${gv[J]} (${s.filter(Q=>Q.status===J).length})`:`All Tasks (${s.length})`;return c?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsxs("div",{className:`min-h-[calc(100vh-50px)] px-4 pt-4 ${n(r,"background","primary")}`,children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsx("h2",{className:`text-xl font-semibold ${n(r,"text","primary")}`,children:"Tasks"}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 w-full sm:w-auto",children:[l.jsx("div",{className:"relative w-full sm:w-auto",children:l.jsxs("div",{className:`flex items-center px-3 py-1.5 rounded-lg border ${n(r,"border","primary")} ${n(r,"background","primary")}`,children:[l.jsx(Vc,{className:`h-4 w-4 ${n(r,"text","muted")}`}),l.jsx("input",{type:"text",value:T,onChange:J=>N(J.target.value),placeholder:"Search tasks...",className:`ml-2 text-sm bg-transparent border-none focus:outline-none w-full ${n(r,"text","primary")} placeholder:${n(r,"text","muted")}`})]})}),l.jsxs("button",{onClick:()=>f(!0),className:`inline-flex items-center justify-center px-3 py-1.5 border ${n(r,"border","primary")} rounded-lg text-sm font-medium ${n(r,"text","primary")} ${n(r,"background","primary")} ${n(r,"interactive","hover","background")} transition-colors duration-200 w-full sm:w-auto`,children:[l.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Create"]})]})]}),l.jsxs("div",{className:"rounded-lg shadow-sm mt-4",children:[l.jsx("div",{className:"p-4",children:l.jsx(Ag,{currentDate:b,onDateChange:H,dateFilterType:C,onFilterTypeChange:J=>S(J),itemCount:s.length,itemLabel:"tasks"})}),l.jsxs("div",{className:"px-4 mb-6",children:[l.jsxs("div",{className:"block sm:hidden status-dropdown-container",children:[l.jsxs("button",{onClick:()=>g(!m),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md ${n(r,"background","secondary")} ${n(r,"border","primary")}`,children:[l.jsx("span",{className:`text-sm font-medium ${n(r,"text","primary")}`,children:X(e||null)}),l.jsx(kl,{className:`h-4 w-4 ${n(r,"text","muted")} transition-transform ${m?"rotate-180":""}`})]}),m&&l.jsx("div",{className:`absolute z-10 mt-1 w-full rounded-md shadow-lg ${n(r,"background","secondary")} ${n(r,"border","primary")} border`,children:l.jsxs("div",{className:"py-1",children:[l.jsxs(Rr,{to:"/dashboard/tasks",className:`block w-full text-left px-3 py-2 text-sm ${e?n(r,"text","primary"):"bg-blue-50 text-blue-700"}`,onClick:()=>g(!1),children:["All Tasks (",s.length,")"]}),Object.entries(gv).map(([J,Q])=>l.jsxs(Rr,{to:`/dashboard/tasks/${J}`,className:`block w-full text-left px-3 py-2 text-sm ${e===J?"bg-blue-50 text-blue-700":n(r,"text","primary")}`,onClick:()=>g(!1),children:[Q," (",s.filter(E=>E.status===J).length,")"]},J))]})})]}),l.jsxs("nav",{className:"hidden sm:flex space-x-8","aria-label":"Status filters",children:[l.jsxs(Rr,{to:"/dashboard/tasks",className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-xs ${e?`border-transparent ${n(r,"text","muted")} hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300`:"border-blue-500 text-blue-600"}`,children:["All Tasks",l.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${e?`${n(r,"background","accent")} ${n(r,"text","tertiary")}`:"bg-blue-100 text-blue-800"}`,children:s.length})]}),Object.entries(gv).map(([J,Q])=>l.jsxs(Rr,{to:`/dashboard/tasks/${J}`,className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-xs ${e===J?"border-blue-500 text-blue-600":`border-transparent ${n(r,"text","muted")} hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300`}`,children:[Q,l.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${e===J?"bg-blue-100 text-blue-800":`${n(r,"background","accent")} ${n(r,"text","tertiary")}`}`,children:s.filter(E=>E.status===J).length})]},J))]})]})]}),l.jsx(g$,{isOpen:d,onClose:()=>f(!1),organizationId:(t==null?void 0:t.id)||"",currencySymbol:j,workerId:null,onTaskAdded:q}),l.jsx("div",{className:`${n(r,"background","secondary")} rounded-lg shadow-sm`,children:l.jsx("div",{className:"p-4",children:c?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.length===0?l.jsx("div",{className:`text-center ${n(r,"text","muted")} py-8`,children:e?"No tasks found matching this status.":"No tasks found for this period."}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(J=>{var Q,E;return l.jsx("div",{className:`${n(r,"background","primary")} border ${n(r,"border","primary")} rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200`,children:l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`p-1.5 rounded-full ${xp[J.status].bg}`,children:we.createElement(C3e[J.status],{className:`h-4 w-4 ${xp[J.status].icon}`})}),l.jsxs("div",{children:[l.jsx("h4",{className:`text-sm font-medium ${J.status==="cancelled"?"line-through text-gray-400":n(r,"text","primary")}`,children:((Q=J.project)==null?void 0:Q.name)||"Unknown Project"}),l.jsx("p",{className:`text-xs ${J.status==="cancelled"?"line-through text-gray-400":n(r,"text","muted")}`,children:((E=J.worker)==null?void 0:E.name)||"Unknown Worker"})]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("p",{className:`text-sm font-semibold ${n(r,"text","primary")}`,children:[j," ",J.amount.toFixed(2)]})})]}),l.jsxs("div",{className:"space-y-2",children:[J.description&&l.jsx("p",{className:`text-sm ${J.status==="cancelled"?"line-through text-gray-400":n(r,"text","secondary")}`,children:J.description}),J.delay_reason&&l.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400",children:["Delay reason: ",J.delay_reason]}),l.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500",children:[l.jsxs("span",{children:["Created: ",St(new Date(J.created_at),"MMM d, yyyy HH:mm")]}),J.completed_at&&l.jsxs("span",{children:["Completed: ",St(new Date(J.completed_at),"MMM d, yyyy HH:mm")]})]})]}),l.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-gray-200 dark:border-gray-700",children:[l.jsx("button",{onClick:()=>{J.status!=="cancelled"&&(A(J),p(J.id))},className:`px-3 py-1.5 text-xs font-medium rounded-full ${xp[J.status].bg} ${xp[J.status].text} ${xp[J.status].hover}`,children:gv[J.status]}),J.status!=="cancelled"&&l.jsx("button",{onClick:()=>Y(J.id),className:"text-red-400 hover:text-red-600 dark:hover:text-red-300 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 p-1",children:l.jsx(gi,{className:"h-4 w-4"})})]})]})},J.id)})})})}),l.jsx(x$,{isOpen:!!h,onClose:()=>{p(null),A(null)},task:P,onStatusUpdate:J=>{o(Q=>Q.map(E=>E.id===J.id?J:E))}})]})}const GE=[{value:15,label:"0-15 employees"},{value:30,label:"15-30 employees"},{value:50,label:"30-50 employees"},{value:100,label:"50-100 employees"},{value:200,label:"100-200 employees"},{value:201,label:"200+ employees"}],K5={GHS:{name:"Ghanaian Cedi",symbol:""},USD:{name:"US Dollar",symbol:"$"},EUR:{name:"Euro",symbol:""},GBP:{name:"British Pound",symbol:""},NGN:{name:"Nigerian Naira",symbol:""}};function T3e(){var g,x,v;const{organization:e,signOut:t}=Zt();Lo();const[r,n]=L.useState(!1),{theme:a,toggleTheme:i,getThemeStyle:s}=Ht(),[o,c]=L.useState({name:(e==null?void 0:e.name)||"",country:(e==null?void 0:e.country)||"",city:(e==null?void 0:e.city)||"",address:(e==null?void 0:e.address)||"",employee_count:(e==null?void 0:e.employee_count)||15,phone:(e==null?void 0:e.phone)||"",currency:(e==null?void 0:e.currency)||"GHS"}),[u,d]=L.useState(!1),{confirm:f,addToast:h}=Tr(),p=async()=>{if(!o.name.trim()||!e){n(!1);return}d(!0);try{const{error:b}=await We.from("organizations").update({name:o.name.trim(),country:o.country,city:o.city,address:o.address,employee_count:o.employee_count,phone:o.phone,currency:o.currency}).eq("id",e.id);if(b)throw b;Zt.setState({organization:{...e,...o,name:o.name.trim()}}),n(!1),h({type:"success",title:"Organization Updated",message:"Organization details have been updated successfully."})}catch(b){console.error("Error updating organization:",b),h({type:"error",title:"Error",message:"Failed to update organization name. Please try again."})}finally{d(!1)}},m=async()=>{if(!(!e||!await f({title:"Delete Organization",message:"Are you sure you want to delete your organization? This will permanently delete all workers, tasks, and associated data. This action cannot be undone.",type:"danger",confirmText:"Delete Organization",cancelText:"Cancel"})))try{const{error:y}=await We.from("organizations").delete().eq("id",e.id);if(y)throw y;await t(),window.location.href="/",h({type:"success",title:"Organization Deleted",message:"Your organization and all associated data have been permanently deleted."})}catch(y){console.error("Error deleting organization:",y),h({type:"error",title:"Error",message:"Failed to delete organization. Please try again."})}};return l.jsxs("div",{className:`space-y-6 p-4 ${s(a,"background","primary")}`,children:[l.jsxs("div",{className:`${s(a,"background","secondary")} shadow rounded-lg divide-y ${s(a,"border","primary")}`,children:[l.jsxs("div",{className:"px-6 py-5",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(pm,{className:`h-6 w-6 ${s(a,"text","accent")}`}),l.jsx("h3",{className:`ml-3 text-lg font-medium ${s(a,"text","primary")}`,children:"Import Data"})]}),l.jsx("p",{className:`mt-1 text-sm ${s(a,"text","muted")}`,children:"Import your organization's data from external sources"})]}),l.jsx("div",{className:"px-6 py-5",children:l.jsxs(Rr,{to:"/dashboard/import-data",className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm ${s(a,"text","inverse")} bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:[l.jsx(pm,{className:"h-4 w-4 mr-2"}),"Import Data"]})})]}),l.jsxs("div",{className:`${s(a,"background","secondary")} shadow rounded-lg divide-y ${s(a,"border","primary")}`,children:[l.jsxs("div",{className:"px-6 py-5",children:[l.jsxs("div",{className:"flex items-center",children:[a==="dark"?l.jsx(F_,{className:`h-6 w-6 ${s(a,"text","accent")}`}):l.jsx(L_,{className:`h-6 w-6 ${s(a,"text","accent")}`}),l.jsx("h3",{className:`ml-3 text-lg font-medium ${s(a,"text","primary")}`,children:"Appearance"})]}),l.jsx("p",{className:`mt-1 text-sm ${s(a,"text","muted")}`,children:"Customize the appearance of the application"})]}),l.jsx("div",{className:"px-6 py-5",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${s(a,"text","primary")}`,children:"Dark Mode"}),l.jsx("p",{className:`text-sm ${s(a,"text","muted")}`,children:"Switch between light and dark themes"})]}),l.jsx("button",{onClick:i,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${a==="dark"?"bg-blue-600":"bg-gray-200"}`,children:l.jsxs("span",{className:`pointer-events-none relative inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${a==="dark"?"translate-x-5":"translate-x-0"}`,children:[l.jsx("span",{className:`absolute inset-0 flex h-full w-full items-center justify-center transition-opacity ${a==="dark"?"opacity-0":"opacity-100"}`,children:l.jsx(L_,{className:"h-3 w-3 text-gray-400"})}),l.jsx("span",{className:`absolute inset-0 flex h-full w-full items-center justify-center transition-opacity ${a==="dark"?"opacity-100":"opacity-0"}`,children:l.jsx(F_,{className:"h-3 w-3 text-blue-600"})})]})})]})})]}),l.jsxs("div",{className:`${s(a,"background","secondary")} shadow rounded-lg divide-y ${s(a,"border","primary")}`,children:[l.jsxs("div",{className:"px-6 py-5",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ys,{className:`h-6 w-6 ${s(a,"text","accent")}`}),l.jsx("h3",{className:`ml-3 text-lg font-medium ${s(a,"text","primary")}`,children:"Organization Settings"})]}),l.jsx("p",{className:`mt-1 text-sm ${s(a,"text","muted")}`,children:"Manage your organization's basic information and settings."})]}),l.jsx("div",{className:"px-6 py-5",children:l.jsx("div",{className:"space-y-6",children:l.jsx("div",{children:r?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${s(a,"text","secondary")}`,children:"Organization Name"}),l.jsx("div",{className:"mt-1",children:l.jsx("input",{type:"text",value:o.name,onChange:b=>c(y=>({...y,name:b.target.value})),className:`block w-full px-3 py-2 rounded-md border ${s(a,"border","primary")} ${s(a,"background","primary")} ${s(a,"text","primary")} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,placeholder:"Enter organization name"})})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${s(a,"text","secondary")}`,children:"Country"}),l.jsx("div",{className:"mt-1",children:l.jsx("input",{type:"text",value:o.country,onChange:b=>c(y=>({...y,country:b.target.value})),className:`block w-full px-3 py-2 rounded-md border ${s(a,"border","primary")} ${s(a,"background","primary")} ${s(a,"text","primary")} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`})})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${s(a,"text","secondary")}`,children:"City"}),l.jsx("div",{className:"mt-1",children:l.jsx("input",{type:"text",value:o.city,onChange:b=>c(y=>({...y,city:b.target.value})),className:`block w-full px-3 py-2 rounded-md border ${s(a,"border","primary")} ${s(a,"background","primary")} ${s(a,"text","primary")} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`})})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${s(a,"text","secondary")}`,children:"Address"}),l.jsx("div",{className:"mt-1",children:l.jsx("textarea",{value:o.address,onChange:b=>c(y=>({...y,address:b.target.value})),rows:3,className:`block w-full px-3 py-2 rounded-md border ${s(a,"border","primary")} ${s(a,"background","primary")} ${s(a,"text","primary")} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`})})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${s(a,"text","secondary")}`,children:"Phone Number"}),l.jsx("div",{className:"mt-1",children:l.jsx("input",{type:"tel",value:o.phone,onChange:b=>c(y=>({...y,phone:b.target.value})),className:`block w-full px-3 py-2 rounded-md border ${s(a,"border","primary")} ${s(a,"background","primary")} ${s(a,"text","primary")} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,placeholder:"Enter phone number"})})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${s(a,"text","secondary")}`,children:"Number of Employees"}),l.jsx("div",{className:"mt-1",children:l.jsx("select",{value:o.employee_count||"",onChange:b=>c(y=>({...y,employee_count:parseInt(b.target.value)})),className:`block w-full px-3 py-2 rounded-md border ${s(a,"border","primary")} ${s(a,"background","primary")} ${s(a,"text","primary")} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,children:GE.map((b,y)=>l.jsx("option",{value:b.value,children:b.label},y))})})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${s(a,"text","secondary")}`,children:"Currency"}),l.jsx("div",{className:"mt-1",children:l.jsx("select",{value:o.currency,onChange:b=>c(y=>({...y,currency:b.target.value})),className:`block w-full px-3 py-2 rounded-md border ${s(a,"border","primary")} ${s(a,"background","primary")} ${s(a,"text","primary")} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,children:Object.entries(K5).map(([b,{name:y,symbol:C}])=>l.jsxs("option",{value:b,children:[b," (",C,") - ",y]},b))})})]}),l.jsx("button",{onClick:p,disabled:u||!o.name.trim(),className:`ml-3 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm ${s(a,"text","inverse")} bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400`,children:u?"Saving...":"Save"}),l.jsx("button",{onClick:()=>{n(!1),c({name:(e==null?void 0:e.name)||"",country:(e==null?void 0:e.country)||"",city:(e==null?void 0:e.city)||"",address:(e==null?void 0:e.address)||"",employee_count:(e==null?void 0:e.employee_count)||15,phone:(e==null?void 0:e.phone)||"",currency:(e==null?void 0:e.currency)||"GHS"})},className:`ml-3 inline-flex items-center px-4 py-2 border ${s(a,"border","primary")} text-sm font-medium rounded-md ${s(a,"text","secondary")} ${s(a,"background","primary")} ${s(a,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:"Cancel"})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ys,{className:`h-5 w-5 ${s(a,"text","accent")}`}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${s(a,"text","muted")}`,children:"Organization Name"}),l.jsx("p",{className:`text-base ${s(a,"text","primary")}`,children:e==null?void 0:e.name})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(t$,{className:`h-5 w-5 ${s(a,"text","accent")}`}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${s(a,"text","muted")}`,children:"Country"}),l.jsx("p",{className:`text-base ${s(a,"text","primary")}`,children:e==null?void 0:e.country})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(fY,{className:`h-5 w-5 ${s(a,"text","accent")}`}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${s(a,"text","muted")}`,children:"City"}),l.jsx("p",{className:`text-base ${s(a,"text","primary")}`,children:e==null?void 0:e.city})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(a$,{className:`h-5 w-5 ${s(a,"text","accent")}`}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${s(a,"text","muted")}`,children:"Address"}),l.jsx("p",{className:`text-base ${s(a,"text","primary")}`,children:e==null?void 0:e.address})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(s$,{className:`h-5 w-5 ${s(a,"text","accent")}`}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${s(a,"text","muted")}`,children:"Number of Employees"}),l.jsx("p",{className:`text-base ${s(a,"text","primary")}`,children:((g=GE.find(b=>b.value===(e==null?void 0:e.employee_count)))==null?void 0:g.label)||"Not set"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(pY,{className:`h-5 w-5 ${s(a,"text","accent")}`}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${s(a,"text","muted")}`,children:"Currency"}),l.jsxs("p",{className:`text-base ${s(a,"text","primary")}`,children:[e==null?void 0:e.currency," (",(x=K5[(e==null?void 0:e.currency)||""])==null?void 0:x.symbol,") - ",(v=K5[(e==null?void 0:e.currency)||""])==null?void 0:v.name]})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Xv,{className:`h-5 w-5 ${s(a,"text","accent")}`}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${s(a,"text","muted")}`,children:"Phone Number"}),l.jsx("p",{className:`text-base ${s(a,"text","primary")}`,children:(e==null?void 0:e.phone)||"Not provided"})]})]})]}),l.jsx("button",{onClick:()=>n(!0),className:`inline-flex items-center px-4 py-2 border ${s(a,"border","primary")} text-sm font-medium rounded-md ${s(a,"text","secondary")} ${s(a,"background","primary")} ${s(a,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:"Edit Organization Details"})]})})})})]}),l.jsxs("div",{className:`${s(a,"background","secondary")} shadow rounded-lg divide-y ${s(a,"border","primary")} space-y-4`,children:[l.jsxs("div",{className:"px-6 py-5",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ac,{className:"h-6 w-6 text-red-500"}),l.jsx("h3",{className:"ml-3 text-lg font-medium text-red-600",children:"Danger Zone"})]}),l.jsx("p",{className:`mt-1 text-sm ${s(a,"text","muted")}`,children:"Irreversible and destructive actions"})]}),l.jsx("div",{className:"px-6 py-5",children:l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(Ac,{className:"h-5 w-5 text-red-400"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Delete Organization"}),l.jsxs("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:[l.jsx("p",{children:"Once you delete your organization, there is no going back. Please be certain. This will delete:"}),l.jsxs("ul",{className:"list-disc list-inside mt-2",children:[l.jsx("li",{children:"All workers and their data"}),l.jsx("li",{children:"All tasks and financial records"}),l.jsx("li",{children:"All projects and rates"}),l.jsx("li",{children:"All uploaded files and images"})]})]}),l.jsx("div",{className:"mt-4",children:l.jsx("button",{type:"button",onClick:m,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete Organization"})})]})]})})}),l.jsx("div",{className:"px-6 py-5",children:l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(kY,{className:"h-5 w-5 text-red-400"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Delete Account"}),l.jsxs("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:[l.jsx("p",{children:"Permanently delete your account and all associated data. This action cannot be undone. This will:"}),l.jsxs("ul",{className:"list-disc list-inside mt-2",children:[l.jsx("li",{children:"Delete your user account"}),l.jsx("li",{children:"Delete your organization"}),l.jsx("li",{children:"Remove all workers and their data"}),l.jsx("li",{children:"Remove all tasks and financial records"}),l.jsx("li",{children:"Delete all uploaded files"})]})]}),l.jsx("div",{className:"mt-4",children:l.jsx("button",{type:"button",onClick:async()=>{if(await f({title:"Delete Account",message:"Are you absolutely sure you want to delete your account? This action cannot be undone.",type:"danger",confirmText:"Delete Account",cancelText:"Cancel"}))try{await Zt.getState().deleteAccount(),window.location.href="/"}catch(y){console.error("Error deleting account:",y)}},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete Account Permanently"})})]})]})})})]})]})}function El({currentPage:e,totalPages:t,onPageChange:r,className:n=""}){const[a,i]=L.useState("");if(t<=1)return null;const s=d=>{const f=d.target.value;/^\d*$/.test(f)&&i(f)},o=d=>{if(d.key==="Enter"){const f=parseInt(a);f>=1&&f<=t&&r(f),i("")}},c=()=>{const d=parseInt(a);d>=1&&d<=t&&r(d),i("")},u=()=>{const d=[],h="...";if(t<=7)for(let p=1;p<=t;p++)d.push(p);else if(d.push(1),e<=3){for(let p=2;p<=5;p++)d.push(p);d.push(h),d.push(t)}else if(e>=t-2){d.push(h);for(let p=t-4;p<=t;p++)d.push(p)}else{d.push(h);for(let p=e-1;p<=e+1;p++)d.push(p);d.push(h),d.push(t)}return d};return l.jsxs("div",{className:`flex items-center justify-center space-x-1 max-w-[200px] mx-auto ${n}`,children:[l.jsx("button",{onClick:()=>r(e-1),disabled:e===1,className:`p-1 sm:p-2 rounded-md transition-colors ${e===1?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,"aria-label":"Previous page",children:l.jsx(w3,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),u().map((d,f)=>l.jsx("button",{onClick:()=>typeof d=="number"?r(d):void 0,disabled:typeof d=="string",className:`min-w-[24px] sm:min-w-[32px] h-6 sm:h-8 px-1 sm:px-2 rounded-md transition-colors text-xs sm:text-sm ${d===e?"bg-gray-300 dark:bg-gray-700 font-medium":typeof d=="number"?"hover:bg-gray-50 dark:hover:bg-gray-800":""}`,children:d},`${d}-${f}`)),l.jsx("div",{className:"flex items-center space-x-1 ml-1 sm:ml-2",children:l.jsx("input",{type:"text",value:a,onChange:s,onKeyDown:o,onBlur:c,className:`w-8 sm:w-10 h-5 sm:h-6 px-1 sm:px-2 rounded-md border border-gray-300 dark:border-gray-600 \r
            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\r
            dark:bg-gray-700 text-center text-xs sm:text-sm`,placeholder:e.toString(),"aria-label":"Go to page"})}),l.jsx("button",{onClick:()=>r(e+1),disabled:e===t,className:`p-1 sm:p-2 rounded-md transition-colors ${e===t?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,"aria-label":"Next page",children:l.jsx(Xf,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})}function E3e(){var Fe;const[e,t]=L.useState([]),[r,n]=L.useState(!0),[a,i]=L.useState(""),[s,o]=L.useState("active"),[c,u]=L.useState(null),[d,f]=L.useState(!1),[h,p]=L.useState(1),[m,g]=L.useState(1),[x,v]=L.useState(0),[b,y]=L.useState(0),[C,S]=L.useState(!1),[T,N]=L.useState(!1),[w,_]=L.useState([]),P=20,[A,j]=L.useState({title:"",value:"",type:"text",file:null}),[F,M]=L.useState({name:"",phone:"",address:"",date_of_birth:"",customFields:[{title:"",value:"",type:"text",file:null}],image_url:"",image_file:null}),[H,q]=L.useState(!1),[Y,X]=L.useState(!1),I=L.useRef(null),{organization:J}=Zt(),{confirm:Q,addToast:E}=Tr(),{theme:R,getThemeStyle:U}=Ht(),z=J!=null&&J.currency?((Fe=tn[J.currency])==null?void 0:Fe.symbol)||J.currency:"",[G,ae]=L.useState(!1);L.useEffect(()=>{J&&(a.trim()===""&&(S(!1),W()),ee())},[J,s,h,a]),L.useEffect(()=>{const ve=()=>{ae(window.innerWidth<640)};return ve(),window.addEventListener("resize",ve),()=>window.removeEventListener("resize",ve)},[]);const ee=async()=>{if(J!=null&&J.id)try{const{count:ve}=await We.from("clients").select("*",{count:"exact",head:!0}).eq("organization_id",J.id);y(ve||0)}catch(ve){console.error("Error fetching total clients count:",ve)}},W=async()=>{if(J!=null&&J.id){n(!0);try{const{count:ve}=await We.from("clients").select("*",{count:"exact",head:!0}).eq("organization_id",J.id).eq("status",s);v(ve||0),g(Math.ceil((ve||0)/P));const{data:me,error:le}=await We.from("clients").select(`
          *,
          custom_fields:client_custom_fields(*),
          orders:orders(outstanding_balance, total_amount),
          sales_orders:sales_orders(outstanding_balance, total_amount)
        `).eq("organization_id",J.id).eq("status",s).order("name").range((h-1)*P,h*P-1);if(le)throw le;const be=(me==null?void 0:me.map(Oe=>{var et,Qe,kt,jt;const je=((et=Oe.orders)==null?void 0:et.reduce((bt,Vt)=>bt+(Vt.outstanding_balance||0),0))||0,Ae=((Qe=Oe.sales_orders)==null?void 0:Qe.reduce((bt,Vt)=>bt+(Vt.outstanding_balance||0),0))||0,Be=((kt=Oe.orders)==null?void 0:kt.reduce((bt,Vt)=>bt+(Vt.total_amount||0),0))||0,De=((jt=Oe.sales_orders)==null?void 0:jt.reduce((bt,Vt)=>bt+(Vt.total_amount||0),0))||0;return{...Oe,total_balance:je+Ae,total_spent:Be+De}}))||[];t(be)}catch(ve){console.error("Error loading clients:",ve),E({type:"error",title:"Error",message:"Failed to load clients"})}finally{n(!1)}}},Z=async()=>{if(!(!(J!=null&&J.id)||a.trim()==="")){S(!0),p(1);try{const{data:ve,error:me,count:le}=await We.from("clients").select(`
          *,
          custom_fields:client_custom_fields(*),
          orders:orders(outstanding_balance, total_amount),
          sales_orders:sales_orders(outstanding_balance, total_amount)
        `,{count:"exact"}).eq("organization_id",J.id).eq("status",s).ilike("name",`%${a}%`).order("name");if(me)throw me;const be=(ve==null?void 0:ve.map(Oe=>{var et,Qe,kt,jt;const je=((et=Oe.orders)==null?void 0:et.reduce((bt,Vt)=>bt+(Vt.outstanding_balance||0),0))||0,Ae=((Qe=Oe.sales_orders)==null?void 0:Qe.reduce((bt,Vt)=>bt+(Vt.outstanding_balance||0),0))||0,Be=((kt=Oe.orders)==null?void 0:kt.reduce((bt,Vt)=>bt+(Vt.total_amount||0),0))||0,De=((jt=Oe.sales_orders)==null?void 0:jt.reduce((bt,Vt)=>bt+(Vt.total_amount||0),0))||0;return{...Oe,total_balance:je+Ae,total_spent:Be+De}}))||[];t(be),v(le||0),g(Math.ceil((le||0)/P))}catch(ve){console.error("Error searching clients:",ve),E({type:"error",title:"Error",message:"Failed to search clients"})}finally{n(!1)}}},re=ve=>{var be;const me=(be=ve.target.files)==null?void 0:be[0];if(!me)return;const le=URL.createObjectURL(me);M(Oe=>({...Oe,image_url:le,image_file:me}))},O=async()=>{var ve,me;if(!(!J||!F.name.trim())){q(!0);try{let le=null;if(F.image_file){X(!0);try{const Ae=(ve=F.image_file.name.split(".").pop())==null?void 0:ve.toLowerCase(),Be=`${Math.random().toString(36).substring(2)}.${Ae}`,De=`${J.id}/clients/temp/${Be}`,{error:et}=await We.storage.from("profiles").upload(De,F.image_file,{cacheControl:"3600",upsert:!0});if(et)throw et;const{data:{publicUrl:Qe}}=We.storage.from("profiles").getPublicUrl(De);le=Qe}catch(Ae){console.error("Error uploading image:",Ae),E({type:"error",title:"Error",message:"Failed to upload client image"}),q(!1),X(!1);return}finally{X(!1)}}const{data:be,error:Oe}=await We.from("clients").insert([{organization_id:J.id,name:F.name.trim(),phone:F.phone.trim(),address:F.address.trim(),date_of_birth:F.date_of_birth||null,image_url:le||null,status:"active"}]).select().single();if(Oe){if(Oe.code==="23505"){E({type:"error",title:"Duplicate Client",message:"A client with this name already exists. Please use a different name."});return}throw Oe}const je=F.customFields.filter(Ae=>Ae.title.trim()&&(Ae.type==="text"?Ae.value.trim():Ae.file));if(je.length>0)for(const Ae of je){let Be=Ae.value;if(Ae.type==="file"&&Ae.file){const et=(me=Ae.file.name.split(".").pop())==null?void 0:me.toLowerCase(),Qe=`${Math.random().toString(36).substring(2)}.${et}`,kt=`${J.id}/clients/${be.id}/${Qe}`,{error:jt}=await We.storage.from("profiles").upload(kt,Ae.file,{cacheControl:"3600",upsert:!1});if(jt)throw jt;const{data:{publicUrl:bt}}=We.storage.from("profiles").getPublicUrl(kt);Be=bt}const{error:De}=await We.from("client_custom_fields").insert({client_id:be.id,title:Ae.title.trim(),value:Be,type:Ae.type});if(De)throw De}await W(),M({name:"",phone:"",address:"",date_of_birth:"",customFields:[{title:"",value:"",type:"text",file:null}],image_url:"",image_file:null}),f(!1),E({type:"success",title:"Client Added",message:"New client has been added successfully."})}catch(le){console.error("Error adding client:",le),E({type:"error",title:"Error",message:"Failed to add client"})}finally{q(!1)}}},de=()=>{M(ve=>({...ve,customFields:[...ve.customFields,{title:"",value:"",type:"text",file:null}]}))},ce=ve=>{M(me=>({...me,customFields:me.customFields.filter((le,be)=>be!==ve)}))},pe=(ve,me)=>{M(le=>({...le,customFields:le.customFields.map((be,Oe)=>Oe===ve?{...be,...me}:be)}))},K=ve=>{C?(p(ve),ne(ve)):p(ve)},ne=async ve=>{if(!(!(J!=null&&J.id)||a.trim()==="")){n(!0);try{const me=(ve-1)*P,le=ve*P-1,{data:be,error:Oe}=await We.from("clients").select(`
          *,
          custom_fields:client_custom_fields(*),
          orders:orders(outstanding_balance, total_amount),
          sales_orders:sales_orders(outstanding_balance, total_amount)
        `).eq("organization_id",J.id).eq("status",s).ilike("name",`%${a}%`).order("name").range(me,le);if(Oe)throw Oe;const je=(be==null?void 0:be.map(Ae=>{var kt,jt,bt,Vt;const Be=((kt=Ae.orders)==null?void 0:kt.reduce((Pt,Ir)=>Pt+(Ir.outstanding_balance||0),0))||0,De=((jt=Ae.sales_orders)==null?void 0:jt.reduce((Pt,Ir)=>Pt+(Ir.outstanding_balance||0),0))||0,et=((bt=Ae.orders)==null?void 0:bt.reduce((Pt,Ir)=>Pt+(Ir.total_amount||0),0))||0,Qe=((Vt=Ae.sales_orders)==null?void 0:Vt.reduce((Pt,Ir)=>Pt+(Ir.total_amount||0),0))||0;return{...Ae,total_balance:Be+De,total_spent:et+Qe}}))||[];t(je)}catch(me){console.error("Error fetching search results page:",me),E({type:"error",title:"Error",message:"Failed to load search results page"})}finally{n(!1)}}},Te=async()=>{if(!(w.length===0||!await Q({title:"Delete Selected Clients",message:`Are you sure you want to delete ${w.length} client(s)? This action cannot be undone.`,type:"danger",confirmText:"Delete",cancelText:"Cancel"})))try{const{error:me}=await We.from("clients").delete().in("id",w);if(me)throw me;t(le=>le.filter(be=>!w.includes(be.id))),_([]),N(!1),E({type:"success",title:"Clients Deleted",message:`${w.length} client(s) have been deleted successfully.`})}catch(me){console.error("Error deleting clients:",me),E({type:"error",title:"Error",message:"Failed to delete clients"})}},Ee=async()=>{if(!(w.length===0||!await Q({title:"Archive Selected Clients",message:`Are you sure you want to archive ${w.length} client(s)?`,type:"warning",confirmText:"Archive",cancelText:"Cancel"})))try{const{error:me}=await We.from("clients").update({status:"archived"}).in("id",w);if(me)throw me;t(le=>le.filter(be=>!w.includes(be.id))),_([]),N(!1),E({type:"success",title:"Clients Archived",message:`${w.length} client(s) have been archived successfully.`})}catch(me){console.error("Error archiving clients:",me),E({type:"error",title:"Error",message:"Failed to archive clients"})}},$e=ve=>{_(ve?e.map(me=>me.id):[])},Pe=(ve,me)=>{_(me?le=>[...le,ve]:le=>le.filter(be=>be!==ve))};return r?l.jsx("div",{className:`flex items-center justify-center min-h-[400px] ${U(R,"background","primary")}`,children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsxs("div",{className:`py-3 px-4 min-h-[calc(100vh-50px)] ${U(R,"background","primary")}`,children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[l.jsxs("h2",{className:`text-xl font-semibold ${U(R,"text","primary")}`,children:["Clients | ",b," ",C||s!=="active"?`(${x} ${C?"found":s})`:""]}),l.jsxs("div",{className:"flex items-center flex-col w-full sm:w-auto sm:flex-row gap-3",children:[l.jsxs("div",{className:`flex items-center px-2 py-1.5 w-full sm:w-auto border rounded-md focus-within:ring-1 focus-within:ring-blue-500 focus-within:border-blue-500 ${U(R,"border","primary")}`,children:[l.jsx("input",{type:"text",value:a,onChange:ve=>{i(ve.target.value),Z()},placeholder:"Search name",className:`ml-2 flex-1 outline-none bg-transparent text-sm ${U(R,"text","primary")}`}),l.jsx("button",{className:"ml-1 p-1 rounded-md bg-blue-400 text-white",children:l.jsx(Vc,{className:"h-4 w-4"})})]}),l.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-3 py-1.5 w-full sm:w-auto border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(Hn,{className:"h-4 w-4 mr-1.5"}),"Add Client"]})]})]}),T&&w.length>0&&l.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[l.jsxs("span",{className:`text-sm ${U(R,"text","primary")}`,children:[w.length," client(s) selected"]}),l.jsxs("button",{onClick:Te,className:"inline-flex items-center px-3 py-1.5 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700",children:[l.jsx(gi,{className:"h-4 w-4 mr-1.5"}),"Delete Selected"]}),l.jsxs("button",{onClick:Ee,className:"inline-flex items-center px-3 py-1.5 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-yellow-600 hover:bg-yellow-700",children:[l.jsx(oY,{className:"h-4 w-4 mr-1.5"}),"Archive Selected"]})]}),d&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`fixed inset-0 z-40 ${U(R,"modal","overlay")} transition-opacity`,onClick:()=>f(!1)}),l.jsx("div",{className:`fixed inset-y-0 right-0 z-50 w-[450px] max-w-full overflow-y-auto ${U(R,"modal","background")} shadow-xl transform transition-transform duration-300 ease-in-out`,children:l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:`px-3 sm:px-4 py-2 sm:py-3 border-b ${U(R,"border","primary")} flex items-center justify-between`,children:[l.jsx("h3",{className:`text-base font-medium ${U(R,"text","primary")}`,children:"Add New Client"}),l.jsx("button",{onClick:()=>f(!1),className:`${U(R,"text","muted")} ${U(R,"interactive","hover","text")}`,children:l.jsx(cr,{className:"h-5 w-5"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4",children:l.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsxs("div",{className:`relative h-24 w-24 rounded-full overflow-hidden ${U(R,"background","secondary")} border-2 border-dashed ${U(R,"border","primary")} flex items-center justify-center cursor-pointer hover:border-blue-500 transition-colors`,onClick:()=>{var ve;return(ve=I.current)==null?void 0:ve.click()},children:[F.image_url?l.jsx("img",{src:F.image_url,alt:"Client",className:"w-full h-full object-cover"}):l.jsx(Xs,{className:`h-8 w-8 ${U(R,"text","muted")}`}),Y&&l.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:l.jsx(mi,{className:"h-6 w-6 text-white animate-spin"})})]}),l.jsx("input",{type:"file",ref:I,onChange:re,accept:"image/*",className:"hidden"}),l.jsx("span",{className:`text-xs ${U(R,"text","secondary")}`,children:"Click to upload client photo"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${U(R,"text","secondary")}`,children:"Name *"}),l.jsx("input",{type:"text",value:F.name,onChange:ve=>M(me=>({...me,name:ve.target.value})),className:`mt-1 block w-full rounded-md border ${U(R,"border","primary")} py-1.5 px-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 text-sm ${U(R,"background","secondary")} ${U(R,"text","primary")}`,placeholder:"Enter client name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${U(R,"text","secondary")}`,children:"Phone Number"}),l.jsx("input",{type:"tel",value:F.phone,onChange:ve=>M(me=>({...me,phone:ve.target.value})),className:`mt-1 block w-full rounded-md border ${U(R,"border","primary")} py-1.5 px-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 text-sm ${U(R,"background","secondary")} ${U(R,"text","primary")}`,placeholder:"Enter phone number"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${U(R,"text","secondary")}`,children:"Address"}),l.jsx("textarea",{value:F.address,onChange:ve=>M(me=>({...me,address:ve.target.value})),rows:2,className:`mt-1 block w-full rounded-md border ${U(R,"border","primary")} py-1.5 px-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 text-sm ${U(R,"background","secondary")} ${U(R,"text","primary")}`,placeholder:"Enter address"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${U(R,"text","secondary")}`,children:"Date of Birth"}),l.jsx("input",{type:"date",value:F.date_of_birth,onChange:ve=>M(me=>({...me,date_of_birth:ve.target.value})),className:`mt-1 block w-full rounded-md border ${U(R,"border","primary")} py-1.5 px-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 text-sm ${U(R,"background","secondary")} ${U(R,"text","primary")}`})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:`text-xs font-medium ${U(R,"text","primary")}`,children:"Custom Information"}),l.jsxs("button",{type:"button",onClick:de,className:"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100 dark:hover:bg-blue-800",children:[l.jsx(Hn,{className:"h-3 w-3 mr-1"}),"Add Field"]})]}),F.customFields.map((ve,me)=>l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${U(R,"text","secondary")}`,children:"Title"}),l.jsx("input",{type:"text",value:ve.title,onChange:le=>pe(me,{title:le.target.value}),className:`mt-1 block w-full rounded-md border ${U(R,"border","primary")} py-1.5 px-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 text-sm ${U(R,"background","secondary")} ${U(R,"text","primary")}`,placeholder:"Enter field title"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${U(R,"text","secondary")}`,children:"Type"}),l.jsxs("select",{value:ve.type,onChange:le=>pe(me,{type:le.target.value}),className:`mt-1 block w-full rounded-md border ${U(R,"border","primary")} py-1.5 px-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 text-sm ${U(R,"background","secondary")} ${U(R,"text","primary")}`,children:[l.jsx("option",{value:"text",children:"Text"}),l.jsx("option",{value:"file",children:"File"})]})]}),ve.type==="text"?l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${U(R,"text","secondary")}`,children:"Value"}),l.jsx("input",{type:"text",value:ve.value||"",onChange:le=>pe(me,{value:le.target.value}),className:`mt-1 block w-full rounded-md border ${U(R,"border","primary")} py-1.5 px-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 text-sm ${U(R,"background","secondary")} ${U(R,"text","primary")}`,placeholder:"Enter value"})]}):l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${U(R,"text","secondary")}`,children:"File"}),l.jsxs("div",{className:"mt-1 flex items-center",children:[l.jsx("input",{type:"file",onChange:le=>{var Oe;const be=(Oe=le.target.files)==null?void 0:Oe[0];be&&pe(me,{file:be})},className:"hidden",id:`file-${me}`}),l.jsxs("label",{htmlFor:`file-${me}`,className:`cursor-pointer inline-flex items-center px-3 py-1.5 border ${U(R,"border","primary")} rounded-md shadow-sm text-xs font-medium ${U(R,"text","secondary")} ${U(R,"background","secondary")} ${U(R,"interactive","hover","background")}`,children:[l.jsx(Xs,{className:"h-3 w-3 mr-1.5"}),"Choose File"]}),ve.file&&l.jsx("span",{className:`ml-2 text-xs ${U(R,"text","tertiary")} truncate max-w-[150px]`,children:ve.file.name})]})]})]}),l.jsx("button",{type:"button",onClick:()=>ce(me),className:"mt-6 p-1 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20",children:l.jsx(gi,{className:"h-4 w-4"})})]},me))]})]})}),l.jsxs("div",{className:`px-3 sm:px-4 py-2 sm:py-3 border-t ${U(R,"border","primary")} flex justify-end space-x-2`,children:[l.jsx("button",{onClick:()=>f(!1),className:`px-3 py-1.5 text-xs font-medium ${U(R,"text","secondary")} ${U(R,"interactive","hover","text")}`,children:"Cancel"}),l.jsx("button",{onClick:O,disabled:!F.name.trim(),className:"px-3 py-1.5 text-xs font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-blue-500 disabled:bg-gray-400 dark:disabled:bg-gray-600",children:H?l.jsxs(l.Fragment,{children:[l.jsx(mi,{className:"animate-spin h-3 w-3 mr-1.5"}),"Adding..."]}):"Add Client"})]})]})})]}),l.jsxs("div",{className:"shadow-sm rounded-sm overflow-hidden mt-8",children:[e.length===0?l.jsx("div",{className:`text-center ${U(R,"text","tertiary")} py-6 text-sm`,children:a?"No clients found matching your search.":"No clients added yet."}):G?l.jsx("div",{className:`divide-y ${U(R,"border","primary")}`,children:e.map(ve=>{var me;return l.jsxs(Rr,{to:`/dashboard/clients/${ve.id}`,className:`block p-3 ${U(R,"interactive","hover","background")}`,children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`h-10 w-10 rounded-full ${U(R,"avatar","background")} flex items-center justify-center ${U(R,"avatar","text")} text-sm font-medium mr-3 overflow-hidden`,children:ve.image_url?l.jsx("img",{src:ve.image_url,alt:ve.name,className:"w-full h-full object-cover"}):ve.name.charAt(0).toUpperCase()}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:`text-sm font-medium ${U(R,"text","primary")} truncate`,children:ve.name}),l.jsxs("div",{className:`text-xs ${U(R,"text","tertiary")} truncate`,children:[ve.phone||"No phone"," | ",ve.address]})]}),l.jsx(Xf,{className:`h-5 w-5 ${U(R,"text","tertiary")}`})]}),l.jsxs("div",{className:"mt-2 flex justify-between text-xs",children:[l.jsxs("div",{className:U(R,"text","tertiary"),children:["Spent: ",l.jsxs("span",{className:`font-medium ${U(R,"text","primary")}`,children:[z," ",((me=ve.total_spent)==null?void 0:me.toFixed(2))||"0.00"]})]}),l.jsxs("div",{className:`font-medium ${ve.total_balance>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:["Balance: ",z," ",ve.total_balance.toFixed(2)]})]})]},ve.id)})}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:`border-b ${U(R,"border","primary")}`,children:[T&&l.jsx("th",{scope:"col",className:`px-3 py-2 text-left text-xs font-medium ${U(R,"text","tertiary")} uppercase tracking-wider w-[50px]`,children:l.jsx("input",{type:"checkbox",checked:w.length===e.length,onChange:ve=>$e(ve.target.checked),className:`h-4 w-4 text-blue-600 focus:ring-blue-500 ${U(R,"background","primary")} border-gray-300 rounded`})}),l.jsx("th",{scope:"col",className:`px py-2 text-left text-xs font-medium ${U(R,"text","tertiary")} uppercase tracking-wider w-[80px]`}),l.jsx("th",{scope:"col",className:`pl-3 py-2 text-left text-xs font-medium ${U(R,"text","tertiary")} uppercase tracking-wider w-[250px]`,children:"Client Name"}),l.jsx("th",{scope:"col",className:`pl-3 py-2 text-left text-xs font-medium ${U(R,"text","tertiary")} uppercase tracking-wider w-[200px]`,children:"Contact Info"}),l.jsx("th",{scope:"col",className:`pl-3 py-2 text-right text-xs font-medium ${U(R,"text","tertiary")} uppercase tracking-wider w-[150px]`,children:"Total Spent"}),l.jsx("th",{scope:"col",className:`pl-3 py-2 text-right text-xs font-medium ${U(R,"text","tertiary")} uppercase tracking-wider w-[150px]`,children:"Balance"}),l.jsx("th",{scope:"col",className:`pl-3 py-2 text-center text-xs font-medium ${U(R,"text","tertiary")} uppercase tracking-wider w-[80px]`,children:"View"})]})}),l.jsx("tbody",{className:`${U(R,"background","secondary")}`,children:e.map(ve=>{var me;return l.jsxs("tr",{className:`border-b ${U(R,"border","primary")} ${U(R,"interactive","hover","background")} cursor-pointer`,onClick:le=>{le.target.closest('input[type="checkbox"]')||(window.location.href=`/dashboard/clients/${ve.id}`)},children:[T&&l.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:l.jsx("input",{type:"checkbox",checked:w.includes(ve.id),onChange:le=>Pe(ve.id,le.target.checked),className:`h-4 w-4 text-blue-600 focus:ring-blue-500 ${U(R,"background","primary")} border-gray-300 rounded`})}),l.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:l.jsx("div",{className:`h-10 w-10 rounded-full ${U(R,"avatar","background")} flex items-center justify-center ${U(R,"avatar","text")} text-sm font-medium overflow-hidden`,children:ve.image_url?l.jsx("img",{src:ve.image_url,alt:ve.name,className:"w-full h-full object-cover"}):ve.name.charAt(0).toUpperCase()})}),l.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:l.jsx("div",{className:`text-sm font-medium ${U(R,"text","primary")}`,children:ve.name})}),l.jsxs("td",{className:"px-3 py-2 whitespace-nowrap",children:[l.jsx("div",{className:`text-xs ${U(R,"text","tertiary")}`,children:ve.phone||"No phone"}),l.jsx("div",{className:`text-xs ${U(R,"text","tertiary")}`,children:ve.address})]}),l.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-right",children:l.jsxs("div",{className:`text-sm font-medium ${U(R,"text","primary")}`,children:[z," ",((me=ve.total_spent)==null?void 0:me.toFixed(2))||"0.00"]})}),l.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-right",children:l.jsxs("div",{className:`text-sm font-medium ${ve.total_balance>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[z," ",ve.total_balance.toFixed(2)]})}),l.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:l.jsx(Xf,{className:`h-5 w-5 mx-auto ${U(R,"text","tertiary")}`})})]},ve.id)})})]})}),m>1&&l.jsx("div",{className:"mt-4",children:l.jsx(El,{currentPage:h,totalPages:m,onPageChange:K})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("button",{onClick:()=>N(!T),className:`inline-flex mt-8 items-center px-3 py-1.5 w-full sm:w-auto border rounded-md shadow-sm text-sm font-medium ${T?"bg-red-600 text-white hover:bg-red-700":"bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600"}`,children:T?l.jsxs(l.Fragment,{children:[l.jsx(cr,{className:"h-4 w-4 mr-1.5"}),"Cancel Edit"]}):l.jsxs(l.Fragment,{children:[l.jsx(To,{className:"h-4 w-4 mr-1.5"}),"Edit Mode"]})}),l.jsxs("select",{value:s,onChange:ve=>o(ve.target.value),className:`px-2 py-1.5 w-full sm:w-auto border rounded-md focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${U(R,"border","primary")} ${U(R,"text","primary")} bg-transparent`,children:[l.jsx("option",{value:"active",children:"Active Clients"}),l.jsx("option",{value:"archived",children:"Archived Clients"})]})]})]})]})}function YR(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=YR(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Wt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=YR(e))&&(n&&(n+=" "),n+=t);return n}const VR=6048e5,O3e=864e5,f2=6e4,h2=36e5,P3e=1e3,KE=Symbol.for("constructDateFrom");function Vr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&KE in e?e[KE](t):e instanceof Date?new e.constructor(t):new Date(t)}function Et(e,t){return Vr(t||e,e)}function Ks(e,t,r){const n=Et(e,r==null?void 0:r.in);return isNaN(t)?Vr((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Zs(e,t,r){const n=Et(e,r==null?void 0:r.in);if(isNaN(t))return Vr(e,NaN);if(!t)return n;const a=n.getDate(),i=Vr(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const s=i.getDate();return a>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}function GR(e,t,r){return Vr(e,+Et(e)+t)}function D3e(e,t,r){return GR(e,t*h2)}let $3e={};function Od(){return $3e}function Ol(e,t){var o,c,u,d;const r=Od(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Et(e,t==null?void 0:t.in),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function mh(e,t){return Ol(e,{...t,weekStartsOn:1})}function KR(e,t){const r=Et(e,t==null?void 0:t.in),n=r.getFullYear(),a=Vr(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=mh(a),s=Vr(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=mh(s);return r.getTime()>=i.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function Yy(e){const t=Et(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Fl(e,...t){const r=Vr.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function ld(e,t){const r=Et(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function gh(e,t,r){const[n,a]=Fl(r==null?void 0:r.in,e,t),i=ld(n),s=ld(a),o=+i-Yy(i),c=+s-Yy(s);return Math.round((o-c)/O3e)}function M3e(e,t){const r=KR(e,t),n=Vr(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),mh(n)}function Gk(e,t,r){const n=Et(e,r==null?void 0:r.in);return n.setTime(n.getTime()+t*f2),n}function PN(e,t,r){return Zs(e,t*3,r)}function F3e(e,t,r){return GR(e,t*1e3)}function Vy(e,t,r){return Ks(e,t*7,r)}function pl(e,t,r){return Zs(e,t*12,r)}function XE(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Vr.bind(null,a));const i=Et(a,n);(!r||r<i||isNaN(+i))&&(r=i)}),Vr(n,r||NaN)}function JE(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Vr.bind(null,a));const i=Et(a,n);(!r||r>i||isNaN(+i))&&(r=i)}),Vr(n,r||NaN)}function L3e(e,t,r){const[n,a]=Fl(r==null?void 0:r.in,e,t);return+ld(n)==+ld(a)}function ml(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Gy(e){return!(!ml(e)&&typeof e!="number"||isNaN(+Et(e)))}function Ky(e,t,r){const[n,a]=Fl(r==null?void 0:r.in,e,t),i=n.getFullYear()-a.getFullYear(),s=n.getMonth()-a.getMonth();return i*12+s}function Wu(e,t){const r=Et(e,t==null?void 0:t.in);return Math.trunc(r.getMonth()/3)+1}function Xy(e,t,r){const[n,a]=Fl(r==null?void 0:r.in,e,t),i=n.getFullYear()-a.getFullYear(),s=Wu(n)-Wu(a);return i*4+s}function Jy(e,t,r){const[n,a]=Fl(r==null?void 0:r.in,e,t);return n.getFullYear()-a.getFullYear()}function I3e(e,t,r){const[n,a]=Fl(r==null?void 0:r.in,e,t),i=QE(n,a),s=Math.abs(gh(n,a));n.setDate(n.getDate()-i*s);const o=+(QE(n,a)===-i),c=i*(s-o);return c===0?0:c}function QE(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function XR(e,t){const r=Et(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function JR(e,t){const r=Et(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Kk(e,t){const r=Et(e,t==null?void 0:t.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function QR(e,t){const r=Et(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function ZR(e,t){const r=Et(e,t==null?void 0:t.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function p2(e,t){const r=Et(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function R3e(e,t){var o,c;const r=Od(),n=r.weekStartsOn??((c=(o=r.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??0,a=Et(e,t==null?void 0:t.in),i=a.getDay(),s=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}const B3e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},U3e=(e,t,r)=>{let n;const a=B3e[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function X5(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const W3e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},q3e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},H3e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},z3e={date:X5({formats:W3e,defaultWidth:"full"}),time:X5({formats:q3e,defaultWidth:"full"}),dateTime:X5({formats:H3e,defaultWidth:"full"})},Y3e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},V3e=(e,t,r,n)=>Y3e[e];function yp(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=e.formattingValues[o]||e.formattingValues[s]}else{const s=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[o]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const G3e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},K3e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},X3e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},J3e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Q3e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Z3e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eSe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},tSe={ordinalNumber:eSe,era:yp({values:G3e,defaultWidth:"wide"}),quarter:yp({values:K3e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:yp({values:X3e,defaultWidth:"wide"}),day:yp({values:J3e,defaultWidth:"wide"}),dayPeriod:yp({values:Q3e,defaultWidth:"wide",formattingValues:Z3e,defaultFormattingWidth:"wide"})};function bp(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?nSe(o,f=>f.test(s)):rSe(o,f=>f.test(s));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(s.length);return{value:u,rest:d}}}function rSe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function nSe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function aSe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const o=t.slice(a.length);return{value:s,rest:o}}}const iSe=/^(\d+)(th|st|nd|rd)?/i,sSe=/\d+/i,oSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lSe={any:[/^b/i,/^(a|c)/i]},cSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uSe={any:[/1/i,/2/i,/3/i,/4/i]},dSe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hSe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pSe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xSe={ordinalNumber:aSe({matchPattern:iSe,parsePattern:sSe,valueCallback:e=>parseInt(e,10)}),era:bp({matchPatterns:oSe,defaultMatchWidth:"wide",parsePatterns:lSe,defaultParseWidth:"any"}),quarter:bp({matchPatterns:cSe,defaultMatchWidth:"wide",parsePatterns:uSe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bp({matchPatterns:dSe,defaultMatchWidth:"wide",parsePatterns:fSe,defaultParseWidth:"any"}),day:bp({matchPatterns:hSe,defaultMatchWidth:"wide",parsePatterns:pSe,defaultParseWidth:"any"}),dayPeriod:bp({matchPatterns:mSe,defaultMatchWidth:"any",parsePatterns:gSe,defaultParseWidth:"any"})},e9={code:"en-US",formatDistance:U3e,formatLong:z3e,formatRelative:V3e,localize:tSe,match:xSe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vSe(e,t){const r=Et(e,t==null?void 0:t.in);return gh(r,p2(r))+1}function DN(e,t){const r=Et(e,t==null?void 0:t.in),n=+mh(r)-+M3e(r);return Math.round(n/VR)+1}function $N(e,t){var d,f,h,p;const r=Et(e,t==null?void 0:t.in),n=r.getFullYear(),a=Od(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=Vr((t==null?void 0:t.in)||e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const o=Ol(s,t),c=Vr((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Ol(c,t);return+r>=+o?n+1:+r>=+u?n:n-1}function ySe(e,t){var o,c,u,d;const r=Od(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=$N(e,t),i=Vr((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Ol(i,t)}function t9(e,t){const r=Et(e,t==null?void 0:t.in),n=+Ol(r,t)-+ySe(r,t);return Math.round(n/VR)+1}function zr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const nc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return zr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):zr(r+1,2)},d(e,t){return zr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return zr(e.getHours()%12||12,t.length)},H(e,t){return zr(e.getHours(),t.length)},m(e,t){return zr(e.getMinutes(),t.length)},s(e,t){return zr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return zr(a,t.length)}},bf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ZE={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return nc.y(e,t)},Y:function(e,t,r,n){const a=$N(e,n),i=a>0?a:1-a;if(t==="YY"){const s=i%100;return zr(s,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):zr(i,t.length)},R:function(e,t){const r=KR(e);return zr(r,t.length)},u:function(e,t){const r=e.getFullYear();return zr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return zr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return zr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return nc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return zr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=t9(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):zr(a,t.length)},I:function(e,t,r){const n=DN(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):zr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):nc.d(e,t)},D:function(e,t,r){const n=vSe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):zr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return zr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return zr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return zr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=bf.noon:n===0?a=bf.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=bf.evening:n>=12?a=bf.afternoon:n>=4?a=bf.morning:a=bf.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return nc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):nc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):zr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):zr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):nc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):nc.s(e,t)},S:function(e,t){return nc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return tO(n);case"XXXX":case"XX":return vu(n);case"XXXXX":case"XXX":default:return vu(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return tO(n);case"xxxx":case"xx":return vu(n);case"xxxxx":case"xxx":default:return vu(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+eO(n,":");case"OOOO":default:return"GMT"+vu(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+eO(n,":");case"zzzz":default:return"GMT"+vu(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return zr(n,t.length)},T:function(e,t,r){return zr(+e,t.length)}};function eO(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+zr(i,2)}function tO(e,t){return e%60===0?(e>0?"-":"+")+zr(Math.abs(e)/60,2):vu(e,t)}function vu(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=zr(Math.trunc(n/60),2),i=zr(n%60,2);return r+a+t+i}const rO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},r9=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},bSe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return rO(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",rO(n,t)).replace("{{time}}",r9(a,t))},Xk={p:r9,P:bSe},wSe=/^D+$/,_Se=/^Y+$/,kSe=["D","DD","YY","YYYY"];function SSe(e){return wSe.test(e)}function NSe(e){return _Se.test(e)}function jSe(e,t,r){const n=ASe(e,t,r);if(console.warn(n),kSe.includes(e))throw new RangeError(n)}function ASe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const CSe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TSe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ESe=/^'([^]*?)'?$/,OSe=/''/g,PSe=/[a-zA-Z]/;function nO(e,t,r){var d,f,h,p,m,g,x,v;const n=Od(),a=(r==null?void 0:r.locale)??n.locale??e9,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((g=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((v=(x=n.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,o=Et(e,r==null?void 0:r.in);if(!Gy(o))throw new RangeError("Invalid time value");let c=t.match(TSe).map(b=>{const y=b[0];if(y==="p"||y==="P"){const C=Xk[y];return C(b,a.formatLong)}return b}).join("").match(CSe).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const y=b[0];if(y==="'")return{isToken:!1,value:DSe(b)};if(ZE[y])return{isToken:!0,value:b};if(y.match(PSe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(o,c));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const y=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&NSe(y)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&SSe(y))&&jSe(y,t,String(e));const C=ZE[y[0]];return C(o,y,a.localize,u)}).join("")}function DSe(e){const t=e.match(ESe);return t?t[1].replace(OSe,"'"):e}function aO(e,t){return Et(e,t==null?void 0:t.in).getDate()}function $Se(e,t){return Et(e,t==null?void 0:t.in).getDay()}function MSe(e,t){const r=Et(e,t==null?void 0:t.in),n=r.getFullYear(),a=r.getMonth(),i=Vr(r,0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function FSe(){return Object.assign({},Od())}function gl(e,t){return Et(e,t==null?void 0:t.in).getHours()}function LSe(e,t){const r=Et(e,t==null?void 0:t.in).getDay();return r===0?7:r}function xl(e,t){return Et(e,t==null?void 0:t.in).getMinutes()}function di(e,t){return Et(e,t==null?void 0:t.in).getMonth()}function Nc(e){return Et(e).getSeconds()}function Jk(e){return+Et(e)}function dr(e,t){return Et(e,t==null?void 0:t.in).getFullYear()}function Uc(e,t){return+Et(e)>+Et(t)}function cd(e,t){return+Et(e)<+Et(t)}function ISe(e,t){return+Et(e)==+Et(t)}function RSe(e,t){const r=BSe(t)?new t(0):Vr(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function BSe(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const USe=10;class n9{constructor(){_t(this,"subPriority",0)}validate(t,r){return!0}}class WSe extends n9{constructor(t,r,n,a,i){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class qSe extends n9{constructor(r,n){super();_t(this,"priority",USe);_t(this,"subPriority",-1);this.context=r||(a=>Vr(n,a))}set(r,n){return n.timestampIsSet?r:Vr(r,RSe(r,this.context))}}class Lr{run(t,r,n,a){const i=this.parse(t,r,n,a);return i?{setter:new WSe(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,n){return!0}}class HSe extends Lr{constructor(){super(...arguments);_t(this,"priority",140);_t(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const Bn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},xo={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Un(e,t){return e&&{value:t(e.value),rest:e.rest}}function kn(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function vo(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,s=r[5]?parseInt(r[5],10):0;return{value:n*(a*h2+i*f2+s*P3e),rest:t.slice(r[0].length)}}function a9(e){return kn(Bn.anyDigitsSigned,e)}function Pn(e,t){switch(e){case 1:return kn(Bn.singleDigit,t);case 2:return kn(Bn.twoDigits,t);case 3:return kn(Bn.threeDigits,t);case 4:return kn(Bn.fourDigits,t);default:return kn(new RegExp("^\\d{1,"+e+"}"),t)}}function Qy(e,t){switch(e){case 1:return kn(Bn.singleDigitSigned,t);case 2:return kn(Bn.twoDigitsSigned,t);case 3:return kn(Bn.threeDigitsSigned,t);case 4:return kn(Bn.fourDigitsSigned,t);default:return kn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function MN(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function i9(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const i=n+50,s=Math.trunc(i/100)*100,o=e>=i%100;a=e+s-(o?100:0)}return r?a:1-a}function s9(e){return e%400===0||e%4===0&&e%100!==0}class zSe extends Lr{constructor(){super(...arguments);_t(this,"priority",130);_t(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const i=s=>({year:s,isTwoDigitYear:n==="yy"});switch(n){case"y":return Un(Pn(4,r),i);case"yo":return Un(a.ordinalNumber(r,{unit:"year"}),i);default:return Un(Pn(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const i=r.getFullYear();if(a.isTwoDigitYear){const o=i9(a.year,i);return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}const s=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class YSe extends Lr{constructor(){super(...arguments);_t(this,"priority",130);_t(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const i=s=>({year:s,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Un(Pn(4,r),i);case"Yo":return Un(a.ordinalNumber(r,{unit:"year"}),i);default:return Un(Pn(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,i){const s=$N(r,i);if(a.isTwoDigitYear){const c=i9(a.year,s);return r.setFullYear(c,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Ol(r,i)}const o=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(o,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Ol(r,i)}}class VSe extends Lr{constructor(){super(...arguments);_t(this,"priority",130);_t(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return Qy(n==="R"?4:n.length,r)}set(r,n,a){const i=Vr(r,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),mh(i)}}class GSe extends Lr{constructor(){super(...arguments);_t(this,"priority",130);_t(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return Qy(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class KSe extends Lr{constructor(){super(...arguments);_t(this,"priority",120);_t(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return Pn(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class XSe extends Lr{constructor(){super(...arguments);_t(this,"priority",120);_t(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return Pn(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class JSe extends Lr{constructor(){super(...arguments);_t(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);_t(this,"priority",110)}parse(r,n,a){const i=s=>s-1;switch(n){case"M":return Un(kn(Bn.month,r),i);case"MM":return Un(Pn(2,r),i);case"Mo":return Un(a.ordinalNumber(r,{unit:"month"}),i);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class QSe extends Lr{constructor(){super(...arguments);_t(this,"priority",110);_t(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const i=s=>s-1;switch(n){case"L":return Un(kn(Bn.month,r),i);case"LL":return Un(Pn(2,r),i);case"Lo":return Un(a.ordinalNumber(r,{unit:"month"}),i);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function ZSe(e,t,r){const n=Et(e,r==null?void 0:r.in),a=t9(n,r)-t;return n.setDate(n.getDate()-a*7),Et(n,r==null?void 0:r.in)}class eNe extends Lr{constructor(){super(...arguments);_t(this,"priority",100);_t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return kn(Bn.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Pn(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,i){return Ol(ZSe(r,a,i),i)}}function tNe(e,t,r){const n=Et(e,r==null?void 0:r.in),a=DN(n,r)-t;return n.setDate(n.getDate()-a*7),n}class rNe extends Lr{constructor(){super(...arguments);_t(this,"priority",100);_t(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return kn(Bn.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Pn(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return mh(tNe(r,a))}}const nNe=[31,28,31,30,31,30,31,31,30,31,30,31],aNe=[31,29,31,30,31,30,31,31,30,31,30,31];class iNe extends Lr{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"subPriority",1);_t(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return kn(Bn.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Pn(n.length,r)}}validate(r,n){const a=r.getFullYear(),i=s9(a),s=r.getMonth();return i?n>=1&&n<=aNe[s]:n>=1&&n<=nNe[s]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class sNe extends Lr{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"subpriority",1);_t(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return kn(Bn.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Pn(n.length,r)}}validate(r,n){const a=r.getFullYear();return s9(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function FN(e,t,r){var f,h,p,m;const n=Od(),a=(r==null?void 0:r.weekStartsOn)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=Et(e,r==null?void 0:r.in),s=i.getDay(),c=(t%7+7)%7,u=7-a,d=t<0||t>6?t-(s+u)%7:(c+u)%7-(s+u)%7;return Ks(i,d,r)}class oNe extends Lr{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=FN(r,a,i),r.setHours(0,0,0,0),r}}class lNe extends Lr{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,i){const s=o=>{const c=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return Un(Pn(n.length,r),s);case"eo":return Un(a.ordinalNumber(r,{unit:"day"}),s);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=FN(r,a,i),r.setHours(0,0,0,0),r}}class cNe extends Lr{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,i){const s=o=>{const c=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return Un(Pn(n.length,r),s);case"co":return Un(a.ordinalNumber(r,{unit:"day"}),s);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=FN(r,a,i),r.setHours(0,0,0,0),r}}function uNe(e,t,r){const n=Et(e,r==null?void 0:r.in),a=LSe(n,r),i=t-a;return Ks(n,i,r)}class dNe extends Lr{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const i=s=>s===0?7:s;switch(n){case"i":case"ii":return Pn(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return Un(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Un(a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Un(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Un(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=uNe(r,a),r.setHours(0,0,0,0),r}}class fNe extends Lr{constructor(){super(...arguments);_t(this,"priority",80);_t(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(MN(a),0,0,0),r}}class hNe extends Lr{constructor(){super(...arguments);_t(this,"priority",80);_t(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(MN(a),0,0,0),r}}class pNe extends Lr{constructor(){super(...arguments);_t(this,"priority",80);_t(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(MN(a),0,0,0),r}}class mNe extends Lr{constructor(){super(...arguments);_t(this,"priority",70);_t(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return kn(Bn.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Pn(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const i=r.getHours()>=12;return i&&a<12?r.setHours(a+12,0,0,0):!i&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class gNe extends Lr{constructor(){super(...arguments);_t(this,"priority",70);_t(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return kn(Bn.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Pn(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class xNe extends Lr{constructor(){super(...arguments);_t(this,"priority",70);_t(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return kn(Bn.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Pn(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class vNe extends Lr{constructor(){super(...arguments);_t(this,"priority",70);_t(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return kn(Bn.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Pn(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const i=a<=24?a%24:a;return r.setHours(i,0,0,0),r}}class yNe extends Lr{constructor(){super(...arguments);_t(this,"priority",60);_t(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return kn(Bn.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Pn(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class bNe extends Lr{constructor(){super(...arguments);_t(this,"priority",50);_t(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return kn(Bn.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Pn(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class wNe extends Lr{constructor(){super(...arguments);_t(this,"priority",30);_t(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Un(Pn(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class _Ne extends Lr{constructor(){super(...arguments);_t(this,"priority",10);_t(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return vo(xo.basicOptionalMinutes,r);case"XX":return vo(xo.basic,r);case"XXXX":return vo(xo.basicOptionalSeconds,r);case"XXXXX":return vo(xo.extendedOptionalSeconds,r);case"XXX":default:return vo(xo.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Vr(r,r.getTime()-Yy(r)-a)}}class kNe extends Lr{constructor(){super(...arguments);_t(this,"priority",10);_t(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return vo(xo.basicOptionalMinutes,r);case"xx":return vo(xo.basic,r);case"xxxx":return vo(xo.basicOptionalSeconds,r);case"xxxxx":return vo(xo.extendedOptionalSeconds,r);case"xxx":default:return vo(xo.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Vr(r,r.getTime()-Yy(r)-a)}}class SNe extends Lr{constructor(){super(...arguments);_t(this,"priority",40);_t(this,"incompatibleTokens","*")}parse(r){return a9(r)}set(r,n,a){return[Vr(r,a*1e3),{timestampIsSet:!0}]}}class NNe extends Lr{constructor(){super(...arguments);_t(this,"priority",20);_t(this,"incompatibleTokens","*")}parse(r){return a9(r)}set(r,n,a){return[Vr(r,a),{timestampIsSet:!0}]}}const jNe={G:new HSe,y:new zSe,Y:new YSe,R:new VSe,u:new GSe,Q:new KSe,q:new XSe,M:new JSe,L:new QSe,w:new eNe,I:new rNe,d:new iNe,D:new sNe,E:new oNe,e:new lNe,c:new cNe,i:new dNe,a:new fNe,b:new hNe,B:new pNe,h:new mNe,H:new gNe,K:new xNe,k:new vNe,m:new yNe,s:new bNe,S:new wNe,X:new _Ne,x:new kNe,t:new SNe,T:new NNe},ANe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CNe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TNe=/^'([^]*?)'?$/,ENe=/''/g,ONe=/\S/,PNe=/[a-zA-Z]/;function DNe(e,t,r,n){var x,v,b,y,C,S,T,N;const a=()=>Vr((n==null?void 0:n.in)||r,NaN),i=FSe(),s=(n==null?void 0:n.locale)??i.locale??e9,o=(n==null?void 0:n.firstWeekContainsDate)??((v=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(b=i.locale)==null?void 0:b.options)==null?void 0:y.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((S=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:S.weekStartsOn)??i.weekStartsOn??((N=(T=i.locale)==null?void 0:T.options)==null?void 0:N.weekStartsOn)??0;if(!t)return e?a():Et(r,n==null?void 0:n.in);const u={firstWeekContainsDate:o,weekStartsOn:c,locale:s},d=[new qSe(n==null?void 0:n.in,r)],f=t.match(CNe).map(w=>{const _=w[0];if(_ in Xk){const P=Xk[_];return P(w,s.formatLong)}return w}).join("").match(ANe),h=[];for(let w of f){const _=w[0],P=jNe[_];if(P){const{incompatibleTokens:A}=P;if(Array.isArray(A)){const F=h.find(M=>A.includes(M.token)||M.token===_);if(F)throw new RangeError(`The format string mustn't contain \`${F.fullToken}\` and \`${w}\` at the same time`)}else if(P.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);h.push({token:_,fullToken:w});const j=P.run(e,w,s.match,u);if(!j)return a();d.push(j.setter),e=j.rest}else{if(_.match(PNe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if(w==="''"?w="'":_==="'"&&(w=$Ne(w)),e.indexOf(w)===0)e=e.slice(w.length);else return a()}}if(e.length>0&&ONe.test(e))return a();const p=d.map(w=>w.priority).sort((w,_)=>_-w).filter((w,_,P)=>P.indexOf(w)===_).map(w=>d.filter(_=>_.priority===w).sort((_,P)=>P.subPriority-_.subPriority)).map(w=>w[0]);let m=Et(r,n==null?void 0:n.in);if(isNaN(+m))return a();const g={};for(const w of p){if(!w.validate(m,u))return a();const _=w.set(m,g,u);Array.isArray(_)?(m=_[0],Object.assign(g,_[1])):m=_}return m}function $Ne(e){return e.match(TNe)[1].replace(ENe,"'")}function MNe(e,t,r){const[n,a]=Fl(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function FNe(e,t,r){const[n,a]=Fl(r==null?void 0:r.in,e,t);return+Kk(n)==+Kk(a)}function LNe(e,t,r){const[n,a]=Fl(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()}function Wm(e,t,r){const n=+Et(e,r==null?void 0:r.in),[a,i]=[+Et(t.start,r==null?void 0:r.in),+Et(t.end,r==null?void 0:r.in)].sort((s,o)=>s-o);return n>=a&&n<=i}function INe(e,t,r){return Ks(e,-1,r)}function RNe(e,t){const r=()=>Vr(t==null?void 0:t.in,NaN),a=qNe(e);let i;if(a.date){const u=HNe(a.date,2);i=zNe(u.restDateString,u.year)}if(!i||isNaN(+i))return r();const s=+i;let o=0,c;if(a.time&&(o=YNe(a.time),isNaN(o)))return r();if(a.timezone){if(c=VNe(a.timezone),isNaN(c))return r()}else{const u=new Date(s+o),d=Et(0,t==null?void 0:t.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return Et(s+o+c,t==null?void 0:t.in)}const xv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},BNe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,UNe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,WNe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function qNe(e){const t={},r=e.split(xv.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],xv.timeZoneDelimiter.test(t.date)&&(t.date=e.split(xv.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=xv.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function HNe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function zNe(e,t){if(t===null)return new Date(NaN);const r=e.match(BNe);if(!r)return new Date(NaN);const n=!!r[4],a=wp(r[1]),i=wp(r[2])-1,s=wp(r[3]),o=wp(r[4]),c=wp(r[5])-1;if(n)return QNe(t,o,c)?GNe(t,o,c):new Date(NaN);{const u=new Date(0);return!XNe(t,i,s)||!JNe(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,s)),u)}}function wp(e){return e?parseInt(e):1}function YNe(e){const t=e.match(UNe);if(!t)return NaN;const r=J5(t[1]),n=J5(t[2]),a=J5(t[3]);return ZNe(r,n,a)?r*h2+n*f2+a*1e3:NaN}function J5(e){return e&&parseFloat(e.replace(",","."))||0}function VNe(e){if(e==="Z")return 0;const t=e.match(WNe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return eje(n,a)?r*(n*h2+a*f2):NaN}function GNe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const KNe=[31,null,31,30,31,30,31,31,30,31,30,31];function o9(e){return e%400===0||e%4===0&&e%100!==0}function XNe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(KNe[t]||(o9(e)?29:28))}function JNe(e,t){return t>=1&&t<=(o9(e)?366:365)}function QNe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function ZNe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function eje(e,t){return t>=0&&t<=59}function ds(e,t,r){const n=Et(e,r==null?void 0:r.in),a=n.getFullYear(),i=n.getDate(),s=Vr(e,0);s.setFullYear(a,t,15),s.setHours(0,0,0,0);const o=MSe(s);return n.setMonth(t,Math.min(i,o)),n}function Bv(e,t,r){const n=Et(e,r==null?void 0:r.in);return n.setHours(t),n}function Uv(e,t,r){const n=Et(e,r==null?void 0:r.in);return n.setMinutes(t),n}function jf(e,t,r){const n=Et(e,r==null?void 0:r.in),a=Math.trunc(n.getMonth()/3)+1,i=t-a;return ds(n,n.getMonth()+i*3)}function Wv(e,t,r){const n=Et(e,r==null?void 0:r.in);return n.setSeconds(t),n}function mo(e,t,r){const n=Et(e,r==null?void 0:r.in);return isNaN(+n)?Vr(e,NaN):(n.setFullYear(t),n)}function qu(e,t,r){return Zs(e,-t,r)}function l9(e,t,r){return PN(e,-1,r)}function iO(e,t,r){return Vy(e,-1,r)}function xh(e,t,r){return pl(e,-t,r)}function m2(){return typeof window<"u"}function d0(e){return c9(e)?(e.nodeName||"").toLowerCase():"#document"}function Vi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qo(e){var t;return(t=(c9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function c9(e){return m2()?e instanceof Node||e instanceof Vi(e).Node:!1}function fi(e){return m2()?e instanceof Element||e instanceof Vi(e).Element:!1}function $o(e){return m2()?e instanceof HTMLElement||e instanceof Vi(e).HTMLElement:!1}function sO(e){return!m2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vi(e).ShadowRoot}function Xg(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ws(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function tje(e){return["table","td","th"].includes(d0(e))}function g2(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function LN(e){const t=IN(),r=fi(e)?ws(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function rje(e){let t=Wc(e);for(;$o(t)&&!vh(t);){if(LN(t))return t;if(g2(t))return null;t=Wc(t)}return null}function IN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vh(e){return["html","body","#document"].includes(d0(e))}function ws(e){return Vi(e).getComputedStyle(e)}function x2(e){return fi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wc(e){if(d0(e)==="html")return e;const t=e.assignedSlot||e.parentNode||sO(e)&&e.host||qo(e);return sO(t)?t.host:t}function u9(e){const t=Wc(e);return vh(t)?e.ownerDocument?e.ownerDocument.body:e.body:$o(t)&&Xg(t)?t:u9(t)}function qm(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=u9(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),s=Vi(a);if(i){const o=Qk(s);return t.concat(s,s.visualViewport||[],Xg(a)?a:[],o&&r?qm(o):[])}return t.concat(a,qm(a,[],r))}function Qk(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const yh=Math.min,Hu=Math.max,Zy=Math.round,vv=Math.floor,No=e=>({x:e,y:e}),nje={left:"right",right:"left",bottom:"top",top:"bottom"},aje={start:"end",end:"start"};function ije(e,t,r){return Hu(e,yh(t,r))}function v2(e,t){return typeof e=="function"?e(t):e}function bh(e){return e.split("-")[0]}function Jg(e){return e.split("-")[1]}function sje(e){return e==="x"?"y":"x"}function RN(e){return e==="y"?"height":"width"}function Hm(e){return["top","bottom"].includes(bh(e))?"y":"x"}function BN(e){return sje(Hm(e))}function oje(e,t,r){r===void 0&&(r=!1);const n=Jg(e),a=BN(e),i=RN(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=e1(s)),[s,e1(s)]}function lje(e){const t=e1(e);return[Zk(e),t,Zk(t)]}function Zk(e){return e.replace(/start|end/g,t=>aje[t])}function cje(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:s;default:return[]}}function uje(e,t,r,n){const a=Jg(e);let i=cje(bh(e),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),t&&(i=i.concat(i.map(Zk)))),i}function e1(e){return e.replace(/left|right|bottom|top/g,t=>nje[t])}function dje(e){return{top:0,right:0,bottom:0,left:0,...e}}function d9(e){return typeof e!="number"?dje(e):{top:e,right:e,bottom:e,left:e}}function t1(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function oO(e,t,r){let{reference:n,floating:a}=e;const i=Hm(t),s=BN(t),o=RN(s),c=bh(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[o]/2-a[o]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Jg(t)){case"start":p[s]-=h*(r&&u?-1:1);break;case"end":p[s]+=h*(r&&u?-1:1);break}return p}const fje=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,o=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=oO(u,n,c),h=n,p={},m=0;for(let g=0;g<o.length;g++){const{name:x,fn:v}=o[g],{x:b,y,data:C,reset:S}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});d=b??d,f=y??f,p={...p,[x]:{...p[x],...C}},S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=oO(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function hje(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:s,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=v2(t,e),m=d9(p),x=o[h?f==="floating"?"reference":"floating":f],v=t1(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),C=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},S=t1(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:y,strategy:c}):b);return{top:(v.top-S.top+m.top)/C.y,bottom:(S.bottom-v.bottom+m.bottom)/C.y,left:(v.left-S.left+m.left)/C.x,right:(S.right-v.right+m.right)/C.x}}const pje=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:s,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=v2(e,t)||{};if(u==null)return{};const f=d9(d),h={x:r,y:n},p=BN(a),m=RN(p),g=await s.getDimensions(u),x=p==="y",v=x?"top":"left",b=x?"bottom":"right",y=x?"clientHeight":"clientWidth",C=i.reference[m]+i.reference[p]-h[p]-i.floating[m],S=h[p]-i.reference[p],T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let N=T?T[y]:0;(!N||!await(s.isElement==null?void 0:s.isElement(T)))&&(N=o.floating[y]||i.floating[m]);const w=C/2-S/2,_=N/2-g[m]/2-1,P=yh(f[v],_),A=yh(f[b],_),j=P,F=N-g[m]-A,M=N/2-g[m]/2+w,H=ije(j,M,F),q=!c.arrow&&Jg(a)!=null&&M!==H&&i.reference[m]/2-(M<j?P:A)-g[m]/2<0,Y=q?M<j?M-j:M-F:0;return{[p]:h[p]+Y,data:{[p]:H,centerOffset:M-H-Y,...q&&{alignmentOffset:Y}},reset:q}}}),mje=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...x}=v2(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=bh(a),b=Hm(o),y=bh(o)===o,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(y||!g?[e1(o)]:lje(o)),T=m!=="none";!h&&T&&S.push(...uje(o,g,m,C));const N=[o,...S],w=await hje(t,x),_=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&_.push(w[v]),f){const M=oje(a,s,C);_.push(w[M[0]],w[M[1]])}if(P=[...P,{placement:a,overflows:_}],!_.every(M=>M<=0)){var A,j;const M=(((A=i.flip)==null?void 0:A.index)||0)+1,H=N[M];if(H)return{data:{index:M,overflows:P},reset:{placement:H}};let q=(j=P.filter(Y=>Y.overflows[0]<=0).sort((Y,X)=>Y.overflows[1]-X.overflows[1])[0])==null?void 0:j.placement;if(!q)switch(p){case"bestFit":{var F;const Y=(F=P.filter(X=>{if(T){const I=Hm(X.placement);return I===b||I==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(I=>I>0).reduce((I,J)=>I+J,0)]).sort((X,I)=>X[1]-I[1])[0])==null?void 0:F[0];Y&&(q=Y);break}case"initialPlacement":q=o;break}if(a!==q)return{reset:{placement:q}}}return{}}}};async function gje(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=bh(r),o=Jg(r),c=Hm(r)==="y",u=["left","top"].includes(s)?-1:1,d=i&&c?-1:1,f=v2(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof m=="number"&&(p=o==="end"?m*-1:m),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const xje=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:s,middlewareData:o}=t,c=await gje(t,e);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:s}}}}};function f9(e){const t=ws(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=$o(e),i=a?e.offsetWidth:r,s=a?e.offsetHeight:n,o=Zy(r)!==i||Zy(n)!==s;return o&&(r=i,n=s),{width:r,height:n,$:o}}function UN(e){return fi(e)?e:e.contextElement}function Hf(e){const t=UN(e);if(!$o(t))return No(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=f9(t);let s=(i?Zy(r.width):r.width)/n,o=(i?Zy(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const vje=No(0);function h9(e){const t=Vi(e);return!IN()||!t.visualViewport?vje:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function yje(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Vi(e)?!1:t}function ud(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=UN(e);let s=No(1);t&&(n?fi(n)&&(s=Hf(n)):s=Hf(e));const o=yje(i,r,n)?h9(i):No(0);let c=(a.left+o.x)/s.x,u=(a.top+o.y)/s.y,d=a.width/s.x,f=a.height/s.y;if(i){const h=Vi(i),p=n&&fi(n)?Vi(n):n;let m=h,g=Qk(m);for(;g&&n&&p!==m;){const x=Hf(g),v=g.getBoundingClientRect(),b=ws(g),y=v.left+(g.clientLeft+parseFloat(b.paddingLeft))*x.x,C=v.top+(g.clientTop+parseFloat(b.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=y,u+=C,m=Vi(g),g=Qk(m)}}return t1({width:d,height:f,x:c,y:u})}function WN(e,t){const r=x2(e).scrollLeft;return t?t.left+r:ud(qo(e)).left+r}function p9(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:WN(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function bje(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",s=qo(n),o=t?g2(t.floating):!1;if(n===s||o&&i)return r;let c={scrollLeft:0,scrollTop:0},u=No(1);const d=No(0),f=$o(n);if((f||!f&&!i)&&((d0(n)!=="body"||Xg(s))&&(c=x2(n)),$o(n))){const p=ud(n);u=Hf(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=s&&!f&&!i?p9(s,c,!0):No(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function wje(e){return Array.from(e.getClientRects())}function _je(e){const t=qo(e),r=x2(e),n=e.ownerDocument.body,a=Hu(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Hu(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+WN(e);const o=-r.scrollTop;return ws(n).direction==="rtl"&&(s+=Hu(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:o}}function kje(e,t){const r=Vi(e),n=qo(e),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,o=0,c=0;if(a){i=a.width,s=a.height;const u=IN();(!u||u&&t==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}return{width:i,height:s,x:o,y:c}}function Sje(e,t){const r=ud(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=$o(e)?Hf(e):No(1),s=e.clientWidth*i.x,o=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:s,height:o,x:c,y:u}}function lO(e,t,r){let n;if(t==="viewport")n=kje(e,r);else if(t==="document")n=_je(qo(e));else if(fi(t))n=Sje(t,r);else{const a=h9(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return t1(n)}function m9(e,t){const r=Wc(e);return r===t||!fi(r)||vh(r)?!1:ws(r).position==="fixed"||m9(r,t)}function Nje(e,t){const r=t.get(e);if(r)return r;let n=qm(e,[],!1).filter(o=>fi(o)&&d0(o)!=="body"),a=null;const i=ws(e).position==="fixed";let s=i?Wc(e):e;for(;fi(s)&&!vh(s);){const o=ws(s),c=LN(s);!c&&o.position==="fixed"&&(a=null),(i?!c&&!a:!c&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Xg(s)&&!c&&m9(e,s))?n=n.filter(d=>d!==s):a=o,s=Wc(s)}return t.set(e,n),n}function jje(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[...r==="clippingAncestors"?g2(t)?[]:Nje(t,this._c):[].concat(r),n],o=s[0],c=s.reduce((u,d)=>{const f=lO(t,d,a);return u.top=Hu(f.top,u.top),u.right=yh(f.right,u.right),u.bottom=yh(f.bottom,u.bottom),u.left=Hu(f.left,u.left),u},lO(t,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Aje(e){const{width:t,height:r}=f9(e);return{width:t,height:r}}function Cje(e,t,r){const n=$o(t),a=qo(t),i=r==="fixed",s=ud(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const c=No(0);if(n||!n&&!i)if((d0(t)!=="body"||Xg(a))&&(o=x2(t)),n){const h=ud(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=WN(a));const u=a&&!n&&!i?p9(a,o):No(0),d=s.left+o.scrollLeft-c.x-u.x,f=s.top+o.scrollTop-c.y-u.y;return{x:d,y:f,width:s.width,height:s.height}}function Q5(e){return ws(e).position==="static"}function cO(e,t){if(!$o(e)||ws(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return qo(e)===r&&(r=r.ownerDocument.body),r}function g9(e,t){const r=Vi(e);if(g2(e))return r;if(!$o(e)){let a=Wc(e);for(;a&&!vh(a);){if(fi(a)&&!Q5(a))return a;a=Wc(a)}return r}let n=cO(e,t);for(;n&&tje(n)&&Q5(n);)n=cO(n,t);return n&&vh(n)&&Q5(n)&&!LN(n)?r:n||rje(e)||r}const Tje=async function(e){const t=this.getOffsetParent||g9,r=this.getDimensions,n=await r(e.floating);return{reference:Cje(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Eje(e){return ws(e).direction==="rtl"}const Oje={convertOffsetParentRelativeRectToViewportRelativeRect:bje,getDocumentElement:qo,getClippingRect:jje,getOffsetParent:g9,getElementRects:Tje,getClientRects:wje,getDimensions:Aje,getScale:Hf,isElement:fi,isRTL:Eje};function x9(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Pje(e,t){let r=null,n;const a=qo(e);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(o||t(),!h||!p)return;const m=vv(f),g=vv(a.clientWidth-(d+h)),x=vv(a.clientHeight-(f+p)),v=vv(d),y={rootMargin:-m+"px "+-g+"px "+-x+"px "+-v+"px",threshold:Hu(0,yh(1,c))||1};let C=!0;function S(T){const N=T[0].intersectionRatio;if(N!==c){if(!C)return s();N?s(!1,N):n=setTimeout(()=>{s(!1,1e-7)},1e3)}N===1&&!x9(u,e.getBoundingClientRect())&&s(),C=!1}try{r=new IntersectionObserver(S,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,y)}r.observe(e)}return s(!0),i}function Dje(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=UN(e),d=a||i?[...u?qm(u):[],...qm(t)]:[];d.forEach(v=>{a&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=u&&o?Pje(u,r):null;let h=-1,p=null;s&&(p=new ResizeObserver(v=>{let[b]=v;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let m,g=c?ud(e):null;c&&x();function x(){const v=ud(e);g&&!x9(g,v)&&r(),g=v,m=requestAnimationFrame(x)}return r(),()=>{var v;d.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(m)}}const $je=xje,Mje=mje,uO=pje,Fje=(e,t,r)=>{const n=new Map,a={platform:Oje,...r},i={...a.platform,_c:n};return fje(e,t,{...a,platform:i})};var qv=typeof document<"u"?L.useLayoutEffect:L.useEffect;function r1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!r1(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!r1(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function v9(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dO(e,t){const r=v9(e);return Math.round(t*r)/r}function Z5(e){const t=L.useRef(e);return qv(()=>{t.current=e}),t}function Lje(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,f]=L.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=L.useState(n);r1(h,n)||p(n);const[m,g]=L.useState(null),[x,v]=L.useState(null),b=L.useCallback(X=>{X!==T.current&&(T.current=X,g(X))},[]),y=L.useCallback(X=>{X!==N.current&&(N.current=X,v(X))},[]),C=i||m,S=s||x,T=L.useRef(null),N=L.useRef(null),w=L.useRef(d),_=c!=null,P=Z5(c),A=Z5(a),j=Z5(u),F=L.useCallback(()=>{if(!T.current||!N.current)return;const X={placement:t,strategy:r,middleware:h};A.current&&(X.platform=A.current),Fje(T.current,N.current,X).then(I=>{const J={...I,isPositioned:j.current!==!1};M.current&&!r1(w.current,J)&&(w.current=J,uD.flushSync(()=>{f(J)}))})},[h,t,r,A,j]);qv(()=>{u===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,f(X=>({...X,isPositioned:!1})))},[u]);const M=L.useRef(!1);qv(()=>(M.current=!0,()=>{M.current=!1}),[]),qv(()=>{if(C&&(T.current=C),S&&(N.current=S),C&&S){if(P.current)return P.current(C,S,F);F()}},[C,S,F,P,_]);const H=L.useMemo(()=>({reference:T,floating:N,setReference:b,setFloating:y}),[b,y]),q=L.useMemo(()=>({reference:C,floating:S}),[C,S]),Y=L.useMemo(()=>{const X={position:r,left:0,top:0};if(!q.floating)return X;const I=dO(q.floating,d.x),J=dO(q.floating,d.y);return o?{...X,transform:"translate("+I+"px, "+J+"px)",...v9(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:J}},[r,o,q.floating,d.x,d.y]);return L.useMemo(()=>({...d,update:F,refs:H,elements:q,floatingStyles:Y}),[d,F,H,q,Y])}const Ije=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?uO({element:n.current,padding:a}).fn(r):{}:n?uO({element:n,padding:a}).fn(r):{}}}},Rje=(e,t)=>({...$je(e),options:[e,t]}),Bje=(e,t)=>({...Mje(e),options:[e,t]}),Uje=(e,t)=>({...Ije(e),options:[e,t]}),y9={...lD},Wje=y9.useInsertionEffect,qje=Wje||(e=>e());function Hje(e){const t=L.useRef(()=>{});return qje(()=>{t.current=e}),L.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}var n1=typeof document<"u"?L.useLayoutEffect:L.useEffect;let fO=!1,zje=0;const hO=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+zje++;function Yje(){const[e,t]=L.useState(()=>fO?hO():void 0);return n1(()=>{e==null&&t(hO())},[]),L.useEffect(()=>{fO=!0},[]),e}const Vje=y9.useId,b9=Vje||Yje,Gje=L.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:i,shift:s}},width:o=14,height:c=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:f,stroke:h,d:p,style:{transform:m,...g}={},...x}=t,v=b9(),[b,y]=L.useState(!1);if(n1(()=>{if(!a)return;ws(a).direction==="rtl"&&y(!0)},[a]),!a)return null;const[C,S]=n.split("-"),T=C==="top"||C==="bottom";let N=f;(T&&s!=null&&s.x||!T&&s!=null&&s.y)&&(N=null);const w=d*2,_=w/2,P=o/2*(u/-8+1),A=c/2*u/4,j=!!p,F=N&&S==="end"?"bottom":"top";let M=N&&S==="end"?"right":"left";N&&b&&(M=S==="end"?"left":"right");const H=(i==null?void 0:i.x)!=null?N||i.x:"",q=(i==null?void 0:i.y)!=null?N||i.y:"",Y=p||"M0,0"+(" H"+o)+(" L"+(o-P)+","+(c-A))+(" Q"+o/2+","+c+" "+P+","+(c-A))+" Z",X={top:j?"rotate(180deg)":"",left:j?"rotate(90deg)":"rotate(-90deg)",bottom:j?"":"rotate(180deg)",right:j?"rotate(-90deg)":"rotate(90deg)"}[C];return l.jsxs("svg",{...x,"aria-hidden":!0,ref:r,width:j?o:o+w,height:o,viewBox:"0 0 "+o+" "+(c>o?c:o),style:{position:"absolute",pointerEvents:"none",[M]:H,[F]:q,[C]:T||j?"100%":"calc(100% - "+w/2+"px)",transform:[X,m].filter(I=>!!I).join(" "),...g},children:[w>0&&l.jsx("path",{clipPath:"url(#"+v+")",fill:"none",stroke:h,strokeWidth:w+(p?0:1),d:Y}),l.jsx("path",{stroke:w&&!p?x.fill:"none",d:Y}),l.jsx("clipPath",{id:v,children:l.jsx("rect",{x:-_,y:_*(j?-1:1),width:o+w,height:o})})]})});function Kje(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(a=>a(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(a=>a!==r))||[])}}}const Xje=L.createContext(null),Jje=L.createContext(null),Qje=()=>{var e;return((e=L.useContext(Xje))==null?void 0:e.id)||null},Zje=()=>L.useContext(Jje);function eAe(e){const{open:t=!1,onOpenChange:r,elements:n}=e,a=b9(),i=L.useRef({}),[s]=L.useState(()=>Kje()),o=Qje()!=null,[c,u]=L.useState(n.reference),d=Hje((p,m,g)=>{i.current.openEvent=p?m:void 0,s.emit("openchange",{open:p,event:m,reason:g,nested:o}),r==null||r(p,m,g)}),f=L.useMemo(()=>({setPositionReference:u}),[]),h=L.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return L.useMemo(()=>({dataRef:i,open:t,onOpenChange:d,elements:h,events:s,floatingId:a,refs:f}),[t,d,h,s,a,f])}function tAe(e){e===void 0&&(e={});const{nodeId:t}=e,r=eAe({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,a=n.elements,[i,s]=L.useState(null),[o,c]=L.useState(null),d=(a==null?void 0:a.domReference)||i,f=L.useRef(null),h=Zje();n1(()=>{d&&(f.current=d)},[d]);const p=Lje({...e,elements:{...a,...o&&{reference:o}}}),m=L.useCallback(y=>{const C=fi(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;c(C),p.refs.setReference(C)},[p.refs]),g=L.useCallback(y=>{(fi(y)||y===null)&&(f.current=y,s(y)),(fi(p.refs.reference.current)||p.refs.reference.current===null||y!==null&&!fi(y))&&p.refs.setReference(y)},[p.refs]),x=L.useMemo(()=>({...p.refs,setReference:g,setPositionReference:m,domReference:f}),[p.refs,g,m]),v=L.useMemo(()=>({...p.elements,domReference:d}),[p.elements,d]),b=L.useMemo(()=>({...p,...n,refs:x,elements:v,nodeId:t}),[p,x,v,t,n]);return n1(()=>{n.dataRef.current.floatingContext=b;const y=h==null?void 0:h.nodesRef.current.find(C=>C.id===t);y&&(y.context=b)}),L.useMemo(()=>({...p,context:b,refs:x,elements:v}),[p,x,v,b])}/*!
  react-datepicker v8.2.1
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var e4=function(t,r){return e4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e4(t,r)};function ka(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e4(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ar=function(){return Ar=Object.assign||function(r){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Ar.apply(this,arguments)};function wo(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var rAe=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,a=n===void 0?!1:n,i=e.className,s=e.children,o=r?"Choose Time":"Choose Date".concat(a?" and Time":"");return we.createElement("div",{className:i,role:"dialog","aria-label":o,"aria-modal":"true"},s)},nAe=function(e,t){var r=L.useRef(null),n=L.useRef(e);n.current=e;var a=L.useCallback(function(i){var s,o=i.composed&&i.composedPath&&i.composedPath().find(function(c){return c instanceof Node})||i.target;r.current&&!r.current.contains(o)&&(t&&o instanceof HTMLElement&&o.classList.contains(t)||(s=n.current)===null||s===void 0||s.call(n,i))},[t]);return L.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),r},y2=function(e){var t=e.children,r=e.onClickOutside,n=e.className,a=e.containerRef,i=e.style,s=e.ignoreClass,o=nAe(r,s);return we.createElement("div",{className:n,style:i,ref:function(c){o.current=c,a&&(a.current=c)}},t)},xt;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(xt||(xt={}));function w9(){var e=typeof window<"u"?window:globalThis;return e}var Qg=12;function Br(e){if(e==null)return new Date;var t=typeof e=="string"?RNe(e):Et(e);return b2(t)?t:new Date}function e_(e,t,r,n,a){a===void 0&&(a=Br());for(var i=wh(r)||wh(qN()),s=Array.isArray(t)?t:[t],o=0,c=s;o<c.length;o++){var u=c[o],d=DNe(e,u,a,{locale:i});if(b2(d)&&(!n||e===xn(d,u,r)))return d}return null}function b2(e,t){return Gy(e)&&!cd(e,new Date("1/1/1800"))}function xn(e,t,r){if(r==="en")return nO(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?wh(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||wh(qN()),nO(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function cs(e,t){var r=t.dateFormat,n=t.locale,a=Array.isArray(r)&&r.length>0?r[0]:r;return e&&xn(e,a,n)||""}function aAe(e,t,r){if(!e)return"";var n=cs(e,r),a=t?cs(t,r):"";return"".concat(n," - ").concat(a)}function iAe(e,t){if(!(e!=null&&e.length))return"";var r=e[0]?cs(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=cs(e[1],t);return"".concat(r,", ").concat(n)}var a=e.length-1;return"".concat(r," (+").concat(a,")")}function t_(e,t){var r=t.hour,n=r===void 0?0:r,a=t.minute,i=a===void 0?0:a,s=t.second,o=s===void 0?0:s;return Bv(Uv(Wv(e,o),i),n)}function sAe(e){return DN(e)}function oAe(e,t){return xn(e,"ddd",t)}function Hv(e){return ld(e)}function jc(e,t,r){var n=wh(t||qN());return Ol(e,{locale:n,weekStartsOn:r})}function vl(e){return QR(e)}function Fp(e){return p2(e)}function pO(e){return Kk(e)}function mO(){return ld(Br())}function gO(e){return XR(e)}function lAe(e){return R3e(e)}function cAe(e){return JR(e)}function go(e,t){return e&&t?LNe(e,t):!e&&!t}function si(e,t){return e&&t?MNe(e,t):!e&&!t}function a1(e,t){return e&&t?FNe(e,t):!e&&!t}function jr(e,t){return e&&t?L3e(e,t):!e&&!t}function Pu(e,t){return e&&t?ISe(e,t):!e&&!t}function Lp(e,t,r){var n,a=ld(t),i=XR(r);try{n=Wm(e,{start:a,end:i})}catch{n=!1}return n}function qN(){var e=w9();return e.__localeId__}function wh(e){if(typeof e=="string"){var t=w9();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function uAe(e,t,r){return t(xn(e,"EEEE",r))}function dAe(e,t){return xn(e,"EEEEEE",t)}function fAe(e,t){return xn(e,"EEE",t)}function HN(e,t){return xn(ds(Br(),e),"LLLL",t)}function _9(e,t){return xn(ds(Br(),e),"LLL",t)}function hAe(e,t){return xn(jf(Br(),e),"QQQ",t)}function hs(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.excludeDateIntervals,o=r.includeDates,c=r.includeDateIntervals,u=r.filterDate;return Zg(e,{minDate:n,maxDate:a})||i&&i.some(function(d){return d instanceof Date?jr(e,d):jr(e,d.date)})||s&&s.some(function(d){var f=d.start,h=d.end;return Wm(e,{start:f,end:h})})||o&&!o.some(function(d){return jr(e,d)})||c&&!c.some(function(d){var f=d.start,h=d.end;return Wm(e,{start:f,end:h})})||u&&!u(Br(e))||!1}function zN(e,t){var r=t===void 0?{}:t,n=r.excludeDates,a=r.excludeDateIntervals;return a&&a.length>0?a.some(function(i){var s=i.start,o=i.end;return Wm(e,{start:s,end:o})}):n&&n.some(function(i){var s;return i instanceof Date?jr(e,i):jr(e,(s=i.date)!==null&&s!==void 0?s:new Date)})||!1}function k9(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.includeDates,o=r.filterDate;return Zg(e,{minDate:n?QR(n):void 0,maxDate:a?JR(a):void 0})||(i==null?void 0:i.some(function(c){return si(e,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return si(e,c)})||o&&!o(Br(e))||!1}function yv(e,t,r,n){var a=dr(e),i=di(e),s=dr(t),o=di(t),c=dr(n);return a===s&&a===c?i<=r&&r<=o:a<s?c===a&&i<=r||c===s&&o>=r||c<s&&c>a:!1}function pAe(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.includeDates;return Zg(e,{minDate:n,maxDate:a})||i&&i.some(function(o){return si(o instanceof Date?o:o.date,e)})||s&&!s.some(function(o){return si(o,e)})||!1}function bv(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.includeDates,o=r.filterDate;return Zg(e,{minDate:n,maxDate:a})||(i==null?void 0:i.some(function(c){return a1(e,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return a1(e,c)})||o&&!o(Br(e))||!1}function wv(e,t,r){if(!t||!r||!Gy(t)||!Gy(r))return!1;var n=dr(t),a=dr(r);return n<=e&&a>=e}function zv(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.includeDates,o=r.filterDate,c=new Date(e,0,1);return Zg(c,{minDate:n?p2(n):void 0,maxDate:a?ZR(a):void 0})||(i==null?void 0:i.some(function(u){return go(c,u instanceof Date?u:u.date)}))||s&&!s.some(function(u){return go(c,u)})||o&&!o(Br(c))||!1}function _v(e,t,r,n){var a=dr(e),i=Wu(e),s=dr(t),o=Wu(t),c=dr(n);return a===s&&a===c?i<=r&&r<=o:a<s?c===a&&i<=r||c===s&&o>=r||c<s&&c>a:!1}function Zg(e,t){var r,n=t===void 0?{}:t,a=n.minDate,i=n.maxDate;return(r=a&&gh(e,a)<0||i&&gh(e,i)>0)!==null&&r!==void 0?r:!1}function xO(e,t){return t.some(function(r){return gl(r)===gl(e)&&xl(r)===xl(e)&&Nc(r)===Nc(e)})}function vO(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,a=r.includeTimes,i=r.filterTime;return n&&xO(e,n)||a&&!xO(e,a)||i&&!i(e)||!1}function yO(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var a=Br();a=Bv(a,gl(e)),a=Uv(a,xl(e)),a=Wv(a,Nc(e));var i=Br();i=Bv(i,gl(r)),i=Uv(i,xl(r)),i=Wv(i,Nc(r));var s=Br();s=Bv(s,gl(n)),s=Uv(s,xl(n)),s=Wv(s,Nc(n));var o;try{o=!Wm(a,{start:i,end:s})}catch{o=!1}return o}function bO(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,i=qu(e,1);return n&&Ky(n,i)>0||a&&a.every(function(s){return Ky(s,i)>0})||!1}function wO(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,i=Zs(e,1);return n&&Ky(i,n)>0||a&&a.every(function(s){return Ky(i,s)>0})||!1}function mAe(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,i=p2(e),s=l9(i);return n&&Xy(n,s)>0||a&&a.every(function(o){return Xy(o,s)>0})||!1}function gAe(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,i=ZR(e),s=PN(i,1);return n&&Xy(s,n)>0||a&&a.every(function(o){return Xy(s,o)>0})||!1}function _O(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,i=xh(e,1);return n&&Jy(n,i)>0||a&&a.every(function(s){return Jy(s,i)>0})||!1}function xAe(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.yearItemNumber,i=a===void 0?Qg:a,s=Fp(xh(e,i)),o=vc(s,i).endPeriod,c=n&&dr(n);return c&&c>o||!1}function kO(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,i=pl(e,1);return n&&Jy(i,n)>0||a&&a.every(function(s){return Jy(i,s)>0})||!1}function vAe(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.yearItemNumber,i=a===void 0?Qg:a,s=pl(e,i),o=vc(s,i).startPeriod,c=n&&dr(n);return c&&c<o||!1}function S9(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return gh(a,t)>=0});return JE(n)}else return r?JE(r):t}function N9(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return gh(a,t)<=0});return XE(n)}else return r?XE(r):t}function SO(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,a=0,i=e.length;a<i;a++){var s=e[a];if(ml(s)){var o=xn(s,"MM.dd.yyyy"),c=n.get(o)||[];c.includes(t)||(c.push(t),n.set(o,c))}else if(typeof s=="object"){var u=Object.keys(s),d=(r=u[0])!==null&&r!==void 0?r:"",f=s[d];if(typeof d=="string"&&Array.isArray(f))for(var h=0,p=f.length;h<p;h++){var m=f[h];if(m){var o=xn(m,"MM.dd.yyyy"),c=n.get(o)||[];c.includes(d)||(c.push(d),n.set(o,c))}}}}return n}function yAe(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function bAe(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var a=n.date,i=n.holidayName;if(ml(a)){var s=xn(a,"MM.dd.yyyy"),o=r.get(s)||{className:"",holidayNames:[]};if(!("className"in o&&o.className===t&&yAe(o.holidayNames,[i]))){o.className=t;var c=o.holidayNames;o.holidayNames=c?wo(wo([],c,!0),[i],!1):[i],r.set(s,o)}}}),r}function wAe(e,t,r,n,a){for(var i=a.length,s=[],o=0;o<i;o++){var c=e,u=a[o];u&&(c=D3e(c,gl(u)),c=Gk(c,xl(u)),c=F3e(c,Nc(u)));var d=Gk(e,(r+1)*n);Uc(c,t)&&cd(c,d)&&u!=null&&s.push(u)}return s}function NO(e){return e<10?"0".concat(e):"".concat(e)}function vc(e,t){t===void 0&&(t=Qg);var r=Math.ceil(dr(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function _Ae(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function jO(e){var t=e.getSeconds(),r=e.getMilliseconds();return Et(e.getTime()-t*1e3-r)}function kAe(e,t){return jO(e).getTime()===jO(t).getTime()}function AO(e){if(!ml(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function CO(e,t){if(!ml(e)||!ml(t))throw new Error("Invalid date received");var r=AO(e),n=AO(t);return cd(r,n)}function j9(e){return e.key===xt.Space}var SAe=function(e){ka(t,e);function t(r){var n=e.call(this,r)||this;return n.inputRef=we.createRef(),n.onTimeChange=function(a){var i,s;n.setState({time:a});var o=n.props.date,c=o instanceof Date&&!isNaN(+o),u=c?o:new Date;if(a!=null&&a.includes(":")){var d=a.split(":"),f=d[0],h=d[1];u.setHours(Number(f)),u.setMinutes(Number(h))}(s=(i=n.props).onChange)===null||s===void 0||s.call(i,u)},n.renderTimeInput=function(){var a=n.state.time,i=n.props,s=i.date,o=i.timeString,c=i.customTimeInput;return c?L.cloneElement(c,{date:s,value:a,onChange:n.onTimeChange}):we.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var u;(u=n.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:a,onChange:function(u){n.onTimeChange(u.target.value||o)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return we.createElement("div",{className:"react-datepicker__input-time-container"},we.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),we.createElement("div",{className:"react-datepicker-time__input-container"},we.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(L.Component),NAe=function(e){ka(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=L.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var a,i,s=n.key;s===xt.Space&&(n.preventDefault(),n.key=xt.Enter),(i=(a=r.props).handleOnKeyDown)===null||i===void 0||i.call(a,n)},r.isSameDay=function(n){return jr(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var a=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return r.isSameDayOrWeek(s)}):r.isSameDayOrWeek(r.props.selected),i=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!a&&r.isSameDayOrWeek(r.props.preSelection)&&!i},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),hs(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return zN(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return jr(r.props.day,jc(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&jr(n,jc(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,a=n.day,i=n.highlightDates;if(!i)return!1;var s=xn(a,"MM.dd.yyyy");return i.get(s)},r.getHolidaysClass=function(){var n,a=r.props,i=a.day,s=a.holidays;if(!s)return[void 0];var o=xn(i,"MM.dd.yyyy");return s.has(o)?[(n=s.get(o))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,a=n.day,i=n.startDate,s=n.endDate;return!i||!s?!1:Lp(a,i,s)},r.isInSelectingRange=function(){var n,a=r.props,i=a.day,s=a.selectsStart,o=a.selectsEnd,c=a.selectsRange,u=a.selectsDisabledDaysInRange,d=a.startDate,f=a.endDate,h=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return!(s||o||c)||!h||!u&&r.isDisabled()?!1:s&&f&&(cd(h,f)||Pu(h,f))?Lp(i,h,f):o&&d&&(Uc(h,d)||Pu(h,d))||c&&d&&!f&&(Uc(h,d)||Pu(h,d))?Lp(i,d,h):!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,i=a.day,s=a.startDate,o=a.selectsStart,c=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return o?jr(i,c):jr(i,s)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,i=a.day,s=a.endDate,o=a.selectsEnd,c=a.selectsRange,u=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return o||c?jr(i,u):jr(i,s)},r.isRangeStart=function(){var n=r.props,a=n.day,i=n.startDate,s=n.endDate;return!i||!s?!1:jr(i,a)},r.isRangeEnd=function(){var n=r.props,a=n.day,i=n.startDate,s=n.endDate;return!i||!s?!1:jr(s,a)},r.isWeekend=function(){var n=$Se(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===di(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(di(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(Br())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return r.isSameDayOrWeek(a)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var a=r.props.dayClassName?r.props.dayClassName(n):void 0;return Wt("react-datepicker__day",a,"react-datepicker__day--"+oAe(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,a=n.day,i=n.ariaLabelPrefixWhenEnabled,s=i===void 0?"Choose":i,o=n.ariaLabelPrefixWhenDisabled,c=o===void 0?"Not available":o,u=r.isDisabled()||r.isExcluded()?c:s;return"".concat(u," ").concat(xn(a,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,a=n.day,i=n.holidays,s=i===void 0?new Map:i,o=n.excludeDates,c=xn(a,"MM.dd.yyyy"),u=[];return s.has(c)&&u.push.apply(u,s.get(c).holidayNames),r.isExcluded()&&u.push(o==null?void 0:o.filter(function(d){return d instanceof Date?jr(d,a):jr(d==null?void 0:d.date,a)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),u.join(", ")},r.getTabIndex=function(){var n=r.props.selected,a=r.props.preSelection,i=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&jr(a,n))?0:-1;return i},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(aO(r.props.day),r.props.day):aO(r.props.day)},r.render=function(){return we.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&we.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,a;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(L.Component),jAe=function(e){ka(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=L.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var a,i,s=n.key;s===xt.Space&&(n.preventDefault(),n.key=xt.Enter),(i=(a=r.props).handleOnKeyDown)===null||i===void 0||i.call(a,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!jr(r.props.date,r.props.selected)&&jr(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||jr(r.props.date,r.props.selected)&&jr(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var a=!1;r.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&jr(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(a=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,a=r.isWeekDisabled,i=r.ariaLabelPrefix,s=i===void 0?t.defaultProps.ariaLabelPrefix:i,o=r.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o&&!a,"react-datepicker__week-number--selected":!!o&&jr(this.props.date,this.props.selected)};return we.createElement("div",{ref:this.weekNumberEl,className:Wt(c),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},t}(L.Component),AAe=function(e){ka(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return hs(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,a){r.props.onDayClick&&r.props.onDayClick(n,a)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,a,i){for(var s,o,c,u=new Date(n),d=0;d<7;d++){var f=new Date(n);f.setDate(f.getDate()+d);var h=!r.isDisabled(f);if(h){u=f;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(u,a,i),r.props.showWeekPicker&&r.handleDayClick(u,i),((s=r.props.shouldCloseOnSelect)!==null&&s!==void 0?s:t.defaultProps.shouldCloseOnSelect)&&((c=(o=r.props).setOpen)===null||c===void 0||c.call(o,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):sAe(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),a=Ks(n,6),i=new Date(n);i<=a;){if(!r.isDisabled(i))return!1;i=Ks(i,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),a=[],i=r.formatWeekNumber(n);if(r.props.showWeekNumber){var s=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,i):void 0;a.push(we.createElement(jAe,Ar({key:"W"},t.defaultProps,r.props,{weekNumber:i,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:s})))}return a.concat([0,1,2,3,4,5,6].map(function(o){var c=Ks(n,o);return we.createElement(NAe,Ar({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:r.handleDayClick.bind(r,c),onMouseEnter:r.handleDayMouseEnter.bind(r,c)}))}))},r.startOfWeek=function(){return jc(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!jr(r.startOfWeek(),r.props.selected)&&jr(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":jr(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return we.createElement("div",{className:Wt(r)},this.renderDays())},t}(L.Component),_p,CAe=6,zf={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},r_=(_p={},_p[zf.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},_p[zf.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},_p[zf.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},_p),kv=1;function TO(e,t){return e?zf.FOUR_COLUMNS:t?zf.TWO_COLUMNS:zf.THREE_COLUMNS}var TAe=function(e){ka(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=wo([],Array(12),!0).map(function(){return L.createRef()}),r.QUARTER_REFS=wo([],Array(4),!0).map(function(){return L.createRef()}),r.isDisabled=function(n){return hs(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(n){return zN(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,a){var i,s;(s=(i=r.props).onDayClick)===null||s===void 0||s.call(i,n,a,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var a,i;(i=(a=r.props).onDayMouseEnter)===null||i===void 0||i.call(a,n)},r.handleMouseLeave=function(){var n,a;(a=(n=r.props).onMouseLeave)===null||a===void 0||a.call(n)},r.isRangeStartMonth=function(n){var a=r.props,i=a.day,s=a.startDate,o=a.endDate;return!s||!o?!1:si(ds(i,n),s)},r.isRangeStartQuarter=function(n){var a=r.props,i=a.day,s=a.startDate,o=a.endDate;return!s||!o?!1:a1(jf(i,n),s)},r.isRangeEndMonth=function(n){var a=r.props,i=a.day,s=a.startDate,o=a.endDate;return!s||!o?!1:si(ds(i,n),o)},r.isRangeEndQuarter=function(n){var a=r.props,i=a.day,s=a.startDate,o=a.endDate;return!s||!o?!1:a1(jf(i,n),o)},r.isInSelectingRangeMonth=function(n){var a,i=r.props,s=i.day,o=i.selectsStart,c=i.selectsEnd,u=i.selectsRange,d=i.startDate,f=i.endDate,h=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(o||c||u)||!h?!1:o&&f?yv(h,f,n,s):c&&d||u&&d&&!f?yv(d,h,n,s):!1},r.isSelectingMonthRangeStart=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,s=i.day,o=i.startDate,c=i.selectsStart,u=ds(s,n),d=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return c?si(u,d):si(u,o)},r.isSelectingMonthRangeEnd=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,s=i.day,o=i.endDate,c=i.selectsEnd,u=i.selectsRange,d=ds(s,n),f=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return c||u?si(d,f):si(d,o)},r.isInSelectingRangeQuarter=function(n){var a,i=r.props,s=i.day,o=i.selectsStart,c=i.selectsEnd,u=i.selectsRange,d=i.startDate,f=i.endDate,h=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(o||c||u)||!h?!1:o&&f?_v(h,f,n,s):c&&d||u&&d&&!f?_v(d,h,n,s):!1},r.isWeekInMonth=function(n){var a=r.props.day,i=Ks(n,6);return si(n,a)||si(i,a)},r.isCurrentMonth=function(n,a){return dr(n)===dr(Br())&&a===di(Br())},r.isCurrentQuarter=function(n,a){return dr(n)===dr(Br())&&a===Wu(Br())},r.isSelectedMonth=function(n,a,i){return di(i)===a&&dr(n)===dr(i)},r.isSelectMonthInList=function(n,a,i){return i.some(function(s){return r.isSelectedMonth(n,a,s)})},r.isSelectedQuarter=function(n,a,i){return Wu(n)===a&&dr(n)===dr(i)},r.renderWeeks=function(){for(var n=[],a=r.props.fixedHeight,i=0,s=!1,o=jc(vl(r.props.day),r.props.locale,r.props.calendarStartDay),c=function(m){return r.props.showWeekPicker?jc(m,r.props.locale,r.props.calendarStartDay):r.props.preSelection},u=function(m){return r.props.showWeekPicker?jc(m,r.props.locale,r.props.calendarStartDay):r.props.selected},d=r.props.selected?u(r.props.selected):void 0,f=r.props.preSelection?c(r.props.preSelection):void 0;n.push(we.createElement(AAe,Ar({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:i,day:o,month:di(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:d,preSelection:f,showWeekNumber:r.props.showWeekNumbers}))),!s;){i++,o=Vy(o,1);var h=a&&i>=CAe,p=!a&&!r.isWeekInMonth(o);if(h||p)if(r.props.peekNextMonth)s=!0;else break}return n},r.onMonthClick=function(n,a){var i=r.isMonthDisabledForLabelDate(a),s=i.isDisabled,o=i.labelDate;s||r.handleDayClick(vl(o),n)},r.onMonthMouseEnter=function(n){var a=r.isMonthDisabledForLabelDate(n),i=a.isDisabled,s=a.labelDate;i||r.handleDayMouseEnter(vl(s))},r.handleMonthNavigation=function(n,a){var i,s,o,c;(s=(i=r.props).setPreSelection)===null||s===void 0||s.call(i,a),(c=(o=r.MONTH_REFS[n])===null||o===void 0?void 0:o.current)===null||c===void 0||c.focus()},r.handleKeyboardNavigation=function(n,a,i){var s,o=r.props,c=o.selected,u=o.preSelection,d=o.setPreSelection,f=o.minDate,h=o.maxDate,p=o.showFourColumnMonthYearPicker,m=o.showTwoColumnMonthYearPicker;if(u){var g=TO(p,m),x=r.getVerticalOffset(g),v=(s=r_[g])===null||s===void 0?void 0:s.grid,b=function(N,w,_){var P,A,j=w,F=_;switch(N){case xt.ArrowRight:j=Zs(w,kv),F=_===11?0:_+kv;break;case xt.ArrowLeft:j=qu(w,kv),F=_===0?11:_-kv;break;case xt.ArrowUp:j=qu(w,x),F=!((P=v==null?void 0:v[0])===null||P===void 0)&&P.includes(_)?_+12-x:_-x;break;case xt.ArrowDown:j=Zs(w,x),F=!((A=v==null?void 0:v[v.length-1])===null||A===void 0)&&A.includes(_)?_-12+x:_+x;break}return{newCalculatedDate:j,newCalculatedMonth:F}},y=function(N,w,_){for(var P=40,A=N,j=!1,F=0,M=b(A,w,_),H=M.newCalculatedDate,q=M.newCalculatedMonth;!j;){if(F>=P){H=w,q=_;break}if(f&&H<f){A=xt.ArrowRight;var Y=b(A,H,q);H=Y.newCalculatedDate,q=Y.newCalculatedMonth}if(h&&H>h){A=xt.ArrowLeft;var Y=b(A,H,q);H=Y.newCalculatedDate,q=Y.newCalculatedMonth}if(pAe(H,r.props)){var Y=b(A,H,q);H=Y.newCalculatedDate,q=Y.newCalculatedMonth}else j=!0;F++}return{newCalculatedDate:H,newCalculatedMonth:q}};if(a===xt.Enter){r.isMonthDisabled(i)||(r.onMonthClick(n,i),d==null||d(c));return}var C=y(a,u,i),S=C.newCalculatedDate,T=C.newCalculatedMonth;switch(a){case xt.ArrowRight:case xt.ArrowLeft:case xt.ArrowUp:case xt.ArrowDown:r.handleMonthNavigation(T,S);break}}},r.getVerticalOffset=function(n){var a,i;return(i=(a=r_[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&i!==void 0?i:0},r.onMonthKeyDown=function(n,a){var i=r.props,s=i.disabledKeyboardNavigation,o=i.handleOnMonthKeyDown,c=n.key;c!==xt.Tab&&n.preventDefault(),s||r.handleKeyboardNavigation(n,c,a),o&&o(n)},r.onQuarterClick=function(n,a){var i=jf(r.props.day,a);bv(i,r.props)||r.handleDayClick(pO(i),n)},r.onQuarterMouseEnter=function(n){var a=jf(r.props.day,n);bv(a,r.props)||r.handleDayMouseEnter(pO(a))},r.handleQuarterNavigation=function(n,a){var i,s,o,c;r.isDisabled(a)||r.isExcluded(a)||((s=(i=r.props).setPreSelection)===null||s===void 0||s.call(i,a),(c=(o=r.QUARTER_REFS[n-1])===null||o===void 0?void 0:o.current)===null||c===void 0||c.focus())},r.onQuarterKeyDown=function(n,a){var i,s,o=n.key;if(!r.props.disabledKeyboardNavigation)switch(o){case xt.Enter:r.onQuarterClick(n,a),(s=(i=r.props).setPreSelection)===null||s===void 0||s.call(i,r.props.selected);break;case xt.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===4?1:a+1,PN(r.props.preSelection,1));break;case xt.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===1?4:a-1,l9(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var a,i=r.props,s=i.day,o=i.minDate,c=i.maxDate,u=i.excludeDates,d=i.includeDates,f=ds(s,n);return{isDisabled:(a=(o||c||u||d)&&k9(f,r.props))!==null&&a!==void 0?a:!1,labelDate:f}},r.isMonthDisabled=function(n){var a=r.isMonthDisabledForLabelDate(n).isDisabled;return a},r.getMonthClassNames=function(n){var a=r.props,i=a.day,s=a.startDate,o=a.endDate,c=a.preSelection,u=a.monthClassName,d=u?u(ds(i,n)):void 0,f=r.getSelection();return Wt("react-datepicker__month-text","react-datepicker__month-".concat(n),d,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":f?r.isSelectMonthInList(i,n,f):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&c&&r.isSelectedMonth(i,n,c)&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":s&&o?yv(s,o,n,i):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(i,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=di(r.props.preSelection),i=r.isMonthDisabledForLabelDate(a).isDisabled,s=n===a&&!(i||r.props.disabledKeyboardNavigation)?"0":"-1";return s},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=Wu(r.props.preSelection),i=bv(r.props.day,r.props),s=n===a&&!(i||r.props.disabledKeyboardNavigation)?"0":"-1";return s},r.getAriaLabel=function(n){var a=r.props,i=a.chooseDayAriaLabelPrefix,s=i===void 0?"Choose":i,o=a.disabledDayAriaLabelPrefix,c=o===void 0?"Not available":o,u=a.day,d=a.locale,f=ds(u,n),h=r.isDisabled(f)||r.isExcluded(f)?c:s;return"".concat(h," ").concat(xn(f,"MMMM yyyy",d))},r.getQuarterClassNames=function(n){var a=r.props,i=a.day,s=a.startDate,o=a.endDate,c=a.selected,u=a.minDate,d=a.maxDate,f=a.excludeDates,h=a.includeDates,p=a.filterDate,m=a.preSelection,g=a.disabledKeyboardNavigation,x=(u||d||f||h||p)&&bv(jf(i,n),r.props);return Wt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":x,"react-datepicker__quarter-text--selected":c?r.isSelectedQuarter(i,n,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!g&&m&&r.isSelectedQuarter(i,n,m)&&!x,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":s&&o?_v(s,o,n,i):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(i,n)})},r.getMonthContent=function(n){var a=r.props,i=a.showFullMonthYearPicker,s=a.renderMonthContent,o=a.locale,c=a.day,u=_9(n,o),d=HN(n,o);return s?s(n,u,d,c):i?d:u},r.getQuarterContent=function(n){var a,i=r.props,s=i.renderQuarterContent,o=i.locale,c=hAe(n,o);return(a=s==null?void 0:s(n,c))!==null&&a!==void 0?a:c},r.renderMonths=function(){var n,a=r.props,i=a.showTwoColumnMonthYearPicker,s=a.showFourColumnMonthYearPicker,o=a.day,c=a.selected,u=(n=r_[TO(s,i)])===null||n===void 0?void 0:n.grid;return u==null?void 0:u.map(function(d,f){return we.createElement("div",{className:"react-datepicker__month-wrapper",key:f},d.map(function(h,p){return we.createElement("div",{ref:r.MONTH_REFS[h],key:p,onClick:function(m){r.onMonthClick(m,h)},onKeyDown:function(m){j9(m)&&(m.preventDefault(),m.key=xt.Enter),r.onMonthKeyDown(m,h)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(h)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(h)}:void 0,tabIndex:Number(r.getTabIndex(h)),className:r.getMonthClassNames(h),"aria-disabled":r.isMonthDisabled(h),role:"option","aria-label":r.getAriaLabel(h),"aria-current":r.isCurrentMonth(o,h)?"date":void 0,"aria-selected":c?r.isSelectedMonth(o,h,c):void 0},r.getMonthContent(h))}))})},r.renderQuarters=function(){var n=r.props,a=n.day,i=n.selected,s=[1,2,3,4];return we.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(o,c){return we.createElement("div",{key:c,ref:r.QUARTER_REFS[c],role:"option",onClick:function(u){r.onQuarterClick(u,o)},onKeyDown:function(u){r.onQuarterKeyDown(u,o)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(o)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(o)}:void 0,className:r.getQuarterClassNames(o),"aria-selected":i?r.isSelectedQuarter(a,o,i):void 0,tabIndex:Number(r.getQuarterTabIndex(o)),"aria-current":r.isCurrentQuarter(a,o)?"date":void 0},r.getQuarterContent(o))}))},r.getClassNames=function(){var n=r.props,a=n.selectingDate,i=n.selectsStart,s=n.selectsEnd,o=n.showMonthYearPicker,c=n.showQuarterYearPicker,u=n.showWeekPicker;return Wt("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(i||s)},{"react-datepicker__monthPicker":o},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":u})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,a=r.selectedDates,i=r.selectsMultiple;if(i)return a;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,a=r.showQuarterYearPicker,i=r.day,s=r.ariaLabelPrefix,o=s===void 0?"Month ":s,c=o?o.trim()+" ":"";return we.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(xn(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},t}(L.Component),EAe=function(e){ka(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isSelectedMonth=function(n){return r.props.month===n},r.renderOptions=function(){return r.props.monthNames.map(function(n,a){return we.createElement("div",{className:r.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,a),"aria-selected":r.isSelectedMonth(a)?"true":void 0},r.isSelectedMonth(a)?we.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return we.createElement(y2,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(L.Component),OAe=function(e){ka(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(a,i){return we.createElement("option",{key:a,value:i},a)})},r.renderSelectMode=function(n){return we.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(a){return r.onChange(parseInt(a.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,a){return we.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},we.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),we.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[r.props.month]))},r.renderDropdown=function(n){return we.createElement(EAe,Ar({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var a=r.state.dropdownVisible,i=[r.renderReadView(!a,n)];return a&&i.unshift(r.renderDropdown(n)),i},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return _9(i,r.props.locale)}:function(i){return HN(i,r.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return we.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t}(L.Component);function PAe(e,t){for(var r=[],n=vl(e),a=vl(t);!Uc(n,a);)r.push(Br(n)),n=Zs(n,1);return r}var DAe=function(e){ka(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var i=Jk(a),s=go(n.props.date,a)&&si(n.props.date,a);return we.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:n.onChange.bind(n,i),"aria-selected":s?"true":void 0},s?we.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",xn(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:PAe(n.props.minDate,n.props.maxDate)},n}return t.prototype.render=function(){var r=Wt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return we.createElement(y2,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(L.Component),$Ae=function(e){ka(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=vl(r.props.minDate),a=vl(r.props.maxDate),i=[];!Uc(n,a);){var s=Jk(n);i.push(we.createElement("option",{key:s,value:s},xn(n,r.props.dateFormat,r.props.locale))),n=Zs(n,1)}return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return we.createElement("select",{value:Jk(vl(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var a=xn(r.props.date,r.props.dateFormat,r.props.locale);return we.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},we.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),we.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},r.renderDropdown=function(){return we.createElement(DAe,Ar({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown();var a=Br(n);go(r.props.date,a)&&si(r.props.date,a)||r.props.onChange(a)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return we.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(L.Component),MAe=function(e){ka(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,i;r.list&&(r.list.scrollTop=(i=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((a=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):r.list.clientHeight,r.centerLi))!==null&&i!==void 0?i:0)})},r.handleClick=function(n){var a,i;(r.props.minTime||r.props.maxTime)&&yO(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&vO(n,r.props)||(i=(a=r.props).onChange)===null||i===void 0||i.call(a,n)},r.isSelectedTime=function(n){return r.props.selected&&kAe(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&yO(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&vO(n,r.props)},r.liClasses=function(n){var a,i=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&i.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&i.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(gl(n)*3600+xl(n)*60+Nc(n))%(((a=r.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},r.handleOnKeyDown=function(n,a){var i,s;n.key===xt.Space&&(n.preventDefault(),n.key=xt.Enter),(n.key===xt.ArrowUp||n.key===xt.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===xt.ArrowDown||n.key===xt.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===xt.Enter&&r.handleClick(a),(s=(i=r.props).handleOnKeyDown)===null||s===void 0||s.call(i,n)},r.renderTimes=function(){for(var n,a=[],i=typeof r.props.format=="string"?r.props.format:"p",s=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,o=r.props.selected||r.props.openToDate||Br(),c=Hv(o),u=r.props.injectTimes&&r.props.injectTimes.sort(function(x,v){return x.getTime()-v.getTime()}),d=60*_Ae(o),f=d/s,h=0;h<f;h++){var p=Gk(c,h*s);if(a.push(p),u){var m=wAe(c,p,h,s,u);a=a.concat(m)}}var g=a.reduce(function(x,v){return v.getTime()<=o.getTime()?v:x},a[0]);return a.map(function(x){return we.createElement("li",{key:x.valueOf(),onClick:r.handleClick.bind(r,x),className:r.liClasses(x),ref:function(v){x===g&&(r.centerLi=v)},onKeyDown:function(v){r.handleOnKeyDown(v,x)},tabIndex:x===g?0:-1,role:"option","aria-selected":r.isSelectedTime(x)?"true":void 0,"aria-disabled":r.isDisabledTime(x)?"true":void 0},xn(x,i,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?we.createElement(we.Fragment,null):we.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},we.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var r=this,n,a=this.state.height;return we.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),we.createElement("div",{className:"react-datepicker__time"},we.createElement("div",{className:"react-datepicker__time-box"},we.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){r.list=i},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t}(L.Component),EO=3,FAe=function(e){ka(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=wo([],Array(n.props.yearItemNumber),!0).map(function(){return L.createRef()}),n.isDisabled=function(a){return hs(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return zN(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var i=function(){var s,o;(o=(s=n.YEAR_REFS[a])===null||s===void 0?void 0:s.current)===null||o===void 0||o.focus()};window.requestAnimationFrame(i)},n.handleYearClick=function(a,i){n.props.onDayClick&&n.props.onDayClick(a,i)},n.handleYearNavigation=function(a,i){var s,o,c,u,d=n.props,f=d.date,h=d.yearItemNumber;if(!(f===void 0||h===void 0)){var p=vc(f,h).startPeriod;n.isDisabled(i)||n.isExcluded(i)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),a-p<0?n.updateFocusOnPaginate(h-(p-a)):a-p>=h?n.updateFocusOnPaginate(Math.abs(h-(a-p))):(u=(c=n.YEAR_REFS[a-p])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus())}},n.isSameDay=function(a,i){return jr(a,i)},n.isCurrentYear=function(a){return a===dr(Br())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&go(mo(Br(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&go(mo(Br(),a),n.props.endDate)},n.isInRange=function(a){return wv(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var i=n.props,s=i.selectsStart,o=i.selectsEnd,c=i.selectsRange,u=i.startDate,d=i.endDate;return!(s||o||c)||!n.selectingDate()?!1:s&&d?wv(a,n.selectingDate(),d):o&&u||c&&u&&!d?wv(a,u,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var i;if(!n.isInSelectingRange(a))return!1;var s=n.props,o=s.startDate,c=s.selectsStart,u=mo(Br(),a);return c?go(u,(i=n.selectingDate())!==null&&i!==void 0?i:null):go(u,o??null)},n.isSelectingRangeEnd=function(a){var i;if(!n.isInSelectingRange(a))return!1;var s=n.props,o=s.endDate,c=s.selectsEnd,u=s.selectsRange,d=mo(Br(),a);return c||u?go(d,(i=n.selectingDate())!==null&&i!==void 0?i:null):go(d,o??null)},n.isKeyboardSelected=function(a){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var i=n.props,s=i.minDate,o=i.maxDate,c=i.excludeDates,u=i.includeDates,d=i.filterDate,f=Fp(mo(n.props.date,a)),h=(s||o||c||u||d)&&zv(a,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!jr(f,Fp(n.props.selected))&&jr(f,Fp(n.props.preSelection))&&!h}},n.onYearClick=function(a,i){var s=n.props.date;s!==void 0&&n.handleYearClick(Fp(mo(s,i)),a)},n.onYearKeyDown=function(a,i){var s,o,c=a.key,u=n.props,d=u.date,f=u.yearItemNumber,h=u.handleOnKeyDown;if(c!==xt.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(c){case xt.Enter:if(n.props.selected==null)break;n.onYearClick(a,i),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case xt.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(i+1,pl(n.props.preSelection,1));break;case xt.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(i-1,xh(n.props.preSelection,1));break;case xt.ArrowUp:{if(d===void 0||f===void 0||n.props.preSelection==null)break;var p=vc(d,f).startPeriod,m=EO,g=i-m;if(g<p){var x=f%m;i>=p&&i<p+x?m=x:m+=x,g=i-m}n.handleYearNavigation(g,xh(n.props.preSelection,m));break}case xt.ArrowDown:{if(d===void 0||f===void 0||n.props.preSelection==null)break;var v=vc(d,f).endPeriod,m=EO,g=i+m;if(g>v){var x=f%m;i<=v&&i>v-x?m=x:m+=x,g=i+m}n.handleYearNavigation(g,pl(n.props.preSelection,m));break}}h&&h(a)},n.getYearClassNames=function(a){var i=n.props,s=i.date,o=i.minDate,c=i.maxDate,u=i.selected,d=i.excludeDates,f=i.includeDates,h=i.filterDate,p=i.yearClassName;return Wt("react-datepicker__year-text","react-datepicker__year-".concat(a),s?p==null?void 0:p(mo(s,a)):void 0,{"react-datepicker__year-text--selected":u?a===dr(u):void 0,"react-datepicker__year-text--disabled":(o||c||d||f||h)&&zv(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var i=dr(n.props.preSelection),s=zv(a,n.props);return a===i&&!s?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return t.prototype.render=function(){var r=this,n=[],a=this.props,i=a.date,s=a.yearItemNumber,o=a.onYearMouseEnter,c=a.onYearMouseLeave;if(i===void 0)return null;for(var u=vc(i,s),d=u.startPeriod,f=u.endPeriod,h=function(g){n.push(we.createElement("div",{ref:p.YEAR_REFS[g-d],onClick:function(x){r.onYearClick(x,g)},onKeyDown:function(x){j9(x)&&(x.preventDefault(),x.key=xt.Enter),r.onYearKeyDown(x,g)},tabIndex:Number(p.getYearTabIndex(g)),className:p.getYearClassNames(g),onMouseEnter:p.props.usePointerEvent?void 0:function(x){return o(x,g)},onPointerEnter:p.props.usePointerEvent?function(x){return o(x,g)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(x){return c(x,g)},onPointerLeave:p.props.usePointerEvent?function(x){return c(x,g)}:void 0,key:g,"aria-current":p.isCurrentYear(g)?"date":void 0},p.getYearContent(g)))},p=this,m=d;m<=f;m++)h(m);return we.createElement("div",{className:"react-datepicker__year"},we.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t}(L.Component);function LAe(e,t,r,n){for(var a=[],i=0;i<2*t+1;i++){var s=e+t-i,o=!0;r&&(o=dr(r)<=s),n&&o&&(o=dr(n)>=s),o&&a.push(s)}return a}var IAe=function(e){ka(t,e);function t(r){var n=e.call(this,r)||this;n.renderOptions=function(){var o=n.props.year,c=n.state.yearsList.map(function(f){return we.createElement("div",{className:o===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:n.onChange.bind(n,f),"aria-selected":o===f?"true":void 0},o===f?we.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),u=n.props.minDate?dr(n.props.minDate):null,d=n.props.maxDate?dr(n.props.maxDate):null;return(!d||!n.state.yearsList.find(function(f){return f===d}))&&c.unshift(we.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},we.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!n.state.yearsList.find(function(f){return f===u}))&&c.push(we.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},we.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},n.onChange=function(o){n.props.onChange(o)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(o){var c=n.state.yearsList.map(function(u){return u+o});n.setState({yearsList:c})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=r.yearDropdownItemNumber,i=r.scrollableYearDropdown,s=a||(i?10:5);return n.state={yearsList:LAe(n.props.year,s,n.props.minDate,n.props.maxDate)},n.dropdownRef=L.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,a=n?n.find(function(i){return i.ariaSelected}):null;r.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=Wt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return we.createElement(y2,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(L.Component),RAe=function(e){ka(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?dr(r.props.minDate):1900,a=r.props.maxDate?dr(r.props.maxDate):2100,i=[],s=n;s<=a;s++)i.push(we.createElement("option",{key:s,value:s},s));return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return we.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return we.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return r.toggleDropdown(a)}},we.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),we.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return we.createElement(IAe,Ar({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,a){var i;(i=r.onSelect)===null||i===void 0||i.call(r,n,a),r.setOpen()},r.onSelect=function(n,a){var i,s;(s=(i=r.props).onSelect)===null||s===void 0||s.call(i,n,a)},r.setOpen=function(){var n,a;(a=(n=r.props).setOpen)===null||a===void 0||a.call(n,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return we.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(L.Component),BAe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],UAe=function(e){var t=(e.className||"").split(/\s+/);return BAe.some(function(r){return t.indexOf(r)>=0})},WAe=function(e){ka(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var i,s;UAe(a.target)&&((s=(i=n.props).onDropdownFocus)===null||s===void 0||s.call(i,a))},n.getDateInView=function(){var a=n.props,i=a.preSelection,s=a.selected,o=a.openToDate,c=S9(n.props),u=N9(n.props),d=Br(),f=o||s||i;return f||(c&&cd(d,c)?c:u&&Uc(d,u)?u:d)},n.increaseMonth=function(){n.setState(function(a){var i=a.date;return{date:Zs(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var i=a.date;return{date:qu(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,i,s){n.props.onSelect(a,i,s),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,i){n.setState({selectingDate:mo(Br(),i)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,i)},n.handleYearMouseLeave=function(a,i){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,i)},n.handleYearChange=function(a){var i,s,o,c;(s=(i=n.props).onYearChange)===null||s===void 0||s.call(i,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(c=(o=n.props).setOpen)===null||c===void 0||c.call(o,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!hs(a,n.props))return a;for(var i=vl(a),s=cAe(a),o=I3e(s,i),c=null,u=0;u<=o;u++){var d=Ks(i,u);if(!hs(d,n.props)){c=d;break}}return c},n.handleMonthChange=function(a){var i,s,o,c=(i=n.getEnabledPreSelectionDateForMonth(a))!==null&&i!==void 0?i:a;n.handleCustomMonthChange(c),n.props.adjustDateOnChange&&(n.props.onSelect(c),(o=(s=n.props).setOpen)===null||o===void 0||o.call(s,!0)),n.props.setPreSelection&&n.props.setPreSelection(c)},n.handleCustomMonthChange=function(a){var i,s;(s=(i=n.props).onMonthChange)===null||s===void 0||s.call(i,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(i){var s=i.date;return{date:mo(s,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(i){var s=i.date;return{date:ds(s,Number(a))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(a){n.setState(function(i){var s=i.date;return{date:mo(ds(s,di(a)),dr(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a){a===void 0&&(a=n.state.date);var i=jc(a,n.props.locale,n.props.calendarStartDay),s=[];return n.props.showWeekNumbers&&s.push(we.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(o){var c=Ks(i,o),u=n.formatWeekday(c,n.props.locale),d=n.props.weekDayClassName?n.props.weekDayClassName(c):void 0;return we.createElement("div",{key:o,"aria-label":xn(c,"EEEE",n.props.locale),className:Wt("react-datepicker__day-name",d)},u)}))},n.formatWeekday=function(a,i){return n.props.formatWeekDay?uAe(a,n.props.formatWeekDay,i):n.props.useWeekdaysShort?fAe(a,i):dAe(a,i)},n.decreaseYear=function(){n.setState(function(a){var i,s=a.date;return{date:xh(s,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,i,s;if(!n.props.renderCustomHeader){var o=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,c=n.props.showPreviousMonths?o-1:0,u=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:c,d=qu(n.state.date,u),f;switch(!0){case n.props.showMonthYearPicker:f=_O(n.state.date,n.props);break;case n.props.showYearPicker:f=xAe(n.state.date,n.props);break;case n.props.showQuarterYearPicker:f=mAe(n.state.date,n.props);break;default:f=bO(d,n.props);break}if(!(!((s=n.props.forceShowMonthNavigation)!==null&&s!==void 0?s:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&f||n.props.showTimeSelectOnly)){var h=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],m=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(m=n.decreaseYear),f&&n.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),m=void 0);var g=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,x=n.props,v=x.previousMonthButtonLabel,b=v===void 0?t.defaultProps.previousMonthButtonLabel:v,y=x.previousYearButtonLabel,C=y===void 0?t.defaultProps.previousYearButtonLabel:y,S=n.props,T=S.previousMonthAriaLabel,N=T===void 0?typeof b=="string"?b:"Previous Month":T,w=S.previousYearAriaLabel,_=w===void 0?typeof C=="string"?C:"Previous Year":w;return we.createElement("button",{type:"button",className:p.join(" "),onClick:m,onKeyDown:n.props.handleOnKeyDown,"aria-label":g?_:N},we.createElement("span",{className:h.join(" ")},g?C:b))}}},n.increaseYear=function(){n.setState(function(a){var i,s=a.date;return{date:pl(s,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var i;switch(!0){case n.props.showMonthYearPicker:i=kO(n.state.date,n.props);break;case n.props.showYearPicker:i=vAe(n.state.date,n.props);break;case n.props.showQuarterYearPicker:i=gAe(n.state.date,n.props);break;default:i=wO(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&i||n.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var c=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(c=n.increaseYear),i&&n.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),c=void 0);var u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,d=n.props,f=d.nextMonthButtonLabel,h=f===void 0?t.defaultProps.nextMonthButtonLabel:f,p=d.nextYearButtonLabel,m=p===void 0?t.defaultProps.nextYearButtonLabel:p,g=n.props,x=g.nextMonthAriaLabel,v=x===void 0?typeof h=="string"?h:"Next Month":x,b=g.nextYearAriaLabel,y=b===void 0?typeof m=="string"?m:"Next Year":b;return we.createElement("button",{type:"button",className:s.join(" "),onClick:c,onKeyDown:n.props.handleOnKeyDown,"aria-label":u?y:v},we.createElement("span",{className:o.join(" ")},u?m:h))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var i=["react-datepicker__current-month"];return n.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),we.createElement("h2",{className:i.join(" ")},xn(a,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return we.createElement(RAe,Ar({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:dr(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return we.createElement(OAe,Ar({},t.defaultProps,n.props,{month:di(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return we.createElement($Ae,Ar({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(mO(),a),n.props.setPreSelection&&n.props.setPreSelection(mO())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return we.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(a){var i=a.monthDate,s=a.i;return we.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(i),we.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(s!==0),n.renderMonthYearDropdown(s!==0),n.renderYearDropdown(s!==0)),we.createElement("div",{className:"react-datepicker__day-names"},n.header(i)))},n.renderCustomHeader=function(a){var i,s,o=a.monthDate,c=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var u=bO(n.state.date,n.props),d=wO(n.state.date,n.props),f=_O(n.state.date,n.props),h=kO(n.state.date,n.props),p=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return we.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(s=(i=n.props).renderCustomHeader)===null||s===void 0?void 0:s.call(i,Ar(Ar({},n.state),{customHeaderCount:c,monthDate:o,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:d,prevYearButtonDisabled:f,nextYearButtonDisabled:h})),p&&we.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderYearHeader=function(a){var i=a.monthDate,s=n.props,o=s.showYearPicker,c=s.yearItemNumber,u=c===void 0?t.defaultProps.yearItemNumber:c,d=vc(i,u),f=d.startPeriod,h=d.endPeriod;return we.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(f," - ").concat(h):dr(i))},n.renderHeader=function(a){var i=a.monthDate,s=a.i,o=s===void 0?0:s,c={monthDate:i,i:o};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(c);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(c);default:return n.renderDefaultHeader(c)}},n.renderMonths=function(){var a,i;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var s=[],o=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,c=n.props.showPreviousMonths?o-1:0,u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?pl(n.state.date,c):qu(n.state.date,c),d=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:c,f=0;f<o;++f){var h=f-d+c,p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?pl(u,h):Zs(u,h),m="month-".concat(f),g=f<o-1,x=f>0;s.push(we.createElement("div",{key:m,ref:function(v){n.monthContainer=v??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:p,i:f}),we.createElement(TAe,Ar({},t.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:p,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:f,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:x}))))}return s}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return we.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),we.createElement(FAe,Ar({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return we.createElement(MAe,Ar({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a=n.props.selected?new Date(n.props.selected):void 0,i=a&&b2(a)&&!!n.props.selected,s=i?"".concat(NO(a.getHours()),":").concat(NO(a.getMinutes())):"";if(n.props.showTimeInput)return we.createElement(SAe,Ar({},t.defaultProps,n.props,{date:a,timeString:s,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var a,i=vc(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),s=i.startPeriod,o=i.endPeriod,c;return n.props.showYearPicker?c="".concat(s," - ").concat(o):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?c=dr(n.state.date):c="".concat(HN(di(n.state.date),n.props.locale)," ").concat(dr(n.state.date)),we.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&c)},n.renderChildren=function(){if(n.props.children)return we.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=L.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Qg}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&(!jr(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var a=!si(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!jr(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||rAe;return we.createElement(y2,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},we.createElement("div",{style:{display:"contents"},ref:this.containerRef},we.createElement(r,{className:Wt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(L.Component),qAe=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,a=e.onClick,i="react-datepicker__calendar-icon";if(typeof t=="string")return we.createElement("i",{className:"".concat(i," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:a});if(we.isValidElement(t)){var s=t;return we.cloneElement(s,{className:"".concat(s.props.className||""," ").concat(i," ").concat(n),onClick:function(o){typeof s.props.onClick=="function"&&s.props.onClick(o),typeof a=="function"&&a(o)}})}return we.createElement("svg",{className:"".concat(i," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},we.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},A9=function(e){ka(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return dW.createPortal(this.props.children,this.el)},t}(L.Component),HAe="[tabindex], a, button, input, select, textarea",zAe=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},C9=function(e){ka(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(HAe),1,-1).filter(zAe)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=L.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?we.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},we.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,we.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(L.Component);function YAe(e){var t=function(r){var n,a=typeof r.hidePopper=="boolean"?r.hidePopper:!0,i=L.useRef(null),s=tAe(Ar({open:!a,whileElementsMounted:Dje,placement:r.popperPlacement,middleware:wo([Bje({padding:15}),Rje(10),Uje({element:i})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),o=Ar(Ar({},r),{hidePopper:a,popperProps:Ar(Ar({},s),{arrowRef:i})});return we.createElement(e,Ar({},o))};return t}var VAe=function(e){ka(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r=this.props,n=r.className,a=r.wrapperClassName,i=r.hidePopper,s=i===void 0?t.defaultProps.hidePopper:i,o=r.popperComponent,c=r.targetComponent,u=r.enableTabLoop,d=r.popperOnKeyDown,f=r.portalId,h=r.portalHost,p=r.popperProps,m=r.showArrow,g=void 0;if(!s){var x=Wt("react-datepicker-popper",n);g=we.createElement(C9,{enableTabLoop:u},we.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:x,"data-placement":p.placement,onKeyDown:d},o,m&&we.createElement(Gje,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(g=L.createElement(this.props.popperContainer,{},g)),f&&!s&&(g=we.createElement(A9,{portalId:f,portalHost:h},g));var v=Wt("react-datepicker-wrapper",a);return we.createElement(we.Fragment,null,we.createElement("div",{ref:p.refs.setReference,className:v},c),g)},t}(L.Component),GAe=YAe(VAe),OO="react-datepicker-ignore-onclickoutside";function KAe(e,t){return e&&t?di(e)!==di(t)||dr(e)!==dr(t):e!==t}var n_="Date input not valid.",XAe=function(e){ka(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Br()},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(i,s){var o=new Date(s.date);return b2(o)?wo(wo([],i,!0),[Ar(Ar({},s),{date:o})],!1):i},[])},n.calcInitialState=function(){var a,i=n.getPreSelection(),s=S9(n.props),o=N9(n.props),c=s&&cd(i,Hv(s))?s:o&&Uc(i,gO(o))?o:i;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&a!==void 0?a:c,highlightDates:SO(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Ar(Ar({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Ar(Ar({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,i;(i=(a=n.input)===null||a===void 0?void 0:a.focus)===null||i===void 0||i.call(a,{preventScroll:!0})},n.setBlur=function(){var a,i;(i=(a=n.input)===null||a===void 0?void 0:a.blur)===null||i===void 0||i.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,i){i===void 0&&(i=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:a_},function(){a||n.setState(function(s){return{focused:i?s.focused:!1}},function(){!i&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return ml(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var i,s,o=n.state.wasHidden,c=o?n.state.open:!0;o&&n.resetHiddenStatus(),n.state.preventFocus||((s=(i=n.props).onFocus)===null||s===void 0||s.call(i,a),c&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(a){var i,s;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((s=(i=n.props).onBlur)===null||s===void 0||s.call(i,a)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var i,s;n.props.inline||n.setOpen(!1),(s=(i=n.props).onClickOutside)===null||s===void 0||s.call(i,a),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,i,s,o,c,u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];var f=u[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,u),!f||typeof f.isDefaultPrevented!="function"||f.isDefaultPrevented()))){n.setState({inputValue:(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:null,lastPreSelectChange:JAe});var h=n.props,p=h.selectsRange,m=h.startDate,g=h.endDate,x=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,v=(i=n.props.strictParsing)!==null&&i!==void 0?i:t.defaultProps.strictParsing,b=(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:"";if(p){var y=b.split("-",2).map(function(A){return A.trim()}),C=y[0],S=y[1],T=e_(C??"",x,n.props.locale,v),N=e_(S??"",x,n.props.locale,v),w=(m==null?void 0:m.getTime())!==(T==null?void 0:T.getTime()),_=(g==null?void 0:g.getTime())!==(N==null?void 0:N.getTime());if(!w&&!_||T&&hs(T,n.props)||N&&hs(N,n.props))return;(o=(s=n.props).onChange)===null||o===void 0||o.call(s,[T,N],f)}else{var P=e_(b,x,n.props.locale,v,(c=n.props.selected)!==null&&c!==void 0?c:void 0);(P||!b)&&n.setSelected(P,f,!0)}}},n.handleSelect=function(a,i,s){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(i),n.setSelected(a,i,!1,s),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(a);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var o=n.props,c=o.startDate,u=o.endDate;c&&!u&&(n.props.swapRange||!CO(a,c))&&n.setOpen(!1)}},n.setSelected=function(a,i,s,o){var c,u,d=a;if(n.props.showYearPicker){if(d!==null&&zv(dr(d),n.props))return}else if(n.props.showMonthYearPicker){if(d!==null&&k9(d,n.props))return}else if(d!==null&&hs(d,n.props))return;var f=n.props,h=f.onChange,p=f.selectsRange,m=f.startDate,g=f.endDate,x=f.selectsMultiple,v=f.selectedDates,b=f.minTime,y=f.swapRange;if(!Pu(n.props.selected,d)||n.props.allowSameDay||p||x)if(d!==null&&(n.props.selected&&(!s||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(d=t_(d,{hour:gl(n.props.selected),minute:xl(n.props.selected),second:Nc(n.props.selected)})),!s&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&b&&(d=t_(d,{hour:b.getHours(),minute:b.getMinutes(),second:b.getSeconds()})),n.props.inline||n.setState({preSelection:d}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:o})),p){var C=!m&&!g,S=m&&!g,T=m&&g;C?h==null||h([d,null],i):S&&(d===null?h==null||h([null,null],i):CO(d,m)?y?h==null||h([d,m],i):h==null||h([d,null],i):h==null||h([m,d],i)),T&&(h==null||h([d,null],i))}else if(x){if(d!==null)if(!(v!=null&&v.length))h==null||h([d],i);else{var N=v.some(function(_){return jr(_,d)});if(N){var w=v.filter(function(_){return!jr(_,d)});h==null||h(w,i)}else h==null||h(wo(wo([],v,!0),[d],!1),i)}}else h==null||h(d,i);s||((u=(c=n.props).onSelect)===null||u===void 0||u.call(c,d,i),n.setState({inputValue:null}))},n.setPreSelection=function(a){var i=ml(n.props.minDate),s=ml(n.props.maxDate),o=!0;if(a){var c=Hv(a);if(i&&s)o=Lp(a,n.props.minDate,n.props.maxDate);else if(i){var u=Hv(n.props.minDate);o=Uc(a,u)||Pu(c,u)}else if(s){var d=gO(n.props.maxDate);o=cd(a,d)||Pu(c,d)}}o&&n.setState({preSelection:a})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a){var i,s;if(!(n.props.selectsRange||n.props.selectsMultiple)){var o=n.props.selected?n.props.selected:n.getPreSelection(),c=n.props.selected?a:t_(o,{hour:gl(a),minute:xl(a)});n.setState({preSelection:c}),(s=(i=n.props).onChange)===null||s===void 0||s.call(i,c),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,i;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(i=(a=n.props).onInputClick)===null||i===void 0||i.call(a)},n.onInputKeyDown=function(a){var i,s,o,c,u,d;(s=(i=n.props).onKeyDown)===null||s===void 0||s.call(i,a);var f=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(f===xt.ArrowDown||f===xt.ArrowUp||f===xt.Enter)&&((o=n.onInputClick)===null||o===void 0||o.call(n));return}if(n.state.open){if(f===xt.ArrowDown||f===xt.ArrowUp){a.preventDefault();var h=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((c=n.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(h);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var m=Br(n.state.preSelection);f===xt.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===a_?(n.handleSelect(m,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(m)):n.setOpen(!1)):f===xt.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):f===xt.Tab&&n.setOpen(!1),n.inputOk()||(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:n_})}},n.onPortalKeyDown=function(a){var i=a.key;i===xt.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var i,s,o,c,u,d,f=n.props,h=f.minDate,p=f.maxDate,m=f.disabledKeyboardNavigation,g=f.showWeekPicker,x=f.shouldCloseOnSelect,v=f.locale,b=f.calendarStartDay,y=f.adjustDateOnChange,C=f.inline;if((s=(i=n.props).onKeyDown)===null||s===void 0||s.call(i,a),!m){var S=a.key,T=a.shiftKey,N=Br(n.state.preSelection),w=function(H,q){var Y=q;switch(H){case xt.ArrowRight:Y=g?Vy(q,1):Ks(q,1);break;case xt.ArrowLeft:Y=g?iO(q):INe(q);break;case xt.ArrowUp:Y=iO(q);break;case xt.ArrowDown:Y=Vy(q,1);break;case xt.PageUp:Y=T?xh(q,1):qu(q,1);break;case xt.PageDown:Y=T?pl(q,1):Zs(q,1);break;case xt.Home:Y=jc(q,v,b);break;case xt.End:Y=lAe(q);break}return Y},_=function(H,q){for(var Y=40,X=H,I=!1,J=0,Q=w(H,q);!I;){if(J>=Y){Q=q;break}h&&Q<h&&(X=xt.ArrowRight,Q=hs(h,n.props)?w(X,Q):h),p&&Q>p&&(X=xt.ArrowLeft,Q=hs(p,n.props)?w(X,Q):p),hs(Q,n.props)?((X===xt.PageUp||X===xt.Home)&&(X=xt.ArrowRight),(X===xt.PageDown||X===xt.End)&&(X=xt.ArrowLeft),Q=w(X,Q)):I=!0,J++}return Q};if(S===xt.Enter){a.preventDefault(),n.handleSelect(N,a),!x&&n.setPreSelection(N);return}else if(S===xt.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(c=(o=n.props).onInputError)===null||c===void 0||c.call(o,{code:1,msg:n_});return}var P=null;switch(S){case xt.ArrowLeft:case xt.ArrowRight:case xt.ArrowUp:case xt.ArrowDown:case xt.PageUp:case xt.PageDown:case xt.Home:case xt.End:P=_(S,N);break}if(!P){(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:n_});return}if(a.preventDefault(),n.setState({lastPreSelectChange:a_}),y&&n.setSelected(P),n.setPreSelection(P),C){var A=di(N),j=di(P),F=dr(N),M=dr(P);A!==j||F!==M?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(a){var i=a.key;i===xt.Escape&&(a.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var i=n.props,s=i.selectsRange,o=i.onChange;s?o==null||o([null,null],a):o==null||o(null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.renderCalendar=function(){var a,i;return!n.props.inline&&!n.isCalendarOpen()?null:we.createElement(WAe,Ar({showMonthYearDropdown:void 0,ref:function(s){n.calendar=s}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:bAe(n.modifyHolidays()),outsideClickIgnoreClass:OO,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(i=n.props.dropdownMode)!==null&&i!==void 0?i:t.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var a=n.props,i=a.dateFormat,s=i===void 0?t.defaultProps.dateFormat:i,o=a.locale,c=n.props.showTimeInput||n.props.showTimeSelect,u=c?"PPPPp":"PPPP",d;return n.props.selectsRange?d="Selected start date: ".concat(cs(n.props.startDate,{dateFormat:u,locale:o}),". ").concat(n.props.endDate?"End date: "+cs(n.props.endDate,{dateFormat:u,locale:o}):""):n.props.showTimeSelectOnly?d="Selected time: ".concat(cs(n.props.selected,{dateFormat:s,locale:o})):n.props.showYearPicker?d="Selected year: ".concat(cs(n.props.selected,{dateFormat:"yyyy",locale:o})):n.props.showMonthYearPicker?d="Selected month: ".concat(cs(n.props.selected,{dateFormat:"MMMM yyyy",locale:o})):n.props.showQuarterYearPicker?d="Selected quarter: ".concat(cs(n.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):d="Selected date: ".concat(cs(n.props.selected,{dateFormat:u,locale:o})),we.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},n.renderDateInput=function(){var a,i,s,o=Wt(n.props.className,(a={},a[OO]=n.state.open,a)),c=n.props.customInput||we.createElement("input",{type:"text"}),u=n.props.customInputRef||"ref",d=n.props,f=d.dateFormat,h=f===void 0?t.defaultProps.dateFormat:f,p=d.locale,m=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?aAe(n.props.startDate,n.props.endDate,{dateFormat:h,locale:p}):n.props.selectsMultiple?iAe((s=n.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:h,locale:p}):cs(n.props.selected,{dateFormat:h,locale:p});return L.cloneElement(c,(i={},i[u]=function(g){n.input=g},i.value=m,i.onBlur=n.handleBlur,i.onChange=n.handleChange,i.onClick=n.onInputClick,i.onFocus=n.handleFocus,i.onKeyDown=n.onInputKeyDown,i.id=n.props.id,i.name=n.props.name,i.form=n.props.form,i.autoFocus=n.props.autoFocus,i.placeholder=n.props.placeholderText,i.disabled=n.props.disabled,i.autoComplete=n.props.autoComplete,i.className=Wt(c.props.className,o),i.title=n.props.title,i.readOnly=n.props.readOnly,i.required=n.props.required,i.tabIndex=n.props.tabIndex,i["aria-describedby"]=n.props.ariaDescribedBy,i["aria-invalid"]=n.props.ariaInvalid,i["aria-labelledby"]=n.props.ariaLabelledBy,i["aria-required"]=n.props.ariaRequired,i))},n.renderClearButton=function(){var a=n.props,i=a.isClearable,s=a.disabled,o=a.selected,c=a.startDate,u=a.endDate,d=a.clearButtonTitle,f=a.clearButtonClassName,h=f===void 0?"":f,p=a.ariaLabelClose,m=p===void 0?"Close":p,g=a.selectedDates;return i&&(o!=null||c!=null||u!=null||g!=null&&g.length)?we.createElement("button",{type:"button",className:Wt("react-datepicker__close-icon",h,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":m,onClick:n.onClearClick,title:d,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Qg,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var a,i,s,o;r.inline&&KAe(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:SO(this.props.highlightDates)}),!n.focused&&!Pu(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((i=(a=this.props).onCalendarOpen)===null||i===void 0||i.call(a)),n.open===!0&&this.state.open===!1&&((o=(s=this.props).onCalendarClose)===null||o===void 0||o.call(s)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,a=r.icon,i=r.calendarIconClassname,s=r.calendarIconClassName,o=r.toggleCalendarOnIconClick,c=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),we.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&we.createElement(qAe,Ar({icon:a,className:Wt(s,!s&&i,c&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?we.createElement(C9,{enableTabLoop:this.props.enableTabLoop},we.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=we.createElement(A9,Ar({portalId:this.props.portalId},this.props),n)),we.createElement("div",null,this.renderInputContainer(),n)}return we.createElement(GAe,Ar({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(L.Component),JAe="input",a_="navigate";const QAe={mobile_money:{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200"},bank_transfer:{bg:"bg-purple-50",text:"text-purple-700",border:"border-purple-200"},card_payment:{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200"},check:{bg:"bg-emerald-50",text:"text-emerald-700",border:"border-emerald-200"},cash:{bg:"bg-green-50",text:"text-green-700",border:"border-green-200"}},i_=e=>{const t=e.toLowerCase().replace(/ /g,"_");return QAe[t]||{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200"}},ZAe=e=>{const t=e.toLowerCase().replace(/ /g,"_");return{mobile_money:"#FFE45E",bank_transfer:"#A855F7",card_payment:"#3B82F6",check:"#34D399",cash:"#4ADE80"}[t]||"#9CA3AF"},eCe=(e,t,r)=>{const n=["Order Number","Client Name","Amount","Payment Method","Date"],a=e.map(c=>{var u,d;return[((u=c.order_details)==null?void 0:u.order_number)||"N/A",((d=c.order_details)==null?void 0:d.client_name)||"N/A",`${r}${c.amount.toLocaleString(void 0,{minimumFractionDigits:2})}`,c.payment_method,St(new Date(c.created_at),"MMM d, yyyy")]}),i=["Payment Method","Total Amount","Transaction Count"],s=t.map(c=>[c.method,`${r}${c.amount.toLocaleString(void 0,{minimumFractionDigits:2})}`,c.count.toString()]);return[["Financial Report"],["Date Range:",St(new Date,"MMM d, yyyy")],[],["Transaction Details"],n,...a,[],["Payment Method Statistics"],i,...s].map(c=>c.map(u=>`"${u}"`).join(",")).join(`
`)},tCe=(e,t)=>{const r=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),a=URL.createObjectURL(r);n.setAttribute("href",a),n.setAttribute("download",t),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)};function rCe(){var P,A;const[e,t]=L.useState([]),[r,n]=L.useState([]),[a,i]=L.useState([null,null]),[s,o]=a,{organization:c}=Zt(),{addToast:u}=Tr(),{theme:d,getThemeStyle:f}=Ht(),h=c!=null&&c.currency?((P=tn[c.currency])==null?void 0:P.symbol)||c.currency:tn.USD.symbol,p=L.useRef(null),[m,g]=L.useState(0),[x,v]=L.useState(0),[b,y]=L.useState(""),[C,S]=L.useState(window.innerWidth<768);L.useEffect(()=>{const j=()=>{S(window.innerWidth<768)};return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const T=()=>{if(!s||!o){const j=new Date;return{start:Cc(j),end:Qv(j)}}return{start:Cc(s),end:Qv(o)}},N=async()=>{if(!c)return;const{start:j,end:F}=T();try{let M=[],H=[],q=!0,Y=0;const X=1e3;for(;q;){const{data:z,error:G}=await We.from("payments").select("payment_method, amount, reference_id, reference_type, status").eq("organization_id",c.id).gte("created_at",j.toISOString()).lte("created_at",F.toISOString()).range(Y*X,(Y+1)*X-1);if(G)throw G;z&&z.length>0?(M=[...M,...z],Y++):q=!1}for(q=!0,Y=0;q;){const{data:z,error:G}=await We.from("payments").select("*").eq("organization_id",c.id).gte("created_at",j.toISOString()).lte("created_at",F.toISOString()).order("created_at",{ascending:!1}).range(Y*X,(Y+1)*X-1);if(G)throw G;z&&z.length>0?(H=[...H,...z],Y++):q=!1}const J=(await Promise.all(M.map(async z=>{if(z.reference_type==="service_order"){const{data:G}=await We.from("orders").select("status").eq("id",z.reference_id).single();return{id:z.reference_id,status:G==null?void 0:G.status}}else if(z.reference_type==="sales_order"){const{data:G}=await We.from("sales_orders").select("status").eq("id",z.reference_id).single();return{id:z.reference_id,status:G==null?void 0:G.status}}return{id:z.reference_id,status:null}}))).reduce((z,{id:G,status:ae})=>(z[G]=ae,z),{}),Q=M.reduce((z,G)=>{if(J[G.reference_id]==="cancelled")return z;const ee=z.find(W=>W.method===G.payment_method);return ee?(ee.amount+=G.amount,ee.count+=1):z.push({method:G.payment_method,amount:G.amount,count:1}),z},[]);t(Q);const E=Q.reduce((z,G)=>z+G.amount,0);g(E);const R=Q.reduce((z,G)=>G.count>z.count?G:z,{method:"",amount:0,count:0});y(R.method),v(Q.reduce((z,G)=>z+G.count,0));const U=await Promise.all(H.map(async z=>{var ae,ee;let G={order_number:"N/A",client_name:"N/A",status:null};if(z.reference_type==="sales_order"){const{data:W,error:Z}=await We.from("sales_orders").select(`
                order_number,
                status,
                client_id,
                clients (
                  name
                )
              `).eq("id",z.reference_id).single();!Z&&W&&(G={order_number:W.order_number,client_name:((ae=W.clients)==null?void 0:ae.name)||"N/A",status:W.status})}else if(z.reference_type==="service_order"){const{data:W,error:Z}=await We.from("orders").select(`
                order_number,
                status,
                client_id,
                clients (
                  name
                )
              `).eq("id",z.reference_id).single();!Z&&W&&(G={order_number:W.order_number,client_name:((ee=W.clients)==null?void 0:ee.name)||"N/A",status:W.status})}return{...z,order_details:G}}));n(U)}catch(M){console.error("Error fetching payment data:",M),u({type:"error",title:"Error",message:"Failed to fetch payment data"})}},w=()=>{const F=`financial-report-${s&&o?`${St(s,"MMM d, yyyy")}-${St(o,"MMM d, yyyy")}`:St(new Date,"MMM d, yyyy")}.csv`,M=eCe(r,e,h);tCe(M,F)},_=async()=>{var j,F;try{const M=new Lt("landscape","mm","a4"),H=M.internal.pageSize.getWidth(),q=M.internal.pageSize.getHeight(),Y=15,X=H-2*Y;M.setFontSize(20),M.setFont("helvetica","bold"),M.text("Financial Report",Y,Y+10);const I=s&&o?`${St(s,"MMM d, yyyy")} - ${St(o,"MMM d, yyyy")}`:St(new Date,"MMM d, yyyy");M.setFontSize(12),M.setFont("helvetica","normal"),M.text(`Date Range: ${I}`,Y,Y+20);const J=(c==null?void 0:c.currency)||"USD";M.setFontSize(10),M.text(`Total Revenue: ${J} ${m.toLocaleString(void 0,{minimumFractionDigits:2})}`,Y,Y+30),M.text(`Total Transactions: ${x}`,Y+80,Y+30),M.text(`Most Popular Method: ${b?b.split("_").map(O=>O.charAt(0).toUpperCase()+O.slice(1)).join(" "):"N/A"}`,Y+160,Y+30);const Q=Y+45,E=8,R=[35,25,30,25,40],U=[Y,Y+R[0],Y+R[0]+R[1],Y+R[0]+R[1]+R[2],Y+R[0]+R[1]+R[2]+R[3]];M.setFillColor(240,240,240),M.rect(Y,Q,X,E,"F"),M.setFontSize(10),M.setFont("helvetica","bold"),M.text("Order",U[0]+2,Q+6),M.text(`Amount (${J})`,U[1]+2,Q+6),M.text("Method",U[2]+2,Q+6),M.text("Date",U[3]+2,Q+6),M.text("Customer",U[4]+2,Q+6),M.setFont("helvetica","normal"),M.setFontSize(9);let z=Q+E,G=1;const ae=Math.floor((q-z-20)/E);let ee=0;const W=r.filter(O=>{var de;return O.status!=="cancelled"&&((de=O.order_details)==null?void 0:de.status)!=="cancelled"});for(let O=0;O<W.length;O++){const de=W[O];ee>=ae&&(M.addPage(),G++,z=Y+20,ee=0,M.setFontSize(20),M.setFont("helvetica","bold"),M.text("Financial Report (continued)",Y,Y+10),M.setFillColor(240,240,240),M.rect(Y,z,X,E,"F"),M.setFontSize(10),M.setFont("helvetica","bold"),M.text("Order",U[0]+2,z+6),M.text(`Amount (${J})`,U[1]+2,z+6),M.text("Method",U[2]+2,z+6),M.text("Date",U[3]+2,z+6),M.text("Customer",U[4]+2,z+6),z+=E,ee++),ee%2===0&&(M.setFillColor(250,250,250),M.rect(Y,z,X,E,"F")),M.setFont("helvetica","normal"),M.setFontSize(9);const ce=((j=de.order_details)==null?void 0:j.order_number)||"N/A";M.text(ce.length>15?ce.substring(0,12)+"...":ce,U[0]+2,z+6),M.text(de.amount.toLocaleString(void 0,{minimumFractionDigits:2}),U[1]+2,z+6);const pe=de.payment_method.split("_").map(ne=>ne.charAt(0).toUpperCase()+ne.slice(1)).join(" ");M.text(pe.length>12?pe.substring(0,9)+"...":pe,U[2]+2,z+6),M.text(St(new Date(de.created_at),"MMM d, yyyy"),U[3]+2,z+6);const K=((F=de.order_details)==null?void 0:F.client_name)||"N/A";M.text(K.length>18?K.substring(0,15)+"...":K,U[4]+2,z+6),z+=E,ee++}z+=5,M.setFillColor(220,220,220),M.rect(Y,z,X,E,"F"),M.setFont("helvetica","bold"),M.setFontSize(10),M.text("TOTAL",U[0]+2,z+6),M.text(`${W.reduce((O,de)=>O+de.amount,0).toLocaleString(void 0,{minimumFractionDigits:2})}`,U[1]+2,z+6),M.text(`${W.length} transactions`,U[2]+2,z+6);const Z=M.getNumberOfPages();for(let O=1;O<=Z;O++)M.setPage(O),M.setFontSize(8),M.setFont("helvetica","normal"),M.text(`Page ${O} of ${Z}`,H-30,q-10),M.text(`Generated on ${St(new Date,"MMM d, yyyy h:mm a")}`,Y,q-10);const re=`financial-report-${I.replace(/[^a-zA-Z0-9]/g,"-")}.pdf`;M.save(re),u({type:"success",title:"Success",message:"PDF report generated successfully"})}catch(M){console.error("Error generating PDF:",M),u({type:"error",title:"Error",message:"Failed to generate PDF"})}};return L.useEffect(()=>{N()},[a,c]),l.jsx("div",{className:`min-h-screen ${f(d,"background","primary")} p-4 sm:p-6`,ref:p,children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0 mb-6",children:[l.jsx("h1",{className:`text-xl font-semibold ${f(d,"text","primary")}`,children:"Financial Dashboard"}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full sm:w-auto",children:[l.jsxs("div",{className:"relative w-full sm:w-auto",children:[l.jsx(XAe,{selectsRange:!0,startDate:s,endDate:o,onChange:j=>i(j),className:`w-full sm:w-auto px-3 py-2 border ${f(d,"border","primary")} rounded-lg text-sm ${f(d,"background","primary")} ${f(d,"text","primary")} shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,placeholderText:"Select date range",dateFormat:"MMM d, yyyy"}),l.jsx(ul,{className:`absolute right-3 top-2.5 h-4 w-4 ${f(d,"text","muted")}`})]}),l.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[l.jsxs("button",{onClick:_,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 rounded-lg text-sm font-medium ${f(d,"text","primary")} ${f(d,"background","primary")} border ${f(d,"border","primary")} ${f(d,"interactive","hover","background")} transition-colors`,children:[l.jsx(pd,{className:"h-4 w-4 mr-1.5"}),"Export PDF"]}),l.jsxs("button",{onClick:w,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 rounded-lg text-sm font-medium ${f(d,"text","primary")} ${f(d,"background","primary")} border ${f(d,"border","primary")} ${f(d,"interactive","hover","background")} transition-colors`,children:[l.jsx(pm,{className:"h-4 w-4 mr-1.5"}),"Export CSV"]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:`${f(d,"background","primary")} rounded-xl shadow-sm p-4 border ${f(d,"border","primary")}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-sm ${f(d,"text","muted")}`,children:"Date Range"}),l.jsx("p",{className:`text-2xl font-bold ${f(d,"text","primary")} mt-1`,children:s&&o?`${St(s,"MMM d")} - ${St(o,"MMM d")}`:St(new Date,"MMM d, yyyy")})]}),l.jsx("div",{className:"bg-amber-50 p-3 rounded-full",children:l.jsx(ul,{className:"h-6 w-6 text-amber-500"})})]}),l.jsx("div",{className:"mt-3 flex items-center text-sm text-gray-500",children:l.jsx("span",{className:"flex items-center",children:s&&o?`${Math.ceil((o.getTime()-s.getTime())/(1e3*60*60*24))+1} days`:"Today"})})]}),l.jsxs("div",{className:`${f(d,"background","primary")} rounded-xl shadow-sm p-4 border ${f(d,"border","primary")}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-sm ${f(d,"text","muted")}`,children:"Total Revenue"}),l.jsxs("p",{className:`text-2xl font-bold ${f(d,"text","primary")} mt-1`,children:[h,m.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),l.jsx("div",{className:"bg-blue-50 p-3 rounded-full",children:l.jsx(la,{className:"h-6 w-6 text-blue-500"})})]}),l.jsx("div",{className:"mt-3 flex items-center text-sm text-gray-500",children:l.jsxs("span",{className:"flex items-center text-green-500",children:[l.jsx(cY,{className:"h-4 w-4 mr-1"}),x," transactions"]})})]}),l.jsxs("div",{className:`${f(d,"background","primary")} rounded-xl shadow-sm p-4 border ${f(d,"border","primary")}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-sm ${f(d,"text","muted")}`,children:"Most Popular Method"}),l.jsx("p",{className:`text-2xl font-bold ${f(d,"text","primary")} mt-1`,children:b?b.split("_").map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(" "):"N/A"})]}),l.jsx("div",{className:"bg-purple-50 p-3 rounded-full",children:l.jsx(Yc,{className:"h-6 w-6 text-purple-500"})})]}),l.jsx("div",{className:"mt-3 flex items-center text-sm text-gray-500",children:l.jsxs("span",{className:"flex items-center",children:[((A=e.find(j=>j.method===b))==null?void 0:A.count)||0," transactions"]})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[l.jsx("div",{className:"lg:col-span-4",children:l.jsxs("div",{className:`${f(d,"background","primary")} rounded-xl shadow-sm p-5 border ${f(d,"border","primary")}`,children:[l.jsx("h2",{className:`text-base font-semibold ${f(d,"text","primary")} mb-4`,children:"Payment Methods Distribution"}),l.jsxs("div",{className:"relative h-64 mb-6",children:[l.jsx(zR,{data:e.map(j=>({id:j.method,label:j.method,value:j.amount,color:ZAe(j.method)})),margin:{top:10,right:10,bottom:10,left:10},innerRadius:.5,padAngle:.7,cornerRadius:0,colors:{datum:"data.color"},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.2]]},enableArcLinkLabels:!1,enableArcLabels:!1,theme:{tooltip:{container:{background:d==="dark"?"#1f2937":"#ffffff",fontSize:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",borderRadius:"0.5rem",padding:"0.5rem"}}},tooltip:({datum:j})=>{const F=typeof j.label=="string"?j.label.split("_").map(M=>M.charAt(0).toUpperCase()+M.slice(1)).join(" "):"";return l.jsxs("div",{className:`p-2 ${f(d,"background","primary")} rounded-lg`,children:[l.jsx("div",{className:`font-medium ${f(d,"text","primary")}`,children:F}),l.jsxs("div",{className:`text-sm ${f(d,"text","secondary")}`,children:[h,j.value.toLocaleString(void 0,{minimumFractionDigits:2}),l.jsxs("span",{className:`${f(d,"text","muted")} ml-1`,children:["(",(m>0?j.value/m*100:0).toFixed(1),"%)"]})]})]})}}),l.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center pointer-events-none",children:[l.jsxs("div",{className:`${f(d,"text","primary")} font-bold text-sm`,children:[h,m.toLocaleString(void 0,{minimumFractionDigits:0})]}),l.jsx("div",{className:`${f(d,"text","muted")} text-xs`,children:"Total"})]})]}),l.jsx("div",{className:"space-y-3",children:e.map(j=>{const F=i_(j.method);return l.jsxs("div",{className:`flex items-center space-x-3 p-2 rounded-lg ${f(d,"interactive","hover","background")} transition-colors`,children:[l.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${F.bg} ${F.border} border`,children:l.jsx("span",{className:`${F.text} text-sm font-medium`,children:j.method.split("_").map(M=>M[0]).join("").toUpperCase()})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"truncate",children:l.jsx("p",{className:`text-sm font-medium ${f(d,"text","secondary")} truncate`,children:j.method.split("_").map(M=>M.charAt(0).toUpperCase()+M.slice(1)).join(" ")})}),l.jsxs("p",{className:`text-sm font-semibold ${f(d,"text","primary")} ml-2`,children:[h,j.amount.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"flex justify-between items-center mt-1",children:[l.jsxs("div",{className:`text-xs ${f(d,"text","muted")}`,children:[j.count," transaction",j.count!==1?"s":""]}),l.jsxs("div",{className:`text-xs ${f(d,"text","muted")}`,children:[(j.amount/m*100).toFixed(1),"%"]})]})]})]},j.method)})})]})}),l.jsxs("div",{className:"lg:col-span-8",children:[l.jsxs("div",{className:`hidden sm:block ${f(d,"background","primary")} rounded-xl shadow-sm border ${f(d,"border","primary")} overflow-hidden`,children:[l.jsx("div",{className:`p-5 border-b ${f(d,"border","primary")}`,children:l.jsx("h2",{className:`text-base font-semibold ${f(d,"text","primary")}`,children:"Transaction History"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("div",{className:"min-w-[600px]",children:[l.jsx("div",{className:`sticky top-0 ${f(d,"background","secondary")} z-10`,children:l.jsxs("div",{className:`grid grid-cols-4 gap-4 p-4 text-sm font-medium ${f(d,"text","muted")} border-b ${f(d,"border","primary")}`,children:[l.jsx("div",{children:"Order"}),l.jsx("div",{children:"Amount"}),l.jsx("div",{children:"Method"}),l.jsx("div",{children:"Date"})]})}),l.jsx("div",{className:`divide-y ${f(d,"border","primary")}`,children:r.map(j=>{var M,H;const F=i_(j.payment_method);return l.jsxs("div",{className:`grid grid-cols-4 gap-4 items-center p-4 text-sm ${f(d,"interactive","hover","background")} transition-colors ${j.status==="cancelled"?"opacity-75":""}`,children:[l.jsxs("div",{className:"truncate",children:[l.jsx(Rr,{to:`/dashboard/${j.reference_type==="sales_order"?"sales":"orders"}/${j.reference_id}`,className:`${j.status==="cancelled"?`line-through ${f(d,"text","muted")}`:"text-blue-600"} hover:underline font-medium truncate block`,children:((M=j.order_details)==null?void 0:M.order_number)||"N/A"}),l.jsx("div",{className:`text-xs ${f(d,"text","muted")} truncate`,children:((H=j.order_details)==null?void 0:H.client_name)||"N/A"})]}),l.jsxs("div",{className:`font-medium ${j.status==="cancelled"?`line-through ${f(d,"text","muted")}`:f(d,"text","primary")}`,children:[h,j.amount.toLocaleString(void 0,{minimumFractionDigits:2})]}),l.jsx("div",{children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.bg} ${F.text} ${F.border} border`,children:j.payment_method.split("_").map(q=>q.charAt(0).toUpperCase()+q.slice(1)).join(" ")})}),l.jsxs("div",{className:`truncate ${j.status==="cancelled"?`line-through ${f(d,"text","muted")}`:f(d,"text","muted")}`,children:[St(new Date(j.created_at),"MMM d, yyyy"),l.jsx("div",{className:"text-xs",children:St(new Date(j.created_at),"h:mm a")})]})]},j.id)})}),l.jsxs("div",{className:`grid grid-cols-4 gap-4 items-center p-4 text-sm ${f(d,"background","secondary")} border-t ${f(d,"border","primary")}`,children:[l.jsx("div",{className:`font-medium ${f(d,"text","secondary")}`,children:"Total"}),l.jsxs("div",{className:`font-medium ${f(d,"text","primary")}`,children:[h,r.filter(j=>{var F;return j.status!=="cancelled"&&((F=j.order_details)==null?void 0:F.status)!=="cancelled"}).reduce((j,F)=>j+F.amount,0).toLocaleString(void 0,{minimumFractionDigits:2})]}),l.jsxs("div",{className:`font-medium ${f(d,"text","secondary")}`,children:[r.filter(j=>{var F;return j.status!=="cancelled"&&((F=j.order_details)==null?void 0:F.status)!=="cancelled"}).length," transactions"]}),l.jsx("div",{className:`font-medium ${f(d,"text","secondary")}`,children:s&&o?`${St(s,"MMM d")} - ${St(o,"MMM d, yyyy")}`:St(new Date,"MMM d, yyyy")})]})]})})]}),C&&l.jsx("div",{className:"sm:hidden mt-4",children:l.jsxs("div",{className:`${f(d,"background","primary")} rounded-xl shadow-sm border ${f(d,"border","primary")} overflow-hidden`,children:[l.jsxs("div",{className:`p-4 border-b ${f(d,"border","primary")} flex justify-between items-center`,children:[l.jsx("h3",{className:`text-base font-semibold ${f(d,"text","primary")}`,children:"Transaction History"}),l.jsxs("div",{className:`text-xs ${f(d,"text","muted")}`,children:[r.filter(j=>{var F;return j.status!=="cancelled"&&((F=j.order_details)==null?void 0:F.status)!=="cancelled"}).length," transactions"]})]}),l.jsx("div",{className:"p-4 space-y-4",children:r.map(j=>{var M,H;const F=i_(j.payment_method);return l.jsxs("div",{className:`${f(d,"background","primary")} rounded-lg p-4 border ${f(d,"border","primary")} ${j.status==="cancelled"?"opacity-75":""}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(Rr,{to:`/dashboard/${j.reference_type==="sales_order"?"sales":"orders"}/${j.reference_id}`,className:`${j.status==="cancelled"?`line-through ${f(d,"text","muted")}`:"text-blue-600"} hover:underline font-medium block truncate`,children:((M=j.order_details)==null?void 0:M.order_number)||"N/A"}),l.jsx("div",{className:`text-xs ${f(d,"text","muted")} truncate`,children:((H=j.order_details)==null?void 0:H.client_name)||"N/A"})]}),l.jsxs("div",{className:`font-medium ml-2 ${j.status==="cancelled"?`line-through ${f(d,"text","muted")}`:f(d,"text","primary")}`,children:[h,j.amount.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.bg} ${F.text} ${F.border} border`,children:j.payment_method.split("_").map(q=>q.charAt(0).toUpperCase()+q.slice(1)).join(" ")}),l.jsxs("div",{className:`text-xs ${j.status==="cancelled"?`line-through ${f(d,"text","muted")}`:f(d,"text","muted")}`,children:[St(new Date(j.created_at),"MMM d, yyyy"),l.jsx("div",{className:"text-[10px]",children:St(new Date(j.created_at),"h:mm a")})]})]})]},j.id)})}),l.jsxs("div",{className:`p-4 border-t ${f(d,"border","primary")} ${f(d,"background","secondary")}`,children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:`font-medium ${f(d,"text","secondary")}`,children:"Total"}),l.jsxs("div",{className:`font-medium ${f(d,"text","primary")}`,children:[h,r.filter(j=>{var F;return j.status!=="cancelled"&&((F=j.order_details)==null?void 0:F.status)!=="cancelled"}).reduce((j,F)=>j+F.amount,0).toLocaleString(void 0,{minimumFractionDigits:2})]})]}),l.jsx("div",{className:`text-xs ${f(d,"text","muted")} mt-1 text-right`,children:s&&o?`${St(s,"MMM d")} - ${St(o,"MMM d, yyyy")}`:St(new Date,"MMM d, yyyy")})]})]})})]})]})]})})}function nCe(){var C;const[e,t]=L.useState([]),[r,n]=L.useState(!0),[a,i]=L.useState(!1),[s,o]=L.useState(null),[c,u]=L.useState({name:"",cost:0}),{organization:d}=Zt(),{confirm:f,addToast:h}=Tr(),{theme:p,getThemeStyle:m}=Ht(),g=d?((C=tn[d.currency])==null?void 0:C.symbol)||d.currency:"";L.useEffect(()=>{d&&x()},[d]);const x=async()=>{try{const{data:S,error:T}=await We.from("services").select("*").eq("organization_id",d.id).order("name");if(T)throw T;t(S||[])}catch(S){console.error("Error loading services:",S),h({type:"error",title:"Error",message:"Failed to load services"})}finally{n(!1)}},v=async()=>{if(!(!d||!c.name.trim()||!c.cost))try{const{data:S,error:T}=await We.from("services").insert([{organization_id:d.id,name:c.name.trim(),cost:c.cost}]).select().single();if(T)throw T;t(N=>[...N,S]),u({name:"",cost:0}),i(!1),h({type:"success",title:"Service Added",message:"The service has been added successfully."})}catch(S){console.error("Error adding service:",S),h({type:"error",title:"Error",message:"Failed to add service. Please try again."})}},b=async S=>{const T=e.find(N=>N.id===S);if(T)try{const{error:N}=await We.from("services").update({name:T.name,cost:T.cost}).eq("id",S);if(N)throw N;o(null),h({type:"success",title:"Service Updated",message:"The service has been updated successfully."})}catch(N){console.error("Error updating service:",N),h({type:"error",title:"Error",message:"Failed to update service. Please try again."})}},y=async S=>{if(await f({title:"Delete Service",message:"Are you sure you want to delete this service? This action cannot be undone.",type:"danger",confirmText:"Delete",cancelText:"Cancel"}))try{const{error:N}=await We.from("services").delete().eq("id",S);if(N)throw N;t(w=>w.filter(_=>_.id!==S)),h({type:"success",title:"Service Deleted",message:"The service has been deleted successfully."})}catch(N){console.error("Error deleting service:",N),h({type:"error",title:"Error",message:"Failed to delete service. Please try again."})}};return r?l.jsx("div",{className:`flex items-center justify-center min-h-[200px] ${m(p,"background","primary")}`,children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsxs("div",{className:`space-y-6 p-4 ${m(p,"background","primary")}`,children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:`text-lg font-medium ${m(p,"text","primary")}`,children:"Services"}),l.jsxs("button",{onClick:()=>i(!0),className:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium ${m(p,"text","inverse")} bg-blue-600 hover:bg-blue-700`,children:[l.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Add Service"]})]}),a&&l.jsxs("div",{className:`${m(p,"background","secondary")} shadow rounded-lg p-6`,children:[l.jsx("h3",{className:`text-lg font-medium ${m(p,"text","primary")} mb-4`,children:"Add New Service"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${m(p,"text","secondary")} mb-2`,children:"Service Name *"}),l.jsx("input",{type:"text",value:c.name,onChange:S=>u(T=>({...T,name:S.target.value})),className:`block w-full rounded-md border ${m(p,"border","secondary")} py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm ${m(p,"background","primary")} ${m(p,"text","primary")}`,placeholder:"Enter service name"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:`block text-sm font-medium ${m(p,"text","secondary")} mb-2`,children:["Cost (",g,") *"]}),l.jsx("input",{type:"number",value:c.cost||"",onChange:S=>u(T=>({...T,cost:parseFloat(S.target.value)||0})),className:`block w-full rounded-md border ${m(p,"border","secondary")} py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm ${m(p,"background","primary")} ${m(p,"text","primary")}`,min:"0",step:"0.01",placeholder:"Enter service cost"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[l.jsx("button",{onClick:()=>i(!1),className:`px-6 py-2.5 text-sm font-medium ${m(p,"text","secondary")} ${m(p,"interactive","hover","text")} border ${m(p,"border","secondary")} rounded-lg ${m(p,"interactive","hover","background")} transition-colors duration-200`,children:"Cancel"}),l.jsxs("button",{onClick:v,disabled:!c.name.trim()||!c.cost,className:"px-6 py-2.5 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400 flex items-center transition-colors duration-200 shadow-sm",children:[l.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Add Service"]})]})]})]}),l.jsx("div",{className:`${m(p,"background","secondary")} shadow rounded-lg overflow-hidden`,children:e.length===0?l.jsx("div",{className:`text-center ${m(p,"text","muted")} py-8`,children:"No services added yet. Start by adding a new service."}):l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:m(p,"background","accent"),children:l.jsxs("tr",{children:[l.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${m(p,"text","muted")} uppercase tracking-wider`,children:"Service Name"}),l.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${m(p,"text","muted")} uppercase tracking-wider`,children:"Cost"}),l.jsx("th",{className:`px-6 py-3 text-right text-xs font-medium ${m(p,"text","muted")} uppercase tracking-wider`,children:"Actions"})]})}),l.jsx("tbody",{className:`${m(p,"background","secondary")} divide-y ${m(p,"border","primary")}`,children:e.map(S=>l.jsxs("tr",{children:[l.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${m(p,"text","primary")}`,children:s===S.id?l.jsx("input",{type:"text",value:S.name,onChange:T=>t(N=>N.map(w=>w.id===S.id?{...w,name:T.target.value}:w)),className:`block w-full rounded-md ${m(p,"border","secondary")} shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ${m(p,"background","primary")} ${m(p,"text","primary")}`}):S.name}),l.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${m(p,"text","primary")}`,children:s===S.id?l.jsx("input",{type:"number",value:S.cost,onChange:T=>t(N=>N.map(w=>w.id===S.id?{...w,cost:parseFloat(T.target.value)||0}:w)),className:`block w-full rounded-md ${m(p,"border","secondary")} shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ${m(p,"background","primary")} ${m(p,"text","primary")}`,min:"0",step:"0.01"}):`${g} ${S.cost.toFixed(2)}`}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s===S.id?l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:()=>b(S.id),className:"text-green-600 hover:text-green-900",children:"Save"}),l.jsx("button",{onClick:()=>{o(null),x()},className:`${m(p,"text","secondary")} ${m(p,"interactive","hover","text")}`,children:"Cancel"})]}):l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:()=>o(S.id),className:"text-blue-600 hover:text-blue-900",children:l.jsx(To,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>y(S.id),className:"text-red-600 hover:text-red-900",children:l.jsx(gi,{className:"h-4 w-4"})})]})})]},S.id))})]})})]})}function aCe({onClose:e,onSuccess:t}){const{organization:r}=Zt(),{addToast:n}=Tr(),{theme:a,getThemeStyle:i}=Ht(),[s,o]=L.useState(!1),[c,u]=L.useState([]),[d,f]=L.useState(null),[h,p]=L.useState(null),[m,g]=L.useState({name:"",category:"",description:"",unit_price:"",stock_quantity:"",reorder_point:""});L.useEffect(()=>{r&&x()},[r]);const x=async()=>{if(r!=null&&r.id)try{const{data:C,error:S}=await We.from("categories").select("name").eq("organization_id",r.id).order("name");if(S)throw S;u((C==null?void 0:C.map(T=>T.name))||[])}catch(C){console.error("Error loading categories:",C),n({type:"error",title:"Error",message:"Failed to load categories"})}},v=C=>{var T;const S=(T=C.target.files)==null?void 0:T[0];if(S){f(S);const N=new FileReader;N.onloadend=()=>{p(N.result)},N.readAsDataURL(S)}},b=async()=>{if(!d||!(r!=null&&r.id))return null;try{const C=d.name.split(".").pop(),S=`${Date.now()}.${C}`,T=`products/${r.id}/${S}`,{error:N}=await We.storage.from("product-images").upload(T,d);if(N)return console.error("Error uploading image:",N),n({type:"error",title:"Error",message:"Failed to upload image"}),null;const{data:w}=We.storage.from("product-images").getPublicUrl(T);return w.publicUrl}catch(C){return console.error("Error in image upload process:",C),n({type:"error",title:"Error",message:"Failed to process image upload"}),null}},y=async()=>{if(!r)return;const C=parseFloat(m.unit_price),S=parseInt(m.stock_quantity),T=parseInt(m.reorder_point);if(isNaN(C)||C<0){n({type:"error",title:"Invalid Price",message:"Please enter a valid unit price"});return}if(isNaN(S)||S<0){n({type:"error",title:"Invalid Quantity",message:"Please enter a valid stock quantity"});return}if(isNaN(T)||T<0){n({type:"error",title:"Invalid Reorder Point",message:"Please enter a valid reorder point"});return}if(!m.category){n({type:"error",title:"Invalid Category",message:"Please select or enter a category"});return}if(!m.name.trim()){n({type:"error",title:"Invalid Name",message:"Please enter a product name"});return}o(!0);try{let N=null;d&&(N=await b());const{error:w}=await We.from("products").insert([{organization_id:r.id,name:m.name.trim(),category:m.category.trim(),description:m.description.trim()||null,unit_price:C,stock_quantity:S,reorder_point:T,image_url:N}]);if(w)throw w;n({type:"success",title:"Product Created",message:"Product has been created successfully"}),t(),e()}catch(N){console.error("Error creating product:",N),n({type:"error",title:"Error",message:"Failed to create product"})}finally{o(!1)}};return l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:`flex justify-between items-center p-4 border-b ${i(a,"border","primary")}`,children:[l.jsx("h3",{className:`text-sm font-medium ${i(a,"text","primary")}`,children:"Create Product"}),l.jsx("button",{type:"button",onClick:e,className:`${i(a,"text","muted")} hover:${i(a,"text","primary")}`,children:l.jsx(cr,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${i(a,"text","secondary")}`,children:"Product Image"}),l.jsxs("div",{className:"mt-1 flex items-center space-x-4",children:[l.jsx("div",{className:`w-24 h-24 border-2 border-dashed rounded-lg flex items-center justify-center ${i(a,"border","primary")} ${h?"border-none":""}`,children:h?l.jsx("img",{src:h,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}):l.jsx(r$,{className:`w-8 h-8 ${i(a,"text","muted")}`})}),l.jsxs("div",{children:[l.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"hidden",id:"product-image"}),l.jsx("label",{htmlFor:"product-image",className:"inline-flex items-center px-3 py-1.5 border border-transparent rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-1 focus:ring-blue-500 cursor-pointer",children:h?"Change Image":"Upload Image"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${i(a,"text","secondary")}`,children:"Name *"}),l.jsx("input",{type:"text",value:m.name,onChange:C=>g(S=>({...S,name:C.target.value})),className:`mt-1 block w-full rounded-md border ${i(a,"border","primary")} py-1.5 px-2 text-xs ${i(a,"text","primary")} ${i(a,"background","primary")} focus:ring-1 focus:ring-blue-500 focus:border-blue-500`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${i(a,"text","secondary")}`,children:"Category *"}),l.jsxs("select",{value:m.category,onChange:C=>g(S=>({...S,category:C.target.value})),className:`mt-1 block w-full rounded-md border ${i(a,"border","primary")} py-1.5 px-2 text-xs ${i(a,"text","primary")} ${i(a,"background","primary")} focus:ring-1 focus:ring-blue-500 focus:border-blue-500`,children:[l.jsx("option",{value:"",children:"Select a category"}),c.map(C=>l.jsx("option",{value:C,children:C},C))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${i(a,"text","secondary")}`,children:"Description"}),l.jsx("textarea",{value:m.description,onChange:C=>g(S=>({...S,description:C.target.value})),rows:3,className:`mt-1 block w-full rounded-md border ${i(a,"border","primary")} py-1.5 px-2 text-xs ${i(a,"text","primary")} ${i(a,"background","primary")} focus:ring-1 focus:ring-blue-500 focus:border-blue-500`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${i(a,"text","secondary")}`,children:"Unit Price *"}),l.jsx("input",{type:"number",min:"0",step:"0.01",value:m.unit_price,onChange:C=>g(S=>({...S,unit_price:C.target.value})),className:`mt-1 block w-full rounded-md border ${i(a,"border","primary")} py-1.5 px-2 text-xs ${i(a,"text","primary")} ${i(a,"background","primary")} focus:ring-1 focus:ring-blue-500 focus:border-blue-500`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${i(a,"text","secondary")}`,children:"Stock Quantity *"}),l.jsx("input",{type:"number",min:"0",step:"1",value:m.stock_quantity,onChange:C=>g(S=>({...S,stock_quantity:C.target.value})),className:`mt-1 block w-full rounded-md border ${i(a,"border","primary")} py-1.5 px-2 text-xs ${i(a,"text","primary")} ${i(a,"background","primary")} focus:ring-1 focus:ring-blue-500 focus:border-blue-500`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${i(a,"text","secondary")}`,children:"Reorder Point *"}),l.jsx("input",{type:"number",min:"0",step:"1",value:m.reorder_point,onChange:C=>g(S=>({...S,reorder_point:C.target.value})),className:`mt-1 block w-full rounded-md border ${i(a,"border","primary")} py-1.5 px-2 text-xs ${i(a,"text","primary")} ${i(a,"background","primary")} focus:ring-1 focus:ring-blue-500 focus:border-blue-500`})]})]})}),l.jsxs("div",{className:`flex justify-end gap-2 p-4 border-t ${i(a,"border","primary")}`,children:[l.jsx("button",{type:"button",onClick:e,className:`px-3 py-1.5 text-xs font-medium ${i(a,"text","primary")} hover:${i(a,"text","secondary")}`,children:"Cancel"}),l.jsx("button",{onClick:y,disabled:s,className:"inline-flex items-center px-3 py-1.5 border border-transparent rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:bg-gray-400",children:s?l.jsx(mi,{className:"h-3.5 w-3.5 animate-spin"}):"Create Product"})]})]})}function iCe({product:e,onClose:t,onUpdate:r}){var M;const[n,a]=L.useState(!1),[i,s]=L.useState({...e}),[o,c]=L.useState([]),[u,d]=L.useState(!1),[f,h]=L.useState(!1),[p,m]=L.useState(!1),[g,x]=L.useState(null),[v,b]=L.useState(e.image_url||null),{organization:y}=Zt(),{addToast:C}=Tr(),{theme:S,getThemeStyle:T}=Ht(),N=y!=null&&y.currency?((M=tn[y.currency])==null?void 0:M.symbol)||y.currency:"";L.useEffect(()=>{w()},[y]);const w=async()=>{if(y!=null&&y.id)try{const{data:H,error:q}=await We.from("categories").select("*").eq("organization_id",y.id).order("name");if(q)throw q;c(H||[])}catch(H){console.error("Error loading categories:",H),C({type:"error",title:"Error",message:"Failed to load categories"})}},_=H=>{const{name:q,value:Y}=H.target,X={...i,[q]:q==="unit_price"||q==="reorder_point"||q==="stock_quantity"?parseFloat(Y):Y};s(X),n&&r()},P=H=>{if(H.target.files&&H.target.files[0]){const q=H.target.files[0];x(q);const Y=new FileReader;Y.onloadend=()=>{b(Y.result)},Y.readAsDataURL(q)}},A=async()=>{if(!g||!(y!=null&&y.id))return null;try{const H=g.name.split(".").pop(),q=`${e.id}-${Date.now()}.${H}`,Y=`products/${y.id}/${q}`,{error:X}=await We.storage.from("product-images").upload(Y,g);if(X)return console.error("Error uploading image:",X),C({type:"error",title:"Error",message:"Failed to upload image"}),null;const{data:I}=We.storage.from("product-images").getPublicUrl(Y);return I.publicUrl}catch(H){return console.error("Error in image upload process:",H),C({type:"error",title:"Error",message:"Failed to process image upload"}),null}},j=async()=>{d(!0);try{let H=i.image_url;if(g){const Y=await A();Y?H=Y:C({type:"warning",title:"Warning",message:"Failed to upload new image. Keeping existing image."})}const{error:q}=await We.from("products").update({...i,image_url:H}).eq("id",e.id);if(q)throw q;C({type:"success",title:"Product Updated",message:"Product has been updated successfully."}),a(!1),r()}catch(H){console.error("Error updating product:",H),C({type:"error",title:"Error",message:"Failed to update product"})}finally{d(!1)}},F=async()=>{h(!0);try{const{error:H}=await We.from("products").delete().eq("id",e.id);if(H)throw H;if(e.image_url)try{const q=e.image_url.split("/").pop();q&&await We.storage.from("product-images").remove([`products/${y==null?void 0:y.id}/${q}`])}catch(q){console.error("Error deleting product image:",q)}C({type:"success",title:"Product Deleted",message:"Product has been deleted successfully."}),r(),t()}catch(H){console.error("Error deleting product:",H),C({type:"error",title:"Error",message:"Failed to delete product"})}finally{h(!1),m(!1)}};return l.jsxs("div",{className:`h-full flex flex-col ${T(S,"background","primary")}`,children:[l.jsxs("div",{className:`flex justify-between items-center p-4 border-b ${T(S,"border","primary")}`,children:[l.jsx("h2",{className:`text-sm font-medium ${T(S,"text","primary")}`,children:"Product Details"}),l.jsxs("div",{className:"flex items-center gap-2",children:[n?l.jsxs("button",{onClick:j,disabled:u,className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:[l.jsx(yY,{className:"h-3.5 w-3.5 mr-1"}),"Save"]}):l.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:[l.jsx(To,{className:"h-3.5 w-3.5 mr-1"}),"Edit"]}),l.jsx("button",{onClick:t,className:`p-1.5 rounded-md ${T(S,"background","accent")} ${T(S,"text","muted")} hover:${T(S,"text","primary")}`,children:l.jsx(cr,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("div",{className:`h-32 w-32 rounded-lg ${T(S,"background","accent")} flex items-center justify-center overflow-hidden mb-2`,children:v?l.jsx("img",{src:v,alt:e.name,className:"h-full w-full object-cover"}):l.jsx(r$,{className:`h-12 w-12 ${T(S,"text","muted")}`})}),n&&l.jsx("div",{className:"mt-2",children:l.jsxs("label",{className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200 cursor-pointer",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"hidden"}),"Change Image"]})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium mb-1 ${T(S,"text","muted")}`,children:"Product Name"}),n?l.jsx("input",{type:"text",name:"name",value:i.name,onChange:_,className:`w-full px-3 py-2 rounded-md border text-sm ${T(S,"border","primary")} ${T(S,"background","primary")} ${T(S,"text","primary")}`}):l.jsx("p",{className:`text-sm ${T(S,"text","primary")}`,children:i.name})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium mb-1 ${T(S,"text","muted")}`,children:"Description"}),n?l.jsx("textarea",{name:"description",value:i.description||"",onChange:_,rows:3,className:`w-full px-3 py-2 rounded-md border text-sm ${T(S,"border","primary")} ${T(S,"background","primary")} ${T(S,"text","primary")}`}):l.jsx("p",{className:`text-sm ${T(S,"text","primary")}`,children:i.description||"No description provided"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium mb-1 ${T(S,"text","muted")}`,children:"Category"}),n?l.jsx("select",{name:"category",value:i.category,onChange:_,className:`w-full px-3 py-2 rounded-md border text-sm ${T(S,"border","primary")} ${T(S,"background","primary")} ${T(S,"text","primary")}`,children:o.map(H=>l.jsx("option",{value:H.name,children:H.name},H.id))}):l.jsx("p",{className:`text-sm ${T(S,"text","primary")}`,children:i.category})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium mb-1 ${T(S,"text","muted")}`,children:"Current Stock"}),n?l.jsx("input",{type:"number",name:"stock_quantity",value:i.stock_quantity,onChange:_,min:"0",className:`w-full px-3 py-2 rounded-md border text-sm ${T(S,"border","primary")} ${T(S,"background","primary")} ${T(S,"text","primary")}`}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ca,{className:`h-4 w-4 ${i.stock_quantity<=i.reorder_point?"text-red-500":"text-green-500"}`}),l.jsxs("p",{className:`text-sm font-medium ${i.stock_quantity<=i.reorder_point?"text-red-500":T(S,"text","primary")}`,children:[i.stock_quantity," units"]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium mb-1 ${T(S,"text","muted")}`,children:"Reorder Point"}),n?l.jsx("input",{type:"number",name:"reorder_point",value:i.reorder_point,onChange:_,min:"0",className:`w-full px-3 py-2 rounded-md border text-sm ${T(S,"border","primary")} ${T(S,"background","primary")} ${T(S,"text","primary")}`}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ac,{className:`h-4 w-4 ${T(S,"text","muted")}`}),l.jsxs("p",{className:`text-sm ${T(S,"text","primary")}`,children:[i.reorder_point," units"]})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium mb-1 ${T(S,"text","muted")}`,children:"Unit Price"}),n?l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:`absolute left-3 top-2 ${T(S,"text","muted")}`,children:N}),l.jsx("input",{type:"number",name:"unit_price",value:i.unit_price,onChange:_,min:"0",step:"0.01",className:`w-full pl-8 pr-3 py-2 rounded-md border text-sm ${T(S,"border","primary")} ${T(S,"background","primary")} ${T(S,"text","primary")}`})]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(la,{className:`h-4 w-4 ${T(S,"text","muted")}`}),l.jsxs("p",{className:`text-sm ${T(S,"text","primary")}`,children:[N," ",i.unit_price.toFixed(2)]})]})]})]})]})}),l.jsx("div",{className:`p-4 border-t ${T(S,"border","primary")}`,children:p?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:`text-sm font-medium ${T(S,"text","primary")}`,children:"Confirm Deletion"}),l.jsx("button",{onClick:()=>m(!1),className:`p-1 rounded-md ${T(S,"background","accent")} ${T(S,"text","muted")} hover:${T(S,"text","primary")}`,children:l.jsx(cr,{className:"h-4 w-4"})})]}),l.jsx("p",{className:`text-sm ${T(S,"text","primary")}`,children:"Are you sure you want to delete this product? This action cannot be undone."}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:F,disabled:f,className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium text-white bg-red-600 hover:bg-red-700 transition-colors duration-200",children:[l.jsx(gi,{className:"h-3.5 w-3.5 mr-1"}),f?"Deleting...":"Yes, Delete"]}),l.jsx("button",{onClick:()=>m(!1),className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 transition-colors duration-200",children:"Cancel"})]})]}):l.jsx("div",{className:"flex justify-center",children:l.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium text-red-600 bg-red-50 hover:bg-red-100 transition-colors duration-200",children:[l.jsx(gi,{className:"h-3.5 w-3.5 mr-1"}),"Delete Product"]})})})]})}function sCe(e){return e==null}var oCe=sCe;const br=hr(oCe);var T9={exports:{}},Gr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN=Symbol.for("react.element"),VN=Symbol.for("react.portal"),w2=Symbol.for("react.fragment"),_2=Symbol.for("react.strict_mode"),k2=Symbol.for("react.profiler"),S2=Symbol.for("react.provider"),N2=Symbol.for("react.context"),lCe=Symbol.for("react.server_context"),j2=Symbol.for("react.forward_ref"),A2=Symbol.for("react.suspense"),C2=Symbol.for("react.suspense_list"),T2=Symbol.for("react.memo"),E2=Symbol.for("react.lazy"),cCe=Symbol.for("react.offscreen"),E9;E9=Symbol.for("react.module.reference");function Ns(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case YN:switch(e=e.type,e){case w2:case k2:case _2:case A2:case C2:return e;default:switch(e=e&&e.$$typeof,e){case lCe:case N2:case j2:case E2:case T2:case S2:return e;default:return t}}case VN:return t}}}Gr.ContextConsumer=N2;Gr.ContextProvider=S2;Gr.Element=YN;Gr.ForwardRef=j2;Gr.Fragment=w2;Gr.Lazy=E2;Gr.Memo=T2;Gr.Portal=VN;Gr.Profiler=k2;Gr.StrictMode=_2;Gr.Suspense=A2;Gr.SuspenseList=C2;Gr.isAsyncMode=function(){return!1};Gr.isConcurrentMode=function(){return!1};Gr.isContextConsumer=function(e){return Ns(e)===N2};Gr.isContextProvider=function(e){return Ns(e)===S2};Gr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===YN};Gr.isForwardRef=function(e){return Ns(e)===j2};Gr.isFragment=function(e){return Ns(e)===w2};Gr.isLazy=function(e){return Ns(e)===E2};Gr.isMemo=function(e){return Ns(e)===T2};Gr.isPortal=function(e){return Ns(e)===VN};Gr.isProfiler=function(e){return Ns(e)===k2};Gr.isStrictMode=function(e){return Ns(e)===_2};Gr.isSuspense=function(e){return Ns(e)===A2};Gr.isSuspenseList=function(e){return Ns(e)===C2};Gr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===w2||e===k2||e===_2||e===A2||e===C2||e===cCe||typeof e=="object"&&e!==null&&(e.$$typeof===E2||e.$$typeof===T2||e.$$typeof===S2||e.$$typeof===N2||e.$$typeof===j2||e.$$typeof===E9||e.getModuleId!==void 0)};Gr.typeOf=Ns;T9.exports=Gr;var uCe=T9.exports,dCe=Uo,fCe=no,hCe="[object Number]";function pCe(e){return typeof e=="number"||fCe(e)&&dCe(e)==hCe}var O9=pCe;const mCe=hr(O9);var gCe=O9;function xCe(e){return gCe(e)&&e!=+e}var vCe=xCe;const ex=hr(vCe);var xs=function(t){return t===0?0:t>0?1:-1},Du=function(t){return c0(t)&&t.indexOf("%")===t.length-1},wt=function(t){return mCe(t)&&!ex(t)},oa=function(t){return wt(t)||c0(t)},yCe=0,O2=function(t){var r=++yCe;return"".concat(t||"").concat(r)},Pi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!wt(t)&&!c0(t))return n;var i;if(Du(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return ex(i)&&(i=n),a&&i>r&&(i=r),i},Af=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},bCe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},PO=function(t,r){return wt(t)&&wt(r)?function(n){return t+n*(r-t)}:function(){return r}};function t4(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):qn(n,t))===r})}function r4(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function n4(e){"@babel/helpers - typeof";return n4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n4(e)}var wCe=["viewBox","children"],_Ce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],DO=["points","pathLength"],s_={svg:wCe,polygon:DO,polyline:DO},GN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],i1=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(L.isValidElement(t)&&(n=t.props),!e0(n))return null;var a={};return Object.keys(n).forEach(function(i){GN.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},kCe=function(t,r,n){return function(a){return t(r,n,a),null}},P2=function(t,r,n){if(!e0(t)||n4(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];GN.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=kCe(s,r,n))}),a},SCe=["children"],NCe=["children"];function $O(e,t){if(e==null)return{};var r=jCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var MO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},yl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},FO=null,o_=null,KN=function e(t){if(t===FO&&Array.isArray(o_))return o_;var r=[];return L.Children.forEach(t,function(n){br(n)||(uCe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),o_=r,FO=t,r};function jo(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return yl(a)}):n=[yl(t)],KN(e).forEach(function(a){var i=qn(a,"type.displayName")||qn(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function us(e,t){var r=jo(e,t);return r&&r[0]}var LO=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!wt(n)||n<=0||!wt(a)||a<=0)},ACe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],CCe=function(t){return t&&t.type&&c0(t.type)&&ACe.indexOf(t.type)>=0},TCe=function(t,r,n,a){var i,s=(i=s_==null?void 0:s_[a])!==null&&i!==void 0?i:[];return!nr(t)&&(a&&s.includes(r)||_Ce.includes(r))||n&&GN.includes(r)},lr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(L.isValidElement(t)&&(a=t.props),!e0(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;TCe((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},a4=function e(t,r){if(t===r)return!0;var n=L.Children.count(t);if(n!==L.Children.count(r))return!1;if(n===0)return!0;if(n===1)return IO(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!IO(i,s))return!1}return!0},IO=function(t,r){if(br(t)&&br(r))return!0;if(!br(t)&&!br(r)){var n=t.props||{},a=n.children,i=$O(n,SCe),s=r.props||{},o=s.children,c=$O(s,NCe);return a&&o?r4(i,c)&&a4(a,o):!a&&!o?r4(i,c):!1}return!1},RO=function(t,r){var n=[],a={};return KN(t).forEach(function(i,s){if(CCe(i))n.push(i);else if(i){var o=yl(i.type),c=r[o]||{},u=c.handler,d=c.once;if(u&&(!d||!a[o])){var f=u(i,o,s);n.push(f),a[o]=!0}}}),n},ECe=function(t){var r=t&&t.type;return r&&MO[r]?MO[r]:null},OCe=function(t,r){return KN(r).indexOf(t)},PCe=["children","width","height","viewBox","className","style","title","desc"];function i4(){return i4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i4.apply(this,arguments)}function DCe(e,t){if(e==null)return{};var r=$Ce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Ce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function s4(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,c=e.desc,u=DCe(e,PCe),d=a||{width:r,height:n,x:0,y:0},f=Wt("recharts-surface",i);return we.createElement("svg",i4({},lr(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),we.createElement("title",null,o),we.createElement("desc",null,c),t)}var MCe=["children","className"];function o4(){return o4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o4.apply(this,arguments)}function FCe(e,t){if(e==null)return{};var r=LCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var En=we.forwardRef(function(e,t){var r=e.children,n=e.className,a=FCe(e,MCe),i=Wt("recharts-layer",n);return we.createElement("g",o4({className:i},lr(a,!0),{ref:t}),r)}),bl=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function ICe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var RCe=ICe,BCe=RCe;function UCe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:BCe(e,t,r)}var WCe=UCe,qCe="\\ud800-\\udfff",HCe="\\u0300-\\u036f",zCe="\\ufe20-\\ufe2f",YCe="\\u20d0-\\u20ff",VCe=HCe+zCe+YCe,GCe="\\ufe0e\\ufe0f",KCe="\\u200d",XCe=RegExp("["+KCe+qCe+VCe+GCe+"]");function JCe(e){return XCe.test(e)}var P9=JCe;function QCe(e){return e.split("")}var ZCe=QCe,D9="\\ud800-\\udfff",eTe="\\u0300-\\u036f",tTe="\\ufe20-\\ufe2f",rTe="\\u20d0-\\u20ff",nTe=eTe+tTe+rTe,aTe="\\ufe0e\\ufe0f",iTe="["+D9+"]",l4="["+nTe+"]",c4="\\ud83c[\\udffb-\\udfff]",sTe="(?:"+l4+"|"+c4+")",$9="[^"+D9+"]",M9="(?:\\ud83c[\\udde6-\\uddff]){2}",F9="[\\ud800-\\udbff][\\udc00-\\udfff]",oTe="\\u200d",L9=sTe+"?",I9="["+aTe+"]?",lTe="(?:"+oTe+"(?:"+[$9,M9,F9].join("|")+")"+I9+L9+")*",cTe=I9+L9+lTe,uTe="(?:"+[$9+l4+"?",l4,M9,F9,iTe].join("|")+")",dTe=RegExp(c4+"(?="+c4+")|"+uTe+cTe,"g");function fTe(e){return e.match(dTe)||[]}var hTe=fTe,pTe=ZCe,mTe=P9,gTe=hTe;function xTe(e){return mTe(e)?gTe(e):pTe(e)}var vTe=xTe,yTe=WCe,bTe=P9,wTe=vTe,_Te=jS;function kTe(e){return function(t){t=_Te(t);var r=bTe(t)?wTe(t):void 0,n=r?r[0]:t.charAt(0),a=r?yTe(r,1).join(""):t.slice(1);return n[e]()+a}}var STe=kTe,NTe=STe,jTe=NTe("toUpperCase"),ATe=jTe;const D2=hr(ATe);function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}var CTe=["type","size","sizeType"];function u4(){return u4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u4.apply(this,arguments)}function BO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(r),!0).forEach(function(n){TTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TTe(e,t,r){return t=ETe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ETe(e){var t=OTe(e,"string");return zm(t)=="symbol"?t:t+""}function OTe(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PTe(e,t){if(e==null)return{};var r=DTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var R9={symbolCircle:eN,symbolCross:Oge,symbolDiamond:Dge,symbolSquare:$ge,symbolStar:Ige,symbolTriangle:Rge,symbolWye:Uge},$Te=Math.PI/180,MTe=function(t){var r="symbol".concat(D2(t));return R9[r]||eN},FTe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*$Te;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},LTe=function(t,r){R9["symbol".concat(D2(t))]=r},XN=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,c=PTe(t,CTe),u=UO(UO({},c),{},{type:n,size:i,sizeType:o}),d=function(){var x=MTe(n),v=Wge().type(x).size(FTe(i,o,n));return v()},f=u.className,h=u.cx,p=u.cy,m=lr(u,!0);return h===+h&&p===+p&&i===+i?we.createElement("path",u4({},m,{className:Wt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};XN.registerSymbol=LTe;function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function d4(){return d4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d4.apply(this,arguments)}function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ITe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){Ym(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U9(n.key),n)}}function UTe(e,t,r){return t&&BTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WTe(e,t,r){return t=s1(t),qTe(e,B9()?Reflect.construct(t,r||[],s1(e).constructor):t.apply(e,r))}function qTe(e,t){if(t&&(_h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HTe(e)}function HTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B9=function(){return!!e})()}function s1(e){return s1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s1(e)}function zTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f4(e,t)}function f4(e,t){return f4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},f4(e,t)}function Ym(e,t,r){return t=U9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U9(e){var t=YTe(e,"string");return _h(t)=="symbol"?t:t+""}function YTe(e,t){if(_h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ms=32,JN=function(e){function t(){return RTe(this,t),WTe(this,t,arguments)}return zTe(t,e),UTe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ms/2,s=Ms/6,o=Ms/3,c=n.inactive?a:n.color;if(n.type==="plainline")return we.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ms,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return we.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Ms,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return we.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ms/8,"h").concat(Ms,"v").concat(Ms*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(we.isValidElement(n.legendIcon)){var u=ITe({},n);return delete u.legendIcon,we.cloneElement(n.legendIcon,u)}return we.createElement(XN,{fill:c,cx:i,cy:i,size:Ms,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ms,height:Ms},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,m){var g=p.formatter||c,x=Wt(Ym(Ym({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=nr(p.value)?null:p.value;bl(!nr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return we.createElement("li",d4({className:x,style:f,key:"legend-item-".concat(m)},P2(n.props,p,m)),we.createElement(s4,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),we.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(v,p,m):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return we.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(L.PureComponent);Ym(JN,"displayName","Legend");Ym(JN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function W9(e,t,r){return t===!0?Hk(e,r):nr(t)?Hk(e,t):e}function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}var VTe=["ref"];function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){$2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H9(n.key),n)}}function KTe(e,t,r){return t&&HO(e.prototype,t),r&&HO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XTe(e,t,r){return t=o1(t),JTe(e,q9()?Reflect.construct(t,r||[],o1(e).constructor):t.apply(e,r))}function JTe(e,t){if(t&&(kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QTe(e)}function QTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q9=function(){return!!e})()}function o1(e){return o1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o1(e)}function ZTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h4(e,t)}function h4(e,t){return h4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h4(e,t)}function $2(e,t,r){return t=H9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H9(e){var t=e6e(e,"string");return kh(t)=="symbol"?t:t+""}function e6e(e,t){if(kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function t6e(e,t){if(e==null)return{};var r=r6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function n6e(e){return e.value}function a6e(e,t){if(we.isValidElement(e))return we.cloneElement(e,t);if(typeof e=="function")return we.createElement(e,t);t.ref;var r=t6e(t,VTe);return we.createElement(JN,r)}var zO=1,Yf=function(e){function t(){var r;GTe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=XTe(this,t,[].concat(a)),$2(r,"lastBoundingBox",{width:-1,height:-1}),r}return ZTe(t,e),KTe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>zO||Math.abs(a.height-this.lastBoundingBox.height)>zO)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?rl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return rl(rl({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=rl(rl({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return we.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},a6e(i,rl(rl({},this.props),{},{payload:W9(d,u,n6e)})))}}],[{key:"getWithHeight",value:function(n,a){var i=rl(rl({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&wt(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(L.PureComponent);$2(Yf,"displayName","Legend");$2(Yf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function p4(){return p4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p4.apply(this,arguments)}function i6e(e,t){return c6e(e)||l6e(e,t)||o6e(e,t)||s6e()}function s6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o6e(e,t){if(e){if(typeof e=="string")return YO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YO(e,t)}}function YO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function c6e(e){if(Array.isArray(e))return e}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){u6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u6e(e,t,r){return t=d6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d6e(e){var t=f6e(e,"string");return Vm(t)=="symbol"?t:t+""}function f6e(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h6e(e){return Array.isArray(e)&&oa(e[0])&&oa(e[1])?e.join(" ~ "):e}var p6e=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,g=t.label,x=t.labelFormatter,v=t.accessibilityLayer,b=v===void 0?!1:v,y=function(){if(d&&d.length){var j={padding:0,margin:0},F=(h?d2(d,h):d).map(function(M,H){if(M.type==="none")return null;var q=l_({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},o),Y=M.formatter||f||h6e,X=M.value,I=M.name,J=X,Q=I;if(Y&&J!=null&&Q!=null){var E=Y(X,I,M,H,d);if(Array.isArray(E)){var R=i6e(E,2);J=R[0],Q=R[1]}else J=E}return we.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:q},oa(Q)?we.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,oa(Q)?we.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,we.createElement("span",{className:"recharts-tooltip-item-value"},J),we.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return we.createElement("ul",{className:"recharts-tooltip-item-list",style:j},F)}return null},C=l_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=l_({margin:0},u),T=!br(g),N=T?g:"",w=Wt("recharts-default-tooltip",p),_=Wt("recharts-tooltip-label",m);T&&x&&d!==void 0&&d!==null&&(N=x(g,d));var P=b?{role:"status","aria-live":"assertive"}:{};return we.createElement("div",p4({className:w,style:C},P),we.createElement("p",{className:_,style:S},we.isValidElement(N)?N:"".concat(N)),y())};function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function Sv(e,t,r){return t=m6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m6e(e){var t=g6e(e,"string");return Gm(t)=="symbol"?t:t+""}function g6e(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kp="recharts-tooltip-wrapper",x6e={visibility:"hidden"};function v6e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Wt(kp,Sv(Sv(Sv(Sv({},"".concat(kp,"-right"),wt(r)&&t&&wt(t.x)&&r>=t.x),"".concat(kp,"-left"),wt(r)&&t&&wt(t.x)&&r<t.x),"".concat(kp,"-bottom"),wt(n)&&t&&wt(t.y)&&n>=t.y),"".concat(kp,"-top"),wt(n)&&t&&wt(t.y)&&n<t.y))}function GO(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&wt(i[n]))return i[n];var d=r[n]-o-a,f=r[n]+a;if(t[n])return s[n]?d:f;if(s[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var m=f+o,g=c[n]+u;return m>g?Math.max(d,c[n]):Math.max(f,c[n])}function y6e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function b6e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=GO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=GO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=y6e({translateX:d,translateY:f,useTranslate3d:o})):u=x6e,{cssProperties:u,cssClasses:v6e({translateX:d,translateY:f,coordinate:r})}}function Sh(e){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sh(e)}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(n){g4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y9(n.key),n)}}function k6e(e,t,r){return t&&_6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S6e(e,t,r){return t=l1(t),N6e(e,z9()?Reflect.construct(t,r||[],l1(e).constructor):t.apply(e,r))}function N6e(e,t){if(t&&(Sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j6e(e)}function j6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z9=function(){return!!e})()}function l1(e){return l1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l1(e)}function A6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m4(e,t)}function m4(e,t){return m4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},m4(e,t)}function g4(e,t,r){return t=Y9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y9(e){var t=C6e(e,"string");return Sh(t)=="symbol"?t:t+""}function C6e(e,t){if(Sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JO=1,T6e=function(e){function t(){var r;w6e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=S6e(this,t,[].concat(a)),g4(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),g4(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return A6e(t,e),k6e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>JO||Math.abs(n.height-this.state.lastBoundingBox.height)>JO)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,g=a.reverseDirection,x=a.useTranslate3d,v=a.viewBox,b=a.wrapperStyle,y=b6e({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:v}),C=y.cssClasses,S=y.cssProperties,T=XO(XO({transition:h&&i?"transform ".concat(o,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return we.createElement("div",{tabIndex:-1,className:C,style:T,ref:function(w){n.wrapperNode=w}},u)}}])}(L.PureComponent),E6e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},M2={isSsr:E6e()};function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(n){QN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G9(n.key),n)}}function D6e(e,t,r){return t&&P6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $6e(e,t,r){return t=c1(t),M6e(e,V9()?Reflect.construct(t,r||[],c1(e).constructor):t.apply(e,r))}function M6e(e,t){if(t&&(Nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F6e(e)}function F6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V9=function(){return!!e})()}function c1(e){return c1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c1(e)}function L6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x4(e,t)}function x4(e,t){return x4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},x4(e,t)}function QN(e,t,r){return t=G9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G9(e){var t=I6e(e,"string");return Nh(t)=="symbol"?t:t+""}function I6e(e,t){if(Nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function R6e(e){return e.dataKey}function B6e(e,t){return we.isValidElement(e)?we.cloneElement(e,t):typeof e=="function"?we.createElement(e,t):we.createElement(p6e,t)}var Rs=function(e){function t(){return O6e(this,t),$6e(this,t,arguments)}return L6e(t,e),D6e(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,g=a.payloadUniqBy,x=a.position,v=a.reverseDirection,b=a.useTranslate3d,y=a.viewBox,C=a.wrapperStyle,S=m??[];f&&S.length&&(S=W9(m.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),g,R6e));var T=S.length>0;return we.createElement(T6e,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:T,offset:p,position:x,reverseDirection:v,useTranslate3d:b,viewBox:y,wrapperStyle:C},B6e(u,ZO(ZO({},this.props),{},{payload:S})))}}])}(L.PureComponent);QN(Rs,"displayName","Tooltip");QN(Rs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!M2.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var U6e=ro,W6e=function(){return U6e.Date.now()},q6e=W6e,H6e=/\s/;function z6e(e){for(var t=e.length;t--&&H6e.test(e.charAt(t)););return t}var Y6e=z6e,V6e=Y6e,G6e=/^\s+/;function K6e(e){return e&&e.slice(0,V6e(e)+1).replace(G6e,"")}var X6e=K6e,J6e=X6e,eP=Ki,Q6e=s0,tP=NaN,Z6e=/^[-+]0x[0-9a-f]+$/i,eEe=/^0b[01]+$/i,tEe=/^0o[0-7]+$/i,rEe=parseInt;function nEe(e){if(typeof e=="number")return e;if(Q6e(e))return tP;if(eP(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=eP(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=J6e(e);var r=eEe.test(e);return r||tEe.test(e)?rEe(e.slice(2),r?2:8):Z6e.test(e)?tP:+e}var K9=nEe,aEe=Ki,c_=q6e,rP=K9,iEe="Expected a function",sEe=Math.max,oEe=Math.min;function lEe(e,t,r){var n,a,i,s,o,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(iEe);t=rP(t)||0,aEe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?sEe(rP(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(T){var N=n,w=a;return n=a=void 0,u=T,s=e.apply(w,N),s}function m(T){return u=T,o=setTimeout(v,t),d?p(T):s}function g(T){var N=T-c,w=T-u,_=t-N;return f?oEe(_,i-w):_}function x(T){var N=T-c,w=T-u;return c===void 0||N>=t||N<0||f&&w>=i}function v(){var T=c_();if(x(T))return b(T);o=setTimeout(v,g(T))}function b(T){return o=void 0,h&&n?p(T):(n=a=void 0,s)}function y(){o!==void 0&&clearTimeout(o),u=0,n=c=a=o=void 0}function C(){return o===void 0?s:b(c_())}function S(){var T=c_(),N=x(T);if(n=arguments,a=this,c=T,N){if(o===void 0)return m(c);if(f)return clearTimeout(o),o=setTimeout(v,t),p(c)}return o===void 0&&(o=setTimeout(v,t)),s}return S.cancel=y,S.flush=C,S}var cEe=lEe,uEe=cEe,dEe=Ki,fEe="Expected a function";function hEe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(fEe);return dEe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),uEe(e,t,{leading:n,maxWait:t,trailing:a})}var pEe=hEe;const X9=hr(pEe);function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(n){mEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mEe(e,t,r){return t=gEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gEe(e){var t=xEe(e,"string");return Km(t)=="symbol"?t:t+""}function xEe(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vEe(e,t){return _Ee(e)||wEe(e,t)||bEe(e,t)||yEe()}function yEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bEe(e,t){if(e){if(typeof e=="string")return aP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aP(e,t)}}function aP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function _Ee(e){if(Array.isArray(e))return e}var J9=L.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,c=o===void 0?"100%":o,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,g=m===void 0?0:m,x=e.id,v=e.className,b=e.onResize,y=e.style,C=y===void 0?{}:y,S=L.useRef(null),T=L.useRef();T.current=b,L.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var N=L.useState({containerWidth:a.width,containerHeight:a.height}),w=vEe(N,2),_=w[0],P=w[1],A=L.useCallback(function(F,M){P(function(H){var q=Math.round(F),Y=Math.round(M);return H.containerWidth===q&&H.containerHeight===Y?H:{containerWidth:q,containerHeight:Y}})},[]);L.useEffect(function(){var F=function(I){var J,Q=I[0].contentRect,E=Q.width,R=Q.height;A(E,R),(J=T.current)===null||J===void 0||J.call(T,E,R)};g>0&&(F=X9(F,g,{trailing:!0,leading:!1}));var M=new ResizeObserver(F),H=S.current.getBoundingClientRect(),q=H.width,Y=H.height;return A(q,Y),M.observe(S.current),function(){M.disconnect()}},[A,g]);var j=L.useMemo(function(){var F=_.containerWidth,M=_.containerHeight;if(F<0||M<0)return null;bl(Du(s)||Du(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),bl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=Du(s)?F:s,q=Du(c)?M:c;r&&r>0&&(H?q=H/r:q&&(H=q*r),h&&q>h&&(q=h)),bl(H>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,q,s,c,d,f,r);var Y=!Array.isArray(p)&&yl(p.type).endsWith("Chart");return we.Children.map(p,function(X){return we.isValidElement(X)?L.cloneElement(X,Nv({width:H,height:q},Y?{style:Nv({height:"100%",width:"100%",maxHeight:q,maxWidth:H},X.props.style)}:{})):X})},[r,p,c,h,f,d,_,s]);return we.createElement("div",{id:x?"".concat(x):void 0,className:Wt("recharts-responsive-container",v),style:Nv(Nv({},C),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},j)}),F2=function(t){return null};F2.displayName="Cell";function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(n){kEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kEe(e,t,r){return t=SEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SEe(e){var t=NEe(e,"string");return Xm(t)=="symbol"?t:t+""}function NEe(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wf={widthCache:{},cacheCount:0},jEe=2e3,AEe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sP="recharts_measurement_span";function CEe(e){var t=v4({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var oP=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||M2.isSsr)return{width:0,height:0};var n=CEe(r),a=JSON.stringify({text:t,copyStyle:n});if(wf.widthCache[a])return wf.widthCache[a];try{var i=document.getElementById(sP);i||(i=document.createElement("span"),i.setAttribute("id",sP),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=v4(v4({},AEe),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),c={width:o.width,height:o.height};return wf.widthCache[a]=c,++wf.cacheCount>jEe&&(wf.cacheCount=0,wf.widthCache={}),c}catch{return{width:0,height:0}}},TEe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function u1(e,t){return DEe(e)||PEe(e,t)||OEe(e,t)||EEe()}function EEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OEe(e,t){if(e){if(typeof e=="string")return lP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lP(e,t)}}function lP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function DEe(e){if(Array.isArray(e))return e}function $Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FEe(n.key),n)}}function MEe(e,t,r){return t&&cP(e.prototype,t),r&&cP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FEe(e){var t=LEe(e,"string");return Jm(t)=="symbol"?t:t+""}function LEe(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IEe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,REe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Q9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},BEe=Object.keys(Q9),Ef="NaN";function UEe(e,t){return e*Q9[t]}var jv=function(){function e(t,r){$Ee(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!IEe.test(r)&&(this.num=NaN,this.unit=""),BEe.includes(r)&&(this.num=UEe(t,r),this.unit="px")}return MEe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=REe.exec(r))!==null&&n!==void 0?n:[],i=u1(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function Z9(e){if(e.includes(Ef))return Ef;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=uP.exec(t))!==null&&r!==void 0?r:[],a=u1(n,4),i=a[1],s=a[2],o=a[3],c=jv.parse(i??""),u=jv.parse(o??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Ef;t=t.replace(uP,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=dP.exec(t))!==null&&f!==void 0?f:[],p=u1(h,4),m=p[1],g=p[2],x=p[3],v=jv.parse(m??""),b=jv.parse(x??""),y=g==="+"?v.add(b):v.subtract(b);if(y.isNaN())return Ef;t=t.replace(dP,y.toString())}return t}var fP=/\(([^()]*)\)/;function WEe(e){for(var t=e;t.includes("(");){var r=fP.exec(t),n=u1(r,2),a=n[1];t=t.replace(fP,Z9(a))}return t}function qEe(e){var t=e.replace(/\s+/g,"");return t=WEe(t),t=Z9(t),t}function HEe(e){try{return qEe(e)}catch{return Ef}}function u_(e){var t=HEe(e.slice(5,-1));return t===Ef?"":t}var zEe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],YEe=["dx","dy","angle","className","breakAll"];function y4(){return y4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y4.apply(this,arguments)}function hP(e,t){if(e==null)return{};var r=VEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pP(e,t){return JEe(e)||XEe(e,t)||KEe(e,t)||GEe()}function GEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KEe(e,t){if(e){if(typeof e=="string")return mP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mP(e,t)}}function mP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function JEe(e){if(Array.isArray(e))return e}var eB=/[ \f\n\r\t\v\u2028\u2029]+/,tB=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];br(r)||(n?i=r.toString().split(""):i=r.toString().split(eB));var s=i.map(function(c){return{word:c,width:oP(c,a).width}}),o=n?0:oP("",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},QEe=function(t,r,n,a,i){var s=t.maxLines,o=t.children,c=t.style,u=t.breakAll,d=wt(s),f=o,h=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(q,Y){var X=Y.word,I=Y.width,J=q[q.length-1];if(J&&(a==null||i||J.width+I+n<Number(a)))J.words.push(X),J.width+=I+n;else{var Q={words:[X],width:I};q.push(Q)}return q},[])},p=h(r),m=function(H){return H.reduce(function(q,Y){return q.width>Y.width?q:Y})};if(!d)return p;for(var g="",x=function(H){var q=f.slice(0,H),Y=tB({breakAll:u,style:c,children:q+g}).wordsWithComputedWidth,X=h(Y),I=X.length>s||m(X).width>Number(a);return[I,X]},v=0,b=f.length-1,y=0,C;v<=b&&y<=f.length-1;){var S=Math.floor((v+b)/2),T=S-1,N=x(T),w=pP(N,2),_=w[0],P=w[1],A=x(S),j=pP(A,1),F=j[0];if(!_&&!F&&(v=S+1),_&&F&&(b=S-1),!_&&F){C=P;break}y++}return C||p},gP=function(t){var r=br(t)?[]:t.toString().split(eB);return[{words:r}]},ZEe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!M2.isSsr){var c,u,d=tB({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return gP(a);return QEe({breakAll:s,children:a,maxLines:o,style:i},c,u,r,n)}return gP(a)},xP="#808080",jh=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,g=m===void 0?"end":m,x=t.fill,v=x===void 0?xP:x,b=hP(t,zEe),y=L.useMemo(function(){return ZEe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),C=b.dx,S=b.dy,T=b.angle,N=b.className,w=b.breakAll,_=hP(b,YEe);if(!oa(n)||!oa(i))return null;var P=n+(wt(C)?C:0),A=i+(wt(S)?S:0),j;switch(g){case"start":j=u_("calc(".concat(u,")"));break;case"middle":j=u_("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:j=u_("calc(".concat(y.length-1," * -").concat(o,")"));break}var F=[];if(f){var M=y[0].width,H=b.width;F.push("scale(".concat((wt(H)?H/M:1)/M,")"))}return T&&F.push("rotate(".concat(T,", ").concat(P,", ").concat(A,")")),F.length&&(_.transform=F.join(" ")),we.createElement("text",y4({},lr(_,!0),{x:P,y:A,className:Wt("recharts-text",N),textAnchor:p,fill:v.includes("url")?xP:v}),y.map(function(q,Y){var X=q.words.join(w?"":" ");return we.createElement("tspan",{x:P,dy:Y===0?j:o,key:"".concat(X,"-").concat(Y)},X)}))};const vP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sh,scaleDiverging:vL,scaleDivergingLog:yL,scaleDivergingPow:JS,scaleDivergingSqrt:Mpe,scaleDivergingSymlog:bL,scaleIdentity:QF,scaleImplicit:Nk,scaleLinear:Im,scaleLog:LS,scaleOrdinal:xc,scalePoint:Wf,scalePow:US,scaleQuantile:tL,scaleQuantize:rL,scaleRadial:eL,scaleSequential:pL,scaleSequentialLog:mL,scaleSequentialPow:XS,scaleSequentialQuantile:xL,scaleSequentialSqrt:$pe,scaleSequentialSymlog:gL,scaleSqrt:x0e,scaleSymlog:RS,scaleThreshold:nL,scaleTime:fL,scaleUtc:hL,tickFormat:JF},Symbol.toStringTag,{value:"Module"}));var eOe=s0;function tOe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!eOe(s):r(s,o)))var o=s,c=i}return c}var L2=tOe;function rOe(e,t){return e>t}var rB=rOe,nOe=L2,aOe=rB,iOe=i0;function sOe(e){return e&&e.length?nOe(e,iOe,aOe):void 0}var oOe=sOe;const I2=hr(oOe);function lOe(e,t){return e<t}var nB=lOe,cOe=L2,uOe=nB,dOe=i0;function fOe(e){return e&&e.length?cOe(e,dOe,uOe):void 0}var hOe=fOe;const R2=hr(hOe);var pOe=xb,mOe=Jc,gOe=eR,xOe=vi;function vOe(e,t){var r=xOe(e)?pOe:gOe;return r(e,mOe(t))}var yOe=vOe,bOe=uN,wOe=yOe;function _Oe(e,t){return bOe(wOe(e,t),1)}var kOe=_Oe;const SOe=hr(kOe);var f0=1e9,NOe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ej,vn=!0,_s="[DecimalError] ",zu=_s+"Invalid argument: ",ZN=_s+"Exponent out of range: ",h0=Math.floor,yu=Math.pow,jOe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hi,xa=1e7,fn=7,aB=9007199254740991,d1=h0(aB/fn),Nt={};Nt.absoluteValue=Nt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Nt.comparedTo=Nt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Nt.decimalPlaces=Nt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*fn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Nt.dividedBy=Nt.div=function(e){return wl(this,new this.constructor(e))};Nt.dividedToIntegerBy=Nt.idiv=function(e){var t=this,r=t.constructor;return en(wl(t,new r(e),0,1),r.precision)};Nt.equals=Nt.eq=function(e){return!this.cmp(e)};Nt.exponent=function(){return ea(this)};Nt.greaterThan=Nt.gt=function(e){return this.cmp(e)>0};Nt.greaterThanOrEqualTo=Nt.gte=function(e){return this.cmp(e)>=0};Nt.isInteger=Nt.isint=function(){return this.e>this.d.length-2};Nt.isNegative=Nt.isneg=function(){return this.s<0};Nt.isPositive=Nt.ispos=function(){return this.s>0};Nt.isZero=function(){return this.s===0};Nt.lessThan=Nt.lt=function(e){return this.cmp(e)<0};Nt.lessThanOrEqualTo=Nt.lte=function(e){return this.cmp(e)<1};Nt.logarithm=Nt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Hi))throw Error(_s+"NaN");if(r.s<1)throw Error(_s+(r.s?"NaN":"-Infinity"));return r.eq(Hi)?new n(0):(vn=!1,t=wl(Qm(r,i),Qm(e,i),i),vn=!0,en(t,a))};Nt.minus=Nt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?oB(t,e):iB(t,(e.s=-e.s,e))};Nt.modulo=Nt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(_s+"NaN");return r.s?(vn=!1,t=wl(r,e,0,1).times(e),vn=!0,r.minus(t)):en(new n(r),a)};Nt.naturalExponential=Nt.exp=function(){return sB(this)};Nt.naturalLogarithm=Nt.ln=function(){return Qm(this)};Nt.negated=Nt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Nt.plus=Nt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iB(t,e):oB(t,(e.s=-e.s,e))};Nt.precision=Nt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(zu+e);if(t=ea(a)+1,n=a.d.length-1,r=n*fn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Nt.squareRoot=Nt.sqrt=function(){var e,t,r,n,a,i,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(_s+"NaN")}for(e=ea(o),vn=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=_o(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=h0((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(wl(o,i,s+2)).times(.5),_o(i.d).slice(0,s)===(t=_o(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(en(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return vn=!0,en(n,r)};Nt.times=Nt.mul=function(e){var t,r,n,a,i,s,o,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%xa|0,t=o/xa|0;i[a]=(i[a]+t)%xa|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,vn?en(e,f.precision):e};Nt.toDecimalPlaces=Nt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Mo(e,0,f0),t===void 0?t=n.rounding:Mo(t,0,8),en(r,e+ea(r)+1,t))};Nt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=dd(n,!0):(Mo(e,0,f0),t===void 0?t=a.rounding:Mo(t,0,8),n=en(new a(n),e+1,t),r=dd(n,!0,e+1)),r};Nt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?dd(a):(Mo(e,0,f0),t===void 0?t=i.rounding:Mo(t,0,8),n=en(new i(a),e+ea(a)+1,t),r=dd(n.abs(),!1,e+ea(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Nt.toInteger=Nt.toint=function(){var e=this,t=e.constructor;return en(new t(e),ea(e)+1,t.rounding)};Nt.toNumber=function(){return+this};Nt.toPower=Nt.pow=function(e){var t,r,n,a,i,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Hi);if(o=new c(o),!o.s){if(e.s<1)throw Error(_s+"Infinity");return o}if(o.eq(Hi))return o;if(n=c.precision,e.eq(Hi))return en(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=d<0?-d:d)<=aB){for(a=new c(Hi),t=Math.ceil(n/fn+4),vn=!1;r%2&&(a=a.times(o),bP(a.d,t)),r=h0(r/2),r!==0;)o=o.times(o),bP(o.d,t);return vn=!0,e.s<0?new c(Hi).div(a):en(a,n)}}else if(i<0)throw Error(_s+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,vn=!1,a=e.times(Qm(o,n+u)),vn=!0,a=sB(a),a.s=i,a};Nt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ea(a),n=dd(a,r<=i.toExpNeg||r>=i.toExpPos)):(Mo(e,1,f0),t===void 0?t=i.rounding:Mo(t,0,8),a=en(new i(a),e,t),r=ea(a),n=dd(a,e<=r||r<=i.toExpNeg,e)),n};Nt.toSignificantDigits=Nt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Mo(e,1,f0),t===void 0?t=n.rounding:Mo(t,0,8)),en(new n(r),e,t)};Nt.toString=Nt.valueOf=Nt.val=Nt.toJSON=Nt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ea(e),r=e.constructor;return dd(e,t<=r.toExpNeg||t>=r.toExpPos)};function iB(e,t){var r,n,a,i,s,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),vn?en(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,o=u.length):(n=u,a=s,o=c.length),s=Math.ceil(f/fn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/xa|0,c[i]%=xa;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,vn?en(t,f):t}function Mo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(zu+e)}function _o(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=fn-n.length,r&&(i+=oc(r)),i+=n;s=e[t],n=s+"",r=fn-n.length,r&&(i+=oc(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var wl=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%xa|0,s=i/xa|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,c;if(i!=s)c=i>s?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*xa+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,c,u,d,f,h,p,m,g,x,v,b,y,C,S,T,N,w,_=n.constructor,P=n.s==a.s?1:-1,A=n.d,j=a.d;if(!n.s)return new _(n);if(!a.s)throw Error(_s+"Division by zero");for(c=n.e-a.e,N=j.length,S=A.length,p=new _(P),m=p.d=[],u=0;j[u]==(A[u]||0);)++u;if(j[u]>(A[u]||0)&&--c,i==null?b=i=_.precision:s?b=i+(ea(n)-ea(a))+1:b=i,b<0)return new _(0);if(b=b/fn+2|0,u=0,N==1)for(d=0,j=j[0],b++;(u<S||d)&&b--;u++)y=d*xa+(A[u]||0),m[u]=y/j|0,d=y%j|0;else{for(d=xa/(j[0]+1)|0,d>1&&(j=e(j,d),A=e(A,d),N=j.length,S=A.length),C=N,g=A.slice(0,N),x=g.length;x<N;)g[x++]=0;w=j.slice(),w.unshift(0),T=j[0],j[1]>=xa/2&&++T;do d=0,o=t(j,g,N,x),o<0?(v=g[0],N!=x&&(v=v*xa+(g[1]||0)),d=v/T|0,d>1?(d>=xa&&(d=xa-1),f=e(j,d),h=f.length,x=g.length,o=t(f,g,h,x),o==1&&(d--,r(f,N<h?w:j,h))):(d==0&&(o=d=1),f=j.slice()),h=f.length,h<x&&f.unshift(0),r(g,f,x),o==-1&&(x=g.length,o=t(j,g,N,x),o<1&&(d++,r(g,N<x?w:j,x))),x=g.length):o===0&&(d++,g=[0]),m[u++]=d,o&&g[0]?g[x++]=A[C]||0:(g=[A[C]],x=1);while((C++<S||g[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=c,en(p,s?i+ea(p)+1:i)}}();function sB(e,t){var r,n,a,i,s,o,c=0,u=0,d=e.constructor,f=d.precision;if(ea(e)>16)throw Error(ZN+ea(e));if(!e.s)return new d(Hi);for(vn=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(yu(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new d(Hi),d.precision=o;;){if(a=en(a.times(e),o),r=r.times(++c),s=i.plus(wl(a,r,o)),_o(s.d).slice(0,o)===_o(i.d).slice(0,o)){for(;u--;)i=en(i.times(i),o);return d.precision=f,t==null?(vn=!0,en(i,f)):i}i=s}}function ea(e){for(var t=e.e*fn,r=e.d[0];r>=10;r/=10)t++;return t}function d_(e,t,r){if(t>e.LN10.sd())throw vn=!0,r&&(e.precision=r),Error(_s+"LN10 precision limit exceeded");return en(new e(e.LN10),t)}function oc(e){for(var t="";e--;)t+="0";return t}function Qm(e,t){var r,n,a,i,s,o,c,u,d,f=1,h=10,p=e,m=p.d,g=p.constructor,x=g.precision;if(p.s<1)throw Error(_s+(p.s?"NaN":"-Infinity"));if(p.eq(Hi))return new g(0);if(t==null?(vn=!1,u=x):u=t,p.eq(10))return t==null&&(vn=!0),d_(g,u);if(u+=h,g.precision=u,r=_o(m),n=r.charAt(0),i=ea(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=_o(p.d),n=r.charAt(0),f++;i=ea(p),n>1?(p=new g("0."+r),i++):p=new g(n+"."+r.slice(1))}else return c=d_(g,u+2,x).times(i+""),p=Qm(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=x,t==null?(vn=!0,en(p,x)):p;for(o=s=p=wl(p.minus(Hi),p.plus(Hi),u),d=en(p.times(p),u),a=3;;){if(s=en(s.times(d),u),c=o.plus(wl(s,new g(a),u)),_o(c.d).slice(0,u)===_o(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(d_(g,u+2,x).times(i+""))),o=wl(o,new g(f),u),g.precision=x,t==null?(vn=!0,en(o,x)):o;o=c,a+=2}}function yP(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=h0(r/fn),e.d=[],n=(r+1)%fn,r<0&&(n+=fn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=fn;n<a;)e.d.push(+t.slice(n,n+=fn));t=t.slice(n),n=fn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),vn&&(e.e>d1||e.e<-d1))throw Error(ZN+r)}else e.s=0,e.e=0,e.d=[0];return e}function en(e,t,r){var n,a,i,s,o,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=fn,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/fn),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=fn,a=n-fn+s}if(r!==void 0&&(i=yu(10,s-a-1),o=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?u/yu(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=ea(e),f.length=1,t=t-i-1,f[0]=yu(10,(fn-t%fn)%fn),e.e=h0(-t/fn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=yu(10,fn-n),f[d]=a>0?(u/yu(10,s-a)%yu(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==xa&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=xa)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(vn&&(e.e>d1||e.e<-d1))throw Error(ZN+ea(e));return e}function oB(e,t){var r,n,a,i,s,o,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),vn?en(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=f.length):(r=f,n=u,o=c.length),a=Math.max(Math.ceil(p/fn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,a=f.length-o;a>0;--a)c[o++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=xa-1;--c[i],c[a]+=xa}c[a]-=f[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,vn?en(t,p):t):new h(0)}function dd(e,t,r){var n,a=ea(e),i=_o(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+oc(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+oc(-a-1)+i,r&&(n=r-s)>0&&(i+=oc(n))):a>=s?(i+=oc(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+oc(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=oc(n))),e.s<0?"-"+i:i}function bP(e,t){if(e.length>t)return e.length=t,!0}function lB(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(zu+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return yP(s,i.toString())}else if(typeof i!="string")throw Error(zu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,jOe.test(i))yP(s,i);else throw Error(zu+i)}if(a.prototype=Nt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=lB,a.config=a.set=AOe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function AOe(e){if(!e||typeof e!="object")throw Error(_s+"Object expected");var t,r,n,a=["precision",1,f0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(h0(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(zu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(zu+r+": "+n);return this}var ej=lB(NOe);Hi=new ej(1);const Jr=ej;function COe(e){return POe(e)||OOe(e)||EOe(e)||TOe()}function TOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EOe(e,t){if(e){if(typeof e=="string")return b4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b4(e,t)}}function OOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function POe(e){if(Array.isArray(e))return b4(e)}function b4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var DOe=function(t){return t},cB={},uB=function(t){return t===cB},wP=function(t){return function r(){return arguments.length===0||arguments.length===1&&uB(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},$Oe=function e(t,r){return t===1?r:wP(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==cB}).length;return s>=t?r.apply(void 0,a):e(t-s,wP(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=a.map(function(f){return uB(f)?c.shift():f});return r.apply(void 0,COe(d).concat(c))}))})},B2=function(t){return $Oe(t.length,t)},w4=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},MOe=B2(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),FOe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return DOe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,c){return c(o)},i.apply(void 0,arguments))}},_4=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},dB=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,c){return o===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function LOe(e){var t;return e===0?t=1:t=Math.floor(new Jr(e).abs().log(10).toNumber())+1,t}function IOe(e,t,r){for(var n=new Jr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var ROe=B2(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),BOe=B2(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),UOe=B2(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const U2={rangeStep:IOe,getDigitCount:LOe,interpolateNumber:ROe,uninterpolateNumber:BOe,uninterpolateTruncation:UOe};function k4(e){return HOe(e)||qOe(e)||fB(e)||WOe()}function WOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function HOe(e){if(Array.isArray(e))return S4(e)}function Zm(e,t){return VOe(e)||YOe(e,t)||fB(e,t)||zOe()}function zOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fB(e,t){if(e){if(typeof e=="string")return S4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S4(e,t)}}function S4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YOe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function VOe(e){if(Array.isArray(e))return e}function hB(e){var t=Zm(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function pB(e,t,r){if(e.lte(0))return new Jr(0);var n=U2.getDigitCount(e.toNumber()),a=new Jr(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new Jr(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=o.mul(a);return t?c:new Jr(Math.ceil(c))}function GOe(e,t,r){var n=1,a=new Jr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Jr(10).pow(U2.getDigitCount(e)-1),a=new Jr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Jr(Math.floor(e)))}else e===0?a=new Jr(Math.floor((t-1)/2)):r||(a=new Jr(Math.floor(e)));var s=Math.floor((t-1)/2),o=FOe(MOe(function(c){return a.add(new Jr(c-s).mul(n)).toNumber()}),w4);return o(0,t)}function mB(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Jr(0),tickMin:new Jr(0),tickMax:new Jr(0)};var i=pB(new Jr(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new Jr(0):(s=new Jr(e).add(t).div(2),s=s.sub(new Jr(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),c=Math.ceil(new Jr(t).sub(s).div(i).toNumber()),u=o+c+1;return u>r?mB(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,o=t>0?o:o+(r-u)),{step:i,tickMin:s.sub(new Jr(o).mul(i)),tickMax:s.add(new Jr(c).mul(i))})}function KOe(e){var t=Zm(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=hB([r,n]),c=Zm(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(k4(w4(0,a-1).map(function(){return 1/0}))):[].concat(k4(w4(0,a-1).map(function(){return-1/0})),[d]);return r>n?_4(f):f}if(u===d)return GOe(u,a,i);var h=mB(u,d,s,i),p=h.step,m=h.tickMin,g=h.tickMax,x=U2.rangeStep(m,g.add(new Jr(.1).mul(p)),p);return r>n?_4(x):x}function XOe(e,t){var r=Zm(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=hB([n,a]),o=Zm(s,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=pB(new Jr(u).sub(c).div(d-1),i,0),h=[].concat(k4(U2.rangeStep(new Jr(c),new Jr(u).sub(new Jr(.99).mul(f)),f)),[u]);return n>a?_4(h):h}var JOe=dB(KOe),QOe=dB(XOe),ZOe="Invariant failed";function Ah(e,t){throw new Error(ZOe)}var ePe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}function f1(){return f1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f1.apply(this,arguments)}function tPe(e,t){return iPe(e)||aPe(e,t)||nPe(e,t)||rPe()}function rPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nPe(e,t){if(e){if(typeof e=="string")return _P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _P(e,t)}}function _P(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function iPe(e){if(Array.isArray(e))return e}function sPe(e,t){if(e==null)return{};var r=oPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vB(n.key),n)}}function uPe(e,t,r){return t&&cPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dPe(e,t,r){return t=h1(t),fPe(e,gB()?Reflect.construct(t,r||[],h1(e).constructor):t.apply(e,r))}function fPe(e,t){if(t&&(Ch(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hPe(e)}function hPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gB=function(){return!!e})()}function h1(e){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h1(e)}function pPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N4(e,t)}function N4(e,t){return N4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},N4(e,t)}function xB(e,t,r){return t=vB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vB(e){var t=mPe(e,"string");return Ch(t)=="symbol"?t:t+""}function mPe(e,t){if(Ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tj=function(e){function t(){return lPe(this,t),dPe(this,t,arguments)}return pPe(t,e),uPe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=sPe(n,ePe),p=lr(h,!1);this.props.direction==="x"&&d.type!=="number"&&Ah();var m=c.map(function(g){var x=u(g,o),v=x.x,b=x.y,y=x.value,C=x.errorVal;if(!C)return null;var S=[],T,N;if(Array.isArray(C)){var w=tPe(C,2);T=w[0],N=w[1]}else T=N=C;if(i==="vertical"){var _=d.scale,P=b+a,A=P+s,j=P-s,F=_(y-T),M=_(y+N);S.push({x1:M,y1:A,x2:M,y2:j}),S.push({x1:F,y1:P,x2:M,y2:P}),S.push({x1:F,y1:A,x2:F,y2:j})}else if(i==="horizontal"){var H=f.scale,q=v+a,Y=q-s,X=q+s,I=H(y-T),J=H(y+N);S.push({x1:Y,y1:J,x2:X,y2:J}),S.push({x1:q,y1:I,x2:q,y2:J}),S.push({x1:Y,y1:I,x2:X,y2:I})}return we.createElement(En,f1({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},p),S.map(function(Q){return we.createElement("line",f1({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return we.createElement(En,{className:"recharts-errorBars"},m)}}])}(we.Component);xB(tj,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});xB(tj,"displayName","ErrorBar");function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){gPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gPe(e,t,r){return t=xPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xPe(e){var t=vPe(e,"string");return eg(t)=="symbol"?t:t+""}function vPe(e,t){if(eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yB=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=us(r,Yf);if(!s)return null;var o=Yf.defaultProps,c=o!==void 0?uu(uu({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?uu(uu({},h),f.props):{},m=p.dataKey,g=p.name,x=p.legendType,v=p.hide;return{inactive:v,dataKey:m,type:c.iconType||x||"square",color:rj(f),value:g||m,payload:p}}),uu(uu(uu({},c),Yf.getWithHeight(s,a)),{},{payload:u,item:s})};function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}function SP(e){return _Pe(e)||wPe(e)||bPe(e)||yPe()}function yPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bPe(e,t){if(e){if(typeof e=="string")return j4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j4(e,t)}}function wPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Pe(e){if(Array.isArray(e))return j4(e)}function j4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){Vf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vf(e,t,r){return t=kPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kPe(e){var t=SPe(e,"string");return tg(t)=="symbol"?t:t+""}function SPe(e,t){if(tg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zi(e,t,r){return br(e)||br(t)?r:oa(t)?qn(e,t,r):nr(t)?t(e):r}function om(e,t,r,n){var a=SOe(e,function(o){return zi(o,t)});if(r==="number"){var i=a.filter(function(o){return wt(o)||parseFloat(o)});return i.length?[R2(i),I2(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!br(o)}):a;return s.map(function(o){return oa(o)||o instanceof Date?o:""})}var NPe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<o;u++){var d=u>0?a[u-1].coordinate:a[o-1].coordinate,f=a[u].coordinate,h=u>=o-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(xs(f-d)!==xs(h-f)){var m=[];if(xs(h-f)===xs(c[1]-c[0])){p=h;var g=f+c[1]-c[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var x=h+c[1]-c[0];m[0]=Math.min(f,(x+f)/2),m[1]=Math.max(f,(x+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>v[0]&&t<=v[1]||t>=m[0]&&t<=m[1]){s=a[u].index;break}}else{var b=Math.min(d,h),y=Math.max(d,h);if(t>(b+f)/2&&t<=(y+f)/2){s=a[u].index;break}}}else for(var C=0;C<o;C++)if(C===0&&t<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<o-1&&t>(n[C].coordinate+n[C-1].coordinate)/2&&t<=(n[C].coordinate+n[C+1].coordinate)/2||C===o-1&&t>(n[C].coordinate+n[C-1].coordinate)/2){s=n[C].index;break}return s},rj=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Tn(Tn({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:o;break;default:c=o;break}return c},jPe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),c=0,u=o.length;c<u;c++)for(var d=i[o[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,x=m.cateAxisId,v=g.filter(function(N){return yl(N.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,y=b!==void 0?Tn(Tn({},b),v[0].props):v[0].props,C=y.barSize,S=y[x];s[S]||(s[S]=[]);var T=br(C)?r:C;s[S].push({item:v[0],stackList:v.slice(1),barSize:br(T)?void 0:Pi(T,n,0)})}}return s},APe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,c=s.length;if(c<1)return null;var u=Pi(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/c,m=s.reduce(function(C,S){return C+S.barSize||0},0);m+=(c-1)*u,m>=a&&(m-=(c-1)*u,u=0),m>=a&&p>0&&(h=!0,p*=.9,m=c*p);var g=(a-m)/2>>0,x={offset:g-u,size:0};d=s.reduce(function(C,S){var T={item:S.item,position:{offset:x.offset+x.size+u,size:h?p:S.barSize}},N=[].concat(SP(C),[T]);return x=N[N.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(w){N.push({item:w,position:x})}),N},f)}else{var v=Pi(n,a,0,!0);a-2*v-(c-1)*u<=0&&(u=0);var b=(a-2*v-(c-1)*u)/c;b>1&&(b>>=0);var y=o===+o?Math.min(b,o):b;d=s.reduce(function(C,S,T){var N=[].concat(SP(C),[{item:S.item,position:{offset:v+(b+u)*T+(b-y)/2,size:y}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(w){N.push({item:w,position:N[N.length-1].position})}),N},f)}return d},CPe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,c=s-(o.left||0)-(o.right||0),u=yB({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&wt(t[p]))return Tn(Tn({},t),{},Vf({},p,t[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&wt(t[m]))return Tn(Tn({},t),{},Vf({},m,t[m]+(h||0)))}return t},TPe=function(t,r,n){return br(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},bB=function(t,r,n,a,i){var s=r.props.children,o=jo(s,tj).filter(function(u){return TPe(a,i,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=zi(d,n);if(br(f))return u;var h=Array.isArray(f)?[R2(f),I2(f)]:[f,f],p=c.reduce(function(m,g){var x=zi(d,g,0),v=h[0]-Math.abs(Array.isArray(x)?x[0]:x),b=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(v,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},EPe=function(t,r,n,a,i){var s=r.map(function(o){return bB(t,o,n,i,a)}).filter(function(o){return!br(o)});return s&&s.length?s.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},wB=function(t,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&bB(t,c,u,a)||om(t,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,c.push(u[d]));return c},[])},_B=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Ip=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?xs(o[0]-o[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!ex(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},f_=new WeakMap,Av=function(t,r){if(typeof r!="function")return t;f_.has(t)||f_.set(t,new WeakMap);var n=f_.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},OPe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:sh(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Im(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0)?{scale:Wf(),realScaleType:"point"}:i==="category"?{scale:sh(),realScaleType:"band"}:{scale:Im(),realScaleType:"linear"};if(c0(a)){var c="scale".concat(D2(a));return{scale:(vP[c]||Wf)(),realScaleType:vP[c]?c:"point"}}return nr(a)?{scale:a}:{scale:Wf(),realScaleType:"point"}},jP=1e-4,PPe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-jP,s=Math.max(a[0],a[1])+jP,o=t(r[0]),c=t(r[n-1]);(o<i||o>s||c<i||c>s)&&t.domain([r[0],r[n-1]])}},DPe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var c=ex(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=i,t[o][n][1]=i+c,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+c,s=t[o][n][1])}},$Pe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=ex(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},MPe={sign:DPe,expand:Zge,none:uh,silhouette:exe,wiggle:txe,positive:$Pe},FPe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=MPe[n],s=Qge().keys(a).value(function(o,c){return+zi(o,c,0)}).order(Ek).offset(i);return s(t)},LPe=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,c={},u=o.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Tn(Tn({},h.type.defaultProps),h.props):h.props,g=m.stackId,x=m.hide;if(x)return f;var v=m[n],b=f[v]||{hasStack:!1,stackGroups:{}};if(oa(g)){var y=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};y.items.push(h),b.hasStack=!0,b.stackGroups[g]=y}else b.stackGroups[O2("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Tn(Tn({},f),{},Vf({},v,b))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,x){var v=p.stackGroups[x];return Tn(Tn({},g),{},Vf({},x,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:FPe(t,v.items,i)}))},m)}return Tn(Tn({},f),{},Vf({},h,p))},d)},IPe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=JOe(u,i,o);return t.domain([R2(d),I2(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=QOe(f,i,o);return{niceTicks:h}}return null},RPe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Tn(Tn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(oa(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},BPe=function(t){return t.reduce(function(r,n){return[R2(n.concat([r[0]]).filter(wt)),I2(n.concat([r[1]]).filter(wt))]},[1/0,-1/0])},kB=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,c=o.reduce(function(u,d){var f=BPe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},AP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,A4=function(t,r,n){if(nr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(wt(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(AP.test(t[0])){var i=+AP.exec(t[0])[1];a[0]=r[0]-i}else nr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(wt(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(CP.test(t[1])){var s=+CP.exec(t[1])[1];a[1]=r[1]+s}else nr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},C4=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=d2(r,function(f){return f.coordinate}),s=1/0,o=1,c=i.length;o<c;o++){var u=i[o],d=i[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},TP=function(t,r,n){return!t||!t.length||l2(t,qn(n,"type.defaultProps.domain"))?r:t},UPe=function(t,r){var n=t.type.defaultProps?Tn(Tn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Tn(Tn({},lr(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:rj(t),value:zi(r,a),type:c,payload:r,chartType:u,hide:d})};function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){SB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SB(e,t,r){return t=WPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WPe(e){var t=qPe(e,"string");return rg(t)=="symbol"?t:t+""}function qPe(e,t){if(rg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HPe(e,t){return GPe(e)||VPe(e,t)||YPe(e,t)||zPe()}function zPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YPe(e,t){if(e){if(typeof e=="string")return OP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OP(e,t)}}function OP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function GPe(e){if(Array.isArray(e))return e}var p1=Math.PI/180,KPe=function(t){return t*180/Math.PI},un=function(t,r,n,a){return{x:t+Math.cos(-p1*a)*n,y:r+Math.sin(-p1*a)*n}},NB=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},XPe=function(t,r,n,a,i){var s=t.width,o=t.height,c=t.startAngle,u=t.endAngle,d=Pi(t.cx,s,s/2),f=Pi(t.cy,o,o/2),h=NB(s,o,n),p=Pi(t.innerRadius,h,0),m=Pi(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(x,v){var b=r[v],y=b.domain,C=b.reversed,S;if(br(b.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[p,m]),C&&(S=[S[1],S[0]]);else{S=b.range;var T=S,N=HPe(T,2);c=N[0],u=N[1]}var w=OPe(b,i),_=w.realScaleType,P=w.scale;P.domain(y).range(S),PPe(P);var A=IPe(P,sl(sl({},b),{},{realScaleType:_})),j=sl(sl(sl({},b),A),{},{range:S,radius:m,realScaleType:_,scale:P,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:c,endAngle:u});return sl(sl({},x),{},SB({},v,j))},{})},JPe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},QPe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=JPe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var c=(n-i)/o,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:o,angle:KPe(u),angleInRadian:u}},ZPe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},e8e=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},PP=function(t,r){var n=t.x,a=t.y,i=QPe({x:n,y:a},r),s=i.radius,o=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=ZPe(r),f=d.startAngle,h=d.endAngle,p=o,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?sl(sl({},r),{},{radius:s,angle:e8e(p,r)}):null},jB=function(t){return!L.isValidElement(t)&&!nr(t)&&typeof t!="boolean"?t.className:""};function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}var t8e=["offset"];function r8e(e){return s8e(e)||i8e(e)||a8e(e)||n8e()}function n8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a8e(e,t){if(e){if(typeof e=="string")return T4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T4(e,t)}}function i8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s8e(e){if(Array.isArray(e))return T4(e)}function T4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o8e(e,t){if(e==null)return{};var r=l8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(n){c8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c8e(e,t,r){return t=u8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u8e(e){var t=d8e(e,"string");return ng(t)=="symbol"?t:t+""}function d8e(e,t){if(ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(this,arguments)}var f8e=function(t){var r=t.value,n=t.formatter,a=br(t.children)?r:t.children;return nr(n)?n(a):a},h8e=function(t,r){var n=xs(r-t),a=Math.min(Math.abs(r-t),360);return n*a},p8e=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,m=c.endAngle,g=c.clockWise,x=(f+h)/2,v=h8e(p,m),b=v>=0?1:-1,y,C;a==="insideStart"?(y=p+b*s,C=g):a==="insideEnd"?(y=m-b*s,C=!g):a==="end"&&(y=m+b*s,C=g),C=v<=0?C:!C;var S=un(u,d,x,y),T=un(u,d,x,y+(C?1:-1)*359),N="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(C?0:1,`,
    `).concat(T.x,",").concat(T.y),w=br(t.id)?O2("recharts-radial-line-"):t.id;return we.createElement("text",ag({},n,{dominantBaseline:"central",className:Wt("recharts-radial-bar-label",o)}),we.createElement("defs",null,we.createElement("path",{id:w,d:N})),we.createElement("textPath",{xlinkHref:"#".concat(w)},r))},m8e=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=un(s,o,u+n,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,v=un(s,o,x,h),b=v.x,y=v.y;return{x:b,y,textAnchor:"middle",verticalAnchor:"middle"}},g8e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,x=g*a,v=g>0?"end":"start",b=g>0?"start":"end";if(i==="top"){var y={x:o+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return na(na({},y),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var C={x:o+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:m};return na(na({},C),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:o-x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return na(na({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var T={x:o+u+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return na(na({},T),n?{width:Math.max(n.x+n.width-T.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return i==="insideLeft"?na({x:o+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideRight"?na({x:o+u-x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},N):i==="insideTop"?na({x:o+u/2,y:c+h,textAnchor:"middle",verticalAnchor:m},N):i==="insideBottom"?na({x:o+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},N):i==="insideTopLeft"?na({x:o+x,y:c+h,textAnchor:b,verticalAnchor:m},N):i==="insideTopRight"?na({x:o+u-x,y:c+h,textAnchor:v,verticalAnchor:m},N):i==="insideBottomLeft"?na({x:o+x,y:c+d-h,textAnchor:b,verticalAnchor:p},N):i==="insideBottomRight"?na({x:o+u-x,y:c+d-h,textAnchor:v,verticalAnchor:p},N):e0(i)&&(wt(i.x)||Du(i.x))&&(wt(i.y)||Du(i.y))?na({x:o+Pi(i.x,u),y:c+Pi(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):na({x:o+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},x8e=function(t){return"cx"in t&&wt(t.cx)};function Ca(e){var t=e.offset,r=t===void 0?5:t,n=o8e(e,t8e),a=na({offset:r},n),i=a.viewBox,s=a.position,o=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||br(o)&&br(c)&&!L.isValidElement(u)&&!nr(u))return null;if(L.isValidElement(u))return L.cloneElement(u,a);var p;if(nr(u)){if(p=L.createElement(u,a),L.isValidElement(p))return p}else p=f8e(a);var m=x8e(i),g=lr(a,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return p8e(a,p,g);var x=m?m8e(a):g8e(a);return we.createElement(jh,ag({className:Wt("recharts-label",f)},g,x,{breakAll:h}),p)}Ca.displayName="Label";var AB=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,g=t.width,x=t.height,v=t.clockWise,b=t.labelViewBox;if(b)return b;if(wt(g)&&wt(x)){if(wt(f)&&wt(h))return{x:f,y:h,width:g,height:x};if(wt(p)&&wt(m))return{x:p,y:m,width:g,height:x}}return wt(f)&&wt(h)?{x:f,y:h,width:0,height:0}:wt(r)&&wt(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||c||o||0,clockWise:v}:t.viewBox?t.viewBox:{}},v8e=function(t,r){return t?t===!0?we.createElement(Ca,{key:"label-implicit",viewBox:r}):oa(t)?we.createElement(Ca,{key:"label-implicit",viewBox:r,value:t}):L.isValidElement(t)?t.type===Ca?L.cloneElement(t,{key:"label-implicit",viewBox:r}):we.createElement(Ca,{key:"label-implicit",content:t,viewBox:r}):nr(t)?we.createElement(Ca,{key:"label-implicit",content:t,viewBox:r}):e0(t)?we.createElement(Ca,ag({viewBox:r},t,{key:"label-implicit"})):null:null},y8e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=AB(t),s=jo(a,Ca).map(function(c,u){return L.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var o=v8e(t.label,r||i);return[o].concat(r8e(s))};Ca.parseViewBox=AB;Ca.renderCallByParent=y8e;function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}var b8e=["valueAccessor"],w8e=["data","dataKey","clockWise","id","textBreakAll"];function _8e(e){return j8e(e)||N8e(e)||S8e(e)||k8e()}function k8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S8e(e,t){if(e){if(typeof e=="string")return E4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E4(e,t)}}function N8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j8e(e){if(Array.isArray(e))return E4(e)}function E4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m1(){return m1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m1.apply(this,arguments)}function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(n){A8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A8e(e,t,r){return t=C8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C8e(e){var t=T8e(e,"string");return ig(t)=="symbol"?t:t+""}function T8e(e,t){if(ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FP(e,t){if(e==null)return{};var r=E8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var O8e=function(t){return Array.isArray(t.value)?$t(t.value):t.value};function Yu(e){var t=e.valueAccessor,r=t===void 0?O8e:t,n=FP(e,b8e),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,c=n.textBreakAll,u=FP(n,w8e);return!a||!a.length?null:we.createElement(En,{className:"recharts-label-list"},a.map(function(d,f){var h=br(i)?r(d,f):zi(d&&d.payload,i),p=br(o)?{}:{id:"".concat(o,"-").concat(f)};return we.createElement(Ca,m1({},lr(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Ca.parseViewBox(br(s)?d:MP(MP({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Yu.displayName="LabelList";function P8e(e,t){return e?e===!0?we.createElement(Yu,{key:"labelList-implicit",data:t}):we.isValidElement(e)||nr(e)?we.createElement(Yu,{key:"labelList-implicit",data:t,content:e}):e0(e)?we.createElement(Yu,m1({data:t},e,{key:"labelList-implicit"})):null:null}function D8e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=jo(n,Yu).map(function(s,o){return L.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=P8e(e.label,t);return[i].concat(_8e(a))}Yu.renderCallByParent=D8e;function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}function O4(){return O4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O4.apply(this,arguments)}function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){$8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $8e(e,t,r){return t=M8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M8e(e){var t=F8e(e,"string");return sg(t)=="symbol"?t:t+""}function F8e(e,t){if(sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L8e=function(t,r){var n=xs(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Cv=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(o?1:-1)+a,f=Math.asin(c/d)/p1,h=u?i:i+s*f,p=un(r,n,d,h),m=un(r,n,a,h),g=u?i-s*f:i,x=un(r,n,d*Math.cos(f*p1),g);return{center:p,circleTangency:m,lineTangency:x,theta:f}},CB=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,c=L8e(s,o),u=s+c,d=un(r,n,i,s),f=un(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=un(r,n,a,s),m=un(r,n,a,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},I8e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=xs(d-u),h=Cv({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),p=h.circleTangency,m=h.lineTangency,g=h.theta,x=Cv({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),v=x.circleTangency,b=x.lineTangency,y=x.theta,C=c?Math.abs(u-d):Math.abs(u-d)-g-y;if(C<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):CB({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var T=Cv({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),N=T.circleTangency,w=T.lineTangency,_=T.theta,P=Cv({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=P.circleTangency,j=P.lineTangency,F=P.theta,M=c?Math.abs(u-d):Math.abs(u-d)-_-F;if(M<0&&s===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},R8e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},TB=function(t){var r=IP(IP({},R8e),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<i||d===f)return null;var p=Wt("recharts-sector",h),m=s-i,g=Pi(o,m,0,!0),x;return g>0&&Math.abs(d-f)<360?x=I8e({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=CB({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),we.createElement("path",O4({},lr(r,!0),{className:p,d:x,role:"img"}))};function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function P4(){return P4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P4.apply(this,arguments)}function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(n){B8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B8e(e,t,r){return t=U8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U8e(e){var t=W8e(e,"string");return og(t)=="symbol"?t:t+""}function W8e(e,t){if(og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UP={curveBasisClosed:$L,curveBasisOpen:FL,curveBasis:PL,curveBumpX:Tge,curveBumpY:Ege,curveLinearClosed:WL,curveLinear:Vg,curveMonotoneX:zL,curveMonotoneY:YL,curveNatural:GL,curveStep:KL,curveStepAfter:JL,curveStepBefore:XL},Tv=function(t){return t.x===+t.x&&t.y===+t.y},Sp=function(t){return t.x},Np=function(t){return t.y},q8e=function(t,r){if(nr(t))return t;var n="curve".concat(D2(t));return(n==="curveMonotone"||n==="curveBump")&&r?UP["".concat(n).concat(r==="vertical"?"Y":"X")]:UP[n]||Vg},H8e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=q8e(n,o),f=u?i.filter(function(g){return Tv(g)}):i,h;if(Array.isArray(s)){var p=u?s.filter(function(g){return Tv(g)}):s,m=f.map(function(g,x){return BP(BP({},g),{},{base:p[x]})});return o==="vertical"?h=Mp().y(Np).x1(Sp).x0(function(g){return g.base.x}):h=Mp().x(Sp).y1(Np).y0(function(g){return g.base.y}),h.defined(Tv).curve(d),h(m)}return o==="vertical"&&wt(s)?h=Mp().y(Np).x1(Sp).x0(s):wt(s)?h=Mp().x(Sp).y1(Np).y0(s):h=i2().x(Sp).y(Np),h.defined(Tv).curve(d),h(f)},D4=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?H8e(t):a;return we.createElement("path",P4({},lr(t,!1),i1(t),{className:Wt("recharts-curve",r),d:s,ref:i}))},z8e=Object.getOwnPropertyNames,Y8e=Object.getOwnPropertySymbols,V8e=Object.prototype.hasOwnProperty;function WP(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Ev(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function qP(e){return z8e(e).concat(Y8e(e))}var G8e=Object.hasOwn||function(e,t){return V8e.call(e,t)};function Pd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var K8e="__v",X8e="__o",J8e="_owner",HP=Object.getOwnPropertyDescriptor,zP=Object.keys;function Q8e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Z8e(e,t){return Pd(e.getTime(),t.getTime())}function eDe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function tDe(e,t){return e===t}function YP(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,c=0;(s=i.next())&&!s.done;){for(var u=t.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(a[f]){f++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var rDe=Pd;function nDe(e,t,r){var n=zP(e),a=n.length;if(zP(t).length!==a)return!1;for(;a-- >0;)if(!EB(e,t,r,n[a]))return!1;return!0}function jp(e,t,r){var n=qP(e),a=n.length;if(qP(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!EB(e,t,r,i)||(s=HP(e,i),o=HP(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function aDe(e,t){return Pd(e.valueOf(),t.valueOf())}function iDe(e,t){return e.source===t.source&&e.flags===t.flags}function VP(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var c=t.values(),u=!1,d=0;(o=c.next())&&!o.done;){if(!a[d]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function sDe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function oDe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function EB(e,t,r,n){return(n===J8e||n===X8e||n===K8e)&&(e.$$typeof||t.$$typeof)?!0:G8e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var lDe="[object Arguments]",cDe="[object Boolean]",uDe="[object Date]",dDe="[object Error]",fDe="[object Map]",hDe="[object Number]",pDe="[object Object]",mDe="[object RegExp]",gDe="[object Set]",xDe="[object String]",vDe="[object URL]",yDe=Array.isArray,GP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,KP=Object.assign,bDe=Object.prototype.toString.call.bind(Object.prototype.toString);function wDe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(m,g,x){if(m===g)return!0;if(m==null||g==null)return!1;var v=typeof m;if(v!==typeof g)return!1;if(v!=="object")return v==="number"?s(m,g,x):v==="function"?a(m,g,x):!1;var b=m.constructor;if(b!==g.constructor)return!1;if(b===Object)return o(m,g,x);if(yDe(m))return t(m,g,x);if(GP!=null&&GP(m))return f(m,g,x);if(b===Date)return r(m,g,x);if(b===RegExp)return u(m,g,x);if(b===Map)return i(m,g,x);if(b===Set)return d(m,g,x);var y=bDe(m);return y===uDe?r(m,g,x):y===mDe?u(m,g,x):y===fDe?i(m,g,x):y===gDe?d(m,g,x):y===pDe?typeof m.then!="function"&&typeof g.then!="function"&&o(m,g,x):y===vDe?h(m,g,x):y===dDe?n(m,g,x):y===lDe?o(m,g,x):y===cDe||y===hDe||y===xDe?c(m,g,x):!1}}function _De(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?jp:Q8e,areDatesEqual:Z8e,areErrorsEqual:eDe,areFunctionsEqual:tDe,areMapsEqual:n?WP(YP,jp):YP,areNumbersEqual:rDe,areObjectsEqual:n?jp:nDe,arePrimitiveWrappersEqual:aDe,areRegExpsEqual:iDe,areSetsEqual:n?WP(VP,jp):VP,areTypedArraysEqual:n?jp:sDe,areUrlsEqual:oDe};if(r&&(a=KP({},a,r(a))),t){var i=Ev(a.areArraysEqual),s=Ev(a.areMapsEqual),o=Ev(a.areObjectsEqual),c=Ev(a.areSetsEqual);a=KP({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:c})}return a}function kDe(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function SDe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,s)}}var NDe=Qc();Qc({strict:!0});Qc({circular:!0});Qc({circular:!0,strict:!0});Qc({createInternalComparator:function(){return Pd}});Qc({strict:!0,createInternalComparator:function(){return Pd}});Qc({circular:!0,createInternalComparator:function(){return Pd}});Qc({circular:!0,createInternalComparator:function(){return Pd},strict:!0});function Qc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=_De(e),c=wDe(o),u=n?n(c):kDe(c);return SDe({circular:r,comparator:c,createState:a,equals:u,strict:s})}function jDe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function XP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):jDe(a)};requestAnimationFrame(n)}function $4(e){"@babel/helpers - typeof";return $4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$4(e)}function ADe(e){return ODe(e)||EDe(e)||TDe(e)||CDe()}function CDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TDe(e,t){if(e){if(typeof e=="string")return JP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JP(e,t)}}function JP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ODe(e){if(Array.isArray(e))return e}function PDe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=ADe(s),c=o[0],u=o.slice(1);if(typeof c=="number"){XP(a.bind(null,u),c);return}a(c),XP(a.bind(null,u));return}$4(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(n){OB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OB(e,t,r){return t=DDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DDe(e){var t=$De(e,"string");return lg(t)==="symbol"?t:String(t)}function $De(e,t){if(lg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MDe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},FDe=function(t){return t},LDe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},lm=function(t,r){return Object.keys(r).reduce(function(n,a){return ZP(ZP({},n),{},OB({},a,t(a,r[a])))},{})},e8=function(t,r,n){return t.map(function(a){return"".concat(LDe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function IDe(e,t){return UDe(e)||BDe(e,t)||PB(e,t)||RDe()}function RDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function UDe(e){if(Array.isArray(e))return e}function WDe(e){return zDe(e)||HDe(e)||PB(e)||qDe()}function qDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PB(e,t){if(e){if(typeof e=="string")return M4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M4(e,t)}}function HDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zDe(e){if(Array.isArray(e))return M4(e)}function M4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g1=1e-4,DB=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},$B=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},t8=function(t,r){return function(n){var a=DB(t,r);return $B(a,n)}},YDe=function(t,r){return function(n){var a=DB(t,r),i=[].concat(WDe(a.map(function(s,o){return s*o}).slice(1)),[0]);return $B(i,n)}},r8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=IDe(u,4);a=d[0],i=d[1],s=d[2],o=d[3]}}}var f=t8(a,s),h=t8(i,o),p=YDe(a,s),m=function(v){return v>1?1:v<0?0:v},g=function(v){for(var b=v>1?1:v,y=b,C=0;C<8;++C){var S=f(y)-b,T=p(y);if(Math.abs(S-b)<g1||T<g1)return h(y);y=m(y-S/T)}return h(y)};return g.isStepper=!1,g},VDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,c=function(d,f,h){var p=-(d-f)*n,m=h*i,g=h+(p-m)*o/1e3,x=h*o/1e3+d;return Math.abs(x-f)<g1&&Math.abs(g)<g1?[f,0]:[x,g]};return c.isStepper=!0,c.dt=o,c},GDe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return r8(a);case"spring":return VDe();default:if(a.split("(")[0]==="cubic-bezier")return r8(a)}return typeof a=="function"?a:null};function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function n8(e){return JDe(e)||XDe(e)||MB(e)||KDe()}function KDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JDe(e){if(Array.isArray(e))return L4(e)}function a8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a8(Object(r),!0).forEach(function(n){F4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F4(e,t,r){return t=QDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QDe(e){var t=ZDe(e,"string");return cg(t)==="symbol"?t:String(t)}function ZDe(e,t){if(cg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e$e(e,t){return n$e(e)||r$e(e,t)||MB(e,t)||t$e()}function t$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MB(e,t){if(e){if(typeof e=="string")return L4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L4(e,t)}}function L4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function n$e(e){if(Array.isArray(e))return e}var x1=function(t,r,n){return t+(r-t)*n},I4=function(t){var r=t.from,n=t.to;return r!==n},a$e=function e(t,r,n){var a=lm(function(i,s){if(I4(s)){var o=t(s.from,s.to,s.velocity),c=e$e(o,2),u=c[0],d=c[1];return ja(ja({},s),{},{from:u,velocity:d})}return s},r);return n<1?lm(function(i,s){return I4(s)?ja(ja({},s),{},{velocity:x1(s.velocity,a[i].velocity,n),from:x1(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const i$e=function(e,t,r,n,a){var i=MDe(e,t),s=i.reduce(function(x,v){return ja(ja({},x),{},F4({},v,[e[v],t[v]]))},{}),o=i.reduce(function(x,v){return ja(ja({},x),{},F4({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return lm(function(v,b){return b.from},o)},p=function(){return!Object.values(o).filter(I4).length},m=function(v){u||(u=v);var b=v-u,y=b/r.dt;o=a$e(r,o,y),a(ja(ja(ja({},e),t),h())),u=v,p()||(c=requestAnimationFrame(f))},g=function(v){d||(d=v);var b=(v-d)/n,y=lm(function(S,T){return x1.apply(void 0,n8(T).concat([r(b)]))},s);if(a(ja(ja(ja({},e),t),y)),b<1)c=requestAnimationFrame(f);else{var C=lm(function(S,T){return x1.apply(void 0,n8(T).concat([r(1)]))},s);a(ja(ja(ja({},e),t),C))}};return f=r.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Th(e){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(e)}var s$e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function o$e(e,t){if(e==null)return{};var r=l$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l$e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function h_(e){return f$e(e)||d$e(e)||u$e(e)||c$e()}function c$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u$e(e,t){if(e){if(typeof e=="string")return R4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R4(e,t)}}function d$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f$e(e){if(Array.isArray(e))return R4(e)}function R4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i8(Object(r),!0).forEach(function(n){Rp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rp(e,t,r){return t=FB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FB(n.key),n)}}function m$e(e,t,r){return t&&p$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FB(e){var t=g$e(e,"string");return Th(t)==="symbol"?t:String(t)}function g$e(e,t){if(Th(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Th(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B4(e,t)}function B4(e,t){return B4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B4(e,t)}function v$e(e){var t=y$e();return function(){var n=v1(e),a;if(t){var i=v1(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return U4(this,a)}}function U4(e,t){if(t&&(Th(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W4(e)}function W4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y$e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v1(e){return v1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v1(e)}var qc=function(e){x$e(r,e);var t=v$e(r);function r(n,a){var i;h$e(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(W4(i)),i.changeStyle=i.changeStyle.bind(W4(i)),!o||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),U4(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},U4(i);i.state={style:c?Rp({},c,u):u}}else i.state={style:{}};return i}return m$e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(o){if(!s){var p={style:c?Rp({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(NDe(a.to,d)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:a.to;if(this.state&&h){var x={style:c?Rp({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(x)}this.runAnimation(Fs(Fs({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=i$e(s,o,GDe(u),c,this.changeStyle),m=function(){i.stopJSAnimation=p()};this.manager.start([h,d,m,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,c=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,x,v){if(v===0)return g;var b=x.duration,y=x.easing,C=y===void 0?"ease":y,S=x.style,T=x.properties,N=x.onAnimationEnd,w=v>0?s[v-1]:x,_=T||Object.keys(S);if(typeof C=="function"||C==="spring")return[].concat(h_(g),[i.runJSAnimation.bind(i,{from:w.style,to:S,duration:b,easing:C}),b]);var P=e8(_,b,C),A=Fs(Fs(Fs({},w.style),S),{},{transition:P});return[].concat(h_(g),[A,b,N]).filter(FDe)};return this.manager.start([c].concat(h_(s.reduce(p,[d,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=PDe());var i=a.begin,s=a.duration,o=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=o?Rp({},o,c):c,x=e8(Object.keys(g),s,u);m.start([d,i,Fs(Fs({},g),{},{transition:x}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=o$e(a,s$e),u=L.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!o||u===0||s<=0)return i;var f=function(p){var m=p.props,g=m.style,x=g===void 0?{}:g,v=m.className,b=L.cloneElement(p,Fs(Fs({},c),{},{style:Fs(Fs({},x),d),className:v}));return b};return u===1?f(L.Children.only(i)):we.createElement("div",null,L.Children.map(i,function(h){return f(h)}))}}]),r}(L.PureComponent);qc.displayName="Animate";qc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};qc.propTypes={from:Re.oneOfType([Re.object,Re.string]),to:Re.oneOfType([Re.object,Re.string]),attributeName:Re.string,duration:Re.number,begin:Re.number,easing:Re.oneOfType([Re.string,Re.func]),steps:Re.arrayOf(Re.shape({duration:Re.number.isRequired,style:Re.object.isRequired,easing:Re.oneOfType([Re.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Re.func]),properties:Re.arrayOf("string"),onAnimationEnd:Re.func})),children:Re.oneOfType([Re.node,Re.func]),isActive:Re.bool,canBegin:Re.bool,onAnimationEnd:Re.func,shouldReAnimate:Re.bool,onAnimationStart:Re.func,onAnimationReStart:Re.func};function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function y1(){return y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y1.apply(this,arguments)}function b$e(e,t){return S$e(e)||k$e(e,t)||_$e(e,t)||w$e()}function w$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _$e(e,t){if(e){if(typeof e=="string")return s8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s8(e,t)}}function s8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function S$e(e){if(Array.isArray(e))return e}function o8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o8(Object(r),!0).forEach(function(n){N$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N$e(e,t,r){return t=j$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j$e(e){var t=A$e(e,"string");return ug(t)=="symbol"?t:t+""}function A$e(e,t){if(ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c8=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>s?s:i[h];d="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+o*f[1])),d+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-o*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);d="M ".concat(t,",").concat(r+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+c*m,",").concat(r,`
            L `).concat(t+n-c*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n,",").concat(r+o*m,`
            L `).concat(t+n,",").concat(r+a-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n-c*m,",").concat(r+a,`
            L `).concat(t+c*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(r+a-o*m," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},C$e=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(i,i+o),d=Math.max(i,i+o),f=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},T$e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nj=function(t){var r=l8(l8({},T$e),t),n=L.useRef(),a=L.useState(-1),i=b$e(a,2),s=i[0],o=i[1];L.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&o(C)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,g=r.animationDuration,x=r.animationBegin,v=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var y=Wt("recharts-rectangle",p);return b?we.createElement(qc,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:m,isActive:b},function(C){var S=C.width,T=C.height,N=C.x,w=C.y;return we.createElement(qc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:v,easing:m},we.createElement("path",y1({},lr(r,!0),{className:y,d:c8(N,w,S,T,h),ref:n})))}):we.createElement("path",y1({},lr(r,!0),{className:y,d:c8(c,u,d,f,h)}))},E$e=["points","className","baseLinePoints","connectNulls"];function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Of.apply(this,arguments)}function O$e(e,t){if(e==null)return{};var r=P$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function P$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function u8(e){return F$e(e)||M$e(e)||$$e(e)||D$e()}function D$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $$e(e,t){if(e){if(typeof e=="string")return q4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q4(e,t)}}function M$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function F$e(e){if(Array.isArray(e))return q4(e)}function q4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d8=function(t){return t&&t.x===+t.x&&t.y===+t.y},L$e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){d8(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),d8(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},cm=function(t,r){var n=L$e(t);r&&(n=[n.reduce(function(i,s){return[].concat(u8(i),u8(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,o,c){return"".concat(s).concat(c===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},I$e=function(t,r,n){var a=cm(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(cm(r.reverse(),n).slice(1))},R$e=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,s=O$e(t,E$e);if(!r||!r.length)return null;var o=Wt("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",u=I$e(r,a,i);return we.createElement("g",{className:o},we.createElement("path",Of({},lr(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?we.createElement("path",Of({},lr(s,!0),{fill:"none",d:cm(r,i)})):null,c?we.createElement("path",Of({},lr(s,!0),{fill:"none",d:cm(a,i)})):null)}var d=cm(r,i);return we.createElement("path",Of({},lr(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function H4(){return H4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H4.apply(this,arguments)}var aj=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=Wt("recharts-dot",i);return r===+r&&n===+n&&a===+a?we.createElement("circle",H4({},lr(t,!1),i1(t),{className:s,cx:r,cy:n,r:a})):null};function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}var B$e=["x","y","top","left","width","height","className"];function z4(){return z4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z4.apply(this,arguments)}function f8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U$e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f8(Object(r),!0).forEach(function(n){W$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W$e(e,t,r){return t=q$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q$e(e){var t=H$e(e,"string");return dg(t)=="symbol"?t:t+""}function H$e(e,t){if(dg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z$e(e,t){if(e==null)return{};var r=Y$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Y$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var V$e=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},G$e=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,m=t.className,g=z$e(t,B$e),x=U$e({x:n,y:i,top:o,left:u,width:f,height:p},g);return!wt(n)||!wt(i)||!wt(f)||!wt(p)||!wt(o)||!wt(u)?null:we.createElement("path",z4({},lr(x,!0),{className:Wt("recharts-cross",m),d:V$e(n,i,f,p,o,u)}))},K$e=L2,X$e=rB,J$e=Jc;function Q$e(e,t){return e&&e.length?K$e(e,J$e(t),X$e):void 0}var Z$e=Q$e;const eMe=hr(Z$e);var tMe=L2,rMe=Jc,nMe=nB;function aMe(e,t){return e&&e.length?tMe(e,rMe(t),nMe):void 0}var iMe=aMe;const sMe=hr(iMe);var oMe=["cx","cy","angle","ticks","axisLine"],lMe=["ticks","tick","angle","tickFormatter","stroke"];function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function um(){return um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},um.apply(this,arguments)}function h8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h8(Object(r),!0).forEach(function(n){W2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p8(e,t){if(e==null)return{};var r=cMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IB(n.key),n)}}function dMe(e,t,r){return t&&m8(e.prototype,t),r&&m8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fMe(e,t,r){return t=b1(t),hMe(e,LB()?Reflect.construct(t,r||[],b1(e).constructor):t.apply(e,r))}function hMe(e,t){if(t&&(Eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pMe(e)}function pMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LB=function(){return!!e})()}function b1(e){return b1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b1(e)}function mMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y4(e,t)}function Y4(e,t){return Y4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y4(e,t)}function W2(e,t,r){return t=IB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IB(e){var t=gMe(e,"string");return Eh(t)=="symbol"?t:t+""}function gMe(e,t){if(Eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q2=function(e){function t(){return uMe(this,t),fMe(this,t,arguments)}return mMe(t,e),dMe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,o=i.cx,c=i.cy;return un(o,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,c=eMe(o,function(d){return d.coordinate||0}),u=sMe(o,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,c=n.axisLine,u=p8(n,oMe),d=o.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),f=un(a,i,d[0],s),h=un(a,i,d[1],s),p=du(du(du({},lr(u,!1)),{},{fill:"none"},lr(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return we.createElement("line",um({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.angle,c=a.tickFormatter,u=a.stroke,d=p8(a,lMe),f=this.getTickTextAnchor(),h=lr(d,!1),p=lr(s,!1),m=i.map(function(g,x){var v=n.getTickValueCoord(g),b=du(du(du(du({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:x},v),{},{payload:g});return we.createElement(En,um({className:Wt("recharts-polar-radius-axis-tick",jB(s)),key:"tick-".concat(g.coordinate)},P2(n.props,g,x)),t.renderTickItem(s,b,c?c(g.value,x):g.value))});return we.createElement(En,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:we.createElement(En,{className:Wt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),Ca.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return we.isValidElement(n)?s=we.cloneElement(n,a):nr(n)?s=n(a):s=we.createElement(jh,um({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(L.PureComponent);W2(q2,"displayName","PolarRadiusAxis");W2(q2,"axisType","radiusAxis");W2(q2,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(this,arguments)}function g8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g8(Object(r),!0).forEach(function(n){H2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BB(n.key),n)}}function vMe(e,t,r){return t&&x8(e.prototype,t),r&&x8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yMe(e,t,r){return t=w1(t),bMe(e,RB()?Reflect.construct(t,r||[],w1(e).constructor):t.apply(e,r))}function bMe(e,t){if(t&&(Oh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wMe(e)}function wMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RB=function(){return!!e})()}function w1(e){return w1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w1(e)}function _Me(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V4(e,t)}function V4(e,t){return V4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},V4(e,t)}function H2(e,t,r){return t=BB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BB(e){var t=kMe(e,"string");return Oh(t)=="symbol"?t:t+""}function kMe(e,t){if(Oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SMe=Math.PI/180,NMe=1e-5,z2=function(e){function t(){return xMe(this,t),yMe(this,t,arguments)}return _Me(t,e),vMe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,o=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=un(i,s,o,n.coordinate),h=un(i,s,o+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*SMe),s;return i>NMe?s=a==="outer"?"start":"end":i<-1e-5?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,o=n.axisLine,c=n.axisLineType,u=fu(fu({},lr(this.props,!1)),{},{fill:"none"},lr(o,!1));if(c==="circle")return we.createElement(aj,ku({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:s}));var d=this.props.ticks,f=d.map(function(h){return un(a,i,s,h.coordinate)});return we.createElement(R$e,ku({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.tickLine,c=a.tickFormatter,u=a.stroke,d=lr(this.props,!1),f=lr(s,!1),h=fu(fu({},d),{},{fill:"none"},lr(o,!1)),p=i.map(function(m,g){var x=n.getTickLineCoord(m),v=n.getTickTextAnchor(m),b=fu(fu(fu({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:m,x:x.x2,y:x.y2});return we.createElement(En,ku({className:Wt("recharts-polar-angle-axis-tick",jB(s)),key:"tick-".concat(m.coordinate)},P2(n.props,m,g)),o&&we.createElement("line",ku({className:"recharts-polar-angle-axis-tick-line"},h,x)),s&&t.renderTickItem(s,b,c?c(m.value,g):m.value))});return we.createElement(En,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:we.createElement(En,{className:Wt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return we.isValidElement(n)?s=we.cloneElement(n,a):nr(n)?s=n(a):s=we.createElement(jh,ku({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(L.PureComponent);H2(z2,"displayName","PolarAngleAxis");H2(z2,"axisType","angleAxis");H2(z2,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var jMe=Uo,AMe=no,CMe="[object Boolean]";function TMe(e){return e===!0||e===!1||AMe(e)&&jMe(e)==CMe}var EMe=TMe;const OMe=hr(EMe);function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_1.apply(this,arguments)}function PMe(e,t){return FMe(e)||MMe(e,t)||$Me(e,t)||DMe()}function DMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Me(e,t){if(e){if(typeof e=="string")return v8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v8(e,t)}}function v8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function FMe(e){if(Array.isArray(e))return e}function y8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y8(Object(r),!0).forEach(function(n){LMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LMe(e,t,r){return t=IMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IMe(e){var t=RMe(e,"string");return fg(t)=="symbol"?t:t+""}function RMe(e,t){if(fg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w8=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},BMe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UMe=function(t){var r=b8(b8({},BMe),t),n=L.useRef(),a=L.useState(-1),i=PMe(a,2),s=i[0],o=i[1];L.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&o(y)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,g=r.animationDuration,x=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Wt("recharts-trapezoid",p);return v?we.createElement(qc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:m,isActive:v},function(y){var C=y.upperWidth,S=y.lowerWidth,T=y.height,N=y.x,w=y.y;return we.createElement(qc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:m},we.createElement("path",_1({},lr(r,!0),{className:b,d:w8(N,w,C,S,T),ref:n})))}):we.createElement("g",null,we.createElement("path",_1({},lr(r,!0),{className:b,d:w8(c,u,d,f,h)})))},WMe=["option","shapeType","propTransformer","activeClassName","isActive"];function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function qMe(e,t){if(e==null)return{};var r=HMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(r),!0).forEach(function(n){zMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zMe(e,t,r){return t=YMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YMe(e){var t=VMe(e,"string");return hg(t)=="symbol"?t:t+""}function VMe(e,t){if(hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GMe(e,t){return k1(k1({},t),e)}function KMe(e,t){return e==="symbols"}function k8(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return we.createElement(nj,r);case"trapezoid":return we.createElement(UMe,r);case"sector":return we.createElement(TB,r);case"symbols":if(KMe(t))return we.createElement(XN,r);break;default:return null}}function XMe(e){return L.isValidElement(e)?e.props:e}function JMe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?GMe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,c=qMe(e,WMe),u;if(L.isValidElement(t))u=L.cloneElement(t,k1(k1({},c),XMe(t)));else if(nr(t))u=t(c);else if(pb(t)&&!OMe(t)){var d=a(t,c);u=we.createElement(k8,{shapeType:r,elementProps:d})}else{var f=c;u=we.createElement(k8,{shapeType:r,elementProps:f})}return o?we.createElement(En,{className:s},u):u}function Y2(e,t){return t!=null&&"trapezoids"in e.props}function V2(e,t){return t!=null&&"sectors"in e.props}function pg(e,t){return t!=null&&"points"in e.props}function QMe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function ZMe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function e7e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function t7e(e,t){var r;return Y2(e,t)?r=QMe:V2(e,t)?r=ZMe:pg(e,t)&&(r=e7e),r}function r7e(e,t){var r;return Y2(e,t)?r="trapezoids":V2(e,t)?r="sectors":pg(e,t)&&(r="points"),r}function n7e(e,t){if(Y2(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(V2(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return pg(e,t)?t.payload:{}}function a7e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=r7e(r,t),i=n7e(r,t),s=n.filter(function(c,u){var d=l2(i,c),f=r.props[a].filter(function(m){var g=t7e(r,t);return g(m,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),o=n.indexOf(s[s.length-1]);return o}var Yv;function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(e)}function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pf.apply(this,arguments)}function S8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(r),!0).forEach(function(n){ms(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WB(n.key),n)}}function s7e(e,t,r){return t&&N8(e.prototype,t),r&&N8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o7e(e,t,r){return t=S1(t),l7e(e,UB()?Reflect.construct(t,r||[],S1(e).constructor):t.apply(e,r))}function l7e(e,t){if(t&&(Ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c7e(e)}function c7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UB=function(){return!!e})()}function S1(e){return S1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S1(e)}function u7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G4(e,t)}function G4(e,t){return G4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},G4(e,t)}function ms(e,t,r){return t=WB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WB(e){var t=d7e(e,"string");return Ph(t)=="symbol"?t:t+""}function d7e(e,t){if(Ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ho=function(e){function t(r){var n;return i7e(this,t),n=o7e(this,t,[r]),ms(n,"pieRef",null),ms(n,"sectorRefs",[]),ms(n,"id",O2("recharts-pie-")),ms(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),nr(a)&&a()}),ms(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),nr(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return u7e(t,e),s7e(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,o=i.labelLine,c=i.dataKey,u=i.valueKey,d=lr(this.props,!1),f=lr(s,!1),h=lr(o,!1),p=s&&s.offsetRadius||20,m=n.map(function(g,x){var v=(g.startAngle+g.endAngle)/2,b=un(g.cx,g.cy,g.outerRadius+p,v),y=ln(ln(ln(ln({},d),g),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(b.x,g.cx)},b),C=ln(ln(ln(ln({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:x,points:[un(g.cx,g.cy,g.outerRadius,v),b]}),S=c;return br(c)&&br(u)?S="value":br(c)&&(S=u),we.createElement(En,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},o&&t.renderLabelLineItem(o,C,"line"),t.renderLabelItem(s,y,zi(g,S)))});return we.createElement(En,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,o=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?s:h,m=ln(ln({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return we.createElement(En,Pf({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},P2(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),we.createElement(JMe,Pf({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,o=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return we.createElement(qc,{begin:o,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,x=[],v=i&&i[0],b=v.startAngle;return i.forEach(function(y,C){var S=h&&h[C],T=C>0?qn(y,"paddingAngle",0):0;if(S){var N=PO(S.endAngle-S.startAngle,y.endAngle-y.startAngle),w=ln(ln({},y),{},{startAngle:b+T,endAngle:b+N(g)+T});x.push(w),b=w.endAngle}else{var _=y.endAngle,P=y.startAngle,A=PO(0,_-P),j=A(g),F=ln(ln({},y),{},{startAngle:b+T,endAngle:b+j+T});x.push(F),b=F.endAngle}}),we.createElement(En,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!l2(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,o=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,m=this.state.isAnimationFinished;if(i||!s||!s.length||!wt(u)||!wt(d)||!wt(f)||!wt(h))return null;var g=Wt("recharts-pie",o);return we.createElement(En,{tabIndex:this.props.rootTabIndex,className:g,ref:function(v){n.pieRef=v}},this.renderSectors(),c&&this.renderLabels(s),Ca.renderCallByParent(this.props,null,!1),(!p||m)&&Yu.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(we.isValidElement(n))return we.cloneElement(n,a);if(nr(n))return n(a);var s=Wt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return we.createElement(D4,Pf({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(we.isValidElement(n))return we.cloneElement(n,a);var s=i;if(nr(n)&&(s=n(a),we.isValidElement(s)))return s;var o=Wt("recharts-pie-label-text",typeof n!="boolean"&&!nr(n)?n.className:"");return we.createElement(jh,Pf({},a,{alignmentBaseline:"middle",className:o}),s)}}])}(L.PureComponent);Yv=Ho;ms(Ho,"displayName","Pie");ms(Ho,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!M2.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ms(Ho,"parseDeltaAngle",function(e,t){var r=xs(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ms(Ho,"getRealPieData",function(e){var t=e.data,r=e.children,n=lr(e,!1),a=jo(r,F2);return t&&t.length?t.map(function(i,s){return ln(ln(ln({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return ln(ln({},n),i.props)}):[]});ms(Ho,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=NB(a,i),o=n+Pi(e.cx,a,a/2),c=r+Pi(e.cy,i,i/2),u=Pi(e.innerRadius,s,0),d=Pi(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:o,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ms(Ho,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?ln(ln({},t.type.defaultProps),t.props):t.props,a=Yv.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,o=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),m=Yv.parseCoordinateOfPie(n,r),g=Yv.parseDeltaAngle(s,o),x=Math.abs(g),v=u;br(u)&&br(f)?(bl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):br(u)&&(bl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var b=a.filter(function(w){return zi(w,v,0)!==0}).length,y=(x>=360?b:b-1)*c,C=x-b*p-y,S=a.reduce(function(w,_){var P=zi(_,v,0);return w+(wt(P)?P:0)},0),T;if(S>0){var N;T=a.map(function(w,_){var P=zi(w,v,0),A=zi(w,d,_),j=(wt(P)?P:0)/S,F;_?F=N.endAngle+xs(g)*c*(P!==0?1:0):F=s;var M=F+xs(g)*((P!==0?p:0)+j*C),H=(F+M)/2,q=(m.innerRadius+m.outerRadius)/2,Y=[{name:A,value:P,payload:w,dataKey:v,type:h}],X=un(m.cx,m.cy,q,H);return N=ln(ln(ln({percent:j,cornerRadius:i,name:A,tooltipPayload:Y,midAngle:H,middleRadius:q,tooltipPosition:X},w),m),{},{value:zi(w,v),startAngle:F,endAngle:M,payload:w,paddingAngle:xs(g)*c}),N})}return ln(ln({},m),{},{sectors:T,data:a})});var f7e=Math.ceil,h7e=Math.max;function p7e(e,t,r,n){for(var a=-1,i=h7e(f7e((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var m7e=p7e,g7e=K9,x7e=1/0,v7e=17976931348623157e292;function y7e(e){if(!e)return e===0?e:0;if(e=g7e(e),e===x7e||e===-1/0){var t=e<0?-1:1;return t*v7e}return e===e?e:0}var b7e=y7e,w7e=m7e,_7e=Wg,p_=b7e;function k7e(e){return function(t,r,n){return n&&typeof n!="number"&&_7e(t,r,n)&&(r=n=void 0),t=p_(t),r===void 0?(r=t,t=0):r=p_(r),n=n===void 0?t<r?1:-1:p_(n),w7e(t,r,n,e)}}var S7e=k7e,N7e=S7e,j7e=N7e(),A7e=j7e;const N1=hr(A7e);function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(n){qB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qB(e,t,r){return t=C7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C7e(e){var t=T7e(e,"string");return mg(t)=="symbol"?t:t+""}function T7e(e,t){if(mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E7e=["Webkit","Moz","O","ms"],O7e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=E7e.reduce(function(i,s){return A8(A8({},i),{},qB({},s+n,r))},{});return a[t]=r,a};function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j1.apply(this,arguments)}function C8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C8(Object(r),!0).forEach(function(n){Ui(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zB(n.key),n)}}function D7e(e,t,r){return t&&T8(e.prototype,t),r&&T8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $7e(e,t,r){return t=A1(t),M7e(e,HB()?Reflect.construct(t,r||[],A1(e).constructor):t.apply(e,r))}function M7e(e,t){if(t&&(Dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F7e(e)}function F7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HB=function(){return!!e})()}function A1(e){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A1(e)}function L7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K4(e,t)}function K4(e,t){return K4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K4(e,t)}function Ui(e,t,r){return t=zB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zB(e){var t=I7e(e,"string");return Dh(t)=="symbol"?t:t+""}function I7e(e,t){if(Dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var R7e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Wf().domain(N1(0,c)).range([i,i+s-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},E8=function(t){return t.changedTouches&&!!t.changedTouches.length},$h=function(e){function t(r){var n;return P7e(this,t),n=$7e(this,t,[r]),Ui(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ui(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ui(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Ui(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ui(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ui(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ui(n,"handleSlideDragStart",function(a){var i=E8(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return L7e(t,e),D7e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,f),m=t.getIndexInRange(s,h);return{startIndex:p-p%c,endIndex:m===d?d:m-m%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,c=zi(i[n],o,n);return nr(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,m=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-o,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-o));var x=this.getIndex({startX:s+g,endX:o+g});(x.startIndex!==h||x.endIndex!==p)&&m&&m(x),this.setState({startX:s+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=E8(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,c=a.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,x=d.data,v={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-p-u):b<0&&(b=Math.max(b,f-u)),v[s]=u+b;var y=this.getIndex(v),C=y.startIndex,S=y.endIndex,T=function(){var w=x.length-1;return s==="startX"&&(o>c?C%g===0:S%g===0)||o<c&&S===w||s==="endX"&&(o>c?S%g===0:C%g===0)||o>c&&S===w};this.setState(Ui(Ui({},s,u+b),"brushMoveStartX",n.pageX),function(){m&&T()&&m(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,c=s.startX,u=s.endX,d=this.state[a],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(Ui({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.fill,u=n.stroke;return we.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.data,u=n.children,d=n.padding,f=L.Children.only(u);return f?we.cloneElement(f,{x:a,y:i,width:s,height:o,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,m=c.data,g=c.startIndex,x=c.endIndex,v=Math.max(n,this.props.x),b=m_(m_({},lr(this.props,!1)),{},{x:v,y:u,width:d,height:f}),y=p||"Min value: ".concat((i=m[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=m[x])===null||s===void 0?void 0:s.name);return we.createElement(En,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return we.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return we.createElement(En,{className:"recharts-brush-texts"},we.createElement(jh,j1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},m),this.getTextOfTick(a)),we.createElement(jh,j1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:s+o/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,x=h.isSlideMoving,v=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!wt(o)||!wt(c)||!wt(u)||!wt(d)||u<=0||d<=0)return null;var y=Wt("recharts-brush",i),C=we.Children.count(s)===1,S=O7e("userSelect","none");return we.createElement(En,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||x||v||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,c=n.stroke,u=Math.floor(i+o/2)-1;return we.createElement(we.Fragment,null,we.createElement("rect",{x:a,y:i,width:s,height:o,fill:c,stroke:"none"}),we.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),we.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return we.isValidElement(n)?i=we.cloneElement(n,a):nr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return m_({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s},i&&i.length?R7e({data:i,width:s,x:o,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([o,o+s-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var c=Math.floor((s+o)/2);n[c]>a?o=c:s=c}return a>=n[o]?o:s}}])}(L.PureComponent);Ui($h,"displayName","Brush");Ui($h,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var B7e=NN;function U7e(e,t){var r;return B7e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var W7e=U7e,q7e=dI,H7e=Jc,z7e=W7e,Y7e=vi,V7e=Wg;function G7e(e,t,r){var n=Y7e(e)?q7e:z7e;return r&&V7e(e,t,r)&&(t=void 0),n(e,H7e(t))}var K7e=G7e;const X7e=hr(K7e);var Ao=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},J7e=fb,Q7e=ZI,Z7e=Jc;function eFe(e,t){var r={};return t=Z7e(t),Q7e(e,function(n,a,i){J7e(r,a,t(n,a,i))}),r}var tFe=eFe;const rFe=hr(tFe);function nFe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var aFe=nFe,iFe=NN;function sFe(e,t){var r=!0;return iFe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var oFe=sFe,lFe=aFe,cFe=oFe,uFe=Jc,dFe=vi,fFe=Wg;function hFe(e,t,r){var n=dFe(e)?lFe:cFe;return r&&fFe(e,t,r)&&(t=void 0),n(e,uFe(t))}var pFe=hFe;const mFe=hr(pFe);function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}function gFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YB(n.key),n)}}function xFe(e,t,r){return t&&O8(e.prototype,t),r&&O8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function P8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ov(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P8(Object(r),!0).forEach(function(n){ij(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ij(e,t,r){return t=YB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YB(e){var t=vFe(e,"string");return gg(t)=="symbol"?t:t+""}function vFe(e,t){if(gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VB=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},yFe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return VB({x:r,y:n},{x:a,y:i})},GB=function(){function e(t){gFe(this,e),this.scale=t}return xFe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();ij(GB,"EPS",1e-4);var sj=function(t){var r=Object.keys(t).reduce(function(n,a){return Ov(Ov({},n),{},ij({},a,GB.create(t[a])))},{});return Ov(Ov({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return rFe(a,function(c,u){return r[u].apply(c,{bandAware:s,position:o})})},isInRange:function(a){return mFe(a,function(i,s){return r[s].isInRange(i)})}})},bFe=mfe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),KB=L.createContext(void 0),XB=L.createContext(void 0),JB=L.createContext(void 0),wFe=L.createContext({}),QB=L.createContext(void 0),_Fe=L.createContext(0),kFe=L.createContext(0),D8=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,c=t.width,u=t.height,d=bFe(i);return we.createElement(KB.Provider,{value:n},we.createElement(XB.Provider,{value:a},we.createElement(wFe.Provider,{value:i},we.createElement(JB.Provider,{value:d},we.createElement(QB.Provider,{value:s},we.createElement(_Fe.Provider,{value:u},we.createElement(kFe.Provider,{value:c},o)))))))},SFe=function(){return L.useContext(QB)},NFe=function(t){var r=L.useContext(KB);r==null&&Ah();var n=r[t];return n==null&&Ah(),n},jFe=function(t){var r=L.useContext(XB);r==null&&Ah();var n=r[t];return n==null&&Ah(),n},AFe=function(){var t=L.useContext(JB);return t};function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function CFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eU(n.key),n)}}function EFe(e,t,r){return t&&TFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OFe(e,t,r){return t=C1(t),PFe(e,ZB()?Reflect.construct(t,r||[],C1(e).constructor):t.apply(e,r))}function PFe(e,t){if(t&&(Mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DFe(e)}function DFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZB=function(){return!!e})()}function C1(e){return C1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C1(e)}function $Fe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X4(e,t)}function X4(e,t){return X4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X4(e,t)}function $8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$8(Object(r),!0).forEach(function(n){oj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oj(e,t,r){return t=eU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eU(e){var t=MFe(e,"string");return Mh(t)=="symbol"?t:t+""}function MFe(e,t){if(Mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function FFe(e,t){return BFe(e)||RFe(e,t)||IFe(e,t)||LFe()}function LFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IFe(e,t){if(e){if(typeof e=="string")return F8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F8(e,t)}}function F8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function BFe(e){if(Array.isArray(e))return e}function J4(){return J4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J4.apply(this,arguments)}var UFe=function(t,r){var n;return we.isValidElement(t)?n=we.cloneElement(t,r):nr(t)?n=t(r):n=we.createElement("line",J4({},r,{className:"recharts-reference-line-line"})),n},WFe=function(t,r,n,a,i,s,o,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var m=u.y,g=t.y.apply(m,{position:s});if(Ao(u,"discard")&&!t.y.isInRange(g))return null;var x=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?x.reverse():x}if(r){var v=u.x,b=t.x.apply(v,{position:s});if(Ao(u,"discard")&&!t.x.isInRange(b))return null;var y=[{x:b,y:f+p},{x:b,y:f}];return o==="top"?y.reverse():y}if(a){var C=u.segment,S=C.map(function(T){return t.apply(T,{position:s})});return Ao(u,"discard")&&X7e(S,function(T){return!t.isInRange(T)})?null:S}return null};function qFe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,c=e.alwaysShow,u=SFe(),d=NFe(a),f=jFe(i),h=AFe();if(!u||!h)return null;bl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=sj({x:d.scale,y:f.scale}),m=oa(t),g=oa(r),x=n&&n.length===2,v=WFe(p,m,g,x,h,e.position,d.orientation,f.orientation,e);if(!v)return null;var b=FFe(v,2),y=b[0],C=y.x,S=y.y,T=b[1],N=T.x,w=T.y,_=Ao(e,"hidden")?"url(#".concat(u,")"):void 0,P=M8(M8({clipPath:_},lr(e,!0)),{},{x1:C,y1:S,x2:N,y2:w});return we.createElement(En,{className:Wt("recharts-reference-line",o)},UFe(s,P),Ca.renderCallByParent(e,yFe({x1:C,y1:S,x2:N,y2:w})))}var lj=function(e){function t(){return CFe(this,t),OFe(this,t,arguments)}return $Fe(t,e),EFe(t,[{key:"render",value:function(){return we.createElement(qFe,this.props)}}])}(we.Component);oj(lj,"displayName","ReferenceLine");oj(lj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Q4(){return Q4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q4.apply(this,arguments)}function Fh(e){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(e)}function L8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(r),!0).forEach(function(n){G2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rU(n.key),n)}}function YFe(e,t,r){return t&&zFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VFe(e,t,r){return t=T1(t),GFe(e,tU()?Reflect.construct(t,r||[],T1(e).constructor):t.apply(e,r))}function GFe(e,t){if(t&&(Fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KFe(e)}function KFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tU=function(){return!!e})()}function T1(e){return T1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T1(e)}function XFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z4(e,t)}function Z4(e,t){return Z4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Z4(e,t)}function G2(e,t,r){return t=rU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rU(e){var t=JFe(e,"string");return Fh(t)=="symbol"?t:t+""}function JFe(e,t){if(Fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var QFe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=sj({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Ao(t,"discard")&&!s.isInRange(o)?null:o},K2=function(e){function t(){return HFe(this,t),VFe(this,t,arguments)}return XFe(t,e),YFe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,c=n.clipPathId,u=oa(a),d=oa(i);if(bl(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=QFe(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,x=m.className,v=Ao(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=I8(I8({clipPath:v},lr(this.props,!0)),{},{cx:h,cy:p});return we.createElement(En,{className:Wt("recharts-reference-dot",x)},t.renderDot(g,b),Ca.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(we.Component);G2(K2,"displayName","ReferenceDot");G2(K2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});G2(K2,"renderDot",function(e,t){var r;return we.isValidElement(e)?r=we.cloneElement(e,t):nr(e)?r=e(t):r=we.createElement(aj,Q4({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function e3(){return e3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e3.apply(this,arguments)}function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}function R8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(r),!0).forEach(function(n){X2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aU(n.key),n)}}function tLe(e,t,r){return t&&eLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rLe(e,t,r){return t=E1(t),nLe(e,nU()?Reflect.construct(t,r||[],E1(e).constructor):t.apply(e,r))}function nLe(e,t){if(t&&(Lh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aLe(e)}function aLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nU=function(){return!!e})()}function E1(e){return E1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E1(e)}function iLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t3(e,t)}function t3(e,t){return t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},t3(e,t)}function X2(e,t,r){return t=aU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aU(e){var t=sLe(e,"string");return Lh(t)=="symbol"?t:t+""}function sLe(e,t){if(Lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oLe=function(t,r,n,a,i){var s=i.x1,o=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=sj({x:d.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ao(i,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:VB(p,m)},J2=function(e){function t(){return ZFe(this,t),rLe(this,t,arguments)}return iLe(t,e),tLe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;bl(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=oa(a),h=oa(i),p=oa(s),m=oa(o),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var x=oLe(f,h,p,m,this.props);if(!x&&!g)return null;var v=Ao(this.props,"hidden")?"url(#".concat(d,")"):void 0;return we.createElement(En,{className:Wt("recharts-reference-area",c)},t.renderRect(g,B8(B8({clipPath:v},lr(this.props,!0)),x)),Ca.renderCallByParent(this.props,x))}}])}(we.Component);X2(J2,"displayName","ReferenceArea");X2(J2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});X2(J2,"renderRect",function(e,t){var r;return we.isValidElement(e)?r=we.cloneElement(e,t):nr(e)?r=e(t):r=we.createElement(nj,e3({},t,{className:"recharts-reference-area-rect"})),r});function U8(e){return dLe(e)||uLe(e)||cLe(e)||lLe()}function lLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cLe(e,t){if(e){if(typeof e=="string")return r3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r3(e,t)}}function uLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dLe(e){if(Array.isArray(e))return r3(e)}function r3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var n3=function(t,r,n,a,i){var s=jo(t,lj),o=jo(t,K2),c=[].concat(U8(s),U8(o)),u=jo(t,J2),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(g,x){if(x.props[d]===n&&Ao(x.props,"extendDomain")&&wt(x.props[f])){var v=x.props[f];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(g,x){if(x.props[d]===n&&Ao(x.props,"extendDomain")&&wt(x.props[p])&&wt(x.props[m])){var v=x.props[p],b=x.props[m];return[Math.min(g[0],v,b),Math.max(g[1],v,b)]}return g},h)}return i&&i.length&&(h=i.reduce(function(g,x){return wt(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},h)),h},iU={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,m){var g=r?r+u:u;if(!this._events[g])return!1;var x=this._events[g],v=arguments.length,b,y;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,m),!0}for(y=1,b=new Array(v-1);y<v;y++)b[y-1]=arguments[y];x.fn.apply(x.context,b)}else{var C=x.length,S;for(y=0;y<C;y++)switch(x[y].once&&this.removeListener(u,x[y].fn,void 0,!0),v){case 1:x[y].fn.call(x[y].context);break;case 2:x[y].fn.call(x[y].context,d);break;case 3:x[y].fn.call(x[y].context,d,f);break;case 4:x[y].fn.call(x[y].context,d,f,h);break;default:if(!b)for(S=1,b=new Array(v-1);S<v;S++)b[S-1]=arguments[S];x[y].fn.apply(x[y].context,b)}}return!0},o.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,x=[],v=m.length;g<v;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&x.push(m[g]);x.length?this._events[p]=x.length===1?x[0]:x:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(iU);var fLe=iU.exports;const hLe=hr(fLe);var g_=new hLe,x_="recharts.syncMouseEvents";function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function pLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sU(n.key),n)}}function gLe(e,t,r){return t&&mLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v_(e,t,r){return t=sU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sU(e){var t=xLe(e,"string");return xg(t)=="symbol"?t:t+""}function xLe(e,t){if(xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vLe=function(){function e(){pLe(this,e),v_(this,"activeIndex",0),v_(this,"coordinateList",[]),v_(this,"layout","horizontal")}return gLe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function yLe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&wt(n)&&wt(a))return!0}return!1}function bLe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function oU(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=un(t,r,n,a),o=un(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function wLe(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=un(o,c,u,f),p=un(o,c,d,f);n=h.x,a=h.y,i=p.x,s=p.y}else return oU(t);return[{x:n,y:a},{x:i,y:s}]}function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function W8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W8(Object(r),!0).forEach(function(n){_Le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Le(e,t,r){return t=kLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kLe(e){var t=SLe(e,"string");return vg(t)=="symbol"?t:t+""}function SLe(e,t){if(vg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NLe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var m,g=D4;if(h==="ScatterChart")m=s,g=G$e;else if(h==="BarChart")m=bLe(f,s,c,d),g=nj;else if(f==="radial"){var x=oU(s),v=x.cx,b=x.cy,y=x.radius,C=x.startAngle,S=x.endAngle;m={cx:v,cy:b,startAngle:C,endAngle:S,innerRadius:y,outerRadius:y},g=TB}else m={points:wLe(f,s,c)},g=D4;var T=Pv(Pv(Pv(Pv({stroke:"#ccc",pointerEvents:"none"},c),m),lr(p,!1)),{},{payload:o,payloadIndex:u,className:Wt("recharts-tooltip-cursor",p.className)});return L.isValidElement(p)?L.cloneElement(p,T):L.createElement(g,T)}var jLe=["item"],ALe=["children","className","width","height","style","compact","title","desc"];function Ih(e){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(e)}function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Df.apply(this,arguments)}function q8(e,t){return ELe(e)||TLe(e,t)||cU(e,t)||CLe()}function CLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function ELe(e){if(Array.isArray(e))return e}function H8(e,t){if(e==null)return{};var r=OLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uU(n.key),n)}}function $Le(e,t,r){return t&&DLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MLe(e,t,r){return t=O1(t),FLe(e,lU()?Reflect.construct(t,r||[],O1(e).constructor):t.apply(e,r))}function FLe(e,t){if(t&&(Ih(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LLe(e)}function LLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lU=function(){return!!e})()}function O1(e){return O1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O1(e)}function ILe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a3(e,t)}function a3(e,t){return a3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},a3(e,t)}function Rh(e){return ULe(e)||BLe(e)||cU(e)||RLe()}function RLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cU(e,t){if(e){if(typeof e=="string")return i3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i3(e,t)}}function BLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ULe(e){if(Array.isArray(e))return i3(e)}function i3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z8(Object(r),!0).forEach(function(n){Bt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bt(e,t,r){return t=uU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uU(e){var t=WLe(e,"string");return Ih(t)=="symbol"?t:t+""}function WLe(e,t){if(Ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qLe={xAxis:["bottom","top"],yAxis:["left","right"]},HLe={width:"100%",height:"100%"},dU={x:0,y:0};function Dv(e){return e}var zLe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},YLe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return rt(rt(rt({},a),un(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var c=i.coordinate,u=a.angle;return rt(rt(rt({},a),un(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return dU},Q2=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(Rh(o),Rh(u)):o},[]);return s.length>0?s:t&&t.length&&wt(a)&&wt(i)?t.slice(a,i+1):[]};function fU(e){return e==="number"?[0,"auto"]:void 0}var s3=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=Q2(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=t4(p,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(Rh(c),[UPe(u,h)]):c},[])},Y8=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=zLe(i,n),o=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=NPe(s,o,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=s3(t,r,d,f),p=YLe(n,o,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},VLe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=_B(d,i);return n.reduce(function(m,g){var x,v=g.type.defaultProps!==void 0?rt(rt({},g.type.defaultProps),g.props):g.props,b=v.type,y=v.dataKey,C=v.allowDataOverflow,S=v.allowDuplicatedCategory,T=v.scale,N=v.ticks,w=v.includeHidden,_=v[s];if(m[_])return m;var P=Q2(t.data,{graphicalItems:a.filter(function(E){var R,U=s in E.props?E.props[s]:(R=E.type.defaultProps)===null||R===void 0?void 0:R[s];return U===_}),dataStartIndex:c,dataEndIndex:u}),A=P.length,j,F,M;yLe(v.domain,C,b)&&(j=A4(v.domain,null,C),p&&(b==="number"||T!=="auto")&&(M=om(P,y,"category")));var H=fU(b);if(!j||j.length===0){var q,Y=(q=v.domain)!==null&&q!==void 0?q:H;if(y){if(j=om(P,y,b),b==="category"&&p){var X=bCe(j);S&&X?(F=j,j=N1(0,A)):S||(j=TP(Y,j,g).reduce(function(E,R){return E.indexOf(R)>=0?E:[].concat(Rh(E),[R])},[]))}else if(b==="category")S?j=j.filter(function(E){return E!==""&&!br(E)}):j=TP(Y,j,g).reduce(function(E,R){return E.indexOf(R)>=0||R===""||br(R)?E:[].concat(Rh(E),[R])},[]);else if(b==="number"){var I=EPe(P,a.filter(function(E){var R,U,z=s in E.props?E.props[s]:(R=E.type.defaultProps)===null||R===void 0?void 0:R[s],G="hide"in E.props?E.props.hide:(U=E.type.defaultProps)===null||U===void 0?void 0:U.hide;return z===_&&(w||!G)}),y,i,d);I&&(j=I)}p&&(b==="number"||T!=="auto")&&(M=om(P,y,"category"))}else p?j=N1(0,A):o&&o[_]&&o[_].hasStack&&b==="number"?j=h==="expand"?[0,1]:kB(o[_].stackGroups,c,u):j=wB(P,a.filter(function(E){var R=s in E.props?E.props[s]:E.type.defaultProps[s],U="hide"in E.props?E.props.hide:E.type.defaultProps.hide;return R===_&&(w||!U)}),b,d,!0);if(b==="number")j=n3(f,j,_,i,N),Y&&(j=A4(Y,j,C));else if(b==="category"&&Y){var J=Y,Q=j.every(function(E){return J.indexOf(E)>=0});Q&&(j=J)}}return rt(rt({},m),{},Bt({},_,rt(rt({},v),{},{axisType:i,domain:j,categoricalDomain:M,duplicateDomain:F,originalDomain:(x=v.domain)!==null&&x!==void 0?x:H,isCategorical:p,layout:d})))},{})},GLe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Q2(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,m=_B(d,i),g=-1;return n.reduce(function(x,v){var b=v.type.defaultProps!==void 0?rt(rt({},v.type.defaultProps),v.props):v.props,y=b[s],C=fU("number");if(!x[y]){g++;var S;return m?S=N1(0,p):o&&o[y]&&o[y].hasStack?(S=kB(o[y].stackGroups,c,u),S=n3(f,S,y,i)):(S=A4(C,wB(h,n.filter(function(T){var N,w,_=s in T.props?T.props[s]:(N=T.type.defaultProps)===null||N===void 0?void 0:N[s],P="hide"in T.props?T.props.hide:(w=T.type.defaultProps)===null||w===void 0?void 0:w.hide;return _===y&&!P}),"number",d),a.defaultProps.allowDataOverflow),S=n3(f,S,y,i)),rt(rt({},x),{},Bt({},y,rt(rt({axisType:i},a.defaultProps),{},{hide:!0,orientation:qn(qLe,"".concat(i,".").concat(g%2),null),domain:S,originalDomain:C,isCategorical:m,layout:d})))}return x},{})},KLe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=jo(d,i),p={};return h&&h.length?p=VLe(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(p=GLe(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),p},XLe=function(t){var r=Af(t),n=Ip(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:d2(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:C4(r,n)}},V8=function(t){var r=t.children,n=t.defaultShowTooltip,a=us(r,$h),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},JLe=function(t){return!t||!t.length?!1:t.some(function(r){var n=yl(r&&r.type);return n&&n.indexOf("Bar")>=0})},G8=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},QLe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,c=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=us(f,$h),m=us(f,Yf),g=Object.keys(c).reduce(function(S,T){var N=c[T],w=N.orientation;return!N.mirror&&!N.hide?rt(rt({},S),{},Bt({},w,S[w]+N.width)):S},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(S,T){var N=s[T],w=N.orientation;return!N.mirror&&!N.hide?rt(rt({},S),{},Bt({},w,qn(S,"".concat(w))+N.height)):S},{top:h.top||0,bottom:h.bottom||0}),v=rt(rt({},x),g),b=v.bottom;p&&(v.bottom+=p.props.height||$h.defaultProps.height),m&&r&&(v=CPe(v,a,n,r));var y=u-v.left-v.right,C=d-v.top-v.bottom;return rt(rt({brushBottom:b},v),{},{width:Math.max(y,0),height:Math.max(C,0)})},ZLe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},eIe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,b){var y=b.graphicalItems,C=b.stackGroups,S=b.offset,T=b.updateId,N=b.dataStartIndex,w=b.dataEndIndex,_=v.barSize,P=v.layout,A=v.barGap,j=v.barCategoryGap,F=v.maxBarSize,M=G8(P),H=M.numericAxisName,q=M.cateAxisName,Y=JLe(y),X=[];return y.forEach(function(I,J){var Q=Q2(v.data,{graphicalItems:[I],dataStartIndex:N,dataEndIndex:w}),E=I.type.defaultProps!==void 0?rt(rt({},I.type.defaultProps),I.props):I.props,R=E.dataKey,U=E.maxBarSize,z=E["".concat(H,"Id")],G=E["".concat(q,"Id")],ae={},ee=c.reduce(function(Pe,Fe){var ve=b["".concat(Fe.axisType,"Map")],me=E["".concat(Fe.axisType,"Id")];ve&&ve[me]||Fe.axisType==="zAxis"||Ah();var le=ve[me];return rt(rt({},Pe),{},Bt(Bt({},Fe.axisType,le),"".concat(Fe.axisType,"Ticks"),Ip(le)))},ae),W=ee[q],Z=ee["".concat(q,"Ticks")],re=C&&C[z]&&C[z].hasStack&&RPe(I,C[z].stackGroups),O=yl(I.type).indexOf("Bar")>=0,de=C4(W,Z),ce=[],pe=Y&&jPe({barSize:_,stackGroups:C,totalSize:ZLe(ee,q)});if(O){var K,ne,Te=br(U)?F:U,Ee=(K=(ne=C4(W,Z,!0))!==null&&ne!==void 0?ne:Te)!==null&&K!==void 0?K:0;ce=APe({barGap:A,barCategoryGap:j,bandSize:Ee!==de?Ee:de,sizeList:pe[G],maxBarSize:Te}),Ee!==de&&(ce=ce.map(function(Pe){return rt(rt({},Pe),{},{position:rt(rt({},Pe.position),{},{offset:Pe.position.offset-Ee/2})})}))}var $e=I&&I.type&&I.type.getComposedData;$e&&X.push({props:rt(rt({},$e(rt(rt({},ee),{},{displayedData:Q,props:v,dataKey:R,item:I,bandSize:de,barPosition:ce,offset:S,stackedData:re,layout:P,dataStartIndex:N,dataEndIndex:w}))),{},Bt(Bt(Bt({key:I.key||"item-".concat(J)},H,ee[H]),q,ee[q]),"animationId",T)),childIndex:OCe(I,v.children),item:I})}),X},p=function(v,b){var y=v.props,C=v.dataStartIndex,S=v.dataEndIndex,T=v.updateId;if(!LO({props:y}))return null;var N=y.children,w=y.layout,_=y.stackOffset,P=y.data,A=y.reverseStackOrder,j=G8(w),F=j.numericAxisName,M=j.cateAxisName,H=jo(N,n),q=LPe(P,H,"".concat(F,"Id"),"".concat(M,"Id"),_,A),Y=c.reduce(function(E,R){var U="".concat(R.axisType,"Map");return rt(rt({},E),{},Bt({},U,KLe(y,rt(rt({},R),{},{graphicalItems:H,stackGroups:R.axisType===F&&q,dataStartIndex:C,dataEndIndex:S}))))},{}),X=QLe(rt(rt({},Y),{},{props:y,graphicalItems:H}),b==null?void 0:b.legendBBox);Object.keys(Y).forEach(function(E){Y[E]=d(y,Y[E],X,E.replace("Map",""),r)});var I=Y["".concat(M,"Map")],J=XLe(I),Q=h(y,rt(rt({},Y),{},{dataStartIndex:C,dataEndIndex:S,updateId:T,graphicalItems:H,stackGroups:q,offset:X}));return rt(rt({formattedGraphicalItems:Q,graphicalItems:H,offset:X,stackGroups:q},J),Y)},m=function(x){function v(b){var y,C,S;return PLe(this,v),S=MLe(this,v,[b]),Bt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Bt(S,"accessibilityManager",new vLe),Bt(S,"handleLegendBBoxUpdate",function(T){if(T){var N=S.state,w=N.dataStartIndex,_=N.dataEndIndex,P=N.updateId;S.setState(rt({legendBBox:T},p({props:S.props,dataStartIndex:w,dataEndIndex:_,updateId:P},rt(rt({},S.state),{},{legendBBox:T}))))}}),Bt(S,"handleReceiveSyncEvent",function(T,N,w){if(S.props.syncId===T){if(w===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(N)}}),Bt(S,"handleBrushChange",function(T){var N=T.startIndex,w=T.endIndex;if(N!==S.state.dataStartIndex||w!==S.state.dataEndIndex){var _=S.state.updateId;S.setState(function(){return rt({dataStartIndex:N,dataEndIndex:w},p({props:S.props,dataStartIndex:N,dataEndIndex:w,updateId:_},S.state))}),S.triggerSyncEvent({dataStartIndex:N,dataEndIndex:w})}}),Bt(S,"handleMouseEnter",function(T){var N=S.getMouseInfo(T);if(N){var w=rt(rt({},N),{},{isTooltipActive:!0});S.setState(w),S.triggerSyncEvent(w);var _=S.props.onMouseEnter;nr(_)&&_(w,T)}}),Bt(S,"triggeredAfterMouseMove",function(T){var N=S.getMouseInfo(T),w=N?rt(rt({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(w),S.triggerSyncEvent(w);var _=S.props.onMouseMove;nr(_)&&_(w,T)}),Bt(S,"handleItemMouseEnter",function(T){S.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),Bt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Bt(S,"handleMouseMove",function(T){T.persist(),S.throttleTriggeredAfterMouseMove(T)}),Bt(S,"handleMouseLeave",function(T){S.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};S.setState(N),S.triggerSyncEvent(N);var w=S.props.onMouseLeave;nr(w)&&w(N,T)}),Bt(S,"handleOuterEvent",function(T){var N=ECe(T),w=qn(S.props,"".concat(N));if(N&&nr(w)){var _,P;/.*touch.*/i.test(N)?P=S.getMouseInfo(T.changedTouches[0]):P=S.getMouseInfo(T),w((_=P)!==null&&_!==void 0?_:{},T)}}),Bt(S,"handleClick",function(T){var N=S.getMouseInfo(T);if(N){var w=rt(rt({},N),{},{isTooltipActive:!0});S.setState(w),S.triggerSyncEvent(w);var _=S.props.onClick;nr(_)&&_(w,T)}}),Bt(S,"handleMouseDown",function(T){var N=S.props.onMouseDown;if(nr(N)){var w=S.getMouseInfo(T);N(w,T)}}),Bt(S,"handleMouseUp",function(T){var N=S.props.onMouseUp;if(nr(N)){var w=S.getMouseInfo(T);N(w,T)}}),Bt(S,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),Bt(S,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.handleMouseDown(T.changedTouches[0])}),Bt(S,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.handleMouseUp(T.changedTouches[0])}),Bt(S,"handleDoubleClick",function(T){var N=S.props.onDoubleClick;if(nr(N)){var w=S.getMouseInfo(T);N(w,T)}}),Bt(S,"handleContextMenu",function(T){var N=S.props.onContextMenu;if(nr(N)){var w=S.getMouseInfo(T);N(w,T)}}),Bt(S,"triggerSyncEvent",function(T){S.props.syncId!==void 0&&g_.emit(x_,S.props.syncId,T,S.eventEmitterSymbol)}),Bt(S,"applySyncEvent",function(T){var N=S.props,w=N.layout,_=N.syncMethod,P=S.state.updateId,A=T.dataStartIndex,j=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)S.setState(rt({dataStartIndex:A,dataEndIndex:j},p({props:S.props,dataStartIndex:A,dataEndIndex:j,updateId:P},S.state)));else if(T.activeTooltipIndex!==void 0){var F=T.chartX,M=T.chartY,H=T.activeTooltipIndex,q=S.state,Y=q.offset,X=q.tooltipTicks;if(!Y)return;if(typeof _=="function")H=_(X,T);else if(_==="value"){H=-1;for(var I=0;I<X.length;I++)if(X[I].value===T.activeLabel){H=I;break}}var J=rt(rt({},Y),{},{x:Y.left,y:Y.top}),Q=Math.min(F,J.x+J.width),E=Math.min(M,J.y+J.height),R=X[H]&&X[H].value,U=s3(S.state,S.props.data,H),z=X[H]?{x:w==="horizontal"?X[H].coordinate:Q,y:w==="horizontal"?E:X[H].coordinate}:dU;S.setState(rt(rt({},T),{},{activeLabel:R,activeCoordinate:z,activePayload:U,activeTooltipIndex:H}))}else S.setState(T)}),Bt(S,"renderCursor",function(T){var N,w=S.state,_=w.isTooltipActive,P=w.activeCoordinate,A=w.activePayload,j=w.offset,F=w.activeTooltipIndex,M=w.tooltipAxisBandSize,H=S.getTooltipEventType(),q=(N=T.props.active)!==null&&N!==void 0?N:_,Y=S.props.layout,X=T.key||"_recharts-cursor";return we.createElement(NLe,{key:X,activeCoordinate:P,activePayload:A,activeTooltipIndex:F,chartName:r,element:T,isActive:q,layout:Y,offset:j,tooltipAxisBandSize:M,tooltipEventType:H})}),Bt(S,"renderPolarAxis",function(T,N,w){var _=qn(T,"type.axisType"),P=qn(S.state,"".concat(_,"Map")),A=T.type.defaultProps,j=A!==void 0?rt(rt({},A),T.props):T.props,F=P&&P[j["".concat(_,"Id")]];return L.cloneElement(T,rt(rt({},F),{},{className:Wt(_,F.className),key:T.key||"".concat(N,"-").concat(w),ticks:Ip(F,!0)}))}),Bt(S,"renderPolarGrid",function(T){var N=T.props,w=N.radialLines,_=N.polarAngles,P=N.polarRadius,A=S.state,j=A.radiusAxisMap,F=A.angleAxisMap,M=Af(j),H=Af(F),q=H.cx,Y=H.cy,X=H.innerRadius,I=H.outerRadius;return L.cloneElement(T,{polarAngles:Array.isArray(_)?_:Ip(H,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(P)?P:Ip(M,!0).map(function(J){return J.coordinate}),cx:q,cy:Y,innerRadius:X,outerRadius:I,key:T.key||"polar-grid",radialLines:w})}),Bt(S,"renderLegend",function(){var T=S.state.formattedGraphicalItems,N=S.props,w=N.children,_=N.width,P=N.height,A=S.props.margin||{},j=_-(A.left||0)-(A.right||0),F=yB({children:w,formattedGraphicalItems:T,legendWidth:j,legendContent:u});if(!F)return null;var M=F.item,H=H8(F,jLe);return L.cloneElement(M,rt(rt({},H),{},{chartWidth:_,chartHeight:P,margin:A,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Bt(S,"renderTooltip",function(){var T,N=S.props,w=N.children,_=N.accessibilityLayer,P=us(w,Rs);if(!P)return null;var A=S.state,j=A.isTooltipActive,F=A.activeCoordinate,M=A.activePayload,H=A.activeLabel,q=A.offset,Y=(T=P.props.active)!==null&&T!==void 0?T:j;return L.cloneElement(P,{viewBox:rt(rt({},q),{},{x:q.left,y:q.top}),active:Y,label:H,payload:Y?M:[],coordinate:F,accessibilityLayer:_})}),Bt(S,"renderBrush",function(T){var N=S.props,w=N.margin,_=N.data,P=S.state,A=P.offset,j=P.dataStartIndex,F=P.dataEndIndex,M=P.updateId;return L.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Av(S.handleBrushChange,T.props.onChange),data:_,x:wt(T.props.x)?T.props.x:A.left,y:wt(T.props.y)?T.props.y:A.top+A.height+A.brushBottom-(w.bottom||0),width:wt(T.props.width)?T.props.width:A.width,startIndex:j,endIndex:F,updateId:"brush-".concat(M)})}),Bt(S,"renderReferenceElement",function(T,N,w){if(!T)return null;var _=S,P=_.clipPathId,A=S.state,j=A.xAxisMap,F=A.yAxisMap,M=A.offset,H=T.type.defaultProps||{},q=T.props,Y=q.xAxisId,X=Y===void 0?H.xAxisId:Y,I=q.yAxisId,J=I===void 0?H.yAxisId:I;return L.cloneElement(T,{key:T.key||"".concat(N,"-").concat(w),xAxis:j[X],yAxis:F[J],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:P})}),Bt(S,"renderActivePoints",function(T){var N=T.item,w=T.activePoint,_=T.basePoint,P=T.childIndex,A=T.isRange,j=[],F=N.props.key,M=N.item.type.defaultProps!==void 0?rt(rt({},N.item.type.defaultProps),N.item.props):N.item.props,H=M.activeDot,q=M.dataKey,Y=rt(rt({index:P,dataKey:q,cx:w.x,cy:w.y,r:4,fill:rj(N.item),strokeWidth:2,stroke:"#fff",payload:w.payload,value:w.value},lr(H,!1)),i1(H));return j.push(v.renderActiveDot(H,Y,"".concat(F,"-activePoint-").concat(P))),_?j.push(v.renderActiveDot(H,rt(rt({},Y),{},{cx:_.x,cy:_.y}),"".concat(F,"-basePoint-").concat(P))):A&&j.push(null),j}),Bt(S,"renderGraphicChild",function(T,N,w){var _=S.filterFormatItem(T,N,w);if(!_)return null;var P=S.getTooltipEventType(),A=S.state,j=A.isTooltipActive,F=A.tooltipAxis,M=A.activeTooltipIndex,H=A.activeLabel,q=S.props.children,Y=us(q,Rs),X=_.props,I=X.points,J=X.isRange,Q=X.baseLine,E=_.item.type.defaultProps!==void 0?rt(rt({},_.item.type.defaultProps),_.item.props):_.item.props,R=E.activeDot,U=E.hide,z=E.activeBar,G=E.activeShape,ae=!!(!U&&j&&Y&&(R||z||G)),ee={};P!=="axis"&&Y&&Y.props.trigger==="click"?ee={onClick:Av(S.handleItemMouseEnter,T.props.onClick)}:P!=="axis"&&(ee={onMouseLeave:Av(S.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Av(S.handleItemMouseEnter,T.props.onMouseEnter)});var W=L.cloneElement(T,rt(rt({},_.props),ee));function Z(Fe){return typeof F.dataKey=="function"?F.dataKey(Fe.payload):null}if(ae)if(M>=0){var re,O;if(F.dataKey&&!F.allowDuplicatedCategory){var de=typeof F.dataKey=="function"?Z:"payload.".concat(F.dataKey.toString());re=t4(I,de,H),O=J&&Q&&t4(Q,de,H)}else re=I==null?void 0:I[M],O=J&&Q&&Q[M];if(G||z){var ce=T.props.activeIndex!==void 0?T.props.activeIndex:M;return[L.cloneElement(T,rt(rt(rt({},_.props),ee),{},{activeIndex:ce})),null,null]}if(!br(re))return[W].concat(Rh(S.renderActivePoints({item:_,activePoint:re,basePoint:O,childIndex:M,isRange:J})))}else{var pe,K=(pe=S.getItemByXY(S.state.activeCoordinate))!==null&&pe!==void 0?pe:{graphicalItem:W},ne=K.graphicalItem,Te=ne.item,Ee=Te===void 0?T:Te,$e=ne.childIndex,Pe=rt(rt(rt({},_.props),ee),{},{activeIndex:$e});return[L.cloneElement(Ee,Pe),null,null]}return J?[W,null,null]:[W,null]}),Bt(S,"renderCustomized",function(T,N,w){return L.cloneElement(T,rt(rt({key:"recharts-customized-".concat(w)},S.props),S.state))}),Bt(S,"renderMap",{CartesianGrid:{handler:Dv,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Dv},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Dv},YAxis:{handler:Dv},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((y=b.id)!==null&&y!==void 0?y:O2("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=X9(S.triggeredAfterMouseMove,(C=b.throttleDelay)!==null&&C!==void 0?C:1e3/60),S.state={},S}return ILe(v,x),$Le(v,[{key:"componentDidMount",value:function(){var y,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,C=y.children,S=y.data,T=y.height,N=y.layout,w=us(C,Rs);if(w){var _=w.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,A=s3(this.state,S,_,P),j=this.state.tooltipTicks[_].coordinate,F=(this.state.offset.top+T)/2,M=N==="horizontal",H=M?{x:j,y:F}:{y:j,x:F},q=this.state.formattedGraphicalItems.find(function(X){var I=X.item;return I.type.name==="Scatter"});q&&(H=rt(rt({},H),q.props.points[_].tooltipPosition),A=q.props.points[_].tooltipPayload);var Y={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:P,activePayload:A,activeCoordinate:H};this.setState(Y),this.renderCursor(w),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var S,T;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(y){a4([us(y.children,Rs)],[us(this.props.children,Rs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=us(this.props.children,Rs);if(y&&typeof y.props.shared=="boolean"){var C=y.props.shared?"axis":"item";return o.indexOf(C)>=0?C:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var C=this.container,S=C.getBoundingClientRect(),T=TEe(S),N={chartX:Math.round(y.pageX-T.left),chartY:Math.round(y.pageY-T.top)},w=S.width/C.offsetWidth||1,_=this.inRange(N.chartX,N.chartY,w);if(!_)return null;var P=this.state,A=P.xAxisMap,j=P.yAxisMap,F=this.getTooltipEventType();if(F!=="axis"&&A&&j){var M=Af(A).scale,H=Af(j).scale,q=M&&M.invert?M.invert(N.chartX):null,Y=H&&H.invert?H.invert(N.chartY):null;return rt(rt({},N),{},{xValue:q,yValue:Y})}var X=Y8(this.state,this.props.data,this.props.layout,_);return X?rt(rt({},N),X):null}},{key:"inRange",value:function(y,C){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,N=y/S,w=C/S;if(T==="horizontal"||T==="vertical"){var _=this.state.offset,P=N>=_.left&&N<=_.left+_.width&&w>=_.top&&w<=_.top+_.height;return P?{x:N,y:w}:null}var A=this.state,j=A.angleAxisMap,F=A.radiusAxisMap;if(j&&F){var M=Af(j);return PP({x:N,y:w},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,C=this.getTooltipEventType(),S=us(y,Rs),T={};S&&C==="axis"&&(S.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=i1(this.props,this.handleOuterEvent);return rt(rt({},N),T)}},{key:"addListener",value:function(){g_.on(x_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){g_.removeListener(x_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,C,S){for(var T=this.state.formattedGraphicalItems,N=0,w=T.length;N<w;N++){var _=T[N];if(_.item===y||_.props.key===y.key||C===yl(_.item.type)&&S===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,C=this.state.offset,S=C.left,T=C.top,N=C.height,w=C.width;return we.createElement("defs",null,we.createElement("clipPath",{id:y},we.createElement("rect",{x:S,y:T,height:N,width:w})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(C,S){var T=q8(S,2),N=T[0],w=T[1];return rt(rt({},C),{},Bt({},N,w.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(C,S){var T=q8(S,2),N=T[0],w=T[1];return rt(rt({},C),{},Bt({},N,w.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[y])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(y){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[y])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(y){var C=this.state,S=C.formattedGraphicalItems,T=C.activeItem;if(S&&S.length)for(var N=0,w=S.length;N<w;N++){var _=S[N],P=_.props,A=_.item,j=A.type.defaultProps!==void 0?rt(rt({},A.type.defaultProps),A.props):A.props,F=yl(A.type);if(F==="Bar"){var M=(P.data||[]).find(function(X){return C$e(y,X)});if(M)return{graphicalItem:_,payload:M}}else if(F==="RadialBar"){var H=(P.data||[]).find(function(X){return PP(y,X)});if(H)return{graphicalItem:_,payload:H}}else if(Y2(_,T)||V2(_,T)||pg(_,T)){var q=a7e({graphicalItem:_,activeTooltipItem:T,itemData:j.data}),Y=j.activeIndex===void 0?q:j.activeIndex;return{graphicalItem:rt(rt({},_),{},{childIndex:Y}),payload:pg(_,T)?j.data[q]:_.props.data[q]}}}return null}},{key:"render",value:function(){var y=this;if(!LO(this))return null;var C=this.props,S=C.children,T=C.className,N=C.width,w=C.height,_=C.style,P=C.compact,A=C.title,j=C.desc,F=H8(C,ALe),M=lr(F,!1);if(P)return we.createElement(D8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},we.createElement(s4,Df({},M,{width:N,height:w,title:A,desc:j}),this.renderClipPath(),RO(S,this.renderMap)));if(this.props.accessibilityLayer){var H,q;M.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,M.role=(q=this.props.role)!==null&&q!==void 0?q:"application",M.onKeyDown=function(X){y.accessibilityManager.keyboardEvent(X)},M.onFocus=function(){y.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return we.createElement(D8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},we.createElement("div",Df({className:Wt("recharts-wrapper",T),style:rt({position:"relative",cursor:"default",width:N,height:w},_)},Y,{ref:function(I){y.container=I}}),we.createElement(s4,Df({},M,{width:N,height:w,title:A,desc:j,style:HLe}),this.renderClipPath(),RO(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(L.Component);Bt(m,"displayName",r),Bt(m,"defaultProps",rt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Bt(m,"getDerivedStateFromProps",function(x,v){var b=x.dataKey,y=x.data,C=x.children,S=x.width,T=x.height,N=x.layout,w=x.stackOffset,_=x.margin,P=v.dataStartIndex,A=v.dataEndIndex;if(v.updateId===void 0){var j=V8(x);return rt(rt(rt({},j),{},{updateId:0},p(rt(rt({props:x},j),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:y,prevWidth:S,prevHeight:T,prevLayout:N,prevStackOffset:w,prevMargin:_,prevChildren:C})}if(b!==v.prevDataKey||y!==v.prevData||S!==v.prevWidth||T!==v.prevHeight||N!==v.prevLayout||w!==v.prevStackOffset||!r4(_,v.prevMargin)){var F=V8(x),M={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},H=rt(rt({},Y8(v,y,N)),{},{updateId:v.updateId+1}),q=rt(rt(rt({},F),M),H);return rt(rt(rt({},q),p(rt({props:x},q),v)),{},{prevDataKey:b,prevData:y,prevWidth:S,prevHeight:T,prevLayout:N,prevStackOffset:w,prevMargin:_,prevChildren:C})}if(!a4(C,v.prevChildren)){var Y,X,I,J,Q=us(C,$h),E=Q&&(Y=(X=Q.props)===null||X===void 0?void 0:X.startIndex)!==null&&Y!==void 0?Y:P,R=Q&&(I=(J=Q.props)===null||J===void 0?void 0:J.endIndex)!==null&&I!==void 0?I:A,U=E!==P||R!==A,z=!br(y),G=z&&!U?v.updateId:v.updateId+1;return rt(rt({updateId:G},p(rt(rt({props:x},v),{},{updateId:G,dataStartIndex:E,dataEndIndex:R}),v)),{},{prevChildren:C,dataStartIndex:E,dataEndIndex:R})}return null}),Bt(m,"renderActiveDot",function(x,v,b){var y;return L.isValidElement(x)?y=L.cloneElement(x,v):nr(x)?y=x(v):y=we.createElement(aj,v),we.createElement(En,{className:"recharts-active-dot",key:b},y)});var g=L.forwardRef(function(v,b){return we.createElement(m,Df({},v,{ref:b}))});return g.displayName=m.displayName,g},hU=eIe({chartName:"PieChart",GraphicalChild:Ho,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:z2},{axisType:"radiusAxis",AxisComp:q2}],formatAxisMap:XPe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function tIe(){var J;const[e,t]=L.useState([]),[r,n]=L.useState([]),[a,i]=L.useState(!0),[s,o]=L.useState(""),[c,u]=L.useState("all"),[d,f]=L.useState(!1),[h,p]=L.useState(!1),[m,g]=L.useState(""),[x,v]=L.useState(!1),[b,y]=L.useState(null),{organization:C}=Zt(),{confirm:S,addToast:T}=Tr(),{theme:N,getThemeStyle:w}=Ht(),_=C!=null&&C.currency?((J=tn[C.currency])==null?void 0:J.symbol)||C.currency:"",[P,A]=L.useState(window.innerWidth<768),j=L.useMemo(()=>m?r.filter(Q=>Q.name.toLowerCase().includes(m.toLowerCase())):r,[r,m]),F=L.useMemo(()=>{const Q=e.filter(U=>U.stock_quantity<=U.reorder_point).length,E=e.reduce((U,z)=>U+z.stock_quantity*z.unit_price,0),R=r.map(U=>({name:U.name,value:e.filter(z=>z.category===U.name).length}));return{lowStockCount:Q,totalProducts:e.length,totalValue:E,categoryDistribution:R}},[e,r]);L.useEffect(()=>{C&&(M(),H())},[C]),L.useEffect(()=>{const Q=()=>{A(window.innerWidth<768)};return window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]);const M=async()=>{if(C!=null&&C.id)try{const{data:Q,error:E}=await We.from("products").select("*").eq("organization_id",C.id).order("name");if(E)throw E;t(Q||[])}catch(Q){console.error("Error loading products:",Q),T({type:"error",title:"Error",message:"Failed to load products"})}finally{i(!1)}},H=async()=>{if(C!=null&&C.id)try{const{data:Q,error:E}=await We.from("categories").select("*").eq("organization_id",C.id).order("name");if(E)throw E;n(Q||[])}catch(Q){console.error("Error loading categories:",Q),T({type:"error",title:"Error",message:"Failed to load categories"})}},q=Q=>{y(Q)},Y=()=>{y(null)},X=e.filter(Q=>{var E;return(c==="all"||Q.category===c)&&(Q.name.toLowerCase().includes(s.toLowerCase())||((E=Q.description)==null?void 0:E.toLowerCase().includes(s.toLowerCase())))}),I=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];return a?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsxs("div",{className:`flex flex-col lg:flex-row gap-4 min-h-screen ${w(N,"background","primary")}`,children:[l.jsxs("div",{className:"flex-1 space-y-4",children:[l.jsx("div",{className:`${w(N,"background","primary")} rounded-lg p-4`,children:l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(Vc,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 ${w(N,"text","muted")}`}),l.jsx("input",{type:"text",placeholder:"Search products...",value:s,onChange:Q=>o(Q.target.value),className:`w-full pl-9 pr-4 py-1.5 text-xs rounded-md ${w(N,"background","primary")} ${w(N,"text","primary")} ${w(N,"border","primary")} border-2 focus:outline-none focus:ring-1 focus:ring-blue-500`})]})}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>p(!h),className:`w-full sm:w-auto px-3 py-1.5 text-xs rounded-md ${w(N,"background","primary")} ${w(N,"text","primary")} ${w(N,"border","primary")} flex items-center justify-between`,children:[l.jsx("span",{children:c==="all"?"Category: All":`Category: ${c}`}),l.jsx(Xf,{className:`h-3 w-3 ml-2 transform ${h?"rotate-90":""}`})]}),h&&l.jsx("div",{className:`absolute z-10 mt-1 w-full sm:w-48 rounded-md shadow-lg ${w(N,"background","primary")} ${w(N,"border","primary")} border`,children:l.jsxs("div",{className:"p-2",children:[l.jsx("input",{type:"text",placeholder:"Search categories...",value:m,onChange:Q=>g(Q.target.value),className:`w-full px-2 py-1 text-xs rounded-md ${w(N,"background","secondary")} ${w(N,"text","primary")} ${w(N,"border","primary")} focus:outline-none focus:ring-1 focus:ring-blue-500`}),l.jsx("button",{className:`w-full text-left px-3 py-1.5 text-xs ${w(N,"text","primary")} hover:${w(N,"background","accent")}`,onClick:()=>{u("all"),p(!1),g("")},children:"All Categories"}),j.map(Q=>l.jsx("button",{className:`w-full text-left px-3 py-1.5 text-xs ${w(N,"text","primary")} hover:${w(N,"background","accent")}`,onClick:()=>{u(Q.name),p(!1),g("")},children:Q.name},Q.id))]})})]}),l.jsxs("div",{className:"flex flex-row items-stretch sm:items-center gap-2",children:[l.jsxs("button",{onClick:()=>f(!0),className:"w-full sm:w-auto inline-flex items-center justify-center px-3 py-1.5 rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:[l.jsx(Hn,{className:"h-3.5 w-3.5 mr-1"}),"Add Product"]}),l.jsxs(Rr,{to:"/dashboard/categories",className:"w-full sm:w-auto inline-flex items-center justify-center px-3 py-1.5 border border-transparent rounded-lg shadow-sm text-xs font-medium text-white bg-green-600 hover:bg-green-700 transition-colors duration-200",children:[l.jsx(mY,{className:"h-4 w-4 mr-2"}),"Manage Categories"]})]})]})]})}),l.jsx("div",{className:`${w(N,"background","primary")} rounded-lg overflow-hidden px-4`,children:X.length===0?l.jsx("div",{className:`p-4 text-center text-xs ${w(N,"text","muted")}`,children:"No products found."}):P?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:`min-w-full ${w(N,"background","primary")}`,children:[l.jsx("thead",{children:l.jsxs("tr",{className:`border-b ${w(N,"border","primary")}`,children:[l.jsx("th",{className:`px-2 py-1.5 text-left text-xs font-medium ${w(N,"text","muted")}`,children:"Product"}),l.jsx("th",{className:`px-2 py-1.5 text-left text-xs font-medium ${w(N,"text","muted")}`,children:"Category"}),l.jsx("th",{className:`px-2 py-1.5 text-left text-xs font-medium ${w(N,"text","muted")}`,children:"Stock"}),l.jsx("th",{className:`px-2 py-1.5 text-left text-xs font-medium ${w(N,"text","muted")}`,children:"Price"})]})}),l.jsx("tbody",{className:"divide-y divide-opacity-2",children:X.map(Q=>l.jsxs("tr",{className:"hover:bg-gray-300 dark:hover:bg-gray-800 transition-colors duration-150 cursor-pointer",onClick:()=>q(Q),children:[l.jsx("td",{className:"px-2 py-1.5",children:l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("div",{className:`h-6 w-6 hidden xs:flex rounded-md ${w(N,"background","accent")} flex items-center justify-center overflow-hidden`,children:Q.image_url?l.jsx("img",{src:Q.image_url,alt:Q.name,className:"h-full w-full object-cover"}):l.jsx(ca,{className:`h-3 w-3 ${w(N,"text","muted")}`})}),l.jsx("span",{className:`text-xs font-medium ${w(N,"text","primary")} truncate max-w-[80px]`,children:Q.name})]})}),l.jsx("td",{className:"px-2 py-1.5",children:l.jsx("span",{className:`px-1.5 py-0.5 text-xs rounded-md ${w(N,"background","accent")} ${w(N,"text","secondary")}`,children:Q.category})}),l.jsx("td",{className:"px-2 py-1.5",children:l.jsx("div",{className:"flex items-center gap-1",children:l.jsx("span",{className:`text-xs font-medium ${Q.stock_quantity<=Q.reorder_point?"text-red-500":w(N,"text","primary")}`,children:Q.stock_quantity})})}),l.jsxs("td",{className:`px-2 py-1.5 text-xs ${w(N,"text","primary")}`,children:[_," ",Q.unit_price.toFixed(2)]})]},Q.id))})]})}):l.jsxs("table",{className:`min-w-full ${w(N,"background","primary")}`,children:[l.jsx("thead",{children:l.jsxs("tr",{className:`border-b ${w(N,"border","primary")}`,children:[l.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${w(N,"text","muted")}`,children:"Product name"}),l.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${w(N,"text","muted")}`,children:"Category"}),l.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${w(N,"text","muted")}`,children:"Current Stock"}),l.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${w(N,"text","muted")}`,children:"Unit Price"})]})}),l.jsx("tbody",{className:"divide-y divide-opacity-2",children:X.map(Q=>l.jsxs("tr",{className:"hover:bg-gray-300 dark:hover:bg-gray-800 transition-colors duration-150 cursor-pointer",onClick:()=>q(Q),children:[l.jsx("td",{className:"px-4 py-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`h-8 w-8 rounded-md ${w(N,"background","accent")} flex items-center justify-center overflow-hidden`,children:Q.image_url?l.jsx("img",{src:Q.image_url,alt:Q.name,className:"h-full w-full object-cover"}):l.jsx(ca,{className:`h-4 w-4 ${w(N,"text","muted")}`})}),l.jsx("span",{className:`text-xs font-medium ${w(N,"text","primary")}`,children:Q.name})]})}),l.jsx("td",{className:"px-4 py-2",children:l.jsx("span",{className:`px-2 py-0.5 text-xs rounded-md ${w(N,"background","accent")} ${w(N,"text","secondary")}`,children:Q.category})}),l.jsx("td",{className:"px-4 py-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:`text-xs font-medium ${Q.stock_quantity<=Q.reorder_point?"text-red-500":w(N,"text","primary")}`,children:[Q.stock_quantity," ",Q.stock_quantity===1?"unit":"units"]}),Q.stock_quantity<=Q.reorder_point?l.jsx("span",{className:"text-xs text-red-500",children:" Low"}):l.jsx("span",{className:"text-xs text-green-500",children:" High"})]})}),l.jsxs("td",{className:`px-4 py-2 text-xs ${w(N,"text","primary")}`,children:[_," ",Q.unit_price.toFixed(2)]})]},Q.id))})]})})]}),l.jsxs("div",{className:`w-full lg:w-[300px] ${w(N,"background","primary")} rounded-lg p-4 space-y-4`,children:[l.jsx("h3",{className:`text-sm font-medium ${w(N,"text","primary")}`,children:"Product Statistics"}),l.jsx("div",{className:`p-3 rounded-lg ${w(N,"background","accent")}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ac,{className:"h-4 w-4 text-red-500"}),l.jsxs("span",{className:`text-xs font-medium ${w(N,"text","primary")}`,children:[F.lowStockCount," Products Low on Stock"]})]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:`p-3 rounded-lg ${w(N,"background","accent")}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ca,{className:"h-3.5 w-3.5 text-blue-500"}),l.jsx("span",{className:`text-xs ${w(N,"text","secondary")}`,children:"Total Products"})]}),l.jsx("p",{className:`text-sm font-medium mt-1 ${w(N,"text","primary")}`,children:F.totalProducts})]}),l.jsxs("div",{className:`p-3 rounded-lg ${w(N,"background","accent")}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_Y,{className:"h-3.5 w-3.5 text-green-500"}),l.jsx("span",{className:`text-xs ${w(N,"text","secondary")}`,children:"Total Inventory Value"})]}),l.jsxs("p",{className:`text-sm font-medium mt-1 ${w(N,"text","primary")}`,children:[_,F.totalValue.toLocaleString()]})]})]}),l.jsxs("div",{className:`p-3 rounded-lg ${w(N,"background","accent")}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(e$,{className:"h-3.5 w-3.5 text-purple-500"}),l.jsx("span",{className:`text-xs ${w(N,"text","secondary")}`,children:"Category Distribution"})]}),l.jsx("div",{className:"h-[180px]",children:l.jsx(J9,{width:"100%",height:"100%",children:l.jsxs(hU,{children:[l.jsx(Ho,{data:F.categoryDistribution,cx:"50%",cy:"50%",innerRadius:35,outerRadius:70,paddingAngle:5,dataKey:"value",children:F.categoryDistribution.map((Q,E)=>l.jsx(F2,{fill:I[E%I.length]},`cell-${E}`))}),l.jsx(Rs,{})]})})})]})]}),b&&l.jsx("div",{className:"fixed inset-y-0 right-0 z-50 w-[85vw] sm:w-[350px] bg-white dark:bg-gray-800 shadow-xl",children:l.jsx(iCe,{product:b,onClose:Y,onUpdate:M})}),d&&l.jsx("div",{className:"fixed inset-y-0 right-0 z-50 w-[500px] bg-white dark:bg-gray-800 shadow-xl",children:l.jsx(aCe,{onClose:()=>f(!1),onSuccess:M})})]})}function rIe(){var Z,re;const{theme:e,getThemeStyle:t}=Ht(),[r,n]=_D(),[a,i]=L.useState([]),[s,o]=L.useState([]),[c,u]=L.useState(!0),[d,f]=L.useState(""),[h,p]=L.useState("all"),[m,g]=L.useState(r.get("showCreateForm")==="true"),[x,v]=L.useState(null),[b,y]=L.useState(!1),[C,S]=L.useState(!1),[T,N]=L.useState(new Date),[w,_]=L.useState("week"),[P,A]=L.useState(!1),[j,F]=L.useState(!1),{organization:M}=Zt(),{confirm:H,addToast:q}=Tr(),Y=M!=null&&M.currency?((Z=tn[M.currency])==null?void 0:Z.symbol)||M.currency:"";L.useEffect(()=>{const O=()=>{A(window.innerWidth<640)};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]),L.useEffect(()=>{const O=de=>{de.target.closest(".status-dropdown-container")||F(!1)};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[]);const X=()=>{const O=new Date(T);switch(w){case"day":return{start:new Date(new Date(O).setHours(0,0,0,0)),end:new Date(new Date(O).setHours(23,59,59,999))};case"week":return{start:Js(O,{weekStartsOn:1}),end:Yh(O,{weekStartsOn:1})};case"month":return{start:Ng(O),end:Sg(O)};case"year":return{start:zh(O),end:jg(O)}}},{start:I,end:J}=X(),Q=O=>{N(de=>{const ce=new Date(de);switch(w){case"day":return O==="prev"?Sl(ce,-1):Sl(ce,1);case"week":return O==="prev"?Tc(ce,-1):Tc(ce,1);case"month":return O==="prev"?Nl(ce,-1):Nl(ce,1);case"year":return O==="prev"?Ec(ce,-1):Ec(ce,1)}})},E=O=>{_(O)};L.useEffect(()=>{M&&U()},[M==null?void 0:M.id]),L.useEffect(()=>{M&&R()},[M,T,w,a,h,d]),L.useEffect(()=>{g(r.get("showCreateForm")==="true")},[r]);const R=()=>{if(!a.length)return;const O=a.filter(de=>{var Te,Ee,$e;const ce=!d||((Te=de.order_number)==null?void 0:Te.toLowerCase().includes(d.toLowerCase()))||(($e=(Ee=de.client)==null?void 0:Ee.name)==null?void 0:$e.toLowerCase().includes(d.toLowerCase())),pe=h==="all"||de.payment_status===h;if(d)return ce&&pe;const K=new Date(de.created_at);return K>=I&&K<=J&&pe&&ce});o(O)},U=async()=>{if(M!=null&&M.id)try{const{data:O,error:de}=await We.from("sales_orders").select(`
          *,
          client:clients(name, image_url),
          items:sales_order_items(
            id,
            product_id,
            name,
            quantity,
            unit_price,
            total_price,
            is_custom_item,
            product:products(*)
          )
        `).eq("organization_id",M.id).order("created_at",{ascending:!1});if(de)throw de;i(O||[])}catch(O){console.error("Error loading orders:",O),q({type:"error",title:"Error",message:"Failed to load orders"})}finally{u(!1)}},z=O=>{v(O),S(!0)},G=O=>{f(O)},ae=O=>O==="all"?`All (${s.length})`:`${Hx[O]} (${s.filter(de=>de.payment_status===O).length})`,ee=O=>{if(!O)return"";const de=O.split(" ");return de.length===1?de[0].charAt(0).toUpperCase():(de[0].charAt(0)+de[1].charAt(0)).toUpperCase()},W=O=>{const de=["bg-blue-500","bg-pink-500","bg-purple-500","bg-green-500","bg-yellow-500","bg-red-500","bg-indigo-500","bg-teal-500"];if(!O)return de[0];let ce=0;for(let pe=0;pe<O.length;pe++)ce=O.charCodeAt(pe)+((ce<<5)-ce);return de[Math.abs(ce)%de.length]};return c?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsxs("div",{className:`space-y p-4 min-h-screen ${t(e,"background","primary")}`,children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-6",children:[l.jsx("h1",{className:`text-xl sm:text-2xl font-medium ${t(e,"text","primary")}`,children:"Sales Orders"}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto",children:[l.jsx("div",{className:"relative w-full sm:w-auto sm:ml-2",children:l.jsxs("div",{className:`flex items-center px-3 py-1.5 border rounded-lg ${t(e,"border","primary")} ${t(e,"background","primary")}`,children:[l.jsx(Vc,{className:`h-4 w-4 ${t(e,"text","accent")}`}),l.jsx("input",{type:"text",value:d,onChange:O=>G(O.target.value),placeholder:"Search orders...",className:`ml-2 flex-1 outline-none text-sm ${t(e,"background","primary")} ${t(e,"text","primary")}`})]})}),l.jsx("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:l.jsxs("button",{onClick:()=>g(!0),className:"inline-flex items-center justify-center px-3 py-1.5 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200 flex-1 sm:flex-none",children:[l.jsx(Hn,{className:"h-4 w-4 mr-1"}),"Create"]})})]})]}),l.jsxs("div",{className:`${t(e,"background","primary")} rounded-lg overflow-hidden`,children:[l.jsxs("div",{className:"px-4 py-3 space-y-3",children:[l.jsx("div",{className:"flex items-center justify-center sm:justify-between",children:l.jsx(Ag,{currentDate:T,dateFilterType:w,onDateChange:Q,onFilterTypeChange:E,itemCount:s.length,itemLabel:"orders"})}),l.jsxs("div",{className:`border-b ${t(e,"border","primary")} -mb-3`,children:[l.jsxs("div",{className:"block sm:hidden status-dropdown-container",children:[l.jsxs("button",{onClick:()=>F(!j),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md ${t(e,"background","secondary")} ${t(e,"border","primary")}`,children:[l.jsx("span",{className:`text-sm font-medium ${t(e,"text","primary")}`,children:ae(h)}),l.jsx(kl,{className:`h-4 w-4 ${t(e,"text","muted")} transition-transform ${j?"rotate-180":""}`})]}),j&&l.jsx("div",{className:`absolute z-10 mt-1 w-full rounded-md shadow-lg ${t(e,"background","secondary")} ${t(e,"border","primary")} border`,children:l.jsxs("div",{className:"py-1",children:[l.jsxs("button",{onClick:()=>{p("all"),F(!1)},className:`block w-full text-left px-3 py-2 text-sm ${h==="all"?"bg-blue-50 text-blue-700":t(e,"text","primary")}`,children:["All (",s.length,")"]}),Object.entries(Hx).map(([O,de])=>l.jsxs("button",{onClick:()=>{p(O),F(!1)},className:`block w-full text-left px-3 py-2 text-sm ${h===O?"bg-blue-50 text-blue-700":t(e,"text","primary")}`,children:[de," (",s.filter(ce=>ce.payment_status===O).length,")"]},O))]})})]}),l.jsxs("nav",{className:"hidden sm:flex -mb-px space-x-2","aria-label":"Tabs",children:[l.jsxs("button",{onClick:()=>p("all"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-xs ${h==="all"?"border-blue-500 text-blue-600":`border-transparent ${t(e,"text","muted")} hover:text-gray-900 dark:hover:text-gray-100 hover:border-gray-300`}`,children:["All",l.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${h==="all"?"bg-blue-100 text-blue-800":`${t(e,"background","accent")} ${t(e,"text","tertiary")}`}`,children:s.length})]}),Object.entries(Hx).map(([O,de])=>l.jsxs("button",{onClick:()=>p(O),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-xs ${h===O?"border-blue-500 text-blue-600":`border-transparent ${t(e,"text","muted")} hover:text-gray-900 dark:hover:text-gray-100 hover:border-gray-300`}`,children:[de,l.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${h===O?"bg-blue-100 text-blue-800":`${t(e,"background","accent")} ${t(e,"text","tertiary")}`}`,children:s.filter(ce=>ce.payment_status===O).length})]},O))]})]})]}),l.jsx("div",{className:"overflow-x-auto px-4 py-2",children:s.length===0?l.jsx("div",{className:`text-center ${t(e,"text","muted")} py-6`,children:d||h!=="all"?"No orders found matching your search.":"No orders created yet. Start by creating a new order."}):l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:s.map(O=>{var de,ce,pe,K,ne,Te,Ee;return l.jsx(Rr,{to:`/dashboard/sales/${O.id}`,className:"block",children:l.jsx("div",{className:`h-full border-l-4 border rounded-lg overflow-hidden hover:bg-gray-100 dark:hover:bg-gray-700 transition-shadow ${O.payment_status==="unpaid"?"border-l-red-500":O.payment_status==="partially_paid"?"border-l-orange-500":O.payment_status==="cancelled"?"border-l-gray-500":"border-l-green-500"} ${t(e,"border","secondary")}`,children:l.jsxs("div",{className:`px-4 py-2 ${O.payment_status==="cancelled"?"line-through":""}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 mr-3",children:(de=O.client)!=null&&de.image_url?l.jsx("img",{src:O.client.image_url,alt:((ce=O.client)==null?void 0:ce.name)||"Client",className:"h-8 w-8 rounded-full object-cover"}):l.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${W(((pe=O.client)==null?void 0:pe.name)||"")} text-white font-medium`,children:ee(((K=O.client)==null?void 0:K.name)||"")})}),l.jsxs("div",{children:[l.jsx("h3",{className:`text-base font-semibold ${t(e,"text","primary")}`,children:((ne=O.client)==null?void 0:ne.name)||"Unknown Client"}),l.jsx("p",{className:`text-xs ${t(e,"text","muted")}`,children:O.items&&O.items.length>0?(((Te=O.items[0])==null?void 0:Te.name)||"Unknown Item")+(O.items.length>1?` (+${O.items.length-1})`:""):"No items"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-blue-600",children:O.order_number}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:$e=>{$e.preventDefault(),$e.stopPropagation(),z(O)},className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"Print Receipt",children:l.jsx(_g,{className:"h-4 w-4"})}),O.payment_status!=="paid"&&O.payment_status!=="cancelled"&&l.jsx("button",{onClick:$e=>{$e.preventDefault(),$e.stopPropagation(),v(O),y(!0)},className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",title:"Record Payment",children:l.jsx(Yc,{className:"h-4 w-4"})})]})]})]}),l.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center py-2 border-t border-b ${t(e,"border","primary")}`,children:[l.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[l.jsx(Co,{className:"h-3.5 w-3.5"}),l.jsxs("span",{children:["Created: ",St(new Date(O.created_at),"MMM d, yyyy")]})]}),l.jsx("span",{className:`inline-flex mt-[4px] items-center px-2.5 py-0.5 rounded-full w-fit text-xs font-medium ${xA[O.payment_status].bg} ${xA[O.payment_status].text}`,children:Hx[O.payment_status]})]}),l.jsxs("div",{className:"flex justify-between sm:items-start pt-2",children:[l.jsx("div",{className:"mb-2 sm:mb-0 max-w-[60%]",children:l.jsxs("div",{className:"space-y-1",children:[(Ee=O.items)==null?void 0:Ee.slice(0,2).map($e=>l.jsxs("div",{className:"flex items-center text-xs",children:[$e!=null&&$e.image_url?l.jsx("img",{src:$e.image_url,alt:($e==null?void 0:$e.name)||"Product",className:"h-[20px] w-[20px] mr-1.5 rounded-full object-cover"}):l.jsx(ca,{className:`h-3.5 w-3.5 ${t(e,"text","accent")} mr-1.5`}),l.jsx("span",{className:t(e,"text","primary"),children:$e.name}),l.jsxs("span",{className:`ml-1.5 ${t(e,"text","muted")}`,children:[" ",$e.quantity]})]},$e.id)),O.items&&O.items.length>2&&l.jsxs("div",{className:`text-xs ${t(e,"text","muted")}`,children:["+",O.items.length-2," more items"]})]})}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:`text-sm font-medium ${t(e,"text","primary")}`,children:[Y," ",O.total_amount.toFixed(2)]}),l.jsxs("div",{className:`text-xs ${O.payment_status==="paid"?"text-green-600":O.payment_status==="partially_paid"?"text-red-600":O.payment_status==="cancelled"?"text-gray-600":"text-red-600"}`,children:[Y," ",O.outstanding_balance.toFixed(2),l.jsx("span",{className:`ml-1 hidden sm:block ${t(e,"text","tertiary")} text-xs`,children:O.payment_status==="paid"?"(Paid)":O.payment_status==="partially_paid"?"(Outstanding)":O.payment_status==="cancelled"?"(Cancelled)":"(Unpaid)"})]})]})})]})]})})},O.id)})})})]}),m&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",children:l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:`fixed inset-0 ${t(e,"modal","overlay")} transition-opacity`,onClick:()=>{g(!1),r.delete("showCreateForm"),n(r)}}),l.jsx("div",{className:"fixed inset-y-0 right-0 flex max-w-full pl-10 pointer-events-none",children:l.jsx("div",{className:`pointer-events-auto w-screen max-w-[450px] transform transition ease-in-out duration-300 ${m?"translate-x-0":"translate-x-full"}`,children:l.jsx("div",{className:`h-full ${t(e,"modal","background")} shadow-xl`,children:l.jsx(w7,{onClose:()=>{g(!1),r.delete("showCreateForm"),n(r)},onSuccess:U})})})})]})}),b&&x&&l.jsx(Zf,{orderId:x.id,orderNumber:x.order_number,clientName:(re=x.client)==null?void 0:re.name,outstandingBalance:x.outstanding_balance,onPaymentRecorded:U,isOpen:b,onClose:()=>{y(!1),v(null)},currencySymbol:Y,orderType:"sales_order"}),C&&x&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[l.jsx("div",{className:`fixed inset-0 ${t(e,"modal","overlay")} transition-opacity`,onClick:()=>{S(!1),v(null)}}),l.jsx("div",{className:`relative transform overflow-hidden rounded-xl ${t(e,"modal","background")} text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg`,children:l.jsx(b7,{orderId:x.id,onClose:()=>{S(!1),v(null)}})})]})})]})}const pU=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:i="Confirm",cancelText:s="Cancel",confirmButtonClass:o="bg-red-600 hover:bg-red-700"})=>{const{theme:c}=Ht();return e?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:l.jsx("div",{className:`absolute inset-0 ${nt(c,"modal","overlay")}`})}),l.jsxs("div",{className:`inline-block align-bottom ${nt(c,"modal","background")} rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full`,children:[l.jsxs("div",{className:`flex items-center justify-between px-6 py-4 border-b ${nt(c,"border","primary")}`,children:[l.jsx("h3",{className:`text-lg font-semibold ${nt(c,"text","primary")}`,children:n}),l.jsx("button",{onClick:t,className:`${nt(c,"text","muted")} ${nt(c,"interactive","hover","text")}`,children:l.jsx(cr,{className:"h-5 w-5"})})]}),l.jsx("div",{className:"px-6 py-4",children:l.jsx("p",{className:`text-sm ${nt(c,"text","secondary")}`,children:a})}),l.jsxs("div",{className:"flex justify-end space-x-3 px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:[l.jsx("button",{type:"button",onClick:t,className:`px-4 py-2 border ${nt(c,"border","primary")} rounded-md text-sm font-medium ${nt(c,"text","secondary")} ${nt(c,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:s}),l.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${o} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:i})]})]})]})}):null};function nIe(){var T;const{id:e}=F1(),[t,r]=L.useState(null),[n,a]=L.useState(!0),[i,s]=L.useState(!1),[o,c]=L.useState(!1),[u,d]=L.useState(!1),[f,h]=L.useState(null),[p,m]=L.useState(""),{organization:g}=Zt(),{addToast:x}=Tr(),{theme:v}=Ht(),b=g!=null&&g.currency?((T=tn[g.currency])==null?void 0:T.symbol)||g.currency:tn.USD.symbol;L.useEffect(()=>{e&&y()},[e]);const y=async()=>{try{const{data:N,error:w}=await We.from("sales_orders").select(`
          *,
          client:clients(name),
          items:sales_order_items(
            id,
            product_id,
            name,
            quantity,
            unit_price,
            total_price,
            is_custom_item,
            product:products(
              id,
              name,
              stock_quantity
            )
          )
        `).eq("id",e).single();if(w)throw w;const{data:_,error:P}=await We.from("payments").select("*").eq("reference_type","sales_order").eq("reference_id",e);if(P)throw P;r({...N,payments:_||[]})}catch(N){console.error("Error loading order:",N),x({type:"error",title:"Error",message:"Failed to load order details"})}finally{a(!1)}},C=async N=>{try{const{error:w}=await We.from("sales_orders").update({status:"cancelled",payment_status:"cancelled"}).eq("id",N);if(w)throw w;const{error:_}=await We.from("payments").update({status:"cancelled"}).eq("reference_type","sales_order").eq("reference_id",N);if(_)throw _;x({type:"success",title:"Order Cancelled",message:"The order and all associated payments have been cancelled successfully."}),await y()}catch(w){console.error("Error cancelling order:",w),x({type:"error",title:"Error",message:"Failed to cancel order. Please try again."})}},S=async(N,w)=>{try{const{error:_}=await We.from("payments").update({status:"cancelled",cancelled_at:new Date().toISOString(),cancelled_by:(g==null?void 0:g.id)||null,cancellation_reason:w}).eq("id",N);if(_)throw _;const{data:P,error:A}=await We.from("payments").select("amount").eq("id",N).single();if(A)throw A;const{error:j}=await We.from("sales_orders").update({outstanding_balance:t.outstanding_balance+P.amount}).eq("id",t.id);if(j)throw j;await y(),x({type:"success",title:"Payment Cancelled",message:"The payment has been cancelled successfully and the outstanding balance has been updated."}),d(!1),h(null),m("")}catch(_){console.error("Error cancelling payment:",_),x({type:"error",title:"Error",message:"Failed to cancel the payment"})}};return n?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t?l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Rr,{to:"/dashboard/sales",className:`${nt(v,"text","muted")} ${nt(v,"interactive","hover","text")}`,children:l.jsx(Gu,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsxs("h2",{className:`text-xl font-semibold ${t.status==="cancelled"?"text-gray-400 line-through":nt(v,"text","primary")}`,children:["Order ",t.order_number]}),l.jsxs("p",{className:`text-sm ${nt(v,"text","muted")} mt-0.5`,children:["Created on ",St(new Date(t.created_at),"MMM d, yyyy HH:mm")]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mt-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[l.jsxs("div",{className:`${nt(v,"background","secondary")} rounded-lg overflow-hidden ${t.status==="cancelled"?"opacity-75":""}`,children:[l.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:l.jsx("h3",{className:`text-sm font-medium ${nt(v,"text","primary")}`,children:"Client Information"})}),l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Qf,{className:`h-4 w-4 ${nt(v,"text","muted")}`}),l.jsx("span",{className:`text-sm font-medium ${nt(v,"text","primary")} ${t.status==="cancelled"?"line-through text-gray-400":""}`,children:t.client.name})]})})]}),l.jsxs("div",{className:`${nt(v,"background","secondary")} rounded-lg overflow-hidden ${t.status==="cancelled"?"opacity-75":""}`,children:[l.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:l.jsx("h3",{className:`text-sm font-medium ${nt(v,"text","primary")}`,children:"Order Items"})}),l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"space-y-2",children:t.items.map(N=>l.jsxs("div",{className:`flex items-center justify-between p-3 ${nt(v,"background","primary")} rounded-md ${t.status==="cancelled"?"line-through text-gray-400":""}`,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(ca,{className:`h-4 w-4 ${nt(v,"text","muted")}`}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${nt(v,"text","primary")}`,children:N.name}),l.jsxs("p",{className:`text-xs ${nt(v,"text","muted")}`,children:["Quantity: ",N.quantity,"  ",b," ",N.unit_price.toFixed(2)]})]})]}),l.jsxs("div",{className:`text-sm font-medium ${nt(v,"text","primary")}`,children:[b," ",N.total_price.toFixed(2)]})]},N.id))}),l.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-gray-700",children:l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:`font-medium ${nt(v,"text","primary")}`,children:"Total Amount"}),l.jsxs("span",{className:`font-bold ${t.status==="cancelled"?"line-through text-gray-400":nt(v,"text","primary")}`,children:[b," ",t.total_amount.toFixed(2)]})]})})]})]}),t.notes&&l.jsxs("div",{className:`${nt(v,"background","secondary")} rounded-lg overflow-hidden ${t.status==="cancelled"?"opacity-75":""}`,children:[l.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:l.jsx("h3",{className:`text-sm font-medium ${nt(v,"text","primary")}`,children:"Notes"})}),l.jsx("div",{className:"p-4",children:l.jsx("p",{className:`text-sm ${nt(v,"text","muted")} ${t.status==="cancelled"?"line-through text-gray-400":""}`,children:t.notes})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:`${nt(v,"background","secondary")} rounded-lg overflow-hidden ${t.status==="cancelled"?"opacity-75":""}`,children:[l.jsx("div",{className:`py-4 ${nt(v,"border","primary")}`,children:l.jsx("div",{className:"flex items-center justify-between px-4",children:l.jsxs("h3",{className:`text-base font-semibold ${nt(v,"text","primary")} flex items-center`,children:[l.jsx(la,{className:`h-5 w-5 mr-2 ${nt(v,"text","muted")}`}),"Payment Details |  ",l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                    ${t.payment_status==="paid"?"bg-green-100 text-green-800":t.payment_status==="partially_paid"?"bg-yellow-100 text-yellow-800":(t.payment_status==="cancelled","bg-red-100 text-red-800")}`,children:t.payment_status==="paid"?"Paid":t.payment_status==="partially_paid"?"Partially Paid":t.payment_status==="cancelled"?"Cancelled":"Unpaid"})]})})}),l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"border-l-4 border-blue-500 rounded-xs py-2 px-4",children:[l.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Total Amount"}),l.jsxs("p",{className:`text-lg font-bold ${t.status==="cancelled"?"line-through text-gray-400":"text-blue-900"}`,children:[b," ",t.total_amount.toFixed(2)]})]}),l.jsxs("div",{className:"border-l-4 border-green-500 rounded-xs py-2 px-4",children:[l.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Amount Paid"}),l.jsxs("p",{className:`text-lg font-bold ${t.status==="cancelled"?"line-through text-gray-400":"text-green-900"}`,children:[b," ",(t.total_amount-t.outstanding_balance).toFixed(2)]})]}),l.jsxs("div",{className:"border-l-4 border-orange-500 rounded-xs py-2 px-4",children:[l.jsx("p",{className:"text-xs text-orange-600 font-medium",children:"Outstanding Balance"}),l.jsxs("p",{className:`text-lg font-bold ${t.status==="cancelled"?"line-through text-gray-400":"text-orange-900"}`,children:[b," ",t.outstanding_balance.toFixed(2)]})]})]}),t.payment_status!=="paid"&&t.status!=="cancelled"&&l.jsxs("button",{onClick:()=>s(!0),className:"w-full inline-flex items-center justify-center px-3 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsx(Yc,{className:"h-4 w-4 mr-2"}),"Record Payment"]}),l.jsxs("div",{children:[l.jsx("h4",{className:`text-sm font-semibold ${nt(v,"text","primary")}`,children:"Payment History"}),t.payments&&t.payments.length>0?l.jsx("div",{className:`divide-y ${nt(v,"border","primary")}`,children:t.payments.map(N=>l.jsxs("div",{className:`py-2 px flex flex-col space-y-1 ${N.status==="cancelled"?"opacity-75":""}`,children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("p",{className:`text-xs font-medium ${N.status==="cancelled"?"line-through text-gray-400":nt(v,"text","primary")}`,children:[b," ",N.amount.toFixed(2)]}),N.status==="cancelled"&&l.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Cancelled"})]}),l.jsx("p",{className:`text-xs ${N.status==="cancelled"?"line-through text-gray-400":nt(v,"text","muted")}`,children:St(new Date(N.created_at),"MMM d, yyyy h:mm a")})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("p",{className:`text-xs ${N.status==="cancelled"?"line-through text-gray-400":nt(v,"text","muted")} truncate`,children:[N.payment_method,"  ",N.transaction_reference]}),N.status!=="cancelled"&&l.jsx("button",{onClick:()=>{h(N),d(!0)},className:"text-xs text-red-600 hover:text-red-800",children:"Cancel"})]}),N.status==="cancelled"&&N.cancellation_reason&&l.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Reason: ",N.cancellation_reason]})]},N.id))}):l.jsx("p",{className:`text-xs ${nt(v,"text","muted")} italic`,children:"No payments recorded yet"})]})]})})]}),t.status!=="cancelled"&&l.jsxs("div",{className:`${nt(v,"background","secondary")} rounded-lg overflow-hidden`,children:[l.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:l.jsx("h3",{className:`text-sm font-medium ${nt(v,"text","primary")}`,children:"Danger Zone"})}),l.jsx("div",{className:"p-4",children:l.jsxs("button",{onClick:()=>c(!0),className:"w-full inline-flex items-center justify-center px-3 py-2 text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[l.jsx(gi,{className:"h-4 w-4 mr-2"}),"Cancel Order"]})})]})]})]}),i&&l.jsx(Zf,{orderId:t.id,orderType:"sales_order",orderNumber:t.order_number,clientName:t.client.name,outstandingBalance:t.outstanding_balance,onPaymentRecorded:y,isOpen:i,onClose:()=>s(!1),currencySymbol:b}),l.jsx(pU,{isOpen:o,onClose:()=>c(!1),onConfirm:()=>{C(t.id),c(!1)},title:"Cancel Order",message:"Are you sure you want to cancel this order? This action cannot be undone and will cancel all associated payments.",confirmText:"Yes, Cancel Order",cancelText:"No, Keep Order",confirmButtonClass:"bg-red-600 hover:bg-red-700"}),u&&f&&l.jsx("div",{className:`fixed inset-0 ${nt(v,"modal","overlay")} flex items-center justify-center z-50 p-4`,children:l.jsxs("div",{className:`${nt(v,"modal","background")} rounded-lg p-6 max-w-md w-full mx-4`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:`text-base font-medium ${nt(v,"text","primary")}`,children:"Cancel Payment"}),l.jsx("button",{onClick:()=>{d(!1),h(null),m("")},className:`${nt(v,"text","accent")} hover:${nt(v,"text","muted")}`,children:l.jsx(cr,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"cancellation-reason",className:`block text-xs font-medium ${nt(v,"text","secondary")} mb-1`,children:"Reason for Cancellation"}),l.jsx("textarea",{id:"cancellation-reason",value:p,onChange:N=>m(N.target.value),className:`w-full px-3 py-2 border ${nt(v,"border","primary")} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs`,rows:3,placeholder:"Please provide a reason for cancelling this payment..."})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>{d(!1),h(null),m("")},className:`px-4 py-2 text-xs font-medium ${nt(v,"text","secondary")} ${nt(v,"background","primary")} border ${nt(v,"border","primary")} rounded-md ${nt(v,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:"Cancel"}),l.jsx("button",{onClick:()=>S(f.id,p),disabled:!p.trim(),className:"px-4 py-2 text-xs font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm Cancellation"})]})]})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:`${nt(v,"text","muted")}`,children:"Order not found."}),l.jsxs(Rr,{to:"/dashboard/sales",className:`mt-4 inline-flex items-center ${nt(v,"text","accent")} ${nt(v,"interactive","hover","text")}`,children:[l.jsx(Gu,{className:"h-4 w-4 mr-2"}),"Back to Sales Orders"]})]})}function aIe({onClose:e,onSuccess:t}){const[r,n]=L.useState(""),{addToast:a}=Tr(),{organization:i}=Zt(),{theme:s,getThemeStyle:o}=Ht(),c=async u=>{if(u.preventDefault(),!!(i!=null&&i.id))try{const{error:d}=await We.from("categories").insert([{name:r,organization_id:i.id}]);if(d)throw d;a({type:"success",title:"Category Created",message:"The category has been created successfully."}),t(),e()}catch(d){console.error("Error creating category:",d),a({type:"error",title:"Error",message:"Failed to create category"})}};return l.jsxs("form",{onSubmit:c,className:`p-6 ${o(s,"modal","background")}`,children:[l.jsx("h2",{className:`text-lg font-bold mb-4 ${o(s,"text","primary")}`,children:"Create New Category"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:`block text-sm font-medium ${o(s,"text","secondary")}`,children:"Category Name"}),l.jsx("input",{type:"text",value:r,onChange:u=>n(u.target.value),className:`mt-1 block w-full h-8 border p-2 rounded-md ${o(s,"border","primary")} shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 ${o(s,"background","primary")} ${o(s,"text","primary")}`,required:!0})]}),l.jsxs("div",{className:"flex justify-end",children:[l.jsx("button",{type:"button",onClick:e,className:`mr-2 inline-flex justify-center py-2 px-4 border ${o(s,"border","primary")} shadow-sm text-sm font-medium rounded-md ${o(s,"text","secondary")} ${o(s,"background","primary")} ${o(s,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500`,children:"Cancel"}),l.jsx("button",{type:"submit",className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md ${o(s,"text","inverse")} bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:"Create"})]})]})}function iIe({category:e,onClose:t,onSuccess:r}){const[n,a]=L.useState(e.name),{addToast:i}=Tr(),{theme:s,getThemeStyle:o}=Ht(),c=async u=>{u.preventDefault();try{const{error:d}=await We.from("categories").update({name:n}).eq("id",e.id);if(d)throw d;i({type:"success",title:"Category Updated",message:"The category has been updated successfully."}),r(),t()}catch(d){console.error("Error updating category:",d),i({type:"error",title:"Error",message:"Failed to update category"})}};return l.jsxs("form",{onSubmit:c,className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-bold",children:"Edit Category"}),l.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-500",children:l.jsx(cr,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:`block text-sm font-medium ${o(s,"text","primary")} mb-2`,children:"Category Name"}),l.jsx("input",{type:"text",value:n,onChange:u=>a(u.target.value),className:`mt-1 p-2 h-8 block w-full border rounded-md shadow-sm ${o(s,"background","primary")} ${o(s,"text","primary")} ${o(s,"border","primary")} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,required:!0})]}),l.jsxs("div",{className:"flex justify-end",children:[l.jsx("button",{type:"button",onClick:t,className:"mr-2 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),l.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Update"})]})]})}function sIe({categoryToDelete:e,categories:t,onClose:r,onSuccess:n}){const[a,i]=L.useState(""),[s,o]=L.useState(!1),{organization:c}=Zt(),{addToast:u}=Tr(),{theme:d,getThemeStyle:f}=Ht(),h=t.filter(m=>m.id!==e.id),p=async()=>{if(!(!a||!(c!=null&&c.id))){o(!0);try{const{error:m}=await We.from("products").update({category:a}).eq("organization_id",c.id).eq("category",e.name);if(m)throw m;const{error:g}=await We.from("categories").delete().eq("id",e.id);if(g)throw g;u({type:"success",title:"Success",message:"Products reassigned and category deleted successfully"}),n(),r()}catch(m){console.error("Error reassigning products:",m),u({type:"error",title:"Error",message:"Failed to reassign products and delete category"})}finally{o(!1)}}};return l.jsxs("div",{className:`h-full flex flex-col ${f(d,"background","primary")}`,children:[l.jsxs("div",{className:`flex justify-between items-center p-4 border-b ${f(d,"border","primary")}`,children:[l.jsx("h2",{className:`text-sm font-medium ${f(d,"text","primary")}`,children:"Reassign Products"}),l.jsx("button",{onClick:r,className:`p-1.5 rounded-md ${f(d,"background","accent")} ${f(d,"text","muted")} hover:${f(d,"text","primary")}`,children:l.jsx(cr,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("p",{className:`text-xs ${f(d,"text","primary")}`,children:["The category ",l.jsx("span",{className:"font-medium",children:e.name})," has products associated with it. Please select a new category to reassign these products before deleting."]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium mb-1 ${f(d,"text","muted")}`,children:"Select New Category"}),l.jsxs("select",{value:a,onChange:m=>i(m.target.value),className:`w-full px-3 py-2 rounded-md border text-sm ${f(d,"border","primary")} ${f(d,"background","primary")} ${f(d,"text","primary")}`,children:[l.jsx("option",{value:"",children:"Select a category"}),h.map(m=>l.jsx("option",{value:m.name,children:m.name},m.id))]})]})]})}),l.jsxs("div",{className:`flex justify-end gap-2 p-4 border-t ${f(d,"border","primary")}`,children:[l.jsx("button",{type:"button",onClick:r,className:`px-3 py-1.5 text-xs font-medium ${f(d,"text","primary")} hover:${f(d,"text","secondary")}`,children:"Cancel"}),l.jsx("button",{onClick:p,disabled:s||!a,className:"inline-flex items-center px-3 py-1.5 border border-transparent rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:bg-gray-400",children:s?l.jsx(mi,{className:"h-3.5 w-3.5 animate-spin"}):"Reassign & Delete"})]})]})}function oIe(){const[e,t]=L.useState([]),[r,n]=L.useState([]),[a,i]=L.useState(!0),[s,o]=L.useState(""),[c,u]=L.useState(!1),[d,f]=L.useState(null),[h,p]=L.useState(null),{organization:m}=Zt(),{confirm:g,addToast:x}=Tr(),{theme:v,getThemeStyle:b}=Ht();L.useEffect(()=>{m&&(C(),y())},[m]);const y=async()=>{if(m!=null&&m.id)try{const{data:w,error:_}=await We.from("products").select("*").eq("organization_id",m.id);if(_)throw _;n(w||[])}catch(w){console.error("Error loading products:",w),x({type:"error",title:"Error",message:"Failed to load products"})}},C=async()=>{if(m!=null&&m.id)try{const{data:w,error:_}=await We.from("categories").select("*").eq("organization_id",m.id).order("name");if(_)throw _;const P=await Promise.all(w.map(async A=>{const{count:j,error:F}=await We.from("products").select("*",{count:"exact",head:!0}).eq("organization_id",m.id).eq("category",A.name);if(F)throw F;return{id:A.id,name:A.name,product_count:j||0}}));t(P)}catch(w){console.error("Error loading categories:",w),x({type:"error",title:"Error",message:"Failed to load categories"})}finally{i(!1)}},S=async(w,_)=>{if(r.some(j=>j.category===_)){const j=e.find(F=>F.id===w);j&&p(j);return}if(await g({title:"Delete Category",message:"Are you sure you want to delete this category? This action cannot be undone.",type:"danger",confirmText:"Delete",cancelText:"Cancel"}))try{const{error:j}=await We.from("categories").delete().eq("id",w);if(j)throw j;t(F=>F.filter(M=>M.id!==w)),x({type:"success",title:"Category Deleted",message:"Category has been deleted successfully."})}catch(j){console.error("Error deleting category:",j),x({type:"error",title:"Error",message:"Failed to delete category"})}},T=e.filter(w=>w.name.toLowerCase().includes(s.toLowerCase())),N=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];return a?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 p-4",children:[l.jsxs("div",{className:"flex-1 space-y-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsx("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:l.jsxs("div",{className:`flex items-center px-2 py-1.5 border rounded-md focus-within:ring-1 focus-within:ring-blue-500 focus-within:border-blue-500 flex-1 sm:flex-none ${b(v,"background","primary")}`,children:[l.jsx(Vc,{className:"h-3.5 w-3.5 text-gray-400"}),l.jsx("input",{type:"text",value:s,onChange:w=>o(w.target.value),placeholder:"Search categories...",className:`ml-2 w-full sm:w-64 text-xs outline-none bg-transparent ${b(v,"text","primary")}`})]})}),l.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-2 py-1.5 rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200 w-full sm:w-auto justify-center",children:[l.jsx(Hn,{className:"h-3.5 w-3.5 mr-1"}),"Add Category"]})]}),l.jsx("div",{className:"block lg:hidden space-y-4",children:T.length===0?l.jsx("div",{className:`p-4 text-center text-xs ${b(v,"text","muted")}`,children:"No categories found."}):T.map(w=>l.jsxs("div",{className:`p-4 rounded-lg ${b(v,"background","primary")} border ${b(v,"border","primary")}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`h-8 w-8 rounded-md ${b(v,"background","accent")} flex items-center justify-center`,children:l.jsx(ca,{className:`h-4 w-4 ${b(v,"text","muted")}`})}),l.jsx("span",{className:`text-sm font-medium ${b(v,"text","primary")}`,children:w.name})]}),l.jsxs("span",{className:`px-2 py-0.5 text-xs rounded-md ${b(v,"background","accent")} ${b(v,"text","secondary")}`,children:[w.product_count," ",w.product_count===1?"product":"products"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>f(w),className:`flex-1 p-2 rounded-md ${b(v,"background","accent")} ${b(v,"text","muted")} hover:${b(v,"text","primary")} flex items-center justify-center gap-2`,children:[l.jsx(To,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"text-xs",children:"Edit"})]}),l.jsxs("button",{onClick:()=>S(w.id,w.name),className:`flex-1 p-2 rounded-md ${b(v,"background","accent")} ${b(v,"text","muted")} hover:text-red-500 flex items-center justify-center gap-2`,children:[l.jsx(gi,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"text-xs",children:"Delete"})]})]})]},w.id))}),l.jsx("div",{className:`hidden lg:block ${b(v,"background","primary")}`,children:T.length===0?l.jsx("div",{className:`p-4 text-center text-xs ${b(v,"text","muted")}`,children:"No categories found."}):l.jsxs("table",{className:"min-w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:`border-b ${b(v,"border","primary")}`,children:[l.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${b(v,"text","muted")}`,children:"Category Name"}),l.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${b(v,"text","muted")}`,children:"Products"}),l.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${b(v,"text","muted")}`,children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-opacity-2",children:T.map(w=>l.jsxs("tr",{className:"hover:bg-gray-300 dark:hover:bg-gray-800 transition-colors duration-150",children:[l.jsx("td",{className:"px-4 py-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`h-8 w-8 rounded-md ${b(v,"background","accent")} flex items-center justify-center`,children:l.jsx(ca,{className:`h-4 w-4 ${b(v,"text","muted")}`})}),l.jsx("span",{className:`text-xs font-medium ${b(v,"text","primary")}`,children:w.name})]})}),l.jsx("td",{className:"px-4 py-2",children:l.jsxs("span",{className:`px-2 py-0.5 text-xs rounded-md ${b(v,"background","accent")} ${b(v,"text","secondary")}`,children:[w.product_count," ",w.product_count===1?"product":"products"]})}),l.jsx("td",{className:"px-4 py-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>f(w),className:`p-1.5 rounded-md ${b(v,"background","accent")} ${b(v,"text","muted")} hover:${b(v,"text","primary")}`,children:l.jsx(To,{className:"h-3.5 w-3.5"})}),l.jsx("button",{onClick:()=>S(w.id,w.name),className:`p-1.5 rounded-md ${b(v,"background","accent")} ${b(v,"text","muted")} hover:text-red-500`,children:l.jsx(gi,{className:"h-3.5 w-3.5"})})]})})]},w.id))})]})})]}),l.jsxs("div",{className:`w-full lg:w-[300px] ${b(v,"background","secondary")} rounded-lg p-4 space-y-4`,children:[l.jsx("h3",{className:`text-sm font-medium ${b(v,"text","primary")}`,children:"Category Statistics"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:`p-3 rounded-lg ${b(v,"background","accent")}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ca,{className:"h-3.5 w-3.5 text-blue-500"}),l.jsx("span",{className:`text-xs ${b(v,"text","secondary")}`,children:"Total Categories"})]}),l.jsx("p",{className:`text-sm font-medium mt-1 ${b(v,"text","primary")}`,children:e.length})]}),l.jsxs("div",{className:`p-3 rounded-lg ${b(v,"background","accent")}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(e$,{className:"h-3.5 w-3.5 text-purple-500"}),l.jsx("span",{className:`text-xs ${b(v,"text","secondary")}`,children:"Category Distribution"})]}),l.jsx("div",{className:"h-[180px]",children:l.jsx(J9,{width:"100%",height:"100%",children:l.jsxs(hU,{children:[l.jsx(Ho,{data:e.map(w=>({name:w.name,value:w.product_count})),cx:"50%",cy:"50%",innerRadius:35,outerRadius:70,paddingAngle:5,dataKey:"value",children:e.map((w,_)=>l.jsx(F2,{fill:N[_%N.length]},`cell-${_}`))}),l.jsx(Rs,{})]})})})]})]})]}),c&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>u(!1)}),l.jsx("div",{className:`relative transform overflow-hidden rounded-lg shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-2xl ${b(v,"background","primary")}`,children:l.jsx(aIe,{onClose:()=>u(!1),onSuccess:C})})]})}),d&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>f(null)}),l.jsx("div",{className:`relative transform overflow-hidden rounded-lg shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-2xl ${b(v,"background","primary")}`,children:l.jsx(iIe,{category:d,onClose:()=>f(null),onSuccess:C})})]})}),h&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>p(null)}),l.jsx("div",{className:`relative transform overflow-hidden rounded-lg shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-2xl ${b(v,"background","primary")}`,children:l.jsx(sIe,{categoryToDelete:h,categories:e,onClose:()=>p(null),onSuccess:C})})]})})]})}function lIe({client:e,isOpen:t,onClose:r,onSave:n,isSubmitting:a}){const[i,s]=L.useState(e);if(!t)return null;const o=async c=>{c.preventDefault(),await n(i)};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40 bg-gray-500 bg-opacity-75 transition-opacity",onClick:r}),l.jsx("div",{className:"fixed inset-y-0 right-0 z-50 w-[400px] max-w-full overflow-y-auto bg-white dark:bg-dark-bg-secondary shadow-xl transform transition-transform duration-300 ease-in-out",children:l.jsxs("form",{onSubmit:o,className:"h-full flex flex-col",children:[l.jsxs("div",{className:"flex-1 px-4 pt-5 pb-4 sm:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-dark-text-primary",children:"Edit Client Details"}),l.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:l.jsx(Di,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Name"}),l.jsx("input",{type:"text",value:i.name,onChange:c=>s(u=>({...u,name:c.target.value})),className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary",placeholder:"Enter client name",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Phone"}),l.jsx("input",{type:"tel",value:i.phone||"",onChange:c=>s(u=>({...u,phone:c.target.value})),className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary",placeholder:"Enter phone number"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Address"}),l.jsx("textarea",{value:i.address||"",onChange:c=>s(u=>({...u,address:c.target.value})),rows:3,className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary",placeholder:"Enter client address"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Date of Birth"}),l.jsx("input",{type:"date",value:i.date_of_birth||"",onChange:c=>s(u=>({...u,date_of_birth:c.target.value})),className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary"})]})]})]}),l.jsx("div",{className:"border-t border-gray-200 dark:border-dark-border-primary px-4 py-4 sm:px-6",children:l.jsxs("div",{className:"flex flex-col space-y-3",children:[l.jsx("button",{type:"submit",disabled:a,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm disabled:bg-gray-400 transition-colors duration-200",children:a?l.jsxs(l.Fragment,{children:[l.jsx(mi,{className:"animate-spin h-4 w-4 mr-2"}),"Saving..."]}):"Save Changes"}),l.jsx("button",{type:"button",onClick:r,className:"w-full inline-flex justify-center rounded-lg border border-gray-300 dark:border-dark-border-primary shadow-sm px-4 py-2 bg-white dark:bg-dark-bg-secondary text-base font-medium text-gray-700 dark:text-dark-text-secondary hover:bg-gray-50 dark:hover:bg-dark-bg-tertiary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm transition-colors duration-200",children:"Cancel"})]})})]})})]})}function cIe({isOpen:e,onClose:t,onAdd:r,isSubmitting:n}){const[a,i]=L.useState({title:"",value:"",type:"text",file:null});if(!e)return null;const s=async o=>{o.preventDefault(),await r(a),i({title:"",value:"",type:"text",file:null})};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),l.jsx("div",{className:"fixed inset-y-0 right-0 z-50 w-[300px] max-w-full overflow-y-auto bg-white dark:bg-dark-bg-secondary shadow-xl transform transition-transform duration-300 ease-in-out",children:l.jsxs("form",{onSubmit:s,className:"h-full flex flex-col",children:[l.jsxs("div",{className:"flex-1 px-4 pt-5 pb-4 sm:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-dark-text-primary",children:"Add Custom Field"}),l.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:l.jsx(Di,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Field Title"}),l.jsx("input",{type:"text",value:a.title,onChange:o=>i(c=>({...c,title:o.target.value})),className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary",placeholder:"Enter field title",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Field Type"}),l.jsxs("select",{value:a.type,onChange:o=>i(c=>({...c,type:o.target.value})),className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary",children:[l.jsx("option",{value:"text",children:"Text"}),l.jsx("option",{value:"file",children:"File"})]})]}),a.type==="text"?l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Value"}),l.jsx("input",{type:"text",value:a.value,onChange:o=>i(c=>({...c,value:o.target.value})),className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary",placeholder:"Enter field value",required:!0})]}):l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"File"}),l.jsx("input",{type:"file",onChange:o=>i(c=>{var u;return{...c,file:((u=o.target.files)==null?void 0:u[0])||null}}),className:`mt-1 block w-full text-sm text-gray-500 dark:text-dark-text-tertiary\r
                      file:mr-4 file:py-2 file:px-4\r
                      file:rounded-lg file:border-0\r
                      file:text-sm file:font-medium\r
                      file:bg-blue-50 file:text-blue-700\r
                      dark:file:bg-blue-900/20 dark:file:text-blue-300\r
                      hover:file:bg-blue-100 dark:hover:file:bg-blue-900/30`,required:!0})]})]})]}),l.jsx("div",{className:"border-t border-gray-200 dark:border-dark-border-primary px-4 py-4 sm:px-6",children:l.jsxs("div",{className:"flex flex-col space-y-3",children:[l.jsx("button",{type:"submit",disabled:n,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm disabled:bg-gray-400 transition-colors duration-200",children:n?l.jsxs(l.Fragment,{children:[l.jsx(mi,{className:"animate-spin h-4 w-4 mr-2"}),"Adding..."]}):"Add Field"}),l.jsx("button",{type:"button",onClick:t,className:"w-full inline-flex justify-center rounded-lg border border-gray-300 dark:border-dark-border-primary shadow-sm px-4 py-2 bg-white dark:bg-dark-bg-secondary text-base font-medium text-gray-700 dark:text-dark-text-secondary hover:bg-gray-50 dark:hover:bg-dark-bg-tertiary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm transition-colors duration-200",children:"Cancel"})]})})]})})]})}function uIe({client:e,isOpen:t,onClose:r,onArchive:n,onDelete:a,isSubmitting:i}){return t?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40 bg-gray-500 bg-opacity-75 transition-opacity",onClick:r}),l.jsx("div",{className:"fixed inset-y-0 right-0 z-50 w-[400px] max-w-full overflow-y-auto bg-white dark:bg-dark-bg-secondary shadow-xl transform transition-transform duration-300 ease-in-out",children:l.jsx("div",{className:"h-full flex flex-col",children:l.jsxs("div",{className:"flex-1 px-4 pt-5 pb-4 sm:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-dark-text-primary",children:"Client Options"}),l.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:l.jsx(Di,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-md",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Choose an Action"}),l.jsx("div",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-300",children:l.jsx("p",{children:"Please select whether you want to archive or permanently delete this client."})})]})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{onClick:n,disabled:i,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm disabled:bg-gray-400 transition-colors duration-200",children:i?l.jsxs(l.Fragment,{children:[l.jsx(mi,{className:"animate-spin h-4 w-4 mr-2"}),"Archiving..."]}):"Archive Client"}),l.jsx("button",{onClick:a,disabled:i,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:text-sm disabled:bg-gray-400 transition-colors duration-200",children:i?l.jsxs(l.Fragment,{children:[l.jsx(mi,{className:"animate-spin h-4 w-4 mr-2"}),"Deleting..."]}):"Delete Client Permanently"}),l.jsx("button",{onClick:r,className:"w-full inline-flex justify-center rounded-lg border border-gray-300 dark:border-dark-border-primary shadow-sm px-4 py-2 bg-white dark:bg-dark-bg-secondary text-base font-medium text-gray-700 dark:text-dark-text-secondary hover:bg-gray-50 dark:hover:bg-dark-bg-tertiary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm transition-colors duration-200",children:"Cancel"})]})]})]})})})]}):null}function dIe({field:e,isOpen:t,onClose:r,onSave:n,isSubmitting:a}){const[i,s]=L.useState(e),o=L.useRef(null);if(!t)return null;const c=async u=>{u.preventDefault(),await n(i)};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40 bg-gray-500 bg-opacity-75 transition-opacity",onClick:r}),l.jsx("div",{className:"fixed inset-y-0 right-0 z-50 w-[300px] max-w-full overflow-y-auto bg-white dark:bg-dark-bg-secondary shadow-xl transform transition-transform duration-300 ease-in-out",children:l.jsxs("form",{onSubmit:c,className:"h-full flex flex-col",children:[l.jsxs("div",{className:"flex-1 px-4 pt-5 pb-4 sm:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-dark-text-primary",children:"Edit Custom Field"}),l.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:l.jsx(Di,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Field Title"}),l.jsx("input",{type:"text",value:i.title,onChange:u=>s(d=>({...d,title:u.target.value})),className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary",placeholder:"Enter field title",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Field Type"}),l.jsxs("select",{value:i.type,onChange:u=>s(d=>({...d,type:u.target.value})),className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary",children:[l.jsx("option",{value:"text",children:"Text"}),l.jsx("option",{value:"file",children:"File"})]})]}),i.type==="text"?l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Value"}),l.jsx("input",{type:"text",value:i.value,onChange:u=>s(d=>({...d,value:u.target.value})),className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary",placeholder:"Enter field value",required:!0})]}):l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"File"}),l.jsx("input",{type:"file",ref:o,onChange:u=>{var f;const d=(f=u.target.files)==null?void 0:f[0];d&&s(h=>({...h,value:URL.createObjectURL(d)}))},className:`mt-1 block w-full text-sm text-gray-500 dark:text-dark-text-tertiary\r
                      file:mr-4 file:py-2 file:px-4\r
                      file:rounded-lg file:border-0\r
                      file:text-sm file:font-medium\r
                      file:bg-blue-50 file:text-blue-700\r
                      dark:file:bg-blue-900/20 dark:file:text-blue-300\r
                      hover:file:bg-blue-100 dark:hover:file:bg-blue-900/30`}),i.value&&l.jsx("div",{className:"mt-2",children:l.jsx("a",{href:i.value,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"Current file"})})]})]})]}),l.jsx("div",{className:"border-t border-gray-200 dark:border-dark-border-primary px-4 py-4 sm:px-6",children:l.jsxs("div",{className:"flex flex-col space-y-3",children:[l.jsx("button",{type:"submit",disabled:a,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm disabled:bg-gray-400 transition-colors duration-200",children:a?l.jsxs(l.Fragment,{children:[l.jsx(mi,{className:"animate-spin h-4 w-4 mr-2"}),"Saving..."]}):"Save Changes"}),l.jsx("button",{type:"button",onClick:r,className:"w-full inline-flex justify-center rounded-lg border border-gray-300 dark:border-dark-border-primary shadow-sm px-4 py-2 bg-white dark:bg-dark-bg-secondary text-base font-medium text-gray-700 dark:text-dark-text-secondary hover:bg-gray-50 dark:hover:bg-dark-bg-tertiary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm transition-colors duration-200",children:"Cancel"})]})})]})})]})}function fIe(){var W,Z,re,O,de,ce,pe,K,ne,Te,Ee,$e,Pe,Fe,ve,me;const{id:e}=F1(),t=Lo(),[r,n]=L.useState(null),[a,i]=L.useState(!0),[s,o]=L.useState(!1),[c,u]=L.useState(!1),[d,f]=L.useState({title:"",value:"",type:"text",file:null}),{organization:h}=Zt(),{addToast:p}=Tr(),m=h!=null&&h.currency?((W=tn[h.currency])==null?void 0:W.symbol)||h.currency:"",[g,x]=L.useState(!1),[v,b]=L.useState(!1),[y,C]=L.useState(!1),[S,T]=L.useState(!1),[N,w]=L.useState(!1),[_,P]=L.useState(null),[A,j]=L.useState(new Date),[F,M]=L.useState("year"),[H,q]=L.useState(!1),Y=L.useRef(null);L.useEffect(()=>{!e||!h||X()},[e,h]);const X=async()=>{var le,be;try{const{data:Oe,error:je}=await We.from("clients").select(`
          *,
          custom_fields:client_custom_fields(*),
          orders:orders(
            id,
            order_number,
            total_amount,
            outstanding_balance,
            created_at,
            status
          ),
          sales_orders:sales_orders(
            id,
            order_number,
            total_amount,
            outstanding_balance,
            payment_status,
            notes,
            created_at
          )
        `).eq("id",e).eq("organization_id",h==null?void 0:h.id).single();if(je)throw je;const Ae=((le=Oe.orders)==null?void 0:le.reduce((De,et)=>De+(et.outstanding_balance||0),0))||0,Be=((be=Oe.sales_orders)==null?void 0:be.reduce((De,et)=>De+(et.outstanding_balance||0),0))||0;n({...Oe,total_balance:Ae+Be})}catch(Oe){console.error("Error loading client details:",Oe),p({type:"error",title:"Error",message:"Failed to load client details"})}finally{i(!1)}},I=async le=>{if(h){u(!0);try{const{error:be}=await We.from("clients").update({name:le.name,phone:le.phone,address:le.address,date_of_birth:le.date_of_birth}).eq("id",le.id).eq("organization_id",h.id);if(be)throw be;n(le),x(!1),p({type:"success",title:"Success",message:"Client details updated successfully"})}catch(be){console.error("Error updating client:",be),p({type:"error",title:"Error",message:"Failed to update client details"})}finally{u(!1)}}},J=async le=>{var be;if(!(!r||!h)){u(!0);try{let Oe=le.value;if(le.type==="file"&&le.file){const Ae=(be=le.file.name.split(".").pop())==null?void 0:be.toLowerCase(),Be=`${Math.random().toString(36).substring(2)}.${Ae}`,De=`${h.id}/clients/${r.id}/${Be}`,{error:et}=await We.storage.from("profiles").upload(De,le.file,{cacheControl:"3600",upsert:!1});if(et)throw et;const{data:{publicUrl:Qe}}=We.storage.from("profiles").getPublicUrl(De);Oe=Qe}const{error:je}=await We.from("client_custom_fields").insert({client_id:r.id,title:le.title.trim(),value:Oe,type:le.type});if(je)throw je;b(!1),X(),p({type:"success",title:"Success",message:"Custom field added successfully"})}catch(Oe){console.error("Error adding custom field:",Oe),p({type:"error",title:"Error",message:"Failed to add custom field"})}finally{u(!1)}}},Q=async le=>{if(r)try{const{error:be}=await We.from("client_custom_fields").delete().eq("id",le);if(be)throw be;X(),p({type:"success",title:"Success",message:"Custom field deleted successfully"})}catch(be){console.error("Error deleting custom field:",be),p({type:"error",title:"Error",message:"Failed to delete custom field"})}},E=async()=>{if(!(!r||!h)){u(!0);try{const{error:le}=await We.from("clients").update({status:"archived"}).eq("id",r.id).eq("organization_id",h.id);if(le)throw le;p({type:"success",title:"Success",message:"Client archived successfully"}),t("/dashboard/clients")}catch(le){console.error("Error archiving client:",le),p({type:"error",title:"Error",message:"Failed to archive client"})}finally{u(!1),C(!1)}}},R=async()=>{if(!(!r||!h)){u(!0);try{const{error:le}=await We.from("client_custom_fields").delete().eq("client_id",r.id);if(le)throw le;if(r.image_url){const Oe=r.image_url.split("/").slice(-3).join("/"),{error:je}=await We.storage.from("profiles").remove([Oe]);je&&console.error("Error deleting profile image:",je)}const{error:be}=await We.from("clients").delete().eq("id",r.id).eq("organization_id",h.id);if(be)throw be;p({type:"success",title:"Success",message:"Client deleted successfully"}),t("/dashboard/clients")}catch(le){console.error("Error deleting client:",le),p({type:"error",title:"Error",message:"Failed to delete client"})}finally{u(!1),C(!1),T(!1)}}},U=async()=>{if(!(!r||!h)){u(!0);try{const{error:le}=await We.from("clients").update({status:"active"}).eq("id",r.id).eq("organization_id",h.id);if(le)throw le;await X(),p({type:"success",title:"Success",message:"Client activated successfully"})}catch(le){console.error("Error activating client:",le),p({type:"error",title:"Error",message:"Failed to activate client"})}finally{u(!1)}}},z=()=>{if(!r)return[];const le=[...r.orders||[],...r.sales_orders||[]];let be,Oe;switch(F){case"day":be=new Date(A),be.setHours(0,0,0,0),Oe=new Date(A),Oe.setHours(23,59,59,999);break;case"week":be=new Date(A),be.setDate(A.getDate()-A.getDay()+1),be.setHours(0,0,0,0),Oe=new Date(be),Oe.setDate(be.getDate()+6),Oe.setHours(23,59,59,999);break;case"month":be=new Date(A.getFullYear(),A.getMonth(),1),be.setHours(0,0,0,0),Oe=new Date(A.getFullYear(),A.getMonth()+1,0),Oe.setHours(23,59,59,999);break;case"year":be=new Date(A.getFullYear(),0,1),be.setHours(0,0,0,0),Oe=new Date(A.getFullYear(),11,31),Oe.setHours(23,59,59,999);break;default:return le}return le.filter(je=>{const Ae=new Date(je.created_at);return Ae>=be&&Ae<=Oe})},G=le=>{const be=new Date(A);switch(F){case"day":be.setDate(be.getDate()+(le==="next"?1:-1));break;case"week":be.setDate(be.getDate()+(le==="next"?7:-7));break;case"month":be.setMonth(be.getMonth()+(le==="next"?1:-1));break;case"year":be.setFullYear(be.getFullYear()+(le==="next"?1:-1));break}j(be)},ae=async le=>{var Oe,je;const be=(Oe=le.target.files)==null?void 0:Oe[0];if(!(!be||!r||!h)){q(!0);try{const Ae=(je=be.name.split(".").pop())==null?void 0:je.toLowerCase(),Be=`${Math.random().toString(36).substring(2)}.${Ae}`,De=`${h.id}/clients/${r.id}/${Be}`,{error:et}=await We.storage.from("profiles").upload(De,be,{cacheControl:"3600",upsert:!0});if(et)throw et;const{data:{publicUrl:Qe}}=We.storage.from("profiles").getPublicUrl(De),{error:kt}=await We.from("clients").update({image_url:Qe}).eq("id",r.id).eq("organization_id",h.id);if(kt)throw kt;n(jt=>jt?{...jt,image_url:Qe}:null),p({type:"success",title:"Success",message:"Client image updated successfully"})}catch(Ae){console.error("Error uploading image:",Ae),p({type:"error",title:"Error",message:"Failed to upload client image"})}finally{q(!1)}}},ee=async le=>{var be;if(!(!r||!h)){u(!0);try{let Oe=le.value;if(le.type==="file"&&le.file){const Ae=(be=le.file.name.split(".").pop())==null?void 0:be.toLowerCase(),Be=`${Math.random().toString(36).substring(2)}.${Ae}`,De=`${h.id}/clients/${r.id}/${Be}`,{error:et}=await We.storage.from("profiles").upload(De,le.file,{cacheControl:"3600",upsert:!0});if(et)throw et;const{data:{publicUrl:Qe}}=We.storage.from("profiles").getPublicUrl(De);Oe=Qe}const{error:je}=await We.from("client_custom_fields").update({title:le.title.trim(),value:Oe,type:le.type}).eq("id",le.id);if(je)throw je;w(!1),X(),p({type:"success",title:"Success",message:"Custom field updated successfully"})}catch(Oe){console.error("Error updating custom field:",Oe),p({type:"error",title:"Error",message:"Failed to update custom field"})}finally{u(!1)}}};return a?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading client details..."})]})}):r?l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-bg-primary",children:[r.status==="archived"&&l.jsx("h1",{className:"text-center text-red-500 text-5xl py-10 font-semibold",children:"This Client is Archived."}),l.jsxs("div",{className:"flex flex-col lg:flex-row",children:[l.jsx("div",{className:"w-full lg:w-80 bg-white dark:bg-dark-bg-secondary border-b lg:border-b-0 lg:border-r border-gray-200 dark:border-dark-border-primary",children:l.jsxs("div",{className:"p-3 sm:p-4 lg:p-6 space-y-4 sm:space-y-4 lg:space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-900 dark:text-dark-text-primary",children:"Client Profile"}),r.status!=="archived"&&l.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center px-2 py-1 sm:px-2.5 sm:py-1.5 border border-gray-300 dark:border-dark-border-secondary rounded-md text-xs font-medium text-gray-700 dark:text-dark-text-secondary bg-white dark:bg-dark-bg-secondary hover:bg-gray-50 dark:hover:bg-dark-bg-tertiary",children:[l.jsx(To,{className:"h-3 w-3 mr-1"}),"Edit"]})]}),l.jsxs("div",{className:"",children:[l.jsxs("div",{className:"relative inline-block group",children:[l.jsxs("div",{className:"w-16 h-16 sm:w-20 sm:h-20 lg:w-24 lg:h-24 rounded-md mx-auto bg-gray-100 dark:bg-dark-bg-tertiary flex items-center justify-center overflow-hidden cursor-pointer",onClick:()=>{var le;return(le=Y.current)==null?void 0:le.click()},children:[r.image_url?l.jsx("img",{src:r.image_url,alt:r.name,className:"w-full h-full object-cover"}):l.jsx(Qf,{className:"h-8 w-8 sm:h-10 sm:w-10 lg:h-12 lg:w-12 text-gray-400 dark:text-dark-text-tertiary"}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Xs,{className:"h-6 w-6 text-white"})})]}),H&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-40 rounded-md",children:l.jsx(mi,{className:"h-6 w-6 text-white animate-spin"})}),l.jsx("input",{type:"file",ref:Y,onChange:ae,accept:"image/*",className:"hidden"})]}),l.jsx("h2",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-900 dark:text-dark-text-primary mt-2 sm:mt-2",children:r.name})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center text-xs sm:text-sm",children:[l.jsx(Xv,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 dark:text-dark-text-tertiary mr-2 sm:mr-3"}),l.jsx("span",{className:"text-gray-600 dark:text-dark-text-secondary",children:r.phone||"No phone number"})]}),l.jsxs("div",{className:"flex items-center text-xs sm:text-sm",children:[l.jsx(a$,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 dark:text-dark-text-tertiary mr-2 sm:mr-3"}),l.jsx("span",{className:"text-gray-600 dark:text-dark-text-secondary",children:r.address||"No address"})]}),l.jsxs("div",{className:"flex items-center text-xs sm:text-sm",children:[l.jsx(ul,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 dark:text-dark-text-tertiary mr-2 sm:mr-3"}),l.jsx("span",{className:"text-gray-600 dark:text-dark-text-secondary",children:r.date_of_birth?St(new Date(r.date_of_birth),"MMMM d, yyyy"):"No date of birth"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs sm:text-sm font-bold text-black dark:text-dark-text-primary mb-2 sm:mb-3",children:"All Time Client Stats"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-2 sm:p-3 rounded-lg",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(ca,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-500 dark:text-blue-400 mr-1 sm:mr-2"}),l.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-blue-700 dark:text-blue-300",children:"Total Orders"})]}),l.jsx("p",{className:"text-xs sm:text-sm font-semibold text-blue-900 dark:text-blue-100 mt-1",children:(((Z=r.orders)==null?void 0:Z.length)||0)+(((re=r.sales_orders)==null?void 0:re.length)||0)})]}),l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-2 sm:p-3 rounded-lg",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(la,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-500 dark:text-green-400 mr-1 sm:mr-2"}),l.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-green-700 dark:text-green-300",children:"Total Spent"})]}),l.jsxs("p",{className:"text-xs sm:text-sm font-semibold text-green-900 dark:text-green-100 mt-1",children:[m," ",((((O=r.orders)==null?void 0:O.reduce((le,be)=>le+be.total_amount,0))||0)+(((de=r.sales_orders)==null?void 0:de.reduce((le,be)=>le+be.total_amount,0))||0)).toFixed(2)]})]}),l.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-2 sm:p-3 rounded-lg",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(vr,{className:"h-3 w-3 sm:h-4 sm:w-4 text-purple-500 dark:text-purple-400 mr-1 sm:mr-2"}),l.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-purple-700 dark:text-purple-300",children:"Completed Orders"})]}),l.jsx("p",{className:"text-xs sm:text-sm font-semibold text-purple-900 dark:text-purple-100 mt-1",children:(((ce=r.orders)==null?void 0:ce.filter(le=>le.status==="completed").length)||0)+(((pe=r.sales_orders)==null?void 0:pe.filter(le=>le.payment_status==="paid").length)||0)})]}),l.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-2 sm:p-3 rounded-lg",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(la,{className:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 dark:text-amber-400 mr-1 sm:mr-2"}),l.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-amber-700 dark:text-amber-300",children:"Outstanding Balance"})]}),l.jsxs("p",{className:"text-xs sm:text-sm font-semibold text-amber-900 dark:text-amber-100 mt-1",children:[m," ",r.total_balance.toFixed(2)]})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-xs sm:text-sm font-bold text-black dark:text-dark-text-primary",children:"Custom Information"}),r.status!=="archived"&&l.jsxs("button",{onClick:()=>b(!0),className:"inline-flex items-center px-2 py-1 sm:px-2.5 sm:py-1.5 border border-gray-300 dark:border-dark-border-secondary rounded-md text-xs font-medium text-gray-700 dark:text-dark-text-secondary bg-white dark:bg-dark-bg-secondary hover:bg-gray-50 dark:hover:bg-dark-bg-tertiary",children:[l.jsx(Hn,{className:"h-3 w-3 mr-1"}),"Add Field"]})]}),l.jsxs("div",{className:"space-y-2 w-full",children:[(K=r.custom_fields)==null?void 0:K.map(le=>l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-dark-bg-tertiary p-2 sm:p-3 rounded-lg",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("span",{className:"text-[10px] sm:text-xs font-medium text-gray-700 dark:text-dark-text-secondary block truncate",children:[le.title,": "]}),le.type==="file"?l.jsx("a",{href:le.value,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] sm:text-xs text-primary-600 dark:text-dark-accent-primary hover:text-primary-800 dark:hover:text-dark-accent-secondary truncate block",children:"View File"}):l.jsx("span",{className:"text-[10px] sm:text-xs text-gray-600 dark:text-dark-text-secondary",children:le.value})]}),r.status!=="archived"&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{onClick:()=>{P(le),w(!0)},className:"p-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/20",children:l.jsx(To,{className:"h-3 w-3"})}),l.jsx("button",{onClick:()=>Q(le.id),className:"p-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20",children:l.jsx(cr,{className:"h-3 w-3"})})]})]},le.id)),(!r.custom_fields||r.custom_fields.length===0)&&l.jsx("div",{className:"text-center text-gray-500 dark:text-dark-text-tertiary py-3 sm:py-4 text-xs",children:"No custom information added yet"})]})]}),l.jsx("div",{className:"pt-2 sm:pt-3",children:r.status==="archived"?l.jsxs("button",{onClick:U,className:"w-full inline-flex justify-center items-center px-3 py-2 border border-green-300 dark:border-green-700 rounded-md text-xs font-medium text-green-700 dark:text-green-400 bg-white dark:bg-dark-bg-secondary hover:bg-green-50 dark:hover:bg-green-900/20",children:[l.jsx(vr,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Activate Client"]}):l.jsxs("button",{onClick:()=>C(!0),className:"w-full inline-flex justify-center items-center px-3 py-2 border border-red-300 dark:border-red-700 rounded-md text-xs font-medium text-red-700 dark:text-red-400 bg-white dark:bg-dark-bg-secondary hover:bg-red-50 dark:hover:bg-red-900/20",children:[l.jsx(gi,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Delete/Archive Client"]})})]})}),l.jsx("div",{className:"flex-1 p-3 sm:p-4 bg-white dark:bg-dark-bg-secondary",children:l.jsxs("div",{className:"bg-white dark:bg-dark-bg-secondary rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"px-3 sm:px-4 py-2 sm:py-3 border-b border-gray-200 dark:border-dark-border-primary",children:[l.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-dark-text-primary",children:"Orders History"}),l.jsx("div",{className:"mt-2",children:l.jsx(Ag,{currentDate:A,dateFilterType:F,onDateChange:G,onFilterTypeChange:M,itemCount:z().length,itemLabel:"orders"})})]}),l.jsx("div",{className:"overflow-x-auto",children:z().length>0?l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-dark-border-primary",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-dark-bg-tertiary",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-2 text-left text-[10px] sm:text-xs font-medium text-gray-500 dark:text-dark-text-tertiary uppercase tracking-wider whitespace-nowrap",children:"Order #"}),l.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-2 text-left text-[10px] sm:text-xs font-medium text-gray-500 dark:text-dark-text-tertiary uppercase tracking-wider whitespace-nowrap",children:"Type"}),l.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-2 text-left text-[10px] sm:text-xs font-medium text-gray-500 dark:text-dark-text-tertiary uppercase tracking-wider whitespace-nowrap",children:"Date"}),l.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-2 text-left text-[10px] sm:text-xs font-medium text-gray-500 dark:text-dark-text-tertiary uppercase tracking-wider whitespace-nowrap",children:"Amount"}),l.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-2 text-left text-[10px] sm:text-xs font-medium text-gray-500 dark:text-dark-text-tertiary uppercase tracking-wider whitespace-nowrap",children:"Balance"}),l.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-2 text-left text-[10px] sm:text-xs font-medium text-gray-500 dark:text-dark-text-tertiary uppercase tracking-wider whitespace-nowrap",children:"Status"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-dark-bg-secondary divide-y divide-gray-200 dark:divide-dark-border-primary",children:z().sort((le,be)=>new Date(be.created_at).getTime()-new Date(le.created_at).getTime()).map((le,be)=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-bg-tertiary",children:[l.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-[10px] sm:text-xs font-medium",children:l.jsx(Rr,{to:`/dashboard/${"payment_status"in le?"sales":"orders"}/${le.id}`,className:"text-primary-600 dark:text-dark-accent-primary hover:text-primary-800 dark:hover:text-dark-accent-secondary",children:le.order_number})}),l.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-[10px] sm:text-xs text-gray-500 dark:text-dark-text-tertiary",children:"payment_status"in le?"Sales":"Order"}),l.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-[10px] sm:text-xs text-gray-500 dark:text-dark-text-tertiary",children:St(new Date(le.created_at),"MMM d, yyyy")}),l.jsxs("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-[10px] sm:text-xs text-gray-900 dark:text-dark-text-primary",children:[m," ",le.total_amount.toFixed(2)]}),l.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap",children:l.jsxs("span",{className:`text-[10px] sm:text-xs font-medium ${le.outstanding_balance>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[m," ",le.outstanding_balance.toFixed(2)]})}),l.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap",children:l.jsx("span",{className:`px-1 sm:px-2 py-0.5 sm:py-1 inline-flex text-[10px] sm:text-xs leading-4 sm:leading-5 font-medium rounded-md ${"payment_status"in le?le.payment_status==="paid"?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-400":le.payment_status==="partial"?"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-400":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-400":le.status==="completed"?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-400":le.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-400":"bg-gray-100 dark:bg-gray-900/20 text-gray-800 dark:text-gray-400"}`,children:"payment_status"in le?le.payment_status.charAt(0).toUpperCase()+le.payment_status.slice(1):le.status.charAt(0).toUpperCase()+le.status.slice(1)})})]},`${le.id}-${be}`))})]}):l.jsx("div",{className:"text-center text-gray-500 dark:text-dark-text-tertiary py-3 sm:py-4 text-[10px] sm:text-xs",children:"No orders found for this client in the selected date range."})})]})}),l.jsx("div",{className:"w-full lg:w-80 bg-white dark:bg-dark-bg-secondary border-t lg:border-t-0 lg:border-l border-gray-200 dark:border-dark-border-primary",children:l.jsx("div",{className:"p-3 sm:p-4 lg:p-6",children:l.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[l.jsx("h3",{className:"text-xs sm:text-sm font-bold text-black dark:text-dark-text-primary",children:"Financial Overview"}),l.jsxs("div",{className:"border-b border-gray-200 dark:border-dark-border-primary pb-3 sm:pb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-gray-800 dark:text-dark-text-primary",children:"Total Balance"}),l.jsx(la,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary-600 dark:text-dark-accent-primary"})]}),l.jsxs("div",{className:"flex items-baseline justify-between",children:[l.jsxs("span",{className:`text-lg sm:text-xl lg:text-2xl font-bold ${r.total_balance>0?"text-red-700 dark:text-red-400":"text-green-700 dark:text-green-400"}`,children:[m," ",r.total_balance.toFixed(2)]}),l.jsx("span",{className:`text-[10px] sm:text-xs font-medium px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full ${r.total_balance>0?"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400":"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400"}`,children:r.total_balance>0?"Outstanding":"Cleared"})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[l.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-gray-800 dark:text-dark-text-primary",children:"Orders Summary"}),l.jsx(ca,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-500 dark:text-dark-text-tertiary"})]}),l.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-baseline",children:[l.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-dark-text-tertiary",children:"Total Orders"}),l.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-900 dark:text-dark-text-primary",children:((ne=r.orders)==null?void 0:ne.length)||0})]}),l.jsxs("div",{className:"flex justify-between items-baseline",children:[l.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-dark-text-tertiary",children:"Total Amount"}),l.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-900 dark:text-dark-text-primary",children:[m," ",(((Te=r.orders)==null?void 0:Te.reduce((le,be)=>le+be.total_amount,0))||0).toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between items-baseline",children:[l.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-dark-text-tertiary",children:"Outstanding Balance"}),l.jsxs("span",{className:`text-xs sm:text-sm font-semibold ${(((Ee=r.orders)==null?void 0:Ee.reduce((le,be)=>le+(be.outstanding_balance||0),0))||0)>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[m," ",((($e=r.orders)==null?void 0:$e.reduce((le,be)=>le+(be.outstanding_balance||0),0))||0).toFixed(2)]})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[l.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-gray-800 dark:text-dark-text-primary",children:"Sales Orders Summary"}),l.jsx(pd,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-500 dark:text-dark-text-tertiary"})]}),l.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-baseline",children:[l.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-dark-text-tertiary",children:"Total Sales"}),l.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-900 dark:text-dark-text-primary",children:((Pe=r.sales_orders)==null?void 0:Pe.length)||0})]}),l.jsxs("div",{className:"flex justify-between items-baseline",children:[l.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-dark-text-tertiary",children:"Total Amount"}),l.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-900 dark:text-dark-text-primary",children:[m," ",(((Fe=r.sales_orders)==null?void 0:Fe.reduce((le,be)=>le+be.total_amount,0))||0).toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between items-baseline",children:[l.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-dark-text-tertiary",children:"Outstanding Balance"}),l.jsxs("span",{className:`text-xs sm:text-sm font-semibold ${(((ve=r.sales_orders)==null?void 0:ve.reduce((le,be)=>le+(be.outstanding_balance||0),0))||0)>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[m," ",(((me=r.sales_orders)==null?void 0:me.reduce((le,be)=>le+(be.outstanding_balance||0),0))||0).toFixed(2)]})]})]})]})]})})})]}),l.jsx(lIe,{client:r,isOpen:g,onClose:()=>x(!1),onSave:I,isSubmitting:c}),l.jsx(cIe,{isOpen:v,onClose:()=>b(!1),onAdd:J,isSubmitting:c}),l.jsx(uIe,{client:r,isOpen:y,onClose:()=>C(!1),onArchive:E,onDelete:R,isSubmitting:c}),l.jsx(pU,{isOpen:S,onClose:()=>T(!1),onConfirm:R,title:"Confirm Permanent Deletion",message:`Are you sure you want to permanently delete ${r.name}? This action cannot be undone and will delete all client data including orders, custom fields, and files.`,confirmText:"Delete Permanently",confirmButtonClass:"bg-red-600 hover:bg-red-700"}),_&&l.jsx(dIe,{field:_,isOpen:N,onClose:()=>{w(!1),P(null)},onSave:ee,isSubmitting:c})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-gray-600",children:"Client not found."}),l.jsxs("button",{onClick:()=>t("/dashboard/clients"),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(Gu,{className:"h-4 w-4 mr-2"}),"Back to Clients"]})]})})}const hIe=()=>{const e=Lo(),{theme:t,getThemeStyle:r}=Ht(),n=[{title:"Import Client Data",description:"Import client information from CSV files",path:"client-data"},{title:"Import Order Data",description:"Import order information from CSV files",path:"order-data"},{title:"Import Order Data (Fix)",description:"Import order information from CSV files (Fix)",path:"order-data-fix"},{title:"Import Payment Data",description:"Import payment information from CSV files",path:"payment-data"}];return l.jsx("div",{className:`min-h-screen py-12 px-4 sm:px-6 lg:px-8 ${r(t,"background","primary")}`,children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:`text-4xl font-bold mb-4 font-['Space_Grotesk'] ${r(t,"text","primary")}`,children:"Data Import Center"}),l.jsx("p",{className:`text-lg ${r(t,"text","secondary")}`,children:"Select the type of data you want to import from CSV files"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:n.map(a=>l.jsx("div",{className:`group relative rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 border ${r(t,"background","primary")} ${r(t,"border","primary")} hover:border-blue-200`,children:l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:`text-2xl font-semibold mb-4 text-center group-hover:text-blue-600 transition-colors duration-300 ${r(t,"text","primary")}`,children:a.title}),l.jsx("p",{className:`text-center mb-6 ${r(t,"text","secondary")}`,children:a.description}),l.jsx("div",{className:"text-center",children:l.jsx("button",{onClick:()=>e(a.path),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transform transition-all duration-200 hover:scale-105 active:scale-95 shadow-md hover:shadow-lg",children:"Import Data"})})]})},a.title))})]})})};function Dd(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})}const pIe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Bh(e,t,r){const n=mIe(e),{webkitRelativePath:a}=e,i=typeof t=="string"?t:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof n.path!="string"&&K8(n,"path",i),K8(n,"relativePath",i),n}function mIe(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const n=t.split(".").pop().toLowerCase(),a=pIe.get(n);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function K8(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}const gIe=[".DS_Store","Thumbs.db"];function xIe(e){return Dd(this,void 0,void 0,function*(){return P1(e)&&vIe(e.dataTransfer)?_Ie(e.dataTransfer,e.type):yIe(e)?bIe(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?wIe(e):[]})}function vIe(e){return P1(e)}function yIe(e){return P1(e)&&P1(e.target)}function P1(e){return typeof e=="object"&&e!==null}function bIe(e){return o3(e.target.files).map(t=>Bh(t))}function wIe(e){return Dd(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>r.getFile()))).map(r=>Bh(r))})}function _Ie(e,t){return Dd(this,void 0,void 0,function*(){if(e.items){const r=o3(e.items).filter(a=>a.kind==="file");if(t!=="drop")return r;const n=yield Promise.all(r.map(kIe));return X8(mU(n))}return X8(o3(e.files).map(r=>Bh(r)))})}function X8(e){return e.filter(t=>gIe.indexOf(t.name)===-1)}function o3(e){if(e===null)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];t.push(n)}return t}function kIe(e){if(typeof e.webkitGetAsEntry!="function")return J8(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?gU(t):J8(e,t)}function mU(e){return e.reduce((t,r)=>[...t,...Array.isArray(r)?mU(r):[r]],[])}function J8(e,t){return Dd(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const i=yield e.getAsFileSystemHandle();if(i===null)throw new Error(`${e} is not a File`);if(i!==void 0){const s=yield i.getFile();return s.handle=i,Bh(s)}}const n=e.getAsFile();if(!n)throw new Error(`${e} is not a File`);return Bh(n,(r=t==null?void 0:t.fullPath)!==null&&r!==void 0?r:void 0)})}function SIe(e){return Dd(this,void 0,void 0,function*(){return e.isDirectory?gU(e):NIe(e)})}function gU(e){const t=e.createReader();return new Promise((r,n)=>{const a=[];function i(){t.readEntries(s=>Dd(this,void 0,void 0,function*(){if(s.length){const o=Promise.all(s.map(SIe));a.push(o),i()}else try{const o=yield Promise.all(a);r(o)}catch(o){n(o)}}),s=>{n(s)})}i()})}function NIe(e){return Dd(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(n=>{const a=Bh(n,e.fullPath);t(a)},n=>{r(n)})})})}var y_=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var n=e.name||"",a=(e.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return r.some(function(s){var o=s.trim().toLowerCase();return o.charAt(0)==="."?n.toLowerCase().endsWith(o):o.endsWith("/*")?i===o.replace(/\/.*$/,""):a===o})}return!0};function Q8(e){return CIe(e)||AIe(e)||vU(e)||jIe()}function jIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CIe(e){if(Array.isArray(e))return l3(e)}function Z8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z8(Object(r),!0).forEach(function(n){xU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yg(e,t){return OIe(e)||EIe(e,t)||vU(e,t)||TIe()}function TIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vU(e,t){if(e){if(typeof e=="string")return l3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l3(e,t)}}function l3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,s,o;try{for(r=r.call(e);!(a=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));a=!0);}catch(c){i=!0,o=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw o}}return n}}function OIe(e){if(Array.isArray(e))return e}var PIe=typeof y_=="function"?y_:y_.default,DIe="file-invalid-type",$Ie="file-too-large",MIe="file-too-small",FIe="too-many-files",LIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t.split(","),n=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:DIe,message:"File type must be ".concat(n)}},tD=function(t){return{code:$Ie,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},rD=function(t){return{code:MIe,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},IIe={code:FIe,message:"Too many files"};function yU(e,t){var r=e.type==="application/x-moz-file"||PIe(e,t);return[r,r?null:LIe(t)]}function bU(e,t,r){if(Su(e.size))if(Su(t)&&Su(r)){if(e.size>r)return[!1,tD(r)];if(e.size<t)return[!1,rD(t)]}else{if(Su(t)&&e.size<t)return[!1,rD(t)];if(Su(r)&&e.size>r)return[!1,tD(r)]}return[!0,null]}function Su(e){return e!=null}function RIe(e){var t=e.files,r=e.accept,n=e.minSize,a=e.maxSize,i=e.multiple,s=e.maxFiles,o=e.validator;return!i&&t.length>1||i&&s>=1&&t.length>s?!1:t.every(function(c){var u=yU(c,r),d=yg(u,1),f=d[0],h=bU(c,n,a),p=yg(h,1),m=p[0],g=o?o(c):null;return f&&m&&!g})}function D1(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function $v(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function nD(e){e.preventDefault()}function BIe(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function UIe(e){return e.indexOf("Edge/")!==-1}function WIe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return BIe(e)||UIe(e)}function co(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return t.some(function(o){return!D1(n)&&o&&o.apply(void 0,[n].concat(i)),D1(n)})}}function qIe(){return"showOpenFilePicker"in window}function HIe(e){if(Su(e)){var t=Object.entries(e).filter(function(r){var n=yg(r,2),a=n[0],i=n[1],s=!0;return wU(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(i)||!i.every(_U))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(r,n){var a=yg(n,2),i=a[0],s=a[1];return eD(eD({},r),{},xU({},i,s))},{});return[{description:"Files",accept:t}]}return e}function zIe(e){if(Su(e))return Object.entries(e).reduce(function(t,r){var n=yg(r,2),a=n[0],i=n[1];return[].concat(Q8(t),[a],Q8(i))},[]).filter(function(t){return wU(t)||_U(t)}).join(",")}function YIe(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function VIe(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function wU(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function _U(e){return/^.*\.[\w]+$/.test(e)}var GIe=["children"],KIe=["open"],XIe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],JIe=["refKey","onChange","onClick"];function QIe(e){return tRe(e)||eRe(e)||kU(e)||ZIe()}function ZIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tRe(e){if(Array.isArray(e))return c3(e)}function b_(e,t){return aRe(e)||nRe(e,t)||kU(e,t)||rRe()}function rRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kU(e,t){if(e){if(typeof e=="string")return c3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c3(e,t)}}function c3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,s,o;try{for(r=r.call(e);!(a=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));a=!0);}catch(c){i=!0,o=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw o}}return n}}function aRe(e){if(Array.isArray(e))return e}function aD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(r),!0).forEach(function(n){u3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u3(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $1(e,t){if(e==null)return{};var r=iRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iRe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var cj=L.forwardRef(function(e,t){var r=e.children,n=$1(e,GIe),a=tx(n),i=a.open,s=$1(a,KIe);return L.useImperativeHandle(t,function(){return{open:i}},[i]),we.createElement(L.Fragment,null,r(_n(_n({},s),{},{open:i})))});cj.displayName="Dropzone";var SU={disabled:!1,getFilesFromEvent:xIe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};cj.defaultProps=SU;cj.propTypes={children:Re.func,accept:Re.objectOf(Re.arrayOf(Re.string)),multiple:Re.bool,preventDropOnDocument:Re.bool,noClick:Re.bool,noKeyboard:Re.bool,noDrag:Re.bool,noDragEventsBubbling:Re.bool,minSize:Re.number,maxSize:Re.number,maxFiles:Re.number,disabled:Re.bool,getFilesFromEvent:Re.func,onFileDialogCancel:Re.func,onFileDialogOpen:Re.func,useFsAccessApi:Re.bool,autoFocus:Re.bool,onDragEnter:Re.func,onDragLeave:Re.func,onDragOver:Re.func,onDrop:Re.func,onDropAccepted:Re.func,onDropRejected:Re.func,onError:Re.func,validator:Re.func};var d3={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function tx(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=_n(_n({},SU),e),r=t.accept,n=t.disabled,a=t.getFilesFromEvent,i=t.maxSize,s=t.minSize,o=t.multiple,c=t.maxFiles,u=t.onDragEnter,d=t.onDragLeave,f=t.onDragOver,h=t.onDrop,p=t.onDropAccepted,m=t.onDropRejected,g=t.onFileDialogCancel,x=t.onFileDialogOpen,v=t.useFsAccessApi,b=t.autoFocus,y=t.preventDropOnDocument,C=t.noClick,S=t.noKeyboard,T=t.noDrag,N=t.noDragEventsBubbling,w=t.onError,_=t.validator,P=L.useMemo(function(){return zIe(r)},[r]),A=L.useMemo(function(){return HIe(r)},[r]),j=L.useMemo(function(){return typeof x=="function"?x:iD},[x]),F=L.useMemo(function(){return typeof g=="function"?g:iD},[g]),M=L.useRef(null),H=L.useRef(null),q=L.useReducer(sRe,d3),Y=b_(q,2),X=Y[0],I=Y[1],J=X.isFocused,Q=X.isFileDialogActive,E=L.useRef(typeof window<"u"&&window.isSecureContext&&v&&qIe()),R=function(){!E.current&&Q&&setTimeout(function(){if(H.current){var le=H.current.files;le.length||(I({type:"closeDialog"}),F())}},300)};L.useEffect(function(){return window.addEventListener("focus",R,!1),function(){window.removeEventListener("focus",R,!1)}},[H,Q,F,E]);var U=L.useRef([]),z=function(le){M.current&&M.current.contains(le.target)||(le.preventDefault(),U.current=[])};L.useEffect(function(){return y&&(document.addEventListener("dragover",nD,!1),document.addEventListener("drop",z,!1)),function(){y&&(document.removeEventListener("dragover",nD),document.removeEventListener("drop",z))}},[M,y]),L.useEffect(function(){return!n&&b&&M.current&&M.current.focus(),function(){}},[M,b,n]);var G=L.useCallback(function(me){w?w(me):console.error(me)},[w]),ae=L.useCallback(function(me){me.preventDefault(),me.persist(),$e(me),U.current=[].concat(QIe(U.current),[me.target]),$v(me)&&Promise.resolve(a(me)).then(function(le){if(!(D1(me)&&!N)){var be=le.length,Oe=be>0&&RIe({files:le,accept:P,minSize:s,maxSize:i,multiple:o,maxFiles:c,validator:_}),je=be>0&&!Oe;I({isDragAccept:Oe,isDragReject:je,isDragActive:!0,type:"setDraggedFiles"}),u&&u(me)}}).catch(function(le){return G(le)})},[a,u,G,N,P,s,i,o,c,_]),ee=L.useCallback(function(me){me.preventDefault(),me.persist(),$e(me);var le=$v(me);if(le&&me.dataTransfer)try{me.dataTransfer.dropEffect="copy"}catch{}return le&&f&&f(me),!1},[f,N]),W=L.useCallback(function(me){me.preventDefault(),me.persist(),$e(me);var le=U.current.filter(function(Oe){return M.current&&M.current.contains(Oe)}),be=le.indexOf(me.target);be!==-1&&le.splice(be,1),U.current=le,!(le.length>0)&&(I({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),$v(me)&&d&&d(me))},[M,d,N]),Z=L.useCallback(function(me,le){var be=[],Oe=[];me.forEach(function(je){var Ae=yU(je,P),Be=b_(Ae,2),De=Be[0],et=Be[1],Qe=bU(je,s,i),kt=b_(Qe,2),jt=kt[0],bt=kt[1],Vt=_?_(je):null;if(De&&jt&&!Vt)be.push(je);else{var Pt=[et,bt];Vt&&(Pt=Pt.concat(Vt)),Oe.push({file:je,errors:Pt.filter(function(Ir){return Ir})})}}),(!o&&be.length>1||o&&c>=1&&be.length>c)&&(be.forEach(function(je){Oe.push({file:je,errors:[IIe]})}),be.splice(0)),I({acceptedFiles:be,fileRejections:Oe,isDragReject:Oe.length>0,type:"setFiles"}),h&&h(be,Oe,le),Oe.length>0&&m&&m(Oe,le),be.length>0&&p&&p(be,le)},[I,o,P,s,i,c,h,p,m,_]),re=L.useCallback(function(me){me.preventDefault(),me.persist(),$e(me),U.current=[],$v(me)&&Promise.resolve(a(me)).then(function(le){D1(me)&&!N||Z(le,me)}).catch(function(le){return G(le)}),I({type:"reset"})},[a,Z,G,N]),O=L.useCallback(function(){if(E.current){I({type:"openDialog"}),j();var me={multiple:o,types:A};window.showOpenFilePicker(me).then(function(le){return a(le)}).then(function(le){Z(le,null),I({type:"closeDialog"})}).catch(function(le){YIe(le)?(F(le),I({type:"closeDialog"})):VIe(le)?(E.current=!1,H.current?(H.current.value=null,H.current.click()):G(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):G(le)});return}H.current&&(I({type:"openDialog"}),j(),H.current.value=null,H.current.click())},[I,j,F,v,Z,G,A,o]),de=L.useCallback(function(me){!M.current||!M.current.isEqualNode(me.target)||(me.key===" "||me.key==="Enter"||me.keyCode===32||me.keyCode===13)&&(me.preventDefault(),O())},[M,O]),ce=L.useCallback(function(){I({type:"focus"})},[]),pe=L.useCallback(function(){I({type:"blur"})},[]),K=L.useCallback(function(){C||(WIe()?setTimeout(O,0):O())},[C,O]),ne=function(le){return n?null:le},Te=function(le){return S?null:ne(le)},Ee=function(le){return T?null:ne(le)},$e=function(le){N&&le.stopPropagation()},Pe=L.useMemo(function(){return function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=me.refKey,be=le===void 0?"ref":le,Oe=me.role,je=me.onKeyDown,Ae=me.onFocus,Be=me.onBlur,De=me.onClick,et=me.onDragEnter,Qe=me.onDragOver,kt=me.onDragLeave,jt=me.onDrop,bt=$1(me,XIe);return _n(_n(u3({onKeyDown:Te(co(je,de)),onFocus:Te(co(Ae,ce)),onBlur:Te(co(Be,pe)),onClick:ne(co(De,K)),onDragEnter:Ee(co(et,ae)),onDragOver:Ee(co(Qe,ee)),onDragLeave:Ee(co(kt,W)),onDrop:Ee(co(jt,re)),role:typeof Oe=="string"&&Oe!==""?Oe:"presentation"},be,M),!n&&!S?{tabIndex:0}:{}),bt)}},[M,de,ce,pe,K,ae,ee,W,re,S,T,n]),Fe=L.useCallback(function(me){me.stopPropagation()},[]),ve=L.useMemo(function(){return function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=me.refKey,be=le===void 0?"ref":le,Oe=me.onChange,je=me.onClick,Ae=$1(me,JIe),Be=u3({accept:P,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ne(co(Oe,re)),onClick:ne(co(je,Fe)),tabIndex:-1},be,H);return _n(_n({},Be),Ae)}},[H,r,o,re,n]);return _n(_n({},X),{},{isFocused:J&&!n,getRootProps:Pe,getInputProps:ve,rootRef:M,inputRef:H,open:ne(O)})}function sRe(e,t){switch(t.type){case"focus":return _n(_n({},e),{},{isFocused:!0});case"blur":return _n(_n({},e),{},{isFocused:!1});case"openDialog":return _n(_n({},d3),{},{isFileDialogActive:!0});case"closeDialog":return _n(_n({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return _n(_n({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return _n(_n({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return _n({},d3);default:return e}}function iD(){}var NU={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(Zn,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},c=0,u={};function d(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(_){var P=S(_);P.chunkSize=parseInt(P.chunkSize),_.step||_.chunk||(P.chunkSize=null),this._handle=new g(P),(this._handle.streamer=this)._config=P}).call(this,w),this.parseChunk=function(_,P){var A=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<A){let F=this._config.newline;F||(j=this._config.quoteChar||'"',F=this._handle.guessLineEndings(_,j)),_=[..._.split(F).slice(A)].join(F)}this.isFirstChunk&&N(this._config.beforeFirstChunk)&&(j=this._config.beforeFirstChunk(_))!==void 0&&(_=j),this.isFirstChunk=!1,this._halted=!1;var A=this._partialLine+_,j=(this._partialLine="",this._handle.parse(A,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(_=j.meta.cursor,A=(this._finished||(this._partialLine=A.substring(_-this._baseIndex),this._baseIndex=_),j&&j.data&&(this._rowCount+=j.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:j,workerId:u.WORKER_ID,finished:A});else if(N(this._config.chunk)&&!P){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=j=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!A||!N(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),A||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(_){N(this._config.error)?this._config.error(_):s&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:_,finished:!1})}}function f(w){var _;(w=w||{}).chunkSize||(w.chunkSize=u.RemoteChunkSize),d.call(this,w),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(P){this._input=P,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(_=new XMLHttpRequest,this._config.withCredentials&&(_.withCredentials=this._config.withCredentials),i||(_.onload=T(this._chunkLoaded,this),_.onerror=T(this._chunkError,this)),_.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var P,A=this._config.downloadRequestHeaders;for(P in A)_.setRequestHeader(P,A[P])}var j;this._config.chunkSize&&(j=this._start+this._config.chunkSize-1,_.setRequestHeader("Range","bytes="+this._start+"-"+j));try{_.send(this._config.downloadRequestBody)}catch(F){this._chunkError(F.message)}i&&_.status===0&&this._chunkError()}},this._chunkLoaded=function(){_.readyState===4&&(_.status<200||400<=_.status?this._chunkError():(this._start+=this._config.chunkSize||_.responseText.length,this._finished=!this._config.chunkSize||this._start>=(P=>(P=P.getResponseHeader("Content-Range"))!==null?parseInt(P.substring(P.lastIndexOf("/")+1)):-1)(_),this.parseChunk(_.responseText)))},this._chunkError=function(P){P=_.statusText||P,this._sendError(new Error(P))}}function h(w){(w=w||{}).chunkSize||(w.chunkSize=u.LocalChunkSize),d.call(this,w);var _,P,A=typeof FileReader<"u";this.stream=function(j){this._input=j,P=j.slice||j.webkitSlice||j.mozSlice,A?((_=new FileReader).onload=T(this._chunkLoaded,this),_.onerror=T(this._chunkError,this)):_=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var j=this._input,F=(this._config.chunkSize&&(F=Math.min(this._start+this._config.chunkSize,this._input.size),j=P.call(j,this._start,F)),_.readAsText(j,this._config.encoding));A||this._chunkLoaded({target:{result:F}})},this._chunkLoaded=function(j){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(j.target.result)},this._chunkError=function(){this._sendError(_.error)}}function p(w){var _;d.call(this,w=w||{}),this.stream=function(P){return _=P,this._nextChunk()},this._nextChunk=function(){var P,A;if(!this._finished)return P=this._config.chunkSize,_=P?(A=_.substring(0,P),_.substring(P)):(A=_,""),this._finished=!_,this.parseChunk(A)}}function m(w){d.call(this,w=w||{});var _=[],P=!0,A=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(j){this._input=j,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){A&&_.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),_.length?this.parseChunk(_.shift()):P=!0},this._streamData=T(function(j){try{_.push(typeof j=="string"?j:j.toString(this._config.encoding)),P&&(P=!1,this._checkIsFinished(),this.parseChunk(_.shift()))}catch(F){this._streamError(F)}},this),this._streamError=T(function(j){this._streamCleanUp(),this._sendError(j)},this),this._streamEnd=T(function(){this._streamCleanUp(),A=!0,this._streamData("")},this),this._streamCleanUp=T(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(w){var _,P,A,j,F=Math.pow(2,53),M=-F,H=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,q=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Y=this,X=0,I=0,J=!1,Q=!1,E=[],R={data:[],errors:[],meta:{}};function U(ee){return w.skipEmptyLines==="greedy"?ee.join("").trim()==="":ee.length===1&&ee[0].length===0}function z(){if(R&&A&&(ae("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),A=!1),w.skipEmptyLines&&(R.data=R.data.filter(function(re){return!U(re)})),G()){let re=function(O,de){N(w.transformHeader)&&(O=w.transformHeader(O,de)),E.push(O)};if(R)if(Array.isArray(R.data[0])){for(var ee=0;G()&&ee<R.data.length;ee++)R.data[ee].forEach(re);R.data.splice(0,1)}else R.data.forEach(re)}function W(re,O){for(var de=w.header?{}:[],ce=0;ce<re.length;ce++){var pe=ce,K=re[ce],K=((ne,Te)=>(Ee=>(w.dynamicTypingFunction&&w.dynamicTyping[Ee]===void 0&&(w.dynamicTyping[Ee]=w.dynamicTypingFunction(Ee)),(w.dynamicTyping[Ee]||w.dynamicTyping)===!0))(ne)?Te==="true"||Te==="TRUE"||Te!=="false"&&Te!=="FALSE"&&((Ee=>{if(H.test(Ee)&&(Ee=parseFloat(Ee),M<Ee&&Ee<F))return 1})(Te)?parseFloat(Te):q.test(Te)?new Date(Te):Te===""?null:Te):Te)(pe=w.header?ce>=E.length?"__parsed_extra":E[ce]:pe,K=w.transform?w.transform(K,pe):K);pe==="__parsed_extra"?(de[pe]=de[pe]||[],de[pe].push(K)):de[pe]=K}return w.header&&(ce>E.length?ae("FieldMismatch","TooManyFields","Too many fields: expected "+E.length+" fields but parsed "+ce,I+O):ce<E.length&&ae("FieldMismatch","TooFewFields","Too few fields: expected "+E.length+" fields but parsed "+ce,I+O)),de}var Z;R&&(w.header||w.dynamicTyping||w.transform)&&(Z=1,!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(W),Z=R.data.length):R.data=W(R.data,0),w.header&&R.meta&&(R.meta.fields=E),I+=Z)}function G(){return w.header&&E.length===0}function ae(ee,W,Z,re){ee={type:ee,code:W,message:Z},re!==void 0&&(ee.row=re),R.errors.push(ee)}N(w.step)&&(j=w.step,w.step=function(ee){R=ee,G()?z():(z(),R.data.length!==0&&(X+=ee.data.length,w.preview&&X>w.preview?P.abort():(R.data=R.data[0],j(R,Y))))}),this.parse=function(ee,W,Z){var re=w.quoteChar||'"',re=(w.newline||(w.newline=this.guessLineEndings(ee,re)),A=!1,w.delimiter?N(w.delimiter)&&(w.delimiter=w.delimiter(ee),R.meta.delimiter=w.delimiter):((re=((O,de,ce,pe,K)=>{var ne,Te,Ee,$e;K=K||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Pe=0;Pe<K.length;Pe++){for(var Fe,ve=K[Pe],me=0,le=0,be=0,Oe=(Ee=void 0,new v({comments:pe,delimiter:ve,newline:de,preview:10}).parse(O)),je=0;je<Oe.data.length;je++)ce&&U(Oe.data[je])?be++:(Fe=Oe.data[je].length,le+=Fe,Ee===void 0?Ee=Fe:0<Fe&&(me+=Math.abs(Fe-Ee),Ee=Fe));0<Oe.data.length&&(le/=Oe.data.length-be),(Te===void 0||me<=Te)&&($e===void 0||$e<le)&&1.99<le&&(Te=me,ne=ve,$e=le)}return{successful:!!(w.delimiter=ne),bestDelimiter:ne}})(ee,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess)).successful?w.delimiter=re.bestDelimiter:(A=!0,w.delimiter=u.DefaultDelimiter),R.meta.delimiter=w.delimiter),S(w));return w.preview&&w.header&&re.preview++,_=ee,P=new v(re),R=P.parse(_,W,Z),z(),J?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return J},this.pause=function(){J=!0,P.abort(),_=N(w.chunk)?"":_.substring(P.getCharIndex())},this.resume=function(){Y.streamer._halted?(J=!1,Y.streamer.parseChunk(_,!0)):setTimeout(Y.resume,3)},this.aborted=function(){return Q},this.abort=function(){Q=!0,P.abort(),R.meta.aborted=!0,N(w.complete)&&w.complete(R),_=""},this.guessLineEndings=function(O,re){O=O.substring(0,1048576);var re=new RegExp(x(re)+"([^]*?)"+x(re),"gm"),Z=(O=O.replace(re,"")).split("\r"),re=O.split(`
`),O=1<re.length&&re[0].length<Z[0].length;if(Z.length===1||O)return`
`;for(var de=0,ce=0;ce<Z.length;ce++)Z[ce][0]===`
`&&de++;return de>=Z.length/2?`\r
`:"\r"}}function x(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(w){var _=(w=w||{}).delimiter,P=w.newline,A=w.comments,j=w.step,F=w.preview,M=w.fastMode,H=null,q=!1,Y=w.quoteChar==null?'"':w.quoteChar,X=Y;if(w.escapeChar!==void 0&&(X=w.escapeChar),(typeof _!="string"||-1<u.BAD_DELIMITERS.indexOf(_))&&(_=","),A===_)throw new Error("Comment character same as delimiter");A===!0?A="#":(typeof A!="string"||-1<u.BAD_DELIMITERS.indexOf(A))&&(A=!1),P!==`
`&&P!=="\r"&&P!==`\r
`&&(P=`
`);var I=0,J=!1;this.parse=function(Q,E,R){if(typeof Q!="string")throw new Error("Input must be a string");var U=Q.length,z=_.length,G=P.length,ae=A.length,ee=N(j),W=[],Z=[],re=[],O=I=0;if(!Q)return me();if(M||M!==!1&&Q.indexOf(Y)===-1){for(var de=Q.split(P),ce=0;ce<de.length;ce++){if(re=de[ce],I+=re.length,ce!==de.length-1)I+=P.length;else if(R)return me();if(!A||re.substring(0,ae)!==A){if(ee){if(W=[],$e(re.split(_)),le(),J)return me()}else $e(re.split(_));if(F&&F<=ce)return W=W.slice(0,F),me(!0)}}return me()}for(var pe=Q.indexOf(_,I),K=Q.indexOf(P,I),ne=new RegExp(x(X)+x(Y),"g"),Te=Q.indexOf(Y,I);;)if(Q[I]===Y)for(Te=I,I++;;){if((Te=Q.indexOf(Y,Te+1))===-1)return R||Z.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:W.length,index:I}),Fe();if(Te===U-1)return Fe(Q.substring(I,Te).replace(ne,Y));if(Y===X&&Q[Te+1]===X)Te++;else if(Y===X||Te===0||Q[Te-1]!==X){pe!==-1&&pe<Te+1&&(pe=Q.indexOf(_,Te+1));var Ee=Pe((K=K!==-1&&K<Te+1?Q.indexOf(P,Te+1):K)===-1?pe:Math.min(pe,K));if(Q.substr(Te+1+Ee,z)===_){re.push(Q.substring(I,Te).replace(ne,Y)),Q[I=Te+1+Ee+z]!==Y&&(Te=Q.indexOf(Y,I)),pe=Q.indexOf(_,I),K=Q.indexOf(P,I);break}if(Ee=Pe(K),Q.substring(Te+1+Ee,Te+1+Ee+G)===P){if(re.push(Q.substring(I,Te).replace(ne,Y)),ve(Te+1+Ee+G),pe=Q.indexOf(_,I),Te=Q.indexOf(Y,I),ee&&(le(),J))return me();if(F&&W.length>=F)return me(!0);break}Z.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:W.length,index:I}),Te++}}else if(A&&re.length===0&&Q.substring(I,I+ae)===A){if(K===-1)return me();I=K+G,K=Q.indexOf(P,I),pe=Q.indexOf(_,I)}else if(pe!==-1&&(pe<K||K===-1))re.push(Q.substring(I,pe)),I=pe+z,pe=Q.indexOf(_,I);else{if(K===-1)break;if(re.push(Q.substring(I,K)),ve(K+G),ee&&(le(),J))return me();if(F&&W.length>=F)return me(!0)}return Fe();function $e(be){W.push(be),O=I}function Pe(be){var Oe=0;return Oe=be!==-1&&(be=Q.substring(Te+1,be))&&be.trim()===""?be.length:Oe}function Fe(be){return R||(be===void 0&&(be=Q.substring(I)),re.push(be),I=U,$e(re),ee&&le()),me()}function ve(be){I=be,$e(re),re=[],K=Q.indexOf(P,I)}function me(be){if(w.header&&!E&&W.length&&!q){var Oe=W[0],je={},Ae=new Set(Oe);let Be=!1;for(let De=0;De<Oe.length;De++){let et=Oe[De];if(je[et=N(w.transformHeader)?w.transformHeader(et,De):et]){let Qe,kt=je[et];for(;Qe=et+"_"+kt,kt++,Ae.has(Qe););Ae.add(Qe),Oe[De]=Qe,je[et]++,Be=!0,(H=H===null?{}:H)[Qe]=et}else je[et]=1,Oe[De]=et;Ae.add(et)}Be&&console.warn("Duplicate headers found and renamed."),q=!0}return{data:W,errors:Z,meta:{delimiter:_,linebreak:P,aborted:J,truncated:!!be,cursor:O+(E||0),renamedHeaders:H}}}function le(){j(me()),W=[],Z=[]}},this.abort=function(){J=!0},this.getCharIndex=function(){return I}}function b(w){var _=w.data,P=o[_.workerId],A=!1;if(_.error)P.userError(_.error,_.file);else if(_.results&&_.results.data){var j={abort:function(){A=!0,y(_.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:C,resume:C};if(N(P.userStep)){for(var F=0;F<_.results.data.length&&(P.userStep({data:_.results.data[F],errors:_.results.errors,meta:_.results.meta},j),!A);F++);delete _.results}else N(P.userChunk)&&(P.userChunk(_.results,j,_.file),delete _.results)}_.finished&&!A&&y(_.workerId,_.results)}function y(w,_){var P=o[w];N(P.userComplete)&&P.userComplete(_),P.terminate(),delete o[w]}function C(){throw new Error("Not implemented.")}function S(w){if(typeof w!="object"||w===null)return w;var _,P=Array.isArray(w)?[]:{};for(_ in w)P[_]=S(w[_]);return P}function T(w,_){return function(){w.apply(_,arguments)}}function N(w){return typeof w=="function"}return u.parse=function(w,_){var P=(_=_||{}).dynamicTyping||!1;if(N(P)&&(_.dynamicTypingFunction=P,P={}),_.dynamicTyping=P,_.transform=!!N(_.transform)&&_.transform,!_.worker||!u.WORKERS_SUPPORTED)return P=null,u.NODE_STREAM_INPUT,typeof w=="string"?(w=(A=>A.charCodeAt(0)!==65279?A:A.slice(1))(w),P=new(_.download?f:p)(_)):w.readable===!0&&N(w.read)&&N(w.on)?P=new m(_):(n.File&&w instanceof File||w instanceof Object)&&(P=new h(_)),P.stream(w);(P=(()=>{var A;return!!u.WORKERS_SUPPORTED&&(A=(()=>{var j=n.URL||n.webkitURL||null,F=r.toString();return u.BLOB_URL||(u.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",F,")();"],{type:"text/javascript"})))})(),(A=new n.Worker(A)).onmessage=b,A.id=c++,o[A.id]=A)})()).userStep=_.step,P.userChunk=_.chunk,P.userComplete=_.complete,P.userError=_.error,_.step=N(_.step),_.chunk=N(_.chunk),_.complete=N(_.complete),_.error=N(_.error),delete _.worker,P.postMessage({input:w,config:_,workerId:P.id})},u.unparse=function(w,_){var P=!1,A=!0,j=",",F=`\r
`,M='"',H=M+M,q=!1,Y=null,X=!1,I=((()=>{if(typeof _=="object"){if(typeof _.delimiter!="string"||u.BAD_DELIMITERS.filter(function(E){return _.delimiter.indexOf(E)!==-1}).length||(j=_.delimiter),typeof _.quotes!="boolean"&&typeof _.quotes!="function"&&!Array.isArray(_.quotes)||(P=_.quotes),typeof _.skipEmptyLines!="boolean"&&typeof _.skipEmptyLines!="string"||(q=_.skipEmptyLines),typeof _.newline=="string"&&(F=_.newline),typeof _.quoteChar=="string"&&(M=_.quoteChar),typeof _.header=="boolean"&&(A=_.header),Array.isArray(_.columns)){if(_.columns.length===0)throw new Error("Option columns is empty");Y=_.columns}_.escapeChar!==void 0&&(H=_.escapeChar+M),_.escapeFormulae instanceof RegExp?X=_.escapeFormulae:typeof _.escapeFormulae=="boolean"&&_.escapeFormulae&&(X=/^[=+\-@\t\r].*$/)}})(),new RegExp(x(M),"g"));if(typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return J(null,w,q);if(typeof w[0]=="object")return J(Y||Object.keys(w[0]),w,q)}else if(typeof w=="object")return typeof w.data=="string"&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||Y),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:typeof w.data[0]=="object"?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||typeof w.data[0]=="object"||(w.data=[w.data])),J(w.fields||[],w.data||[],q);throw new Error("Unable to serialize unrecognized input");function J(E,R,U){var z="",G=(typeof E=="string"&&(E=JSON.parse(E)),typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(E)&&0<E.length),ae=!Array.isArray(R[0]);if(G&&A){for(var ee=0;ee<E.length;ee++)0<ee&&(z+=j),z+=Q(E[ee],ee);0<R.length&&(z+=F)}for(var W=0;W<R.length;W++){var Z=(G?E:R[W]).length,re=!1,O=G?Object.keys(R[W]).length===0:R[W].length===0;if(U&&!G&&(re=U==="greedy"?R[W].join("").trim()==="":R[W].length===1&&R[W][0].length===0),U==="greedy"&&G){for(var de=[],ce=0;ce<Z;ce++){var pe=ae?E[ce]:ce;de.push(R[W][pe])}re=de.join("").trim()===""}if(!re){for(var K=0;K<Z;K++){0<K&&!O&&(z+=j);var ne=G&&ae?E[K]:K;z+=Q(R[W][ne],K)}W<R.length-1&&(!U||0<Z&&!O)&&(z+=F)}}return z}function Q(E,R){var U,z;return E==null?"":E.constructor===Date?JSON.stringify(E).slice(1,25):(z=!1,X&&typeof E=="string"&&X.test(E)&&(E="'"+E,z=!0),U=E.toString().replace(I,H),(z=z||P===!0||typeof P=="function"&&P(E,R)||Array.isArray(P)&&P[R]||((G,ae)=>{for(var ee=0;ee<ae.length;ee++)if(-1<G.indexOf(ae[ee]))return!0;return!1})(U,u.BAD_DELIMITERS)||-1<U.indexOf(j)||U.charAt(0)===" "||U.charAt(U.length-1)===" ")?M+U+M:U)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!i&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=v,u.ParserHandle=g,u.NetworkStreamer=f,u.FileStreamer=h,u.StringStreamer=p,u.ReadableStreamStreamer=m,n.jQuery&&((a=n.jQuery).fn.parse=function(w){var _=w.config||{},P=[];return this.each(function(F){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var M=0;M<this.files.length;M++)P.push({file:this.files[M],inputElem:this,instanceConfig:a.extend({},_)})}),A(),this;function A(){if(P.length===0)N(w.complete)&&w.complete();else{var F,M,H,q,Y=P[0];if(N(w.before)){var X=w.before(Y.file,Y.inputElem);if(typeof X=="object"){if(X.action==="abort")return F="AbortError",M=Y.file,H=Y.inputElem,q=X.reason,void(N(w.error)&&w.error({name:F},M,H,q));if(X.action==="skip")return void j();typeof X.config=="object"&&(Y.instanceConfig=a.extend(Y.instanceConfig,X.config))}else if(X==="skip")return void j()}var I=Y.instanceConfig.complete;Y.instanceConfig.complete=function(J){N(I)&&I(J,Y.file,Y.inputElem),j()},u.parse(Y.file,Y.instanceConfig)}}function j(){P.splice(0,1),A()}}),s&&(n.onmessage=function(w){w=w.data,u.WORKER_ID===void 0&&w&&(u.WORKER_ID=w.workerId),typeof w.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(w.input,w.config),finished:!0}):(n.File&&w.input instanceof File||w.input instanceof Object)&&(w=u.parse(w.input,w.config))&&n.postMessage({workerId:u.WORKER_ID,results:w,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(d.prototype)).constructor=m,u})})(NU);var oRe=NU.exports;const Z2=hr(oRe),sD=[{value:"name",label:"Name"},{value:"phone",label:"Phone"},{value:"address",label:"Address"},{value:"date_of_birth",label:"Date of Birth"},{value:"email",label:"Email"},{value:"custom_field",label:"Custom Field"}];function lRe(){const[e,t]=L.useState(null),[r,n]=L.useState(null),[a,i]=L.useState(!1),[s,o]=L.useState([]),[c,u]=L.useState(1),[d,f]=L.useState([]),[h,p]=L.useState(!1),[m,g]=L.useState(50),[x,v]=L.useState(!1),[b,y]=L.useState(!1),[C,S]=L.useState(!1),T=50,{organization:N}=Zt(),{addToast:w}=Tr(),{theme:_,getThemeStyle:P}=Ht(),[A,j]=L.useState(!1),[F,M]=L.useState(0),[H,q]=L.useState(0),[Y,X]=L.useState(!1),[I,J]=L.useState(1),[Q,E]=L.useState(0),R=L.useCallback(Pe=>{const Fe=Pe[0];Fe&&(t(Fe),Fe.name.endsWith(".csv")?ae(Fe):(Fe.name.endsWith(".xls")||Fe.name.endsWith(".xlsx"))&&ee(Fe))},[]),{getRootProps:U,getInputProps:z,isDragActive:G}=tx({onDrop:R,accept:{"text/csv":[".csv"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},maxFiles:1}),ae=Pe=>{Z2.parse(Pe,{header:!0,complete:Fe=>{const ve=Object.keys(Fe.data[0]||{}).map(me=>({name:me,mappedTo:"",isCustomField:!1}));n({headers:ve,previewData:Fe.data})},error:Fe=>{w({type:"error",title:"Error",message:"Failed to parse CSV file"}),console.error("Error parsing CSV:",Fe)}})},ee=Pe=>{const Fe=new FileReader;Fe.onload=ve=>{var me;try{const le=(me=ve.target)==null?void 0:me.result,be=rh(le,{type:"array"}),Oe=be.SheetNames[0],je=be.Sheets[Oe],Ae=Q1.sheet_to_json(je,{header:1});if(Ae.length<2)throw new Error("Excel file must contain at least one row of data");const Be=Ae[0].map(et=>({name:et,mappedTo:"",isCustomField:!1})),De=Ae.slice(1).map(et=>{const Qe={};return Be.forEach((kt,jt)=>{var bt;Qe[kt.name]=((bt=et[jt])==null?void 0:bt.toString())||""}),Qe});n({headers:Be,previewData:De})}catch(le){console.error("Error parsing Excel file:",le),w({type:"error",title:"Error",message:"Failed to parse Excel file"})}},Fe.readAsArrayBuffer(Pe)},W=(Pe,Fe)=>{if(!r)return;const ve=Fe==="custom_field",me=r.headers.map(le=>le.name===Pe?{...le,mappedTo:Fe,isCustomField:ve}:le);n({...r,headers:me})},Z=Pe=>{if(!Pe)return null;const Fe=[{regex:/^(\d{2})\/(\d{2})\/(\d{4})(?:\s+(\d{2}):(\d{2}))?$/,format:ve=>{const[me,le,be,Oe,je,Ae]=ve,Be=je&&Ae?` ${je}:${Ae}:00`:"";return`${Oe}-${be}-${le}${Be}`}},{regex:/^(\d{4})-(\d{2})-(\d{2})(?:\s+(\d{2}):(\d{2}))?$/,format:ve=>{const[me,le,be,Oe,je,Ae]=ve,Be=je&&Ae?` ${je}:${Ae}:00`:"";return`${le}-${be}-${Oe}${Be}`}}];for(const ve of Fe){const me=Pe.match(ve.regex);if(me)return ve.format(me)}return null},re=async(Pe,Fe)=>{var ve;if(Y)return{success:!1,errors:[],processedCount:0};if(Pe.length===0)return{success:!0,errors:[],processedCount:0};try{const me=Pe.filter(je=>!je.name||!je.organization_id);if(me.length>0)return{success:!1,errors:me.map((je,Ae)=>({rowIndex:Fe+Ae,clientData:ce()[Fe+Ae],error:"Client is missing required fields (name, organization_id)"})),processedCount:0};const le=Pe.map(je=>{const{custom_fields:Ae,_originalIndex:Be,...De}=je;return De}),{data:be,error:Oe}=await We.from("clients").insert(le).select();if(Oe)return Oe.code==="23505"?{success:!1,errors:Pe.map((je,Ae)=>({rowIndex:Fe+Ae,clientData:ce()[Fe+Ae],error:"A client with this name already exists in the organization"})),processedCount:0}:Oe.code==="23503"?{success:!1,errors:Pe.map((je,Ae)=>({rowIndex:Fe+Ae,clientData:ce()[Fe+Ae],error:"Invalid organization ID"})),processedCount:0}:{success:!1,errors:Pe.map((je,Ae)=>({rowIndex:Fe+Ae,clientData:ce()[Fe+Ae],error:Oe.message})),processedCount:0};if(be&&be.length>0){const je=[],Ae=[],Be={};for(let De=0;De<Pe.length;De++){const et=be[De],Qe=Pe[De];if(Qe.custom_fields&&Qe.custom_fields.length>0){const kt=Qe.custom_fields.filter(bt=>!bt.title);if(kt.length>0){console.log(Qe.custom_fields,kt),je.push({rowIndex:Fe+De,clientData:ce()[Fe+De],error:"Custom field is missing required fields (title, value, type) or has invalid type"}),Be[Fe+De]=!0;continue}const jt=Qe.custom_fields.map(bt=>({...bt,client_id:et.id}));Ae.push(...jt)}}if(Ae.length>0){const{error:De}=await We.from("client_custom_fields").insert(Ae);if(De)for(let et=0;et<Pe.length;et++){const Qe=Fe+et;!Be[Qe]&&((ve=Pe[et].custom_fields)==null?void 0:ve.length)>0&&je.push({rowIndex:Qe,clientData:ce()[Qe],error:`Error adding custom fields: ${De.message}`})}}return{success:je.length===0,errors:je,processedCount:be.length}}return{success:!1,errors:[],processedCount:0}}catch(me){return{success:!1,errors:Pe.map((le,be)=>({rowIndex:Fe+be,clientData:ce()[Fe+be],error:me instanceof Error?me.message:"Unknown error occurred"})),processedCount:0}}},O=async()=>{if(!(!r||!N)){i(!0),j(!0),f([]),M(0),q(r.previewData.length),X(!1),J(1);try{const Pe=r.headers.filter(Ae=>Ae.mappedTo);if(!Pe.some(Ae=>Ae.mappedTo==="name"))throw new Error("Name field is required");const Fe=new Set,ve=new Set,me=r.previewData.map((Ae,Be)=>{const De={},et=[];return Pe.forEach(Qe=>{const kt=Ae[Qe.name];Qe.isCustomField?et.push({title:Qe.name,value:kt,type:"text"}):Qe.mappedTo==="date_of_birth"||Qe.mappedTo==="created_at"?De[Qe.mappedTo]=Z(kt):De[Qe.mappedTo]=kt}),De.organization_id=N.id,De.status="active",De._originalIndex=Be,et.length>0&&(De.custom_fields=et),De}),le=[],be=me.filter((Ae,Be)=>{let De=!1;if(b&&Ae.name){const et=Ae.name.trim().toLowerCase();Fe.has(et)?(le.push({rowIndex:Ae._originalIndex,clientData:ce()[Ae._originalIndex],error:"Duplicate client name in import batch"}),De=!0):Fe.add(et)}if(C&&Ae.phone){const et=Ae.phone.trim().toLowerCase();ve.has(et)?(le.push({rowIndex:Ae._originalIndex,clientData:ce()[Ae._originalIndex],error:"Duplicate phone number in import batch"}),De=!0):ve.add(et)}return!De});le.length>0&&f(le);let Oe=0;const je=Math.ceil(be.length/m);E(je);for(let Ae=0;Ae<be.length&&!Y;Ae+=m){J(Math.floor(Ae/m)+1);const Be=be.slice(Ae,Ae+m),De=Be[0]._originalIndex,{success:et,errors:Qe,processedCount:kt}=await re(Be,De);if(Oe+=kt,M(Oe),!et&&Qe.length>0&&f([...Qe]),Y){w({type:"warning",title:"Import Cancelled",message:`Import was cancelled. ${Oe} clients were imported successfully.`});return}}le.length>0?w({type:"warning",title:"Partial Success",message:`${Oe} clients imported successfully, ${le.length} duplicates`}):(w({type:"success",title:"Success",message:"All clients imported successfully"}),t(null),n(null))}catch(Pe){console.error("Error importing clients:",Pe),w({type:"error",title:"Error",message:Pe instanceof Error?Pe.message:"Failed to import clients"})}}},de=()=>{X(!0),j(!1),i(!1),f([]),M(0),q(0),J(1),E(0)},ce=()=>r?r.previewData.map(Pe=>{const Fe={name:null,phone:null,address:null,date_of_birth:null,email:null,created_at:null,custom_fields:[]};return r.headers.forEach(ve=>{if(ve.mappedTo){const me=Pe[ve.name];ve.isCustomField?Fe.custom_fields.push({title:ve.name,value:me,type:"text"}):Fe[ve.mappedTo]=me}}),Fe}):[],pe=Pe=>{if(!r)return sD;const Fe=r.headers.filter(ve=>ve.name!==Pe&&ve.mappedTo&&ve.mappedTo!=="custom_field").map(ve=>ve.mappedTo);return sD.filter(ve=>{var me;return!Fe.includes(ve.value)||((me=r.headers.find(le=>le.name===Pe))==null?void 0:me.mappedTo)===ve.value||ve.value==="custom_field"})},K=Pe=>{o(Pe?(r==null?void 0:r.previewData.map((Fe,ve)=>ve))||[]:[])},ne=(Pe,Fe)=>{o(Fe?[...s,Pe]:s.filter(ve=>ve!==Pe))},Te=()=>{if(!r)return;const Pe=r.previewData.filter((ve,me)=>!s.includes(me)),Fe=r.headers;n({headers:Fe,previewData:Pe}),o([])},Ee=()=>{if(!r)return[];const Pe=(c-1)*T,Fe=Pe+T;return r.previewData.slice(Pe,Fe)},$e=r?Math.ceil(r.previewData.length/T):0;return l.jsx("div",{className:`min-h-screen p-6 ${P(_,"background","primary")}`,children:l.jsxs("div",{className:"",children:[l.jsxs("div",{className:"flex items-center mb-8",children:[l.jsx(pm,{className:`h-8 w-8 mr-3 ${P(_,"text","accent")}`}),l.jsx("h1",{className:`text-2xl font-bold ${P(_,"text","primary")}`,children:"Import Clients"})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[l.jsxs("div",{className:"space-y-6 w-full lg:w-[350px] flex-shrink-0",children:[l.jsxs("div",{...U(),className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all duration-200
                ${G?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":P(_,"border","primary")}
                ${P(_,"background","secondary")}
                hover:border-blue-500 hover:bg-blue-50/50 dark:hover:bg-blue-900/10`,children:[l.jsx("input",{...z()}),e?l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-white dark:bg-gray-800 shadow-sm",children:[l.jsx(pd,{className:"h-6 w-6 text-blue-500"}),l.jsx("span",{className:`text-sm font-medium ${P(_,"text","primary")}`,children:e.name}),l.jsx("button",{onClick:Pe=>{Pe.stopPropagation(),t(null),n(null)},className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:l.jsx(cr,{className:"h-4 w-4 text-gray-500"})})]}),l.jsx("p",{className:`text-xs ${P(_,"text","muted")}`,children:"Drop another file to replace"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"p-4 rounded-full bg-blue-50 dark:bg-blue-900/20",children:l.jsx(Xs,{className:"h-8 w-8 text-blue-500"})})}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${P(_,"text","primary")}`,children:G?"Drop your file here":"Upload your CSV or Excel file"}),l.jsx("p",{className:`mt-1 text-xs ${P(_,"text","muted")}`,children:"Drag and drop your file here, or click to browse"})]})]})]}),r&&l.jsxs("div",{className:`p-6 rounded-xl ${P(_,"background","secondary")} shadow-sm`,children:[l.jsx("h3",{className:`text-sm font-medium mb-4 ${P(_,"text","primary")}`,children:"Map File Headers"}),l.jsx("div",{className:"space-y-4",children:r.headers.map(Pe=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`block text-xs font-medium ${P(_,"text","secondary")}`,children:Pe.name}),l.jsxs("select",{value:Pe.mappedTo,onChange:Fe=>W(Pe.name,Fe.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${P(_,"border","primary")} 
                          ${P(_,"background","primary")} 
                          ${P(_,"text","primary")}
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                          transition-colors duration-200`,children:[l.jsx("option",{value:"",children:"Select column"}),pe(Pe.name).map(Fe=>l.jsx("option",{value:Fe.value,children:Fe.label},Fe.value))]})]},Pe.name))}),l.jsx("button",{onClick:O,disabled:a,className:`mt-6 w-full py-3 px-4 rounded-lg font-medium text-xs text-white bg-blue-600 hover:bg-blue-700 
                    focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors duration-200`,children:a?l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),l.jsx("span",{children:"Importing..."})]}):"Import Clients"}),l.jsxs("div",{className:"mt-4",children:[l.jsx("button",{onClick:()=>v(!x),className:`text-xs font-medium ${P(_,"text","secondary")} hover:${P(_,"text","primary")} transition-colors duration-200`,children:x?"Hide Advanced Settings":"Show Advanced Settings"}),x&&l.jsxs("div",{className:"mt-4 space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`block text-xs font-medium ${P(_,"text","secondary")}`,children:"Batch Size"}),l.jsx("input",{type:"number",min:"1",max:"100",value:m,onChange:Pe=>g(Math.min(Math.max(1,parseInt(Pe.target.value)||1),100)),className:`w-full px-3 py-2 rounded-lg border text-sm ${P(_,"border","primary")} 
                            ${P(_,"background","primary")} 
                            ${P(_,"text","primary")}
                            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                            transition-colors duration-200`}),l.jsx("p",{className:`text-xs ${P(_,"text","muted")}`,children:"Number of records to process in each batch (1-100)"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`block text-xs font-medium ${P(_,"text","secondary")}`,children:"Filter Duplicates"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:b,onChange:Pe=>y(Pe.target.checked),className:`h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded ${P(_,"background","primary")}`}),l.jsx("label",{className:`ml-2 text-xs ${P(_,"text","primary")}`,children:"Filter out duplicate names"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:C,onChange:Pe=>S(Pe.target.checked),className:`h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded ${P(_,"background","primary")}`}),l.jsx("label",{className:`ml-2 text-xs ${P(_,"text","primary")}`,children:"Filter out duplicate phone numbers"})]})]}),l.jsx("p",{className:`text-xs ${P(_,"text","muted")}`,children:"When enabled, only the first occurrence of a duplicate name or phone number will be imported"})]})]})]})]})]}),r&&l.jsx("div",{className:"flex-1 overflow-x-auto",children:l.jsxs("div",{className:`p-6 rounded-xl ${P(_,"background","secondary")} shadow-sm`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:`text-sm font-medium ${P(_,"text","primary")}`,children:["Preview Data | ",r.previewData.length," row",r.previewData.length>1?"s":""," of clients"]}),s.length>0&&l.jsxs("button",{onClick:Te,className:`px-4 py-2 rounded-lg text-xs font-medium text-white bg-red-600 hover:bg-red-700 
                        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 
                        transition-colors duration-200`,children:["Remove Selected (",s.length,")"]})]}),l.jsx(El,{currentPage:c,totalPages:$e,onPageChange:u,className:"mb-4"}),l.jsx("div",{className:"lg:hidden space-y-4",children:Ee().map((Pe,Fe)=>{const ve=(c-1)*T+Fe,me=ce()[ve];return l.jsxs("div",{className:`p-4 rounded-lg ${P(_,"background","primary")} shadow-sm`,children:[l.jsx("div",{className:"flex items-center mb-3",children:l.jsx("input",{type:"checkbox",checked:s.includes(ve),onChange:le=>ne(ve,le.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),l.jsxs("div",{className:"space-y-3",children:[Object.entries(me).filter(([le])=>le!=="custom_fields").map(([le,be])=>l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:`text-xs font-medium ${P(_,"text","secondary")}`,children:le.charAt(0).toUpperCase()+le.slice(1).replace(/_/g," ")}),l.jsx("span",{className:`text-xs ${P(_,"text","primary")}`,children:be===null||be===""||!be?l.jsx("span",{className:"text-gray-400",children:"(empty)"}):be.toString()})]},le)),me.custom_fields&&me.custom_fields.length>0&&l.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:l.jsx("div",{className:"space-y-2",children:me.custom_fields.map((le,be)=>l.jsxs("div",{className:"flex justify-between text-xs",children:[l.jsx("span",{className:`font-medium ${P(_,"text","tertiary")}`,children:le.title}),l.jsx("span",{className:P(_,"text","primary"),children:le.value===null||le.value===""?l.jsx("span",{className:"text-gray-400",children:"(empty)"}):le.value})]},be))})})]})]},ve)})}),l.jsx("div",{className:"hidden lg:block overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium",children:l.jsx("input",{type:"checkbox",checked:s.length===r.previewData.length,onChange:Pe=>K(Pe.target.checked),className:`h-4 w-4 text-blue-600 focus:ring-blue-500 ${P(_,"background","primary")} border-gray-300 rounded`})}),l.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${P(_,"text","tertiary")} uppercase tracking-wider sticky left-0 bg-inherit`,children:"Client"}),Object.keys(ce()[0]||{}).filter(Pe=>Pe!=="custom_fields").map(Pe=>l.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${P(_,"text","tertiary")} uppercase tracking-wider`,children:Pe.charAt(0).toUpperCase()+Pe.slice(1).replace(/_/g," ")},Pe))]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:Ee().map((Pe,Fe)=>{const ve=(c-1)*T+Fe,me=ce()[ve];return l.jsxs(we.Fragment,{children:[l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors duration-150",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("input",{type:"checkbox",checked:s.includes(ve),onChange:le=>ne(ve,le.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),l.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-xs font-medium ${P(_,"text","primary")} sticky left-0 bg-inherit`,children:ve+1}),Object.entries(me).filter(([le])=>le!=="custom_fields").map(([le,be])=>l.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-xs ${P(_,"text","primary")}`,children:be===null||be===""||!be?l.jsx("span",{className:"text-gray-400",children:"(empty)"}):be.toString()},le))]}),me.custom_fields&&me.custom_fields.length>0&&l.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-800/30",children:l.jsx("td",{colSpan:Object.keys(me).filter(le=>le!=="custom_fields").length+1,className:"px-6 py-3",children:l.jsx("div",{className:"space-y-2",children:me.custom_fields.map((le,be)=>l.jsxs("div",{className:"flex items-center space-x-3 text-xs",children:[l.jsxs("span",{className:`font-medium ${P(_,"text","tertiary")}`,children:[le.title,":"]}),l.jsx("span",{className:P(_,"text","primary"),children:le.value===null||le.value===""?l.jsx("span",{className:"text-gray-400",children:"(empty)"}):le.value})]},be))})})})]},ve)})})]})}),l.jsx(El,{currentPage:c,totalPages:$e,onPageChange:u,className:"mt-4"})]})})]}),A&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsx("div",{className:`w-full max-w-4xl max-h-[80vh] overflow-hidden rounded-xl ${P(_,"background","primary")} shadow-xl`,children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:`text-sm font-semibold ${P(_,"text","primary")}`,children:"Importing Clients"}),l.jsx("button",{onClick:de,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:l.jsx(cr,{className:"h-6 w-6 text-red-500"})})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex justify-between text-xs mb-2",children:[l.jsxs("span",{className:P(_,"text","secondary"),children:["Progress: ",F," of ",H," clients"]}),l.jsxs("span",{className:P(_,"text","secondary"),children:[Math.round(F/H*100),"%"]})]}),l.jsx("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${F/H*100}%`}})})]}),l.jsx("div",{className:"mb-6",children:l.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.jsxs("div",{className:`p-4 rounded-lg ${P(_,"background","secondary")}`,children:[l.jsx("div",{className:`text-xs font-medium ${P(_,"text","secondary")}`,children:"Failed Imports"}),l.jsx("div",{className:`text-sm font-semibold ${P(_,"text","primary")}`,children:d.length})]})})}),d.length>0&&l.jsxs("div",{className:"mt-6",children:[l.jsxs("h4",{className:`text-xs font-medium mb-3 ${P(_,"text","secondary")}`,children:["Failed Imports (",d.length,")"]}),l.jsx("div",{className:"overflow-y-auto max-h-[40vh]",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"sticky top-0 bg-inherit",children:l.jsxs("tr",{children:[l.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${P(_,"text","tertiary")} uppercase tracking-wider`,children:"Row"}),l.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${P(_,"text","tertiary")} uppercase tracking-wider`,children:"Client Name"}),l.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${P(_,"text","tertiary")} uppercase tracking-wider`,children:"Error"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:d.map((Pe,Fe)=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[l.jsx("td",{className:`px-4 py-2 whitespace-nowrap text-xs ${P(_,"text","primary")}`,children:Pe.rowIndex+1}),l.jsx("td",{className:`px-4 py-2 text-xs ${P(_,"text","primary")}`,children:Pe.clientData.name||"(No name)"}),l.jsx("td",{className:`px-4 py-2 text-xs ${P(_,"text","primary")}`,children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ac,{className:"h-4 w-4 text-red-500 mr-2"}),Pe.error]})})]},Fe))})]})})]})]})})})]})})}const cRe=({isOpen:e,totalOrders:t,currentOrder:r,currentOperation:n,logs:a,onClose:i})=>{const{theme:s,getThemeStyle:o}=Ht(),c=r/t*100;return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:`w-full max-w-2xl max-h-[80vh] rounded-lg shadow-xl ${o(s,"background","primary")} p-6`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:`text-lg font-semibold ${o(s,"text","primary")}`,children:"Importing Orders"}),l.jsx("button",{onClick:i,className:`p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 ${o(s,"text","primary")}`,children:l.jsx(cr,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsxs("span",{className:o(s,"text","secondary"),children:["Progress: ",r," of ",t," orders"]}),l.jsxs("span",{className:o(s,"text","secondary"),children:[Math.round(c),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:l.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${c}%`}})})]}),l.jsx("div",{className:`mb-4 p-3 rounded-lg ${o(s,"background","secondary")}`,children:l.jsx("p",{className:`text-sm font-medium ${o(s,"text","primary")}`,children:n})}),l.jsx("div",{className:`h-64 overflow-y-auto rounded-lg ${o(s,"background","secondary")} p-4`,children:a.map((u,d)=>l.jsx("p",{className:`text-sm mb-1 ${u.toLowerCase().includes("error")?"text-red-500":o(s,"text","secondary")}`,children:u},d))})]})}):null},oD=e=>e.split("GH").filter(r=>r.trim()).map(r=>r.trim()).map(r=>{const n=r.split("-").map(u=>u.trim()),a=n[0].trim(),i=n[1].match(/(\d+)\s*pcs/),s=i?parseInt(i[1]):0,o=n[2].match(/([\d,]+)/),c=o?parseFloat(o[1].replace(/,/g,"")):0;return{name:a,quantity:s,price:c}}),Mv=[{value:"order_created_at",label:"Order Created At",match:"Created at"},{value:"order_number",label:"Order Number",match:"Order #"},{value:"status",label:"Status",match:"Status"},{value:"client_name",label:"Client Name",match:"Client name"},{value:"client_phone",label:"Client Phone",match:"Client phone number"},{value:"client_email",label:"Client Email",match:"Email"},{value:"client_address",label:"Client Address",match:"Address"},{value:"due_date",label:"Due Date",match:"Due date"},{value:"service",label:"Service",match:"Services/Labors"},{value:"product",label:"Product",match:"Products"},{value:"description",label:"Description",match:"Order description"},{value:"assigned_top_worker",label:"Assigned Top Tailor",match:"Assigned Top Tailor"},{value:"assigned_bottom_worker",label:"Assigned Down Tailor",match:"Assigned Down Tailor"},{value:"client_top_measurment",label:"Client Top Measurment",match:"Top Measurements"},{value:"client_bottom_measurment",label:"Client Bottom Measurment",match:"Down Measurements"}];function uRe(){const[e,t]=L.useState(null),[r,n]=L.useState(null),[a,i]=L.useState([]),[s,o]=L.useState(1),[c,u]=L.useState([]),[d,f]=L.useState([]),[h,p]=L.useState([]),[m,g]=L.useState([]),x=new Map,v=50,{organization:b}=Zt(),{theme:y,getThemeStyle:C}=Ht(),[S,T]=L.useState(!1),[N,w]=L.useState({totalOrders:0,currentOrder:0,currentOperation:"",logs:[]});L.useEffect(()=>{const ee=async()=>{let O=[],de=0;const ce=1e3;let pe=!1;for(;!pe;){const{data:K,error:ne}=await We.from("clients").select("id, name, phone").eq("organization_id",b==null?void 0:b.id).range(de,de+ce-1);if(ne){console.error("Error fetching clients:",ne);return}K&&(O=O.concat(K),K.length<ce?pe=!0:de+=ce)}console.log(`Loaded ${O.length} clients`),u(O)},W=async()=>{let O=[],de=0;const ce=1e3;let pe=!1;for(;!pe;){const{data:K,error:ne}=await We.from("services").select("id, name, cost").eq("organization_id",b==null?void 0:b.id).range(de,de+ce-1);if(ne){console.error("Error fetching services:",ne);return}K&&(O=O.concat(K),K.length<ce?pe=!0:de+=ce)}console.log(`Loaded ${O.length} services`),f(O)},Z=async()=>{let O=[],de=0;const ce=1e3;let pe=!1;for(;!pe;){const{data:K,error:ne}=await We.from("workers").select("id, name").eq("organization_id",b==null?void 0:b.id).range(de,de+ce-1);if(ne){console.error("Error fetching workers:",ne);return}K&&(O=O.concat(K),K.length<ce?pe=!0:de+=ce)}console.log(`Loaded ${O.length} workers`),p(O)},re=async()=>{let O=[],de=0;const ce=1e3;let pe=!1;for(;!pe;){const{data:K,error:ne}=await We.from("worker_projects").select("id, worker_id, name").eq("organization_id",b==null?void 0:b.id).eq("name","base").range(de,de+ce-1);if(ne){console.error("Error fetching worker projects:",ne);return}K&&(O=O.concat(K),K.length<ce?pe=!0:de+=ce)}console.log(`Loaded ${O.length} worker projects`),g(O)};b!=null&&b.id&&(ee(),W(),Z(),re())},[b==null?void 0:b.id]);const _=ee=>{w(W=>({...W,logs:[...W.logs,ee]}))},P=(ee,W)=>{w(Z=>({...Z,currentOrder:ee,currentOperation:W}))},A=L.useCallback(ee=>{const W=ee[0];W&&(t(W),W.name.endsWith(".csv")?H(W):(W.name.endsWith(".xls")||W.name.endsWith(".xlsx"))&&q(W))},[]),{getRootProps:j,getInputProps:F,isDragActive:M}=tx({onDrop:A,accept:{"text/csv":[".csv"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},maxFiles:1}),H=ee=>{Z2.parse(ee,{header:!0,complete:W=>{const Z={},re=Object.keys(W.data[0]||{}).map(O=>{const de=(Z[O]||0)+1;Z[O]=de;const ce=de>1?`${O}_${de}`:O,pe=Mv.find(K=>K.match.toLowerCase()===O.toLowerCase());return{name:ce,mappedTo:(pe==null?void 0:pe.value)||""}});n({headers:re,previewData:W.data})},error:W=>{console.error("Error parsing CSV:",W)}})},q=ee=>{const W=new FileReader;W.onload=Z=>{var re;try{const O=(re=Z.target)==null?void 0:re.result,de=rh(O,{type:"array"}),ce=de.SheetNames[0],pe=de.Sheets[ce],K=Q1.sheet_to_json(pe,{header:1});if(K.length<2)throw new Error("Excel file must contain at least one row of data");const ne={},Te=K[0].map($e=>{const Pe=(ne[$e]||0)+1;ne[$e]=Pe;const Fe=Pe>1?`${$e}_${Pe}`:$e,ve=Mv.find(me=>me.match.toLowerCase()===$e.toLowerCase());return{name:Fe,mappedTo:(ve==null?void 0:ve.value)||""}}),Ee=K.slice(1).map($e=>{const Pe={};return Te.forEach((Fe,ve)=>{var me;Pe[Fe.name]=((me=$e[ve])==null?void 0:me.toString())||""}),Pe});n({headers:Te,previewData:Ee})}catch(O){console.error("Error parsing Excel file:",O)}},W.readAsArrayBuffer(ee)},Y=(ee,W)=>{if(!r)return;const Z=r.headers.map(re=>re.name===ee?{...re,mappedTo:W}:re);n({...r,headers:Z})},X=()=>r?r.previewData.map(ee=>{const W={order_number:null,client_name:null,client_phone:null,description:null,due_date:null,status:null,total_amount:null,payment_status:null,created_at:null};return r.headers.forEach(Z=>{if(Z.mappedTo){const re=ee[Z.name];W[Z.mappedTo]=re}}),W}):[],I=ee=>{if(!r)return Mv;const W=r.headers.filter(Z=>Z.name!==ee&&Z.mappedTo).map(Z=>Z.mappedTo);return Mv.filter(Z=>{var re;return!W.includes(Z.value)||((re=r.headers.find(O=>O.name===ee))==null?void 0:re.mappedTo)===Z.value})},J=ee=>{i(ee?(r==null?void 0:r.previewData.map((W,Z)=>Z))||[]:[])},Q=(ee,W)=>{i(W?[...a,ee]:a.filter(Z=>Z!==ee))},E=()=>{if(!r)return;const ee=r.previewData.filter((Z,re)=>!a.includes(re)),W=r.headers;n({headers:W,previewData:ee}),i([])},R=()=>{if(!r)return[];const ee=(s-1)*v,W=ee+v;return r.previewData.slice(ee,W)},U=r?Math.ceil(r.previewData.length/v):0,z=ee=>{if(!ee)return"(empty)";if(typeof ee=="string"&&/^\d+\.\d+$/.test(ee)||typeof ee=="number"){const W=typeof ee=="string"?parseFloat(ee):ee,Z=new Date(1900,0,1),re=24*60*60*1e3;return new Date(Z.getTime()+(W-2)*re).toISOString().replace("T"," ").substring(0,16)}return ee.toString()},G=()=>{setTimeout(async()=>{if(!r)return;w({totalOrders:r.previewData.length,currentOrder:0,currentOperation:"Starting import process...",logs:[]}),T(!0);const ee=r.headers.filter(ve=>ve.mappedTo);if(!ee.some(ve=>ve.mappedTo==="order_number")){_("Error: Order Number field is required");return}let W=[...c],Z=[...d],re=[...h],O=[...m];const de=r.previewData.map((ve,me)=>{const le={};return ee.forEach(be=>{const Oe=ve[be.name];be.mappedTo==="due_date"||be.mappedTo==="order_created_at"?le[be.mappedTo]=z(Oe):le[be.mappedTo]=Oe}),le.status&&(le.status.toLowerCase()==="new"?le.status="pending":le.status.toLowerCase()==="done"?le.status="completed":le.status="in_progress"),le.status=le.status||"pending",le.order_type="service_order",le});_(`Processing ${de.length} orders...`),P(0,"Identifying new clients..."),_("Step 1: Identifying clients to create...");const ce=new Map;if(de.forEach(ve=>{var be,Oe;if(!ve.client_name&&!ve.client_phone)return;const me=`${ve.client_name.trim().toLowerCase()}|${ve.client_phone.trim()}`;!W.some(je=>je.name.toLowerCase()===ve.client_name.trim().toLowerCase()&&je.phone===ve.client_phone.trim())&&!ce.has(me)&&ce.set(me,{name:ve.client_name.trim(),phone:ve.client_phone.trim(),topMeasurement:(be=ve.client_top_measurment)==null?void 0:be.trim(),bottomMeasurement:(Oe=ve.client_bottom_measurment)==null?void 0:Oe.trim()})}),_(`Found ${ce.size} new clients to create`),ce.size>0){P(0,"Creating new clients in bulk..."),_("Step 2: Creating new clients in bulk...");const ve=Array.from(ce.values()).map(je=>({organization_id:b==null?void 0:b.id,name:je.name,phone:je.phone,status:"active"})),{data:me,error:le}=await We.from("clients").insert(ve).select();if(le){_(`Error creating clients: ${le.message}`);return}_(`Successfully created ${me.length} clients`);const be=me.map(je=>({id:je.id,name:je.name,phone:je.phone}));_(`New clients: ${JSON.stringify(be)}`),u(je=>[...je,...be]),W=[...W,...be];const Oe=new Map;if(me.forEach(je=>{const Ae=`${je.name.toLowerCase()}|${je.phone}`,Be=ce.get(Ae);Be&&(Be.topMeasurement||Be.bottomMeasurement)&&Oe.set(je.id,{clientId:je.id,topMeasurement:Be.topMeasurement,bottomMeasurement:Be.bottomMeasurement})}),Oe.size>0){P(0,"Adding client measurements..."),_("Step 3: Adding client measurements...");const je=[];for(const[Ae,Be]of Oe.entries())Be.topMeasurement&&je.push({client_id:Ae,title:"Top Measurment",value:Be.topMeasurement,type:"text"}),Be.bottomMeasurement&&je.push({client_id:Ae,title:"Bottom Measurment",value:Be.bottomMeasurement,type:"text"});if(je.length>0){const{error:Ae}=await We.from("client_custom_fields").insert(je);_(Ae?`Warning: Error adding client measurements: ${Ae.message}`:`Added ${je.length} client measurements`)}}}P(0,"Identifying services to create..."),_("Step 4: Identifying services to create...");const pe=new Map;for(const ve of de)if(ve.service){const me=oD(ve.service);for(const le of me){const be=`${le.name}|${le.price}`;!Z.some(je=>je.name.toLowerCase()===le.name.toLowerCase()&&parseFloat(je.cost.toString())===le.price)&&!pe.has(be)&&pe.set(be,{name:le.name,cost:le.price})}}if(_(`Found ${pe.size} new services to create`),pe.size>0){P(0,"Creating services in bulk..."),_("Step 5: Creating services in bulk...");const ve=Array.from(pe.values()).map(be=>({organization_id:b==null?void 0:b.id,name:be.name,cost:be.cost})),{data:me,error:le}=await We.from("services").upsert(ve,{onConflict:"name,cost"}).select();if(le)_(`Error creating services: ${le.message}`);else{_(`Successfully created ${me.length} services`);const be=me.map(Oe=>({id:Oe.id,name:Oe.name,cost:Oe.cost}));_(`New services: ${JSON.stringify(be)}`),f(Oe=>[...Oe,...be]),Z=[...Z,...be]}}P(0,"Identifying workers to create..."),_("Step 6: Identifying workers to create...");const K=new Map;for(const ve of de){if(ve.assigned_top_worker){const me=ve.assigned_top_worker.trim();!re.some(be=>be.name.toLowerCase()===me.toLowerCase())&&!K.has(me)&&K.set(me,{name:me})}if(ve.assigned_bottom_worker){const me=ve.assigned_bottom_worker.trim();!re.some(be=>be.name.toLowerCase()===me.toLowerCase())&&!K.has(me)&&K.set(me,{name:me})}}_(`Found ${K.size} new workers to create`);let ne=new Map;if(K.size>0){P(0,"Creating workers in bulk..."),_("Step 7: Creating workers in bulk...");const ve=Array.from(K.values()).map(be=>({organization_id:b==null?void 0:b.id,name:be.name,status:"active"})),{data:me,error:le}=await We.from("workers").insert(ve).select();if(le)_(`Error creating workers: ${le.message}`);else{_(`Successfully created ${me.length} workers`);const be=me.map(je=>({id:je.id,name:je.name}));_(`New workers: ${JSON.stringify(be)}`),p(je=>[...je,...be]),re=[...re,...be],me.forEach(je=>{ne.set(je.name,je.id)}),P(0,"Creating worker projects..."),_("Step 8: Creating worker projects in bulk...");const Oe=me.map(je=>({organization_id:b==null?void 0:b.id,worker_id:je.id,name:"base",description:"Base project for worker",price:0,status:"active"}));if(Oe.length>0){const{data:je,error:Ae}=await We.from("worker_projects").insert(Oe).select();if(Ae)_(`Error creating worker projects: ${Ae.message}`);else{_(`Successfully created ${je.length} worker projects`);const Be=je.map(De=>({id:De.id,worker_id:De.worker_id,name:De.name}));g(De=>[...De,...Be]),O=[...O,...Be]}}}}_("Step 9: Preparing order data...");let Te=Date.now();const Ee=(ve,me)=>{const le=Date.now();le-Te>200&&(P(ve,me),Te=le)},$e=[];for(let ve=0;ve<de.length;ve++){const me=de[ve];Ee(ve+1,`Preparing order: ${me.order_number||"No order number"}`),_(`
Preparing order: ${ve+1} of ${de.length}`);const le=W.find(Ae=>{var Be,De;return Ae.name.toLowerCase()===((Be=me.client_name)==null?void 0:Be.trim().toLowerCase())&&Ae.phone===((De=me.client_phone)==null?void 0:De.trim())});if(!le){_(`Warning: Client not found for order ${me.order_number}. Client name: "${me.client_name}", phone: "${me.client_phone}"`);continue}me.client_id=le.id;const be=[];if(me.service){const Ae=oD(me.service);for(const Be of Ae){const De=Z.find(et=>et.name.toLowerCase()===Be.name.toLowerCase()&&parseFloat(et.cost.toString())===Be.price);De?(be.push({service_id:De.id,quantity:Be.quantity,cost:Be.price*Be.quantity}),Be.price*Be.quantity===0&&console.log(`Order ${me.order_number} service cost: ${Be.price*Be.quantity}`)):_(`Warning: Service not found for "${Be.name}" with cost ${Be.price}`)}}const Oe=[];if(me.assigned_top_worker)try{await ae(me.assigned_top_worker.trim(),Oe,ne,re,O)}catch(Ae){_(`Error processing top worker: ${Ae instanceof Error?Ae.message:"Unknown error"}`)}if(me.assigned_bottom_worker)try{await ae(me.assigned_bottom_worker.trim(),Oe,ne,re,O)}catch(Ae){_(`Error processing bottom worker: ${Ae instanceof Error?Ae.message:"Unknown error"}`)}const je=be.reduce((Ae,Be)=>Ae+Be.cost,0);$e.push({order:{organization_id:b==null?void 0:b.id,order_number:me.order_number,client_id:me.client_id,description:me.description||null,due_date:me.due_date||null,status:me.status,total_amount:je,outstanding_balance:je,payment_status:"unpaid",created_at:me.order_created_at||new Date().toISOString()},services:be,workers:Oe})}_(`Prepared ${$e.length} orders for bulk creation`),_("Step 10: Creating orders in batches...");const Pe=[],Fe=20;for(let ve=0;ve<$e.length;ve+=Fe){const me=$e.slice(ve,ve+Fe);P(ve+1,`Creating orders batch ${Math.floor(ve/Fe)+1} of ${Math.ceil($e.length/Fe)}`);const le=me.map(be=>be.order);try{_(`Creating batch of ${le.length} orders...`);const{data:be,error:Oe}=await We.from("orders").insert(le).select();if(Oe){_(`Error creating order batch: ${Oe.message}`);continue}if(!be||be.length===0){_("No orders were created in this batch");continue}_(`Successfully created ${be.length} orders`);for(const je of be){const Ae=me.find(Be=>Be.order.order_number===je.order_number);Ae&&Pe.push({id:je.id,order_number:je.order_number,services:Ae.services,workers:Ae.workers,description:Ae.order.description,created_at:Ae.order.order_created_at})}}catch(be){_(`Error in batch creation: ${be instanceof Error?be.message:"Unknown error"}`)}}if(_(`Successfully created ${Pe.length} orders out of ${$e.length} prepared`),Pe.some(ve=>ve.services.length>0)){_("Step 11: Creating order services in batches...");const ve=Pe.flatMap(me=>me.services.map(le=>({order_id:me.id,service_id:le.service_id,quantity:le.quantity,cost:le.cost})));if(ve.length>0)for(let le=0;le<ve.length;le+=50){const be=ve.slice(le,le+50);try{_(`Creating batch of ${be.length} order services...`);const{error:Oe}=await We.from("order_services").insert(be);_(Oe?`Error creating order services batch: ${Oe.message}`:`Successfully created ${be.length} order services`)}catch(Oe){_(`Error in service batch creation: ${Oe instanceof Error?Oe.message:"Unknown error"}`)}}}if(Pe.some(ve=>ve.workers.length>0)){_("Step 12: Creating order workers in batches...");const ve=Pe.flatMap(me=>{const le=new Set;return me.workers.filter(be=>{const Oe=`${be.worker_id}-${be.project_id}`;return le.has(Oe)?(_(`Skipping duplicate worker assignment for order ${me.order_number}: worker ${be.worker_id}, project ${be.project_id}`),!1):(le.add(Oe),!0)}).map(be=>({order_id:me.id,worker_id:be.worker_id,project_id:be.project_id,status:"assigned"}))});if(ve.length>0)for(let le=0;le<ve.length;le+=50){const be=ve.slice(le,le+50);try{_(`Creating batch of ${be.length} order workers...`);const{error:Oe}=await We.from("order_workers").insert(be);_(Oe?`Error creating order workers batch: ${Oe.message}`:`Successfully created ${be.length} order workers`)}catch(Oe){_(`Error in worker batch creation: ${Oe instanceof Error?Oe.message:"Unknown error"}`)}}}_(`
Import process completed`),P(de.length,`Import completed. Created ${Pe.length} orders.`)},0)};async function ae(ee,W,Z,re,O){if(x.has(ee)){const Te=x.get(ee);W.push({worker_id:Te.workerId,project_id:Te.projectId});return}if(Z.has(ee)){const Te=Z.get(ee),Ee=O.find($e=>$e.worker_id===Te&&$e.name==="base");if(Ee){W.push({worker_id:Te,project_id:Ee.id}),x.set(ee,{workerId:Te,projectId:Ee.id});return}}const de=re.find(Te=>Te.name.toLowerCase()===ee.toLowerCase());if(de){const Te=O.find(Ee=>Ee.worker_id===de.id&&Ee.name==="base");if(Te){W.push({worker_id:de.id,project_id:Te.id}),x.set(ee,{workerId:de.id,projectId:Te.id});return}else{const{data:Ee,error:$e}=await We.from("worker_projects").insert([{organization_id:b==null?void 0:b.id,worker_id:de.id,name:"base",description:"Base project for worker",price:0,status:"active"}]).select().single();if($e)throw new Error(`Error creating base project: ${$e.message}`);W.push({worker_id:de.id,project_id:Ee.id}),g(Pe=>[...Pe,{id:Ee.id,worker_id:de.id,name:"base"}]),O.push({id:Ee.id,worker_id:de.id,name:"base"}),x.set(ee,{workerId:de.id,projectId:Ee.id});return}}const{data:ce,error:pe}=await We.from("workers").insert([{organization_id:b==null?void 0:b.id,name:ee}]).select().single();if(pe)throw new Error(`Error creating fallback worker: ${pe.message}`);const{data:K,error:ne}=await We.from("worker_projects").insert([{organization_id:b==null?void 0:b.id,worker_id:ce.id,name:"base",description:"Base project for worker",price:0,status:"active"}]).select().single();if(ne)throw new Error(`Error creating fallback project: ${ne.message}`);W.push({worker_id:ce.id,project_id:K.id}),p(Te=>[...Te,{id:ce.id,name:ee}]),re.push({id:ce.id,name:ee}),g(Te=>[...Te,{id:K.id,worker_id:ce.id,name:"base"}]),O.push({id:K.id,worker_id:ce.id,name:"base"}),x.set(ee,{workerId:ce.id,projectId:K.id})}return l.jsxs("div",{className:`min-h-screen p-6 ${C(y,"background","primary")}`,children:[l.jsx(cRe,{isOpen:S,totalOrders:N.totalOrders,currentOrder:N.currentOrder,currentOperation:N.currentOperation,logs:N.logs,onClose:()=>T(!1)}),l.jsxs("div",{className:"",children:[l.jsxs("div",{className:"flex items-center mb-8",children:[l.jsx(Xs,{className:`h-8 w-8 mr-3 ${C(y,"text","accent")}`}),l.jsx("h1",{className:`text-2xl font-bold ${C(y,"text","primary")}`,children:"Import Orders"})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[l.jsxs("div",{className:"space-y-6 w-full lg:w-[350px] flex-shrink-0",children:[l.jsxs("div",{...j(),className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all duration-200
                ${M?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":C(y,"border","primary")}
                ${C(y,"background","secondary")}
                hover:border-blue-500 hover:bg-blue-50/50 dark:hover:bg-blue-900/10`,children:[l.jsx("input",{...F()}),e?l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-white dark:bg-gray-800 shadow-sm",children:[l.jsx(pd,{className:"h-6 w-6 text-blue-500"}),l.jsx("span",{className:`text-sm font-medium ${C(y,"text","primary")}`,children:e.name}),l.jsx("button",{onClick:ee=>{ee.stopPropagation(),t(null),n(null)},className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:l.jsx(cr,{className:"h-4 w-4 text-gray-500"})})]}),l.jsx("p",{className:`text-xs ${C(y,"text","muted")}`,children:"Drop another file to replace"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"p-4 rounded-full bg-blue-50 dark:bg-blue-900/20",children:l.jsx(Xs,{className:"h-8 w-8 text-blue-500"})})}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${C(y,"text","primary")}`,children:M?"Drop your file here":"Upload your CSV or Excel file"}),l.jsx("p",{className:`mt-1 text-xs ${C(y,"text","muted")}`,children:"Drag and drop your file here, or click to browse"})]})]})]}),r&&l.jsxs("div",{className:`p-6 rounded-xl ${C(y,"background","secondary")} shadow-sm`,children:[l.jsx("h3",{className:`text-sm font-medium mb-4 ${C(y,"text","primary")}`,children:"Map File Headers"}),l.jsx("div",{className:"space-y-4",children:r.headers.map(ee=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`block text-xs font-medium ${C(y,"text","secondary")}`,children:ee.name}),l.jsxs("select",{value:ee.mappedTo,onChange:W=>Y(ee.name,W.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${C(y,"border","primary")} 
                          ${C(y,"background","primary")} 
                          ${C(y,"text","primary")}
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                          transition-colors duration-200`,children:[l.jsx("option",{value:"",children:"Select column"}),I(ee.name).map(W=>l.jsx("option",{value:W.value,children:W.label},W.value))]})]},ee.name))}),l.jsx("button",{onClick:G,className:`mt-6 w-full py-3 px-4 rounded-lg font-medium text-xs text-white bg-blue-600 hover:bg-blue-700 
                    focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 
                    transition-colors duration-200`,children:"Generate Orders"})]})]}),r&&l.jsx("div",{className:"flex-1 overflow-x-auto",children:l.jsxs("div",{className:`p-6 rounded-xl ${C(y,"background","secondary")} shadow-sm`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:`text-sm font-medium ${C(y,"text","primary")}`,children:["Preview Data | ",r.previewData.length," row",r.previewData.length>1?"s":""," of orders"]}),a.length>0&&l.jsxs("button",{onClick:E,className:`px-4 py-2 rounded-lg text-xs font-medium text-white bg-red-600 hover:bg-red-700 
                        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 
                        transition-colors duration-200`,children:["Remove Selected (",a.length,")"]})]}),l.jsx(El,{currentPage:s,totalPages:U,onPageChange:o,className:"mb-4"}),l.jsx("div",{className:"lg:hidden space-y-4",children:R().map((ee,W)=>{const Z=(s-1)*v+W,re=X()[Z];return l.jsxs("div",{className:`p-4 rounded-lg ${C(y,"background","primary")} shadow-sm`,children:[l.jsx("div",{className:"flex items-center mb-3",children:l.jsx("input",{type:"checkbox",checked:a.includes(Z),onChange:O=>Q(Z,O.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),l.jsx("div",{className:"space-y-3",children:Object.entries(re).map(([O,de])=>l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:`text-xs font-medium ${C(y,"text","secondary")}`,children:O.charAt(0).toUpperCase()+O.slice(1).replace(/_/g," ")}),l.jsx("span",{className:`text-xs ${C(y,"text","primary")}`,children:de===null||de===""||!de?l.jsx("span",{className:"text-gray-400",children:"(empty)"}):z(de)})]},O))})]},Z)})}),l.jsx("div",{className:"hidden lg:block overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium",children:l.jsx("input",{type:"checkbox",checked:a.length===r.previewData.length,onChange:ee=>J(ee.target.checked),className:`h-4 w-4 text-blue-600 focus:ring-blue-500 ${C(y,"background","primary")} border-gray-300 rounded`})}),l.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${C(y,"text","tertiary")} uppercase tracking-wider sticky left-0 bg-inherit`,children:"Order"}),Object.keys(X()[0]||{}).map(ee=>l.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${C(y,"text","tertiary")} uppercase tracking-wider`,children:ee.charAt(0).toUpperCase()+ee.slice(1).replace(/_/g," ")},ee))]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:R().map((ee,W)=>{const Z=(s-1)*v+W,re=X()[Z];return l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors duration-150",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("input",{type:"checkbox",checked:a.includes(Z),onChange:O=>Q(Z,O.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),l.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-xs font-medium ${C(y,"text","primary")} sticky left-0 bg-inherit`,children:Z+1}),Object.entries(re).map(([O,de])=>l.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-xs ${C(y,"text","primary")}`,children:de===null||de===""||!de?l.jsx("span",{className:"text-gray-400",children:"(empty)"}):z(de)},O))]},Z)})})]})}),l.jsx(El,{currentPage:s,totalPages:U,onPageChange:o,className:"mt-4"})]})})]})]})]})}const dRe=({isOpen:e,totalPayments:t,currentPayment:r,currentOperation:n,logs:a,onClose:i})=>{const{theme:s,getThemeStyle:o}=Ht(),c=r/t*100;return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:`w-full max-w-2xl max-h-[80vh] rounded-lg shadow-xl ${o(s,"background","primary")} p-6`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:`text-lg font-semibold ${o(s,"text","primary")}`,children:"Importing Payments"}),l.jsx("button",{onClick:i,className:`p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 ${o(s,"text","primary")}`,children:l.jsx(cr,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsxs("span",{className:o(s,"text","secondary"),children:["Progress: ",r," of ",t," payments"]}),l.jsxs("span",{className:o(s,"text","secondary"),children:[Math.round(c),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:l.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${c}%`}})})]}),l.jsx("div",{className:`mb-4 p-3 rounded-lg ${o(s,"background","secondary")}`,children:l.jsx("p",{className:`text-sm font-medium ${o(s,"text","primary")}`,children:n})}),l.jsx("div",{className:`h-64 overflow-y-auto rounded-lg ${o(s,"background","secondary")} p-4`,children:a.map((u,d)=>l.jsx("p",{className:`text-sm mb-1 ${u.toLowerCase().includes("error")?"text-red-500":o(s,"text","secondary")}`,children:u},d))})]})}):null};function fRe(){const[e,t]=L.useState(null),[r,n]=L.useState(null),[a,i]=L.useState([]),[s,o]=L.useState(1),[c,u]=L.useState("cash"),[d,f]=L.useState([]),h=50,{organization:p}=Zt(),{theme:m,getThemeStyle:g}=Ht();we.useEffect(()=>{(async()=>{if(p!=null&&p.id)try{const{data:z,error:G}=await We.from("orders").select("*").eq("organization_id",p.id);if(G){console.error("Error fetching orders:",G);return}z&&f(z)}catch(z){console.error("Error in fetchOrders:",z)}})()},[p==null?void 0:p.id]),p!=null&&p.currency;const x=()=>[{value:"created_at",label:"Created At",match:"Date and time"},{value:"transaction_reference",label:"Transaction Reference",match:"Client"},{value:"order_number",label:"Order Number",match:"Comment"},{value:"amount",label:"Amount",match:"Amount, GH"}],[v,b]=L.useState(!1),[y,C]=L.useState({totalPayments:0,currentPayment:0,currentOperation:"",logs:[]}),S=U=>{if(!U)return null;const z=U.match(/[A-Z]+-ORD-\d+/);return z?z[0]:null},T=U=>{C(z=>({...z,logs:[...z.logs,U]}))},N=(U,z)=>{C(G=>({...G,currentPayment:U,currentOperation:z}))},w=L.useCallback(U=>{const z=U[0];z&&(t(z),z.name.endsWith(".csv")?j(z):(z.name.endsWith(".xls")||z.name.endsWith(".xlsx"))&&F(z))},[]),{getRootProps:_,getInputProps:P,isDragActive:A}=tx({onDrop:w,accept:{"text/csv":[".csv"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},maxFiles:1}),j=U=>{Z2.parse(U,{header:!0,complete:z=>{const G={},ae=Object.keys(z.data[0]||{}).map(W=>{const Z=(G[W]||0)+1;G[W]=Z;const re=Z>1?`${W}_${Z}`:W,O=x().find(de=>de.match.toLowerCase()===W.toLowerCase());return{name:re,mappedTo:(O==null?void 0:O.value)||""}}),ee=z.data.filter(W=>{const Z=ae.find(O=>O.mappedTo==="order_number");if(!Z)return!1;const re=S(W[Z.name]);return re||T(`Skipping row: No valid order number found in "${W[Z.name]}"`),re!==null});n({headers:ae,previewData:ee})},error:z=>{console.error("Error parsing CSV:",z)}})},F=U=>{const z=new FileReader;z.onload=G=>{var ae;try{const ee=(ae=G.target)==null?void 0:ae.result,W=rh(ee,{type:"array"}),Z=W.SheetNames[0],re=W.Sheets[Z],O=Q1.sheet_to_json(re,{header:1});if(O.length<2)throw new Error("Excel file must contain at least one row of data");const de={},ce=O[0].map(K=>{const ne=(de[K]||0)+1;de[K]=ne;const Te=ne>1?`${K}_${ne}`:K,Ee=x().find($e=>$e.match.toLowerCase()===K.toLowerCase());return{name:Te,mappedTo:(Ee==null?void 0:Ee.value)||""}}),pe=O.slice(1).map(K=>{const ne={};return ce.forEach((Te,Ee)=>{var $e;ne[Te.name]=(($e=K[Ee])==null?void 0:$e.toString())||""}),ne}).filter(K=>{const ne=ce.find(Ee=>Ee.mappedTo==="order_number");if(!ne)return!1;const Te=S(K[ne.name]);return Te||T(`Skipping row: No valid order number found in "${K[ne.name]}"`),Te!==null});n({headers:ce,previewData:pe})}catch(ee){console.error("Error parsing Excel file:",ee)}},z.readAsArrayBuffer(U)},M=(U,z)=>{if(!r)return;const G=r.headers.map(ae=>ae.name===U?{...ae,mappedTo:z}:ae);n({...r,headers:G})},H=()=>r?r.previewData.map(U=>{const z={created_at:null,transaction_reference:null,order_number:null,amount:null};return r.headers.forEach(G=>{if(G.mappedTo){const ae=U[G.name];if(G.mappedTo==="order_number"){const ee=S(ae);z[G.mappedTo]=ee||ae}else z[G.mappedTo]=ae}}),z}):[],q=U=>{if(!r)return x();const z=r.headers.filter(G=>G.name!==U&&G.mappedTo).map(G=>G.mappedTo);return x().filter(G=>{var ae;return!z.includes(G.value)||((ae=r.headers.find(ee=>ee.name===U))==null?void 0:ae.mappedTo)===G.value})},Y=U=>{i(U?(r==null?void 0:r.previewData.map((z,G)=>G))||[]:[])},X=(U,z)=>{i(z?[...a,U]:a.filter(G=>G!==U))},I=()=>{if(!r)return;const U=r.previewData.filter((G,ae)=>!a.includes(ae)),z=r.headers;n({headers:z,previewData:U}),i([])},J=()=>{if(!r)return[];const U=(s-1)*h,z=U+h;return r.previewData.slice(U,z)},Q=r?Math.ceil(r.previewData.length/h):0,E=U=>{if(!U)return"(empty)";if(typeof U=="string"&&/^\d+\.\d+$/.test(U)||typeof U=="number"){const z=typeof U=="string"?parseFloat(U):U,G=new Date(1900,0,1),ae=24*60*60*1e3;return new Date(G.getTime()+(z-2)*ae).toISOString().replace("T"," ").substring(0,16)}return U.toString()},R=()=>{setTimeout(async()=>{if(!r)return;C({totalPayments:r.previewData.length,currentPayment:0,currentOperation:"Starting import process...",logs:[]}),b(!0);const U=r.headers.filter(Z=>Z.mappedTo);if(!U.some(Z=>Z.mappedTo==="amount")){T("Error: Amount field is required");return}const G=r.previewData.map((Z,re)=>{const O={};return U.forEach(de=>{const ce=Z[de.name];if(de.mappedTo==="created_at")O[de.mappedTo]=E(ce);else if(de.mappedTo==="amount"){const pe=ce.replace(/[^0-9.-]+/g,"");O[de.mappedTo]=parseFloat(pe)}else if(de.mappedTo==="order_number"){const pe=S(ce);if(pe)O[de.mappedTo]=pe,T(`Extracted order number ${pe} from comment: ${ce}`);else{T(`Warning: Could not extract order number from comment: ${ce}`);return}}else O[de.mappedTo]=ce}),O}).map((Z,re)=>{const O=Z.order_number,de=d.find(ce=>ce.order_number.toLowerCase()===(O==null?void 0:O.toLowerCase()));return de?{reference_id:de.id,reference_type:"service_order",organization_id:p==null?void 0:p.id,transaction_reference:Z.transaction_reference,amount:Z.amount,currency:(p==null?void 0:p.currency)||"GHS",payment_method:c,created_at:Z.created_at,status:"active",order:de}:(T(`Warning: No matching order found for order number: ${O}`),null)}).filter(Z=>Z!==null);T(`Processing ${G.length} valid payments...`);const ae=20;let ee=0;const W=new Map;G.forEach(Z=>{W.has(Z.order.id)||W.set(Z.order.id,Z.order.outstanding_balance)});for(let Z=0;Z<G.length;Z+=ae){const re=G.slice(Z,Z+ae);N(Z+1,`Creating payments batch ${Math.floor(Z/ae)+1} of ${Math.ceil(G.length/ae)}`);try{T(`Creating batch of ${re.length} payments...`);const{data:O,error:de}=await We.from("payments").insert(re.map(({order:ce,...pe})=>pe)).select();if(de){T(`Error creating payment batch: ${de.message}`);continue}if(O){for(const ce of re)try{const K=(W.get(ce.order.id)||ce.order.outstanding_balance)-ce.amount;W.set(ce.order.id,K);const{error:ne}=await We.from("orders").update({outstanding_balance:K,payment_status:K<=0?"paid":"partially_paid"}).eq("id",ce.order.id);T(ne?`Error updating order balance for order ${ce.order.order_number}: ${ne.message}`:`Updated balance for order ${ce.order.order_number}: ${K}`)}catch(pe){T(`Error updating order balance: ${pe instanceof Error?pe.message:"Unknown error"}`)}ee+=O.length,T(`Successfully created ${O.length} payments`)}}catch(O){T(`Error in batch creation: ${O instanceof Error?O.message:"Unknown error"}`)}}T(`
Import process completed`),N(G.length,`Import completed. Created ${ee} payments.`)},0)};return l.jsxs("div",{className:`min-h-screen p-6 ${g(m,"background","primary")}`,children:[l.jsx(dRe,{isOpen:v,totalPayments:y.totalPayments,currentPayment:y.currentPayment,currentOperation:y.currentOperation,logs:y.logs,onClose:()=>b(!1)}),l.jsxs("div",{className:"",children:[l.jsxs("div",{className:"flex items-center mb-8",children:[l.jsx(Xs,{className:`h-8 w-8 mr-3 ${g(m,"text","accent")}`}),l.jsx("h1",{className:`text-2xl font-bold ${g(m,"text","primary")}`,children:"Import Payments"})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[l.jsxs("div",{className:"space-y-6 w-full lg:w-[350px] flex-shrink-0",children:[l.jsxs("div",{..._(),className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all duration-200
                ${A?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":g(m,"border","primary")}
                ${g(m,"background","secondary")}
                hover:border-blue-500 hover:bg-blue-50/50 dark:hover:bg-blue-900/10`,children:[l.jsx("input",{...P()}),e?l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-white dark:bg-gray-800 shadow-sm",children:[l.jsx(pd,{className:"h-6 w-6 text-blue-500"}),l.jsx("span",{className:`text-sm font-medium ${g(m,"text","primary")}`,children:e.name}),l.jsx("button",{onClick:U=>{U.stopPropagation(),t(null),n(null)},className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:l.jsx(cr,{className:"h-4 w-4 text-gray-500"})})]}),l.jsx("p",{className:`text-xs ${g(m,"text","muted")}`,children:"Drop another file to replace"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"p-4 rounded-full bg-blue-50 dark:bg-blue-900/20",children:l.jsx(Xs,{className:"h-8 w-8 text-blue-500"})})}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${g(m,"text","primary")}`,children:A?"Drop your file here":"Upload your CSV or Excel file"}),l.jsx("p",{className:`mt-1 text-xs ${g(m,"text","muted")}`,children:"Drag and drop your file here, or click to browse"})]})]})]}),r&&l.jsxs("div",{className:`p-6 rounded-xl ${g(m,"background","secondary")} shadow-sm`,children:[l.jsx("h3",{className:`text-sm font-medium mb-4 ${g(m,"text","primary")}`,children:"Payment Method"}),l.jsxs("select",{value:c,onChange:U=>u(U.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${g(m,"border","primary")} 
                                    ${g(m,"background","primary")} 
                                    ${g(m,"text","primary")}
                                    focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                                    transition-colors duration-200`,children:[l.jsx("option",{value:"cash",children:"Cash"}),l.jsx("option",{value:"mobile_money",children:"Mobile Money"}),l.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),l.jsx("option",{value:"check",children:"Check"}),l.jsx("option",{value:"card_payment",children:"Card Payment"})]})]}),r&&l.jsxs("div",{className:`p-6 rounded-xl ${g(m,"background","secondary")} shadow-sm`,children:[l.jsx("h3",{className:`text-sm font-medium mb-4 ${g(m,"text","primary")}`,children:"Map File Headers"}),l.jsx("div",{className:"space-y-4",children:r.headers.map(U=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`block text-xs font-medium ${g(m,"text","secondary")}`,children:U.name}),l.jsxs("select",{value:U.mappedTo,onChange:z=>M(U.name,z.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${g(m,"border","primary")} 
                          ${g(m,"background","primary")} 
                          ${g(m,"text","primary")}
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                          transition-colors duration-200`,children:[l.jsx("option",{value:"",children:"Select column"}),q(U.name).map(z=>l.jsx("option",{value:z.value,children:z.label},z.value))]})]},U.name))}),l.jsx("button",{onClick:R,className:`mt-6 w-full py-3 px-4 rounded-lg font-medium text-xs text-white bg-blue-600 hover:bg-blue-700 
                    focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 
                    transition-colors duration-200`,children:"Import Payments"})]})]}),r&&l.jsx("div",{className:"flex-1 overflow-x-auto",children:l.jsxs("div",{className:`p-6 rounded-xl ${g(m,"background","secondary")} shadow-sm`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:`text-sm font-medium ${g(m,"text","primary")}`,children:["Preview Data | ",r.previewData.length," row",r.previewData.length>1?"s":""," of payments"]}),a.length>0&&l.jsxs("button",{onClick:I,className:`px-4 py-2 rounded-lg text-xs font-medium text-white bg-red-600 hover:bg-red-700 
                        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 
                        transition-colors duration-200`,children:["Remove Selected (",a.length,")"]})]}),l.jsx(El,{currentPage:s,totalPages:Q,onPageChange:o,className:"mb-4"}),l.jsx("div",{className:"lg:hidden space-y-4",children:J().map((U,z)=>{const G=(s-1)*h+z,ae=H()[G];return l.jsxs("div",{className:`p-4 rounded-lg ${g(m,"background","primary")} shadow-sm`,children:[l.jsx("div",{className:"flex items-center mb-3",children:l.jsx("input",{type:"checkbox",checked:a.includes(G),onChange:ee=>X(G,ee.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),l.jsx("div",{className:"space-y-3",children:Object.entries(ae).map(([ee,W])=>l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:`text-xs font-medium ${g(m,"text","secondary")}`,children:ee.charAt(0).toUpperCase()+ee.slice(1).replace(/_/g," ")}),l.jsx("span",{className:`text-xs ${g(m,"text","primary")}`,children:W===null||W===""||!W?l.jsx("span",{className:"text-gray-400",children:"(empty)"}):E(W)})]},ee))})]},G)})}),l.jsx("div",{className:"hidden lg:block overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium",children:l.jsx("input",{type:"checkbox",checked:a.length===r.previewData.length,onChange:U=>Y(U.target.checked),className:`h-4 w-4 text-blue-600 focus:ring-blue-500 ${g(m,"background","primary")} border-gray-300 rounded`})}),l.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g(m,"text","tertiary")} uppercase tracking-wider sticky left-0 bg-inherit`,children:"Payment"}),Object.keys(H()[0]||{}).map(U=>l.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g(m,"text","tertiary")} uppercase tracking-wider`,children:U.charAt(0).toUpperCase()+U.slice(1).replace(/_/g," ")},U))]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:J().map((U,z)=>{const G=(s-1)*h+z,ae=H()[G];return l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors duration-150",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("input",{type:"checkbox",checked:a.includes(G),onChange:ee=>X(G,ee.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),l.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-xs font-medium ${g(m,"text","primary")} sticky left-0 bg-inherit`,children:G+1}),Object.entries(ae).map(([ee,W])=>l.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-xs ${g(m,"text","primary")}`,children:W===null||W===""||!W?l.jsx("span",{className:"text-gray-400",children:"(empty)"}):E(W)},ee))]},G)})})]})}),l.jsx(El,{currentPage:s,totalPages:Q,onPageChange:o,className:"mt-4"})]})})]})]})]})}const hRe=({isOpen:e,totalOrders:t,currentOrder:r,currentOperation:n,logs:a,onClose:i})=>{const{theme:s,getThemeStyle:o}=Ht(),c=r/t*100;return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:`w-full max-w-2xl max-h-[80vh] rounded-lg shadow-xl ${o(s,"background","primary")} p-6`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:`text-lg font-semibold ${o(s,"text","primary")}`,children:"Updating Orders"}),l.jsx("button",{onClick:i,className:`p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 ${o(s,"text","primary")}`,children:l.jsx(cr,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsxs("span",{className:o(s,"text","secondary"),children:["Progress: ",r," of ",t," orders"]}),l.jsxs("span",{className:o(s,"text","secondary"),children:[Math.round(c),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:l.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${c}%`}})})]}),l.jsx("div",{className:`mb-4 p-3 rounded-lg ${o(s,"background","secondary")}`,children:l.jsx("p",{className:`text-sm font-medium ${o(s,"text","primary")}`,children:n})}),l.jsx("div",{className:`h-64 overflow-y-auto rounded-lg ${o(s,"background","secondary")} p-4`,children:a.map((u,d)=>l.jsx("p",{className:`text-sm mb-1 ${u.toLowerCase().includes("error")?"text-red-500":o(s,"text","secondary")}`,children:u},d))})]})}):null},Fv=[{value:"order_number",label:"Order Number",match:"Order Number"},{value:"amount",label:"Amount",match:"Amount"}];function pRe(){const[e,t]=L.useState(null),[r,n]=L.useState(null),[a,i]=L.useState([]),[s,o]=L.useState(1),c=50,{organization:u}=Zt(),{theme:d,getThemeStyle:f}=Ht(),[h,p]=L.useState(!1),[m,g]=L.useState({totalOrders:0,currentOrder:0,currentOperation:"",logs:[]}),x=X=>{g(I=>({...I,logs:[...I.logs,X]}))},v=(X,I)=>{g(J=>({...J,currentOrder:X,currentOperation:I}))},b=L.useCallback(X=>{const I=X[0];I&&(t(I),I.name.endsWith(".csv")?T(I):(I.name.endsWith(".xls")||I.name.endsWith(".xlsx"))&&N(I))},[]),{getRootProps:y,getInputProps:C,isDragActive:S}=tx({onDrop:b,accept:{"text/csv":[".csv"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},maxFiles:1}),T=X=>{Z2.parse(X,{header:!0,complete:I=>{const J={},Q=Object.keys(I.data[0]||{}).map(E=>{const R=(J[E]||0)+1;J[E]=R;const U=R>1?`${E}_${R}`:E,z=Fv.find(G=>G.match.toLowerCase()===E.toLowerCase());return{name:U,mappedTo:(z==null?void 0:z.value)||""}});n({headers:Q,previewData:I.data})},error:I=>{console.error("Error parsing CSV:",I)}})},N=X=>{const I=new FileReader;I.onload=J=>{var Q;try{const E=(Q=J.target)==null?void 0:Q.result,R=rh(E,{type:"array"}),U=R.SheetNames[0],z=R.Sheets[U],G=Q1.sheet_to_json(z,{header:1});if(G.length<2)throw new Error("Excel file must contain at least one row of data");const ae={},ee=G[0].map(Z=>{const re=(ae[Z]||0)+1;ae[Z]=re;const O=re>1?`${Z}_${re}`:Z,de=Fv.find(ce=>ce.match.toLowerCase()===Z.toLowerCase());return{name:O,mappedTo:(de==null?void 0:de.value)||""}}),W=G.slice(1).map(Z=>{const re={};return ee.forEach((O,de)=>{var ce;re[O.name]=((ce=Z[de])==null?void 0:ce.toString())||""}),re});n({headers:ee,previewData:W})}catch(E){console.error("Error parsing Excel file:",E)}},I.readAsArrayBuffer(X)},w=(X,I)=>{if(!r)return;const J=r.headers.map(Q=>Q.name===X?{...Q,mappedTo:I}:Q);n({...r,headers:J})},_=()=>r?r.previewData.map(X=>{const I={order_number:null,amount:null};return r.headers.forEach(J=>{if(J.mappedTo){const Q=X[J.name];I[J.mappedTo]=Q}}),I}):[],P=X=>{if(!r)return Fv;const I=r.headers.filter(J=>J.name!==X&&J.mappedTo).map(J=>J.mappedTo);return Fv.filter(J=>{var Q;return!I.includes(J.value)||((Q=r.headers.find(E=>E.name===X))==null?void 0:Q.mappedTo)===J.value})},A=X=>{i(X?(r==null?void 0:r.previewData.map((I,J)=>J))||[]:[])},j=(X,I)=>{i(I?[...a,X]:a.filter(J=>J!==X))},F=()=>{if(!r)return;const X=r.previewData.filter((J,Q)=>!a.includes(Q)),I=r.headers;n({headers:I,previewData:X}),i([])},M=()=>{if(!r)return[];const X=(s-1)*c,I=X+c;return r.previewData.slice(X,I)},H=r?Math.ceil(r.previewData.length/c):0,q=X=>X?X.toString():"(empty)",Y=()=>{setTimeout(async()=>{if(!r)return;g({totalOrders:r.previewData.length,currentOrder:0,currentOperation:"Starting update process...",logs:[]}),p(!0);const X=r.headers.filter(E=>E.mappedTo);if(!X.some(E=>E.mappedTo==="order_number")||!X.some(E=>E.mappedTo==="amount")){x("Error: Both Order Number and Amount fields are required");return}const I=r.previewData.map((E,R)=>{const U={};return X.forEach(z=>{const G=E[z.name];if(z.mappedTo==="amount"){const ae=G.replace(/[^0-9.-]+/g,"");U[z.mappedTo]=parseFloat(ae)||0}else U[z.mappedTo]=G}),U.organization_id=u==null?void 0:u.id,U});x(`Processing ${I.length} orders...`);const J=100;let Q=0;for(let E=0;E<I.length;E+=J){const R=I.slice(E,E+J);v(E+1,`Updating batch ${Math.floor(E/J)+1} of ${Math.ceil(I.length/J)}`);try{const{error:U}=await We.rpc("batch_update_order_amounts",{orders:R});U?x(`Error updating batch: ${U.message}`):Q+=R.length}catch(U){x(`Error in batch update: ${U instanceof Error?U.message:"Unknown error"}`)}}x(`
Update process completed. Successfully updated ${Q} out of ${I.length} orders.`),v(I.length,`Update completed. Updated ${Q} orders.`)},0)};return l.jsxs("div",{className:`min-h-screen p-6 ${f(d,"background","primary")}`,children:[l.jsx(hRe,{isOpen:h,totalOrders:m.totalOrders,currentOrder:m.currentOrder,currentOperation:m.currentOperation,logs:m.logs,onClose:()=>p(!1)}),l.jsxs("div",{className:"",children:[l.jsxs("div",{className:"flex items-center mb-8",children:[l.jsx(Xs,{className:`h-8 w-8 mr-3 ${f(d,"text","accent")}`}),l.jsx("h1",{className:`text-2xl font-bold ${f(d,"text","primary")}`,children:"Update Orders"})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[l.jsxs("div",{className:"space-y-6 w-full lg:w-[350px] flex-shrink-0",children:[l.jsxs("div",{...y(),className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all duration-200
                ${S?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":f(d,"border","primary")}
                ${f(d,"background","secondary")}
                hover:border-blue-500 hover:bg-blue-50/50 dark:hover:bg-blue-900/10`,children:[l.jsx("input",{...C()}),e?l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-white dark:bg-gray-800 shadow-sm",children:[l.jsx(pd,{className:"h-6 w-6 text-blue-500"}),l.jsx("span",{className:`text-sm font-medium ${f(d,"text","primary")}`,children:e.name}),l.jsx("button",{onClick:X=>{X.stopPropagation(),t(null),n(null)},className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:l.jsx(cr,{className:"h-4 w-4 text-gray-500"})})]}),l.jsx("p",{className:`text-xs ${f(d,"text","muted")}`,children:"Drop another file to replace"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"p-4 rounded-full bg-blue-50 dark:bg-blue-900/20",children:l.jsx(Xs,{className:"h-8 w-8 text-blue-500"})})}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${f(d,"text","primary")}`,children:S?"Drop your file here":"Upload your CSV or Excel file"}),l.jsx("p",{className:`mt-1 text-xs ${f(d,"text","muted")}`,children:"Drag and drop your file here, or click to browse"})]})]})]}),r&&l.jsxs("div",{className:`p-6 rounded-xl ${f(d,"background","secondary")} shadow-sm`,children:[l.jsx("h3",{className:`text-sm font-medium mb-4 ${f(d,"text","primary")}`,children:"Map File Headers"}),l.jsx("div",{className:"space-y-4",children:r.headers.map(X=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`block text-xs font-medium ${f(d,"text","secondary")}`,children:X.name}),l.jsxs("select",{value:X.mappedTo,onChange:I=>w(X.name,I.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${f(d,"border","primary")} 
                          ${f(d,"background","primary")} 
                          ${f(d,"text","primary")}
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                          transition-colors duration-200`,children:[l.jsx("option",{value:"",children:"Select column"}),P(X.name).map(I=>l.jsx("option",{value:I.value,children:I.label},I.value))]})]},X.name))}),l.jsx("button",{onClick:Y,className:`mt-6 w-full py-3 px-4 rounded-lg font-medium text-xs text-white bg-blue-600 hover:bg-blue-700 
                    focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 
                    transition-colors duration-200`,children:"Update Orders"})]})]}),r&&l.jsx("div",{className:"flex-1 overflow-x-auto",children:l.jsxs("div",{className:`p-6 rounded-xl ${f(d,"background","secondary")} shadow-sm`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:`text-sm font-medium ${f(d,"text","primary")}`,children:["Preview Data | ",r.previewData.length," row",r.previewData.length>1?"s":""," of orders"]}),a.length>0&&l.jsxs("button",{onClick:F,className:`px-4 py-2 rounded-lg text-xs font-medium text-white bg-red-600 hover:bg-red-700 
                        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 
                        transition-colors duration-200`,children:["Remove Selected (",a.length,")"]})]}),l.jsx(El,{currentPage:s,totalPages:H,onPageChange:o,className:"mb-4"}),l.jsx("div",{className:"lg:hidden space-y-4",children:M().map((X,I)=>{const J=(s-1)*c+I,Q=_()[J];return l.jsxs("div",{className:`p-4 rounded-lg ${f(d,"background","primary")} shadow-sm`,children:[l.jsx("div",{className:"flex items-center mb-3",children:l.jsx("input",{type:"checkbox",checked:a.includes(J),onChange:E=>j(J,E.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),l.jsx("div",{className:"space-y-3",children:Object.entries(Q).map(([E,R])=>l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:`text-xs font-medium ${f(d,"text","secondary")}`,children:E.charAt(0).toUpperCase()+E.slice(1).replace(/_/g," ")}),l.jsx("span",{className:`text-xs ${f(d,"text","primary")}`,children:R===null||R===""||!R?l.jsx("span",{className:"text-gray-400",children:"(empty)"}):q(R)})]},E))})]},J)})}),l.jsx("div",{className:"hidden lg:block overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium",children:l.jsx("input",{type:"checkbox",checked:a.length===r.previewData.length,onChange:X=>A(X.target.checked),className:`h-4 w-4 text-blue-600 focus:ring-blue-500 ${f(d,"background","primary")} border-gray-300 rounded`})}),l.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${f(d,"text","tertiary")} uppercase tracking-wider sticky left-0 bg-inherit`,children:"Order"}),Object.keys(_()[0]||{}).map(X=>l.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${f(d,"text","tertiary")} uppercase tracking-wider`,children:X.charAt(0).toUpperCase()+X.slice(1).replace(/_/g," ")},X))]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:M().map((X,I)=>{const J=(s-1)*c+I,Q=_()[J];return l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors duration-150",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("input",{type:"checkbox",checked:a.includes(J),onChange:E=>j(J,E.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),l.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-xs font-medium ${f(d,"text","primary")} sticky left-0 bg-inherit`,children:J+1}),Object.entries(Q).map(([E,R])=>l.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-xs ${f(d,"text","primary")}`,children:R===null||R===""||!R?l.jsx("span",{className:"text-gray-400",children:"(empty)"}):q(R)},E))]},J)})})]})}),l.jsx(El,{currentPage:s,totalPages:H,onPageChange:o,className:"mt-4"})]})})]})]})]})}function mRe(){var v,b;const{user:e,organization:t}=Zt(),r=Lo(),n=fd(),{theme:a,toggleTheme:i}=Ht(),[s,o]=L.useState(!1),[c,u]=L.useState(!1),[d,f]=L.useState(!1),[h,p]=L.useState({isMobile:!1,isTablet:!1,isDesktop:!1});if(L.useEffect(()=>{const y=()=>{const C=window.innerWidth;p({isMobile:C<640,isTablet:C>=640&&C<1024,isDesktop:C>=1024}),C<640&&o(!1)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),!(t&&t.country&&t.city&&t.address&&t.employee_count&&t.currency))return l.jsx(Vu,{to:"/organization-setup"});if(!e||!t)return null;const g=async()=>{try{await Zt.getState().signOut(),r("/auth/signin")}catch(y){console.error("Error signing out:",y)}},x=[{name:"Overview",path:"/dashboard",icon:Ys},{name:"Workers",path:"/dashboard/workers",icon:s$},{name:"Clients",path:"/dashboard/clients",icon:wY},{name:"Orders",path:"/dashboard/orders",icon:hY},{name:"Sales",path:"/dashboard/sales",icon:Jf},{name:"Tasks",path:"/dashboard/tasks",icon:Cp},{name:"Inventory",path:"/dashboard/inventory",icon:ca},{name:"Finances",path:"/dashboard/finances",icon:la},{name:"Settings",path:"/dashboard/settings",icon:bY}];return l.jsxs("div",{className:`min-h-screen flex ${nt(a,"background","secondary")}`,children:[d&&l.jsx("div",{className:`fixed inset-0 ${nt(a,"modal","overlay")} z-50 flex items-center justify-center p-4`,children:l.jsx("div",{className:`${nt(a,"modal","background")} rounded-lg shadow-xl w-full max-w-md`,children:l.jsxs("div",{className:"p-4 sm:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:`text-lg font-semibold ${nt(a,"text","primary")}`,children:"Confirm Sign Out"}),l.jsx("button",{onClick:()=>f(!1),className:nt(a,"text","accent"),children:l.jsx(cr,{className:"h-5 w-5"})})]}),l.jsx("p",{className:`${nt(a,"text","secondary")} mb-6`,children:"Are you sure you want to sign out? You will need to sign in again to access your account."}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>f(!1),className:`px-4 py-2 text-sm font-medium rounded-md ${a==="dark"?"text-gray-300 bg-gray-700 hover:bg-gray-600":"text-gray-700 bg-gray-100 hover:bg-gray-200"}`,children:"Cancel"}),l.jsx("button",{onClick:g,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md",children:"Sign Out"})]})]})})}),!h.isMobile&&l.jsxs("div",{className:`fixed h-screen shadow-lg ${nt(a,"sidebar","shadow")} will-change-transform ${s?"w-64":"w-12"} transition-[width] duration-300 ease-in-out overflow-hidden ${nt(a,"sidebar","background")}`,children:[l.jsx("div",{className:"p-2",children:l.jsxs("div",{className:"flex items-center relative",children:[l.jsx("div",{className:"absolute left-0 z-10",children:l.jsx(Ys,{className:`h-6 w-6 ${nt(a,"text","secondary")} min-w-[24px]`})}),l.jsx("div",{className:"ml-8 transform-gpu transition-transform duration-300 origin-left",style:{transform:`scaleX(${s?1:0})`,opacity:s?1:0,transition:"transform 300ms ease-in-out, opacity 200ms ease-in-out"},children:l.jsx("span",{className:`text-lg font-semibold whitespace-nowrap ${nt(a,"text","primary")}`,children:t.name})})]})}),l.jsx("div",{className:"px-2",children:l.jsx("button",{onClick:()=>o(!s),title:s?"Collapse sidebar":"Expand sidebar",className:`w-full flex items-center justify-center p-1.5 transition-colors ${nt(a,"text","accent")}`,children:l.jsx("div",{className:"transform-gpu transition-transform duration-300",children:s?l.jsx(w3,{className:"h-4 w-4"}):l.jsx(Xf,{className:"h-4 w-4"})})})}),l.jsx("nav",{className:"overflow-y-auto max-h-[calc(100vh-8rem)]",children:x.map(y=>{const C=n.pathname===y.path||y.path!=="/dashboard"&&n.pathname.startsWith(y.path);return l.jsxs(Rr,{to:y.path,title:y.name,className:`flex items-center relative ${s?"px-3 mx-2":"px-1.5"} py-2.5 rounded transition-[padding,margin,background-color] duration-200 ${C?`${nt(a,"sidebar","itemActive")} ${nt(a,"sidebar","itemActiveText")}`:`${nt(a,"text","secondary")} ${nt(a,"sidebar","itemHover")}`}`,children:[l.jsx("div",{className:"absolute left-3 z-10",children:l.jsx(y.icon,{className:`h-5 w-5 ${C?nt(a,"text","inverse"):nt(a,"text","accent")}`})}),l.jsx("div",{className:"ml-8 transform-gpu transition-transform duration-300 origin-left",style:{transform:`scaleX(${s?1:0})`,opacity:s?1:0,transition:"transform 300ms ease-in-out, opacity 200ms ease-in-out"},children:l.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:y.name})})]},y.name)})}),l.jsx("div",{className:"absolute bottom-4 w-full",children:l.jsxs("button",{onClick:()=>f(!0),title:"Sign out",className:`flex items-center relative w-full ${s?"px-3 mx-2":"px-1.5"} py-2.5 ${nt(a,"text","secondary")} ${nt(a,"interactive","hover","background")} rounded-lg transition-[padding,margin,background-color] duration-200`,children:[l.jsx("div",{className:"absolute left-3 z-10",children:l.jsx(cA,{className:"h-5 w-5"})}),l.jsx("div",{className:"ml-8 transform-gpu transition-transform duration-300 origin-left",style:{transform:`scaleX(${s?1:0})`,opacity:s?1:0,transition:"transform 300ms ease-in-out, opacity 200ms ease-in-out"},children:l.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Sign out"})})]})})]}),h.isMobile&&l.jsxs("div",{className:`fixed inset-0 z-50 ${c?"block":"hidden"}`,children:[l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>u(!1)}),l.jsxs("div",{className:`fixed inset-y-0 left-0 w-64 ${a==="dark"?"bg-gray-800":"bg-white"} shadow-lg transform transition-transform duration-300 ease-in-out ${c?"translate-x-0":"-translate-x-full"}`,children:[l.jsxs("div",{className:"p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ys,{className:`h-6 w-6 ${a==="dark"?"text-gray-300":"text-gray-700"}`}),l.jsx("span",{className:`text-lg font-semibold ${a==="dark"?"text-white":"text-gray-900"}`,children:t.name})]}),l.jsx("button",{onClick:()=>u(!1),className:`${a==="dark"?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,children:l.jsx(cr,{className:"h-6 w-6"})})]}),l.jsx("nav",{className:"mt-2 overflow-y-auto max-h-[calc(100vh-8rem)]",children:x.map(y=>{const C=n.pathname===y.path||y.path!=="/dashboard"&&n.pathname.startsWith(y.path);return l.jsxs(Rr,{to:y.path,onClick:()=>u(!1),className:`flex items-center px-4 py-3 ${C?`${nt(a,"sidebar","itemActive")} ${nt(a,"sidebar","itemActiveText")}`:`${nt(a,"text","secondary")} ${nt(a,"sidebar","itemHover")}`}`,children:[l.jsx(y.icon,{className:`h-5 w-5 mr-3 ${C?"text-white":"text-gray-400"}`}),l.jsx("span",{className:"text-sm font-medium",children:y.name})]},y.name)})}),l.jsx("div",{className:"absolute bottom-4 w-full px-4",children:l.jsxs("button",{onClick:()=>f(!0),className:`w-full flex items-center justify-center px-4 py-2 rounded-md ${a==="dark"?"text-gray-300 bg-gray-700 hover:bg-gray-600":"text-gray-700 bg-gray-100 hover:bg-gray-200"}`,children:[l.jsx(cA,{className:"h-5 w-5 mr-2"}),l.jsx("span",{children:"Sign out"})]})})]})]}),l.jsxs("div",{className:`flex-1 transition-[margin] duration-300 ease-in-out ${nt(a,"background","secondary")}`,style:{marginLeft:h.isMobile?"0":s?"16rem":"3rem"},children:[l.jsx("header",{className:`${nt(a,"header","background")} shadow-sm ${nt(a,"sidebar","shadow")} sticky top-0 z-10`,children:l.jsx("div",{className:"px-2 sm:px-2 md:px-4 lg:px-6",children:l.jsxs("div",{className:"h-12 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[n.pathname!=="/dashboard"&&l.jsx("button",{onClick:()=>r(-1),title:"Go back",className:`p-[5px] sm:p-[6px] ${nt(a,"header","buttonHover")} rounded-full transition-colors  border ${nt(a,"border","primary")}`,children:l.jsx(Gu,{className:`h-4 w-4 sm:h-5 sm:w-5 ${nt(a,"text","accent")}`})}),l.jsx("span",{className:`text-base sm:text-lg font-semibold truncate max-w-[150px] xs:max-w-[200px] sm:max-w-none ${nt(a,"text","primary")}`,children:((v=x.find(y=>n.pathname===y.path||y.path!=="/dashboard"&&n.pathname.startsWith(y.path)))==null?void 0:v.name)||"Dashboard"})]}),l.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[l.jsx("div",{className:"flex items-center space-x-2",title:`Signed in as ${e==null?void 0:e.email}`,children:l.jsx("div",{className:`h-7 w-7 sm:h-8 sm:w-8 ${nt(a,"avatar","background")} rounded-full flex items-center justify-center`,children:l.jsx("span",{className:`text-sm sm:text-base ${nt(a,"avatar","text")}`,children:(b=e==null?void 0:e.email)==null?void 0:b[0].toUpperCase()})})}),l.jsx("button",{onClick:i,className:`relative p-1.5 sm:p-2 ${nt(a,"header","buttonHover")} rounded-full transition-colors`,title:a==="dark"?"Switch to light mode":"Switch to dark mode",children:a==="dark"?l.jsx(L_,{className:`h-4 w-4 sm:h-5 sm:w-5 ${nt(a,"text","accent")}`}):l.jsx(F_,{className:`h-4 w-4 sm:h-5 sm:w-5 ${nt(a,"text","accent")}`})}),h.isMobile&&l.jsxs("button",{onClick:()=>u(!c),className:`inline-flex items-center justify-center p-1.5 sm:p-2 rounded-md ${nt(a,"text","secondary")} ${nt(a,"header","buttonHover")} transition-colors`,"aria-expanded":c,children:[l.jsx("span",{className:"sr-only",children:"Open main menu"}),c?l.jsx(cr,{className:"h-4 w-4 sm:h-5 sm:w-5"}):l.jsx(vY,{className:"h-4 w-4 sm:h-5 sm:w-5"})]})]})]})})}),l.jsx("main",{className:`${nt(a,"background","secondary")}`,children:l.jsx("div",{className:"",children:l.jsxs(wD,{children:[l.jsx(Fr,{index:!0,element:l.jsx(A3e,{})}),l.jsx(Fr,{path:"workers",element:l.jsx(XV,{})}),l.jsx(Fr,{path:"workers/:id",element:l.jsx(iae,{})}),l.jsx(Fr,{path:"clients",element:l.jsx(E3e,{})}),l.jsx(Fr,{path:"clients/:id",element:l.jsx(fIe,{})}),l.jsx(Fr,{path:"orders",element:l.jsx(KV,{})}),l.jsx(Fr,{path:"orders/services",element:l.jsx(nCe,{})}),l.jsx(Fr,{path:"orders/:id",element:l.jsx(GV,{})}),l.jsx(Fr,{path:"tasks",element:l.jsx(vp,{status:void 0})}),l.jsx(Fr,{path:"tasks/pending",element:l.jsx(vp,{status:"pending"})}),l.jsx(Fr,{path:"tasks/in_progress",element:l.jsx(vp,{status:"in_progress"})}),l.jsx(Fr,{path:"tasks/delayed",element:l.jsx(vp,{status:"delayed"})}),l.jsx(Fr,{path:"tasks/completed",element:l.jsx(vp,{status:"completed"})}),l.jsx(Fr,{path:"inventory",element:l.jsx(tIe,{})}),l.jsx(Fr,{path:"categories",element:l.jsx(oIe,{})}),l.jsx(Fr,{path:"sales",element:l.jsx(rIe,{})}),l.jsx(Fr,{path:"sales/:id",element:l.jsx(nIe,{})}),l.jsx(Fr,{path:"finances",element:l.jsx(rCe,{})}),l.jsx(Fr,{path:"settings",element:l.jsx(T3e,{})}),l.jsx(Fr,{path:"import-data",element:l.jsx(hIe,{})}),l.jsx(Fr,{path:"import-data/client-data",element:l.jsx(lRe,{})}),l.jsx(Fr,{path:"import-data/order-data",element:l.jsx(uRe,{})}),l.jsx(Fr,{path:"import-data/order-data-fix",element:l.jsx(pRe,{})}),l.jsx(Fr,{path:"import-data/payment-data",element:l.jsx(fRe,{})})]})})})]})]})}const gRe=[{label:"0-15 employees",value:15},{label:"15-30 employees",value:30},{label:"30-50 employees",value:50},{label:"50-100 employees",value:100},{label:"100-200 employees",value:200},{label:"200+ employees",value:201}],xRe=[{code:"GHS",name:"Ghanaian Cedi"},{code:"USD",name:"US Dollar"},{code:"EUR",name:"Euro"},{code:"GBP",name:"British Pound"},{code:"NGN",name:"Nigerian Naira"}],vRe=["Ghana","Nigeria","Kenya","South Africa","United States","United Kingdom","Canada"].sort();function yRe(){const e=Lo(),{organization:t}=Zt(),[r,n]=L.useState(!1),{addToast:a}=Tr(),[i,s]=L.useState({country:(t==null?void 0:t.country)||"",city:(t==null?void 0:t.city)||"",address:(t==null?void 0:t.address)||"",employee_count:(t==null?void 0:t.employee_count)||15,currency:(t==null?void 0:t.currency)||"GHS"}),o=async c=>{if(c.preventDefault(),!r){n(!0);try{const{error:u}=await We.from("organizations").update({country:i.country,city:i.city,address:i.address,employee_count:i.employee_count,currency:i.currency}).eq("id",t.id);if(u)throw u;Zt.setState({organization:{...t,...i}}),e("/dashboard")}catch(u){console.error("Error updating organization:",u),a({type:"error",title:"Error",message:"Failed to update organization. Please try again."})}finally{n(!1)}}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex flex-col justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"mx-auto h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(Ys,{className:"h-8 w-8 text-blue-600"})}),l.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Complete Your Organization Setup"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Please provide additional information about your organization"})]}),l.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:l.jsxs("form",{onSubmit:o,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),l.jsxs("select",{id:"country",value:i.country,onChange:c=>s(u=>({...u,country:c.target.value})),required:!0,className:"block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",children:[l.jsx("option",{value:"",children:"Select a country"}),vRe.map(c=>l.jsx("option",{value:c,children:c},c))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),l.jsx("input",{type:"text",id:"city",value:i.city,onChange:c=>s(u=>({...u,city:c.target.value})),required:!0,className:"block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),l.jsx("textarea",{id:"address",value:i.address,onChange:c=>s(u=>({...u,address:c.target.value})),required:!0,rows:3,className:"block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"employee_count",className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Employees"}),l.jsx("select",{id:"employee_count",value:i.employee_count,onChange:c=>s(u=>({...u,employee_count:parseInt(c.target.value)})),required:!0,className:"block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",children:gRe.map(c=>l.jsx("option",{value:c.value,children:c.label},c.value))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Currency"}),l.jsx("select",{id:"currency",value:i.currency,onChange:c=>s(u=>({...u,currency:c.target.value})),required:!0,className:"block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",children:xRe.map(c=>l.jsxs("option",{value:c.code,children:[c.code," - ",c.name]},c.code))})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:r,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400",children:r?"Saving...":"Save Organization Details"})})]})})]})})}function bRe(){const{user:e}=Zt();return e?l.jsx(Vu,{to:"/dashboard",replace:!0}):l.jsxs("div",{className:"bg-black",children:[l.jsx("nav",{className:"fixed top-0 left-0 right-0 bg-black/95 backdrop-blur-sm z-50 border-b border-gray-900",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs(Rr,{to:"/",className:"flex items-center",children:[l.jsx(Ys,{className:"h-8 w-8 text-blue-600"}),l.jsx("span",{className:"text-blue-400 ml-2 text-xl font-bold",children:"Bindu"})]}),l.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[l.jsx("a",{href:"#pricing",className:"text-gray-300 hover:text-blue-400 font-medium",children:"Pricing"}),l.jsx(Rr,{to:"/auth/signin",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-2 rounded-full font-medium hover:shadow-lg transition-all duration-300",children:"Sign In"})]})]})})}),l.jsx("div",{className:"relative overflow-hidden bg-gray-900",style:{backgroundImage:`
            radial-gradient(circle at 1px 1px,rgba(59, 130, 246, .2) 1px, transparent 0),
            linear-gradient(to right, #111827, #111827)
          `,backgroundSize:"24px 24px",backgroundPosition:"-19px -19px"},children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16",children:[l.jsx("nav",{className:"absolute top-0 left-0 right-0 p-4",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ys,{className:"h-8 w-8 text-blue-600"}),l.jsx("span",{className:"text-blue-400 ml-2 text-xl font-bold",children:"MyBindu"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Rr,{to:"#resources",className:"text-gray-300 hover:text-white hidden sm:block",children:"Resources"}),l.jsx(Rr,{to:"#pricing",className:"text-gray-300 hover:text-white hidden sm:block",children:"Pricing"}),l.jsx(Rr,{to:"/auth/signin",className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:"Sign In"})]})]})}),l.jsxs("div",{className:"relative mt-8 flex flex-col lg:flex-row gap-8",children:[l.jsx("div",{className:"w-full lg:w-1/2 flex items-center px-4 lg:px-0 text-center lg:text-left",children:l.jsxs("div",{children:[l.jsxs("h1",{className:"text-4xl xs:text-5xl font-bold text-white leading-tight",children:["All Systems Go.",l.jsx("span",{className:"block text-gray-300 mt-2",children:"Make your business use Tech - Updated! "})]}),l.jsx("p",{className:"mt-6 text-base xs:text-lg text-gray-300 max-w-[90%] sm:max-w-[70%] lg:max-w-full mx-auto lg:mx-0",children:"Our platform manages everything: clients, staff, orders, inventory, payments, and receiptssimple like drinking koko"}),l.jsx("div",{className:"mt-8",children:l.jsx(Rr,{to:"/auth/signup",className:"inline-flex items-center px-4 xs:px-6 py-2 xs:py-3 text-sm xs:text-base font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:"Get Started Free"})})]})}),l.jsx("div",{className:"w-full lg:w-1/2 relative h-[400px] xs:h-[400px] sm:h-[550px] md:h-[600px] lg:h-[650px] mt-10 xs:mt-16 sm:mt-20 lg:mt-0 text-gray-900",children:l.jsxs("div",{className:"h-full w-full relative max-w-[530px] mx-auto",children:[l.jsx("div",{className:"absolute top-0 left-0 bg-white rounded-xl shadow-lg w-[70%] h-[16/9] z-30 transform hover:-translate-y-2 transition-all duration-300 overflow-hidden",children:l.jsx("img",{src:"/images/dashboardLight.webp",alt:"Client Management",className:"w-full h-full object-cover"})}),l.jsx("div",{className:"absolute top-[5%] right-0 bg-white rounded-xl shadow-lg w-[70%] h-[16/9] z-20 transform hover:-translate-y-2 hover:z-40 transition-all duration-300 overflow-hidden",children:l.jsx("img",{src:"/images/dashboardDark.webp",alt:"Order Management",className:"w-full h-full object-cover"})}),l.jsx("div",{className:"absolute top-[31%] left-4 bg-white rounded-xl shadow-lg w-[70%] h-[16/9] z-10 transform hover:-translate-y-2 hover:z-40 transition-all duration-300 overflow-hidden",children:l.jsx("img",{src:"/images/OrdersLight.webp",alt:"Payment Tracking",className:"w-full h-full object-cover"})}),l.jsx("div",{className:"absolute top-[38%] right-0 bg-white rounded-xl shadow-lg w-[70%] h-[16/9] z-0 transform hover:-translate-y-2 hover:z-40 transition-all duration-300 overflow-hidden",children:l.jsx("img",{src:"/images/OrdersDark.webp",alt:"Operations",className:"w-full h-full object-cover"})}),l.jsx("div",{className:"absolute top-[65%] left-[20%] bg-white rounded-xl shadow-lg w-[70%] h-[16/9] z-20 transform hover:-translate-y-2 hover:z-40 transition-all duration-300 overflow-hidden",children:l.jsx("img",{src:"/images/OrderDetailsLight.webp",alt:"Operations",className:"w-full h-full object-cover"})})]})})]})]})}),l.jsxs("div",{className:"relative py-20 bg-gradient-to-br from-gray-900 via-black to-gray-900 overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-blue-200 rounded-full mix-blend-multiply filter blur-xl opacity-40 animate-pulse"}),l.jsx("div",{className:"absolute top-40 right-20 w-40 h-40 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl opacity-40 animate-pulse",style:{animationDelay:"1s"}}),l.jsx("div",{className:"absolute bottom-20 left-1/3 w-36 h-36 bg-pink-200 rounded-full mix-blend-multiply filter blur-xl opacity-40 animate-pulse",style:{animationDelay:"2s"}}),l.jsx("div",{className:"absolute top-20 right-1/4 animate-bounce",style:{animationDelay:"0.5s",animationDuration:"3s"},children:l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(Hw,{className:"w-4 h-4 text-blue-600"})})}),l.jsx("div",{className:"absolute bottom-32 left-1/4 animate-bounce",style:{animationDelay:"1.5s",animationDuration:"4s"},children:l.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:l.jsx(la,{className:"w-4 h-4 text-purple-600"})})}),l.jsx("div",{className:"absolute top-1/2 right-10 animate-bounce",style:{animationDelay:"2.5s",animationDuration:"3.5s"},children:l.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(Cp,{className:"w-4 h-4 text-green-600"})})})]}),l.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-20",children:[l.jsx("h2",{className:"text-5xl lg:text-6xl text-white mb-6 leading-tight mt-8",children:l.jsx("span",{className:"bg-gradient-to-rt",children:"Grow your Business"})}),l.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Designed specifically for Ghanaian Businesses to manage clients, orders, and finances effortlessly with cutting-edge technology."}),l.jsxs("div",{className:"flex items-center justify-center mt-8",children:[l.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-transparent to-blue-600 rounded-full"}),l.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full mx-4 animate-pulse"}),l.jsx("div",{className:"w-20 h-1 bg-gradient-to-l from-transparent to-purple-600 rounded-full"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12",children:[l.jsxs("div",{className:"group relative",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 to-blue-600 rounded-3xl transform rotate-6 group-hover:rotate-3 transition-transform duration-500 opacity-10 group-hover:opacity-20"}),l.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900 to-gray-800 rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-4 border border-gray-800 group-hover:border-blue-500",children:[l.jsxs("div",{className:"relative mb-8",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto transform group-hover:scale-110 group-hover:rotate-12 transition-all duration-500 shadow-lg",children:l.jsx(Cp,{className:"w-10 h-10 text-white"})}),l.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-blue-300 rounded-full animate-ping opacity-75"}),l.jsx("div",{className:"absolute -bottom-1 -left-1 w-3 h-3 bg-blue-400 rounded-full animate-pulse"})]}),l.jsx("h3",{className:"text-2xl font-bold text-white mb-4 group-hover:text-blue-400 transition-colors duration-300",children:"Never Lose a Customer's Details Again"}),l.jsx("p",{className:"text-gray-300 leading-relaxed mb-6",children:"No more scattered exercise books or lost measurement cards. Keep all your customer information, their measurements, fabric preferences, and promised delivery dates in one safe place that you can access anytime."}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-6 justify-center",children:[l.jsx("span",{className:"px-3 py-1 bg-blue-900/50 text-blue-300 rounded-full text-sm font-medium",children:"Customer Details"}),l.jsx("span",{className:"px-3 py-1 bg-blue-900/50 text-blue-300 rounded-full text-sm font-medium",children:"Measurements Safe"}),l.jsx("span",{className:"px-3 py-1 bg-blue-900/50 text-blue-300 rounded-full text-sm font-medium",children:"Delivery Dates"})]}),l.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-blue-400 to-blue-600 opacity-0 group-hover:opacity-10 transition-opacity duration-500 pointer-events-none"})]})]}),l.jsxs("div",{className:"group relative",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-purple-600 rounded-3xl transform -rotate-6 group-hover:-rotate-3 transition-transform duration-500 opacity-10 group-hover:opacity-20"}),l.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900 to-gray-800 rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-4 border border-gray-800 group-hover:border-purple-500",children:[l.jsxs("div",{className:"relative mb-8",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto transform group-hover:scale-110 group-hover:rotate-12 transition-all duration-500 shadow-lg",children:l.jsx(la,{className:"w-10 h-10 text-white"})}),l.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-purple-300 rounded-full animate-ping opacity-75"}),l.jsx("div",{className:"absolute -bottom-1 -left-1 w-3 h-3 bg-purple-400 rounded-full animate-pulse"}),l.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 text-purple-300 animate-bounce",style:{animationDelay:"1s"},children:""})]}),l.jsx("h3",{className:"text-2xl font-bold text-white mb-4 group-hover:text-purple-400 transition-colors duration-300",children:`No More "I'll Pay You Next Week"`}),l.jsx("p",{className:"text-gray-300 leading-relaxed mb-6",children:"Stop losing money to customers who say they'll pay later. Keep track of who owes you what, send gentle reminders, and get your money without the stress of chasing people around."}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-6 justify-center",children:[l.jsx("span",{className:"px-3 py-1 bg-purple-900/50 text-purple-300 rounded-full text-sm font-medium",children:"Who Owes You"}),l.jsx("span",{className:"px-3 py-1 bg-purple-900/50 text-purple-300 rounded-full text-sm font-medium",children:"Smart Reminders"}),l.jsx("span",{className:"px-3 py-1 bg-purple-900/50 text-purple-300 rounded-full text-sm font-medium",children:"Payment Records"})]}),l.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-purple-400 to-purple-600 opacity-0 group-hover:opacity-10 transition-opacity duration-500 pointer-events-none"})]})]}),l.jsxs("div",{className:"group relative",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500 to-green-600 rounded-3xl transform rotate-6 group-hover:rotate-3 transition-transform duration-500 opacity-10 group-hover:opacity-20"}),l.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900 to-gray-800 rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-4 border border-gray-800 group-hover:border-green-500",children:[l.jsxs("div",{className:"relative mb-8",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto transform group-hover:scale-110 group-hover:rotate-12 transition-all duration-500 shadow-lg",children:l.jsx(Hw,{className:"w-10 h-10 text-white"})}),l.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-green-300 rounded-full animate-ping opacity-75"}),l.jsx("div",{className:"absolute -bottom-1 -left-1 w-3 h-3 bg-green-400 rounded-full animate-pulse"}),l.jsx("div",{className:"absolute -top-1 -left-1",children:l.jsx(uY,{className:"w-4 h-4 text-green-300 animate-bounce",style:{animationDelay:"0.5s"}})})]}),l.jsx("h3",{className:"text-2xl font-bold text-white mb-4 group-hover:text-green-400 transition-colors duration-300",children:"Show Them You're Serious Business"}),l.jsx("p",{className:"text-gray-300 leading-relaxed mb-6",children:"Print proper receipts that make your customers respect your work. Know exactly how much you're making each month and plan your business growth like the professional you are."}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-6 justify-center",children:[l.jsx("span",{className:"px-3 py-1 bg-green-900/50 text-green-300 rounded-full text-sm font-medium",children:"Reports"}),l.jsx("span",{className:"px-3 py-1 bg-green-900/50 text-green-300 rounded-full text-sm font-medium",children:"Receipts"}),l.jsx("span",{className:"px-3 py-1 bg-green-900/50 text-green-300 rounded-full text-sm font-medium",children:"Analytics"})]}),l.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-green-400 to-green-600 opacity-0 group-hover:opacity-10 transition-opacity duration-500 pointer-events-none"})]})]})]}),l.jsx("div",{className:"text-center mt-16",children:l.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-gray-800 to-gray-700 rounded-full px-8 py-4 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 border border-gray-600",children:[l.jsxs("div",{className:"flex -space-x-2 mr-4",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full border-2 border-white flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs font-bold",children:"AK"})}),l.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-full border-2 border-white flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs font-bold",children:"KA"})}),l.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full border-2 border-white flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs font-bold",children:"EA"})}),l.jsx("div",{className:"w-8 h-8 bg-gray-400 rounded-full border-2 border-white flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs font-bold",children:"+500"})})]}),l.jsx("span",{className:"text-gray-200 font-medium",children:"Join 500+ Ghanaian tailors already growing with Bindu"})]})})]})]}),l.jsxs("div",{className:"relative py-24 pt-36 bg-gradient-to-br from-gray-900 via-black to-gray-900 overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-20 w-28 h-28 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-40 animate-pulse"}),l.jsx("div",{className:"absolute top-60 right-16 w-36 h-36 bg-blue-200 rounded-full mix-blend-multiply filter blur-xl opacity-40 animate-pulse",style:{animationDelay:"1s"}}),l.jsx("div",{className:"absolute bottom-32 left-1/4 w-32 h-32 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl opacity-40 animate-pulse",style:{animationDelay:"2s"}}),l.jsx("div",{className:"absolute top-32 right-1/3 animate-bounce",style:{animationDelay:"0.5s",animationDuration:"3s"},children:l.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(la,{className:"w-4 h-4 text-green-600"})})}),l.jsx("div",{className:"absolute bottom-40 left-1/5 animate-bounce",style:{animationDelay:"1.5s",animationDuration:"4s"},children:l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(Hw,{className:"w-4 h-4 text-blue-600"})})}),l.jsx("div",{className:"absolute top-1/2 right-12 animate-bounce",style:{animationDelay:"2.5s",animationDuration:"3.5s"},children:l.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:l.jsx(vr,{className:"w-4 h-4 text-purple-600"})})})]}),l.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsxs("div",{className:"text-center mb-20",children:[l.jsx("h2",{className:"text-5xl lg:text-6xl text-white mb-6 leading-tight mt-8",children:l.jsx("span",{className:"",children:"Get Paid on Time, Every Time"})}),l.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed mb-8",children:"Stop chasing payments and start growing your business"}),l.jsxs("div",{className:"flex items-center justify-center mt-8",children:[l.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-transparent to-green-600 rounded-full"}),l.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-full mx-4 animate-pulse"}),l.jsx("div",{className:"w-20 h-1 bg-gradient-to-l from-transparent to-blue-600 rounded-full"})]})]}),l.jsx("div",{className:"mb-16",children:l.jsx("img",{src:"/images/dashboardDark.webp",alt:"Financial Management Dashboard for Tailors",className:"w-full max-w-2xl mx-auto rounded-xl shadow-2xl"})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 text-left",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(vr,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Know Who Still Owes You"}),l.jsx("p",{className:"text-gray-300 text-sm",children:"Stop forgetting who hasn't paid - see it all in one place"})]})]}),l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(vr,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Send Reminders Politely"}),l.jsx("p",{className:"text-gray-300 text-sm",children:"No more awkward conversations - the system reminds them for you"})]})]}),l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(vr,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Look Professional"}),l.jsx("p",{className:"text-gray-300 text-sm",children:"Give proper receipts that show you mean business"})]})]})]}),l.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 border border-gray-800",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"text-4xl font-bold text-green-400 mb-2",children:"2.5K"}),l.jsx("p",{className:"text-gray-300",children:"Average monthly revenue increase"})]}),l.jsx("blockquote",{className:"text-gray-200 italic text-center",children:`"Before Bindu, I was always mixing up my customers' measurements and losing their fabric details. Now everything is organized and I don't have to worry about disappointing anyone."`}),l.jsx("div",{className:"text-center mt-4",children:l.jsx("p",{className:"text-sm font-medium text-white",children:"- Akosua, Kumasi Tailor"})})]})]})]})]}),l.jsxs("div",{className:"relative py-24 bg-gradient-to-br from-gray-900 via-black to-gray-900 overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-16 right-20 w-32 h-32 bg-blue-200 rounded-full mix-blend-multiply filter blur-xl opacity-40 animate-pulse"}),l.jsx("div",{className:"absolute top-48 left-16 w-28 h-28 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl opacity-40 animate-pulse",style:{animationDelay:"1s"}}),l.jsx("div",{className:"absolute bottom-24 right-1/4 w-36 h-36 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-40 animate-pulse",style:{animationDelay:"2s"}}),l.jsx("div",{className:"absolute top-28 left-1/4 animate-bounce",style:{animationDelay:"0.5s",animationDuration:"3s"},children:l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(Cp,{className:"w-4 h-4 text-blue-600"})})}),l.jsx("div",{className:"absolute bottom-36 right-1/5 animate-bounce",style:{animationDelay:"1.5s",animationDuration:"4s"},children:l.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(Co,{className:"w-4 h-4 text-green-600"})})}),l.jsx("div",{className:"absolute top-1/2 left-12 animate-bounce",style:{animationDelay:"2.5s",animationDuration:"3.5s"},children:l.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:l.jsx(lA,{className:"w-4 h-4 text-purple-600"})})})]}),l.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsxs("div",{className:"text-center mb-20",children:[l.jsx("h2",{className:"text-5xl lg:text-6xl text-white mb-6 leading-tight mt-16",children:l.jsx("span",{className:"",children:"Never Lose Track of Orders Again"})}),l.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed mb-8",children:"Organize every detail from measurements to delivery"}),l.jsxs("div",{className:"flex items-center justify-center mt-8",children:[l.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-transparent to-blue-600 rounded-full"}),l.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full mx-4 animate-pulse"}),l.jsx("div",{className:"w-20 h-1 bg-gradient-to-l from-transparent to-purple-600 rounded-full"})]})]}),l.jsx("div",{className:"mb-16",children:l.jsx("img",{src:"/images/dashboardDark.webp",alt:"Professional Tailoring Order Management System",className:"w-full max-w-2xl mx-auto rounded-xl shadow-2xl"})}),l.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[l.jsxs("div",{className:"flex items-start space-x-4 text-left",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:l.jsx(Cp,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Track Every Order Detail"}),l.jsx("p",{className:"text-gray-300",children:"Keep detailed records of measurements, fabric choices, special instructions, and customer preferences all in one organized system."})]})]}),l.jsxs("div",{className:"flex items-start space-x-4 text-left",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:l.jsx(Co,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Never Miss a Delivery Date"}),l.jsx("p",{className:"text-gray-300",children:"Set deadlines, get automatic reminders, and ensure your clients always receive their orders exactly when promised."})]})]}),l.jsxs("div",{className:"flex items-start space-x-4 text-left",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:l.jsx(lA,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Access Complete Client History"}),l.jsx("p",{className:"text-gray-300",children:"Instantly view past orders, preferred styles, and payment history to provide personalized service and build stronger relationships."})]})]})]})]})]}),l.jsx("div",{id:"pricing",className:"py-20 bg-gray-900",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Choose Affordable Prices"}),l.jsx("p",{className:"text-xl text-gray-300",children:"Flexible pricing plans designed specifically for Ghanaian tailoring businesses"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl shadow-lg p-8 hover:shadow-xl transition-shadow duration-300 border border-gray-700",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ca,{className:"w-8 h-8 text-blue-300"})}),l.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Starter Plan"}),l.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"50"}),l.jsx("p",{className:"text-gray-300",children:"Billed Monthly"})]}),l.jsxs("ul",{className:"space-y-3 mb-8",children:[l.jsxs("li",{className:"flex items-center text-gray-300",children:[l.jsx(vr,{className:"w-5 h-5 text-green-400 mr-3"}),"Up to 50 Client Records"]}),l.jsxs("li",{className:"flex items-center text-gray-300",children:[l.jsx(vr,{className:"w-5 h-5 text-green-400 mr-3"}),"Basic Order Tracking"]}),l.jsxs("li",{className:"flex items-center text-gray-300",children:[l.jsx(vr,{className:"w-5 h-5 text-green-400 mr-3"}),"Receipt Printing"]}),l.jsxs("li",{className:"flex items-center text-gray-300",children:[l.jsx(vr,{className:"w-5 h-5 text-green-400 mr-3"}),"WhatsApp Support"]}),l.jsxs("li",{className:"flex items-center text-gray-300",children:[l.jsx(vr,{className:"w-5 h-5 text-green-400 mr-3"}),"Basic Financial Reports"]})]}),l.jsx("button",{className:"w-full bg-gradient-to-r from-gray-700 to-gray-600 text-gray-200 py-3 rounded-full font-medium hover:from-gray-600 hover:to-gray-500 transition-all duration-300",children:"Select Package"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl shadow-lg p-8 hover:shadow-xl transition-shadow duration-300 border-2 border-blue-500 relative",children:[l.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:l.jsx("span",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Popular"})}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(H0,{className:"w-8 h-8 text-blue-300"})}),l.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Professional Plan"}),l.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"120"}),l.jsx("p",{className:"text-gray-300",children:"Billed Monthly"})]}),l.jsxs("ul",{className:"space-y-3 mb-8",children:[l.jsxs("li",{className:"flex items-center text-gray-300",children:[l.jsx(vr,{className:"w-5 h-5 text-green-400 mr-3"}),"Unlimited Client Records"]}),l.jsxs("li",{className:"flex items-center text-gray-300",children:[l.jsx(vr,{className:"w-5 h-5 text-green-400 mr-3"}),"Advanced Order Management"]}),l.jsxs("li",{className:"flex items-center text-gray-300",children:[l.jsx(vr,{className:"w-5 h-5 text-green-400 mr-3"}),"Debt Management & Reminders"]}),l.jsxs("li",{className:"flex items-center text-gray-300",children:[l.jsx(vr,{className:"w-5 h-5 text-green-400 mr-3"}),"24/7 Phone Support"]}),l.jsxs("li",{className:"flex items-center text-gray-300",children:[l.jsx(vr,{className:"w-5 h-5 text-green-400 mr-3"}),"Detailed Financial Reports"]}),l.jsxs("li",{className:"flex items-center text-gray-300",children:[l.jsx(vr,{className:"w-5 h-5 text-green-400 mr-3"}),"Custom Receipt Templates"]})]}),l.jsx("button",{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-full font-medium hover:shadow-lg transition-all duration-300",children:"Select Package"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl shadow-lg p-8 hover:shadow-xl transition-shadow duration-300 border border-gray-700",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-purple-800 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(t$,{className:"w-8 h-8 text-purple-300"})}),l.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Enterprise Plan"}),l.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"200"}),l.jsx("p",{className:"text-gray-300",children:"Billed Monthly"})]}),l.jsxs("ul",{className:"space-y-3 mb-8",children:[l.jsxs("li",{className:"flex items-center text-gray-300",children:[l.jsx(vr,{className:"w-5 h-5 text-green-400 mr-3"}),"Multiple Shop Locations"]}),l.jsxs("li",{className:"flex items-center text-gray-300",children:[l.jsx(vr,{className:"w-5 h-5 text-green-400 mr-3"}),"Staff Management System"]}),l.jsxs("li",{className:"flex items-center text-gray-300",children:[l.jsx(vr,{className:"w-5 h-5 text-green-400 mr-3"}),"Inventory Management"]}),l.jsxs("li",{className:"flex items-center text-gray-300",children:[l.jsx(vr,{className:"w-5 h-5 text-green-400 mr-3"}),"Priority Support"]}),l.jsxs("li",{className:"flex items-center text-gray-300",children:[l.jsx(vr,{className:"w-5 h-5 text-green-400 mr-3"}),"Advanced Analytics"]}),l.jsxs("li",{className:"flex items-center text-gray-300",children:[l.jsx(vr,{className:"w-5 h-5 text-green-400 mr-3"}),"Data Backup & Security"]}),l.jsxs("li",{className:"flex items-center text-gray-300",children:[l.jsx(vr,{className:"w-5 h-5 text-green-400 mr-3"}),"Mobile Money Integration"]})]}),l.jsx("button",{className:"w-full bg-gradient-to-r from-gray-700 to-gray-600 text-gray-200 py-3 rounded-full font-medium hover:from-gray-600 hover:to-gray-500 transition-all duration-300",children:"Select Package"})]})]})]})}),l.jsx("div",{className:"py-20 bg-gray-800",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsx("div",{className:"text-center mb-16",children:l.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"What Ghanaian Tailors Say"})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black rounded-2xl p-6 border border-gray-700",children:[l.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((t,r)=>l.jsx(H0,{className:"w-4 h-4 text-yellow-400 fill-current"},r))}),l.jsx("p",{className:"text-gray-300 mb-4 italic",children:`"Before Bindu, I was always mixing up my customers' measurements and losing their fabric details. Now everything is organized and I don't have to worry about disappointing anyone."`}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center mr-3",children:l.jsx("span",{className:"text-white font-bold text-sm",children:"AK"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-white",children:"Akosua Kwarteng"}),l.jsx("div",{className:"text-gray-400 text-sm",children:"Tailor, Kumasi"})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black rounded-2xl p-6 border border-gray-700",children:[l.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((t,r)=>l.jsx(H0,{className:"w-4 h-4 text-yellow-400 fill-current"},r))}),l.jsx("p",{className:"text-gray-300 mb-4 italic",children:`"You know how customers say 'I'll pay you next week' and then disappear? This system helps me send them gentle reminders so I can get my money without the stress."`}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center mr-3",children:l.jsx("span",{className:"text-white font-bold text-sm",children:"KA"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-white",children:"Kwame Asante"}),l.jsx("div",{className:"text-gray-400 text-sm",children:"Fashion Designer, Accra"})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black rounded-2xl p-6 border border-gray-700",children:[l.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((t,r)=>l.jsx(H0,{className:"w-4 h-4 text-yellow-400 fill-current"},r))}),l.jsx("p",{className:"text-gray-300 mb-4 italic",children:'"The receipt printing feature makes my business look so professional. My clients are impressed with the detailed receipts I can now provide."'}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center mr-3",children:l.jsx("span",{className:"text-white font-bold text-sm",children:"EA"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-white",children:"Esi Amoah"}),l.jsx("div",{className:"text-gray-400 text-sm",children:"Seamstress, Takoradi"})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black rounded-2xl p-6 border border-gray-700",children:[l.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((t,r)=>l.jsx(H0,{className:"w-4 h-4 text-yellow-400 fill-current"},r))}),l.jsx("p",{className:"text-gray-300 mb-4 italic",children:'"Finally, a system built for us Ghanaian tailors! The financial reports help me understand my business better and plan for growth."'}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center mr-3",children:l.jsx("span",{className:"text-white font-bold text-sm",children:"YO"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-white",children:"Yaw Osei"}),l.jsx("div",{className:"text-gray-400 text-sm",children:"Master Tailor, Tema"})]})]})]})]})]})}),l.jsx("div",{className:"py-16 bg-gray-900",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsx("div",{className:"text-center mb-12",children:l.jsx("p",{className:"text-lg text-gray-300",children:"Join hundreds of Ghanaian tailors already using Bindu to grow their businesses"})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-8 items-center opacity-60",children:[l.jsx("div",{className:"text-center",children:l.jsx("div",{className:"w-20 h-12 bg-gray-700 rounded mx-auto flex items-center justify-center",children:l.jsx("span",{className:"text-gray-300 font-bold text-xs",children:"LOGO"})})}),l.jsx("div",{className:"text-center",children:l.jsx("div",{className:"w-20 h-12 bg-gray-700 rounded mx-auto flex items-center justify-center",children:l.jsx("span",{className:"text-gray-300 font-bold text-xs",children:"LOGO"})})}),l.jsx("div",{className:"text-center",children:l.jsx("div",{className:"w-20 h-12 bg-gray-700 rounded mx-auto flex items-center justify-center",children:l.jsx("span",{className:"text-gray-300 font-bold text-xs",children:"LOGO"})})}),l.jsx("div",{className:"text-center",children:l.jsx("div",{className:"w-20 h-12 bg-gray-700 rounded mx-auto flex items-center justify-center",children:l.jsx("span",{className:"text-gray-300 font-bold text-xs",children:"LOGO"})})}),l.jsx("div",{className:"text-center",children:l.jsx("div",{className:"w-20 h-12 bg-gray-700 rounded mx-auto flex items-center justify-center",children:l.jsx("span",{className:"text-gray-300 font-bold text-xs",children:"LOGO"})})}),l.jsx("div",{className:"text-center",children:l.jsx("div",{className:"w-20 h-12 bg-gray-700 rounded mx-auto flex items-center justify-center",children:l.jsx("span",{className:"text-gray-300 font-bold text-xs",children:"LOGO"})})})]})]})}),l.jsxs("div",{className:"relative py-20 bg-[url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSugV5t14UC7Q9oX4VTxlTDa2h5TUIBNypGtg&s)] bg-contain  bg-left-top",children:[l.jsx("div",{className:"absolute inset-0 bg-black/70"}),l.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Transform your tailoring business today!"}),l.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Join the digital revolution and take your tailoring business to the next level."}),l.jsxs(Rr,{to:"/auth/signup",className:"inline-flex items-center bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-full text-lg font-semibold hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:["Sign Up",l.jsx(lY,{className:"ml-2 w-5 h-5"})]})]})]}),l.jsx("footer",{className:"bg-gradient-to-b from-black to-gray-900 text-white py-16  border-t border-gray-700",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8",children:l.jsxs("div",{className:"lg:col-span-2",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(Ys,{className:"h-8 w-8 text-blue-400"}),l.jsx("span",{className:"text-blue-400 ml-2 text-xl font-bold",children:"Bindu"})]}),l.jsx("p",{className:"text-gray-400 mb-4",children:"Comprehensive business management platform designed specifically for Ghanaian tailors and fashion entrepreneurs."}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs",children:"f"})}),l.jsx("div",{className:"w-8 h-8 bg-blue-400 rounded flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs",children:"t"})}),l.jsx("div",{className:"w-8 h-8 bg-pink-600 rounded flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs",children:"i"})}),l.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs",children:"i"})})]})]})}),l.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400",children:l.jsx("p",{children:"Bindu - Tailoring Business Management  2024. All Rights Reserved"})})]})})]})}function wRe(){const{user:e,error:t,initialized:r}=Zt();return r?t?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800",children:l.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[l.jsxs("div",{className:"text-red-600 dark:text-red-400 mb-2",children:["Error: ",t]}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 transition-colors",children:"Retry"})]})}):l.jsx(jY,{children:l.jsx(IY,{children:l.jsx(fq,{children:l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-bg-primary text-gray-900 dark:text-dark-text-primary",children:l.jsxs(wD,{children:[l.jsx(Fr,{path:"/",element:l.jsx(bRe,{})}),l.jsxs(Fr,{path:"/auth",element:l.jsx(SY,{}),children:[l.jsx(Fr,{path:"signin",element:l.jsx(CY,{})}),l.jsx(Fr,{path:"signup",element:l.jsx(PY,{})})]}),l.jsx(Fr,{path:"/dashboard/*",element:e?l.jsx(mRe,{}):l.jsx(Vu,{to:"/auth/signin"})}),l.jsx(Fr,{path:"/organization-setup",element:e?l.jsx(yRe,{}):l.jsx(Vu,{to:"/auth/signin"})})]})})})})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 dark:border-blue-400 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading application..."})]})})}const FRe=Object.freeze(Object.defineProperty({__proto__:null,default:wRe},Symbol.toStringTag,{value:"Module"}));export{FRe as A,Yr as _};
