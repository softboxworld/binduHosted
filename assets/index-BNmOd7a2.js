var vJ=Object.defineProperty;var yJ=(e,t,r)=>t in e?vJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var kt=(e,t,r)=>yJ(e,typeof t!="symbol"?t+"":t,r);function bJ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var ha=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function a9(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var i9={exports:{}},H_={},s9={exports:{}},gr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy=Symbol.for("react.element"),wJ=Symbol.for("react.portal"),_J=Symbol.for("react.fragment"),kJ=Symbol.for("react.strict_mode"),SJ=Symbol.for("react.profiler"),NJ=Symbol.for("react.provider"),jJ=Symbol.for("react.context"),CJ=Symbol.for("react.forward_ref"),TJ=Symbol.for("react.suspense"),AJ=Symbol.for("react.memo"),EJ=Symbol.for("react.lazy"),kO=Symbol.iterator;function PJ(e){return e===null||typeof e!="object"?null:(e=kO&&e[kO]||e["@@iterator"],typeof e=="function"?e:null)}var o9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l9=Object.assign,c9={};function lm(e,t,r){this.props=e,this.context=t,this.refs=c9,this.updater=r||o9}lm.prototype.isReactComponent={};lm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function u9(){}u9.prototype=lm.prototype;function aA(e,t,r){this.props=e,this.context=t,this.refs=c9,this.updater=r||o9}var iA=aA.prototype=new u9;iA.constructor=aA;l9(iA,lm.prototype);iA.isPureReactComponent=!0;var SO=Array.isArray,d9=Object.prototype.hasOwnProperty,sA={current:null},f9={key:!0,ref:!0,__self:!0,__source:!0};function h9(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)d9.call(t,n)&&!f9.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:jy,type:e,key:i,ref:s,props:a,_owner:sA.current}}function OJ(e,t){return{$$typeof:jy,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function oA(e){return typeof e=="object"&&e!==null&&e.$$typeof===jy}function $J(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var NO=/\/+/g;function cS(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$J(""+e.key):t.toString(36)}function d2(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case jy:case wJ:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+cS(s,0):n,SO(a)?(r="",e!=null&&(r=e.replace(NO,"$&/")+"/"),d2(a,t,r,"",function(u){return u})):a!=null&&(oA(a)&&(a=OJ(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(NO,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",SO(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+cS(i,o);s+=d2(i,t,r,l,a)}else if(l=PJ(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+cS(i,o++),s+=d2(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Q1(e,t,r){if(e==null)return e;var n=[],a=0;return d2(e,n,"","",function(i){return t.call(r,i,a++)}),n}function DJ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Yi={current:null},f2={transition:null},MJ={ReactCurrentDispatcher:Yi,ReactCurrentBatchConfig:f2,ReactCurrentOwner:sA};function p9(){throw Error("act(...) is not supported in production builds of React.")}gr.Children={map:Q1,forEach:function(e,t,r){Q1(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Q1(e,function(){t++}),t},toArray:function(e){return Q1(e,function(t){return t})||[]},only:function(e){if(!oA(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gr.Component=lm;gr.Fragment=_J;gr.Profiler=SJ;gr.PureComponent=aA;gr.StrictMode=kJ;gr.Suspense=TJ;gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MJ;gr.act=p9;gr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=l9({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=sA.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)d9.call(t,l)&&!f9.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:jy,type:e.type,key:a,ref:i,props:n,_owner:s}};gr.createContext=function(e){return e={$$typeof:jJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:NJ,_context:e},e.Consumer=e};gr.createElement=h9;gr.createFactory=function(e){var t=h9.bind(null,e);return t.type=e,t};gr.createRef=function(){return{current:null}};gr.forwardRef=function(e){return{$$typeof:CJ,render:e}};gr.isValidElement=oA;gr.lazy=function(e){return{$$typeof:EJ,_payload:{_status:-1,_result:e},_init:DJ}};gr.memo=function(e,t){return{$$typeof:AJ,type:e,compare:t===void 0?null:t}};gr.startTransition=function(e){var t=f2.transition;f2.transition={};try{e()}finally{f2.transition=t}};gr.unstable_act=p9;gr.useCallback=function(e,t){return Yi.current.useCallback(e,t)};gr.useContext=function(e){return Yi.current.useContext(e)};gr.useDebugValue=function(){};gr.useDeferredValue=function(e){return Yi.current.useDeferredValue(e)};gr.useEffect=function(e,t){return Yi.current.useEffect(e,t)};gr.useId=function(){return Yi.current.useId()};gr.useImperativeHandle=function(e,t,r){return Yi.current.useImperativeHandle(e,t,r)};gr.useInsertionEffect=function(e,t){return Yi.current.useInsertionEffect(e,t)};gr.useLayoutEffect=function(e,t){return Yi.current.useLayoutEffect(e,t)};gr.useMemo=function(e,t){return Yi.current.useMemo(e,t)};gr.useReducer=function(e,t,r){return Yi.current.useReducer(e,t,r)};gr.useRef=function(e){return Yi.current.useRef(e)};gr.useState=function(e){return Yi.current.useState(e)};gr.useSyncExternalStore=function(e,t,r){return Yi.current.useSyncExternalStore(e,t,r)};gr.useTransition=function(){return Yi.current.useTransition()};gr.version="18.3.1";s9.exports=gr;var L=s9.exports;const we=hr(L),m9=bJ({__proto__:null,default:we},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FJ=L,LJ=Symbol.for("react.element"),IJ=Symbol.for("react.fragment"),RJ=Object.prototype.hasOwnProperty,BJ=FJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UJ={key:!0,ref:!0,__self:!0,__source:!0};function g9(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)RJ.call(t,n)&&!UJ.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:LJ,type:e,key:i,ref:s,props:a,_owner:BJ.current}}H_.Fragment=IJ;H_.jsx=g9;H_.jsxs=g9;i9.exports=H_;var c=i9.exports,x9={exports:{}},Ds={},v9={exports:{}},y9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,I){var X=G.length;G.push(I);e:for(;0<X;){var J=X-1>>>1,E=G[J];if(0<a(E,I))G[J]=I,G[X]=E,X=J;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var I=G[0],X=G.pop();if(X!==I){G[0]=X;e:for(var J=0,E=G.length,R=E>>>1;J<R;){var B=2*(J+1)-1,q=G[B],K=B+1,ae=G[K];if(0>a(q,X))K<E&&0>a(ae,q)?(G[J]=ae,G[K]=X,J=K):(G[J]=q,G[B]=X,J=B);else if(K<E&&0>a(ae,X))G[J]=ae,G[K]=X,J=K;else break e}}return I}function a(G,I){var X=G.sortIndex-I.sortIndex;return X!==0?X:G.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(G){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=G)n(u),I.sortIndex=I.expirationTime,t(l,I);else break;I=r(u)}}function N(G){if(g=!1,b(G),!m)if(r(l)!==null)m=!0,z(_);else{var I=r(u);I!==null&&Y(N,I.startTime-G)}}function _(G,I){m=!1,g&&(g=!1,x(w),w=-1),p=!0;var X=h;try{for(b(I),f=r(l);f!==null&&(!(f.expirationTime>I)||G&&!A());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var E=J(f.expirationTime<=I);I=e.unstable_now(),typeof E=="function"?f.callback=E:f===r(l)&&n(l),b(I)}else n(l);f=r(l)}if(f!==null)var R=!0;else{var B=r(u);B!==null&&Y(N,B.startTime-I),R=!1}return R}finally{f=null,h=X,p=!1}}var C=!1,k=null,w=-1,S=5,P=-1;function A(){return!(e.unstable_now()-P<S)}function T(){if(k!==null){var G=e.unstable_now();P=G;var I=!0;try{I=k(!0,G)}finally{I?F():(C=!1,k=null)}}else C=!1}var F;if(typeof y=="function")F=function(){y(T)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,H=M.port2;M.port1.onmessage=T,F=function(){H.postMessage(null)}}else F=function(){v(T,0)};function z(G){k=G,C||(C=!0,F())}function Y(G,I){w=v(function(){G(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,z(_))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var X=h;h=I;try{return G()}finally{h=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,I){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var X=h;h=G;try{return I()}finally{h=X}},e.unstable_scheduleCallback=function(G,I,X){var J=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?J+X:J):X=J,G){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=X+E,G={id:d++,callback:I,priorityLevel:G,startTime:X,expirationTime:E,sortIndex:-1},X>J?(G.sortIndex=X,t(u,G),r(l)===null&&G===r(u)&&(g?(x(w),w=-1):g=!0,Y(N,X-J))):(G.sortIndex=E,t(l,G),m||p||(m=!0,z(_))),G},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(G){var I=h;return function(){var X=h;h=I;try{return G.apply(this,arguments)}finally{h=X}}}})(y9);v9.exports=y9;var WJ=v9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zJ=L,Os=WJ;function ft(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b9=new Set,ev={};function sh(e,t){lp(e,t),lp(e+"Capture",t)}function lp(e,t){for(ev[e]=t,e=0;e<t.length;e++)b9.add(t[e])}var Pc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yN=Object.prototype.hasOwnProperty,HJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jO={},CO={};function qJ(e){return yN.call(CO,e)?!0:yN.call(jO,e)?!1:HJ.test(e)?CO[e]=!0:(jO[e]=!0,!1)}function YJ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VJ(e,t,r,n){if(t===null||typeof t>"u"||YJ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vi(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ei={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ei[e]=new Vi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ei[t]=new Vi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ei[e]=new Vi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ei[e]=new Vi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ei[e]=new Vi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ei[e]=new Vi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ei[e]=new Vi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ei[e]=new Vi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ei[e]=new Vi(e,5,!1,e.toLowerCase(),null,!1,!1)});var lA=/[\-:]([a-z])/g;function cA(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lA,cA);ei[t]=new Vi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lA,cA);ei[t]=new Vi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lA,cA);ei[t]=new Vi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ei[e]=new Vi(e,1,!1,e.toLowerCase(),null,!1,!1)});ei.xlinkHref=new Vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ei[e]=new Vi(e,1,!1,e.toLowerCase(),null,!0,!0)});function uA(e,t,r,n){var a=ei.hasOwnProperty(t)?ei[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VJ(t,r,a,n)&&(r=null),n||a===null?qJ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var qc=zJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J1=Symbol.for("react.element"),S0=Symbol.for("react.portal"),N0=Symbol.for("react.fragment"),dA=Symbol.for("react.strict_mode"),bN=Symbol.for("react.profiler"),w9=Symbol.for("react.provider"),_9=Symbol.for("react.context"),fA=Symbol.for("react.forward_ref"),wN=Symbol.for("react.suspense"),_N=Symbol.for("react.suspense_list"),hA=Symbol.for("react.memo"),wu=Symbol.for("react.lazy"),k9=Symbol.for("react.offscreen"),TO=Symbol.iterator;function hg(e){return e===null||typeof e!="object"?null:(e=TO&&e[TO]||e["@@iterator"],typeof e=="function"?e:null)}var Dn=Object.assign,uS;function ax(e){if(uS===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);uS=t&&t[1]||""}return`
`+uS+e}var dS=!1;function fS(e,t){if(!e||dS)return"";dS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{dS=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ax(e):""}function GJ(e){switch(e.tag){case 5:return ax(e.type);case 16:return ax("Lazy");case 13:return ax("Suspense");case 19:return ax("SuspenseList");case 0:case 2:case 15:return e=fS(e.type,!1),e;case 11:return e=fS(e.type.render,!1),e;case 1:return e=fS(e.type,!0),e;default:return""}}function kN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N0:return"Fragment";case S0:return"Portal";case bN:return"Profiler";case dA:return"StrictMode";case wN:return"Suspense";case _N:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _9:return(e.displayName||"Context")+".Consumer";case w9:return(e._context.displayName||"Context")+".Provider";case fA:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hA:return t=e.displayName||null,t!==null?t:kN(e.type)||"Memo";case wu:t=e._payload,e=e._init;try{return kN(e(t))}catch{}}return null}function KJ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kN(t);case 8:return t===dA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function S9(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function XJ(e){var t=S9(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Z1(e){e._valueTracker||(e._valueTracker=XJ(e))}function N9(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=S9(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function $2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function SN(e,t){var r=t.checked;return Dn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function AO(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=rd(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function j9(e,t){t=t.checked,t!=null&&uA(e,"checked",t,!1)}function NN(e,t){j9(e,t);var r=rd(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jN(e,t.type,r):t.hasOwnProperty("defaultValue")&&jN(e,t.type,rd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function EO(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function jN(e,t,r){(t!=="number"||$2(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ix=Array.isArray;function W0(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+rd(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function CN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ft(91));return Dn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function PO(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ft(92));if(ix(r)){if(1<r.length)throw Error(ft(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:rd(r)}}function C9(e,t){var r=rd(t.value),n=rd(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function OO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function T9(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function TN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?T9(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var eb,A9=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(eb=eb||document.createElement("div"),eb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tv(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var bx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QJ=["Webkit","ms","Moz","O"];Object.keys(bx).forEach(function(e){QJ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bx[t]=bx[e]})});function E9(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||bx.hasOwnProperty(e)&&bx[e]?(""+t).trim():t+"px"}function P9(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=E9(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var JJ=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function AN(e,t){if(t){if(JJ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ft(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ft(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ft(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ft(62))}}function EN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PN=null;function pA(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ON=null,z0=null,H0=null;function $O(e){if(e=Ay(e)){if(typeof ON!="function")throw Error(ft(280));var t=e.stateNode;t&&(t=K_(t),ON(e.stateNode,e.type,t))}}function O9(e){z0?H0?H0.push(e):H0=[e]:z0=e}function $9(){if(z0){var e=z0,t=H0;if(H0=z0=null,$O(e),t)for(e=0;e<t.length;e++)$O(t[e])}}function D9(e,t){return e(t)}function M9(){}var hS=!1;function F9(e,t,r){if(hS)return e(t,r);hS=!0;try{return D9(e,t,r)}finally{hS=!1,(z0!==null||H0!==null)&&(M9(),$9())}}function rv(e,t){var r=e.stateNode;if(r===null)return null;var n=K_(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ft(231,t,typeof r));return r}var $N=!1;if(Pc)try{var pg={};Object.defineProperty(pg,"passive",{get:function(){$N=!0}}),window.addEventListener("test",pg,pg),window.removeEventListener("test",pg,pg)}catch{$N=!1}function ZJ(e,t,r,n,a,i,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var wx=!1,D2=null,M2=!1,DN=null,eZ={onError:function(e){wx=!0,D2=e}};function tZ(e,t,r,n,a,i,s,o,l){wx=!1,D2=null,ZJ.apply(eZ,arguments)}function rZ(e,t,r,n,a,i,s,o,l){if(tZ.apply(this,arguments),wx){if(wx){var u=D2;wx=!1,D2=null}else throw Error(ft(198));M2||(M2=!0,DN=u)}}function oh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function L9(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function DO(e){if(oh(e)!==e)throw Error(ft(188))}function nZ(e){var t=e.alternate;if(!t){if(t=oh(e),t===null)throw Error(ft(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return DO(a),e;if(i===n)return DO(a),t;i=i.sibling}throw Error(ft(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(ft(189))}}if(r.alternate!==n)throw Error(ft(190))}if(r.tag!==3)throw Error(ft(188));return r.stateNode.current===r?e:t}function I9(e){return e=nZ(e),e!==null?R9(e):null}function R9(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=R9(e);if(t!==null)return t;e=e.sibling}return null}var B9=Os.unstable_scheduleCallback,MO=Os.unstable_cancelCallback,aZ=Os.unstable_shouldYield,iZ=Os.unstable_requestPaint,Kn=Os.unstable_now,sZ=Os.unstable_getCurrentPriorityLevel,mA=Os.unstable_ImmediatePriority,U9=Os.unstable_UserBlockingPriority,F2=Os.unstable_NormalPriority,oZ=Os.unstable_LowPriority,W9=Os.unstable_IdlePriority,q_=null,Nl=null;function lZ(e){if(Nl&&typeof Nl.onCommitFiberRoot=="function")try{Nl.onCommitFiberRoot(q_,e,void 0,(e.current.flags&128)===128)}catch{}}var Ho=Math.clz32?Math.clz32:dZ,cZ=Math.log,uZ=Math.LN2;function dZ(e){return e>>>=0,e===0?32:31-(cZ(e)/uZ|0)|0}var tb=64,rb=4194304;function sx(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function L2(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=sx(o):(i&=s,i!==0&&(n=sx(i)))}else s=r&~a,s!==0?n=sx(s):i!==0&&(n=sx(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ho(t),a=1<<r,n|=e[r],t&=~a;return n}function fZ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hZ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Ho(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=fZ(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function MN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function z9(){var e=tb;return tb<<=1,!(tb&4194240)&&(tb=64),e}function pS(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Cy(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ho(t),e[t]=r}function pZ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ho(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function gA(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ho(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Xr=0;function H9(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var q9,xA,Y9,V9,G9,FN=!1,nb=[],Bu=null,Uu=null,Wu=null,nv=new Map,av=new Map,Nu=[],mZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FO(e,t){switch(e){case"focusin":case"focusout":Bu=null;break;case"dragenter":case"dragleave":Uu=null;break;case"mouseover":case"mouseout":Wu=null;break;case"pointerover":case"pointerout":nv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":av.delete(t.pointerId)}}function mg(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ay(t),t!==null&&xA(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function gZ(e,t,r,n,a){switch(t){case"focusin":return Bu=mg(Bu,e,t,r,n,a),!0;case"dragenter":return Uu=mg(Uu,e,t,r,n,a),!0;case"mouseover":return Wu=mg(Wu,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return nv.set(i,mg(nv.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,av.set(i,mg(av.get(i)||null,e,t,r,n,a)),!0}return!1}function K9(e){var t=uf(e.target);if(t!==null){var r=oh(t);if(r!==null){if(t=r.tag,t===13){if(t=L9(r),t!==null){e.blockedOn=t,G9(e.priority,function(){Y9(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function h2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=LN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);PN=n,r.target.dispatchEvent(n),PN=null}else return t=Ay(r),t!==null&&xA(t),e.blockedOn=r,!1;t.shift()}return!0}function LO(e,t,r){h2(e)&&r.delete(t)}function xZ(){FN=!1,Bu!==null&&h2(Bu)&&(Bu=null),Uu!==null&&h2(Uu)&&(Uu=null),Wu!==null&&h2(Wu)&&(Wu=null),nv.forEach(LO),av.forEach(LO)}function gg(e,t){e.blockedOn===t&&(e.blockedOn=null,FN||(FN=!0,Os.unstable_scheduleCallback(Os.unstable_NormalPriority,xZ)))}function iv(e){function t(a){return gg(a,e)}if(0<nb.length){gg(nb[0],e);for(var r=1;r<nb.length;r++){var n=nb[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bu!==null&&gg(Bu,e),Uu!==null&&gg(Uu,e),Wu!==null&&gg(Wu,e),nv.forEach(t),av.forEach(t),r=0;r<Nu.length;r++)n=Nu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Nu.length&&(r=Nu[0],r.blockedOn===null);)K9(r),r.blockedOn===null&&Nu.shift()}var q0=qc.ReactCurrentBatchConfig,I2=!0;function vZ(e,t,r,n){var a=Xr,i=q0.transition;q0.transition=null;try{Xr=1,vA(e,t,r,n)}finally{Xr=a,q0.transition=i}}function yZ(e,t,r,n){var a=Xr,i=q0.transition;q0.transition=null;try{Xr=4,vA(e,t,r,n)}finally{Xr=a,q0.transition=i}}function vA(e,t,r,n){if(I2){var a=LN(e,t,r,n);if(a===null)SS(e,t,n,R2,r),FO(e,n);else if(gZ(a,e,t,r,n))n.stopPropagation();else if(FO(e,n),t&4&&-1<mZ.indexOf(e)){for(;a!==null;){var i=Ay(a);if(i!==null&&q9(i),i=LN(e,t,r,n),i===null&&SS(e,t,n,R2,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else SS(e,t,n,null,r)}}var R2=null;function LN(e,t,r,n){if(R2=null,e=pA(n),e=uf(e),e!==null)if(t=oh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=L9(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return R2=e,null}function X9(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sZ()){case mA:return 1;case U9:return 4;case F2:case oZ:return 16;case W9:return 536870912;default:return 16}default:return 16}}var Eu=null,yA=null,p2=null;function Q9(){if(p2)return p2;var e,t=yA,r=t.length,n,a="value"in Eu?Eu.value:Eu.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return p2=a.slice(e,1<n?1-n:void 0)}function m2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ab(){return!0}function IO(){return!1}function Ms(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ab:IO,this.isPropagationStopped=IO,this}return Dn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ab)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ab)},persist:function(){},isPersistent:ab}),t}var cm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bA=Ms(cm),Ty=Dn({},cm,{view:0,detail:0}),bZ=Ms(Ty),mS,gS,xg,Y_=Dn({},Ty,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wA,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xg&&(xg&&e.type==="mousemove"?(mS=e.screenX-xg.screenX,gS=e.screenY-xg.screenY):gS=mS=0,xg=e),mS)},movementY:function(e){return"movementY"in e?e.movementY:gS}}),RO=Ms(Y_),wZ=Dn({},Y_,{dataTransfer:0}),_Z=Ms(wZ),kZ=Dn({},Ty,{relatedTarget:0}),xS=Ms(kZ),SZ=Dn({},cm,{animationName:0,elapsedTime:0,pseudoElement:0}),NZ=Ms(SZ),jZ=Dn({},cm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),CZ=Ms(jZ),TZ=Dn({},cm,{data:0}),BO=Ms(TZ),AZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OZ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PZ[e])?!!t[e]:!1}function wA(){return OZ}var $Z=Dn({},Ty,{key:function(e){if(e.key){var t=AZ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=m2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?EZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wA,charCode:function(e){return e.type==="keypress"?m2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?m2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DZ=Ms($Z),MZ=Dn({},Y_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UO=Ms(MZ),FZ=Dn({},Ty,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wA}),LZ=Ms(FZ),IZ=Dn({},cm,{propertyName:0,elapsedTime:0,pseudoElement:0}),RZ=Ms(IZ),BZ=Dn({},Y_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UZ=Ms(BZ),WZ=[9,13,27,32],_A=Pc&&"CompositionEvent"in window,_x=null;Pc&&"documentMode"in document&&(_x=document.documentMode);var zZ=Pc&&"TextEvent"in window&&!_x,J9=Pc&&(!_A||_x&&8<_x&&11>=_x),WO=" ",zO=!1;function Z9(e,t){switch(e){case"keyup":return WZ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eB(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var j0=!1;function HZ(e,t){switch(e){case"compositionend":return eB(t);case"keypress":return t.which!==32?null:(zO=!0,WO);case"textInput":return e=t.data,e===WO&&zO?null:e;default:return null}}function qZ(e,t){if(j0)return e==="compositionend"||!_A&&Z9(e,t)?(e=Q9(),p2=yA=Eu=null,j0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return J9&&t.locale!=="ko"?null:t.data;default:return null}}var YZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YZ[e.type]:t==="textarea"}function tB(e,t,r,n){O9(n),t=B2(t,"onChange"),0<t.length&&(r=new bA("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var kx=null,sv=null;function VZ(e){fB(e,0)}function V_(e){var t=A0(e);if(N9(t))return e}function GZ(e,t){if(e==="change")return t}var rB=!1;if(Pc){var vS;if(Pc){var yS="oninput"in document;if(!yS){var qO=document.createElement("div");qO.setAttribute("oninput","return;"),yS=typeof qO.oninput=="function"}vS=yS}else vS=!1;rB=vS&&(!document.documentMode||9<document.documentMode)}function YO(){kx&&(kx.detachEvent("onpropertychange",nB),sv=kx=null)}function nB(e){if(e.propertyName==="value"&&V_(sv)){var t=[];tB(t,sv,e,pA(e)),F9(VZ,t)}}function KZ(e,t,r){e==="focusin"?(YO(),kx=t,sv=r,kx.attachEvent("onpropertychange",nB)):e==="focusout"&&YO()}function XZ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return V_(sv)}function QZ(e,t){if(e==="click")return V_(t)}function JZ(e,t){if(e==="input"||e==="change")return V_(t)}function ZZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ko=typeof Object.is=="function"?Object.is:ZZ;function ov(e,t){if(Ko(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!yN.call(t,a)||!Ko(e[a],t[a]))return!1}return!0}function VO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function GO(e,t){var r=VO(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=VO(r)}}function aB(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aB(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iB(){for(var e=window,t=$2();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$2(e.document)}return t}function kA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eee(e){var t=iB(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&aB(r.ownerDocument.documentElement,r)){if(n!==null&&kA(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=GO(r,i);var s=GO(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tee=Pc&&"documentMode"in document&&11>=document.documentMode,C0=null,IN=null,Sx=null,RN=!1;function KO(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;RN||C0==null||C0!==$2(n)||(n=C0,"selectionStart"in n&&kA(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sx&&ov(Sx,n)||(Sx=n,n=B2(IN,"onSelect"),0<n.length&&(t=new bA("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=C0)))}function ib(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var T0={animationend:ib("Animation","AnimationEnd"),animationiteration:ib("Animation","AnimationIteration"),animationstart:ib("Animation","AnimationStart"),transitionend:ib("Transition","TransitionEnd")},bS={},sB={};Pc&&(sB=document.createElement("div").style,"AnimationEvent"in window||(delete T0.animationend.animation,delete T0.animationiteration.animation,delete T0.animationstart.animation),"TransitionEvent"in window||delete T0.transitionend.transition);function G_(e){if(bS[e])return bS[e];if(!T0[e])return e;var t=T0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sB)return bS[e]=t[r];return e}var oB=G_("animationend"),lB=G_("animationiteration"),cB=G_("animationstart"),uB=G_("transitionend"),dB=new Map,XO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kd(e,t){dB.set(e,t),sh(t,[e])}for(var wS=0;wS<XO.length;wS++){var _S=XO[wS],ree=_S.toLowerCase(),nee=_S[0].toUpperCase()+_S.slice(1);kd(ree,"on"+nee)}kd(oB,"onAnimationEnd");kd(lB,"onAnimationIteration");kd(cB,"onAnimationStart");kd("dblclick","onDoubleClick");kd("focusin","onFocus");kd("focusout","onBlur");kd(uB,"onTransitionEnd");lp("onMouseEnter",["mouseout","mouseover"]);lp("onMouseLeave",["mouseout","mouseover"]);lp("onPointerEnter",["pointerout","pointerover"]);lp("onPointerLeave",["pointerout","pointerover"]);sh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sh("onBeforeInput",["compositionend","keypress","textInput","paste"]);sh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ox="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aee=new Set("cancel close invalid load scroll toggle".split(" ").concat(ox));function QO(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,rZ(n,t,void 0,e),e.currentTarget=null}function fB(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;QO(a,o,u),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;QO(a,o,u),i=l}}}if(M2)throw e=DN,M2=!1,DN=null,e}function gn(e,t){var r=t[HN];r===void 0&&(r=t[HN]=new Set);var n=e+"__bubble";r.has(n)||(hB(t,e,2,!1),r.add(n))}function kS(e,t,r){var n=0;t&&(n|=4),hB(r,e,n,t)}var sb="_reactListening"+Math.random().toString(36).slice(2);function lv(e){if(!e[sb]){e[sb]=!0,b9.forEach(function(r){r!=="selectionchange"&&(aee.has(r)||kS(r,!1,e),kS(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sb]||(t[sb]=!0,kS("selectionchange",!1,t))}}function hB(e,t,r,n){switch(X9(t)){case 1:var a=vZ;break;case 4:a=yZ;break;default:a=vA}r=a.bind(null,t,r,e),a=void 0,!$N||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function SS(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=uf(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}F9(function(){var u=i,d=pA(r),f=[];e:{var h=dB.get(e);if(h!==void 0){var p=bA,m=e;switch(e){case"keypress":if(m2(r)===0)break e;case"keydown":case"keyup":p=DZ;break;case"focusin":m="focus",p=xS;break;case"focusout":m="blur",p=xS;break;case"beforeblur":case"afterblur":p=xS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=RO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_Z;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=LZ;break;case oB:case lB:case cB:p=NZ;break;case uB:p=RZ;break;case"scroll":p=bZ;break;case"wheel":p=UZ;break;case"copy":case"cut":case"paste":p=CZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=UO}var g=(t&4)!==0,v=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,b;y!==null;){b=y;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,x!==null&&(N=rv(y,x),N!=null&&g.push(cv(y,N,b)))),v)break;y=y.return}0<g.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==PN&&(m=r.relatedTarget||r.fromElement)&&(uf(m)||m[Oc]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?uf(m):null,m!==null&&(v=oh(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=RO,N="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=UO,N="onPointerLeave",x="onPointerEnter",y="pointer"),v=p==null?h:A0(p),b=m==null?h:A0(m),h=new g(N,y+"leave",p,r,d),h.target=v,h.relatedTarget=b,N=null,uf(d)===u&&(g=new g(x,y+"enter",m,r,d),g.target=b,g.relatedTarget=v,N=g),v=N,p&&m)t:{for(g=p,x=m,y=0,b=g;b;b=Zh(b))y++;for(b=0,N=x;N;N=Zh(N))b++;for(;0<y-b;)g=Zh(g),y--;for(;0<b-y;)x=Zh(x),b--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=Zh(g),x=Zh(x)}g=null}else g=null;p!==null&&JO(f,h,p,g,!1),m!==null&&v!==null&&JO(f,v,m,g,!0)}}e:{if(h=u?A0(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=GZ;else if(HO(h))if(rB)_=JZ;else{_=XZ;var C=KZ}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=QZ);if(_&&(_=_(e,u))){tB(f,_,r,d);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&jN(h,"number",h.value)}switch(C=u?A0(u):window,e){case"focusin":(HO(C)||C.contentEditable==="true")&&(C0=C,IN=u,Sx=null);break;case"focusout":Sx=IN=C0=null;break;case"mousedown":RN=!0;break;case"contextmenu":case"mouseup":case"dragend":RN=!1,KO(f,r,d);break;case"selectionchange":if(tee)break;case"keydown":case"keyup":KO(f,r,d)}var k;if(_A)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else j0?Z9(e,r)&&(w="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(w="onCompositionStart");w&&(J9&&r.locale!=="ko"&&(j0||w!=="onCompositionStart"?w==="onCompositionEnd"&&j0&&(k=Q9()):(Eu=d,yA="value"in Eu?Eu.value:Eu.textContent,j0=!0)),C=B2(u,w),0<C.length&&(w=new BO(w,e,null,r,d),f.push({event:w,listeners:C}),k?w.data=k:(k=eB(r),k!==null&&(w.data=k)))),(k=zZ?HZ(e,r):qZ(e,r))&&(u=B2(u,"onBeforeInput"),0<u.length&&(d=new BO("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}fB(f,t)})}function cv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function B2(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=rv(e,r),i!=null&&n.unshift(cv(e,i,a)),i=rv(e,t),i!=null&&n.push(cv(e,i,a))),e=e.return}return n}function Zh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function JO(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,a?(l=rv(r,i),l!=null&&s.unshift(cv(r,l,o))):a||(l=rv(r,i),l!=null&&s.push(cv(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var iee=/\r\n?/g,see=/\u0000|\uFFFD/g;function ZO(e){return(typeof e=="string"?e:""+e).replace(iee,`
`).replace(see,"")}function ob(e,t,r){if(t=ZO(t),ZO(e)!==t&&r)throw Error(ft(425))}function U2(){}var BN=null,UN=null;function WN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zN=typeof setTimeout=="function"?setTimeout:void 0,oee=typeof clearTimeout=="function"?clearTimeout:void 0,e8=typeof Promise=="function"?Promise:void 0,lee=typeof queueMicrotask=="function"?queueMicrotask:typeof e8<"u"?function(e){return e8.resolve(null).then(e).catch(cee)}:zN;function cee(e){setTimeout(function(){throw e})}function NS(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),iv(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);iv(t)}function zu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function t8(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var um=Math.random().toString(36).slice(2),vl="__reactFiber$"+um,uv="__reactProps$"+um,Oc="__reactContainer$"+um,HN="__reactEvents$"+um,uee="__reactListeners$"+um,dee="__reactHandles$"+um;function uf(e){var t=e[vl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Oc]||r[vl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=t8(e);e!==null;){if(r=e[vl])return r;e=t8(e)}return t}e=r,r=e.parentNode}return null}function Ay(e){return e=e[vl]||e[Oc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function A0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ft(33))}function K_(e){return e[uv]||null}var qN=[],E0=-1;function Sd(e){return{current:e}}function bn(e){0>E0||(e.current=qN[E0],qN[E0]=null,E0--)}function hn(e,t){E0++,qN[E0]=e.current,e.current=t}var nd={},ki=Sd(nd),ds=Sd(!1),Lf=nd;function cp(e,t){var r=e.type.contextTypes;if(!r)return nd;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function fs(e){return e=e.childContextTypes,e!=null}function W2(){bn(ds),bn(ki)}function r8(e,t,r){if(ki.current!==nd)throw Error(ft(168));hn(ki,t),hn(ds,r)}function pB(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ft(108,KJ(e)||"Unknown",a));return Dn({},r,n)}function z2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nd,Lf=ki.current,hn(ki,e),hn(ds,ds.current),!0}function n8(e,t,r){var n=e.stateNode;if(!n)throw Error(ft(169));r?(e=pB(e,t,Lf),n.__reactInternalMemoizedMergedChildContext=e,bn(ds),bn(ki),hn(ki,e)):bn(ds),hn(ds,r)}var dc=null,X_=!1,jS=!1;function mB(e){dc===null?dc=[e]:dc.push(e)}function fee(e){X_=!0,mB(e)}function Nd(){if(!jS&&dc!==null){jS=!0;var e=0,t=Xr;try{var r=dc;for(Xr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}dc=null,X_=!1}catch(a){throw dc!==null&&(dc=dc.slice(e+1)),B9(mA,Nd),a}finally{Xr=t,jS=!1}}return null}var P0=[],O0=0,H2=null,q2=0,Zs=[],eo=0,If=null,fc=1,hc="";function Kd(e,t){P0[O0++]=q2,P0[O0++]=H2,H2=e,q2=t}function gB(e,t,r){Zs[eo++]=fc,Zs[eo++]=hc,Zs[eo++]=If,If=e;var n=fc;e=hc;var a=32-Ho(n)-1;n&=~(1<<a),r+=1;var i=32-Ho(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,fc=1<<32-Ho(t)+a|r<<a|n,hc=i+e}else fc=1<<i|r<<a|n,hc=e}function SA(e){e.return!==null&&(Kd(e,1),gB(e,1,0))}function NA(e){for(;e===H2;)H2=P0[--O0],P0[O0]=null,q2=P0[--O0],P0[O0]=null;for(;e===If;)If=Zs[--eo],Zs[eo]=null,hc=Zs[--eo],Zs[eo]=null,fc=Zs[--eo],Zs[eo]=null}var Es=null,Ts=null,Sn=!1,Lo=null;function xB(e,t){var r=io(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function a8(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Es=e,Ts=zu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Es=e,Ts=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=If!==null?{id:fc,overflow:hc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=io(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Es=e,Ts=null,!0):!1;default:return!1}}function YN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function VN(e){if(Sn){var t=Ts;if(t){var r=t;if(!a8(e,t)){if(YN(e))throw Error(ft(418));t=zu(r.nextSibling);var n=Es;t&&a8(e,t)?xB(n,r):(e.flags=e.flags&-4097|2,Sn=!1,Es=e)}}else{if(YN(e))throw Error(ft(418));e.flags=e.flags&-4097|2,Sn=!1,Es=e}}}function i8(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Es=e}function lb(e){if(e!==Es)return!1;if(!Sn)return i8(e),Sn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!WN(e.type,e.memoizedProps)),t&&(t=Ts)){if(YN(e))throw vB(),Error(ft(418));for(;t;)xB(e,t),t=zu(t.nextSibling)}if(i8(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ft(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ts=zu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ts=null}}else Ts=Es?zu(e.stateNode.nextSibling):null;return!0}function vB(){for(var e=Ts;e;)e=zu(e.nextSibling)}function up(){Ts=Es=null,Sn=!1}function jA(e){Lo===null?Lo=[e]:Lo.push(e)}var hee=qc.ReactCurrentBatchConfig;function vg(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ft(309));var n=r.stateNode}if(!n)throw Error(ft(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(ft(284));if(!r._owner)throw Error(ft(290,e))}return e}function cb(e,t){throw e=Object.prototype.toString.call(t),Error(ft(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function s8(e){var t=e._init;return t(e._payload)}function yB(e){function t(x,y){if(e){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=Vu(x,y),x.index=0,x.sibling=null,x}function i(x,y,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,y,b,N){return y===null||y.tag!==6?(y=$S(b,x.mode,N),y.return=x,y):(y=a(y,b),y.return=x,y)}function l(x,y,b,N){var _=b.type;return _===N0?d(x,y,b.props.children,N,b.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===wu&&s8(_)===y.type)?(N=a(y,b.props),N.ref=vg(x,y,b),N.return=x,N):(N=_2(b.type,b.key,b.props,null,x.mode,N),N.ref=vg(x,y,b),N.return=x,N)}function u(x,y,b,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=DS(b,x.mode,N),y.return=x,y):(y=a(y,b.children||[]),y.return=x,y)}function d(x,y,b,N,_){return y===null||y.tag!==7?(y=kf(b,x.mode,N,_),y.return=x,y):(y=a(y,b),y.return=x,y)}function f(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=$S(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case J1:return b=_2(y.type,y.key,y.props,null,x.mode,b),b.ref=vg(x,null,y),b.return=x,b;case S0:return y=DS(y,x.mode,b),y.return=x,y;case wu:var N=y._init;return f(x,N(y._payload),b)}if(ix(y)||hg(y))return y=kf(y,x.mode,b,null),y.return=x,y;cb(x,y)}return null}function h(x,y,b,N){var _=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:o(x,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case J1:return b.key===_?l(x,y,b,N):null;case S0:return b.key===_?u(x,y,b,N):null;case wu:return _=b._init,h(x,y,_(b._payload),N)}if(ix(b)||hg(b))return _!==null?null:d(x,y,b,N,null);cb(x,b)}return null}function p(x,y,b,N,_){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(b)||null,o(y,x,""+N,_);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case J1:return x=x.get(N.key===null?b:N.key)||null,l(y,x,N,_);case S0:return x=x.get(N.key===null?b:N.key)||null,u(y,x,N,_);case wu:var C=N._init;return p(x,y,b,C(N._payload),_)}if(ix(N)||hg(N))return x=x.get(b)||null,d(y,x,N,_,null);cb(y,N)}return null}function m(x,y,b,N){for(var _=null,C=null,k=y,w=y=0,S=null;k!==null&&w<b.length;w++){k.index>w?(S=k,k=null):S=k.sibling;var P=h(x,k,b[w],N);if(P===null){k===null&&(k=S);break}e&&k&&P.alternate===null&&t(x,k),y=i(P,y,w),C===null?_=P:C.sibling=P,C=P,k=S}if(w===b.length)return r(x,k),Sn&&Kd(x,w),_;if(k===null){for(;w<b.length;w++)k=f(x,b[w],N),k!==null&&(y=i(k,y,w),C===null?_=k:C.sibling=k,C=k);return Sn&&Kd(x,w),_}for(k=n(x,k);w<b.length;w++)S=p(k,x,w,b[w],N),S!==null&&(e&&S.alternate!==null&&k.delete(S.key===null?w:S.key),y=i(S,y,w),C===null?_=S:C.sibling=S,C=S);return e&&k.forEach(function(A){return t(x,A)}),Sn&&Kd(x,w),_}function g(x,y,b,N){var _=hg(b);if(typeof _!="function")throw Error(ft(150));if(b=_.call(b),b==null)throw Error(ft(151));for(var C=_=null,k=y,w=y=0,S=null,P=b.next();k!==null&&!P.done;w++,P=b.next()){k.index>w?(S=k,k=null):S=k.sibling;var A=h(x,k,P.value,N);if(A===null){k===null&&(k=S);break}e&&k&&A.alternate===null&&t(x,k),y=i(A,y,w),C===null?_=A:C.sibling=A,C=A,k=S}if(P.done)return r(x,k),Sn&&Kd(x,w),_;if(k===null){for(;!P.done;w++,P=b.next())P=f(x,P.value,N),P!==null&&(y=i(P,y,w),C===null?_=P:C.sibling=P,C=P);return Sn&&Kd(x,w),_}for(k=n(x,k);!P.done;w++,P=b.next())P=p(k,x,w,P.value,N),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?w:P.key),y=i(P,y,w),C===null?_=P:C.sibling=P,C=P);return e&&k.forEach(function(T){return t(x,T)}),Sn&&Kd(x,w),_}function v(x,y,b,N){if(typeof b=="object"&&b!==null&&b.type===N0&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case J1:e:{for(var _=b.key,C=y;C!==null;){if(C.key===_){if(_=b.type,_===N0){if(C.tag===7){r(x,C.sibling),y=a(C,b.props.children),y.return=x,x=y;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===wu&&s8(_)===C.type){r(x,C.sibling),y=a(C,b.props),y.ref=vg(x,C,b),y.return=x,x=y;break e}r(x,C);break}else t(x,C);C=C.sibling}b.type===N0?(y=kf(b.props.children,x.mode,N,b.key),y.return=x,x=y):(N=_2(b.type,b.key,b.props,null,x.mode,N),N.ref=vg(x,y,b),N.return=x,x=N)}return s(x);case S0:e:{for(C=b.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(x,y.sibling),y=a(y,b.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=DS(b,x.mode,N),y.return=x,x=y}return s(x);case wu:return C=b._init,v(x,y,C(b._payload),N)}if(ix(b))return m(x,y,b,N);if(hg(b))return g(x,y,b,N);cb(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(x,y.sibling),y=a(y,b),y.return=x,x=y):(r(x,y),y=$S(b,x.mode,N),y.return=x,x=y),s(x)):r(x,y)}return v}var dp=yB(!0),bB=yB(!1),Y2=Sd(null),V2=null,$0=null,CA=null;function TA(){CA=$0=V2=null}function AA(e){var t=Y2.current;bn(Y2),e._currentValue=t}function GN(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Y0(e,t){V2=e,CA=$0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(cs=!0),e.firstContext=null)}function fo(e){var t=e._currentValue;if(CA!==e)if(e={context:e,memoizedValue:t,next:null},$0===null){if(V2===null)throw Error(ft(308));$0=e,V2.dependencies={lanes:0,firstContext:e}}else $0=$0.next=e;return t}var df=null;function EA(e){df===null?df=[e]:df.push(e)}function wB(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,EA(t)):(r.next=a.next,a.next=r),t.interleaved=r,$c(e,n)}function $c(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _u=!1;function PA(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _B(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Er&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,$c(e,r)}return a=n.interleaved,a===null?(t.next=t,EA(n)):(t.next=a.next,a.next=t),n.interleaved=t,$c(e,r)}function g2(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gA(e,r)}}function o8(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function G2(e,t,r,n){var a=e.updateQueue;_u=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,d=u=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,g=o;switch(h=t,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Dn({},f,h);break e;case 2:_u=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Bf|=s,e.lanes=s,e.memoizedState=f}}function l8(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ft(191,a));a.call(n)}}}var Ey={},jl=Sd(Ey),dv=Sd(Ey),fv=Sd(Ey);function ff(e){if(e===Ey)throw Error(ft(174));return e}function OA(e,t){switch(hn(fv,t),hn(dv,e),hn(jl,Ey),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:TN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=TN(t,e)}bn(jl),hn(jl,t)}function fp(){bn(jl),bn(dv),bn(fv)}function kB(e){ff(fv.current);var t=ff(jl.current),r=TN(t,e.type);t!==r&&(hn(dv,e),hn(jl,r))}function $A(e){dv.current===e&&(bn(jl),bn(dv))}var Pn=Sd(0);function K2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var CS=[];function DA(){for(var e=0;e<CS.length;e++)CS[e]._workInProgressVersionPrimary=null;CS.length=0}var x2=qc.ReactCurrentDispatcher,TS=qc.ReactCurrentBatchConfig,Rf=0,$n=null,ba=null,$a=null,X2=!1,Nx=!1,hv=0,pee=0;function si(){throw Error(ft(321))}function MA(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ko(e[r],t[r]))return!1;return!0}function FA(e,t,r,n,a,i){if(Rf=i,$n=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,x2.current=e===null||e.memoizedState===null?vee:yee,e=r(n,a),Nx){i=0;do{if(Nx=!1,hv=0,25<=i)throw Error(ft(301));i+=1,$a=ba=null,t.updateQueue=null,x2.current=bee,e=r(n,a)}while(Nx)}if(x2.current=Q2,t=ba!==null&&ba.next!==null,Rf=0,$a=ba=$n=null,X2=!1,t)throw Error(ft(300));return e}function LA(){var e=hv!==0;return hv=0,e}function pl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $a===null?$n.memoizedState=$a=e:$a=$a.next=e,$a}function ho(){if(ba===null){var e=$n.alternate;e=e!==null?e.memoizedState:null}else e=ba.next;var t=$a===null?$n.memoizedState:$a.next;if(t!==null)$a=t,ba=e;else{if(e===null)throw Error(ft(310));ba=e,e={memoizedState:ba.memoizedState,baseState:ba.baseState,baseQueue:ba.baseQueue,queue:ba.queue,next:null},$a===null?$n.memoizedState=$a=e:$a=$a.next=e}return $a}function pv(e,t){return typeof t=="function"?t(e):t}function AS(e){var t=ho(),r=t.queue;if(r===null)throw Error(ft(311));r.lastRenderedReducer=e;var n=ba,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,u=i;do{var d=u.lane;if((Rf&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,$n.lanes|=d,Bf|=d}u=u.next}while(u!==null&&u!==i);l===null?s=n:l.next=o,Ko(n,t.memoizedState)||(cs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,$n.lanes|=i,Bf|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ES(e){var t=ho(),r=t.queue;if(r===null)throw Error(ft(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Ko(i,t.memoizedState)||(cs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function SB(){}function NB(e,t){var r=$n,n=ho(),a=t(),i=!Ko(n.memoizedState,a);if(i&&(n.memoizedState=a,cs=!0),n=n.queue,IA(TB.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||$a!==null&&$a.memoizedState.tag&1){if(r.flags|=2048,mv(9,CB.bind(null,r,n,a,t),void 0,null),Ma===null)throw Error(ft(349));Rf&30||jB(r,t,a)}return a}function jB(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=$n.updateQueue,t===null?(t={lastEffect:null,stores:null},$n.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function CB(e,t,r,n){t.value=r,t.getSnapshot=n,AB(t)&&EB(e)}function TB(e,t,r){return r(function(){AB(t)&&EB(e)})}function AB(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ko(e,r)}catch{return!0}}function EB(e){var t=$c(e,1);t!==null&&qo(t,e,1,-1)}function c8(e){var t=pl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pv,lastRenderedState:e},t.queue=e,e=e.dispatch=xee.bind(null,$n,e),[t.memoizedState,e]}function mv(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=$n.updateQueue,t===null?(t={lastEffect:null,stores:null},$n.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function PB(){return ho().memoizedState}function v2(e,t,r,n){var a=pl();$n.flags|=e,a.memoizedState=mv(1|t,r,void 0,n===void 0?null:n)}function Q_(e,t,r,n){var a=ho();n=n===void 0?null:n;var i=void 0;if(ba!==null){var s=ba.memoizedState;if(i=s.destroy,n!==null&&MA(n,s.deps)){a.memoizedState=mv(t,r,i,n);return}}$n.flags|=e,a.memoizedState=mv(1|t,r,i,n)}function u8(e,t){return v2(8390656,8,e,t)}function IA(e,t){return Q_(2048,8,e,t)}function OB(e,t){return Q_(4,2,e,t)}function $B(e,t){return Q_(4,4,e,t)}function DB(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function MB(e,t,r){return r=r!=null?r.concat([e]):null,Q_(4,4,DB.bind(null,t,e),r)}function RA(){}function FB(e,t){var r=ho();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&MA(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function LB(e,t){var r=ho();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&MA(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function IB(e,t,r){return Rf&21?(Ko(r,t)||(r=z9(),$n.lanes|=r,Bf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,cs=!0),e.memoizedState=r)}function mee(e,t){var r=Xr;Xr=r!==0&&4>r?r:4,e(!0);var n=TS.transition;TS.transition={};try{e(!1),t()}finally{Xr=r,TS.transition=n}}function RB(){return ho().memoizedState}function gee(e,t,r){var n=Yu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},BB(e))UB(t,r);else if(r=wB(e,t,r,n),r!==null){var a=Bi();qo(r,e,n,a),WB(r,t,n)}}function xee(e,t,r){var n=Yu(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(BB(e))UB(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Ko(o,s)){var l=t.interleaved;l===null?(a.next=a,EA(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=wB(e,t,a,n),r!==null&&(a=Bi(),qo(r,e,n,a),WB(r,t,n))}}function BB(e){var t=e.alternate;return e===$n||t!==null&&t===$n}function UB(e,t){Nx=X2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function WB(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gA(e,r)}}var Q2={readContext:fo,useCallback:si,useContext:si,useEffect:si,useImperativeHandle:si,useInsertionEffect:si,useLayoutEffect:si,useMemo:si,useReducer:si,useRef:si,useState:si,useDebugValue:si,useDeferredValue:si,useTransition:si,useMutableSource:si,useSyncExternalStore:si,useId:si,unstable_isNewReconciler:!1},vee={readContext:fo,useCallback:function(e,t){return pl().memoizedState=[e,t===void 0?null:t],e},useContext:fo,useEffect:u8,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,v2(4194308,4,DB.bind(null,t,e),r)},useLayoutEffect:function(e,t){return v2(4194308,4,e,t)},useInsertionEffect:function(e,t){return v2(4,2,e,t)},useMemo:function(e,t){var r=pl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=gee.bind(null,$n,e),[n.memoizedState,e]},useRef:function(e){var t=pl();return e={current:e},t.memoizedState=e},useState:c8,useDebugValue:RA,useDeferredValue:function(e){return pl().memoizedState=e},useTransition:function(){var e=c8(!1),t=e[0];return e=mee.bind(null,e[1]),pl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=$n,a=pl();if(Sn){if(r===void 0)throw Error(ft(407));r=r()}else{if(r=t(),Ma===null)throw Error(ft(349));Rf&30||jB(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,u8(TB.bind(null,n,i,e),[e]),n.flags|=2048,mv(9,CB.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=pl(),t=Ma.identifierPrefix;if(Sn){var r=hc,n=fc;r=(n&~(1<<32-Ho(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=hv++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=pee++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yee={readContext:fo,useCallback:FB,useContext:fo,useEffect:IA,useImperativeHandle:MB,useInsertionEffect:OB,useLayoutEffect:$B,useMemo:LB,useReducer:AS,useRef:PB,useState:function(){return AS(pv)},useDebugValue:RA,useDeferredValue:function(e){var t=ho();return IB(t,ba.memoizedState,e)},useTransition:function(){var e=AS(pv)[0],t=ho().memoizedState;return[e,t]},useMutableSource:SB,useSyncExternalStore:NB,useId:RB,unstable_isNewReconciler:!1},bee={readContext:fo,useCallback:FB,useContext:fo,useEffect:IA,useImperativeHandle:MB,useInsertionEffect:OB,useLayoutEffect:$B,useMemo:LB,useReducer:ES,useRef:PB,useState:function(){return ES(pv)},useDebugValue:RA,useDeferredValue:function(e){var t=ho();return ba===null?t.memoizedState=e:IB(t,ba.memoizedState,e)},useTransition:function(){var e=ES(pv)[0],t=ho().memoizedState;return[e,t]},useMutableSource:SB,useSyncExternalStore:NB,useId:RB,unstable_isNewReconciler:!1};function Oo(e,t){if(e&&e.defaultProps){t=Dn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function KN(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Dn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var J_={isMounted:function(e){return(e=e._reactInternals)?oh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Bi(),a=Yu(e),i=xc(n,a);i.payload=t,r!=null&&(i.callback=r),t=Hu(e,i,a),t!==null&&(qo(t,e,a,n),g2(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Bi(),a=Yu(e),i=xc(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Hu(e,i,a),t!==null&&(qo(t,e,a,n),g2(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Bi(),n=Yu(e),a=xc(r,n);a.tag=2,t!=null&&(a.callback=t),t=Hu(e,a,n),t!==null&&(qo(t,e,n,r),g2(t,e,n))}};function d8(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!ov(r,n)||!ov(a,i):!0}function zB(e,t,r){var n=!1,a=nd,i=t.contextType;return typeof i=="object"&&i!==null?i=fo(i):(a=fs(t)?Lf:ki.current,n=t.contextTypes,i=(n=n!=null)?cp(e,a):nd),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=J_,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function f8(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&J_.enqueueReplaceState(t,t.state,null)}function XN(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},PA(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=fo(i):(i=fs(t)?Lf:ki.current,a.context=cp(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(KN(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&J_.enqueueReplaceState(a,a.state,null),G2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function hp(e,t){try{var r="",n=t;do r+=GJ(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function PS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function QN(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var wee=typeof WeakMap=="function"?WeakMap:Map;function HB(e,t,r){r=xc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Z2||(Z2=!0,oj=n),QN(e,t)},r}function qB(e,t,r){r=xc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){QN(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){QN(e,t),typeof n!="function"&&(qu===null?qu=new Set([this]):qu.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function h8(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new wee;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Mee.bind(null,e,t,r),t.then(e,e))}function p8(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function m8(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xc(-1,1),t.tag=2,Hu(r,t,1))),r.lanes|=1),e)}var _ee=qc.ReactCurrentOwner,cs=!1;function Pi(e,t,r,n){t.child=e===null?bB(t,null,r,n):dp(t,e.child,r,n)}function g8(e,t,r,n,a){r=r.render;var i=t.ref;return Y0(t,a),n=FA(e,t,r,n,i,a),r=LA(),e!==null&&!cs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Dc(e,t,a)):(Sn&&r&&SA(t),t.flags|=1,Pi(e,t,n,a),t.child)}function x8(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!VA(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,YB(e,t,i,n,a)):(e=_2(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:ov,r(s,n)&&e.ref===t.ref)return Dc(e,t,a)}return t.flags|=1,e=Vu(i,n),e.ref=t.ref,e.return=t,t.child=e}function YB(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(ov(i,n)&&e.ref===t.ref)if(cs=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(cs=!0);else return t.lanes=e.lanes,Dc(e,t,a)}return JN(e,t,r,n,a)}function VB(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},hn(M0,ks),ks|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,hn(M0,ks),ks|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,hn(M0,ks),ks|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,hn(M0,ks),ks|=n;return Pi(e,t,a,r),t.child}function GB(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function JN(e,t,r,n,a){var i=fs(r)?Lf:ki.current;return i=cp(t,i),Y0(t,a),r=FA(e,t,r,n,i,a),n=LA(),e!==null&&!cs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Dc(e,t,a)):(Sn&&n&&SA(t),t.flags|=1,Pi(e,t,r,a),t.child)}function v8(e,t,r,n,a){if(fs(r)){var i=!0;z2(t)}else i=!1;if(Y0(t,a),t.stateNode===null)y2(e,t),zB(t,r,n),XN(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=fo(u):(u=fs(r)?Lf:ki.current,u=cp(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&f8(t,s,n,u),_u=!1;var h=t.memoizedState;s.state=h,G2(t,n,s,a),l=t.memoizedState,o!==n||h!==l||ds.current||_u?(typeof d=="function"&&(KN(t,r,d,n),l=t.memoizedState),(o=_u||d8(t,r,o,n,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,_B(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Oo(t.type,o),s.props=u,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=fo(l):(l=fs(r)?Lf:ki.current,l=cp(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&f8(t,s,n,l),_u=!1,h=t.memoizedState,s.state=h,G2(t,n,s,a);var m=t.memoizedState;o!==f||h!==m||ds.current||_u?(typeof p=="function"&&(KN(t,r,p,n),m=t.memoizedState),(u=_u||d8(t,r,u,n,h,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),s.props=n,s.state=m,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return ZN(e,t,r,n,i,a)}function ZN(e,t,r,n,a,i){GB(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&n8(t,r,!1),Dc(e,t,i);n=t.stateNode,_ee.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=dp(t,e.child,null,i),t.child=dp(t,null,o,i)):Pi(e,t,o,i),t.memoizedState=n.state,a&&n8(t,r,!0),t.child}function KB(e){var t=e.stateNode;t.pendingContext?r8(e,t.pendingContext,t.pendingContext!==t.context):t.context&&r8(e,t.context,!1),OA(e,t.containerInfo)}function y8(e,t,r,n,a){return up(),jA(a),t.flags|=256,Pi(e,t,r,n),t.child}var ej={dehydrated:null,treeContext:null,retryLane:0};function tj(e){return{baseLanes:e,cachePool:null,transitions:null}}function XB(e,t,r){var n=t.pendingProps,a=Pn.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),hn(Pn,a&1),e===null)return VN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=t5(s,n,0,null),e=kf(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=tj(r),t.memoizedState=ej,e):BA(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return kee(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Vu(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Vu(o,i):(i=kf(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?tj(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=ej,n}return i=e.child,e=i.sibling,n=Vu(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function BA(e,t){return t=t5({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ub(e,t,r,n){return n!==null&&jA(n),dp(t,e.child,null,r),e=BA(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kee(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=PS(Error(ft(422))),ub(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=t5({mode:"visible",children:n.children},a,0,null),i=kf(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&dp(t,e.child,null,s),t.child.memoizedState=tj(s),t.memoizedState=ej,i);if(!(t.mode&1))return ub(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(ft(419)),n=PS(i,n,void 0),ub(e,t,s,n)}if(o=(s&e.childLanes)!==0,cs||o){if(n=Ma,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,$c(e,a),qo(n,e,a,-1))}return YA(),n=PS(Error(ft(421))),ub(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Fee.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ts=zu(a.nextSibling),Es=t,Sn=!0,Lo=null,e!==null&&(Zs[eo++]=fc,Zs[eo++]=hc,Zs[eo++]=If,fc=e.id,hc=e.overflow,If=t),t=BA(t,n.children),t.flags|=4096,t)}function b8(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),GN(e.return,t,r)}function OS(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function QB(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Pi(e,t,n.children,r),n=Pn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&b8(e,r,t);else if(e.tag===19)b8(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(hn(Pn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&K2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),OS(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&K2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}OS(t,!0,r,null,i);break;case"together":OS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function y2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Bf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ft(153));if(t.child!==null){for(e=t.child,r=Vu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Vu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function See(e,t,r){switch(t.tag){case 3:KB(t),up();break;case 5:kB(t);break;case 1:fs(t.type)&&z2(t);break;case 4:OA(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;hn(Y2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(hn(Pn,Pn.current&1),t.flags|=128,null):r&t.child.childLanes?XB(e,t,r):(hn(Pn,Pn.current&1),e=Dc(e,t,r),e!==null?e.sibling:null);hn(Pn,Pn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return QB(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),hn(Pn,Pn.current),n)break;return null;case 22:case 23:return t.lanes=0,VB(e,t,r)}return Dc(e,t,r)}var JB,rj,ZB,eU;JB=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};rj=function(){};ZB=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ff(jl.current);var i=null;switch(r){case"input":a=SN(e,a),n=SN(e,n),i=[];break;case"select":a=Dn({},a,{value:void 0}),n=Dn({},n,{value:void 0}),i=[];break;case"textarea":a=CN(e,a),n=CN(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=U2)}AN(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ev.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ev.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&gn("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};eU=function(e,t,r,n){r!==n&&(t.flags|=4)};function yg(e,t){if(!Sn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function oi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Nee(e,t,r){var n=t.pendingProps;switch(NA(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oi(t),null;case 1:return fs(t.type)&&W2(),oi(t),null;case 3:return n=t.stateNode,fp(),bn(ds),bn(ki),DA(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(lb(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lo!==null&&(uj(Lo),Lo=null))),rj(e,t),oi(t),null;case 5:$A(t);var a=ff(fv.current);if(r=t.type,e!==null&&t.stateNode!=null)ZB(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ft(166));return oi(t),null}if(e=ff(jl.current),lb(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[vl]=t,n[uv]=i,e=(t.mode&1)!==0,r){case"dialog":gn("cancel",n),gn("close",n);break;case"iframe":case"object":case"embed":gn("load",n);break;case"video":case"audio":for(a=0;a<ox.length;a++)gn(ox[a],n);break;case"source":gn("error",n);break;case"img":case"image":case"link":gn("error",n),gn("load",n);break;case"details":gn("toggle",n);break;case"input":AO(n,i),gn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},gn("invalid",n);break;case"textarea":PO(n,i),gn("invalid",n)}AN(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&ob(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ob(n.textContent,o,e),a=["children",""+o]):ev.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&gn("scroll",n)}switch(r){case"input":Z1(n),EO(n,i,!0);break;case"textarea":Z1(n),OO(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=U2)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=T9(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[vl]=t,e[uv]=n,JB(e,t,!1,!1),t.stateNode=e;e:{switch(s=EN(r,n),r){case"dialog":gn("cancel",e),gn("close",e),a=n;break;case"iframe":case"object":case"embed":gn("load",e),a=n;break;case"video":case"audio":for(a=0;a<ox.length;a++)gn(ox[a],e);a=n;break;case"source":gn("error",e),a=n;break;case"img":case"image":case"link":gn("error",e),gn("load",e),a=n;break;case"details":gn("toggle",e),a=n;break;case"input":AO(e,n),a=SN(e,n),gn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Dn({},n,{value:void 0}),gn("invalid",e);break;case"textarea":PO(e,n),a=CN(e,n),gn("invalid",e);break;default:a=n}AN(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?P9(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&A9(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&tv(e,l):typeof l=="number"&&tv(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ev.hasOwnProperty(i)?l!=null&&i==="onScroll"&&gn("scroll",e):l!=null&&uA(e,i,l,s))}switch(r){case"input":Z1(e),EO(e,n,!1);break;case"textarea":Z1(e),OO(e);break;case"option":n.value!=null&&e.setAttribute("value",""+rd(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?W0(e,!!n.multiple,i,!1):n.defaultValue!=null&&W0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=U2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return oi(t),null;case 6:if(e&&t.stateNode!=null)eU(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ft(166));if(r=ff(fv.current),ff(jl.current),lb(t)){if(n=t.stateNode,r=t.memoizedProps,n[vl]=t,(i=n.nodeValue!==r)&&(e=Es,e!==null))switch(e.tag){case 3:ob(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ob(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vl]=t,t.stateNode=n}return oi(t),null;case 13:if(bn(Pn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Sn&&Ts!==null&&t.mode&1&&!(t.flags&128))vB(),up(),t.flags|=98560,i=!1;else if(i=lb(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ft(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ft(317));i[vl]=t}else up(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;oi(t),i=!1}else Lo!==null&&(uj(Lo),Lo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Pn.current&1?_a===0&&(_a=3):YA())),t.updateQueue!==null&&(t.flags|=4),oi(t),null);case 4:return fp(),rj(e,t),e===null&&lv(t.stateNode.containerInfo),oi(t),null;case 10:return AA(t.type._context),oi(t),null;case 17:return fs(t.type)&&W2(),oi(t),null;case 19:if(bn(Pn),i=t.memoizedState,i===null)return oi(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)yg(i,!1);else{if(_a!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=K2(e),s!==null){for(t.flags|=128,yg(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return hn(Pn,Pn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Kn()>pp&&(t.flags|=128,n=!0,yg(i,!1),t.lanes=4194304)}else{if(!n)if(e=K2(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yg(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Sn)return oi(t),null}else 2*Kn()-i.renderingStartTime>pp&&r!==1073741824&&(t.flags|=128,n=!0,yg(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Kn(),t.sibling=null,r=Pn.current,hn(Pn,n?r&1|2:r&1),t):(oi(t),null);case 22:case 23:return qA(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ks&1073741824&&(oi(t),t.subtreeFlags&6&&(t.flags|=8192)):oi(t),null;case 24:return null;case 25:return null}throw Error(ft(156,t.tag))}function jee(e,t){switch(NA(t),t.tag){case 1:return fs(t.type)&&W2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fp(),bn(ds),bn(ki),DA(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $A(t),null;case 13:if(bn(Pn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ft(340));up()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return bn(Pn),null;case 4:return fp(),null;case 10:return AA(t.type._context),null;case 22:case 23:return qA(),null;case 24:return null;default:return null}}var db=!1,xi=!1,Cee=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function D0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Rn(e,t,n)}else r.current=null}function nj(e,t,r){try{r()}catch(n){Rn(e,t,n)}}var w8=!1;function Tee(e,t){if(BN=I2,e=iB(),kA(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(o=s),h===i&&++d===n&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(UN={focusedElem:e,selectionRange:r},I2=!1,Nt=t;Nt!==null;)if(t=Nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Nt=e;else for(;Nt!==null;){t=Nt;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Oo(t.type,g),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ft(163))}}catch(N){Rn(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Nt=e;break}Nt=t.return}return m=w8,w8=!1,m}function jx(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&nj(t,r,i)}a=a.next}while(a!==n)}}function Z_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function aj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function tU(e){var t=e.alternate;t!==null&&(e.alternate=null,tU(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vl],delete t[uv],delete t[HN],delete t[uee],delete t[dee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rU(e){return e.tag===5||e.tag===3||e.tag===4}function _8(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rU(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ij(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=U2));else if(n!==4&&(e=e.child,e!==null))for(ij(e,t,r),e=e.sibling;e!==null;)ij(e,t,r),e=e.sibling}function sj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(sj(e,t,r),e=e.sibling;e!==null;)sj(e,t,r),e=e.sibling}var qa=null,Do=!1;function fu(e,t,r){for(r=r.child;r!==null;)nU(e,t,r),r=r.sibling}function nU(e,t,r){if(Nl&&typeof Nl.onCommitFiberUnmount=="function")try{Nl.onCommitFiberUnmount(q_,r)}catch{}switch(r.tag){case 5:xi||D0(r,t);case 6:var n=qa,a=Do;qa=null,fu(e,t,r),qa=n,Do=a,qa!==null&&(Do?(e=qa,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):qa.removeChild(r.stateNode));break;case 18:qa!==null&&(Do?(e=qa,r=r.stateNode,e.nodeType===8?NS(e.parentNode,r):e.nodeType===1&&NS(e,r),iv(e)):NS(qa,r.stateNode));break;case 4:n=qa,a=Do,qa=r.stateNode.containerInfo,Do=!0,fu(e,t,r),qa=n,Do=a;break;case 0:case 11:case 14:case 15:if(!xi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&nj(r,t,s),a=a.next}while(a!==n)}fu(e,t,r);break;case 1:if(!xi&&(D0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Rn(r,t,o)}fu(e,t,r);break;case 21:fu(e,t,r);break;case 22:r.mode&1?(xi=(n=xi)||r.memoizedState!==null,fu(e,t,r),xi=n):fu(e,t,r);break;default:fu(e,t,r)}}function k8(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Cee),t.forEach(function(n){var a=Lee.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function No(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:qa=o.stateNode,Do=!1;break e;case 3:qa=o.stateNode.containerInfo,Do=!0;break e;case 4:qa=o.stateNode.containerInfo,Do=!0;break e}o=o.return}if(qa===null)throw Error(ft(160));nU(i,s,a),qa=null,Do=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){Rn(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)aU(t,e),t=t.sibling}function aU(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(No(t,e),ll(e),n&4){try{jx(3,e,e.return),Z_(3,e)}catch(g){Rn(e,e.return,g)}try{jx(5,e,e.return)}catch(g){Rn(e,e.return,g)}}break;case 1:No(t,e),ll(e),n&512&&r!==null&&D0(r,r.return);break;case 5:if(No(t,e),ll(e),n&512&&r!==null&&D0(r,r.return),e.flags&32){var a=e.stateNode;try{tv(a,"")}catch(g){Rn(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&j9(a,i),EN(o,s);var u=EN(o,i);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?P9(a,f):d==="dangerouslySetInnerHTML"?A9(a,f):d==="children"?tv(a,f):uA(a,d,f,u)}switch(o){case"input":NN(a,i);break;case"textarea":C9(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?W0(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?W0(a,!!i.multiple,i.defaultValue,!0):W0(a,!!i.multiple,i.multiple?[]:"",!1))}a[uv]=i}catch(g){Rn(e,e.return,g)}}break;case 6:if(No(t,e),ll(e),n&4){if(e.stateNode===null)throw Error(ft(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Rn(e,e.return,g)}}break;case 3:if(No(t,e),ll(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{iv(t.containerInfo)}catch(g){Rn(e,e.return,g)}break;case 4:No(t,e),ll(e);break;case 13:No(t,e),ll(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(zA=Kn())),n&4&&k8(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(xi=(u=xi)||d,No(t,e),xi=u):No(t,e),ll(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Nt=e,d=e.child;d!==null;){for(f=Nt=d;Nt!==null;){switch(h=Nt,p=h.child,h.tag){case 0:case 11:case 14:case 15:jx(4,h,h.return);break;case 1:D0(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Rn(n,r,g)}}break;case 5:D0(h,h.return);break;case 22:if(h.memoizedState!==null){N8(f);continue}}p!==null?(p.return=h,Nt=p):N8(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=E9("display",s))}catch(g){Rn(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Rn(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:No(t,e),ll(e),n&4&&k8(e);break;case 21:break;default:No(t,e),ll(e)}}function ll(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(rU(r)){var n=r;break e}r=r.return}throw Error(ft(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(tv(a,""),n.flags&=-33);var i=_8(e);sj(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=_8(e);ij(e,o,s);break;default:throw Error(ft(161))}}catch(l){Rn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Aee(e,t,r){Nt=e,iU(e)}function iU(e,t,r){for(var n=(e.mode&1)!==0;Nt!==null;){var a=Nt,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||db;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||xi;o=db;var u=xi;if(db=s,(xi=l)&&!u)for(Nt=a;Nt!==null;)s=Nt,l=s.child,s.tag===22&&s.memoizedState!==null?j8(a):l!==null?(l.return=s,Nt=l):j8(a);for(;i!==null;)Nt=i,iU(i),i=i.sibling;Nt=a,db=o,xi=u}S8(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Nt=i):S8(e)}}function S8(e){for(;Nt!==null;){var t=Nt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xi||Z_(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!xi)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Oo(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&l8(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}l8(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&iv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ft(163))}xi||t.flags&512&&aj(t)}catch(h){Rn(t,t.return,h)}}if(t===e){Nt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Nt=r;break}Nt=t.return}}function N8(e){for(;Nt!==null;){var t=Nt;if(t===e){Nt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Nt=r;break}Nt=t.return}}function j8(e){for(;Nt!==null;){var t=Nt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Z_(4,t)}catch(l){Rn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Rn(t,a,l)}}var i=t.return;try{aj(t)}catch(l){Rn(t,i,l)}break;case 5:var s=t.return;try{aj(t)}catch(l){Rn(t,s,l)}}}catch(l){Rn(t,t.return,l)}if(t===e){Nt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Nt=o;break}Nt=t.return}}var Eee=Math.ceil,J2=qc.ReactCurrentDispatcher,UA=qc.ReactCurrentOwner,lo=qc.ReactCurrentBatchConfig,Er=0,Ma=null,fa=null,Ka=0,ks=0,M0=Sd(0),_a=0,gv=null,Bf=0,e5=0,WA=0,Cx=null,os=null,zA=0,pp=1/0,sc=null,Z2=!1,oj=null,qu=null,fb=!1,Pu=null,ew=0,Tx=0,lj=null,b2=-1,w2=0;function Bi(){return Er&6?Kn():b2!==-1?b2:b2=Kn()}function Yu(e){return e.mode&1?Er&2&&Ka!==0?Ka&-Ka:hee.transition!==null?(w2===0&&(w2=z9()),w2):(e=Xr,e!==0||(e=window.event,e=e===void 0?16:X9(e.type)),e):1}function qo(e,t,r,n){if(50<Tx)throw Tx=0,lj=null,Error(ft(185));Cy(e,r,n),(!(Er&2)||e!==Ma)&&(e===Ma&&(!(Er&2)&&(e5|=r),_a===4&&ju(e,Ka)),hs(e,n),r===1&&Er===0&&!(t.mode&1)&&(pp=Kn()+500,X_&&Nd()))}function hs(e,t){var r=e.callbackNode;hZ(e,t);var n=L2(e,e===Ma?Ka:0);if(n===0)r!==null&&MO(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&MO(r),t===1)e.tag===0?fee(C8.bind(null,e)):mB(C8.bind(null,e)),lee(function(){!(Er&6)&&Nd()}),r=null;else{switch(H9(n)){case 1:r=mA;break;case 4:r=U9;break;case 16:r=F2;break;case 536870912:r=W9;break;default:r=F2}r=hU(r,sU.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sU(e,t){if(b2=-1,w2=0,Er&6)throw Error(ft(327));var r=e.callbackNode;if(V0()&&e.callbackNode!==r)return null;var n=L2(e,e===Ma?Ka:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=tw(e,n);else{t=n;var a=Er;Er|=2;var i=lU();(Ma!==e||Ka!==t)&&(sc=null,pp=Kn()+500,_f(e,t));do try{$ee();break}catch(o){oU(e,o)}while(!0);TA(),J2.current=i,Er=a,fa!==null?t=0:(Ma=null,Ka=0,t=_a)}if(t!==0){if(t===2&&(a=MN(e),a!==0&&(n=a,t=cj(e,a))),t===1)throw r=gv,_f(e,0),ju(e,n),hs(e,Kn()),r;if(t===6)ju(e,n);else{if(a=e.current.alternate,!(n&30)&&!Pee(a)&&(t=tw(e,n),t===2&&(i=MN(e),i!==0&&(n=i,t=cj(e,i))),t===1))throw r=gv,_f(e,0),ju(e,n),hs(e,Kn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ft(345));case 2:Xd(e,os,sc);break;case 3:if(ju(e,n),(n&130023424)===n&&(t=zA+500-Kn(),10<t)){if(L2(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Bi(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=zN(Xd.bind(null,e,os,sc),t);break}Xd(e,os,sc);break;case 4:if(ju(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-Ho(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=Kn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Eee(n/1960))-n,10<n){e.timeoutHandle=zN(Xd.bind(null,e,os,sc),n);break}Xd(e,os,sc);break;case 5:Xd(e,os,sc);break;default:throw Error(ft(329))}}}return hs(e,Kn()),e.callbackNode===r?sU.bind(null,e):null}function cj(e,t){var r=Cx;return e.current.memoizedState.isDehydrated&&(_f(e,t).flags|=256),e=tw(e,t),e!==2&&(t=os,os=r,t!==null&&uj(t)),e}function uj(e){os===null?os=e:os.push.apply(os,e)}function Pee(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ko(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ju(e,t){for(t&=~WA,t&=~e5,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ho(t),n=1<<r;e[r]=-1,t&=~n}}function C8(e){if(Er&6)throw Error(ft(327));V0();var t=L2(e,0);if(!(t&1))return hs(e,Kn()),null;var r=tw(e,t);if(e.tag!==0&&r===2){var n=MN(e);n!==0&&(t=n,r=cj(e,n))}if(r===1)throw r=gv,_f(e,0),ju(e,t),hs(e,Kn()),r;if(r===6)throw Error(ft(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xd(e,os,sc),hs(e,Kn()),null}function HA(e,t){var r=Er;Er|=1;try{return e(t)}finally{Er=r,Er===0&&(pp=Kn()+500,X_&&Nd())}}function Uf(e){Pu!==null&&Pu.tag===0&&!(Er&6)&&V0();var t=Er;Er|=1;var r=lo.transition,n=Xr;try{if(lo.transition=null,Xr=1,e)return e()}finally{Xr=n,lo.transition=r,Er=t,!(Er&6)&&Nd()}}function qA(){ks=M0.current,bn(M0)}function _f(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,oee(r)),fa!==null)for(r=fa.return;r!==null;){var n=r;switch(NA(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&W2();break;case 3:fp(),bn(ds),bn(ki),DA();break;case 5:$A(n);break;case 4:fp();break;case 13:bn(Pn);break;case 19:bn(Pn);break;case 10:AA(n.type._context);break;case 22:case 23:qA()}r=r.return}if(Ma=e,fa=e=Vu(e.current,null),Ka=ks=t,_a=0,gv=null,WA=e5=Bf=0,os=Cx=null,df!==null){for(t=0;t<df.length;t++)if(r=df[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}df=null}return e}function oU(e,t){do{var r=fa;try{if(TA(),x2.current=Q2,X2){for(var n=$n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}X2=!1}if(Rf=0,$a=ba=$n=null,Nx=!1,hv=0,UA.current=null,r===null||r.return===null){_a=1,gv=t,fa=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=Ka,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=p8(s);if(p!==null){p.flags&=-257,m8(p,s,o,i,t),p.mode&1&&h8(i,u,t),t=p,l=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){h8(i,u,t),YA();break e}l=Error(ft(426))}}else if(Sn&&o.mode&1){var v=p8(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),m8(v,s,o,i,t),jA(hp(l,o));break e}}i=l=hp(l,o),_a!==4&&(_a=2),Cx===null?Cx=[i]:Cx.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=HB(i,l,t);o8(i,x);break e;case 1:o=l;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(qu===null||!qu.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=qB(i,o,t);o8(i,N);break e}}i=i.return}while(i!==null)}uU(r)}catch(_){t=_,fa===r&&r!==null&&(fa=r=r.return);continue}break}while(!0)}function lU(){var e=J2.current;return J2.current=Q2,e===null?Q2:e}function YA(){(_a===0||_a===3||_a===2)&&(_a=4),Ma===null||!(Bf&268435455)&&!(e5&268435455)||ju(Ma,Ka)}function tw(e,t){var r=Er;Er|=2;var n=lU();(Ma!==e||Ka!==t)&&(sc=null,_f(e,t));do try{Oee();break}catch(a){oU(e,a)}while(!0);if(TA(),Er=r,J2.current=n,fa!==null)throw Error(ft(261));return Ma=null,Ka=0,_a}function Oee(){for(;fa!==null;)cU(fa)}function $ee(){for(;fa!==null&&!aZ();)cU(fa)}function cU(e){var t=fU(e.alternate,e,ks);e.memoizedProps=e.pendingProps,t===null?uU(e):fa=t,UA.current=null}function uU(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jee(r,t),r!==null){r.flags&=32767,fa=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_a=6,fa=null;return}}else if(r=Nee(r,t,ks),r!==null){fa=r;return}if(t=t.sibling,t!==null){fa=t;return}fa=t=e}while(t!==null);_a===0&&(_a=5)}function Xd(e,t,r){var n=Xr,a=lo.transition;try{lo.transition=null,Xr=1,Dee(e,t,r,n)}finally{lo.transition=a,Xr=n}return null}function Dee(e,t,r,n){do V0();while(Pu!==null);if(Er&6)throw Error(ft(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ft(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(pZ(e,i),e===Ma&&(fa=Ma=null,Ka=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fb||(fb=!0,hU(F2,function(){return V0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=lo.transition,lo.transition=null;var s=Xr;Xr=1;var o=Er;Er|=4,UA.current=null,Tee(e,r),aU(r,e),eee(UN),I2=!!BN,UN=BN=null,e.current=r,Aee(r),iZ(),Er=o,Xr=s,lo.transition=i}else e.current=r;if(fb&&(fb=!1,Pu=e,ew=a),i=e.pendingLanes,i===0&&(qu=null),lZ(r.stateNode),hs(e,Kn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Z2)throw Z2=!1,e=oj,oj=null,e;return ew&1&&e.tag!==0&&V0(),i=e.pendingLanes,i&1?e===lj?Tx++:(Tx=0,lj=e):Tx=0,Nd(),null}function V0(){if(Pu!==null){var e=H9(ew),t=lo.transition,r=Xr;try{if(lo.transition=null,Xr=16>e?16:e,Pu===null)var n=!1;else{if(e=Pu,Pu=null,ew=0,Er&6)throw Error(ft(331));var a=Er;for(Er|=4,Nt=e.current;Nt!==null;){var i=Nt,s=i.child;if(Nt.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Nt=u;Nt!==null;){var d=Nt;switch(d.tag){case 0:case 11:case 15:jx(8,d,i)}var f=d.child;if(f!==null)f.return=d,Nt=f;else for(;Nt!==null;){d=Nt;var h=d.sibling,p=d.return;if(tU(d),d===u){Nt=null;break}if(h!==null){h.return=p,Nt=h;break}Nt=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Nt=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Nt=s;else e:for(;Nt!==null;){if(i=Nt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jx(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Nt=x;break e}Nt=i.return}}var y=e.current;for(Nt=y;Nt!==null;){s=Nt;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Nt=b;else e:for(s=y;Nt!==null;){if(o=Nt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Z_(9,o)}}catch(_){Rn(o,o.return,_)}if(o===s){Nt=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,Nt=N;break e}Nt=o.return}}if(Er=a,Nd(),Nl&&typeof Nl.onPostCommitFiberRoot=="function")try{Nl.onPostCommitFiberRoot(q_,e)}catch{}n=!0}return n}finally{Xr=r,lo.transition=t}}return!1}function T8(e,t,r){t=hp(r,t),t=HB(e,t,1),e=Hu(e,t,1),t=Bi(),e!==null&&(Cy(e,1,t),hs(e,t))}function Rn(e,t,r){if(e.tag===3)T8(e,e,r);else for(;t!==null;){if(t.tag===3){T8(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qu===null||!qu.has(n))){e=hp(r,e),e=qB(t,e,1),t=Hu(t,e,1),e=Bi(),t!==null&&(Cy(t,1,e),hs(t,e));break}}t=t.return}}function Mee(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Bi(),e.pingedLanes|=e.suspendedLanes&r,Ma===e&&(Ka&r)===r&&(_a===4||_a===3&&(Ka&130023424)===Ka&&500>Kn()-zA?_f(e,0):WA|=r),hs(e,t)}function dU(e,t){t===0&&(e.mode&1?(t=rb,rb<<=1,!(rb&130023424)&&(rb=4194304)):t=1);var r=Bi();e=$c(e,t),e!==null&&(Cy(e,t,r),hs(e,r))}function Fee(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),dU(e,r)}function Lee(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ft(314))}n!==null&&n.delete(t),dU(e,r)}var fU;fU=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ds.current)cs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return cs=!1,See(e,t,r);cs=!!(e.flags&131072)}else cs=!1,Sn&&t.flags&1048576&&gB(t,q2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;y2(e,t),e=t.pendingProps;var a=cp(t,ki.current);Y0(t,r),a=FA(null,t,n,e,a,r);var i=LA();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fs(n)?(i=!0,z2(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,PA(t),a.updater=J_,t.stateNode=a,a._reactInternals=t,XN(t,n,e,r),t=ZN(null,t,n,!0,i,r)):(t.tag=0,Sn&&i&&SA(t),Pi(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(y2(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Ree(n),e=Oo(n,e),a){case 0:t=JN(null,t,n,e,r);break e;case 1:t=v8(null,t,n,e,r);break e;case 11:t=g8(null,t,n,e,r);break e;case 14:t=x8(null,t,n,Oo(n.type,e),r);break e}throw Error(ft(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Oo(n,a),JN(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Oo(n,a),v8(e,t,n,a,r);case 3:e:{if(KB(t),e===null)throw Error(ft(387));n=t.pendingProps,i=t.memoizedState,a=i.element,_B(e,t),G2(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=hp(Error(ft(423)),t),t=y8(e,t,n,r,a);break e}else if(n!==a){a=hp(Error(ft(424)),t),t=y8(e,t,n,r,a);break e}else for(Ts=zu(t.stateNode.containerInfo.firstChild),Es=t,Sn=!0,Lo=null,r=bB(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(up(),n===a){t=Dc(e,t,r);break e}Pi(e,t,n,r)}t=t.child}return t;case 5:return kB(t),e===null&&VN(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,WN(n,a)?s=null:i!==null&&WN(n,i)&&(t.flags|=32),GB(e,t),Pi(e,t,s,r),t.child;case 6:return e===null&&VN(t),null;case 13:return XB(e,t,r);case 4:return OA(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=dp(t,null,n,r):Pi(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Oo(n,a),g8(e,t,n,a,r);case 7:return Pi(e,t,t.pendingProps,r),t.child;case 8:return Pi(e,t,t.pendingProps.children,r),t.child;case 12:return Pi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,hn(Y2,n._currentValue),n._currentValue=s,i!==null)if(Ko(i.value,s)){if(i.children===a.children&&!ds.current){t=Dc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=xc(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),GN(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(ft(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),GN(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Pi(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Y0(t,r),a=fo(a),n=n(a),t.flags|=1,Pi(e,t,n,r),t.child;case 14:return n=t.type,a=Oo(n,t.pendingProps),a=Oo(n.type,a),x8(e,t,n,a,r);case 15:return YB(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Oo(n,a),y2(e,t),t.tag=1,fs(n)?(e=!0,z2(t)):e=!1,Y0(t,r),zB(t,n,a),XN(t,n,a,r),ZN(null,t,n,!0,e,r);case 19:return QB(e,t,r);case 22:return VB(e,t,r)}throw Error(ft(156,t.tag))};function hU(e,t){return B9(e,t)}function Iee(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function io(e,t,r,n){return new Iee(e,t,r,n)}function VA(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ree(e){if(typeof e=="function")return VA(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fA)return 11;if(e===hA)return 14}return 2}function Vu(e,t){var r=e.alternate;return r===null?(r=io(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _2(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")VA(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case N0:return kf(r.children,a,i,t);case dA:s=8,a|=8;break;case bN:return e=io(12,r,t,a|2),e.elementType=bN,e.lanes=i,e;case wN:return e=io(13,r,t,a),e.elementType=wN,e.lanes=i,e;case _N:return e=io(19,r,t,a),e.elementType=_N,e.lanes=i,e;case k9:return t5(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w9:s=10;break e;case _9:s=9;break e;case fA:s=11;break e;case hA:s=14;break e;case wu:s=16,n=null;break e}throw Error(ft(130,e==null?e:typeof e,""))}return t=io(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function kf(e,t,r,n){return e=io(7,e,n,t),e.lanes=r,e}function t5(e,t,r,n){return e=io(22,e,n,t),e.elementType=k9,e.lanes=r,e.stateNode={isHidden:!1},e}function $S(e,t,r){return e=io(6,e,null,t),e.lanes=r,e}function DS(e,t,r){return t=io(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bee(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pS(0),this.expirationTimes=pS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pS(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function GA(e,t,r,n,a,i,s,o,l){return e=new Bee(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=io(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},PA(i),e}function Uee(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function pU(e){if(!e)return nd;e=e._reactInternals;e:{if(oh(e)!==e||e.tag!==1)throw Error(ft(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ft(171))}if(e.tag===1){var r=e.type;if(fs(r))return pB(e,r,t)}return t}function mU(e,t,r,n,a,i,s,o,l){return e=GA(r,n,!0,e,a,i,s,o,l),e.context=pU(null),r=e.current,n=Bi(),a=Yu(r),i=xc(n,a),i.callback=t??null,Hu(r,i,a),e.current.lanes=a,Cy(e,a,n),hs(e,n),e}function r5(e,t,r,n){var a=t.current,i=Bi(),s=Yu(a);return r=pU(r),t.context===null?t.context=r:t.pendingContext=r,t=xc(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Hu(a,t,s),e!==null&&(qo(e,a,s,i),g2(e,a,s)),s}function rw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function A8(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function KA(e,t){A8(e,t),(e=e.alternate)&&A8(e,t)}function Wee(){return null}var gU=typeof reportError=="function"?reportError:function(e){console.error(e)};function XA(e){this._internalRoot=e}n5.prototype.render=XA.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ft(409));r5(e,t,null,null)};n5.prototype.unmount=XA.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uf(function(){r5(null,e,null,null)}),t[Oc]=null}};function n5(e){this._internalRoot=e}n5.prototype.unstable_scheduleHydration=function(e){if(e){var t=V9();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Nu.length&&t!==0&&t<Nu[r].priority;r++);Nu.splice(r,0,e),r===0&&K9(e)}};function QA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function a5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function E8(){}function zee(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=rw(s);i.call(u)}}var s=mU(t,n,e,0,null,!1,!1,"",E8);return e._reactRootContainer=s,e[Oc]=s.current,lv(e.nodeType===8?e.parentNode:e),Uf(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=rw(l);o.call(u)}}var l=GA(e,0,!1,null,null,!1,!1,"",E8);return e._reactRootContainer=l,e[Oc]=l.current,lv(e.nodeType===8?e.parentNode:e),Uf(function(){r5(t,l,r,n)}),l}function i5(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=rw(s);o.call(l)}}r5(t,s,e,a)}else s=zee(r,t,e,a,n);return rw(s)}q9=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sx(t.pendingLanes);r!==0&&(gA(t,r|1),hs(t,Kn()),!(Er&6)&&(pp=Kn()+500,Nd()))}break;case 13:Uf(function(){var n=$c(e,1);if(n!==null){var a=Bi();qo(n,e,1,a)}}),KA(e,1)}};xA=function(e){if(e.tag===13){var t=$c(e,134217728);if(t!==null){var r=Bi();qo(t,e,134217728,r)}KA(e,134217728)}};Y9=function(e){if(e.tag===13){var t=Yu(e),r=$c(e,t);if(r!==null){var n=Bi();qo(r,e,t,n)}KA(e,t)}};V9=function(){return Xr};G9=function(e,t){var r=Xr;try{return Xr=e,t()}finally{Xr=r}};ON=function(e,t,r){switch(t){case"input":if(NN(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=K_(n);if(!a)throw Error(ft(90));N9(n),NN(n,a)}}}break;case"textarea":C9(e,r);break;case"select":t=r.value,t!=null&&W0(e,!!r.multiple,t,!1)}};D9=HA;M9=Uf;var Hee={usingClientEntryPoint:!1,Events:[Ay,A0,K_,O9,$9,HA]},bg={findFiberByHostInstance:uf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qee={bundleType:bg.bundleType,version:bg.version,rendererPackageName:bg.rendererPackageName,rendererConfig:bg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=I9(e),e===null?null:e.stateNode},findFiberByHostInstance:bg.findFiberByHostInstance||Wee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hb.isDisabled&&hb.supportsFiber)try{q_=hb.inject(qee),Nl=hb}catch{}}Ds.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hee;Ds.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QA(t))throw Error(ft(200));return Uee(e,t,null,r)};Ds.createRoot=function(e,t){if(!QA(e))throw Error(ft(299));var r=!1,n="",a=gU;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=GA(e,1,!1,null,null,r,!1,n,a),e[Oc]=t.current,lv(e.nodeType===8?e.parentNode:e),new XA(t)};Ds.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ft(188)):(e=Object.keys(e).join(","),Error(ft(268,e)));return e=I9(t),e=e===null?null:e.stateNode,e};Ds.flushSync=function(e){return Uf(e)};Ds.hydrate=function(e,t,r){if(!a5(t))throw Error(ft(200));return i5(null,e,t,!0,r)};Ds.hydrateRoot=function(e,t,r){if(!QA(e))throw Error(ft(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=gU;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=mU(t,null,e,1,r??null,a,!1,i,s),e[Oc]=t.current,lv(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new n5(t)};Ds.render=function(e,t,r){if(!a5(t))throw Error(ft(200));return i5(null,e,t,!1,r)};Ds.unmountComponentAtNode=function(e){if(!a5(e))throw Error(ft(40));return e._reactRootContainer?(Uf(function(){i5(null,null,e,!1,function(){e._reactRootContainer=null,e[Oc]=null})}),!0):!1};Ds.unstable_batchedUpdates=HA;Ds.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!a5(r))throw Error(ft(200));if(e==null||e._reactInternals===void 0)throw Error(ft(38));return i5(e,t,r,!1,n)};Ds.version="18.3.1-next-f1338f8080-20240426";function xU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xU)}catch(e){console.error(e)}}xU(),x9.exports=Ds;var s5=x9.exports;const Yee=hr(s5);var vU,P8=s5;vU=P8.createRoot,P8.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xv.apply(this,arguments)}var Ou;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ou||(Ou={}));const O8="popstate";function Vee(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return dj("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:nw(a)}return Kee(t,r,null,e)}function ta(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yU(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Gee(){return Math.random().toString(36).substr(2,8)}function $8(e,t){return{usr:e.state,key:e.key,idx:t}}function dj(e,t,r,n){return r===void 0&&(r=null),xv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?dm(t):t,{state:r,key:t&&t.key||n||Gee()})}function nw(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function dm(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Kee(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=Ou.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(xv({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Ou.Pop;let v=d(),x=v==null?null:v-u;u=v,l&&l({action:o,location:g.location,delta:x})}function h(v,x){o=Ou.Push;let y=dj(g.location,v,x);u=d()+1;let b=$8(y,u),N=g.createHref(y);try{s.pushState(b,"",N)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(N)}i&&l&&l({action:o,location:g.location,delta:1})}function p(v,x){o=Ou.Replace;let y=dj(g.location,v,x);u=d();let b=$8(y,u),N=g.createHref(y);s.replaceState(b,"",N),i&&l&&l({action:o,location:g.location,delta:0})}function m(v){let x=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof v=="string"?v:nw(v);return y=y.replace(/ $/,"%20"),ta(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let g={get action(){return o},get location(){return e(a,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(O8,f),l=v,()=>{a.removeEventListener(O8,f),l=null}},createHref(v){return t(a,v)},createURL:m,encodeLocation(v){let x=m(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return s.go(v)}};return g}var D8;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(D8||(D8={}));function Xee(e,t,r){return r===void 0&&(r="/"),Qee(e,t,r)}function Qee(e,t,r,n){let a=typeof t=="string"?dm(t):t,i=JA(a.pathname||"/",r);if(i==null)return null;let s=bU(e);Jee(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=ute(i);o=ote(s[l],u)}return o}function bU(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(ta(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Gu([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(ta(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bU(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:ite(u,i.index),routesMeta:d})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of wU(i.path))a(i,s,l)}),t}function wU(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=wU(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function Jee(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ste(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Zee=/^:[\w-]+$/,ete=3,tte=2,rte=1,nte=10,ate=-2,M8=e=>e==="*";function ite(e,t){let r=e.split("/"),n=r.length;return r.some(M8)&&(n+=ate),t&&(n+=tte),r.filter(a=>!M8(a)).reduce((a,i)=>a+(Zee.test(i)?ete:i===""?rte:nte),n)}function ste(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function ote(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=lte({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:Gu([i,f.pathname]),pathnameBase:pte(Gu([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Gu([i,f.pathnameBase]))}return s}function lte(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=cte(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=o[f]||"";s=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function cte(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),yU(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function ute(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yU(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function JA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function dte(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?dm(e):e;return{pathname:r?r.startsWith("/")?r:fte(r,t):t,search:mte(n),hash:gte(a)}}function fte(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function MS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hte(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ZA(e,t){let r=hte(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function eE(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=dm(e):(a=xv({},e),ta(!a.pathname||!a.pathname.includes("?"),MS("?","pathname","search",a)),ta(!a.pathname||!a.pathname.includes("#"),MS("#","pathname","hash",a)),ta(!a.search||!a.search.includes("#"),MS("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=dte(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Gu=e=>e.join("/").replace(/\/\/+/g,"/"),pte=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mte=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gte=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xte(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _U=["post","put","patch","delete"];new Set(_U);const vte=["get",..._U];new Set(vte);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vv.apply(this,arguments)}const tE=L.createContext(null),yte=L.createContext(null),jd=L.createContext(null),o5=L.createContext(null),Rl=L.createContext({outlet:null,matches:[],isDataRoute:!1}),kU=L.createContext(null);function bte(e,t){let{relative:r}=t===void 0?{}:t;fm()||ta(!1);let{basename:n,navigator:a}=L.useContext(jd),{hash:i,pathname:s,search:o}=NU(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Gu([n,s])),a.createHref({pathname:l,search:o,hash:i})}function fm(){return L.useContext(o5)!=null}function lh(){return fm()||ta(!1),L.useContext(o5).location}function SU(e){L.useContext(jd).static||L.useLayoutEffect(e)}function Bl(){let{isDataRoute:e}=L.useContext(Rl);return e?Mte():wte()}function wte(){fm()||ta(!1);let e=L.useContext(tE),{basename:t,future:r,navigator:n}=L.useContext(jd),{matches:a}=L.useContext(Rl),{pathname:i}=lh(),s=JSON.stringify(ZA(a,r.v7_relativeSplatPath)),o=L.useRef(!1);return SU(()=>{o.current=!0}),L.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=eE(u,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Gu([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}const _te=L.createContext(null);function kte(e){let t=L.useContext(Rl).outlet;return t&&L.createElement(_te.Provider,{value:e},t)}function l5(){let{matches:e}=L.useContext(Rl),t=e[e.length-1];return t?t.params:{}}function NU(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=L.useContext(jd),{matches:a}=L.useContext(Rl),{pathname:i}=lh(),s=JSON.stringify(ZA(a,n.v7_relativeSplatPath));return L.useMemo(()=>eE(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function Ste(e,t){return Nte(e,t)}function Nte(e,t,r,n){fm()||ta(!1);let{navigator:a,static:i}=L.useContext(jd),{matches:s}=L.useContext(Rl),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=lh(),f;if(t){var h;let x=typeof t=="string"?dm(t):t;u==="/"||(h=x.pathname)!=null&&h.startsWith(u)||ta(!1),f=x}else f=d;let p=f.pathname||"/",m=p;if(u!=="/"){let x=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=Xee(e,{pathname:m}),v=Ete(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Gu([u,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Gu([u,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n);return t&&v?L.createElement(o5.Provider,{value:{location:vv({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ou.Pop}},v):v}function jte(){let e=Dte(),t=xte(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),r?L.createElement("pre",{style:a},r):null,null)}const Cte=L.createElement(jte,null);class Tte extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?L.createElement(Rl.Provider,{value:this.props.routeContext},L.createElement(kU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ate(e){let{routeContext:t,match:r,children:n}=e,a=L.useContext(tE);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),L.createElement(Rl.Provider,{value:t},n)}function Ete(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||ta(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,m=!1,g=null,v=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||Cte,l&&(u<0&&h===0?(Fte("route-fallback"),m=!0,v=null):u===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,h+1)),y=()=>{let b;return p?b=g:m?b=v:f.route.Component?b=L.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,L.createElement(Ate,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?L.createElement(Tte,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var jU=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jU||{}),CU=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(CU||{});function Pte(e){let t=L.useContext(tE);return t||ta(!1),t}function Ote(e){let t=L.useContext(yte);return t||ta(!1),t}function $te(e){let t=L.useContext(Rl);return t||ta(!1),t}function TU(e){let t=$te(),r=t.matches[t.matches.length-1];return r.route.id||ta(!1),r.route.id}function Dte(){var e;let t=L.useContext(kU),r=Ote(),n=TU();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Mte(){let{router:e}=Pte(jU.UseNavigateStable),t=TU(CU.UseNavigateStable),r=L.useRef(!1);return SU(()=>{r.current=!0}),L.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,vv({fromRouteId:t},i)))},[e,t])}const F8={};function Fte(e,t,r){F8[e]||(F8[e]=!0)}function Lte(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function mp(e){let{to:t,replace:r,state:n,relative:a}=e;fm()||ta(!1);let{future:i,static:s}=L.useContext(jd),{matches:o}=L.useContext(Rl),{pathname:l}=lh(),u=Bl(),d=eE(t,ZA(o,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(d);return L.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Ite(e){return kte(e.context)}function Rr(e){ta(!1)}function Rte(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Ou.Pop,navigator:i,static:s=!1,future:o}=e;fm()&&ta(!1);let l=t.replace(/^\/*/,"/"),u=L.useMemo(()=>({basename:l,navigator:i,static:s,future:vv({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=dm(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,g=L.useMemo(()=>{let v=JA(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:m},navigationType:a}},[l,d,f,h,p,m,a]);return g==null?null:L.createElement(jd.Provider,{value:u},L.createElement(o5.Provider,{children:r,value:g}))}function AU(e){let{children:t,location:r}=e;return Ste(fj(t),r)}new Promise(()=>{});function fj(e,t){t===void 0&&(t=[]);let r=[];return L.Children.forEach(e,(n,a)=>{if(!L.isValidElement(n))return;let i=[...t,a];if(n.type===L.Fragment){r.push.apply(r,fj(n.props.children,i));return}n.type!==Rr&&ta(!1),!n.props.index||!n.props.children||ta(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=fj(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hj(){return hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hj.apply(this,arguments)}function Bte(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Ute(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wte(e,t){return e.button===0&&(!t||t==="_self")&&!Ute(e)}function pj(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function zte(e,t){let r=pj(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Hte=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qte="6";try{window.__reactRouterVersion=qte}catch{}const Yte="startTransition",L8=m9[Yte];function Vte(e){let{basename:t,children:r,future:n,window:a}=e,i=L.useRef();i.current==null&&(i.current=Vee({window:a,v5Compat:!0}));let s=i.current,[o,l]=L.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=L.useCallback(f=>{u&&L8?L8(()=>l(f)):l(f)},[l,u]);return L.useLayoutEffect(()=>s.listen(d),[s,d]),L.useEffect(()=>Lte(n),[n]),L.createElement(Rte,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const Gte=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kte=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wr=L.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=Bte(t,Hte),{basename:p}=L.useContext(jd),m,g=!1;if(typeof u=="string"&&Kte.test(u)&&(m=u,Gte))try{let b=new URL(window.location.href),N=u.startsWith("//")?new URL(b.protocol+u):new URL(u),_=JA(N.pathname,p);N.origin===b.origin&&_!=null?u=_+N.search+N.hash:g=!0}catch{}let v=bte(u,{relative:a}),x=Xte(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:a,viewTransition:f});function y(b){n&&n(b),b.defaultPrevented||x(b)}return L.createElement("a",hj({},h,{href:m||v,onClick:g||i?n:y,ref:r,target:l}))});var I8;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(I8||(I8={}));var R8;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(R8||(R8={}));function Xte(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=Bl(),u=lh(),d=NU(e,{relative:s});return L.useCallback(f=>{if(Wte(f,r)){f.preventDefault();let h=n!==void 0?n:nw(u)===nw(d);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[u,l,d,n,a,r,e,i,s,o])}function EU(e){let t=L.useRef(pj(e)),r=L.useRef(!1),n=lh(),a=L.useMemo(()=>zte(n.search,r.current?null:t.current),[n.search]),i=Bl(),s=L.useCallback((o,l)=>{const u=pj(typeof o=="function"?o(a):o);r.current=!0,i("?"+u,l)},[i,a]);return[a,s]}const Qte={},B8=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(m=>m(t,p))}},a=()=>t,l={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(Qte?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,l);return l},Jte=e=>e?B8(e):B8;var PU={exports:{}},OU={},$U={exports:{}},DU={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp=L;function Zte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ere=typeof Object.is=="function"?Object.is:Zte,tre=gp.useState,rre=gp.useEffect,nre=gp.useLayoutEffect,are=gp.useDebugValue;function ire(e,t){var r=t(),n=tre({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return nre(function(){a.value=r,a.getSnapshot=t,FS(a)&&i({inst:a})},[e,r,t]),rre(function(){return FS(a)&&i({inst:a}),e(function(){FS(a)&&i({inst:a})})},[e]),are(r),r}function FS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ere(e,r)}catch{return!0}}function sre(e,t){return t()}var ore=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sre:ire;DU.useSyncExternalStore=gp.useSyncExternalStore!==void 0?gp.useSyncExternalStore:ore;$U.exports=DU;var lre=$U.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c5=L,cre=lre;function ure(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dre=typeof Object.is=="function"?Object.is:ure,fre=cre.useSyncExternalStore,hre=c5.useRef,pre=c5.useEffect,mre=c5.useMemo,gre=c5.useDebugValue;OU.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=hre(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=mre(function(){function l(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&s.hasValue){var m=s.value;if(a(m,p))return f=m}return f=p}if(m=f,dre(d,p))return m;var g=n(p);return a!==void 0&&a(m,g)?(d=p,m):(d=p,f=g)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=fre(e,i[0],i[1]);return pre(function(){s.hasValue=!0,s.value=o},[o]),gre(o),o};PU.exports=OU;var xre=PU.exports;const vre=hr(xre),MU={},{useDebugValue:yre}=we,{useSyncExternalStoreWithSelector:bre}=vre;let U8=!1;const wre=e=>e;function _re(e,t=wre,r){(MU?"production":void 0)!=="production"&&r&&!U8&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),U8=!0);const n=bre(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return yre(n),n}const W8=e=>{(MU?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Jte(e):e,r=(n,a)=>_re(t,n,a);return Object.assign(r,t),r},kre=e=>e?W8(e):W8,Sre="modulepreload",Nre=function(e){return"/"+e},z8={},Mc=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=Nre(l),l in z8)return;z8[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Sre,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},jre=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mc(async()=>{const{default:n}=await Promise.resolve().then(()=>hm);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class rE extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Cre extends rE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Tre extends rE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Are extends rE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var mj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(mj||(mj={}));var Ere=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class Pre{constructor(t,{headers:r={},customFetch:n,region:a=mj.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=jre(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Ere(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let o={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let u;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(o["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(o["Content-Type"]="application/json",u=JSON.stringify(s)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:u}).catch(m=>{throw new Cre(m)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Tre(d);if(!d.ok)throw new Are(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var ls={},nE={},u5={},Py={},d5={},f5={},Ore=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xp=Ore();const $re=xp.fetch,FU=xp.fetch.bind(xp),LU=xp.Headers,Dre=xp.Request,Mre=xp.Response,hm=Object.freeze(Object.defineProperty({__proto__:null,Headers:LU,Request:Dre,Response:Mre,default:FU,fetch:$re},Symbol.toStringTag,{value:"Module"})),Fre=a9(hm);var h5={};Object.defineProperty(h5,"__esModule",{value:!0});let Lre=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};h5.default=Lre;var IU=ha&&ha.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(f5,"__esModule",{value:!0});const Ire=IU(Fre),Rre=IU(h5);let Bre=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Ire.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,o,l;let u=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await i.text();try{u=JSON.parse(g),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,p="OK")}catch{i.status===404&&g===""?(h=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new Rre.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var s,o,l;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};f5.default=Bre;var Ure=ha&&ha.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(d5,"__esModule",{value:!0});const Wre=Ure(f5);let zre=class extends Wre.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:s="text"}={}){var o;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};d5.default=zre;var Hre=ha&&ha.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Py,"__esModule",{value:!0});const qre=Hre(d5);let Yre=class extends qre.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Py.default=Yre;var Vre=ha&&ha.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(u5,"__esModule",{value:!0});const wg=Vre(Py);let Gre=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const s=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new wg.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const s=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new wg.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const s="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new wg.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new wg.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new wg.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};u5.default=Gre;var p5={},m5={};Object.defineProperty(m5,"__esModule",{value:!0});m5.version=void 0;m5.version="0.0.0-automated";Object.defineProperty(p5,"__esModule",{value:!0});p5.DEFAULT_HEADERS=void 0;const Kre=m5;p5.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Kre.version}`};var RU=ha&&ha.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nE,"__esModule",{value:!0});const Xre=RU(u5),Qre=RU(Py),Jre=p5;let Zre=class BU{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},Jre.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new Xre.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new BU(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${t}`);let l;n||a?(s=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(s="POST",l=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Qre.default({method:s,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};nE.default=Zre;var pm=ha&&ha.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ls,"__esModule",{value:!0});ls.PostgrestError=ls.PostgrestBuilder=ls.PostgrestTransformBuilder=ls.PostgrestFilterBuilder=ls.PostgrestQueryBuilder=ls.PostgrestClient=void 0;const UU=pm(nE);ls.PostgrestClient=UU.default;const WU=pm(u5);ls.PostgrestQueryBuilder=WU.default;const zU=pm(Py);ls.PostgrestFilterBuilder=zU.default;const HU=pm(d5);ls.PostgrestTransformBuilder=HU.default;const qU=pm(f5);ls.PostgrestBuilder=qU.default;const YU=pm(h5);ls.PostgrestError=YU.default;var ene=ls.default={PostgrestClient:UU.default,PostgrestQueryBuilder:WU.default,PostgrestFilterBuilder:zU.default,PostgrestTransformBuilder:HU.default,PostgrestBuilder:qU.default,PostgrestError:YU.default};const{PostgrestClient:tne,PostgrestQueryBuilder:yQe,PostgrestFilterBuilder:bQe,PostgrestTransformBuilder:wQe,PostgrestBuilder:_Qe,PostgrestError:kQe}=ene,rne="2.11.2",nne={"X-Client-Info":`realtime-js/${rne}`},ane="1.0.0",VU=1e4,ine=1e3;var G0;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(G0||(G0={}));var ws;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ws||(ws={}));var Mo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Mo||(Mo={}));var gj;(function(e){e.websocket="websocket"})(gj||(gj={}));var af;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(af||(af={}));class sne{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+a));s=s+a;const l=n.decode(t.slice(s,s+i));s=s+i;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class GU{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var un;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(un||(un={}));const H8=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,s)=>(i[s]=one(s,e,t,a),i),{})},one=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?KU(i,s):xj(s)},KU=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return dne(t,r)}switch(e){case un.bool:return lne(t);case un.float4:case un.float8:case un.int2:case un.int4:case un.int8:case un.numeric:case un.oid:return cne(t);case un.json:case un.jsonb:return une(t);case un.timestamp:return fne(t);case un.abstime:case un.date:case un.daterange:case un.int4range:case un.int8range:case un.money:case un.reltime:case un.text:case un.time:case un.timestamptz:case un.timetz:case un.tsrange:case un.tstzrange:return xj(t);default:return xj(t)}},xj=e=>e,lne=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},cne=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},une=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},dne=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>KU(t,o))}return e},fne=e=>typeof e=="string"?e.replace(" ","T"):e,XU=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class LS{constructor(t,r,n={},a=VU){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var q8;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(q8||(q8={}));class Ax{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ax.syncState(this.state,a,i,s),this.pendingDiffs.forEach(l=>{this.state=Ax.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ax.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(i,(u,d)=>{s[u]||(l[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),m=d.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(o[u]=m),g.length>0&&(l[u]=g)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,l)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,d,l)}),this.map(s,(o,l)=>{let u=t[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,a(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Y8;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Y8||(Y8={}));var V8;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(V8||(V8={}));var oc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(oc||(oc={}));class aE{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ws.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new LS(this,Mo.join,this.params,this.timeout),this.rejoinTimer=new GU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ws.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ws.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ws.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ws.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mo.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Ax(this),this.broadcastEndpointURL=XU(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:o}}=this.params;this._onError(d=>t==null?void 0:t(oc.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(oc.CLOSED));const l={},u={broadcast:i,presence:s,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(oc.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let g=0;g<p;g++){const v=h[g],{filter:{event:x,schema:y,table:b,filter:N}}=v,_=d&&d[g];if(_&&_.event===x&&_.schema===y&&_.table===b&&_.filter===N)m.push(Object.assign(Object.assign({},v),{id:_.id}));else{this.unsubscribe(),t==null||t(oc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(oc.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(oc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(oc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ws.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mo.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new LS(this,Mo.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new LS(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=Mo;if(n&&[o,l,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var m,g,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var m,g,v,x,y,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const N=p.id,_=(m=p.filter)===null||m===void 0?void 0:m.event;return N&&((g=r.ids)===null||g===void 0?void 0:g.includes(N))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const N=(y=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return N==="*"||N===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:v,commit_timestamp:x,type:y,errors:b}=m;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:x,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===ws.closed}_isJoined(){return this.state===ws.joined}_isJoining(){return this.state===ws.joining}_isLeaving(){return this.state===ws.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&aE.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mo.close,{},t)}_onError(t){this._on(Mo.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ws.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=H8(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=H8(t.columns,t.old_record)),r}}const hne=()=>{},pne=typeof WebSocket<"u",mne=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gne{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=nne,this.params={},this.timeout=VU,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=hne,this.conn=null,this.sendBuffer=[],this.serializer=new sne,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Mc(async()=>{const{default:l}=await Promise.resolve().then(()=>hm);return{default:l}},void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${t}/${gj.websocket}`,this.httpEndpoint=XU(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,s)=>s(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new GU(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(pne){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new xne(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Mc(async()=>{const{default:t}=await import("./browser-m2G9mPec.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ane}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case G0.connecting:return af.Connecting;case G0.open:return af.Open;case G0.closing:return af.Closing;default:return af.Closed}}isConnected(){return this.connectionState()===af.Open}channel(t,r={config:{}}){const n=new aE(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(Mo.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(ine,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:s}=r;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${s&&"("+s+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mo.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([mne],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class xne{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=G0.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class iE extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ea(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class vne extends iE{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class vj extends iE{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var yne=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const QU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mc(async()=>{const{default:n}=await Promise.resolve().then(()=>hm);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},bne=()=>yne(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mc(()=>Promise.resolve().then(()=>hm),void 0)).Response:Response}),yj=e=>{if(Array.isArray(e))return e.map(r=>yj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=yj(n)}),t};var ch=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const IS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wne=(e,t,r)=>ch(void 0,void 0,void 0,function*(){const n=yield bne();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new vne(IS(a),e.status||500))}).catch(a=>{t(new vj(IS(a),a))}):t(new vj(IS(e),e))}),_ne=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Oy(e,t,r,n,a,i){return ch(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,_ne(t,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>wne(l,o,n))})})}function aw(e,t,r,n){return ch(this,void 0,void 0,function*(){return Oy(e,"GET",t,r,n)})}function ku(e,t,r,n,a){return ch(this,void 0,void 0,function*(){return Oy(e,"POST",t,n,a,r)})}function kne(e,t,r,n,a){return ch(this,void 0,void 0,function*(){return Oy(e,"PUT",t,n,a,r)})}function Sne(e,t,r,n){return ch(this,void 0,void 0,function*(){return Oy(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function JU(e,t,r,n,a){return ch(this,void 0,void 0,function*(){return Oy(e,"DELETE",t,n,a,r)})}var rs=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const Nne={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},G8={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jne{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=QU(a)}uploadOrUpdate(t,r,n,a){return rs(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},G8),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Ea(i))return{data:null,error:i};throw i}})}upload(t,r,n){return rs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return rs(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:G8.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Ea(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return rs(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield ku(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new iE("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(Ea(n))return{data:null,error:n};throw n}})}update(t,r,n){return rs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return rs(this,void 0,void 0,function*(){try{return{data:yield ku(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Ea(a))return{data:null,error:a};throw a}})}copy(t,r,n){return rs(this,void 0,void 0,function*(){try{return{data:{path:(yield ku(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Ea(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return rs(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield ku(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(Ea(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return rs(this,void 0,void 0,function*(){try{const a=yield ku(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(Ea(a))return{data:null,error:a};throw a}})}download(t,r){return rs(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield aw(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Ea(o))return{data:null,error:o};throw o}})}info(t){return rs(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield aw(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:yj(n),error:null}}catch(n){if(Ea(n))return{data:null,error:n};throw n}})}exists(t){return rs(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Sne(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ea(n)&&n instanceof vj){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return rs(this,void 0,void 0,function*(){try{return{data:yield JU(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ea(r))return{data:null,error:r};throw r}})}list(t,r,n){return rs(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Nne),r),{prefix:t||""});return{data:yield ku(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Ea(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Cne="2.7.1",Tne={"X-Client-Info":`storage-js/${Cne}`};var e0=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class Ane{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Tne),r),this.fetch=QU(n)}listBuckets(){return e0(this,void 0,void 0,function*(){try{return{data:yield aw(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ea(t))return{data:null,error:t};throw t}})}getBucket(t){return e0(this,void 0,void 0,function*(){try{return{data:yield aw(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ea(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return e0(this,void 0,void 0,function*(){try{return{data:yield ku(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ea(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return e0(this,void 0,void 0,function*(){try{return{data:yield kne(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ea(n))return{data:null,error:n};throw n}})}emptyBucket(t){return e0(this,void 0,void 0,function*(){try{return{data:yield ku(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ea(r))return{data:null,error:r};throw r}})}deleteBucket(t){return e0(this,void 0,void 0,function*(){try{return{data:yield JU(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ea(r))return{data:null,error:r};throw r}})}}class Ene extends Ane{constructor(t,r={},n){super(t,r,n)}from(t){return new jne(this.url,this.headers,t,this.fetch)}}const Pne="2.49.2";let lx="";typeof Deno<"u"?lx="deno":typeof document<"u"?lx="web":typeof navigator<"u"&&navigator.product==="ReactNative"?lx="react-native":lx="node";const One={"X-Client-Info":`supabase-js-${lx}/${Pne}`},$ne={headers:One},Dne={schema:"public"},Mne={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fne={};var Lne=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const Ine=e=>{let t;return e?t=e:typeof fetch>"u"?t=FU:t=fetch,(...r)=>t(...r)},Rne=()=>typeof Headers>"u"?LU:Headers,Bne=(e,t,r)=>{const n=Ine(r),a=Rne();return(i,s)=>Lne(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},s),{headers:u}))})};var Une=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};function Wne(e){return e.replace(/\/$/,"")}function zne(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:s,auth:o,realtime:l,global:u}=t,d={db:Object.assign(Object.assign({},s),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),a),global:Object.assign(Object.assign({},u),i),accessToken:()=>Une(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const ZU="2.69.0",v0=30*1e3,bj=3,RS=bj*v0,Hne="http://localhost:9999",qne="supabase.auth.token",Yne={"X-Client-Info":`gotrue-js/${ZU}`},wj="X-Supabase-Api-Version",eW={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vne=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gne=6e5;class sE extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function or(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Kne extends sE{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Xne(e){return or(e)&&e.name==="AuthApiError"}class tW extends sE{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Cd extends sE{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class yu extends Cd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qne(e){return or(e)&&e.name==="AuthSessionMissingError"}class BS extends Cd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pb extends Cd{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class mb extends Cd{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Jne(e){return or(e)&&e.name==="AuthImplicitGrantRedirectError"}class K8 extends Cd{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _j extends Cd{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function US(e){return or(e)&&e.name==="AuthRetryableFetchError"}class X8 extends Cd{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ex extends Cd{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const iw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Q8=` 	
\r=`.split(""),Zne=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Q8.length;t+=1)e[Q8[t].charCodeAt(0)]=-2;for(let t=0;t<iw.length;t+=1)e[iw[t].charCodeAt(0)]=t;return e})();function J8(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(iw[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(iw[n]),t.queuedBits-=6}}function rW(e,t,r){const n=Zne[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function eae(e){const t=[],r=a=>{t.push(a)},n={queue:0,queuedBits:0};return nW(e,a=>{J8(a,n,r)}),J8(null,n,r),t.join("")}function Z8(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{rae(s,n,r)};for(let s=0;s<e.length;s+=1)rW(e.charCodeAt(s),a,i);return t.join("")}function tae(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function nW(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}tae(n,t)}}function rae(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function nae(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)rW(e.charCodeAt(a),r,n);return new Uint8Array(t)}function aae(e){const t=[];return nW(e,r=>t.push(r)),new Uint8Array(t)}function iae(e){return Math.round(Date.now()/1e3)+e}function sae(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const dl=()=>typeof window<"u"&&typeof document<"u",qd={tested:!1,writable:!1},Px=()=>{if(!dl())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qd.tested)return qd.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),qd.tested=!0,qd.writable=!0}catch{qd.tested=!0,qd.writable=!1}return qd.writable};function oae(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const aW=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mc(async()=>{const{default:n}=await Promise.resolve().then(()=>hm);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},lae=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",iW=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},gb=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xb=async(e,t)=>{await e.removeItem(t)};class g5{constructor(){this.promise=new g5.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}g5.promiseConstructor=Promise;function WS(e){const t=e.split(".");if(t.length!==3)throw new Ex("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Vne.test(t[n]))throw new Ex("JWT not in base64url format");return{header:JSON.parse(Z8(t[0])),payload:JSON.parse(Z8(t[1])),signature:nae(t[2]),raw:{header:t[0],payload:t[1]}}}async function cae(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uae(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function dae(e){return("0"+e.toString(16)).substr(-2)}function fae(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,dae).join("")}async function hae(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function pae(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await hae(e);return eae(r)}async function t0(e,t,r=!1){const n=fae();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await iW(e,`${t}-code-verifier`,a);const i=await pae(n);return[i,n===i?"plain":"s256"]}const mae=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gae(e){const t=e.headers.get(wj);if(!t||!t.match(mae))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function xae(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function vae(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var yae=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Qd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bae=[502,503,504];async function e$(e){var t;if(!lae(e))throw new _j(Qd(e),0);if(bae.includes(e.status))throw new _j(Qd(e),e.status);let r;try{r=await e.json()}catch(i){throw new tW(Qd(i),i)}let n;const a=gae(e);if(a&&a.getTime()>=eW["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new X8(Qd(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new yu}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new X8(Qd(r),e.status,r.weak_password.reasons);throw new Kne(Qd(r),e.status||500,n)}const wae=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function vr(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[wj]||(i[wj]=eW["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await _ae(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function _ae(e,t,r,n,a,i){const s=wae(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new _j(Qd(l),0)}if(o.ok||await e$(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await e$(l)}}function bu(e){var t;let r=null;jae(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=iae(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function t$(e){const t=bu(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Cu(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kae(e){return{data:e,error:null}}function Sae(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=yae(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function Nae(e){return e}function jae(e){return e.access_token&&e.refresh_token&&e.expires_in}var Cae=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class Tae{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=aW(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await vr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await vr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Cu})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Cae(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await vr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Sae,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(or(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await vr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Cu})}catch(r){if(or(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await vr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Nae});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(or(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await vr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Cu})}catch(r){if(or(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await vr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Cu})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await vr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Cu})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await vr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(or(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await vr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}}}const Aae={getItem:e=>Px()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Px()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Px()&&globalThis.localStorage.removeItem(e)}};function r$(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Eae(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const r0={debug:!!(globalThis&&Px()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sW extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Pae extends sW{}async function Oae(e,t,r){r0.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),r0.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){r0.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{r0.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw r0.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Pae(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(r0.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Eae();const $ae={url:Hne,storageKey:qne,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yne,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function n$(e,t,r){return await r()}class yv{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yv.nextInstanceID,yv.nextInstanceID+=1,this.instanceID>0&&dl()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},$ae),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Tae({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=aW(a.fetch),this.lock=a.lock||n$,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:dl()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Oae:this.lock=n$,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Px()?this.storage=Aae:(this.memoryStorage={},this.storage=r$(this.memoryStorage)):(this.memoryStorage={},this.storage=r$(this.memoryStorage)),dl()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ZU}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=oae(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),dl()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Jne(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return or(r)?{error:r}:{error:new tW("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await vr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:bu}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(or(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await t0(this.storage,this.storageKey)),i=await vr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:bu})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await vr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:bu})}else throw new pb("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(or(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await vr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:t$})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await vr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:t$})}else throw new pb("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new BS}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await gb(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await vr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:bu});if(await xb(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new BS}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(or(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,o=await vr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:bu}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new BS}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:o,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await t0(this.storage,this.storageKey));const{error:f}=await vr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:d}=await vr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new pb("You must provide either an email or phone number.")}catch(o){if(or(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await vr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:bu});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(or(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await t0(this.storage,this.storageKey)),await vr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:kae})}catch(i){if(or(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new yu;const{error:a}=await vr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(or(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await vr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:o}=await vr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new pb("You must provide either an email or phone number and a type")}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await gb(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<RS:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await vr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Cu}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yu}:await vr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Cu})})}catch(r){if(or(r))return Qne(r)&&(await this._removeSession(),await xb(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new yu;const s=a.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await t0(this.storage,this.storageKey));const{data:u,error:d}=await vr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Cu});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new yu;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=WS(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(or(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new yu;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!dl())throw new mb("No browser detected.");if(t.error||t.error_description||t.error_code)throw new mb(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new K8("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mb("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new K8("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=t;if(!i||!o||!s||!u)throw new mb("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=v0&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(or(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await gb(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(Xne(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await xb(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=sae(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await t0(this.storage,this.storageKey,!0));try{return await vr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(or(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,l,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await vr(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return dl()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(or(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await vr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(or(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await uae(async a=>(a>0&&await cae(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await vr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:bu})),(a,i)=>{const s=200*Math.pow(2,a);return i&&US(i)&&Date.now()+s-n<v0})}catch(n){if(this._debug(r,"error",n),or(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),dl()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await gb(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<RS;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${RS}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),US(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new yu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new g5;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new yu;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),or(i)){const s={session:null,error:i};return US(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await iW(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await xb(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dl()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),v0);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/v0);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${v0}ms, refresh threshold is ${bj} ticks`),a<=bj&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof sW)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dl()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await t0(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await vr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(or(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await vr(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(or(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:o}=await vr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(or(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await vr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(or(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=WS(a.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n||(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+Gne>Date.now()))return n;const{data:a,error:i}=await vr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new Ex("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(s=>s.kid===t),!n)throw new Ex("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};n=p.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:l}}=WS(n);if(xae(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:s},error:null}}const u=vae(a.alg),d=await this.fetchJwk(a.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,aae(`${o}.${l}`)))throw new Ex("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}}}yv.nextInstanceID=0;const Dae=yv;class Mae extends Dae{constructor(t){super(t)}}var Fae=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class Lae{constructor(t,r,n){var a,i,s;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=Wne(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Dne,realtime:Fne,auth:Object.assign(Object.assign({},Mne),{storageKey:l}),global:$ne},d=zne(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=Bne(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new tne(`${o}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Pre(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ene(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Fae(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:s,lock:o,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mae({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:s,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new gne(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Iae=(e,t,r)=>new Lae(e,t,r),Rae="https://egtgfkxlkdgjtnicyfxr.supabase.co",Bae="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVndGdma3hsa2RnanRuaWN5ZnhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI1OTA0MzMsImV4cCI6MjA1ODE2NjQzM30.JTai6zEgGVb99zNGAoeK8wvdg3waV0hnrSCCZtyPlR0",We=Iae(Rae,Bae,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1}}),n0=async()=>{try{await We.auth.signOut({scope:"global"}),localStorage.clear(),sessionStorage.clear(),await new Promise(e=>setTimeout(e,100))}catch(e){throw console.error("Error killing sessions:",e),e}},ir=kre(e=>({user:null,organization:null,error:null,initialized:!1,refreshSession:async()=>{try{const{data:t,error:r}=await We.auth.getSession(),n=t.session;if(r)throw r;if(n!=null&&n.user){const{data:a,error:i}=await We.from("users_organizations").select("organizations:organization_id(*)").eq("user_id",n.user.id).maybeSingle();if(i)throw i;if(a!=null&&a.organizations){const l=a.organizations;e({user:n.user,organization:l,error:null,initialized:!0});return}const{data:s,error:o}=await We.from("organizations").select().eq("owner_id",n.user.id).maybeSingle();if(o)throw o;e({user:n.user,organization:s,error:null,initialized:!0})}else e({user:null,organization:null,error:null,initialized:!0})}catch(t){console.error("Error refreshing session:",t),await n0(),e({user:null,organization:null,error:t instanceof Error?t.message:"Session expired. Please sign in again.",initialized:!0})}},signIn:async(t,r)=>{e({error:null});try{await n0();const{data:n,error:a}=await We.auth.signInWithPassword({email:t.trim().toLowerCase(),password:r});if(a)throw a.message==="Invalid login credentials"?new Error("Invalid email or password"):a;if(!n.user)throw new Error("No user returned from sign in");const{data:i,error:s}=await We.from("users_organizations").select("organizations:organization_id(*)").eq("user_id",n.user.id).maybeSingle();if(s)throw s;if(i!=null&&i.organizations){const u=i.organizations;e({user:n.user,organization:u,error:null,initialized:!0});return}const{data:o,error:l}=await We.from("organizations").select().eq("owner_id",n.user.id).maybeSingle();if(l)throw l;e({user:n.user,organization:o,error:null,initialized:!0})}catch(n){throw console.error("Sign in error:",n),e({user:null,organization:null,error:n instanceof Error?n.message:"Failed to sign in",initialized:!0}),n}},signUp:async(t,r,n)=>{e({error:null});try{await n0();const{data:a,error:i}=await We.auth.signUp({email:t.trim().toLowerCase(),password:r});if(i)throw i;if(!a.user)throw new Error("No user returned from sign up");const{data:s,error:o}=await We.from("organizations").insert([{name:n.trim(),owner_id:a.user.id}]).select().single();if(o)throw o;const{error:l}=await We.from("users_organizations").insert([{user_id:a.user.id,organization_id:s.id,role:"owner"}]);if(l)throw l;e({user:a.user,organization:s,error:null,initialized:!0})}catch(a){throw console.error("Sign up error:",a),e({user:null,organization:null,error:a instanceof Error?a.message:"Failed to sign up",initialized:!0}),a}},deleteAccount:async()=>{try{const{error:t}=await We.rpc("delete_user_account");if(t)throw t;await n0(),e({user:null,organization:null,error:null,initialized:!0})}catch(t){throw console.error("Delete account error:",t),e({error:t instanceof Error?t.message:"Failed to delete account",initialized:!0}),t}},signOut:async()=>{try{const{error:t}=await We.auth.signOut();e({user:null,organization:null,error:null,initialized:!0}),t&&await n0()}catch(t){throw console.error("Sign out error:",t),e({error:t instanceof Error?t.message:"Failed to sign out",initialized:!0}),t}},killAllSessions:n0})),Uae=async()=>{try{await ir.getState().refreshSession()}catch(e){console.error("Auth initialization error:",e)}};Uae();We.auth.onAuthStateChange(async(e,t)=>{if(e==="SIGNED_OUT"){ir.setState({user:null,organization:null,error:null,initialized:!0});return}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Et=(e,t)=>{const r=L.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,...u},d)=>L.createElement("svg",{ref:d,...Wae,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${zae(e)}`,o].join(" "),...u},[...t.map(([f,h])=>L.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=Et("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Et("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hae=Et("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Et("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=Et("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=Et("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=Et("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=Et("BarChart4",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=Et("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=Et("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Et("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=Et("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=Et("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Et("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=Et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=Et("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=Et("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=Et("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=Et("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=Et("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=Et("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=Et("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=Et("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=Et("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=Et("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=Et("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=Et("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Et("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zae=Et("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=Et("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=Et("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=Et("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=Et("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=Et("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=Et("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=Et("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=Et("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=Et("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=Et("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=Et("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=Et("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=Et("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=Et("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=Et("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=Et("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=Et("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=Et("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=Et("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sie=Et("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=Et("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=Et("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=Et("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=Et("SquareUserRound",[["path",{d:"M18 21a6 6 0 0 0-12 0",key:"kaz2du"}],["circle",{cx:"12",cy:"11",r:"4",key:"1gt34v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=Et("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=Et("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=Et("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=Et("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=Et("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=Et("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=Et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Et("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function die(){const{user:e}=ir();return e?c.jsx(mp,{to:"/dashboard",replace:!0}):c.jsxs("div",{className:"flex min-h-screen",children:[c.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-b from-gray-900 to-gray-800 text-white p-16 flex-col justify-between relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 opacity-5",children:c.jsx("div",{className:"absolute inset-y-0 -left-1/2 w-[200%] bg-gradient-to-r from-blue-500 to-purple-500 transform rotate-12"})}),c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-16",children:[c.jsx("div",{className:"h-12 w-12 bg-gradient-to-tr from-blue-500 to-blue-400 rounded-xl flex items-center justify-center shadow-lg",children:c.jsx(vc,{className:"h-7 w-7 text-white"})}),c.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"Sten360"})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-5xl font-bold leading-tight mb-4",children:["Welcome to",c.jsx("br",{}),"Sten360"]}),c.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"Your complete business management solution"})]}),c.jsx("div",{className:"max-w-md",children:c.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"Streamline your operations, boost productivity, and make data-driven decisions with our comprehensive suite of business tools."})})]})]}),c.jsxs("div",{className:"relative space-y-8",children:[c.jsx("div",{className:"p-6 bg-gray-800 rounded-2xl backdrop-blur-xl bg-opacity-50",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-tr from-blue-500 to-blue-400 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-lg font-semibold",children:"SJ"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Sarah Johnson"}),c.jsx("p",{className:"text-sm text-gray-400 mt-0.5 leading-relaxed",children:'"Sten360 has revolutionized how we manage our business operations. The platform is intuitive and powerful."'})]})]})}),c.jsxs("div",{className:"text-sm text-gray-400",children:["© ",new Date().getFullYear()," Sten Business Solutions. All rights reserved."]})]})]}),c.jsx("div",{className:"w-full lg:w-1/2 flex flex-col bg-gray-50",children:c.jsx("div",{className:"flex-grow flex flex-col items-center justify-center p-8 sm:p-12",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:c.jsx(Ite,{})})})})})]})}const fie={light:{background:{primary:"bg-gray-50",secondary:"bg-gray-100",accent:"bg-gray-200",hover:"hover:bg-gray-100",hoverDarker:"hover:bg-gray-200"},text:{primary:"text-gray-900",secondary:"text-gray-700",tertiary:"text-gray-600",muted:"text-gray-500",accent:"text-gray-400",inverse:"text-white"},border:{primary:"border-gray-200",secondary:"border-gray-300"},interactive:{hover:{text:"hover:text-gray-900",background:"hover:bg-gray-50"}},sidebar:{background:"bg-gray-50",itemHover:"hover:bg-gray-300",itemActive:"bg-black",itemActiveText:"text-white",shadow:"shadow-gray-200"},header:{background:"bg-gray-50",buttonHover:"hover:bg-gray-100"},avatar:{background:"bg-gray-200",text:"text-gray-600"},modal:{background:"bg-white",overlay:"bg-black bg-opacity-50"}},dark:{background:{primary:"bg-gray-800",secondary:"bg-gray-900",accent:"bg-gray-800",hover:"hover:bg-gray-700",hoverDarker:"hover:bg-gray-600"},text:{primary:"text-white",secondary:"text-gray-300",tertiary:"text-gray-400",muted:"text-gray-500",accent:"text-gray-400",inverse:"text-gray-900"},border:{primary:"border-gray-600",secondary:"border-gray-500"},interactive:{hover:{text:"hover:text-white",background:"hover:bg-gray-700"}},sidebar:{background:"bg-gray-800",itemHover:"hover:bg-gray-700",itemActive:"bg-white",itemActiveText:"text-black",shadow:"shadow-gray-900"},header:{background:"bg-gray-800",buttonHover:"hover:bg-gray-700"},avatar:{background:"bg-gray-700",text:"text-gray-300"},modal:{background:"bg-gray-800",overlay:"bg-black bg-opacity-50"}}};function nt(e,...t){return t.reduce((r,n)=>r[n],fie[e])}const mW=L.createContext(void 0);function hie({children:e}){const[t,r]=L.useState(()=>{const a=localStorage.getItem("theme");return a==="dark"||a==="light"?a:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});L.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(t),localStorage.setItem("theme",t)},[t]);const n=()=>{r(a=>a==="light"?"dark":"light")};return c.jsx(mW.Provider,{value:{theme:t,toggleTheme:n,getThemeStyle:nt},children:e})}function Yt(){const e=L.useContext(mW);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function pie(e){return!!(e!=null&&e.country&&(e!=null&&e.city)&&(e!=null&&e.address)&&(e!=null&&e.employee_count)&&(e!=null&&e.currency))}function mie(){const[e,t]=L.useState(""),[r,n]=L.useState(""),[a,i]=L.useState(!1),[s,o]=L.useState(null),[l,u]=L.useState(!1),{signIn:d,user:f,organization:h}=ir(),{theme:p,getThemeStyle:m}=Yt();if(f)return pie(h)?c.jsx(mp,{to:"/dashboard",replace:!0}):c.jsx(mp,{to:"/organization-setup",replace:!0});const g=async v=>{if(v.preventDefault(),!a){o(null),i(!0);try{await d(e,r)}catch(x){console.error("Sign in error:",x),o(x instanceof Error?x.message:"An error occurred during sign in"),i(!1)}}};return c.jsxs("div",{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome back"}),c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Please sign in to your account to continue"})]}),s&&c.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-400 p-4 rounded",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm text-red-700",children:s})})]})}),c.jsxs("form",{onSubmit:g,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(dW,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:v=>t(v.target.value),disabled:a,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm disabled:bg-gray-50 disabled:text-black text-black",placeholder:"Enter your email"})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-black",children:"Password"})}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Nj,{className:"h-5 w-5 text-black"})}),c.jsx("input",{id:"password",type:l?"text":"password",required:!0,value:r,onChange:v=>n(v.target.value),disabled:a,className:`block w-full pl-10 pr-10 py-2 border ${m(p,"border","secondary")} text-black rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm disabled:bg-gray-50 disabled:text-gray-500`,placeholder:"Enter your password"}),c.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?c.jsx(kj,{className:"h-5 w-5 text-black hover:text-black cursor-pointer"}):c.jsx(Sj,{className:"h-5 w-5 text-black hover:text-black cursor-pointer"})})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 disabled:cursor-not-allowed transition-colors duration-200",children:a?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),c.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Don't have an account?"," ",c.jsx(Wr,{to:"/auth/signup",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200",children:"Sign up for free"})]})]})}function k2(e){return{hasMinLength:e.length>=8,hasUpperCase:/[A-Z]/.test(e),hasLowerCase:/[a-z]/.test(e),hasSpecialChar:/[!@#$%^&*(),.?":{}|<>]/.test(e)}}function gie(e){if(!e)return"weak";const t=k2(e),r=Object.values(t).filter(Boolean).length;return r<=2?"weak":r===3?"medium":"strong"}function xie(e){switch(e){case"weak":return"bg-red-500";case"medium":return"bg-yellow-500";case"strong":return"bg-green-500"}}function vie(e){switch(e){case"weak":return"Weak password";case"medium":return"Medium strength";case"strong":return"Strong password"}}function yie(){const[e,t]=L.useState(""),[r,n]=L.useState(""),[a,i]=L.useState(""),[s,o]=L.useState(""),[l,u]=L.useState(null),[d,f]=L.useState(!1),[h,p]=L.useState(!1),[m,g]=L.useState(k2("")),v=ir(k=>k.signUp),{theme:x,getThemeStyle:y}=Yt();L.useEffect(()=>{g(k2(r))},[r]);const b=async k=>{k.preventDefault(),u(null);const w=k2(r);if(!Object.values(w).every(Boolean)){u("Password must meet all requirements");return}if(r!==a){u("Passwords do not match");return}try{await v(e,r,s)}catch(P){u(P instanceof Error?P.message:"An error occurred")}},N=gie(r),_=xie(N),C=vie(N);return c.jsxs("div",{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create your account"}),c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Get started with your free business account"})]}),l&&c.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border-l-4 border-red-400 p-4 rounded",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:l})})]})}),c.jsxs("form",{onSubmit:b,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"organization",className:"block text-sm font-medium text-gray-700",children:"Organization name"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(vc,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"organization",type:"text",required:!0,value:s,onChange:k=>o(k.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none text-black focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your organization name"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(dW,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:k=>t(k.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none text-black focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your email"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Nj,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"password",type:d?"text":"password",required:!0,value:r,onChange:k=>n(k.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none text-black focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Create a password"}),c.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d?c.jsx(kj,{className:`h-5 w-5 ${y(x,"text","muted")} hover:${y(x,"text","secondary")} cursor-pointer`}):c.jsx(Sj,{className:`h-5 w-5 ${y(x,"text","muted")} hover:${y(x,"text","secondary")} cursor-pointer`})})]}),r&&c.jsxs("div",{className:"mt-2",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full ${_} transition-all duration-300`,style:{width:N==="weak"?"33%":N==="medium"?"66%":"100%"}})}),c.jsx("span",{className:`text-xs ${y(x,"text","muted")}`,children:C})]}),c.jsxs("ul",{className:"mt-2 text-xs space-y-1",children:[c.jsx("li",{className:`${m.hasMinLength?"text-green-500":y(x,"text","muted")}`,children:"• At least 8 characters"}),c.jsx("li",{className:`${m.hasUpperCase?"text-green-500":y(x,"text","muted")}`,children:"• One uppercase letter"}),c.jsx("li",{className:`${m.hasLowerCase?"text-green-500":y(x,"text","muted")}`,children:"• One lowercase letter"}),c.jsx("li",{className:`${m.hasSpecialChar?"text-green-500":y(x,"text","muted")}`,children:"• One special character"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-black",children:"Confirm Password"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Nj,{className:"h-5 w-5 text-black"})}),c.jsx("input",{id:"confirmPassword",type:h?"text":"password",required:!0,value:a,onChange:k=>i(k.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none text-black focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Confirm your password"}),c.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:h?c.jsx(kj,{className:"h-5 w-5 text-black hover:text-black cursor-pointer"}):c.jsx(Sj,{className:"h-5 w-5 text-black hover:text-black cursor-pointer"})})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Create account"})})]}),c.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Already have an account?"," ",c.jsx(Wr,{to:"/auth/signin",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200",children:"Sign in instead"})]})]})}function bie(){const[e,t]=L.useState({isOpen:!1,title:"",message:"",type:"info",confirmText:"Confirm",cancelText:"Cancel",resolve:null});return{confirm:i=>new Promise(s=>{t({...i,isOpen:!0,resolve:s})}),dialog:e,handleConfirm:()=>{e.resolve&&e.resolve(!0),t(i=>({...i,isOpen:!1}))},handleCancel:()=>{e.resolve&&e.resolve(!1),t(i=>({...i,isOpen:!1}))}}}function wie(){const[e,t]=L.useState([]),r=L.useCallback(a=>{const i=Math.random().toString(36).substr(2,9);t(s=>[...s,{...a,id:i}])},[]),n=L.useCallback(a=>{t(i=>i.filter(s=>s.id!==a))},[]);return{toasts:e,addToast:r,removeToast:n}}function _ie({isOpen:e,title:t,message:r,type:n="info",confirmText:a="Confirm",cancelText:i="Cancel",onConfirm:s,onCancel:o}){if(!e)return null;const l={danger:c.jsx(ps,{className:"h-6 w-6 text-red-600"}),warning:c.jsx(ad,{className:"h-6 w-6 text-yellow-600"}),info:c.jsx(tie,{className:"h-6 w-6 text-blue-600"})},u={danger:{button:"bg-red-600 hover:bg-red-700 focus:ring-red-500",icon:"bg-red-100"},warning:{button:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",icon:"bg-yellow-100"},info:{button:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",icon:"bg-blue-100"}};return c.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 transition-opacity"}),c.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:c.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[c.jsxs("div",{className:"sm:flex sm:items-start",children:[c.jsx("div",{className:`mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full ${u[n].icon} sm:mx-0 sm:h-10 sm:w-10`,children:l[n]}),c.jsxs("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[c.jsx("h3",{className:"text-lg font-semibold leading-6 text-gray-900",children:t}),c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-sm text-gray-500",children:r})})]})]}),c.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse gap-3",children:[c.jsx("button",{type:"button",className:`inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm sm:w-auto ${u[n].button} focus:outline-none focus:ring-2 focus:ring-offset-2`,onClick:s,children:a}),c.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:o,children:i})]})]})})]})}function kie({id:e,type:t,title:r,message:n,duration:a=5e3,onClose:i}){L.useEffect(()=>{if(a>0){const l=setTimeout(()=>{i(e)},a);return()=>clearTimeout(l)}},[a,e,i]);const s={success:c.jsx(Da,{className:"h-6 w-6 text-green-400"}),error:c.jsx(ps,{className:"h-6 w-6 text-red-400"}),warning:c.jsx(ad,{className:"h-6 w-6 text-yellow-400"}),info:c.jsx(rie,{className:"h-6 w-6 text-blue-400"})},o={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"};return c.jsx("div",{className:`pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg border shadow-lg ${o[t]}`,children:c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0",children:s[t]}),c.jsxs("div",{className:"ml-3 w-0 flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:r}),n&&c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]}),c.jsx("div",{className:"ml-4 flex flex-shrink-0",children:c.jsxs("button",{type:"button",className:"inline-flex rounded-md text-gray-400 hover:text-gray-500 focus:outline-none",onClick:()=>i(e),children:[c.jsx("span",{className:"sr-only",children:"Close"}),c.jsx(dr,{className:"h-5 w-5"})]})})]})})})}function Sie({toasts:e,onClose:t}){return c.jsx("div",{"aria-live":"assertive",className:"pointer-events-none fixed inset-0 z-50 flex flex-col items-end gap-2 px-4 py-6 sm:p-6",children:c.jsx("div",{className:"flex w-full flex-col items-end space-y-4",children:e.map(r=>c.jsx(kie,{...r,onClose:t},r.id))})})}const gW=L.createContext(null);function Nie({children:e}){const{confirm:t,dialog:r,handleConfirm:n,handleCancel:a}=bie(),{toasts:i,addToast:s,removeToast:o}=wie();return c.jsxs(gW.Provider,{value:{confirm:t,addToast:s},children:[e,c.jsx(_ie,{isOpen:r.isOpen,title:r.title,message:r.message,type:r.type,confirmText:r.confirmText,cancelText:r.cancelText,onConfirm:n,onCancel:a}),c.jsx(Sie,{toasts:i,onClose:o})]})}function Or(){const e=L.useContext(gW);if(!e)throw new Error("useUI must be used within a UIProvider");return e}const sn={GHS:{name:"Ghanaian Cedi",symbol:"₵"},USD:{name:"US Dollar",symbol:"$"},EUR:{name:"Euro",symbol:"€"},GBP:{name:"British Pound",symbol:"£"},NGN:{name:"Nigerian Naira",symbol:"₦"}},s$={pending:{bg:"bg-yellow-100",text:"text-yellow-800",hover:"hover:bg-yellow-200"},in_progress:{bg:"bg-blue-100",text:"text-blue-800",hover:"hover:bg-blue-200"},delayed:{bg:"bg-orange-100",text:"text-orange-800",hover:"hover:bg-orange-200"},completed:{bg:"bg-green-100",text:"text-green-800",hover:"hover:bg-green-200"},cancelled:{bg:"bg-red-100",text:"text-red-800",hover:"hover:bg-red-200"}},wl={pending:"Pending",in_progress:"In Progress",delayed:"Delayed",completed:"Completed",cancelled:"Cancelled"};function Cn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function $l(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Lc(e,t){const r=Cn(e);return isNaN(t)?$l(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Ic(e,t){const r=Cn(e);if(isNaN(t))return $l(e,NaN);if(!t)return r;const n=r.getDate(),a=$l(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const xW=6048e5,jie=864e5;let Cie={};function Dy(){return Cie}function Qo(e,t){var o,l,u,d;const r=Dy(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Cn(e),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function sw(e){return Qo(e,{weekStartsOn:1})}function vW(e){const t=Cn(e),r=t.getFullYear(),n=$l(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=sw(n),i=$l(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=sw(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function od(e){const t=Cn(e);return t.setHours(0,0,0,0),t}function o$(e){const t=Cn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Tie(e,t){const r=od(e),n=od(t),a=+r-o$(r),i=+n-o$(n);return Math.round((a-i)/jie)}function Aie(e){const t=vW(e),r=$l(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),sw(r)}function ld(e,t){const r=t*7;return Lc(e,r)}function cd(e,t){return Ic(e,t*12)}function Eie(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Pie(e){if(!Eie(e)&&typeof e!="number")return!1;const t=Cn(e);return!isNaN(Number(t))}function ow(e){const t=Cn(e);return t.setHours(23,59,59,999),t}function My(e){const t=Cn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Fy(e){const t=Cn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Ly(e){const t=Cn(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function mm(e){const t=Cn(e),r=$l(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function gm(e,t){var o,l,u,d;const r=Dy(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Cn(e),i=a.getDay(),s=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}const Oie={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$ie=(e,t,r)=>{let n;const a=Oie[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function zS(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Die={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Mie={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Fie={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Lie={date:zS({formats:Die,defaultWidth:"full"}),time:zS({formats:Mie,defaultWidth:"full"}),dateTime:zS({formats:Fie,defaultWidth:"full"})},Iie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Rie=(e,t,r,n)=>Iie[e];function _g(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=e.formattingValues[o]||e.formattingValues[s]}else{const s=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[o]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Bie={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Uie={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wie={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zie={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Hie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yie=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Vie={ordinalNumber:Yie,era:_g({values:Bie,defaultWidth:"wide"}),quarter:_g({values:Uie,defaultWidth:"wide",argumentCallback:e=>e-1}),month:_g({values:Wie,defaultWidth:"wide"}),day:_g({values:zie,defaultWidth:"wide"}),dayPeriod:_g({values:Hie,defaultWidth:"wide",formattingValues:qie,defaultFormattingWidth:"wide"})};function kg(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Kie(o,f=>f.test(s)):Gie(o,f=>f.test(s));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(s.length);return{value:u,rest:d}}}function Gie(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Kie(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Xie(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const o=t.slice(a.length);return{value:s,rest:o}}}const Qie=/^(\d+)(th|st|nd|rd)?/i,Jie=/\d+/i,Zie={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ese={any:[/^b/i,/^(a|c)/i]},tse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rse={any:[/1/i,/2/i,/3/i,/4/i]},nse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ase={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ise={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ose={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lse={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cse={ordinalNumber:Xie({matchPattern:Qie,parsePattern:Jie,valueCallback:e=>parseInt(e,10)}),era:kg({matchPatterns:Zie,defaultMatchWidth:"wide",parsePatterns:ese,defaultParseWidth:"any"}),quarter:kg({matchPatterns:tse,defaultMatchWidth:"wide",parsePatterns:rse,defaultParseWidth:"any",valueCallback:e=>e+1}),month:kg({matchPatterns:nse,defaultMatchWidth:"wide",parsePatterns:ase,defaultParseWidth:"any"}),day:kg({matchPatterns:ise,defaultMatchWidth:"wide",parsePatterns:sse,defaultParseWidth:"any"}),dayPeriod:kg({matchPatterns:ose,defaultMatchWidth:"any",parsePatterns:lse,defaultParseWidth:"any"})},use={code:"en-US",formatDistance:$ie,formatLong:Lie,formatRelative:Rie,localize:Vie,match:cse,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dse(e){const t=Cn(e);return Tie(t,mm(t))+1}function fse(e){const t=Cn(e),r=+sw(t)-+Aie(t);return Math.round(r/xW)+1}function yW(e,t){var d,f,h,p;const r=Cn(e),n=r.getFullYear(),a=Dy(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=$l(e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const o=Qo(s,t),l=$l(e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const u=Qo(l,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function hse(e,t){var o,l,u,d;const r=Dy(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=yW(e,t),i=$l(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Qo(i,t)}function bW(e,t){const r=Cn(e),n=+Qo(r,t)-+hse(r,t);return Math.round(n/xW)+1}function Vr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const hu={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Vr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Vr(r+1,2)},d(e,t){return Vr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Vr(e.getHours()%12||12,t.length)},H(e,t){return Vr(e.getHours(),t.length)},m(e,t){return Vr(e.getMinutes(),t.length)},s(e,t){return Vr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Vr(a,t.length)}},a0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},l$={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return hu.y(e,t)},Y:function(e,t,r,n){const a=yW(e,n),i=a>0?a:1-a;if(t==="YY"){const s=i%100;return Vr(s,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Vr(i,t.length)},R:function(e,t){const r=vW(e);return Vr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Vr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Vr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Vr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return hu.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Vr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=bW(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Vr(a,t.length)},I:function(e,t,r){const n=fse(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Vr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):hu.d(e,t)},D:function(e,t,r){const n=dse(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Vr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Vr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Vr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Vr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=a0.noon:n===0?a=a0.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=a0.evening:n>=12?a=a0.afternoon:n>=4?a=a0.morning:a=a0.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return hu.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):hu.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Vr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Vr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):hu.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):hu.s(e,t)},S:function(e,t){return hu.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return u$(n);case"XXXX":case"XX":return Jd(n);case"XXXXX":case"XXX":default:return Jd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return u$(n);case"xxxx":case"xx":return Jd(n);case"xxxxx":case"xxx":default:return Jd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+c$(n,":");case"OOOO":default:return"GMT"+Jd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+c$(n,":");case"zzzz":default:return"GMT"+Jd(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Vr(n,t.length)},T:function(e,t,r){const n=e.getTime();return Vr(n,t.length)}};function c$(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Vr(i,2)}function u$(e,t){return e%60===0?(e>0?"-":"+")+Vr(Math.abs(e)/60,2):Jd(e,t)}function Jd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Vr(Math.trunc(n/60),2),i=Vr(n%60,2);return r+a+t+i}const d$=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},wW=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},pse=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return d$(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",d$(n,t)).replace("{{time}}",wW(a,t))},mse={p:wW,P:pse},gse=/^D+$/,xse=/^Y+$/,vse=["D","DD","YY","YYYY"];function yse(e){return gse.test(e)}function bse(e){return xse.test(e)}function wse(e,t,r){const n=_se(e,t,r);if(console.warn(n),vse.includes(e))throw new RangeError(n)}function _se(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nse=/^'([^]*?)'?$/,jse=/''/g,Cse=/[a-zA-Z]/;function jt(e,t,r){var d,f,h,p;const n=Dy(),a=n.locale??use,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=Cn(e);if(!Pie(o))throw new RangeError("Invalid time value");let l=t.match(Sse).map(m=>{const g=m[0];if(g==="p"||g==="P"){const v=mse[g];return v(m,a.formatLong)}return m}).join("").match(kse).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:Tse(m)};if(l$[g])return{isToken:!0,value:m};if(g.match(Cse))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return l.map(m=>{if(!m.isToken)return m.value;const g=m.value;(bse(g)||yse(g))&&wse(g,t,String(e));const v=l$[g[0]];return v(o,g,a.localize,u)}).join("")}function Tse(e){const t=e.match(Nse);return t?t[1].replace(jse,"'"):e}function Ase(e){return Cn(e).getFullYear()}function Aj(e,t){const r=Cn(e),n=Cn(t);return r.getTime()>n.getTime()}function f$(e,t){const r=+Cn(e),[n,a]=[+Cn(t.start),+Cn(t.end)].sort((i,s)=>i-s);return r>=n&&r<=a}const lE={cash:"Cash",mobile_money:"Mobile Money",bank_transfer:"Bank Transfer",check:"Check",card_payment:"Card Payment"},vb={unpaid:"Unpaid",partially_paid:"Partially Paid",paid:"Paid",cancelled:"Cancelled"},h$={unpaid:{bg:"bg-red-100",text:"text-red-800",hover:"hover:bg-red-200"},partially_paid:{bg:"bg-yellow-100",text:"text-yellow-800",hover:"hover:bg-yellow-200"},paid:{bg:"bg-green-100",text:"text-green-800",hover:"hover:bg-green-200"},cancelled:{bg:"bg-gray-100",text:"text-gray-800",hover:"hover:bg-gray-200"}},bp=({orderId:e,orderNumber:t,clientName:r,outstandingBalance:n,onPaymentRecorded:a,isOpen:i,onClose:s,currencySymbol:o="₵",orderType:l="service_order"})=>{const{addToast:u}=Or(),{organization:d}=ir(),{theme:f,getThemeStyle:h}=Yt(),[p,m]=L.useState({orderNumber:t||"",clientName:r||"",outstandingBalance:n||0}),[g,v]=L.useState(""),[x,y]=L.useState(""),[b,N]=L.useState(""),[_,C]=L.useState(!1),[k,w]=L.useState(!t||!r||!n),[S,P]=L.useState("");L.useEffect(()=>{k&&(async()=>{if(!(t&&r&&n!==void 0)){console.log(t,r,n);try{const H=l==="service_order"?"orders":"sales_orders",{data:z,error:Y}=await We.from(H).select(`
                        order_number,
                        outstanding_balance,
                        client:clients!inner(
                            name
                        )
                    `).eq("id",e).single();if(Y)throw Y;m({orderNumber:z.order_number,clientName:z.client.name,outstandingBalance:z.outstanding_balance})}catch(H){console.error("Error fetching order details:",H),u({type:"error",title:"Error",message:"Failed to load order details"})}finally{w(!1)}}})()},[e,t,r,n,l,u,k]);const A=M=>{const H=parseFloat(M);return isNaN(H)||H<=0?(P("Please enter a valid payment amount"),!1):H>p.outstandingBalance?(P(`Amount cannot exceed outstanding balance of ${o}${p.outstandingBalance.toFixed(2)}`),!1):(P(""),!0)},T=M=>{const H=M.target.value;v(H),A(H)},F=async M=>{if(M.preventDefault(),!g||!x){u({type:"error",title:"Error",message:"Please fill in all required fields"});return}C(!0);try{const{data:{user:H},error:z}=await We.auth.getUser();if(z)throw z;if(!H)throw new Error("User not authenticated");const{error:Y}=await We.rpc("record_payment",{p_organization_id:d==null?void 0:d.id,p_order_id:e,p_amount:parseFloat(g),p_payment_method:x,p_payment_reference:b||null,p_recorded_by:H.id});if(Y)throw Y;u({type:"success",title:"Success",message:"Payment recorded successfully"}),v(""),y(""),N(""),s&&s(),a()}catch(H){u({type:"error",title:"Error",message:H.message||"Failed to record payment"})}finally{C(!1)}};return i?k?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50",children:c.jsx("div",{className:"flex items-center justify-center min-h-screen px-4",children:c.jsx("div",{className:`${h(f,"modal","background")} rounded-lg shadow-xl w-full max-w-md p-6`,children:c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})})}):c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50",children:c.jsx("div",{className:"flex items-center justify-center min-h-screen px-4",children:c.jsxs("div",{className:`${h(f,"modal","background")} rounded-lg shadow-xl w-full max-w-md`,children:[c.jsxs("div",{className:`flex items-center justify-between px-6 py-4 border-b ${h(f,"border","primary")}`,children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Td,{className:`h-6 w-6 mr-3 ${h(f,"text","accent")}`}),c.jsx("h3",{className:`text-lg font-medium ${h(f,"text","primary")}`,children:"Record Payment"})]}),c.jsx("button",{onClick:s,className:`${h(f,"text","secondary")} hover:${h(f,"interactive","hover","text")}`,children:c.jsx(dr,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:`${h(f,"background","secondary")} p-4 mx-4 mt-2 rounded-lg`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:`text-sm ${h(f,"text","secondary")} font-medium`,children:"Order Number"}),c.jsx("span",{className:`text-sm font-medium ${h(f,"text","primary")}`,children:p.orderNumber})]}),c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:`text-sm ${h(f,"text","secondary")} font-medium`,children:"Client"}),c.jsx("span",{className:`text-sm font-medium ${h(f,"text","primary")}`,children:p.clientName})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-red-600 font-medium",children:"Outstanding Balance"}),c.jsxs("span",{className:"text-sm font-medium text-red-600",children:[o," ",p.outstandingBalance.toFixed(2)]})]})]}),c.jsxs("form",{onSubmit:F,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${h(f,"text","primary")} mb-1`,children:"Amount*"}),c.jsxs("div",{className:"relative rounded-md",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx("span",{className:h(f,"text","secondary"),children:o})}),c.jsx("input",{type:"number",step:"0.01",value:g,onChange:T,className:`block w-full pl-7 pr-12 sm:text-sm ${h(f,"background","secondary")}   ${h(f,"border","primary")} rounded-md h-[35px] shadow-md ${S?"border-red-500":""}`,placeholder:"0.00",required:!0})]}),S&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:S})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${h(f,"text","primary")} mb-1`,children:"Payment Method*"}),c.jsxs("select",{value:x,onChange:M=>y(M.target.value),className:`block w-full px-3 py-2 text-base ${h(f,"background","secondary")} ${h(f,"border","primary")} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md`,required:!0,children:[c.jsx("option",{value:"",children:"Select a payment method"}),Object.entries(lE).map(([M,H])=>c.jsx("option",{value:M,children:H},M))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${h(f,"text","primary")} mb-1`,children:"Payment Reference"}),c.jsx("input",{type:"text",value:b,onChange:M=>N(M.target.value),className:`block w-full sm:text-sm ${h(f,"background","secondary")} ${h(f,"border","primary")} rounded-md h-[35px] shadow-md pl-2`,placeholder:"e.g., Check number, Transaction ID"})]}),c.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:s,className:`px-4 py-2 text-sm font-medium ${h(f,"text","primary")} hover:${h(f,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-md`,children:"Cancel"}),c.jsx("button",{type:"submit",disabled:_||!!S||!g||!x,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-md disabled:opacity-50",children:"Record Payment"})]})]})]})})}):null};function Ese({isOpen:e,onClose:t,onConfirm:r}){const[n,a]=L.useState(""),[i,s]=L.useState(!1);if(!e)return null;const o=l=>{l.preventDefault(),n.trim()&&(r(n,i),a(""),s(!1))};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Cancel Order"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:c.jsx(dr,{className:"h-5 w-5"})})]}),c.jsxs("form",{onSubmit:o,className:"p-4",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cancellation Reason"}),c.jsx("textarea",{id:"reason",value:n,onChange:l=>a(l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",rows:4,placeholder:"Please provide a reason for cancelling this order...",required:!0})]}),c.jsx("div",{className:"mb-4",children:c.jsxs("label",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",checked:i,onChange:l=>s(l.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("span",{className:"text-sm text-gray-700",children:"Also cancel all worker tasks associated with this order"})]})}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:!n.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm Cancellation"})]})]})]})})}const Pse=(e,t,r,n,a,i,s,o)=>`
  <!DOCTYPE html>
  <html>
    <head>
      <title>Receipt</title>
      <style>
        @page {
          size: 57mm auto;
          margin: 8px;
        }
        body {
          width: 57mm;
          margin: 0;
          padding: 0;
          font-family: Arial, sans-serif;
        }
        .receipt {
          width: 57mm;
          padding: 8px;
          background: white;
        }
        .header {
          text-align: center;
          margin-bottom: 4mm;
        }
        .title {
          font-size: 18px;
          font-weight: bold;
          margin-bottom: 1mm;
        }
        .subtitle {
          font-size: 12px;
          font-weight: bold;
          margin-bottom: 2mm;
        }
        .text {
          font-size: 12px;
          margin: 1mm 0;
        }
        .text-small {
          font-size: 10px;
        }
        .flex {
          display: flex;
          justify-content: space-between;
        }
        .border-top {
          border-top: 1px solid #000;
          padding-top: 2mm;
          margin-top: 2mm;
        }
        .section {
          margin-bottom: 3mm;
        }
        .section-title {
          font-weight: bold;
          margin-bottom: 1mm;
        }
        .item-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 1mm;
        }
        .item-details {
          flex: 1;
        }
        .item-quantity {
          font-size: 10px;
          color: #666;
        }
        .payment-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 1mm;
        }
        .payment-details {
          flex: 1;
        }
        .payment-date {
          font-size: 12px;
        }
        .payment-method {
          font-size: 10px;
          color: #666;
        }
        .footer {
          text-align: center;
          margin-top: 6mm;
        }
      </style>
    </head>
    <body>
      <div class="receipt">
        <div class="header">
          <div class="title">${e}</div>
          ${t?`<div class="text">${t}</div>`:""}
          <div class="subtitle">SERVICE RECEIPT</div>
        </div>
        
        <div class="section">
          <div class="section-title">Order For:</div>
          <div class="text">${r.name}</div>
          ${r.phone?`<div class="text">${r.phone}</div>`:""}
        </div>

        <div class="section">
          <div class="section-title">Order Date:</div>
          <div class="text">${jt(new Date(n.created_at),"dd/MM/yyyy HH:mm")}</div>
        </div>

        <div class="section">
          <div class="section-title">Order Number:</div>
          <div class="text">${n.order_number}</div>
        </div>

        <div class="section">
          <div class="section-title">Services:</div>
          ${a.map(({service:l,quantity:u})=>`
            <div class="item-row">
              <div class="item-details">
                <div>${l.name}</div>
                <div class="item-quantity">x${u}</div>
              </div>
              <div>${s}${l.cost.toFixed(2)}</div>
            </div>
          `).join("")}
        </div>

        <div class="border-top">
          <div class="flex">
            <div class="section-title">Total Amount:</div>
            <div class="section-title">${s}${o.toFixed(2)}</div>
          </div>
        </div>

        ${i.length>0?`
          <div class="section">
            <div class="section-title">Payments:</div>
            ${i.map(l=>`
              <div class="payment-row">
                <div class="payment-details">
                  <div class="payment-date">${jt(new Date(l.created_at),"dd/MM/yyyy")}</div>
                  <div class="payment-method">${l.payment_method.charAt(0).toUpperCase()+l.payment_method.slice(1).replace("_"," ")}</div>
                </div>
                <div>${s}${l.amount.toFixed(2)}</div>
              </div>
            `).join("")}
          </div>
        `:""}
        
        ${n.outstanding_balance>0?`
          <div class="border-top">
            <div class="flex">
              <div class="section-title">Outstanding Balance:</div>
              <div class="section-title">${s}${n.outstanding_balance.toFixed(2)}</div>
            </div>
          </div>
        `:""}

        <div class="footer">
          <div class="text">Thank you for doing business with us :)</div>
        </div>
      </div>
    </body>
  </html>
`;function cE({orderId:e,onClose:t}){var _;const[r,n]=L.useState(!0),[a,i]=L.useState(null),[s,o]=L.useState(null),[l,u]=L.useState([]),[d,f]=L.useState([]),[h,p]=L.useState([]),{organization:m}=ir(),{addToast:g}=Or(),{theme:v,getThemeStyle:x}=Yt(),y=m!=null&&m.currency?((_=sn[m.currency])==null?void 0:_.symbol)||m.currency:sn.USD.symbol;L.useEffect(()=>{(async()=>{var k;try{const{data:w,error:S}=await We.from("orders").select(`
                        *,
                        client:clients(name, phone),
                        workers:order_workers(
                            id,
                            worker_id,
                            status,
                            worker:workers(name),
                            worker_project:worker_projects(name, price)
                        ),
                        services:order_services(
                            id,
                            service_id,
                            quantity,
                            cost,
                            service:services(name)
                        ),
                        custom_fields:order_custom_fields(
                            id,
                            field:client_custom_fields(title, value, type)
                        )
                    `).eq("id",e).single();if(S)throw S;const{data:P,error:A}=await We.from("payments").select("*").eq("reference_type","service_order").eq("reference_id",w.id).not("status","eq","cancelled");if(A)throw A;const T={id:w.client_id,name:w.client.name,phone:w.client.phone,custom_fields:(k=w.custom_fields)==null?void 0:k.map(H=>({id:H.id,title:H.field.title,value:H.field.value,type:H.field.type}))},F=w.services.map(H=>({service:{id:H.service_id,name:H.service.name,cost:H.cost},quantity:H.quantity})),M=w.workers.map(H=>({worker:{id:H.worker_id,name:H.worker.name},workerProject:{id:H.worker_project_id,name:H.worker_project.name,price:H.worker_project.price}}));i(w),o(T),u(F),f(M),p(P||[])}catch(w){console.error("Error fetching order data:",w),g({type:"error",title:"Error",message:"Failed to load order details"})}finally{n(!1)}})()},[e,g]);const b=l.reduce((C,{service:k})=>C+k.cost,0),N=L.useCallback(()=>{if(!s||!a)return;const C=window.open("","_blank");C&&(C.document.write(Pse((m==null?void 0:m.name)||"",m==null?void 0:m.address,s,a,l,h,y,b)),C.document.close(),C.focus(),C.print(),C.close())},[m,s,a,l,h,y,b]);return r?c.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):!a||!s?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-500",children:"Order not found."})}):c.jsx("div",{className:`rounded-lg shadow-xl max-w-[57mm] w-full mx-auto overflow-y-auto max-h-[90vh] border ${x(v,"border","primary")} ${x(v,"background","primary")}`,children:c.jsxs("div",{className:"px-4 py-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("button",{onClick:N,className:`inline-flex items-center px-3 py-1.5 border ${x(v,"border","primary")} rounded-md shadow-sm text-sm font-medium ${x(v,"text","secondary")} ${x(v,"background","primary")} ${x(v,"interactive","hover","background")}`,children:[c.jsx($y,{className:"h-4 w-4 mr-2"}),"Print"]}),c.jsx("button",{onClick:t,className:`p-2 ${x(v,"text","muted")} ${x(v,"interactive","hover","text")} ${x(v,"interactive","hover","background")} rounded-full transition-colors duration-200`,children:c.jsx(dr,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"receipt-content",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h1",{className:`text-[18px] font-bold ${x(v,"text","primary")}`,children:m==null?void 0:m.name}),(m==null?void 0:m.address)&&c.jsx("p",{className:`text-[12px] mb-2 ${x(v,"text","secondary")}`,children:m.address}),c.jsx("h2",{className:`text-[12px] font-bold ${x(v,"text","primary")}`,children:"SERVICE RECEIPT"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-[12px] font-bold ${x(v,"text","primary")}`,children:"Order For:"}),c.jsxs("div",{className:"pl-2",children:[c.jsx("p",{className:`text-[12px] ${x(v,"text","secondary")}`,children:s.name}),s.phone&&c.jsx("p",{className:`text-[12px] ${x(v,"text","secondary")}`,children:s.phone})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-[12px] font-bold ${x(v,"text","primary")}`,children:"Order Date:"}),c.jsx("p",{className:`text-[12px] pl-2 ${x(v,"text","secondary")}`,children:jt(new Date(a.created_at),"dd/MM/yyyy HH:mm")})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-[12px] font-bold ${x(v,"text","primary")}`,children:"Order Number:"}),c.jsx("p",{className:`text-[12px] pl-2 ${x(v,"text","secondary")}`,children:a.order_number})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-[12px] font-bold mb-2 ${x(v,"text","primary")}`,children:"Services:"}),c.jsx("div",{className:"space-y-1",children:l.map(({service:C,quantity:k})=>c.jsxs("div",{className:"flex justify-between pl-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-[12px] ${x(v,"text","secondary")}`,children:C.name}),c.jsxs("p",{className:`text-[10px] ${x(v,"text","muted")}`,children:["x",k]})]}),c.jsxs("p",{className:`text-[12px] ${x(v,"text","secondary")}`,children:[y," ",C.cost.toFixed(2)]})]},C.id))})]}),c.jsxs("div",{className:`border-t ${x(v,"border","primary")} pt-2`,children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("p",{className:`text-[12px] font-bold ${x(v,"text","primary")}`,children:"Total Amount:"}),c.jsxs("p",{className:`text-[12px] font-bold ${x(v,"text","primary")}`,children:[y," ",b.toFixed(2)]})]}),h.length>0&&c.jsxs("div",{className:"mt-2",children:[c.jsx("p",{className:`text-[12px] font-bold ${x(v,"text","primary")}`,children:"Payments:"}),c.jsx("div",{className:"space-y-1",children:h.map(C=>c.jsxs("div",{className:"flex justify-between pl-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-[12px] ${x(v,"text","secondary")}`,children:jt(new Date(C.created_at),"dd/MM/yyyy")}),c.jsx("p",{className:`text-[10px] ${x(v,"text","muted")}`,children:C.payment_method.charAt(0).toUpperCase()+C.payment_method.slice(1).replace("_"," ")})]}),c.jsxs("p",{className:`text-[12px] ${x(v,"text","secondary")}`,children:[y," ",C.amount.toFixed(2)]})]},C.id))})]}),a.outstanding_balance>0&&c.jsxs("div",{className:`flex justify-between border-t ${x(v,"border","primary")} pt-1 mt-2`,children:[c.jsx("p",{className:`text-[12px] font-bold ${x(v,"text","primary")}`,children:"Outstanding Bal:"}),c.jsxs("p",{className:`text-[12px] font-bold ${x(v,"text","primary")}`,children:[y," ",a.outstanding_balance.toFixed(2)]})]})]})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("p",{className:`text-[12px] ${x(v,"text","secondary")}`,children:"Thank you for doing business with us :)"})})]})]})})}function Ose({isOpen:e,onClose:t,onAddWorkers:r,existingWorkerIds:n}){const[a,i]=L.useState([]),[s,o]=L.useState({}),[l,u]=L.useState([]),[d,f]=L.useState(""),[h,p]=L.useState(!1),[m,g]=L.useState(null),{organization:v}=ir(),{addToast:x}=Or(),{getThemeStyle:y,theme:b}=Yt();L.useEffect(()=>{e&&N()},[e]);const N=async()=>{try{const{data:w,error:S}=await We.from("workers").select("*").eq("organization_id",v==null?void 0:v.id).eq("status","active").not("id","in",`(${n.join(",")})`);if(S)throw S;i(w||[])}catch(w){console.error("Error loading workers:",w),x({type:"error",title:"Error",message:"Failed to load workers"})}},_=async w=>{try{const{data:S,error:P}=await We.from("worker_projects").select("*").eq("worker_id",w).eq("status","active");if(P)throw P;o(A=>({...A,[w]:S||[]}))}catch(S){console.error("Error loading worker projects:",S),x({type:"error",title:"Error",message:"Failed to load worker projects"})}},C=(w,S)=>{const P=[...l];P[S]={...P[S],worker_id:w.id,project_id:""},u(P),f(""),p(!1),g(null),_(w.id)},k=a.filter(w=>w.name.toLowerCase().includes(d.toLowerCase()));return e?c.jsx("div",{className:`fixed inset-0 ${y(b,"modal","overlay")} flex items-center justify-center z-50 p-4`,children:c.jsxs("div",{className:`${y(b,"modal","background")} rounded-lg p-6 max-w-md w-full mx-4`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:`text-base font-medium ${y(b,"text","primary")}`,children:"Add Workers"}),c.jsx("button",{onClick:t,className:`${y(b,"text","accent")} hover:${y(b,"text","muted")}`,children:c.jsx(dr,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{type:"button",onClick:()=>u([...l,{worker_id:"",project_id:""}]),className:`inline-flex items-center px-2 py-1 border ${y(b,"border","primary")} rounded-md text-xs font-medium ${y(b,"text","primary")} ${y(b,"background","secondary")} hover:${y(b,"background","accent")}`,children:[c.jsx(na,{className:"h-3 w-3 mr-1"}),"Add Worker"]})}),l.map((w,S)=>{var P,A;return c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx("input",{type:"text",value:w.worker_id?((P=a.find(T=>T.id===w.worker_id))==null?void 0:P.name)||"":d,onChange:T=>{if(w.worker_id){const F=[...l];F[S]={...F[S],worker_id:"",project_id:""},u(F)}f(T.target.value),p(!0),g(S)},onFocus:()=>{w.worker_id||(p(!0),g(S))},placeholder:"Search for a worker",className:`block w-full px-2 py-1.5 text-xs border ${y(b,"border","primary")} rounded-md ${y(b,"background","secondary")} ${y(b,"text","primary")}`}),w.worker_id&&c.jsx("button",{type:"button",onClick:()=>{const T=[...l];T[S]={...T[S],worker_id:"",project_id:""},u(T)},className:"absolute right-8 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.jsx(dr,{className:"h-3.5 w-3.5"})}),c.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none",children:c.jsx(Fc,{className:"h-3.5 w-3.5 text-gray-400"})}),h&&m===S&&k.length>0&&c.jsx("div",{className:`absolute z-10 mt-1 w-full rounded-md shadow-lg ${y(b,"background","secondary")} border ${y(b,"border","primary")} max-h-60 overflow-auto`,children:k.map(T=>c.jsx("div",{onClick:()=>C(T,S),className:`px-2.5 py-1.5 text-xs cursor-pointer ${y(b,"text","primary")} hover:bg-blue-50 hover:text-blue-700`,children:T.name},T.id))})]}),c.jsx("div",{className:"flex-1",children:c.jsxs("select",{value:w.project_id||"",onChange:T=>{const F=[...l];F[S].project_id=T.target.value,u(F)},disabled:!w.worker_id,className:`block w-full px-2 py-1.5 text-xs border ${y(b,"border","primary")} rounded-md ${y(b,"background","secondary")} ${y(b,"text","primary")} disabled:opacity-60`,children:[c.jsx("option",{value:"",children:"Select Project"}),w.worker_id&&((A=s[w.worker_id])==null?void 0:A.map(T=>c.jsx("option",{value:T.id,children:T.name},T.id)))]})}),c.jsx("button",{type:"button",onClick:()=>{const T=l.filter((F,M)=>M!==S);u(T)},className:`p-1 ${y(b,"text","muted")} hover:text-red-500 rounded-full`,children:c.jsx(dr,{className:"h-4 w-4"})})]},S)})]}),c.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[c.jsx("button",{onClick:t,className:`px-4 py-2 text-xs font-medium ${y(b,"text","secondary")} ${y(b,"background","primary")} border ${y(b,"border","primary")} rounded-md ${y(b,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:"Cancel"}),c.jsx("button",{onClick:()=>{const w=l.filter(S=>S.worker_id&&S.project_id);w.length>0&&r(w)},disabled:!l.some(w=>w.worker_id&&w.project_id),className:"px-4 py-2 text-xs font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Workers"})]})]})}):null}const p$={pending:"Pending",in_progress:"In Progress",completed:"Completed",delayed:"Delayed",cancelled:"Cancelled"},m$={pending:"Pending",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled",closed:"Closed"},$se={pending:"bg-yellow-100 text-yellow-800 border-yellow-200",in_progress:"bg-blue-100 text-blue-800 border-blue-200",completed:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200",closed:"bg-gray-100 text-gray-800 border-gray-200"},Dse={pending:ad,in_progress:id,completed:Da,cancelled:ps,closed:Da};function Mse(){var E,R,B,q;const{id:e}=l5(),[t,r]=L.useState(null),[n,a]=L.useState(!0),[i,s]=L.useState(!1),[o,l]=L.useState(!1),[u,d]=L.useState(null),[f,h]=L.useState(""),[p,m]=L.useState(!1),[g,v]=L.useState(!1),[x,y]=L.useState(!1),[b,N]=L.useState(!1),[_,C]=L.useState(null),[k,w]=L.useState(""),{organization:S}=ir(),{addToast:P}=Or(),{getThemeStyle:A,theme:T}=Yt(),F=S!=null&&S.currency?((E=sn[S.currency])==null?void 0:E.symbol)||S.currency:sn.USD.symbol;L.useEffect(()=>{e&&M()},[e]);const M=async()=>{try{const{data:K,error:ae}=await We.from("orders").select(`
          *,
          client:clients(name),
          workers:order_workers(
            id,
            worker_id,
            status,
            worker:workers(name),
            project:worker_projects(
              id,
              name,
              price
            )
          ),
          services:order_services(
            id,
            service_id,
            quantity,
            cost,
            service:services(name)
          ),
          custom_fields:order_custom_fields(
            id,
            field:client_custom_fields(title, value)
          )
        `).eq("id",e).single(),{data:ee,error:W}=await We.from("payments").select("*").eq("reference_type","service_order").eq("reference_id",e),{data:Z,error:re}=await We.from("tasks").select(`
          *,
          project:worker_projects(
            id,
            name,
            price
          ),
          worker:workers(name)
        `).eq("order_id",e);if(ae)throw ae;if(re)throw re;r({...K,payments:ee||[],tasks:Z||[]})}catch(K){console.error("Error loading order:",K),P({type:"error",title:"Error",message:"Failed to load order details"})}finally{a(!1)}},H=async K=>{if(t){if(K==="closed"&&t.payment_status!=="paid"){P({type:"error",title:"Cannot Close Order",message:"Order must be fully paid before it can be closed"});return}try{const{error:ae}=await We.from("orders").update({status:K}).eq("id",t.id);if(ae)throw ae;r(ee=>ee?{...ee,status:K}:null),P({type:"success",title:"Status Updated",message:`Order status updated to ${m$[K]}`})}catch(ae){console.error("Error updating status:",ae),P({type:"error",title:"Error",message:"Failed to update order status"})}}},z=async(K,ae)=>{if(t)try{const{error:ee}=await We.from("orders").update({status:"cancelled",cancellation_reason:K,cancelled_at:new Date().toISOString(),cancelled_by:(S==null?void 0:S.id)||null}).eq("id",t.id);if(ee)throw ee;if(ae){const{error:Z}=await We.from("tasks").update({status:"cancelled"}).eq("order_id",t.id);if(Z)throw Z}const{error:W}=await We.from("payments").update({status:"cancelled"}).eq("reference_type","service_order").eq("reference_id",t.id);if(W)throw W;await M(),P({type:"success",title:"Order Cancelled",message:"The order and all associated worker tasks and payments have been cancelled successfully."}),s(!1)}catch(ee){console.error("Error cancelling order:",ee),P({type:"error",title:"Error",message:"Failed to cancel the order"})}},Y=async(K,ae,ee)=>{try{const W={status:ae,status_changed_at:new Date().toISOString()};ae==="completed"?W.completed_at=new Date().toISOString():ae==="delayed"&&ee&&(W.delay_reason=ee);const{error:Z}=await We.from("tasks").update(W).eq("id",K);if(Z)throw Z;M(),P({type:"success",title:"Status Updated",message:`Task status updated to ${p$[ae]}`})}catch(W){console.error("Error updating task status:",W),P({type:"error",title:"Error",message:"Failed to update task status"})}},G=(K,ae)=>{ae==="delayed"?(d(K),l(!0)):Y(K.id,ae)},I=()=>{u&&f.trim()&&(Y(u.id,"delayed",f.trim()),l(!1),h(""),d(null))},X=async K=>{if(t)try{const{error:ae}=await We.from("order_workers").insert(K.map(ee=>({order_id:t.id,worker_id:ee.worker_id,project_id:ee.project_id,status:"assigned"})));if(ae)throw ae;await M(),P({type:"success",title:"Workers Added",message:"Workers have been successfully added to the order"}),y(!1)}catch(ae){console.error("Error adding workers:",ae),P({type:"error",title:"Error",message:"Failed to add workers to the order"})}},J=async(K,ae)=>{try{const{error:ee}=await We.from("payments").update({status:"cancelled",cancelled_at:new Date().toISOString(),cancelled_by:(S==null?void 0:S.id)||null,cancellation_reason:ae}).eq("id",K);if(ee)throw ee;const{data:W,error:Z}=await We.from("payments").select("amount").eq("id",K).single();if(Z)throw Z;const{error:re}=await We.from("orders").update({outstanding_balance:t.outstanding_balance+W.amount}).eq("id",t.id);if(re)throw re;await M(),P({type:"success",title:"Payment Cancelled",message:"The payment has been cancelled successfully and the outstanding balance has been updated."}),N(!1),C(null),w("")}catch(ee){console.error("Error cancelling payment:",ee),P({type:"error",title:"Error",message:"Failed to cancel the payment"})}};return n?c.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t?(Dse[t.status],c.jsxs("div",{className:`p-4 ${A(T,"background","primary")} min-h-screen`,children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(Wr,{to:"/dashboard/orders",className:`${A(T,"text","muted")} hover:${A(T,"text","secondary")}`,children:c.jsx(Wf,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsxs("h2",{className:`text-xl font-bold ${t.status==="cancelled"?"text-gray-400 line-through":A(T,"text","primary")}`,children:["Order ",t.order_number]}),c.jsxs("p",{className:`text-xs ${A(T,"text","muted")} mt-1`,children:["Created on ",jt(new Date(t.created_at),"MMM d, yyyy HH:mm")]})]})]}),c.jsx("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full sm:w-auto",children:c.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[c.jsxs("button",{onClick:()=>m(!0),className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-1.5 border ${A(T,"border","primary")} rounded-md shadow-sm text-xs font-medium ${A(T,"text","secondary")} ${A(T,"background","primary")} ${A(T,"interactive","hover","background")}`,children:[c.jsx($y,{className:"h-4 w-4 mr-2"}),"Print Receipt"]}),t.status!=="cancelled"&&c.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[c.jsxs("select",{value:t.status,onChange:K=>H(K.target.value),className:`w-full appearance-none ${A(T,"background","primary")} border ${A(T,"border","primary")} rounded-lg py-2 pl-3 pr-10 text-xs focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,children:[c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"in_progress",children:"In Progress"}),c.jsx("option",{value:"completed",children:"Completed"}),t.payment_status==="paid"&&c.jsx("option",{value:"closed",children:"Closed"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]}),c.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500",children:c.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]})})]}),c.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[c.jsxs("div",{className:`${A(T,"background","primary")} shadow-sm rounded-lg overflow-hidden ${t.status==="cancelled"?"opacity-75":""}`,children:[c.jsxs("div",{className:`px-3 py-2 border-b ${A(T,"border","primary")} flex items-center justify-between`,children:[c.jsx("h3",{className:`text-sm font-medium ${A(T,"text","primary")}`,children:"Order Details"}),c.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${$se[t.status]}`,children:m$[t.status]})]}),c.jsxs("div",{className:"p-3 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(yp,{className:`h-4 w-4 ${A(T,"text","accent")}`}),c.jsx("span",{className:`text-xs font-medium ${t.status==="cancelled"?"line-through text-gray-400":A(T,"text","primary")}`,children:t.client.name})]}),t.due_date&&c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(yc,{className:`h-4 w-4 ${A(T,"text","accent")}`}),c.jsxs("span",{className:`text-xs ${t.status==="cancelled"?"line-through text-gray-400":A(T,"text","muted")}`,children:["Due: ",jt(new Date(t.due_date),"MMM d, yyyy")]})]})]}),t.description&&c.jsx("div",{className:"text-xs text-gray-600 border-l-2 border-gray-200 pl-2",children:t.description}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:`text-sm mt-8 font-medium ${A(T,"text","primary")}`,children:"Services"}),c.jsx("div",{className:"space-y-1",children:t.services.map(K=>c.jsxs("div",{className:`flex items-center justify-between p-2 ${A(T,"background","secondary")} rounded ${t.status==="cancelled"?"line-through text-gray-400":""}`,children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(pa,{className:`h-4 w-4 ${A(T,"text","accent")}`}),c.jsxs("div",{children:[c.jsx("p",{className:`text-xs font-medium ${A(T,"text","primary")}`,children:K.service.name}),c.jsxs("p",{className:`text-xs ${A(T,"text","muted")}`,children:["Qty: ",K.quantity]})]})]}),c.jsxs("div",{className:`text-xs font-medium ${A(T,"text","primary")}`,children:[F," ",K.cost.toFixed(2)]})]},K.id))}),c.jsxs("div",{className:`pt-2 border-t ${A(T,"border","primary")} flex justify-between text-xs`,children:[c.jsx("span",{className:`font-medium ${A(T,"text","primary")}`,children:"Total Amount"}),c.jsxs("span",{className:`font-bold ${t.status==="cancelled"?"line-through text-gray-400":A(T,"text","primary")}`,children:[F," ",t.total_amount.toFixed(2)]})]})]})]})]}),((R=t.custom_fields)==null?void 0:R.length)>0&&c.jsxs("div",{className:`${A(T,"background","primary")} shadow-sm rounded-lg overflow-hidden`,children:[c.jsx("div",{className:`px-3 py-2 border-b ${A(T,"border","primary")}`,children:c.jsx("h3",{className:`text-sm font-medium ${A(T,"text","primary")}`,children:"Custom Information"})}),c.jsx("div",{className:"p-3",children:c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:t.custom_fields.map(K=>c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx(uh,{className:`h-4 w-4 mt-0.5 ${A(T,"text","accent")}`}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:`text-xs font-medium ${A(T,"text","primary")}`,children:K.field.title}),c.jsx("p",{className:`text-xs ${A(T,"text","muted")}`,children:K.field.value})]})]},K.id))})})]}),c.jsxs("div",{className:`${A(T,"background","primary")} shadow-sm rounded-lg overflow-hidden`,children:[c.jsxs("div",{className:`px-3 py-2 border-b ${A(T,"border","primary")} flex items-center justify-between`,children:[c.jsx("h3",{className:`text-sm font-medium ${A(T,"text","primary")}`,children:"Assigned Workers"}),t.status!=="cancelled"&&c.jsxs("button",{onClick:()=>y(!0),className:`inline-flex items-center px-2 py-1 border ${A(T,"border","primary")} rounded-md text-xs font-medium ${A(T,"text","primary")} ${A(T,"background","secondary")} hover:${A(T,"background","accent")}`,children:[c.jsx(na,{className:"h-3 w-3 mr-1"}),"Add Workers"]})]}),c.jsx("div",{className:"p-3",children:(B=t.workers)!=null&&B.length?c.jsx("div",{className:"space-y-3",children:t.workers.map(K=>{var W;const ae=K.worker_id,ee=((W=t.tasks)==null?void 0:W.filter(Z=>Z.worker_id===ae))||[];return c.jsxs("div",{className:`${A(T,"background","primary")} border-l-2 border-blue-500 pl-3`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"h-6 w-6 rounded-full bg-blue-100 flex items-center justify-center",children:c.jsx(yp,{className:"h-3 w-3 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h4",{className:`text-xs font-medium ${A(T,"text","primary")}`,children:K.worker.name}),c.jsx("p",{className:`text-xs ${A(T,"text","muted")}`,children:K.project.name})]})]}),ae&&c.jsx(Wr,{to:`/dashboard/workers/${ae}`,className:`text-xs ${A(T,"text","accent")} hover:${A(T,"text","secondary")}`,children:"View Profile"})]}),K.task_description&&c.jsx("p",{className:`mt-1 text-xs ${A(T,"text","tertiary")} line-clamp-1`,children:K.task_description}),ee.length>0&&c.jsx("div",{className:"mt-2 space-y-1",children:ee.map(Z=>c.jsxs("div",{className:`${Z.status==="cancelled"?"opacity-75":""}`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium
                                      ${Z.status==="completed"?"bg-green-100 text-green-800":Z.status==="in_progress"?"bg-blue-100 text-blue-800":Z.status==="delayed"?"bg-red-100 text-red-800":Z.status==="cancelled"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:p$[Z.status]}),c.jsx("span",{className:`text-xs ${Z.status==="cancelled"?"line-through text-gray-400":A(T,"text","muted")}`,children:jt(new Date(Z.created_at),"MMM d")})]}),Z.status!=="cancelled"&&c.jsxs("select",{value:Z.status,onChange:re=>{const O=re.target.value;G(Z,O)},className:`text-xs appearance-none ${A(T,"background","primary")} border ${A(T,"border","primary")} rounded py-0.5 pl-1 pr-6 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500`,children:[c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"in_progress",children:"In Progress"}),c.jsx("option",{value:"delayed",children:"Delayed"}),c.jsx("option",{value:"completed",children:"Completed"})]})]}),Z.delay_reason&&c.jsxs("p",{className:"mt-0.5 text-xs text-red-600",children:["Delay: ",Z.delay_reason]}),Z.completed_at&&c.jsxs("p",{className:`mt-0.5 text-xs ${Z.status==="cancelled"?"line-through text-gray-400":A(T,"text","muted")}`,children:["Completed: ",jt(new Date(Z.completed_at),"MMM d, HH:mm")]})]},Z.id))}),c.jsxs("div",{className:"mt-2 flex items-center gap-3 text-xs text-gray-500",children:[K.start_date&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(yc,{className:"h-3 w-3 mr-1"}),c.jsxs("span",{children:["Start: ",jt(new Date(K.start_date),"MMM d")]})]}),K.end_date&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(yc,{className:"h-3 w-3 mr-1"}),c.jsxs("span",{children:["End: ",jt(new Date(K.end_date),"MMM d")]})]})]})]},K.id)})}):c.jsx("p",{className:`text-xs ${A(T,"text","muted")}`,children:"No workers assigned"})})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:`${A(T,"background","primary")} shadow rounded-lg overflow-hidden ${t.status==="cancelled"?"opacity-75":""}`,children:[c.jsx("div",{className:`px-4 py-3 border-b ${A(T,"border","primary")}`,children:c.jsxs("div",{className:"flex flex-col space-y-2",children:[c.jsxs("h3",{className:`text-sm font-medium ${A(T,"text","primary")} flex items-center`,children:[c.jsx(Xa,{className:`h-4 w-4 mr-2 ${A(T,"text","muted")}`}),"Payment Details"]}),c.jsx("span",{className:`w-fit inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium
                  ${(t==null?void 0:t.payment_status)==="paid"?"bg-green-100 text-green-800":(t==null?void 0:t.payment_status)==="partially_paid"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:(t==null?void 0:t.payment_status)==="paid"?"Paid":(t==null?void 0:t.payment_status)==="partially_paid"?"Partially Paid":"Unpaid"})]})}),c.jsxs("div",{className:"p-3 space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Total Amount"}),c.jsxs("p",{className:`text-sm font-bold ${t.status==="cancelled"?"line-through text-gray-400":"text-blue-900"}`,children:[F," ",t==null?void 0:t.total_amount.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Amount Paid"}),c.jsxs("p",{className:`text-sm font-bold ${t.status==="cancelled"?"line-through text-gray-400":"text-green-900"}`,children:[F," ",((t==null?void 0:t.total_amount)-((t==null?void 0:t.outstanding_balance)||0)).toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("p",{className:"text-xs text-orange-600 font-medium",children:"Outstanding Balance"}),c.jsxs("p",{className:`text-sm font-bold ${t.status==="cancelled"?"line-through text-gray-400":"text-orange-900"}`,children:[F," ",((t==null?void 0:t.outstanding_balance)||0).toFixed(2)]})]})]}),c.jsxs("div",{className:"space-y-2",children:[t.payment_status!=="paid"&&t.status!=="cancelled"&&c.jsx(bp,{orderId:t.id,orderType:"service_order",orderNumber:t.order_number,clientName:t.client.name,outstandingBalance:t.outstanding_balance,onPaymentRecorded:M}),t.status!=="cancelled"&&c.jsxs("button",{onClick:()=>v(!0),className:"w-full inline-flex items-center justify-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Xa,{className:"h-4 w-4 mr-1"}),"Record Payment"]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:`text-xs font-medium ${A(T,"text","primary")} mb-2`,children:"Payment History"}),t!=null&&t.payments&&t.payments.length>0?c.jsx("div",{className:`divide-y ${A(T,"border","primary")} max-h-40 overflow-y-auto`,children:t.payments.map(K=>c.jsxs("div",{className:`py-2 flex flex-col space-y-1 ${K.status==="cancelled"?"opacity-75":""}`,children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("p",{className:`text-xs font-medium ${K.status==="cancelled"?"line-through text-gray-400":A(T,"text","primary")}`,children:[F," ",K.amount.toFixed(2)]}),K.status==="cancelled"&&c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Cancelled"})]}),c.jsx("p",{className:`text-xs ${K.status==="cancelled"?"line-through text-gray-400":A(T,"text","muted")}`,children:jt(new Date(K.created_at),"MMM d, yyyy HH:mm")})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("p",{className:`text-xs ${K.status==="cancelled"?"line-through text-gray-400":A(T,"text","muted")} truncate`,children:[K.payment_method," • ",K.payment_reference]}),K.status!=="cancelled"&&c.jsx("button",{onClick:()=>{C(K),N(!0)},className:"text-xs text-red-600 hover:text-red-800",children:"Cancel"})]}),K.status==="cancelled"&&K.cancellation_reason&&c.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Reason: ",K.cancellation_reason]})]},K.id))}):c.jsx("p",{className:`text-xs ${A(T,"text","muted")} italic`,children:"No payments recorded yet"})]})]})]}),t.status!=="cancelled"&&c.jsxs("div",{className:`${A(T,"background","primary")} shadow rounded-lg overflow-hidden`,children:[c.jsx("div",{className:`px-4 py-5 sm:px-6 border-b ${A(T,"border","primary")}`,children:c.jsx("h3",{className:`text-base font-medium ${A(T,"text","primary")}`,children:"Danger Zone"})}),c.jsx("div",{className:"px-4 py-5 sm:p-6",children:c.jsx("button",{onClick:()=>s(!0),className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Cancel Order"})})]})]})]}),p&&c.jsx("div",{className:`fixed inset-0 ${A(T,"modal","overlay")} flex items-center justify-center z-50 p-4`,children:c.jsx("div",{className:"relative w-full max-w-2xl",children:c.jsx(cE,{orderId:t.id,onClose:()=>m(!1)})})}),g&&c.jsx(bp,{orderId:t.id,outstandingBalance:t.outstanding_balance,onPaymentRecorded:()=>{M(),v(!1)},isOpen:g,onClose:()=>v(!1),currencySymbol:F}),c.jsx(Ese,{isOpen:i,onClose:()=>s(!1),onConfirm:(K,ae)=>z(K,ae)}),o&&c.jsx("div",{className:`fixed inset-0 ${A(T,"modal","overlay")} flex items-center justify-center z-50 p-4`,children:c.jsxs("div",{className:`${A(T,"modal","background")} rounded-lg p-6 max-w-md w-full mx-4`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:`text-base font-medium ${A(T,"text","primary")}`,children:"Add Delay Reason"}),c.jsx("button",{onClick:()=>{l(!1),h(""),d(null)},className:`${A(T,"text","accent")} hover:${A(T,"text","muted")}`,children:c.jsx(dr,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"delay-reason",className:`block text-xs font-medium ${A(T,"text","secondary")} mb-1`,children:"Reason for Delay"}),c.jsx("textarea",{id:"delay-reason",value:f,onChange:K=>h(K.target.value),className:`w-full px-3 py-2 border ${A(T,"border","primary")} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs`,rows:3,placeholder:"Please provide a reason for the delay..."})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{onClick:()=>{l(!1),h(""),d(null)},className:`px-4 py-2 text-xs font-medium ${A(T,"text","secondary")} ${A(T,"background","primary")} border ${A(T,"border","primary")} rounded-md ${A(T,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:"Cancel"}),c.jsx("button",{onClick:I,disabled:!f.trim(),className:"px-4 py-2 text-xs font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit"})]})]})}),x&&c.jsx(Ose,{isOpen:x,onClose:()=>y(!1),onAddWorkers:X,existingWorkerIds:((q=t==null?void 0:t.workers)==null?void 0:q.map(K=>K.worker_id))||[]}),b&&_&&c.jsx("div",{className:`fixed inset-0 ${A(T,"modal","overlay")} flex items-center justify-center z-50 p-4`,children:c.jsxs("div",{className:`${A(T,"modal","background")} rounded-lg p-6 max-w-md w-full mx-4`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:`text-base font-medium ${A(T,"text","primary")}`,children:"Cancel Payment"}),c.jsx("button",{onClick:()=>{N(!1),C(null),w("")},className:`${A(T,"text","accent")} hover:${A(T,"text","muted")}`,children:c.jsx(dr,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"cancellation-reason",className:`block text-xs font-medium ${A(T,"text","secondary")} mb-1`,children:"Reason for Cancellation"}),c.jsx("textarea",{id:"cancellation-reason",value:k,onChange:K=>w(K.target.value),className:`w-full px-3 py-2 border ${A(T,"border","primary")} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs`,rows:3,placeholder:"Please provide a reason for cancelling this payment..."})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{onClick:()=>{N(!1),C(null),w("")},className:`px-4 py-2 text-xs font-medium ${A(T,"text","secondary")} ${A(T,"background","primary")} border ${A(T,"border","primary")} rounded-md ${A(T,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:"Cancel"}),c.jsx("button",{onClick:()=>J(_.id,k),disabled:!k.trim(),className:"px-4 py-2 text-xs font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm Cancellation"})]})]})})]})):c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:`text-sm ${A(T,"text","muted")}`,children:"Order not found."}),c.jsxs(Wr,{to:"/dashboard/orders",className:"mt-4 inline-flex items-center text-blue-600 hover:text-blue-800 text-sm",children:[c.jsx(Wf,{className:"h-4 w-4 mr-2"}),"Back to Orders"]})]})}function _W({onClientSelect:e,onCustomFieldsSelect:t,selectedClient:r,selectedCustomFields:n=[],showAddNew:a=!0}){const[i,s]=L.useState([]),[o,l]=L.useState(""),[u,d]=L.useState(!1),[f,h]=L.useState(""),[p,m]=L.useState(!1),[g,v]=L.useState(!1),[x,y]=L.useState(!1),[b,N]=L.useState(!1),[_,C]=L.useState({name:"",email:"",phone:"",address:"",image_url:"",image_file:null,customFields:[{title:"",value:"",type:"text",file:null}]}),{organization:k}=ir(),{getThemeStyle:w,theme:S}=Yt(),{addToast:P}=Or();L.useEffect(()=>{k!=null&&k.id&&A()},[k]);const A=async(I="")=>{if(k!=null&&k.id){m(!0);try{const{data:X,error:J}=await We.from("clients").select(`
          *,
          custom_fields:client_custom_fields(*)
        `).eq("organization_id",k.id).ilike("name",`%${I}%`).limit(50);if(J)throw J;s(X||[])}catch(X){console.error("Error loading clients:",X),P({type:"error",title:"Error",message:"Failed to load clients"})}finally{m(!1)}}},T=async()=>{var I,X;if(!(!(k!=null&&k.id)||!_.name.trim())){y(!0);try{let J=null;if(_.image_file){N(!0);try{const q=(I=_.image_file.name.split(".").pop())==null?void 0:I.toLowerCase(),K=`${Math.random().toString(36).substring(2)}.${q}`,ae=`${k.id}/clients/temp/${K}`,{error:ee}=await We.storage.from("profiles").upload(ae,_.image_file,{cacheControl:"3600",upsert:!0});if(ee)throw ee;const{data:{publicUrl:W}}=We.storage.from("profiles").getPublicUrl(ae);J=W}catch(q){console.error("Error uploading image:",q),P({type:"error",title:"Error",message:"Failed to upload client image"}),y(!1),N(!1);return}finally{N(!1)}}const{data:E,error:R}=await We.from("clients").insert([{organization_id:k.id,name:_.name.trim(),phone:_.phone.trim(),address:_.address.trim(),email:_.email.trim(),image_url:J||null,status:"active"}]).select().single();if(R){if(R.code==="23505"){P({type:"error",title:"Duplicate Client",message:"A client with this name already exists. Please use a different name."});return}throw R}const B=_.customFields.filter(q=>q.title.trim()&&(q.type==="text"?q.value.trim():q.file));if(B.length>0)for(const q of B){let K=q.value;if(q.type==="file"&&q.file){const ee=(X=q.file.name.split(".").pop())==null?void 0:X.toLowerCase(),W=`${Math.random().toString(36).substring(2)}.${ee}`,Z=`${k.id}/clients/${E.id}/${W}`,{error:re}=await We.storage.from("profiles").upload(Z,q.file,{cacheControl:"3600",upsert:!1});if(re)throw re;const{data:{publicUrl:O}}=We.storage.from("profiles").getPublicUrl(Z);K=O}const{error:ae}=await We.from("client_custom_fields").insert({client_id:E.id,title:q.title.trim(),value:K,type:q.type});if(ae)throw ae}s(q=>[...q,E]),Y(E),v(!1),C({name:"",phone:"",address:"",email:"",image_url:"",image_file:null,customFields:[{title:"",value:"",type:"text",file:null}]}),P({type:"success",title:"Client Created",message:"New client has been created successfully."})}catch(J){console.error("Error creating client:",J),P({type:"error",title:"Error",message:"Failed to create client"})}finally{y(!1)}}},F=()=>{C(I=>({...I,customFields:[...I.customFields,{title:"",value:"",type:"text",file:null}]}))},M=I=>{C(X=>({...X,customFields:X.customFields.filter((J,E)=>E!==I)}))},H=(I,X)=>{C(J=>({...J,customFields:J.customFields.map((E,R)=>R===I?{...E,...X}:E)}))},z=I=>{const X=I.target.value;l(X),d(!0),A(X)},Y=I=>{var X;h(I.name),l(I.name),d(!1),e(I),t&&t(((X=I.custom_fields)==null?void 0:X.map(J=>J.id))||[])},G=()=>{e(null),h(""),l(""),d(!1),t&&t([])};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:`text-sm font-bold ${w(S,"text","primary")}`,children:"Select Client"}),a&&c.jsxs("button",{type:"button",onClick:()=>v(!0),className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1.5",children:[c.jsx(na,{className:"h-4 w-4"}),"Add New Client"]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:o,onChange:z,onFocus:()=>d(!0),placeholder:"Search for a client",className:`w-full rounded-lg border ${w(S,"border","primary")} ${w(S,"background","secondary")} px-3 py-2 text-sm ${w(S,"text","primary")} shadow-sm hover:border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`}),r&&c.jsx("button",{type:"button",onClick:G,className:"absolute right-10 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.jsx(dr,{className:"h-4 w-4"})}),c.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:p?c.jsx(zi,{className:"h-4 w-4 text-gray-400 animate-spin"}):c.jsx(Fc,{className:"h-4 w-4 text-gray-400"})}),u&&i.length>0&&c.jsx("div",{className:`absolute z-10 mt-1 w-full rounded-lg shadow-lg ${w(S,"background","secondary")} border ${w(S,"border","primary")} max-h-60 overflow-auto`,children:i.map(I=>c.jsx("div",{onClick:()=>Y(I),className:`px-3 py-2 text-sm cursor-pointer ${w(S,"text","primary")} hover:bg-blue-50 hover:text-blue-700 transition-colors`,children:I.name},I.id))})]}),r&&c.jsxs("div",{className:`text-sm ${w(S,"text","secondary")}`,children:["Selected: ",f]})]}),g&&c.jsxs("div",{className:"fixed inset-0 z-50",children:[c.jsx("div",{className:`absolute inset-0 ${w(S,"modal","overlay")} transition-opacity`}),c.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:c.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:c.jsxs("div",{className:`relative transform overflow-hidden rounded-lg ${w(S,"modal","background")} text-left shadow-xl transition-all sm:my-8 w-full max-w-[450px]`,children:[c.jsx("div",{className:`${w(S,"modal","background")} px-4 pb-4 pt-5 sm:p-6 sm:pb-4`,children:c.jsx("div",{className:"sm:flex sm:items-start",children:c.jsxs("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left w-full",children:[c.jsx("h3",{className:`text-lg font-semibold leading-6 ${w(S,"text","primary")}`,children:"Add New Client"}),c.jsxs("div",{className:"mt-4 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${w(S,"text","secondary")} mb-1.5`,children:"Name *"}),c.jsx("input",{type:"text",value:_.name,onChange:I=>C(X=>({...X,name:I.target.value})),className:`block w-full rounded-lg border ${w(S,"border","primary")} ${w(S,"background","secondary")} px-3 py-2 text-sm ${w(S,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"Enter client name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${w(S,"text","secondary")} mb-1.5`,children:"Email"}),c.jsx("input",{type:"email",value:_.email,onChange:I=>C(X=>({...X,email:I.target.value})),className:`block w-full rounded-lg border ${w(S,"border","primary")} ${w(S,"background","secondary")} px-3 py-2 text-sm ${w(S,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"Enter email address"})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${w(S,"text","secondary")} mb-1.5`,children:"Phone"}),c.jsx("input",{type:"tel",value:_.phone,onChange:I=>C(X=>({...X,phone:I.target.value})),className:`block w-full rounded-lg border ${w(S,"border","primary")} ${w(S,"background","secondary")} px-3 py-2 text-sm ${w(S,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"Enter phone number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${w(S,"text","secondary")} mb-1.5`,children:"Address"}),c.jsx("textarea",{value:_.address,onChange:I=>C(X=>({...X,address:I.target.value})),rows:2,className:`block w-full rounded-lg border ${w(S,"border","primary")} ${w(S,"background","secondary")} px-3 py-2 text-sm ${w(S,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"Enter address"})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${w(S,"text","secondary")} mb-1.5`,children:"Profile Image"}),c.jsx("input",{type:"file",accept:"image/*",onChange:I=>{var J;const X=(J=I.target.files)==null?void 0:J[0];X&&C(E=>({...E,image_file:X}))},className:`block w-full rounded-lg border ${w(S,"border","primary")} ${w(S,"background","secondary")} px-3 py-2 text-sm ${w(S,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:`text-sm font-medium ${w(S,"text","secondary")}`,children:"Custom Fields"}),c.jsxs("button",{type:"button",onClick:F,className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1.5",children:[c.jsx(na,{className:"h-4 w-4"}),"Add Field"]})]}),_.customFields.map((I,X)=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"text",value:I.title,onChange:J=>H(X,{title:J.target.value}),placeholder:"Field Title",className:`flex-1 rounded-lg border ${w(S,"border","primary")} ${w(S,"background","secondary")} px-3 py-2 text-sm ${w(S,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`}),c.jsxs("select",{value:I.type,onChange:J=>H(X,{type:J.target.value}),className:`rounded-lg border ${w(S,"border","primary")} ${w(S,"background","secondary")} px-3 py-2 text-sm ${w(S,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,children:[c.jsx("option",{value:"text",children:"Text"}),c.jsx("option",{value:"file",children:"File"})]}),c.jsx("button",{type:"button",onClick:()=>M(X),className:"p-2 text-gray-400 hover:text-gray-600",children:c.jsx(Hi,{className:"h-4 w-4"})})]}),I.type==="text"?c.jsx("input",{type:"text",value:I.value,onChange:J=>H(X,{value:J.target.value}),placeholder:"Field Value",className:`w-full rounded-lg border ${w(S,"border","primary")} ${w(S,"background","secondary")} px-3 py-2 text-sm ${w(S,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`}):c.jsx("input",{type:"file",onChange:J=>{var R;const E=(R=J.target.files)==null?void 0:R[0];E&&H(X,{file:E})},className:`w-full rounded-lg border ${w(S,"border","primary")} ${w(S,"background","secondary")} px-3 py-2 text-sm ${w(S,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`})]},X))]})]})]})})}),c.jsxs("div",{className:`${w(S,"background","secondary")} px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6`,children:[c.jsx("button",{type:"button",onClick:T,disabled:!_.name.trim()||x,className:"inline-flex w-full justify-center rounded-lg bg-blue-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 sm:ml-3 sm:w-auto disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:x?c.jsxs(c.Fragment,{children:[c.jsx(zi,{className:"animate-spin h-4 w-4 mr-2"}),"Creating..."]}):"Create Client"}),c.jsx("button",{type:"button",onClick:()=>v(!1),className:`mt-3 inline-flex w-full justify-center rounded-lg px-3 py-2 text-sm font-medium ${w(S,"text","primary")} shadow-sm ring-1 ring-inset ${w(S,"border","primary")} ${w(S,"interactive","hover","background")} sm:mt-0 sm:w-auto`,children:"Cancel"})]})]})})})]})]})}function kW({onClose:e,onSuccess:t}){var Pe;const[r,n]=L.useState([]),[a,i]=L.useState([]),[s,o]=L.useState([]),[l,u]=L.useState({}),[d,f]=L.useState(null),[h,p]=L.useState([]),[m,g]=L.useState([]),[v,x]=L.useState([]),[y,b]=L.useState(""),[N,_]=L.useState(!1),[C,k]=L.useState(!1),[w,S]=L.useState(!1),[P,A]=L.useState({description:"",due_date:"",initial_payment:null,payment_method:"",payment_reference:""}),[T,F]=L.useState(!1),[M,H]=L.useState(null),[z,Y]=L.useState(""),[G,I]=L.useState(!1),[X,J]=L.useState(""),[E,R]=L.useState(""),[B,q]=L.useState(!1),[K,ae]=L.useState([]),[ee,W]=L.useState(null),[Z,re]=L.useState(""),[O,de]=L.useState(!1),{organization:ce}=ir(),{addToast:pe}=Or(),{theme:Q,getThemeStyle:ne}=Yt(),Ae=ce!=null&&ce.currency?((Pe=sn[ce.currency])==null?void 0:Pe.symbol)||ce.currency:sn.USD.symbol;L.useEffect(()=>{ce!=null&&ce.id&&Ee()},[ce]);const Ee=async()=>{if(ce!=null&&ce.id)try{const{data:je,error:Ce}=await We.from("clients").select(`
          *,
          custom_fields:client_custom_fields(*)
        `).eq("organization_id",ce.id);if(Ce)throw Ce;n(je||[]);const{data:Be,error:$e}=await We.from("workers").select("id, name").eq("organization_id",ce.id);if($e)throw $e;i(Be||[]);const{data:et,error:Je}=await We.from("services").select("*").eq("organization_id",ce.id);if(Je)throw Je;o(et||[])}catch(je){console.error("Error loading data:",je),pe({type:"error",title:"Error",message:"Failed to load required data"})}},De=async je=>{try{const{data:Ce,error:Be}=await We.from("worker_projects").select(`
          id,
          name,
          price,
          worker_id
        `).eq("worker_id",je).eq("status","active");if(Be)throw Be;u($e=>({...$e,[je]:Ce||[]}))}catch(Ce){console.error("Error loading worker projects:",Ce),pe({type:"error",title:"Error",message:"Failed to load worker projects"})}},Oe=async()=>{var je;if(!ce||!d||m.length===0){pe({type:"error",title:"Error",message:"Please select a client and add at least one service to the order"});return}_(!0);try{const{data:Ce,error:Be}=await We.rpc("create_order",{p_organization_id:ce.id,p_client_id:d.id,p_description:P.description.trim()||null,p_due_date:P.due_date||null,p_total_amount:le,p_workers:v.filter($e=>$e.worker_id&&$e.project_id).map($e=>({worker_id:$e.worker_id,project_id:$e.project_id})),p_services:m.map(({service:$e,quantity:et})=>({service_id:$e.id,quantity:et,cost:$e.cost*et})),p_custom_fields:h});if(Be)throw Be;if(!Ce)throw new Error("Failed to create order");if(P.initial_payment!==null&&P.initial_payment>0&&P.payment_method){const{error:$e}=await We.rpc("record_payment",{p_organization_id:ce.id,p_order_id:Ce.id,p_amount:P.initial_payment,p_payment_method:P.payment_method,p_payment_reference:P.payment_reference,p_recorded_by:(je=(await We.auth.getUser()).data.user)==null?void 0:je.id});if($e)throw $e}H(Ce),F(!0),pe({type:"success",title:"Order Created",message:"The order has been created successfully."}),t()}catch(Ce){console.error("Error creating order:",Ce),pe({type:"error",title:"Error",message:Ce instanceof Error?Ce.message:"Failed to create order. Please try again."})}finally{_(!1)}};r.filter(je=>je.name.toLowerCase().includes(z.toLowerCase()));const Fe=a.filter(je=>je.name.toLowerCase().includes(E.toLowerCase())),ve=s.filter(je=>je.name.toLowerCase().includes(Z.toLowerCase())),me=(je,Ce,Be)=>{g($e=>{const et=$e.find(Je=>Je.service.id===je.id);return Ce==="add"&&!et?[...$e,{service:je,quantity:1}]:Ce==="remove"?$e.filter(Je=>Je.service.id!==je.id):Ce==="update"&&Be!==void 0?$e.map(Je=>Je.service.id===je.id?{...Je,quantity:Math.max(1,Be)}:Je):$e})},le=m.reduce((je,{service:Ce,quantity:Be})=>je+Ce.cost*Be,0),be=(je,Ce)=>{const Be=[...v];Be[Ce]={...Be[Ce],worker_id:je.id,project_id:""},x(Be),R(""),q(!1),W(null),De(je.id)};return T&&M?c.jsx(cE,{orderId:M.id,onClose:e}):c.jsxs("div",{className:`h-full flex flex-col ${ne(Q,"modal","background")} max-w-[450px] mx-auto overflow-y-auto`,children:[c.jsxs("div",{className:`flex items-center justify-between px-4 py-3 border-b ${ne(Q,"border","primary")}`,children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("h2",{className:`text-lg font-semibold ${ne(Q,"text","primary")}`,children:"Create Order"})}),c.jsx("button",{type:"button",onClick:e,className:`p-1.5 rounded-full ${ne(Q,"interactive","hover","background")} ${ne(Q,"text","accent")} ${ne(Q,"interactive","hover","text")} transition-colors`,children:c.jsx(dr,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"p-4 space-y-6",children:[c.jsx("section",{className:"space-y-6",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"space-y-2",children:c.jsx(_W,{onClientSelect:je=>{f(je),J((je==null?void 0:je.name)||"")},onCustomFieldsSelect:p,selectedClient:d,selectedCustomFields:h})}),(d==null?void 0:d.custom_fields)&&d.custom_fields.length>0&&c.jsxs("div",{className:`space-y-2 p-4 rounded-lg border ${ne(Q,"border","primary")} ${ne(Q,"background","secondary")}`,children:[c.jsx("label",{className:`block text-sm font-medium ${ne(Q,"text","secondary")}`,children:"Custom Fields"}),c.jsx("div",{className:"space-y-2",children:d.custom_fields.map(je=>c.jsxs("label",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",checked:h.includes(je.id),onChange:Ce=>{Ce.target.checked?p(Be=>[...Be,je.id]):p(Be=>Be.filter($e=>$e!==je.id))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 h-3 w-3"}),c.jsx("span",{className:`text-xs ${ne(Q,"text","tertiary")}`,children:je.title})]},je.id))})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("h4",{className:`text-sm mt-4 font-semibold ${ne(Q,"text","primary")}`,children:"Add Workers"}),c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("button",{type:"button",onClick:()=>x([...v,{worker_id:"",project_id:""}]),className:`inline-flex items-center px-2 py-1 mt-2 border ${ne(Q,"border","primary")} rounded-md text-sm font-medium ${ne(Q,"text","primary")} ${ne(Q,"background","secondary")} hover:${ne(Q,"background","accent")}`,children:[c.jsx(na,{className:"h-3 w-3 mr-1"}),"Add"]})}),v.map((je,Ce)=>{var Be,$e;return c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx("input",{type:"text",value:je.worker_id?((Be=a.find(et=>et.id===je.worker_id))==null?void 0:Be.name)||"":E,onChange:et=>{if(je.worker_id){const Je=[...v];Je[Ce]={...Je[Ce],worker_id:"",project_id:""},x(Je)}R(et.target.value),q(!0),W(Ce)},onFocus:()=>{je.worker_id||(q(!0),W(Ce))},placeholder:"Search for a worker",className:`block w-full px-2 py-1.5 text-xs border ${ne(Q,"border","primary")} rounded-md ${ne(Q,"background","secondary")} ${ne(Q,"text","primary")}`}),je.worker_id&&c.jsx("button",{type:"button",onClick:()=>{const et=[...v];et[Ce]={...et[Ce],worker_id:"",project_id:""},x(et)},className:"absolute right-8 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.jsx(dr,{className:"h-3.5 w-3.5"})}),c.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none",children:c.jsx(Fc,{className:"h-3.5 w-3.5 text-gray-400"})}),B&&ee===Ce&&Fe.length>0&&c.jsx("div",{className:`absolute z-10 mt-1 w-full rounded-md shadow-lg ${ne(Q,"background","secondary")} border ${ne(Q,"border","primary")} max-h-60 overflow-auto`,children:Fe.map(et=>c.jsx("div",{onClick:()=>be(et,Ce),className:`px-2.5 py-1.5 text-xs cursor-pointer ${ne(Q,"text","primary")} hover:bg-blue-50 hover:text-blue-700`,children:et.name},et.id))})]}),c.jsx("div",{className:"flex-1",children:c.jsxs("select",{value:je.project_id||"",onChange:et=>{const Je=[...v];Je[Ce].project_id=et.target.value,x(Je)},disabled:!je.worker_id,className:`block w-full px-2 py-1.5 text-xs border ${ne(Q,"border","primary")} rounded-md ${ne(Q,"background","secondary")} ${ne(Q,"text","primary")} disabled:opacity-60`,children:[c.jsx("option",{value:"",children:"Select Project"}),je.worker_id&&(($e=l[je.worker_id])==null?void 0:$e.map(et=>c.jsxs("option",{value:et.id,children:[et.name," - ",Ae," ",et.price.toFixed(2)]},et.id)))]})}),c.jsx("button",{type:"button",onClick:()=>{const et=v.filter((Je,St)=>St!==Ce);x(et)},className:`p-1 ${ne(Q,"text","muted")} hover:text-red-500 rounded-full`,children:c.jsx(dr,{className:"h-4 w-4"})})]},Ce)})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("h4",{className:`text-[16px] font-semibold ${ne(Q,"text","primary")}`,children:"Order Details"}),c.jsx("label",{className:`block mt-2 text-sm font-medium ${ne(Q,"text","secondary")} mb-1`,children:"Description"}),c.jsx("div",{className:"relative",children:c.jsx("textarea",{value:P.description,onChange:je=>A(Ce=>({...Ce,description:je.target.value})),rows:2,className:`block w-full px-3 py-2 text-xs border ${ne(Q,"border","primary")} rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-500 resize-none ${ne(Q,"background","secondary")} ${ne(Q,"text","primary")}`,placeholder:"Order description"})}),c.jsx("label",{className:`block mt-2 text-sm font-medium ${ne(Q,"text","secondary")} mb-1`,children:"Due Date"}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"date",value:P.due_date,onChange:je=>A(Ce=>({...Ce,due_date:je.target.value})),min:jt(new Date,"yyyy-MM-dd"),onClick:je=>{je.target.showPicker()},className:`block w-full px-3 py-1.5 text-xs border ${ne(Q,"border","primary")} rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-500 ${ne(Q,"background","secondary")} ${ne(Q,"text","primary")} cursor-pointer`})})]})]})}),c.jsxs("section",{children:[c.jsx("div",{className:"flex items-center space-x-3",children:c.jsx("h3",{className:`text-base mb-2 font-semibold ${ne(Q,"text","primary")}`,children:"Services"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx("input",{type:"text",value:Z,onChange:je=>{re(je.target.value),de(!0)},onFocus:()=>de(!0),placeholder:"Search for a service",className:`w-full rounded-lg border ${ne(Q,"border","primary")} ${ne(Q,"background","secondary")} px-3 py-2 text-sm ${ne(Q,"text","primary")} shadow-sm hover:border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`}),c.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none",children:c.jsx(Fc,{className:"h-4 w-4 text-gray-400"})})]}),c.jsx("button",{type:"button",onClick:()=>de(!O),className:`ml-2 p-1.5 rounded-lg ${ne(Q,"background","secondary")} ${ne(Q,"text","primary")} border ${ne(Q,"border","primary")}`,children:c.jsx(Ad,{className:"h-4 w-4"})})]}),O&&ve.length>0&&c.jsx("div",{className:`absolute z-10 mt-1 w-full rounded-lg shadow-lg ${ne(Q,"background","secondary")} border ${ne(Q,"border","primary")} max-h-60 overflow-auto`,children:ve.map(je=>c.jsxs("div",{onClick:()=>{me(je,"add"),re(""),de(!1)},className:`px-3 py-2 text-sm cursor-pointer ${ne(Q,"text","primary")} hover:bg-blue-50 hover:text-blue-700 flex justify-between items-center`,children:[c.jsx("span",{children:je.name}),c.jsxs("span",{className:`${ne(Q,"text","muted")}`,children:[Ae," ",je.cost.toFixed(2)]})]},je.id))})]}),c.jsx("div",{className:"space-y-2",children:m.length===0?c.jsx("div",{className:`text-center pb-4 text-sm ${ne(Q,"text","muted")}`,children:"No services selected. Search and add services above."}):m.map(({service:je,quantity:Ce})=>c.jsx("div",{className:"p-3 rounded-lg border border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-blue-700 dark:text-blue-400",children:je.name}),c.jsxs("p",{className:`text-sm ${ne(Q,"text","muted")}`,children:[Ae," ",je.cost.toFixed(2)]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{type:"button",onClick:()=>me(je,"update",Ce-1),className:`p-1 rounded-full ${ne(Q,"interactive","hover","background")} transition-colors`,children:c.jsx(hW,{className:"h-4 w-4"})}),c.jsx("input",{type:"number",min:"1",value:Ce,onChange:Be=>{const $e=parseInt(Be.target.value)||1;me(je,"update",$e)},className:`w-16 text-center text-sm border ${ne(Q,"border","primary")} rounded-lg ${ne(Q,"background","secondary")} ${ne(Q,"text","primary")}`}),c.jsx("button",{type:"button",onClick:()=>me(je,"update",Ce+1),className:`p-1 rounded-full ${ne(Q,"interactive","hover","background")} transition-colors`,children:c.jsx(na,{className:"h-4 w-4"})})]}),c.jsx("button",{type:"button",onClick:()=>me(je,"remove"),className:"p-1 text-red-400 hover:text-red-600 dark:text-red-400 dark:hover:text-red-300",children:c.jsx(dr,{className:"h-4 w-4"})})]})]})},je.id))})]})]}),c.jsxs("section",{children:[c.jsx("div",{className:"flex mb-2 items-center space-x-3",children:c.jsx("h3",{className:`text-base font-semibold ${ne(Q,"text","primary")}`,children:"Payment Details"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:`p-2 ${ne(Q,"background","accent")} border ${ne(Q,"border","primary")} rounded-lg`,children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:`text-sm font-medium ${ne(Q,"text","secondary")}`,children:"Total Amount"}),c.jsxs("span",{className:`text-sm font-medium ${ne(Q,"text","primary")}`,children:[Ae," ",le.toFixed(2)]})]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Td,{className:`h-4 w-4 ${ne(Q,"text","accent")}`}),c.jsx("h3",{className:`text-sm font-bold ${ne(Q,"text","secondary")}`,children:"Initial Payment"})]}),c.jsxs("div",{className:`space-y-3 ${ne(Q,"background","secondary")} rounded-lg p-3`,children:[c.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${ne(Q,"text","secondary")} mb-1.5`,children:"Payment Amount"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx("span",{className:`text-sm ${ne(Q,"text","muted")}`,children:Ae})}),c.jsx("input",{type:"number",min:"0",max:le,step:"0.01",value:P.initial_payment===null?"":P.initial_payment,onChange:je=>{const Ce=je.target.value===""?null:Math.max(0,parseFloat(je.target.value)||0);Ce!==null&&Ce>le?(pe({type:"error",title:"Invalid Payment Amount",message:`Payment amount cannot exceed the total amount of ${Ae} ${le.toFixed(2)}`}),A(Be=>({...Be,initial_payment:le}))):A(Be=>({...Be,initial_payment:Ce}))},className:`block w-full pl-7 pr-3 py-2 text-sm border ${ne(Q,"border","primary")} rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 ${ne(Q,"background","secondary")} ${ne(Q,"text","primary")}`,placeholder:"0.00"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:`block text-sm font-medium ${ne(Q,"text","secondary")} mb-1.5`,children:["Payment Method ",P.initial_payment!==null&&P.initial_payment>0?"*":""]}),c.jsxs("select",{value:P.payment_method,onChange:je=>A(Ce=>({...Ce,payment_method:je.target.value})),className:`block w-full px-3 py-2 text-sm border ${ne(Q,"border","primary")} rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 ${ne(Q,"background","secondary")} ${ne(Q,"text","primary")}`,required:P.initial_payment!==null&&P.initial_payment>0,children:[c.jsx("option",{value:"",children:"Select Payment Method"}),Object.entries(lE).map(([je,Ce])=>c.jsx("option",{value:je,children:Ce},je))]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${ne(Q,"text","secondary")} mb-1.5`,children:"Payment Reference"}),c.jsx("input",{type:"text",value:P.payment_reference||"",onChange:je=>A(Ce=>({...Ce,payment_reference:je.target.value})),className:`block w-full px-3 py-2 text-sm border ${ne(Q,"border","primary")} rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 ${ne(Q,"background","secondary")} ${ne(Q,"text","primary")}`,placeholder:"e.g., Transaction ID, Check number"})]}),c.jsx("div",{className:`mt-2 p-2 rounded-lg ${le-(P.initial_payment??0)===0?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium",children:"Outstanding Balance"}),c.jsxs("span",{className:`text-sm font-semibold ${le-(P.initial_payment??0)===0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[Ae," ",(le-(P.initial_payment??0)).toFixed(2)]})]})})]})]})]})]})]})}),c.jsxs("div",{className:`flex justify-end gap-3 py-4 px-4 border-t ${ne(Q,"border","primary")}`,children:[c.jsx("button",{type:"button",onClick:e,className:`px-4 py-2 text-sm font-medium ${ne(Q,"text","muted")} border ${ne(Q,"border","primary")} rounded-lg hover:${ne(Q,"background","accent")}`,children:"Cancel"}),c.jsx("button",{type:"button",onClick:Oe,disabled:N||!d||m.length===0,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400 dark:disabled:bg-gray-600 flex items-center",children:N?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Create Order"})]})]})}const Iy=({currentDate:e,dateFilterType:t,onDateChange:r,onFilterTypeChange:n,itemCount:a=0,itemLabel:i="items",className:s=""})=>{const{theme:o,getThemeStyle:l}=Yt();L.useEffect(()=>{const g=`dateFilterType_${window.location.pathname}`,v=localStorage.getItem(g);v&&["day","week","month","year"].includes(v)&&n(v)},[]);const u=g=>{const v=`dateFilterType_${window.location.pathname}`;localStorage.setItem(v,g),n(g)},d=()=>{switch(t){case"day":return{start:new Date(e.setHours(0,0,0,0)),end:new Date(e.setHours(23,59,59,999))};case"week":return{start:Qo(e,{weekStartsOn:1}),end:gm(e,{weekStartsOn:1})};case"month":return{start:Fy(e),end:My(e)};case"year":return{start:mm(e),end:Ly(e)}}},{start:f,end:h}=d(),p=()=>{switch(t){case"day":return jt(e,"MMMM d, yyyy");case"week":return`Week ${bW(e,{weekStartsOn:1})}, ${Ase(e)}`;case"month":return jt(e,"MMMM yyyy");case"year":return jt(e,"yyyy")}},m=()=>{switch(t){case"day":return jt(e,"EEEE");case"week":return`${jt(f,"MMM d")} - ${jt(h,"MMM d")}`;case"month":return`${jt(f,"MMM d")} - ${jt(h,"MMM d")}`;case"year":return`${jt(f,"MMM d, yyyy")} - ${jt(h,"MMM d, yyyy")}`}};return c.jsx("div",{className:`mb-4 ${s}`,children:c.jsxs("div",{className:"flex items-center  flex-col sm:flex-row",children:[c.jsxs("div",{className:"flex items-center space-x-2  flex-col sm:flex-row",children:[c.jsxs("div",{className:`flex items-center ${l(o,"background","primary")} rounded-md border ${l(o,"border","primary")} shadow-sm`,children:[c.jsx("button",{onClick:()=>r("prev"),className:`p-1 ${l(o,"interactive","hover","background")} rounded-l-md transition-colors duration-200 border-r ${l(o,"border","primary")}`,"aria-label":"Previous period",children:c.jsx(oE,{className:`h-3.5 w-3.5 ${l(o,"text","tertiary")}`})}),c.jsxs("div",{className:"px-2 py-1 flex items-center",children:[c.jsx("span",{className:`font-medium text-xs ${l(o,"text","primary")}`,children:p()}),c.jsx("div",{className:`ml-1.5 border-l ${l(o,"border","primary")} pl-1.5 mt-[-3px] `,children:c.jsxs("select",{value:t,onChange:g=>u(g.target.value),className:`text-xs ${l(o,"background","primary")} outline-none ${l(o,"text","primary")}`,children:[c.jsx("option",{value:"day",children:"Day"}),c.jsx("option",{value:"week",children:"Week"}),c.jsx("option",{value:"month",children:"Month"}),c.jsx("option",{value:"year",children:"Year"})]})})]}),c.jsx("button",{onClick:()=>r("next"),className:`p-1 ${l(o,"interactive","hover","background")} rounded-r-md transition-colors duration-200 border-l ${l(o,"border","primary")}`,disabled:Aj(h,new Date),"aria-label":"Next period",children:c.jsx(vp,{className:`h-3.5 w-3.5 ${l(o,"text","tertiary")}`})})]}),c.jsx("div",{className:`text-[10px] ${l(o,"text","muted")} ml-1.5`,children:m()})]}),a!==void 0&&c.jsxs("div",{className:`ml-2 text-[10px] font-medium px-1.5 py-0.5 rounded-md ${l(o,"background","accent")} ${l(o,"text","tertiary")}`,children:[a," ",i]})]})})};function Fse(){var pe,Q;const[e,t]=EU(),[r,n]=L.useState([]),[a,i]=L.useState([]),[s,o]=L.useState(!0),[l,u]=L.useState(""),[d,f]=L.useState("all"),[h,p]=L.useState(e.get("showCreateForm")==="true"),[m,g]=L.useState(new Date),[v,x]=L.useState("week"),[y,b]=L.useState(!1),[N,_]=L.useState(!1),[C,k]=L.useState(null),[w,S]=L.useState(!1),[P,A]=L.useState(!1),{organization:T}=ir(),{confirm:F,addToast:M}=Or(),{theme:H,getThemeStyle:z}=Yt(),Y=Bl(),G=T!=null&&T.currency?((pe=sn[T.currency])==null?void 0:pe.symbol)||T.currency:"";L.useEffect(()=>{const ne=()=>{b(window.innerWidth<640)};return ne(),window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[]),L.useEffect(()=>{const ne=Ae=>{Ae.target.closest(".status-dropdown-container")||_(!1)};return document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[]);const I=()=>{const ne=new Date(m);switch(v){case"day":return{start:new Date(new Date(ne).setHours(0,0,0,0)),end:new Date(new Date(ne).setHours(23,59,59,999))};case"week":return{start:Qo(ne,{weekStartsOn:1}),end:gm(ne,{weekStartsOn:1})};case"month":return{start:Fy(ne),end:My(ne)};case"year":return{start:mm(ne),end:Ly(ne)}}},{start:X,end:J}=I();L.useEffect(()=>{T&&E()},[T,m,v,r,d,l]),L.useEffect(()=>{T&&R()},[T==null?void 0:T.id]),L.useEffect(()=>{p(e.get("showCreateForm")==="true")},[e]);const E=()=>{const ne=r.filter(Ae=>{var ve,me,le;const Ee=!l||((ve=Ae.order_number)==null?void 0:ve.toLowerCase().includes(l.toLowerCase()))||((le=(me=Ae.client)==null?void 0:me.name)==null?void 0:le.toLowerCase().includes(l.toLowerCase())),De=d==="all"||Ae.status===d;if(l)return Ee&&De;const Oe=new Date(Ae.created_at);return Oe>=X&&Oe<=J&&De&&Ee});i(ne)},R=async()=>{if(T!=null&&T.id)try{const{data:ne,error:Ae}=await We.from("orders").select(`
          *,
          client:clients(name, image_url),
          workers:order_workers(
            id,
            worker_id,
            worker:workers(name, image),
            project_id,
            project:worker_projects(name),
            status
          ),
          services:order_services(
            id,
            service_id,
            service:services(name),
            quantity,
            cost
          ),
          outstanding_balance,
          payment_status
        `).eq("organization_id",T.id).order("created_at",{ascending:!1});if(Ae)throw Ae;n(ne||[])}catch(ne){console.error("Error loading orders:",ne),M({type:"error",title:"Error",message:"Failed to load orders"})}finally{o(!1)}},B=ne=>{f("all"),g(Ae=>{const Ee=new Date(Ae);switch(v){case"day":return ne==="prev"?Lc(Ee,-1):Lc(Ee,1);case"week":return ne==="prev"?ld(Ee,-1):ld(Ee,1);case"month":return ne==="prev"?Ic(Ee,-1):Ic(Ee,1);case"year":return ne==="prev"?cd(Ee,-1):cd(Ee,1)}})},q=ne=>{u(ne)},K=ne=>{f("all"),x(ne)},ae=a,ee=()=>{p(!1),e.delete("showCreateForm"),t(e)},W=(ne,Ae)=>{Ae.stopPropagation(),k(ne),S(!0)},Z=(ne,Ae)=>{Ae.stopPropagation(),k(ne),A(!0)};if(s)return c.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const re=ne=>a.filter(Ae=>Ae.status===ne).length,O=ne=>ne==="all"?`All (${a.length})`:`${wl[ne]} (${re(ne)})`,de=ne=>{if(!ne)return"";const Ae=ne.split(" ");return Ae.length===1?Ae[0].charAt(0).toUpperCase():(Ae[0].charAt(0)+Ae[1].charAt(0)).toUpperCase()},ce=ne=>{const Ae=["bg-blue-500","bg-pink-500","bg-purple-500","bg-green-500","bg-yellow-500","bg-red-500","bg-indigo-500","bg-teal-500"];if(!ne)return Ae[0];let Ee=0;for(let De=0;De<ne.length;De++)Ee=ne.charCodeAt(De)+((Ee<<5)-Ee);return Ae[Math.abs(Ee)%Ae.length]};return c.jsxs("div",{className:`min-h-screen ${z(H,"background","primary")}`,children:[c.jsxs("div",{className:"py-4 px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-6",children:[c.jsx("h1",{className:`text-xl sm:text-2xl font-medium ${z(H,"text","primary")}`,children:"Orders"}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto",children:[c.jsx("div",{className:"relative w-full sm:w-auto sm:ml-2",children:c.jsxs("div",{className:`flex items-center px-3 py-1 border rounded-md focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 ${z(H,"background","secondary")} ${z(H,"border","primary")}`,children:[c.jsx(Ad,{className:`h-4 w-4 ${z(H,"text","muted")}`}),c.jsx("input",{type:"text",value:l,onChange:ne=>q(ne.target.value),placeholder:"Search orders...",className:`ml-2 flex-1 outline-none bg-transparent text-sm ${z(H,"text","primary")}`})]})}),c.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[c.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center justify-center px-2 py-1.5 border border-transparent rounded-lg shadow-sm text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200 flex-1 sm:flex-none",children:[c.jsx(na,{className:"h-4 w-4 mr-1"}),"Create"]}),c.jsxs(Wr,{to:"/dashboard/orders/services",className:"inline-flex items-center justify-center px-2 py-1.5 border border-transparent rounded-lg shadow-sm text-xs font-medium text-white bg-green-600 hover:bg-green-700 transition-colors duration-200 flex-1 sm:flex-none",children:[c.jsx(pa,{className:"h-4 w-4 mr-2"}),"Manage Services"]})]})]})]}),c.jsx("div",{className:"mb-4 sm:mb-6",children:c.jsx(Iy,{currentDate:m,dateFilterType:v,onDateChange:B,onFilterTypeChange:K,itemCount:a.length,itemLabel:"orders"})}),c.jsxs("div",{className:`border-b ${z(H,"border","primary")} mb-4 sm:mb-6`,children:[c.jsxs("div",{className:"block sm:hidden status-dropdown-container",children:[c.jsxs("button",{onClick:()=>_(!N),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md ${z(H,"background","secondary")} ${z(H,"border","primary")}`,children:[c.jsx("span",{className:`text-sm font-medium ${z(H,"text","primary")}`,children:O(d)}),c.jsx(Fc,{className:`h-4 w-4 ${z(H,"text","muted")} transition-transform ${N?"rotate-180":""}`})]}),N&&c.jsx("div",{className:`absolute z-10 mt-1 w-full rounded-md shadow-lg ${z(H,"background","secondary")} ${z(H,"border","primary")} border`,children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{f("all"),_(!1)},className:`block w-full text-left px-3 py-2 text-sm ${d==="all"?"bg-blue-50 text-blue-700":z(H,"text","primary")}`,children:["All (",a.length,")"]}),c.jsxs("button",{onClick:()=>{f("pending"),_(!1)},className:`block w-full text-left px-3 py-2 text-sm ${d==="pending"?"bg-blue-50 text-blue-700":z(H,"text","primary")}`,children:["Pending (",re("pending"),")"]}),c.jsxs("button",{onClick:()=>{f("in_progress"),_(!1)},className:`block w-full text-left px-3 py-2 text-sm ${d==="in_progress"?"bg-blue-50 text-blue-700":z(H,"text","primary")}`,children:["Working (",re("in_progress"),")"]}),c.jsxs("button",{onClick:()=>{f("completed"),_(!1)},className:`block w-full text-left px-3 py-2 text-sm ${d==="completed"?"bg-blue-50 text-blue-700":z(H,"text","primary")}`,children:["Complete (",re("completed"),")"]}),c.jsxs("button",{onClick:()=>{f("cancelled"),_(!1)},className:`block w-full text-left px-3 py-2 text-sm ${d==="cancelled"?"bg-blue-50 text-blue-700":z(H,"text","primary")}`,children:["Cancelled (",re("cancelled"),")"]})]})})]}),c.jsxs("nav",{className:"hidden sm:flex -mb-px space-x-2 min-w-max pb-1 overflow-x-auto","aria-label":"Tabs",children:[c.jsxs("button",{onClick:()=>f("all"),className:`whitespace-nowrap py-2 sm:py-3 px-1 border-b-2 font-medium text-xs ${d==="all"?"border-blue-500 text-blue-600":`border-transparent ${z(H,"text","muted")} hover:text-gray-900 dark:hover:text-gray-100 hover:border-gray-300`}`,children:["All",c.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${d==="all"?"bg-blue-100 text-blue-800":`${z(H,"background","accent")} ${z(H,"text","tertiary")}`}`,children:a.length})]}),c.jsxs("button",{onClick:()=>f("pending"),className:`whitespace-nowrap py-2 sm:py-3 px-1 border-b-2 font-medium text-xs ${d==="pending"?"border-blue-500 text-blue-600":`border-transparent ${z(H,"text","muted")} hover:text-gray-900 dark:hover:text-gray-100 hover:border-gray-300`}`,children:["Pending",c.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${d==="pending"?"bg-blue-100 text-blue-800":`${z(H,"background","accent")} ${z(H,"text","tertiary")}`}`,children:re("pending")})]}),c.jsxs("button",{onClick:()=>f("in_progress"),className:`whitespace-nowrap py-2 sm:py-3 px-1 border-b-2 font-medium text-xs ${d==="in_progress"?"border-blue-500 text-blue-600":`border-transparent ${z(H,"text","muted")} hover:text-gray-900 dark:hover:text-gray-100 hover:border-gray-300`}`,children:["Working",c.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${d==="in_progress"?"bg-blue-100 text-blue-800":`${z(H,"background","accent")} ${z(H,"text","tertiary")}`}`,children:re("in_progress")})]}),c.jsxs("button",{onClick:()=>f("completed"),className:`whitespace-nowrap py-2 sm:py-3 px-1 border-b-2 font-medium text-xs ${d==="completed"?"border-blue-500 text-blue-600":`border-transparent ${z(H,"text","muted")} hover:text-gray-900 dark:hover:text-gray-100 hover:border-gray-300`}`,children:["Complete",c.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${d==="completed"?"bg-blue-100 text-blue-800":`${z(H,"background","accent")} ${z(H,"text","tertiary")}`}`,children:re("completed")})]}),c.jsxs("button",{onClick:()=>f("cancelled"),className:`whitespace-nowrap py-2 sm:py-3 px-1 border-b-2 font-medium text-xs ${d==="cancelled"?"border-blue-500 text-blue-600":`border-transparent ${z(H,"text","muted")} hover:text-gray-900 dark:hover:text-gray-100 hover:border-gray-300`}`,children:["Cancelled",c.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${d==="cancelled"?"bg-blue-100 text-blue-800":`${z(H,"background","accent")} ${z(H,"text","tertiary")}`}`,children:re("cancelled")})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:s?c.jsxs("div",{className:`rounded-lg shadow-sm p-6 sm:p-8 text-center ${z(H,"background","secondary")} lg:col-span-2`,children:[c.jsx("div",{className:"animate-spin rounded-full h-10 w-10 sm:h-12 sm:w-12 mx-auto border-b-2 border-blue-600"}),c.jsx("p",{className:`mt-3 sm:mt-4 ${z(H,"text","muted")}`,children:"Loading orders..."})]}):ae.length===0?c.jsxs("div",{className:"rounded-lg shadow-sm p-6 sm:p-8 text-center lg:col-span-2",children:[c.jsx("div",{className:`mx-auto h-10 w-10 sm:h-12 sm:w-12 ${z(H,"text","muted")}`,children:c.jsx(pa,{className:"h-10 w-10 sm:h-12 sm:w-12"})}),c.jsx("h3",{className:`mt-2 text-sm font-medium ${z(H,"text","primary")}`,children:"No orders found"}),c.jsx("p",{className:`mt-1 text-xs sm:text-sm ${z(H,"text","muted")}`,children:a.length>0?`Found ${a.length} orders, but none match the current filter '${d}'.`:"No orders found in the database for this time period."})]}):ae.map(ne=>{var Ae,Ee,De,Oe,Fe,ve,me,le,be,Pe,je;return c.jsx("div",{onClick:()=>Y(`/dashboard/orders/${ne.id}`),className:"block cursor-pointer",children:c.jsx("div",{className:`border-l-4 border rounded-lg overflow-hidden hover:bg-gray-100 dark:hover:bg-gray-700 transition-shadow ${ne.status==="cancelled"?"opacity-75":""} ${ne.status==="cancelled"?"border-l-red-400":ne.status==="pending"?"border-l-yellow-500":ne.status==="in_progress"?"border-l-blue-200":"border-l-green-200"} ${z(H,"border","secondary")}`,children:c.jsxs("div",{className:"px-3 sm:px-4 py-2 sm:py-3",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0 mr-2 sm:mr-3",children:(Ae=ne.client)!=null&&Ae.image_url?c.jsx("div",{className:`h-7 w-7 sm:h-8 sm:w-8 rounded-full overflow-hidden ${ne.status==="cancelled"?"opacity-75":""}`,children:c.jsx("img",{src:ne.client.image_url,alt:((Ee=ne.client)==null?void 0:Ee.name)||"Client",className:"h-full w-full object-cover"})}):c.jsx("div",{className:`h-7 w-7 sm:h-8 sm:w-8 rounded-full ${ce(((De=ne.client)==null?void 0:De.name)||"")} flex items-center justify-center text-xs sm:text-sm text-white font-medium ${ne.status==="cancelled"?"opacity-75":""}`,children:de(((Oe=ne.client)==null?void 0:Oe.name)||"")})}),c.jsxs("div",{children:[c.jsx("h3",{className:`text-sm sm:text-base font-semibold ${z(H,"text","primary")} ${ne.status==="cancelled"?"line-through":""}`,children:((Fe=ne.client)==null?void 0:Fe.name)||"Unknown Client"}),c.jsx("p",{className:`text-xs ${z(H,"text","muted")} ${ne.status==="cancelled"?"line-through":""}`,children:ne.services&&ne.services.length>0?(((me=(ve=ne.services[0])==null?void 0:ve.service)==null?void 0:me.name)||"Unknown Service")+(ne.services.length>1?` (+${ne.services.length-1})`:""):"No services"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`text-xs sm:text-sm font-medium ${ne.status==="cancelled"?`${z(H,"text","muted")} line-through`:"text-blue-600"}`,children:ne.order_number}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:Ce=>W(ne,Ce),className:"p-1 text-blue-600 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 hover:text-blue-600 transition-colors",title:"Print Receipt",children:c.jsx($y,{className:"h-4 w-4"})}),ne.payment_status!=="paid"&&ne.status!=="cancelled"&&c.jsx("button",{onClick:Ce=>Z(ne,Ce),className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 text-green-600 hover:text-green-600 transition-colors",title:"Make Payment",children:c.jsx(Td,{className:"h-4 w-4"})})]})]})]}),c.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center py-2 border-t border-b ${z(H,"border","primary")}`,children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-2 sm:mb-0",children:[c.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[c.jsx(yc,{className:`h-3 w-3 sm:h-3.5 sm:w-3.5 ${ne.status==="cancelled"?"text-gray-400":""}`}),c.jsxs("span",{className:ne.status==="cancelled"?"line-through":"",children:["Created: ",jt(new Date(ne.created_at),"MMM d, yyyy")]})]}),ne.due_date&&c.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[c.jsx(yc,{className:`h-3 w-3 sm:h-3.5 sm:w-3.5 ${ne.status==="cancelled"?"text-gray-400":""}`}),c.jsxs("span",{className:ne.status==="cancelled"?"line-through":"",children:["Due: ",jt(new Date(ne.due_date),"MMM d, yyyy")]})]})]}),c.jsx("span",{className:`inline-flex items-center px-2 w-fit py-0.5 rounded-full text-xs font-medium ${(le=s$[ne.status])==null?void 0:le.bg} ${(be=s$[ne.status])==null?void 0:be.text}`,children:wl[ne.status]||"Unknown Status"})]}),c.jsxs("div",{className:"flex justify-between sm:items-start pt-2",children:[c.jsx("div",{className:"mb-2 sm:mb-0 max-w-[60%]",children:((Pe=ne.workers)==null?void 0:Pe.length)>0?c.jsx("div",{children:c.jsxs("div",{className:"flex items-center",children:[c.jsxs("div",{className:"flex -space-x-1 mr-2",children:[ne.workers.slice(0,3).map((Ce,Be)=>c.jsx("div",{className:`inline-block  flex-shrink-0 h-5 w-5 sm:h-6 sm:w-6 rounded-full overflow-hidden ${ne.status==="cancelled"?"opacity-75":""}`,children:Ce.worker.image?c.jsx("img",{src:Ce.worker.image,alt:Ce.worker.name,className:"h-full w-full object-cover"}):c.jsx("div",{className:`h-full w-full ${ce(Ce.worker.name)} flex items-center justify-center text-xs text-white font-medium`,children:de(Ce.worker.name)})},Be)),ne.workers.length>3&&c.jsxs("div",{className:`inline-block h-5 w-5 sm:h-6 sm:w-6 rounded-full ${z(H,"background","accent")} flex items-center justify-center text-xs font-medium ring-2 ring-white ${ne.status==="cancelled"?"opacity-75":""}`,children:["+",ne.workers.length-3]})]}),ne.workers.length===1?c.jsxs("div",{className:"flex flex-wrap items-center",children:[c.jsx("span",{className:`text-xs ${z(H,"text","secondary")} font-medium mr-2 ${ne.status==="cancelled"?"line-through":""}`,children:ne.workers[0].worker.name}),((je=ne.workers[0].project)==null?void 0:je.name)&&c.jsxs("span",{className:`text-xs ${z(H,"text","tertiary")} mr-2 ${ne.status==="cancelled"?"line-through":""}`,children:["• ",ne.workers[0].project.name]}),ne.workers[0].status&&c.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs ${ne.workers[0].status==="active"?"bg-green-100 text-green-800":`${z(H,"background","accent")} ${z(H,"text","tertiary")}`} ${ne.status==="cancelled"?"line-through":""}`,children:ne.workers[0].status})]}):c.jsx("div",{className:"flex items-center",children:c.jsxs("span",{className:`text-xs ${z(H,"text","secondary")} font-medium mr-2 ${ne.status==="cancelled"?"line-through":""}`,children:[ne.workers.length," workers assigned"]})})]})}):c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`h-5 w-5 sm:h-6 sm:w-6 rounded-full ${z(H,"background","accent")} flex items-center justify-center text-xs font-medium mr-2 ${ne.status==="cancelled"?"opacity-75":""}`,children:c.jsx(yp,{className:`h-3 w-3 ${z(H,"text","muted")} ${ne.status==="cancelled"?"opacity-75":""}`})}),c.jsx("span",{className:`text-xs ${z(H,"text","muted")} ${ne.status==="cancelled"?"line-through":""}`,children:"No workers assigned"})]})}),c.jsx("div",{className:"flex items-center gap-3",children:c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:`text-xs sm:text-sm font-medium ${z(H,"text","primary")} ${ne.status==="cancelled"?"line-through":""}`,children:[G," ",ne.total_amount.toFixed(2)]}),c.jsxs("div",{className:`text-xs ${ne.status==="cancelled"?`${z(H,"text","muted")} line-through`:ne.payment_status==="paid"?"text-green-600":ne.payment_status==="partially_paid"?"text-red-700":"text-red-600"}`,children:[G," ",ne.outstanding_balance.toFixed(2),c.jsx("span",{className:`ml-1 hidden sm:block ${ne.status==="cancelled"?z(H,"text","muted"):z(H,"text","tertiary")} text-xs`,children:ne.payment_status==="paid"?"(Paid)":ne.payment_status==="partially_paid"?"(Outstanding)":"(Unpaid)"})]})]})})]})]})})},ne.id)})})]}),h&&c.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",children:c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:`absolute inset-0 ${z(H,"modal","overlay")} transition-opacity`,onClick:ee}),c.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-0 sm:pl-10",children:c.jsx("div",{className:`pointer-events-auto w-screen max-w-full sm:max-w-md transform transition-transform duration-500 ease-in-out ${h?"translate-x-0":"translate-x-full"}`,children:c.jsx("div",{className:`flex h-full flex-col ${z(H,"modal","background")} shadow-xl`,children:c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4",children:c.jsx(kW,{onClose:ee,onSuccess:R})})})})})})]})}),w&&C&&c.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",children:c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:`absolute inset-0 ${z(H,"modal","overlay")} transition-opacity`,onClick:()=>S(!1)}),c.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-0 sm:pl-10",children:c.jsx("div",{className:"pointer-events-auto w-screen max-w-full sm:max-w-md transform transition-transform duration-500 ease-in-out translate-x-0",children:c.jsx("div",{className:`flex h-full flex-col ${z(H,"modal","background")} shadow-xl`,children:c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4",children:c.jsx(cE,{orderId:C.id,onClose:()=>S(!1)})})})})})})]})}),P&&C&&c.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",children:c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:`absolute inset-0 ${z(H,"modal","overlay")} transition-opacity`,onClick:()=>A(!1)}),c.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-0 sm:pl-10",children:c.jsx("div",{className:"pointer-events-auto w-screen max-w-full sm:max-w-md transform transition-transform duration-500 ease-in-out translate-x-0",children:c.jsx("div",{className:`flex h-full flex-col ${z(H,"modal","background")} shadow-xl`,children:c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4",children:c.jsx(bp,{orderId:C.id,orderNumber:C.order_number,clientName:(Q=C.client)==null?void 0:Q.name,outstandingBalance:C.outstanding_balance,onPaymentRecorded:()=>{R(),A(!1)},isOpen:P,onClose:()=>A(!1),currencySymbol:G,orderType:"service_order"})})})})})})]})})]})}function Lse(){var P;const[e,t]=L.useState([]),[r,n]=L.useState(!0),[a,i]=L.useState(""),[s,o]=L.useState(!1),[l,u]=L.useState({name:"",whatsapp:"",image:""}),[d,f]=L.useState(!1),h=L.useRef(null),[p,m]=L.useState(null),{organization:g}=ir(),{confirm:v,addToast:x}=Or(),{theme:y,getThemeStyle:b}=Yt(),N=g?((P=sn[g.currency])==null?void 0:P.symbol)||g.currency:"",_=A=>["image/jpeg","image/jpg","image/png"].includes(A.type)?A.size>5*1024*1024?"Image must be less than 5MB":null:"Please upload a JPG, JPEG, or PNG file",C=A=>{var F;const T=(F=A.target.files)==null?void 0:F[0];if(T){const M=_(T);if(M){x({type:"error",title:"Invalid File",message:M});return}m(T)}},k=async()=>{var A;if(g)try{n(!0);const T=new Date,F=Qo(T,{weekStartsOn:0}),M=gm(T,{weekStartsOn:0}),H=od(T),z=ow(T),[Y,G]=await Promise.all([We.from("workers").select("*").eq("organization_id",g.id).order("name"),We.from("tasks").select("*").eq("organization_id",g.id).gte("created_at",F.toISOString()).lte("created_at",M.toISOString()).not("status","eq","cancelled")]);if(Y.error)throw Y.error;if(G.error)throw G.error;const I=((A=Y.data)==null?void 0:A.map(X=>{var Z;const J=((Z=G.data)==null?void 0:Z.filter(re=>re.worker_id===X.id))||[],E=J.filter(re=>f$(new Date(re.created_at),{start:F,end:M})),R=J.filter(re=>re.status==="completed"),B=E.filter(re=>re.status==="completed"),q=E.filter(re=>re.status==="pending"),K=E.filter(re=>re.status==="in_progress"),ae=R.reduce((re,O)=>re+O.amount,0),ee=E.reduce((re,O)=>re+O.amount,0),W={totalEarnings:ae,weeklyProjectTotal:ee,assignedTasks:q.length,completedTasks:B.length,allTimeTasks:J.length,weeklyTasks:E.length,dailyTasks:J.filter(re=>f$(new Date(re.created_at),{start:H,end:z})).length,inProgressTasks:K.length};return{...X,stats:W}}))||[];t(I)}catch(T){console.error("Error loading workers:",T),x({type:"error",title:"Error",message:"Failed to load workers. Please try again."})}finally{n(!1)}};L.useEffect(()=>{k()},[g]);const w=async()=>{var A;if(!(!g||!l.name.trim()))try{f(!0);let T=null;if(p){const H=_(p);if(H)throw new Error(H);const z=(A=p.name.split(".").pop())==null?void 0:A.toLowerCase(),Y=`${Math.random().toString(36).substring(2)}.${z}`,G=`${g.id}/${Y}`,{error:I}=await We.storage.from("profiles").upload(G,p,{contentType:p.type,cacheControl:"3600",upsert:!1});if(I)throw I;const{data:{publicUrl:X}}=We.storage.from("profiles").getPublicUrl(G);T=X}const{data:F,error:M}=await We.from("workers").insert([{organization_id:g.id,name:l.name.trim(),whatsapp:l.whatsapp.trim()||null,image:T}]).select().single();if(M)throw M;t(H=>[...H,{...F,stats:{totalEarnings:0,weeklyProjectTotal:0,assignedTasks:0,completedTasks:0,allTimeTasks:0,weeklyTasks:0,dailyTasks:0,inProgressTasks:0}}]),u({name:"",whatsapp:"",image:""}),m(null),h.current&&(h.current.value=""),o(!1)}catch(T){console.error("Error adding worker:",T),x({type:"error",title:"Error",message:T instanceof Error?T.message:"Failed to add worker"})}finally{f(!1)}},S=e.filter(A=>A.name.toLowerCase().includes(a.toLowerCase()));return r?c.jsx("div",{className:`min-h-screen flex items-center justify-center ${b(y,"background","primary")}`,children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${b(y,"text","accent")} mx-auto`}),c.jsx("p",{className:`mt-4 ${b(y,"text","secondary")}`,children:"Loading workers..."})]})}):c.jsxs("div",{className:`space-y-4 p-4 min-h-[calc(100vh-50px)] ${b(y,"background","primary")}`,children:[c.jsxs("div",{className:"relative w-full h-40 md:h-48 rounded-lg overflow-hidden mb-4",children:[c.jsx("img",{src:"/images/workers-banner.webp",alt:"Workers Management",className:"w-full h-full object-cover"}),c.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${y==="dark"?"from-blue-900/80":"from-blue-600/70"} to-transparent flex items-center`,children:c.jsxs("div",{className:"p-4 text-white",children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Workers Management"}),c.jsx("p",{className:"mt-1 text-base md:text-lg",children:"Manage your team efficiently"})]})})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[c.jsx("h2",{className:`text-xl font-bold ${b(y,"text","primary")}`,children:"Workers"}),c.jsxs("div",{className:"flex items-center flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[c.jsxs("div",{className:`flex items-center px-3 py-1.5 border w-full sm:w-auto rounded-lg focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 flex-1 sm:flex-initial ${b(y,"border","primary")} ${b(y,"background","secondary")}`,children:[c.jsx(Ad,{className:b(y,"text","muted")}),c.jsx("input",{type:"text",value:a,onChange:A=>i(A.target.value),placeholder:"Search workers...",className:`ml-2 flex-1 outline-none bg-transparent text-sm ${b(y,"text","primary")} placeholder:${b(y,"text","muted")}`})]}),c.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center px-3 w-full sm:w-auto py-1.5 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[c.jsx(na,{className:"h-4 w-4 mr-1"}),"Add Worker"]})]})]}),s&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`fixed inset-0 ${b(y,"modal","overlay")} z-40`,onClick:()=>o(!1)}),c.jsx("div",{className:`mt-0 fixed right-0 top-0 h-screen w-[300px] ${b(y,"background","secondary")} shadow-lg z-50 transform transition-transform duration-300 ease-in-out ${s?"translate-x-0":"translate-x-full"}`,children:c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:`p-4 border-b ${b(y,"border","primary")} flex justify-between items-center`,children:[c.jsx("h3",{className:`text-lg font-medium ${b(y,"text","primary")}`,children:"Add New Worker"}),c.jsx("button",{onClick:()=>o(!1),className:`p-1 rounded-full ${b(y,"interactive","hover","background")}`,children:c.jsx(ps,{className:`h-5 w-5 ${b(y,"text","muted")}`})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${b(y,"text","secondary")}`,children:"Name *"}),c.jsx("input",{type:"text",value:l.name,onChange:A=>u(T=>({...T,name:A.target.value})),className:`mt-1 block w-full rounded-md border py-1.5 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 text-sm ${b(y,"border","primary")} ${b(y,"background","primary")} ${b(y,"text","primary")}`,placeholder:"Enter worker name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${b(y,"text","secondary")}`,children:"WhatsApp Number"}),c.jsx("input",{type:"text",value:l.whatsapp,onChange:A=>u(T=>({...T,whatsapp:A.target.value})),className:`mt-1 block w-full rounded-md border py-1.5 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 text-sm ${b(y,"border","primary")} ${b(y,"background","primary")} ${b(y,"text","primary")}`,placeholder:"Enter WhatsApp number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${b(y,"text","secondary")}`,children:"Profile Image"}),c.jsx("input",{type:"file",ref:h,onChange:C,accept:"image/*",className:"hidden"}),c.jsx("div",{className:"mt-1 flex items-center space-x-4",children:p?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:`text-sm ${b(y,"text","muted")}`,children:p.name}),c.jsx("button",{onClick:()=>{m(null),h.current&&(h.current.value="")},className:"text-red-600 hover:text-red-700",children:c.jsx(ps,{className:"h-4 w-4"})})]}):c.jsxs("button",{onClick:()=>{var A;return(A=h.current)==null?void 0:A.click()},className:`inline-flex items-center px-3 py-1.5 border rounded-md shadow-sm text-sm font-medium ${b(y,"border","primary")} ${b(y,"text","secondary")} ${b(y,"background","secondary")} ${b(y,"interactive","hover","background")}`,children:[c.jsx(Xo,{className:"h-4 w-4 mr-1"}),"Choose Image"]})})]})]})}),c.jsxs("div",{className:`p-4 border-t ${b(y,"border","primary")} flex justify-end space-x-3`,children:[c.jsx("button",{onClick:()=>{o(!1),m(null),h.current&&(h.current.value="")},className:`px-3 py-1.5 text-sm font-medium ${b(y,"text","secondary")} ${b(y,"interactive","hover","text")}`,children:"Cancel"}),c.jsx("button",{onClick:w,disabled:!l.name.trim()||d,className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400 flex items-center",children:d?c.jsxs(c.Fragment,{children:[c.jsx(zi,{className:"h-4 w-4 mr-1 animate-spin"}),"Adding..."]}):"Add Worker"})]})]})})]}),c.jsx("div",{className:"overflow-hidden",children:S.length===0?c.jsx("div",{className:`text-center ${b(y,"text","muted")} py-6`,children:a?"No workers found matching your search.":"No workers added yet."}):c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:S.map(A=>{var T,F,M,H;return c.jsx(Wr,{to:`/dashboard/workers/${A.id}`,className:`block ${b(y,"background","secondary")} ${b(y,"border","primary")} border rounded-lg shadow-sm hover:shadow-md transition-shadow`,children:c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`h-12 w-12 rounded-full ${b(y,"avatar","background")} flex items-center justify-center overflow-hidden flex-shrink-0`,children:A.image?c.jsx("img",{src:A.image,alt:A.name,className:"h-full w-full object-cover"}):c.jsx("span",{className:`text-xl font-medium ${b(y,"avatar","text")}`,children:A.name[0].toUpperCase()})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:`text-base font-semibold ${b(y,"text","primary")} truncate`,children:A.name}),A.whatsapp&&c.jsxs("p",{className:`text-xs ${b(y,"text","muted")} truncate`,children:["WhatsApp: ",A.whatsapp]})]})]}),c.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:`${b(y,"background","accent")} rounded p-2 text-center`,children:[c.jsx("p",{className:b(y,"text","muted"),children:"Week Earnings"}),c.jsxs("p",{className:"font-medium text-green-600 dark:text-green-400",children:[N," ",(T=A.stats)==null?void 0:T.totalEarnings.toFixed(2)]})]}),c.jsxs("div",{className:`${b(y,"background","accent")} rounded p-2 text-center`,children:[c.jsx("p",{className:b(y,"text","muted"),children:"Projects Total"}),c.jsxs("p",{className:"font-medium text-blue-600 dark:text-blue-400",children:[N," ",(F=A.stats)==null?void 0:F.weeklyProjectTotal.toFixed(2)]})]}),c.jsxs("div",{className:`${b(y,"background","accent")} rounded p-2 text-center`,children:[c.jsx("p",{className:b(y,"text","muted"),children:"Assigned"}),c.jsx("p",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:(M=A.stats)==null?void 0:M.assignedTasks})]}),c.jsxs("div",{className:`${b(y,"background","accent")} rounded p-2 text-center`,children:[c.jsx("p",{className:b(y,"text","muted"),children:"Completed"}),c.jsx("p",{className:"font-medium text-green-600 dark:text-green-400",children:(H=A.stats)==null?void 0:H.completedTasks})]})]})]})},A.id)})})})]})}function Ise({worker:e,workerProjects:t,setWorkerProjects:r,organization:n}){var C;const[a,i]=L.useState(!1),[s,o]=L.useState(null),[l,u]=L.useState(0),[d,f]=L.useState(""),[h,p]=L.useState({name:"",price:0,description:""}),{confirm:m,addToast:g}=Or(),v=((C=sn[n.currency])==null?void 0:C.symbol)||n.currency,{theme:x}=Yt(),y=`mt-1 block w-full rounded-md ${nt(x,"border","primary")} shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-3 py-2 ${nt(x,"background","primary")} ${nt(x,"text","primary")}`,b=async()=>{if(!(!n||!e||!h.name.trim()||!h.price))try{const{data:k,error:w}=await We.from("worker_projects").insert([{organization_id:n.id,worker_id:e.id,name:h.name.trim(),price:h.price,description:h.description.trim()||null,status:"active"}]).select().single();if(w)throw w;r(S=>[...S,k]),p({name:"",price:0,description:""}),i(!1),g({type:"success",title:"Project Added",message:"The project has been added successfully."})}catch(k){console.error("Error adding project:",k),g({type:"error",title:"Error",message:"Failed to add project. Please try again."})}},N=async k=>{try{const{error:w}=await We.from("worker_projects").update({name:d,price:l,updated_at:new Date().toISOString()}).eq("id",k);if(w)throw w;r(S=>S.map(P=>P.id===k?{...P,name:d,price:l,updated_at:new Date().toISOString()}:P)),o(null),u(0),f(""),g({type:"success",title:"Project Updated",message:"The project has been updated successfully."})}catch(w){console.error("Error updating project:",w),g({type:"error",title:"Error",message:"Failed to update project. Please try again."})}},_=async k=>{if(await m({title:"Delete Project",message:"Are you sure you want to delete this project? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel"}))try{const{error:S}=await We.from("worker_projects").delete().eq("id",k);if(S)throw S;r(P=>P.filter(A=>A.id!==k)),g({type:"success",title:"Project Deleted",message:"The project has been deleted successfully."})}catch(S){console.error("Error deleting project:",S),g({type:"error",title:"Error",message:"Failed to delete project. Please try again."})}};return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:`text-sm font-bold ${nt(x,"text","primary")}`,children:"Projects & Rates"}),c.jsxs("button",{onClick:()=>i(!0),className:`inline-flex items-center px-2.5 py-1.5 ${nt(x,"border","primary")} rounded-md text-xs font-medium ${nt(x,"text","secondary")} ${nt(x,"background","primary")} ${nt(x,"interactive","hover","background")}`,children:[c.jsx(na,{className:"h-3 w-3 mr-1"}),"Add Project"]})]}),a&&c.jsxs("div",{className:`mb-4 p-4 ${nt(x,"border","primary")} rounded-md ${nt(x,"background","secondary")}`,children:[c.jsx("h3",{className:`text-sm font-medium ${nt(x,"text","primary")} mb-4`,children:"Add New Project"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${nt(x,"text","secondary")}`,children:"Project Name"}),c.jsx("input",{type:"text",value:h.name,onChange:k=>p(w=>({...w,name:k.target.value})),className:y,placeholder:"Enter project name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${nt(x,"text","secondary")}`,children:"Description"}),c.jsx("textarea",{value:h.description,onChange:k=>p(w=>({...w,description:k.target.value})),className:y,placeholder:"Enter project description",rows:3})]}),c.jsxs("div",{children:[c.jsxs("label",{className:`block text-sm font-medium ${nt(x,"text","secondary")}`,children:["Price (",v,")"]}),c.jsx("input",{type:"number",value:h.price||"",onChange:k=>p(w=>({...w,price:parseFloat(k.target.value)||0})),className:y,min:"0",step:"0.01",placeholder:"Enter project price"})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{onClick:()=>i(!1),className:`px-4 py-2 text-sm font-medium ${nt(x,"text","secondary")} ${nt(x,"interactive","hover","text")}`,children:"Cancel"}),c.jsx("button",{onClick:b,disabled:!h.name.trim()||!h.price,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400",children:"Add Project"})]})]})]}),c.jsx("div",{children:t.length===0?c.jsx("p",{className:`text-center ${nt(x,"text","muted")} py-4`,children:"No projects assigned yet."}):c.jsx("div",{className:`divide-y ${nt(x,"border","primary")}`,children:t.map(k=>c.jsx("div",{className:"py-2",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Gae,{className:`h-4 w-4 ${nt(x,"text","muted")} mr-2`}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${nt(x,"text","secondary")}`,children:s===k.id?c.jsx("input",{type:"text",value:d,onChange:w=>f(w.target.value),className:`${y} w-full`,placeholder:"Enter project name"}):k.name}),k.description&&c.jsx("p",{className:`text-xs ${nt(x,"text","muted")}`,children:k.description})]})]}),c.jsx("div",{className:"flex items-center",children:s===k.id?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"number",value:l||"",onChange:w=>u(parseFloat(w.target.value)||0),className:`${y} w-24`,min:"0",step:"0.01"}),c.jsx("button",{onClick:()=>N(k.id),className:"text-green-600 hover:text-green-700",children:c.jsx(Da,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>o(null),className:"text-red-600 hover:text-red-700",children:c.jsx(ps,{className:"h-4 w-4"})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:`text-sm font-semibold ${nt(x,"text","primary")} mr-4`,children:[v," ",k.price.toFixed(2)]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>{o(k.id),u(k.price),f(k.name)},className:"text-blue-600 hover:text-blue-700",children:c.jsx(Ol,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>_(k.id),className:"text-red-600 hover:text-red-700",title:"Delete project",children:c.jsx(Hi,{className:"h-4 w-4"})})]})]})})]})},k.id))})})]})}const g$={pending:"Pending",in_progress:"In Progress",completed:"Completed",delayed:"Delayed",cancelled:"Cancelled"},Rse={pending:"Clock",in_progress:"Clock",completed:"CheckCircle",delayed:"AlertCircle",cancelled:"XCircle"},Bse={pending:{bg:"bg-yellow-100 dark:bg-yellow-900/20",text:"text-yellow-800 dark:text-yellow-400",border:"border-yellow-200 dark:border-yellow-800",hover:"hover:bg-yellow-200 dark:hover:bg-yellow-900/30",icon:"text-yellow-600 dark:text-yellow-400"},in_progress:{bg:"bg-blue-100 dark:bg-blue-900/20",text:"text-blue-800 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",hover:"hover:bg-blue-200 dark:hover:bg-blue-900/30",icon:"text-blue-600 dark:text-blue-400"},completed:{bg:"bg-green-100 dark:bg-green-900/20",text:"text-green-800 dark:text-green-400",border:"border-green-200 dark:border-green-800",hover:"hover:bg-green-200 dark:hover:bg-green-900/30",icon:"text-green-600 dark:text-green-400"},delayed:{bg:"bg-red-100 dark:bg-red-900/20",text:"text-red-800 dark:text-red-400",border:"border-red-200 dark:border-red-800",hover:"hover:bg-red-200 dark:hover:bg-red-900/30",icon:"text-red-600 dark:text-red-400"},cancelled:{bg:"bg-gray-100 dark:bg-gray-900/20",text:"text-gray-800 dark:text-gray-400",border:"border-gray-200 dark:border-gray-800",hover:"hover:bg-gray-200 dark:hover:bg-gray-900/30",icon:"text-gray-600 dark:text-gray-400"}};function SW({isOpen:e,onClose:t,organizationId:r,currencySymbol:n,workerId:a,onTaskAdded:i}){const{theme:s,getThemeStyle:o}=Yt(),{addToast:l}=Or(),[u,d]=L.useState([]),[f,h]=L.useState([]),[p,m]=L.useState({worker_id:a||"",project_id:"",description:"",status:"pending",due_date:new Date().toISOString().split("T")[0],delay_reason:""});L.useEffect(()=>{(async()=>{if(r){if(a){try{const{data:x,error:y}=await We.from("workers").select("id, name").eq("id",a);if(y)throw y;d(x||[])}catch(x){console.error("Error loading worker:",x),l({type:"error",title:"Error",message:"Failed to load worker"})}return}try{const{data:x,error:y}=await We.from("workers").select("id, name").eq("organization_id",r);if(y)throw y;d(x||[])}catch(x){console.error("Error loading workers:",x),l({type:"error",title:"Error",message:"Failed to load workers"})}}})()},[r,l]),L.useEffect(()=>{(async()=>{if(!(!r||!p.worker_id))try{const{data:x,error:y}=await We.from("worker_projects").select("*").eq("worker_id",p.worker_id).eq("status","active").order("created_at",{ascending:!1});if(y)throw y;h(x||[])}catch(x){console.error("Error loading worker projects:",x),l({type:"error",title:"Error",message:"Failed to load projects for this worker"})}})()},[r,p.worker_id,l]);const g=async()=>{if(!r||!p.worker_id||!p.project_id)return;const v=f.find(N=>N.id===p.project_id);if(!v)return;const x=new Date(p.due_date),y=od(new Date),b=Aj(y,x);if(b&&!p.delay_reason){l({type:"error",title:"Invalid Date",message:"Please provide a reason for adding a task for a past date."});return}try{const{data:N,error:_}=await We.from("tasks").insert([{organization_id:r,worker_id:p.worker_id,project_id:p.project_id,description:p.description.trim()||null,due_date:p.due_date,status:p.status,amount:v.price,delay_reason:b?p.delay_reason:null}]).select().single();if(_)throw _;i&&N&&i(N),m({worker_id:"",project_id:"",description:"",status:"pending",due_date:new Date().toISOString().split("T")[0],delay_reason:""}),t(),l({type:"success",title:"Task Added",message:"The task has been successfully added."})}catch(N){console.error("Error adding task:",N),l({type:"error",title:"Error",message:"Failed to add task. Please try again."})}};return e?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 transition-opacity duration-300",onClick:t}),c.jsx("div",{className:`fixed right-0 top-0 h-full w-[480px] max-w-full ${o(s,"background","secondary")} shadow-lg z-50 transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"translate-x-full"}`,children:c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:`p-4 border-b ${o(s,"border","primary")} flex items-center justify-between`,children:[c.jsx("h3",{className:`text-lg font-medium ${o(s,"text","primary")}`,children:"Add New Task"}),c.jsx("button",{onClick:t,className:`p-2 rounded-full ${o(s,"text","muted")} hover:${o(s,"background","accent")}`,children:c.jsx(ps,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${o(s,"text","secondary")} mb-2`,children:"Worker *"}),c.jsxs("select",{value:p.worker_id,onChange:v=>m(x=>({...x,worker_id:v.target.value,project_id:""})),className:`block w-full rounded-lg border ${o(s,"border","primary")} ${o(s,"background","primary")} py-2 px-3 text-sm ${o(s,"text","primary")} focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,children:[c.jsx("option",{value:"",children:"Select a worker"}),u.map(v=>c.jsx("option",{value:v.id,children:v.name},v.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${o(s,"text","secondary")} mb-2`,children:"Project *"}),c.jsxs("select",{value:p.project_id,onChange:v=>m(x=>({...x,project_id:v.target.value})),className:`block w-full rounded-lg border ${o(s,"border","primary")} ${o(s,"background","primary")} py-2 px-3 text-sm ${o(s,"text","primary")} focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50`,disabled:!p.worker_id,children:[c.jsx("option",{value:"",children:"Select a project"}),f.map(v=>c.jsxs("option",{value:v.id,children:[v.name," - ",n," ",v.price.toFixed(2)]},v.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${o(s,"text","secondary")} mb-2`,children:"Description"}),c.jsx("input",{type:"text",value:p.description,onChange:v=>m(x=>({...x,description:v.target.value})),className:`block w-full rounded-lg border ${o(s,"border","primary")} ${o(s,"background","primary")} py-2 px-3 text-sm ${o(s,"text","primary")} focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,placeholder:"Enter task description (optional)"})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${o(s,"text","secondary")} mb-2`,children:"Due Date *"}),c.jsx("input",{type:"date",value:p.due_date,onChange:v=>m(x=>({...x,due_date:v.target.value})),className:`block w-full rounded-lg border ${o(s,"border","primary")} ${o(s,"background","primary")} py-2 px-3 text-sm ${o(s,"text","primary")} focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,max:new Date().toISOString().split("T")[0]})]}),Aj(od(new Date),new Date(p.due_date))&&c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${o(s,"text","secondary")} mb-2`,children:"Reason for Delay"}),c.jsx("textarea",{value:p.delay_reason,onChange:v=>m(x=>({...x,delay_reason:v.target.value,status:"delayed"})),className:`block w-full rounded-lg border ${o(s,"border","primary")} ${o(s,"background","primary")} py-2 px-3 text-sm ${o(s,"text","primary")} focus:ring-2 focus:ring-blue-500 focus:border-blue-500 h-20`,placeholder:"Please provide a reason for adding this task after the date",required:!0})]})]})}),c.jsxs("div",{className:`p-4 border-t ${o(s,"border","primary")} flex justify-end gap-3`,children:[c.jsx("button",{onClick:t,className:`px-4 py-2 text-sm font-medium ${o(s,"text","secondary")} border ${o(s,"border","primary")} rounded-lg ${o(s,"background","primary")} ${o(s,"interactive","hover","background")} transition-colors duration-200`,children:"Cancel"}),c.jsxs("button",{onClick:g,disabled:!p.worker_id||!p.project_id,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400 dark:disabled:bg-gray-600 flex items-center transition-colors duration-200",children:[c.jsx(na,{className:"h-4 w-4 mr-2"}),"Add Task"]})]})]})})]}):null}const HS={pending:"Pending",in_progress:"In Progress",completed:"Completed",delayed:"Delayed",cancelled:"Cancelled"},x$={pending:{bg:"bg-yellow-100 dark:bg-yellow-900/20",text:"text-yellow-800 dark:text-yellow-400",border:"border-yellow-200 dark:border-yellow-800",hover:"hover:bg-yellow-200 dark:hover:bg-yellow-900/30",icon:"text-yellow-600 dark:text-yellow-400"},in_progress:{bg:"bg-blue-100 dark:bg-blue-900/20",text:"text-blue-800 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",hover:"hover:bg-blue-200 dark:hover:bg-blue-900/30",icon:"text-blue-600 dark:text-blue-400"},completed:{bg:"bg-green-100 dark:bg-green-900/20",text:"text-green-800 dark:text-green-400",border:"border-green-200 dark:border-green-800",hover:"hover:bg-green-200 dark:hover:bg-green-900/30",icon:"text-green-600 dark:text-green-400"},delayed:{bg:"bg-red-100 dark:bg-red-900/20",text:"text-red-800 dark:text-red-400",border:"border-red-200 dark:border-red-800",hover:"hover:bg-red-200 dark:hover:bg-red-900/30",icon:"text-red-600 dark:text-red-400"},cancelled:{bg:"bg-gray-100 dark:bg-gray-900/20",text:"text-gray-800 dark:text-gray-400",border:"border-gray-200 dark:border-gray-800",hover:"hover:bg-gray-200 dark:hover:bg-gray-900/30",icon:"text-gray-600 dark:text-gray-400"}};function NW({isOpen:e,onClose:t,task:r,onStatusUpdate:n}){var d,f;const{theme:a,getThemeStyle:i}=Yt(),{addToast:s}=Or(),[o,l]=L.useState((r==null?void 0:r.delay_reason)||"");if(!e||!r)return null;const u=async(h,p)=>{try{const m={status:h};h==="completed"?m.completed_at=new Date().toISOString():h==="delayed"&&(m.delay_reason=p),m.status_changed_at=new Date().toISOString();const{error:g}=await We.from("tasks").update(m).eq("id",r.id);if(g)throw g;const v={...r,...m};n(v),t(),s({type:"success",title:"Status Updated",message:`Task marked as ${HS[h]}`})}catch(m){console.error("Error updating task status:",m),s({type:"error",title:"Error",message:"Failed to update task status"})}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 transition-opacity duration-300",onClick:t}),c.jsxs("div",{className:`fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-md ${i(a,"background","secondary")} rounded-lg shadow-lg z-50 p-6 border ${i(a,"border","primary")}`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:`text-lg font-medium ${i(a,"text","primary")}`,children:"Update Task Status"}),c.jsx("button",{onClick:t,className:`p-1 rounded-full ${i(a,"text","muted")} hover:${i(a,"background","accent")}`,children:c.jsx(ps,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("p",{className:`text-sm ${i(a,"text","secondary")}`,children:[c.jsx("span",{className:"font-medium",children:"Project:"})," ",((d=r.project)==null?void 0:d.name)||"Unknown Project"]}),c.jsxs("p",{className:`text-sm ${i(a,"text","secondary")}`,children:[c.jsx("span",{className:"font-medium",children:"Worker:"})," ",((f=r.worker)==null?void 0:f.name)||"Unknown Worker"]}),c.jsxs("p",{className:`text-sm ${i(a,"text","secondary")}`,children:[c.jsx("span",{className:"font-medium",children:"Current Status:"})," ",HS[r.status]]})]}),c.jsx("div",{className:"space-y-3",children:Object.entries(HS).map(([h,p])=>h!=="cancelled"&&c.jsx("button",{onClick:()=>{if(h==="delayed"&&!o){s({type:"error",title:"Error",message:"Please provide a reason for the delay"});return}u(h,h==="delayed"?o:void 0)},className:`w-full px-3 py-2 text-sm font-medium rounded-md ${r.status===h?`${x$[h].bg} ${x$[h].text}`:`${i(a,"background","primary")} ${i(a,"text","primary")} ${i(a,"interactive","hover","background")}`}`,children:p},h))}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:`block text-sm font-medium ${i(a,"text","primary")} mb-2`,children:"Delay Reason"}),c.jsx("textarea",{value:o,onChange:h=>l(h.target.value),className:`block w-full rounded-md border ${i(a,"border","primary")} ${i(a,"background","primary")} py-2 px-3 text-sm ${i(a,"text","primary")} h-20`,placeholder:"Required if marking as delayed"})]})]})]})}function Use({worker:e,tasks:t,setTasks:r,workerProjects:n,organization:a}){var g;const[i,s]=L.useState(!1),[o,l]=L.useState(null),{confirm:u,addToast:d}=Or(),{theme:f}=Yt(),h=((g=sn[a.currency])==null?void 0:g.symbol)||a.currency,p=async v=>{r(x=>[v,...x]),s(!1)},m=async v=>{if(await u({title:"Delete Task",message:"Are you sure you want to delete this task? This action cannot be undone.",type:"danger",confirmText:"Delete",cancelText:"Cancel"}))try{const{error:y}=await We.from("tasks").update({status:"cancelled"}).eq("id",v);if(y)throw y;r(b=>b.map(N=>N.id===v?{...N,status:"cancelled"}:N)),d({type:"success",title:"Task Deleted",message:"The task has been marked as cancelled."})}catch(y){console.error("Error deleting task:",y),d({type:"error",title:"Error",message:"Failed to delete task. Please try again."})}};return c.jsxs("div",{className:"overflow-hidden",children:[c.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:`text-lg font-medium ${f==="dark"?"text-white":"text-gray-900"}`,children:"Tasks"}),c.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[c.jsx(na,{className:"h-4 w-4 mr-2"}),"Add Task"]})]}),c.jsx(SW,{isOpen:i,onClose:()=>s(!1),organizationId:a.id,currencySymbol:h,workerId:e.id,onTaskAdded:p}),c.jsx("div",{className:"space-y-4",children:t.length===0?c.jsx("div",{className:`text-center ${f==="dark"?"text-gray-400":"text-gray-500"} py-8`,children:"No tasks found. Start by adding a new task."}):c.jsx("div",{className:"grid gap-2",children:t.map(v=>{const x=n.find(N=>N.id===v.project_id),y=Bse[v.status],b=()=>{switch(Rse[v.status]){case"Clock":return c.jsx(id,{className:"h-4 w-4"});case"CheckCircle":return c.jsx(Da,{className:"h-4 w-4"});case"AlertCircle":return c.jsx(oW,{className:"h-4 w-4"});case"XCircle":return c.jsx(ps,{className:"h-4 w-4"});default:return c.jsx(id,{className:"h-4 w-4"})}};return c.jsx("div",{className:`border-l-4 ${y.border} p-2`,children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-12 gap-2 items-center",children:[c.jsxs("div",{className:"sm:hidden space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:y.icon,children:b()}),c.jsx("h4",{className:`text-sm font-medium ${v.status==="cancelled"?"line-through text-gray-400":f==="dark"?"text-white":"text-gray-900"}`,children:x==null?void 0:x.name})]}),c.jsxs("p",{className:`text-sm font-medium ${f==="dark"?"text-white":"text-gray-900"}`,children:[h," ",v.amount.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex gap-2 text-xs text-gray-500",children:[c.jsx("span",{children:jt(new Date(v.created_at),"MMM d, HH:mm")}),v.completed_at&&c.jsxs("span",{children:["✓ ",jt(new Date(v.completed_at),"MMM d, HH:mm")]})]}),v.status!=="cancelled"&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:()=>l(v.id),className:`px-2 py-1 text-xs font-medium rounded-full ${y.bg} ${y.text} ${y.hover}`,children:g$[v.status]}),c.jsx("button",{onClick:()=>m(v.id),className:`p-1 ${f==="dark"?"text-red-400 hover:text-red-300":"text-red-400 hover:text-red-600"} rounded-full ${f==="dark"?"hover:bg-gray-600":"hover:bg-red-50"}`,children:c.jsx(Hi,{className:"h-4 w-4"})})]})]})]}),c.jsxs("div",{className:"hidden sm:flex sm:col-span-4 items-center gap-2",children:[c.jsx("span",{className:y.icon,children:b()}),c.jsxs("div",{children:[c.jsx("h4",{className:`text-sm font-medium mb-1 ${v.status==="cancelled"?"line-through text-gray-400":f==="dark"?"text-white":"text-gray-900"}`,children:x==null?void 0:x.name}),v.description&&c.jsx("p",{className:`text-xs ${v.status==="cancelled"?"line-through text-gray-400":f==="dark"?"text-gray-400":"text-gray-500"}`,children:v.description})]})]}),c.jsxs("div",{className:"hidden sm:block sm:col-span-4 text-xs text-gray-500",children:[v.late_reason&&c.jsxs("p",{className:"text-orange-600",children:["Late: ",v.late_reason]}),v.status==="delayed"&&v.delay_reason&&c.jsxs("p",{className:"text-red-600",children:["Delay: ",v.delay_reason]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("span",{children:jt(new Date(v.created_at),"MMM d, HH:mm")}),v.completed_at&&c.jsxs("span",{children:["✓ ",jt(new Date(v.completed_at),"MMM d, HH:mm")]})]})]}),c.jsx("div",{className:"hidden sm:block sm:col-span-2 text-right text-xs",children:c.jsxs("p",{className:`font-medium ${f==="dark"?"text-white":"text-gray-900"}`,children:[h," ",v.amount.toFixed(2)]})}),c.jsx("div",{className:"hidden sm:flex sm:col-span-2 items-center justify-end gap-1",children:v.status!=="cancelled"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>l(v.id),className:`px-2 py-1 text-xs font-medium rounded-full ${y.bg} ${y.text} ${y.hover}`,children:g$[v.status]}),c.jsx("button",{onClick:()=>m(v.id),className:`p-1 ${f==="dark"?"text-red-400 hover:text-red-300":"text-red-400 hover:text-red-600"} rounded-full ${f==="dark"?"hover:bg-gray-600":"hover:bg-red-50"}`,children:c.jsx(Hi,{className:"h-4 w-4"})})]})})]})},v.id)})})})]}),o&&c.jsx(NW,{isOpen:!!o,onClose:()=>l(null),task:t.find(v=>v.id===o)||null,onStatusUpdate:v=>{r(x=>x.map(y=>y.id===v.id?v:y)),l(null)}})]})}function Kr(e){"@babel/helpers - typeof";return Kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kr(e)}var vi=Uint8Array,As=Uint16Array,uE=Int32Array,v5=new vi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),y5=new vi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ej=new vi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jW=function(e,t){for(var r=new As(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new uE(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},CW=jW(v5,2),TW=CW.b,Pj=CW.r;TW[28]=258,Pj[258]=28;var AW=jW(y5,0),Wse=AW.b,v$=AW.r,Oj=new As(32768);for(var yn=0;yn<32768;++yn){var pu=(yn&43690)>>1|(yn&21845)<<1;pu=(pu&52428)>>2|(pu&13107)<<2,pu=(pu&61680)>>4|(pu&3855)<<4,Oj[yn]=((pu&65280)>>8|(pu&255)<<8)>>1}var Cl=function(e,t,r){for(var n=e.length,a=0,i=new As(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new As(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new As(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=s[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)o[Oj[f]>>l]=u}else for(o=new As(n),a=0;a<n;++a)e[a]&&(o[a]=Oj[s[e[a]-1]++]>>15-e[a]);return o},ud=new vi(288);for(var yn=0;yn<144;++yn)ud[yn]=8;for(var yn=144;yn<256;++yn)ud[yn]=9;for(var yn=256;yn<280;++yn)ud[yn]=7;for(var yn=280;yn<288;++yn)ud[yn]=8;var wv=new vi(32);for(var yn=0;yn<32;++yn)wv[yn]=5;var zse=Cl(ud,9,0),Hse=Cl(ud,9,1),qse=Cl(wv,5,0),Yse=Cl(wv,5,1),qS=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},jo=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},YS=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},dE=function(e){return(e+7)/8|0},EW=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new vi(e.subarray(t,r))},Vse=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$o=function(e,t,r){var n=new Error(t||Vse[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,$o),!r)throw n;return n},Gse=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new vi(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new vi(a*3));var u=function(re){var O=r.length;if(re>O){var de=new vi(Math.max(O*2,re));de.set(r),r=de}},d=t.f||0,f=t.p||0,h=t.b||0,p=t.l,m=t.d,g=t.m,v=t.n,x=a*8;do{if(!p){d=jo(e,f,1);var y=jo(e,f+1,3);if(f+=3,y)if(y==1)p=Hse,m=Yse,g=9,v=5;else if(y==2){var C=jo(e,f,31)+257,k=jo(e,f+10,15)+4,w=C+jo(e,f+5,31)+1;f+=14;for(var S=new vi(w),P=new vi(19),A=0;A<k;++A)P[Ej[A]]=jo(e,f+A*3,7);f+=k*3;for(var T=qS(P),F=(1<<T)-1,M=Cl(P,T,1),A=0;A<w;){var H=M[jo(e,f,F)];f+=H&15;var b=H>>4;if(b<16)S[A++]=b;else{var z=0,Y=0;for(b==16?(Y=3+jo(e,f,3),f+=2,z=S[A-1]):b==17?(Y=3+jo(e,f,7),f+=3):b==18&&(Y=11+jo(e,f,127),f+=7);Y--;)S[A++]=z}}var G=S.subarray(0,C),I=S.subarray(C);g=qS(G),v=qS(I),p=Cl(G,g,1),m=Cl(I,v,1)}else $o(1);else{var b=dE(f)+4,N=e[b-4]|e[b-3]<<8,_=b+N;if(_>a){l&&$o(0);break}o&&u(h+N),r.set(e.subarray(b,_),h),t.b=h+=N,t.p=f=_*8,t.f=d;continue}if(f>x){l&&$o(0);break}}o&&u(h+131072);for(var X=(1<<g)-1,J=(1<<v)-1,E=f;;E=f){var z=p[YS(e,f)&X],R=z>>4;if(f+=z&15,f>x){l&&$o(0);break}if(z||$o(2),R<256)r[h++]=R;else if(R==256){E=f,p=null;break}else{var B=R-254;if(R>264){var A=R-257,q=v5[A];B=jo(e,f,(1<<q)-1)+TW[A],f+=q}var K=m[YS(e,f)&J],ae=K>>4;K||$o(3),f+=K&15;var I=Wse[ae];if(ae>3){var q=y5[ae];I+=YS(e,f)&(1<<q)-1,f+=q}if(f>x){l&&$o(0);break}o&&u(h+131072);var ee=h+B;if(h<I){var W=i-I,Z=Math.min(I,ee);for(W+h<0&&$o(3);h<Z;++h)r[h]=n[W+h]}for(;h<ee;++h)r[h]=r[h-I]}}t.l=p,t.p=E,t.b=h,t.f=d,p&&(d=1,t.m=g,t.d=m,t.n=v)}while(!d);return h!=r.length&&s?EW(r,0,h):r.subarray(0,h)},nc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Sg=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},VS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:OW,l:0};if(a==1){var s=new vi(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(_,C){return _.f-C.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=a-1;)o=r[r[u].f<r[f].f?u++:f++],l=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new As(h+1),m=$j(r[d-1],p,0);if(m>t){var n=0,g=0,v=m-t,x=1<<v;for(i.sort(function(C,k){return p[k.s]-p[C.s]||C.f-k.f});n<a;++n){var y=i[n].s;if(p[y]>t)g+=x-(1<<m-p[y]),p[y]=t;else break}for(g>>=v;g>0;){var b=i[n].s;p[b]<t?g-=1<<t-p[b]++-1:++n}for(;n>=0&&g;--n){var N=i[n].s;p[N]==t&&(--p[N],++g)}m=t}return{t:new vi(p),l:m}},$j=function(e,t,r){return e.s==-1?Math.max($j(e.l,t,r+1),$j(e.r,t,r+1)):t[e.s]=r},y$=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new As(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},Ng=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},PW=function(e,t,r){var n=r.length,a=dE(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},b$=function(e,t,r,n,a,i,s,o,l,u,d){nc(t,d++,r),++a[256];for(var f=VS(a,15),h=f.t,p=f.l,m=VS(i,15),g=m.t,v=m.l,x=y$(h),y=x.c,b=x.n,N=y$(g),_=N.c,C=N.n,k=new As(19),w=0;w<y.length;++w)++k[y[w]&31];for(var w=0;w<_.length;++w)++k[_[w]&31];for(var S=VS(k,7),P=S.t,A=S.l,T=19;T>4&&!P[Ej[T-1]];--T);var F=u+5<<3,M=Ng(a,ud)+Ng(i,wv)+s,H=Ng(a,h)+Ng(i,g)+s+14+3*T+Ng(k,P)+2*k[16]+3*k[17]+7*k[18];if(l>=0&&F<=M&&F<=H)return PW(t,d,e.subarray(l,l+u));var z,Y,G,I;if(nc(t,d,1+(H<M)),d+=2,H<M){z=Cl(h,p,0),Y=h,G=Cl(g,v,0),I=g;var X=Cl(P,A,0);nc(t,d,b-257),nc(t,d+5,C-1),nc(t,d+10,T-4),d+=14;for(var w=0;w<T;++w)nc(t,d+3*w,P[Ej[w]]);d+=3*T;for(var J=[y,_],E=0;E<2;++E)for(var R=J[E],w=0;w<R.length;++w){var B=R[w]&31;nc(t,d,X[B]),d+=P[B],B>15&&(nc(t,d,R[w]>>5&127),d+=R[w]>>12)}}else z=zse,Y=ud,G=qse,I=wv;for(var w=0;w<o;++w){var q=n[w];if(q>255){var B=q>>18&31;Sg(t,d,z[B+257]),d+=Y[B+257],B>7&&(nc(t,d,q>>23&31),d+=v5[B]);var K=q&31;Sg(t,d,G[K]),d+=I[K],K>3&&(Sg(t,d,q>>5&8191),d+=y5[K])}else Sg(t,d,z[q]),d+=Y[q]}return Sg(t,d,z[256]),d+Y[256]},Kse=new uE([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),OW=new vi(0),Xse=function(e,t,r,n,a,i){var s=i.z||e.length,o=new vi(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(l[0]=i.r>>3);for(var f=Kse[t-1],h=f>>13,p=f&8191,m=(1<<r)-1,g=i.p||new As(32768),v=i.h||new As(m+1),x=Math.ceil(r/3),y=2*x,b=function(ce){return(e[ce]^e[ce+1]<<x^e[ce+2]<<y)&m},N=new uE(25e3),_=new As(288),C=new As(32),k=0,w=0,S=i.i||0,P=0,A=i.w||0,T=0;S+2<s;++S){var F=b(S),M=S&32767,H=v[F];if(g[M]=H,v[F]=M,A<=S){var z=s-S;if((k>7e3||P>24576)&&(z>423||!u)){d=b$(e,l,0,N,_,C,w,P,T,S-T,d),P=k=w=0,T=S;for(var Y=0;Y<286;++Y)_[Y]=0;for(var Y=0;Y<30;++Y)C[Y]=0}var G=2,I=0,X=p,J=M-H&32767;if(z>2&&F==b(S-J))for(var E=Math.min(h,z)-1,R=Math.min(32767,S),B=Math.min(258,z);J<=R&&--X&&M!=H;){if(e[S+G]==e[S+G-J]){for(var q=0;q<B&&e[S+q]==e[S+q-J];++q);if(q>G){if(G=q,I=J,q>E)break;for(var K=Math.min(J,q-2),ae=0,Y=0;Y<K;++Y){var ee=S-J+Y&32767,W=g[ee],Z=ee-W&32767;Z>ae&&(ae=Z,H=ee)}}}M=H,H=g[M],J+=M-H&32767}if(I){N[P++]=268435456|Pj[G]<<18|v$[I];var re=Pj[G]&31,O=v$[I]&31;w+=v5[re]+y5[O],++_[257+re],++C[O],A=S+G,++k}else N[P++]=e[S],++_[e[S]]}}for(S=Math.max(S,A);S<s;++S)N[P++]=e[S],++_[e[S]];d=b$(e,l,u,N,_,C,w,P,T,S-T,d),u||(i.r=d&7|l[d/8|0]<<3,d-=7,i.h=v,i.p=g,i.i=S,i.w=A)}else{for(var S=i.w||0;S<s+u;S+=65535){var de=S+65535;de>=s&&(l[d/8|0]=u,de=s),d=PW(l,d+1,e.subarray(S,de))}i.i=s}return EW(o,0,n+dE(d)+a)},$W=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Qse=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new vi(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return Xse(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},DW=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Jse=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=$W();a.p(t.dictionary),DW(e,2,a.d())}},Zse=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&$o(6,"invalid zlib data"),(e[1]>>5&1)==1&&$o(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Dj(e,t){t||(t={});var r=$W();r.p(e);var n=Qse(e,t,t.dictionary?6:2,4);return Jse(n,t),DW(n,n.length-4,r.d()),n}function eoe(e,t){return Gse(e.subarray(Zse(e),-4),{i:2},t,t)}var toe=typeof TextDecoder<"u"&&new TextDecoder,roe=0;try{toe.decode(OW,{stream:!0}),roe=1}catch{}var zt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function GS(){zt.console&&typeof zt.console.log=="function"&&zt.console.log.apply(zt.console,arguments)}var nn={log:GS,warn:function(e){zt.console&&(typeof zt.console.warn=="function"?zt.console.warn.apply(zt.console,arguments):GS.call(null,arguments))},error:function(e){zt.console&&(typeof zt.console.error=="function"?zt.console.error.apply(zt.console,arguments):GS(e))}};function KS(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Zd(n.response,t,r)},n.onerror=function(){nn.error("could not download file")},n.send()}function w$(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function yb(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ox,Mj,Zd=zt.saveAs||((typeof window>"u"?"undefined":Kr(window))!=="object"||window!==zt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=zt.URL||zt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?w$(a.href)?KS(e,t,r):yb(a,a.target="_blank"):yb(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){yb(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(w$(e))KS(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){yb(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Kr(i)!=="object"&&(nn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return KS(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(zt.HTMLElement)||zt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":Kr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(e)}else{var l=zt.URL||zt.webkitURL,u=l.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function MW(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function XS(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=li(r,n,a,i,t[0],7,-680876936),i=li(i,r,n,a,t[1],12,-389564586),a=li(a,i,r,n,t[2],17,606105819),n=li(n,a,i,r,t[3],22,-1044525330),r=li(r,n,a,i,t[4],7,-176418897),i=li(i,r,n,a,t[5],12,1200080426),a=li(a,i,r,n,t[6],17,-1473231341),n=li(n,a,i,r,t[7],22,-45705983),r=li(r,n,a,i,t[8],7,1770035416),i=li(i,r,n,a,t[9],12,-1958414417),a=li(a,i,r,n,t[10],17,-42063),n=li(n,a,i,r,t[11],22,-1990404162),r=li(r,n,a,i,t[12],7,1804603682),i=li(i,r,n,a,t[13],12,-40341101),a=li(a,i,r,n,t[14],17,-1502002290),r=ci(r,n=li(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=ci(i,r,n,a,t[6],9,-1069501632),a=ci(a,i,r,n,t[11],14,643717713),n=ci(n,a,i,r,t[0],20,-373897302),r=ci(r,n,a,i,t[5],5,-701558691),i=ci(i,r,n,a,t[10],9,38016083),a=ci(a,i,r,n,t[15],14,-660478335),n=ci(n,a,i,r,t[4],20,-405537848),r=ci(r,n,a,i,t[9],5,568446438),i=ci(i,r,n,a,t[14],9,-1019803690),a=ci(a,i,r,n,t[3],14,-187363961),n=ci(n,a,i,r,t[8],20,1163531501),r=ci(r,n,a,i,t[13],5,-1444681467),i=ci(i,r,n,a,t[2],9,-51403784),a=ci(a,i,r,n,t[7],14,1735328473),r=ui(r,n=ci(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=ui(i,r,n,a,t[8],11,-2022574463),a=ui(a,i,r,n,t[11],16,1839030562),n=ui(n,a,i,r,t[14],23,-35309556),r=ui(r,n,a,i,t[1],4,-1530992060),i=ui(i,r,n,a,t[4],11,1272893353),a=ui(a,i,r,n,t[7],16,-155497632),n=ui(n,a,i,r,t[10],23,-1094730640),r=ui(r,n,a,i,t[13],4,681279174),i=ui(i,r,n,a,t[0],11,-358537222),a=ui(a,i,r,n,t[3],16,-722521979),n=ui(n,a,i,r,t[6],23,76029189),r=ui(r,n,a,i,t[9],4,-640364487),i=ui(i,r,n,a,t[12],11,-421815835),a=ui(a,i,r,n,t[15],16,530742520),r=di(r,n=ui(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=di(i,r,n,a,t[7],10,1126891415),a=di(a,i,r,n,t[14],15,-1416354905),n=di(n,a,i,r,t[5],21,-57434055),r=di(r,n,a,i,t[12],6,1700485571),i=di(i,r,n,a,t[3],10,-1894986606),a=di(a,i,r,n,t[10],15,-1051523),n=di(n,a,i,r,t[1],21,-2054922799),r=di(r,n,a,i,t[8],6,1873313359),i=di(i,r,n,a,t[15],10,-30611744),a=di(a,i,r,n,t[6],15,-1560198380),n=di(n,a,i,r,t[13],21,1309151649),r=di(r,n,a,i,t[4],6,-145523070),i=di(i,r,n,a,t[11],10,-1120210379),a=di(a,i,r,n,t[2],15,718787259),n=di(n,a,i,r,t[9],21,-343485551),e[0]=$u(r,e[0]),e[1]=$u(n,e[1]),e[2]=$u(a,e[2]),e[3]=$u(i,e[3])}function b5(e,t,r,n,a,i){return t=$u($u(t,e),$u(n,i)),$u(t<<a|t>>>32-a,r)}function li(e,t,r,n,a,i,s){return b5(t&r|~t&n,e,t,a,i,s)}function ci(e,t,r,n,a,i,s){return b5(t&n|r&~n,e,t,a,i,s)}function ui(e,t,r,n,a,i,s){return b5(t^r^n,e,t,a,i,s)}function di(e,t,r,n,a,i,s){return b5(r^(t|~n),e,t,a,i,s)}function FW(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)XS(n,noe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(XS(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,XS(n,a),n}function noe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Ox=zt.atob.bind(zt),Mj=zt.btoa.bind(zt);var _$="0123456789abcdef".split("");function aoe(e){for(var t="",r=0;r<4;r++)t+=_$[e>>8*r+4&15]+_$[e>>8*r&15];return t}function ioe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Fj(e){return FW(e).map(ioe).join("")}var soe=function(e){for(var t=0;t<e.length;t++)e[t]=aoe(e[t]);return e.join("")}(FW("hello"))!="5d41402abc4b2a76b9719d911017c592";function $u(e,t){if(soe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Lj(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var d=o[l];u=(u+d+s.charCodeAt(l))%256,o[l]=o[u],o[u]=d}r=e,n=o}else o=n;var f=t.length,h=0,p=0,m="";for(l=0;l<f;l++)p=(p+(d=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=d,s=o[(o[h]+o[p])%256],m+=String.fromCharCode(t.charCodeAt(l)^s);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k$={print:4,modify:8,copy:16,"annot-forms":32};function y0(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(k$.perm!==void 0)throw new Error("Invalid permission: "+o);a+=k$[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=Fj(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Lj(this.encryptionKey,this.padding)}function b0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function S$(e){if(Kr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){zt.console&&nn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function _v(e){if(!(this instanceof _v))return new _v(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function LW(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Tu(e,t,r,n,a){if(!(this instanceof Tu))return new Tu(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,LW.call(this,n,a)}function hf(e,t,r,n,a){if(!(this instanceof hf))return new hf(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,LW.call(this,n,a)}function Rt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,u="S",d=null;Kr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=S$;var m="1.3",g=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(U){m=U};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var x=p.__private__.getPageFormat=function(U){return v[U]};a=a||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},b=y.COMPAT;function N(){this.saveGraphicsState(),Q(new $t($e,0,0,-$e,0,eu()*$e).toString()+" cm"),this.setFontSize(this.getFontSize()/$e),u="n",b=y.ADVANCED}function _(){this.restoreGraphicsState(),u="S",b=y.COMPAT}var C=p.__private__.combineFontStyleAndFontWeight=function(U,se){if(U=="bold"&&se=="normal"||U=="bold"&&se==400||U=="normal"&&se=="italic"||U=="bold"&&se=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(U=se==400||se==="normal"?U==="italic"?"italic":"normal":se!=700&&se!=="bold"||U!=="normal"?(se==700?"bold":se)+""+U:"bold"),U};p.advancedAPI=function(U){var se=b===y.COMPAT;return se&&N.call(this),typeof U!="function"||(U(this),se&&_.call(this)),this},p.compatAPI=function(U){var se=b===y.ADVANCED;return se&&_.call(this),typeof U!="function"||(U(this),se&&N.call(this)),this},p.isAdvancedAPI=function(){return b===y.ADVANCED};var k,w=function(U){if(b!==y.ADVANCED)throw new Error(U+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=p.roundToPrecision=p.__private__.roundToPrecision=function(U,se){var Te=t||se;if(isNaN(U)||isNaN(Te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return U.toFixed(Te).replace(/0+$/,"")};k=p.hpf=p.__private__.hpf=typeof l=="number"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return S(U,l)}:l==="smart"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return S(U,U>-1&&U<1?16:5)}:function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return S(U,16)};var P=p.f2=p.__private__.f2=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f2");return S(U,2)},A=p.__private__.f3=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f3");return S(U,3)},T=p.scale=p.__private__.scale=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.scale");return b===y.COMPAT?U*$e:b===y.ADVANCED?U:void 0},F=function(U){return b===y.COMPAT?eu()-U:b===y.ADVANCED?U:void 0},M=function(U){return T(F(U))};p.__private__.setPrecision=p.setPrecision=function(U){typeof parseInt(U,10)=="number"&&(t=parseInt(U,10))};var H,z="00000000000000000000000000000000",Y=p.__private__.getFileId=function(){return z},G=p.__private__.setFileId=function(U){return z=U!==void 0&&/^[a-fA-F0-9]{32}$/.test(U)?U.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(ai=new y0(d.userPermissions,d.userPassword,d.ownerPassword,z)),z};p.setFileId=function(U){return G(U),this},p.getFileId=function(){return Y()};var I=p.__private__.convertDateToPDFDate=function(U){var se=U.getTimezoneOffset(),Te=se<0?"+":"-",Me=Math.floor(Math.abs(se/60)),qe=Math.abs(se%60),tt=[Te,B(Me),"'",B(qe),"'"].join("");return["D:",U.getFullYear(),B(U.getMonth()+1),B(U.getDate()),B(U.getHours()),B(U.getMinutes()),B(U.getSeconds()),tt].join("")},X=p.__private__.convertPDFDateToDate=function(U){var se=parseInt(U.substr(2,4),10),Te=parseInt(U.substr(6,2),10)-1,Me=parseInt(U.substr(8,2),10),qe=parseInt(U.substr(10,2),10),tt=parseInt(U.substr(12,2),10),ct=parseInt(U.substr(14,2),10);return new Date(se,Te,Me,qe,tt,ct,0)},J=p.__private__.setCreationDate=function(U){var se;if(U===void 0&&(U=new Date),U instanceof Date)se=I(U);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(U))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=U}return H=se},E=p.__private__.getCreationDate=function(U){var se=H;return U==="jsDate"&&(se=X(H)),se};p.setCreationDate=function(U){return J(U),this},p.getCreationDate=function(U){return E(U)};var R,B=p.__private__.padd2=function(U){return("0"+parseInt(U)).slice(-2)},q=p.__private__.padd2Hex=function(U){return("00"+(U=U.toString())).substr(U.length)},K=0,ae=[],ee=[],W=0,Z=[],re=[],O=!1,de=ee,ce=function(){K=0,W=0,ee=[],ae=[],Z=[],xe=$r(),ye=$r()};p.__private__.setCustomOutputDestination=function(U){O=!0,de=U};var pe=function(U){O||(de=U)};p.__private__.resetCustomOutputDestination=function(){O=!1,de=ee};var Q=p.__private__.out=function(U){return U=U.toString(),W+=U.length+1,de.push(U),de},ne=p.__private__.write=function(U){return Q(arguments.length===1?U.toString():Array.prototype.join.call(arguments," "))},Ae=p.__private__.getArrayBuffer=function(U){for(var se=U.length,Te=new ArrayBuffer(se),Me=new Uint8Array(Te);se--;)Me[se]=U.charCodeAt(se);return Te},Ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ee};var De=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(U){return De=b===y.ADVANCED?U/$e:U,this};var Oe,Fe=p.__private__.getFontSize=p.getFontSize=function(){return b===y.COMPAT?De:De*$e},ve=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(U){return ve=U,this},p.__private__.getR2L=p.getR2L=function(){return ve};var me,le=p.__private__.setZoomMode=function(U){var se=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(U))Oe=U;else if(isNaN(U)){if(se.indexOf(U)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+U+'" is not recognized.');Oe=U}else Oe=parseInt(U,10)};p.__private__.getZoomMode=function(){return Oe};var be,Pe=p.__private__.setPageMode=function(U){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(U)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+U+'" is not recognized.');me=U};p.__private__.getPageMode=function(){return me};var je=p.__private__.setLayoutMode=function(U){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(U)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+U+'" is not recognized.');be=U};p.__private__.getLayoutMode=function(){return be},p.__private__.setDisplayMode=p.setDisplayMode=function(U,se,Te){return le(U),je(se),Pe(Te),this};var Ce={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(U){if(Object.keys(Ce).indexOf(U)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ce[U]},p.__private__.getDocumentProperties=function(){return Ce},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(U){for(var se in Ce)Ce.hasOwnProperty(se)&&U[se]&&(Ce[se]=U[se]);return this},p.__private__.setDocumentProperty=function(U,se){if(Object.keys(Ce).indexOf(U)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ce[U]=se};var Be,$e,et,Je,St,Tt={},wt={},Kt=[],Dt={},Ur={},kr={},wn={},Tn=null,yr=0,It=[],tr=new S$(p),ti=e.hotfixes||[],Zr={},Mn={},qn=[],$t=function U(se,Te,Me,qe,tt,ct){if(!(this instanceof U))return new U(se,Te,Me,qe,tt,ct);isNaN(se)&&(se=1),isNaN(Te)&&(Te=0),isNaN(Me)&&(Me=0),isNaN(qe)&&(qe=1),isNaN(tt)&&(tt=0),isNaN(ct)&&(ct=0),this._matrix=[se,Te,Me,qe,tt,ct]};Object.defineProperty($t.prototype,"sx",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty($t.prototype,"shy",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty($t.prototype,"shx",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty($t.prototype,"sy",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty($t.prototype,"tx",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty($t.prototype,"ty",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty($t.prototype,"a",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty($t.prototype,"b",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty($t.prototype,"c",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty($t.prototype,"d",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty($t.prototype,"e",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty($t.prototype,"f",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty($t.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty($t.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty($t.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty($t.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),$t.prototype.join=function(U){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(U)},$t.prototype.multiply=function(U){var se=U.sx*this.sx+U.shy*this.shx,Te=U.sx*this.shy+U.shy*this.sy,Me=U.shx*this.sx+U.sy*this.shx,qe=U.shx*this.shy+U.sy*this.sy,tt=U.tx*this.sx+U.ty*this.shx+this.tx,ct=U.tx*this.shy+U.ty*this.sy+this.ty;return new $t(se,Te,Me,qe,tt,ct)},$t.prototype.decompose=function(){var U=this.sx,se=this.shy,Te=this.shx,Me=this.sy,qe=this.tx,tt=this.ty,ct=Math.sqrt(U*U+se*se),yt=(U/=ct)*Te+(se/=ct)*Me;Te-=U*yt,Me-=se*yt;var Lt=Math.sqrt(Te*Te+Me*Me);return yt/=Lt,U*(Me/=Lt)<se*(Te/=Lt)&&(U=-U,se=-se,yt=-yt,ct=-ct),{scale:new $t(ct,0,0,Lt,0,0),translate:new $t(1,0,0,1,qe,tt),rotate:new $t(U,se,-se,U,0,0),skew:new $t(1,0,yt,1,0,0)}},$t.prototype.toString=function(U){return this.join(" ")},$t.prototype.inversed=function(){var U=this.sx,se=this.shy,Te=this.shx,Me=this.sy,qe=this.tx,tt=this.ty,ct=1/(U*Me-se*Te),yt=Me*ct,Lt=-se*ct,Zt=-Te*ct,Xt=U*ct;return new $t(yt,Lt,Zt,Xt,-yt*qe-Zt*tt,-Lt*qe-Xt*tt)},$t.prototype.applyToPoint=function(U){var se=U.x*this.sx+U.y*this.shx+this.tx,Te=U.x*this.shy+U.y*this.sy+this.ty;return new Lh(se,Te)},$t.prototype.applyToRectangle=function(U){var se=this.applyToPoint(U),Te=this.applyToPoint(new Lh(U.x+U.w,U.y+U.h));return new Vm(se.x,se.y,Te.x-se.x,Te.y-se.y)},$t.prototype.clone=function(){var U=this.sx,se=this.shy,Te=this.shx,Me=this.sy,qe=this.tx,tt=this.ty;return new $t(U,se,Te,Me,qe,tt)},p.Matrix=$t;var ia=p.matrixMult=function(U,se){return se.multiply(U)},Pt=new $t(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Pt;var sr=function(U,se){if(!Ur[U]){var Te=(se instanceof Tu?"Sh":"P")+(Object.keys(Dt).length+1).toString(10);se.id=Te,Ur[U]=Te,Dt[Te]=se,tr.publish("addPattern",se)}};p.ShadingPattern=Tu,p.TilingPattern=hf,p.addShadingPattern=function(U,se){return w("addShadingPattern()"),sr(U,se),this},p.beginTilingPattern=function(U){w("beginTilingPattern()"),N1(U.boundingBox[0],U.boundingBox[1],U.boundingBox[2]-U.boundingBox[0],U.boundingBox[3]-U.boundingBox[1],U.matrix)},p.endTilingPattern=function(U,se){w("endTilingPattern()"),se.stream=re[R].join(`
`),sr(U,se),tr.publish("endTilingPattern",se),qn.pop().restore()};var mr=p.__private__.newObject=function(){var U=$r();return oe(U,!0),U},$r=p.__private__.newObjectDeferred=function(){return K++,ae[K]=function(){return W},K},oe=function(U,se){return se=typeof se=="boolean"&&se,ae[U]=W,se&&Q(U+" 0 obj"),U},Se=p.__private__.newAdditionalObject=function(){var U={objId:$r(),content:""};return Z.push(U),U},xe=$r(),ye=$r(),_e=p.__private__.decodeColorString=function(U){var se=U.split(" ");if(se.length!==2||se[1]!=="g"&&se[1]!=="G")se.length===5&&(se[4]==="k"||se[4]==="K")&&(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var Te=parseFloat(se[0]);se=[Te,Te,Te,"r"]}for(var Me="#",qe=0;qe<3;qe++)Me+=("0"+Math.floor(255*parseFloat(se[qe])).toString(16)).slice(-2);return Me},Ne=p.__private__.encodeColorString=function(U){var se;typeof U=="string"&&(U={ch1:U});var Te=U.ch1,Me=U.ch2,qe=U.ch3,tt=U.ch4,ct=U.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Te=="string"&&Te.charAt(0)!=="#"){var yt=new MW(Te);if(yt.ok)Te=yt.toHex();else if(!/^\d*\.?\d*$/.test(Te))throw new Error('Invalid color "'+Te+'" passed to jsPDF.encodeColorString.')}if(typeof Te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Te)&&(Te="#"+Te[1]+Te[1]+Te[2]+Te[2]+Te[3]+Te[3]),typeof Te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Te)){var Lt=parseInt(Te.substr(1),16);Te=Lt>>16&255,Me=Lt>>8&255,qe=255&Lt}if(Me===void 0||tt===void 0&&Te===Me&&Me===qe)if(typeof Te=="string")se=Te+" "+ct[0];else switch(U.precision){case 2:se=P(Te/255)+" "+ct[0];break;case 3:default:se=A(Te/255)+" "+ct[0]}else if(tt===void 0||Kr(tt)==="object"){if(tt&&!isNaN(tt.a)&&tt.a===0)return se=["1.","1.","1.",ct[1]].join(" ");if(typeof Te=="string")se=[Te,Me,qe,ct[1]].join(" ");else switch(U.precision){case 2:se=[P(Te/255),P(Me/255),P(qe/255),ct[1]].join(" ");break;default:case 3:se=[A(Te/255),A(Me/255),A(qe/255),ct[1]].join(" ")}}else if(typeof Te=="string")se=[Te,Me,qe,tt,ct[2]].join(" ");else switch(U.precision){case 2:se=[P(Te),P(Me),P(qe),P(tt),ct[2]].join(" ");break;case 3:default:se=[A(Te),A(Me),A(qe),A(tt),ct[2]].join(" ")}return se},He=p.__private__.getFilters=function(){return s},Qe=p.__private__.putStream=function(U){var se=(U=U||{}).data||"",Te=U.filters||He(),Me=U.alreadyAppliedFilters||[],qe=U.addLength1||!1,tt=se.length,ct=U.objectId,yt=function(ii){return ii};if(d!==null&&ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(yt=ai.encryptor(ct,0));var Lt={};Te===!0&&(Te=["FlateEncode"]);var Zt=U.additionalKeyValues||[],Xt=(Lt=Rt.API.processDataByFilters!==void 0?Rt.API.processDataByFilters(se,Te):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(Me)?Me.join(" "):Me.toString());if(Lt.data.length!==0&&(Zt.push({key:"Length",value:Lt.data.length}),qe===!0&&Zt.push({key:"Length1",value:tt})),Xt.length!=0)if(Xt.split("/").length-1==1)Zt.push({key:"Filter",value:Xt});else{Zt.push({key:"Filter",value:"["+Xt+"]"});for(var Sr=0;Sr<Zt.length;Sr+=1)if(Zt[Sr].key==="DecodeParms"){for(var An=[],Fn=0;Fn<Lt.reverseChain.split("/").length-1;Fn+=1)An.push("null");An.push(Zt[Sr].value),Zt[Sr].value="["+An.join(" ")+"]"}}Q("<<");for(var sa=0;sa<Zt.length;sa++)Q("/"+Zt[sa].key+" "+Zt[sa].value);Q(">>"),Lt.data.length!==0&&(Q("stream"),Q(yt(Lt.data)),Q("endstream"))},Ye=p.__private__.putPage=function(U){var se=U.number,Te=U.data,Me=U.objId,qe=U.contentsObjId;oe(Me,!0),Q("<</Type /Page"),Q("/Parent "+U.rootDictionaryObjId+" 0 R"),Q("/Resources "+U.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(k(U.mediaBox.bottomLeftX))+" "+parseFloat(k(U.mediaBox.bottomLeftY))+" "+k(U.mediaBox.topRightX)+" "+k(U.mediaBox.topRightY)+"]"),U.cropBox!==null&&Q("/CropBox ["+k(U.cropBox.bottomLeftX)+" "+k(U.cropBox.bottomLeftY)+" "+k(U.cropBox.topRightX)+" "+k(U.cropBox.topRightY)+"]"),U.bleedBox!==null&&Q("/BleedBox ["+k(U.bleedBox.bottomLeftX)+" "+k(U.bleedBox.bottomLeftY)+" "+k(U.bleedBox.topRightX)+" "+k(U.bleedBox.topRightY)+"]"),U.trimBox!==null&&Q("/TrimBox ["+k(U.trimBox.bottomLeftX)+" "+k(U.trimBox.bottomLeftY)+" "+k(U.trimBox.topRightX)+" "+k(U.trimBox.topRightY)+"]"),U.artBox!==null&&Q("/ArtBox ["+k(U.artBox.bottomLeftX)+" "+k(U.artBox.bottomLeftY)+" "+k(U.artBox.topRightX)+" "+k(U.artBox.topRightY)+"]"),typeof U.userUnit=="number"&&U.userUnit!==1&&Q("/UserUnit "+U.userUnit),tr.publish("putPage",{objId:Me,pageContext:It[se],pageNumber:se,page:Te}),Q("/Contents "+qe+" 0 R"),Q(">>"),Q("endobj");var tt=Te.join(`
`);return b===y.ADVANCED&&(tt+=`
Q`),oe(qe,!0),Qe({data:tt,filters:He(),objectId:qe}),Q("endobj"),Me},Ve=p.__private__.putPages=function(){var U,se,Te=[];for(U=1;U<=yr;U++)It[U].objId=$r(),It[U].contentsObjId=$r();for(U=1;U<=yr;U++)Te.push(Ye({number:U,data:re[U],objId:It[U].objId,contentsObjId:It[U].contentsObjId,mediaBox:It[U].mediaBox,cropBox:It[U].cropBox,bleedBox:It[U].bleedBox,trimBox:It[U].trimBox,artBox:It[U].artBox,userUnit:It[U].userUnit,rootDictionaryObjId:xe,resourceDictionaryObjId:ye}));oe(xe,!0),Q("<</Type /Pages");var Me="/Kids [";for(se=0;se<yr;se++)Me+=Te[se]+" 0 R ";Q(Me+"]"),Q("/Count "+yr),Q(">>"),Q("endobj"),tr.publish("postPutPages")},Ge=function(U){tr.publish("putFont",{font:U,out:Q,newObject:mr,putStream:Qe}),U.isAlreadyPutted!==!0&&(U.objectNumber=mr(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+b0(U.postScriptName)),Q("/Subtype /Type1"),typeof U.encoding=="string"&&Q("/Encoding /"+U.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},lt=function(){for(var U in Tt)Tt.hasOwnProperty(U)&&(f===!1||f===!0&&h.hasOwnProperty(U))&&Ge(Tt[U])},ht=function(U){U.objectNumber=mr();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[k(U.x),k(U.y),k(U.x+U.width),k(U.y+U.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+U.matrix.toString()+"]"});var Te=U.pages[1].join(`
`);Qe({data:Te,additionalKeyValues:se,objectId:U.objectNumber}),Q("endobj")},pt=function(){for(var U in Zr)Zr.hasOwnProperty(U)&&ht(Zr[U])},ut=function(U,se){var Te,Me=[],qe=1/(se-1);for(Te=0;Te<1;Te+=qe)Me.push(Te);if(Me.push(1),U[0].offset!=0){var tt={offset:0,color:U[0].color};U.unshift(tt)}if(U[U.length-1].offset!=1){var ct={offset:1,color:U[U.length-1].color};U.push(ct)}for(var yt="",Lt=0,Zt=0;Zt<Me.length;Zt++){for(Te=Me[Zt];Te>U[Lt+1].offset;)Lt++;var Xt=U[Lt].offset,Sr=(Te-Xt)/(U[Lt+1].offset-Xt),An=U[Lt].color,Fn=U[Lt+1].color;yt+=q(Math.round((1-Sr)*An[0]+Sr*Fn[0]).toString(16))+q(Math.round((1-Sr)*An[1]+Sr*Fn[1]).toString(16))+q(Math.round((1-Sr)*An[2]+Sr*Fn[2]).toString(16))}return yt.trim()},mt=function(U,se){se||(se=21);var Te=mr(),Me=ut(U.colors,se),qe=[];qe.push({key:"FunctionType",value:"0"}),qe.push({key:"Domain",value:"[0.0 1.0]"}),qe.push({key:"Size",value:"["+se+"]"}),qe.push({key:"BitsPerSample",value:"8"}),qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qe({data:Me,additionalKeyValues:qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Te}),Q("endobj"),U.objectNumber=mr(),Q("<< /ShadingType "+U.type),Q("/ColorSpace /DeviceRGB");var tt="/Coords ["+k(parseFloat(U.coords[0]))+" "+k(parseFloat(U.coords[1]))+" ";U.type===2?tt+=k(parseFloat(U.coords[2]))+" "+k(parseFloat(U.coords[3])):tt+=k(parseFloat(U.coords[2]))+" "+k(parseFloat(U.coords[3]))+" "+k(parseFloat(U.coords[4]))+" "+k(parseFloat(U.coords[5])),Q(tt+="]"),U.matrix&&Q("/Matrix ["+U.matrix.toString()+"]"),Q("/Function "+Te+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},Mt=function(U,se){var Te=$r(),Me=mr();se.push({resourcesOid:Te,objectOid:Me}),U.objectNumber=Me;var qe=[];qe.push({key:"Type",value:"/Pattern"}),qe.push({key:"PatternType",value:"1"}),qe.push({key:"PaintType",value:"1"}),qe.push({key:"TilingType",value:"1"}),qe.push({key:"BBox",value:"["+U.boundingBox.map(k).join(" ")+"]"}),qe.push({key:"XStep",value:k(U.xStep)}),qe.push({key:"YStep",value:k(U.yStep)}),qe.push({key:"Resources",value:Te+" 0 R"}),U.matrix&&qe.push({key:"Matrix",value:"["+U.matrix.toString()+"]"}),Qe({data:U.stream,additionalKeyValues:qe,objectId:U.objectNumber}),Q("endobj")},fr=function(U){var se;for(se in Dt)Dt.hasOwnProperty(se)&&(Dt[se]instanceof Tu?mt(Dt[se]):Dt[se]instanceof hf&&Mt(Dt[se],U))},br=function(U){for(var se in U.objectNumber=mr(),Q("<<"),U)switch(se){case"opacity":Q("/ca "+P(U[se]));break;case"stroke-opacity":Q("/CA "+P(U[se]))}Q(">>"),Q("endobj")},_n=function(){var U;for(U in kr)kr.hasOwnProperty(U)&&br(kr[U])},Ki=function(){for(var U in Q("/XObject <<"),Zr)Zr.hasOwnProperty(U)&&Zr[U].objectNumber>=0&&Q("/"+U+" "+Zr[U].objectNumber+" 0 R");tr.publish("putXobjectDict"),Q(">>")},ji=function(){ai.oid=mr(),Q("<<"),Q("/Filter /Standard"),Q("/V "+ai.v),Q("/R "+ai.r),Q("/U <"+ai.toHexString(ai.U)+">"),Q("/O <"+ai.toHexString(ai.O)+">"),Q("/P "+ai.P),Q(">>"),Q("endobj")},gs=function(){for(var U in Q("/Font <<"),Tt)Tt.hasOwnProperty(U)&&(f===!1||f===!0&&h.hasOwnProperty(U))&&Q("/"+U+" "+Tt[U].objectNumber+" 0 R");Q(">>")},Xi=function(){if(Object.keys(Dt).length>0){for(var U in Q("/Shading <<"),Dt)Dt.hasOwnProperty(U)&&Dt[U]instanceof Tu&&Dt[U].objectNumber>=0&&Q("/"+U+" "+Dt[U].objectNumber+" 0 R");tr.publish("putShadingPatternDict"),Q(">>")}},ri=function(U){if(Object.keys(Dt).length>0){for(var se in Q("/Pattern <<"),Dt)Dt.hasOwnProperty(se)&&Dt[se]instanceof p.TilingPattern&&Dt[se].objectNumber>=0&&Dt[se].objectNumber<U&&Q("/"+se+" "+Dt[se].objectNumber+" 0 R");tr.publish("putTilingPatternDict"),Q(">>")}},ni=function(){if(Object.keys(kr).length>0){var U;for(U in Q("/ExtGState <<"),kr)kr.hasOwnProperty(U)&&kr[U].objectNumber>=0&&Q("/"+U+" "+kr[U].objectNumber+" 0 R");tr.publish("putGStateDict"),Q(">>")}},Hr=function(U){oe(U.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),gs(),Xi(),ri(U.objectOid),ni(),Ki(),Q(">>"),Q("endobj")},Eh=function(){var U=[];lt(),_n(),pt(),fr(U),tr.publish("putResources"),U.forEach(Hr),Hr({resourcesOid:ye,objectOid:Number.MAX_SAFE_INTEGER}),tr.publish("postPutResources")},Ls=function(){tr.publish("putAdditionalObjects");for(var U=0;U<Z.length;U++){var se=Z[U];oe(se.objId,!0),Q(se.content),Q("endobj")}tr.publish("postPutAdditionalObjects")},Qc=function(U){wt[U.fontName]=wt[U.fontName]||{},wt[U.fontName][U.fontStyle]=U.id},Im=function(U,se,Te,Me,qe){var tt={id:"F"+(Object.keys(Tt).length+1).toString(10),postScriptName:U,fontName:se,fontStyle:Te,encoding:Me,isStandardFont:qe||!1,metadata:{}};return tr.publish("addFont",{font:tt,instance:this}),Tt[tt.id]=tt,Qc(tt),tt.id},C4=function(U){for(var se=0,Te=Ee.length;se<Te;se++){var Me=Im.call(this,U[se][0],U[se][1],U[se][2],Ee[se][3],!0);f===!1&&(h[Me]=!0);var qe=U[se][0].split("-");Qc({id:Me,fontName:qe[0],fontStyle:qe[1]||""})}tr.publish("addFonts",{fonts:Tt,dictionary:wt})},bo=function(U){return U.foo=function(){try{return U.apply(this,arguments)}catch(Me){var se=Me.stack||"";~se.indexOf(" at ")&&(se=se.split(" at ")[1]);var Te="Error in function "+se.split(`
`)[0].split("<")[0]+": "+Me.message;if(!zt.console)throw new Error(Te);zt.console.error(Te,Me),zt.alert&&alert(Te)}},U.foo.bar=U,U.foo},Ph=function(U,se){var Te,Me,qe,tt,ct,yt,Lt,Zt,Xt;if(qe=(se=se||{}).sourceEncoding||"Unicode",ct=se.outputEncoding,(se.autoencode||ct)&&Tt[Be].metadata&&Tt[Be].metadata[qe]&&Tt[Be].metadata[qe].encoding&&(tt=Tt[Be].metadata[qe].encoding,!ct&&Tt[Be].encoding&&(ct=Tt[Be].encoding),!ct&&tt.codePages&&(ct=tt.codePages[0]),typeof ct=="string"&&(ct=tt[ct]),ct)){for(Lt=!1,yt=[],Te=0,Me=U.length;Te<Me;Te++)(Zt=ct[U.charCodeAt(Te)])?yt.push(String.fromCharCode(Zt)):yt.push(U[Te]),yt[Te].charCodeAt(0)>>8&&(Lt=!0);U=yt.join("")}for(Te=U.length;Lt===void 0&&Te!==0;)U.charCodeAt(Te-1)>>8&&(Lt=!0),Te--;if(!Lt)return U;for(yt=se.noBOM?[]:[254,255],Te=0,Me=U.length;Te<Me;Te++){if((Xt=(Zt=U.charCodeAt(Te))>>8)>>8)throw new Error("Character at position "+Te+" of string '"+U+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");yt.push(Xt),yt.push(Zt-(Xt<<8))}return String.fromCharCode.apply(void 0,yt)},Qi=p.__private__.pdfEscape=p.pdfEscape=function(U,se){return Ph(U,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rm=p.__private__.beginPage=function(U){re[++yr]=[],It[yr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(U[0]),topRightY:Number(U[1])}},p1(yr),pe(re[R])},h1=function(U,se){var Te,Me,qe;switch(r=se||r,typeof U=="string"&&(Te=x(U.toLowerCase()),Array.isArray(Te)&&(Me=Te[0],qe=Te[1])),Array.isArray(U)&&(Me=U[0]*$e,qe=U[1]*$e),isNaN(Me)&&(Me=a[0],qe=a[1]),(Me>14400||qe>14400)&&(nn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Me=Math.min(14400,Me),qe=Math.min(14400,qe)),a=[Me,qe],r.substr(0,1)){case"l":qe>Me&&(a=[qe,Me]);break;case"p":Me>qe&&(a=[qe,Me])}Rm(a),b1(zm),Q(wo),qm!==0&&Q(qm+" J"),Ym!==0&&Q(Ym+" j"),tr.publish("addPage",{pageNumber:yr})},T4=function(U){U>0&&U<=yr&&(re.splice(U,1),It.splice(U,1),yr--,R>yr&&(R=yr),this.setPage(R))},p1=function(U){U>0&&U<=yr&&(R=U)},A4=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return re.length-1},m1=function(U,se,Te){var Me,qe=void 0;return Te=Te||{},U=U!==void 0?U:Tt[Be].fontName,se=se!==void 0?se:Tt[Be].fontStyle,Me=U.toLowerCase(),wt[Me]!==void 0&&wt[Me][se]!==void 0?qe=wt[Me][se]:wt[U]!==void 0&&wt[U][se]!==void 0?qe=wt[U][se]:Te.disableWarning===!1&&nn.warn("Unable to look up font label for font '"+U+"', '"+se+"'. Refer to getFontList() for available fonts."),qe||Te.noFallback||(qe=wt.times[se])==null&&(qe=wt.times.normal),qe},E4=p.__private__.putInfo=function(){var U=mr(),se=function(Me){return Me};for(var Te in d!==null&&(se=ai.encryptor(U,0)),Q("<<"),Q("/Producer ("+Qi(se("jsPDF "+Rt.version))+")"),Ce)Ce.hasOwnProperty(Te)&&Ce[Te]&&Q("/"+Te.substr(0,1).toUpperCase()+Te.substr(1)+" ("+Qi(se(Ce[Te]))+")");Q("/CreationDate ("+Qi(se(H))+")"),Q(">>"),Q("endobj")},Bm=p.__private__.putCatalog=function(U){var se=(U=U||{}).rootDictionaryObjId||xe;switch(mr(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+se+" 0 R"),Oe||(Oe="fullwidth"),Oe){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Te=""+Oe;Te.substr(Te.length-1)==="%"&&(Oe=parseInt(Oe)/100),typeof Oe=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+P(Oe)+"]")}switch(be||(be="continuous"),be){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}me&&Q("/PageMode /"+me),tr.publish("putCatalog"),Q(">>"),Q("endobj")},P4=p.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(K+1)),Q("/Root "+K+" 0 R"),Q("/Info "+(K-1)+" 0 R"),d!==null&&Q("/Encrypt "+ai.oid+" 0 R"),Q("/ID [ <"+z+"> <"+z+"> ]"),Q(">>")},O4=p.__private__.putHeader=function(){Q("%PDF-"+m),Q("%ºß¬à")},$4=p.__private__.putXRef=function(){var U="0000000000";Q("xref"),Q("0 "+(K+1)),Q("0000000000 65535 f ");for(var se=1;se<=K;se++)typeof ae[se]=="function"?Q((U+ae[se]()).slice(-10)+" 00000 n "):ae[se]!==void 0?Q((U+ae[se]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},Gl=p.__private__.buildDocument=function(){ce(),pe(ee),tr.publish("buildDocument"),O4(),Ve(),Ls(),Eh(),d!==null&&ji(),E4(),Bm();var U=W;return $4(),P4(),Q("startxref"),Q(""+U),Q("%%EOF"),pe(re[R]),ee.join(`
`)},Oh=p.__private__.getBlob=function(U){return new Blob([Ae(U)],{type:"application/pdf"})},$h=p.output=p.__private__.output=bo(function(U,se){switch(typeof(se=se||{})=="string"?se={filename:se}:se.filename=se.filename||"generated.pdf",U){case void 0:return Gl();case"save":p.save(se.filename);break;case"arraybuffer":return Ae(Gl());case"blob":return Oh(Gl());case"bloburi":case"bloburl":if(zt.URL!==void 0&&typeof zt.URL.createObjectURL=="function")return zt.URL&&zt.URL.createObjectURL(Oh(Gl()))||void 0;nn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Te="",Me=Gl();try{Te=Mj(Me)}catch{Te=Mj(unescape(encodeURIComponent(Me)))}return"data:application/pdf;filename="+se.filename+";base64,"+Te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(zt)==="[object Window]"){var qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",tt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(qe=se.pdfObjectUrl,tt="");var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+qe+'"'+tt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",yt=zt.open();return yt!==null&&yt.document.write(ct),yt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(zt)==="[object Window]"){var Lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',Zt=zt.open();if(Zt!==null){Zt.document.write(Lt);var Xt=this;Zt.document.documentElement.querySelector("#pdfViewer").onload=function(){Zt.document.title=se.filename,Zt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Xt.output("bloburl"))}}return Zt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(zt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',An=zt.open();if(An!==null&&(An.document.write(Sr),An.document.title=se.filename),An||typeof safari>"u")return An;break;case"datauri":case"dataurl":return zt.document.location.href=this.output("datauristring",se);default:return null}}),g1=function(U){return Array.isArray(ti)===!0&&ti.indexOf(U)>-1};switch(n){case"pt":$e=1;break;case"mm":$e=72/25.4;break;case"cm":$e=72/2.54;break;case"in":$e=72;break;case"px":$e=g1("px_scaling")==1?.75:96/72;break;case"pc":case"em":$e=12;break;case"ex":$e=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);$e=n}var ai=null;J(),G();var D4=function(U){return d!==null?ai.encryptor(U,0):function(se){return se}},x1=p.__private__.getPageInfo=p.getPageInfo=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:It[U].objId,pageNumber:U,pageContext:It[U]}},Vt=p.__private__.getPageInfoByObjId=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in It)if(It[se].objId===U)break;return x1(se)},M4=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:It[R].objId,pageNumber:R,pageContext:It[R]}};p.addPage=function(){return h1.apply(this,arguments),this},p.setPage=function(){return p1.apply(this,arguments),pe.call(this,re[R]),this},p.insertPage=function(U){return this.addPage(),this.movePage(R,U),this},p.movePage=function(U,se){var Te,Me;if(U>se){Te=re[U],Me=It[U];for(var qe=U;qe>se;qe--)re[qe]=re[qe-1],It[qe]=It[qe-1];re[se]=Te,It[se]=Me,this.setPage(se)}else if(U<se){Te=re[U],Me=It[U];for(var tt=U;tt<se;tt++)re[tt]=re[tt+1],It[tt]=It[tt+1];re[se]=Te,It[se]=Me,this.setPage(se)}return this},p.deletePage=function(){return T4.apply(this,arguments),this},p.__private__.text=p.text=function(U,se,Te,Me,qe){var tt,ct,yt,Lt,Zt,Xt,Sr,An,Fn,sa=(Me=Me||{}).scope||this;if(typeof U=="number"&&typeof se=="number"&&(typeof Te=="string"||Array.isArray(Te))){var ii=Te;Te=se,se=U,U=ii}if(arguments[3]instanceof $t?(w("The transform parameter of text() with a Matrix value"),Fn=qe):(yt=arguments[4],Lt=arguments[5],Kr(Sr=arguments[3])==="object"&&Sr!==null||(typeof yt=="string"&&(Lt=yt,yt=null),typeof Sr=="string"&&(Lt=Sr,Sr=null),typeof Sr=="number"&&(yt=Sr,Sr=null),Me={flags:Sr,angle:yt,align:Lt})),isNaN(se)||isNaN(Te)||U==null)throw new Error("Invalid arguments passed to jsPDF.text");if(U.length===0)return sa;var Ca="",_o=!1,xs=typeof Me.lineHeightFactor=="number"?Me.lineHeightFactor:Fd,sl=sa.internal.scaleFactor;function j1(ln){return ln=ln.split("	").join(Array(Me.TabLen||9).join(" ")),Qi(ln,Sr)}function Qm(ln){for(var cn,Vn=ln.concat(),xa=[],Zl=Vn.length;Zl--;)typeof(cn=Vn.shift())=="string"?xa.push(cn):Array.isArray(ln)&&(cn.length===1||cn[1]===void 0&&cn[2]===void 0)?xa.push(cn[0]):xa.push([cn[0],cn[1],cn[2]]);return xa}function Jm(ln,cn){var Vn;if(typeof ln=="string")Vn=cn(ln)[0];else if(Array.isArray(ln)){for(var xa,Zl,sg=ln.concat(),Gh=[],P1=sg.length;P1--;)typeof(xa=sg.shift())=="string"?Gh.push(cn(xa)[0]):Array.isArray(xa)&&typeof xa[0]=="string"&&(Zl=cn(xa[0],xa[1],xa[2]),Gh.push([Zl[0],Zl[1],Zl[2]]));Vn=Gh}return Vn}var Rh=!1,Zm=!0;if(typeof U=="string")Rh=!0;else if(Array.isArray(U)){var eg=U.concat();ct=[];for(var Bh,Wa=eg.length;Wa--;)(typeof(Bh=eg.shift())!="string"||Array.isArray(Bh)&&typeof Bh[0]!="string")&&(Zm=!1);Rh=Zm}if(Rh===!1)throw new Error('Type of text must be string or Array. "'+U+'" is not recognized.');typeof U=="string"&&(U=U.match(/[\r?\n]/)?U.split(/\r\n|\r|\n/g):[U]);var Uh=De/sa.internal.scaleFactor,Wh=Uh*(xs-1);switch(Me.baseline){case"bottom":Te-=Wh;break;case"top":Te+=Uh-Wh;break;case"hanging":Te+=Uh-2*Wh;break;case"middle":Te+=Uh/2-Wh}if((Xt=Me.maxWidth||0)>0&&(typeof U=="string"?U=sa.splitTextToSize(U,Xt):Object.prototype.toString.call(U)==="[object Array]"&&(U=U.reduce(function(ln,cn){return ln.concat(sa.splitTextToSize(cn,Xt))},[]))),tt={text:U,x:se,y:Te,options:Me,mutex:{pdfEscape:Qi,activeFontKey:Be,fonts:Tt,activeFontSize:De}},tr.publish("preProcessText",tt),U=tt.text,yt=(Me=tt.options).angle,!(Fn instanceof $t)&&yt&&typeof yt=="number"){yt*=Math.PI/180,Me.rotationDirection===0&&(yt=-yt),b===y.ADVANCED&&(yt=-yt);var zh=Math.cos(yt),tg=Math.sin(yt);Fn=new $t(zh,tg,-tg,zh,0,0)}else yt&&yt instanceof $t&&(Fn=yt);b!==y.ADVANCED||Fn||(Fn=Pt),(Zt=Me.charSpace||Fh)!==void 0&&(Ca+=k(T(Zt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(An=Me.horizontalScale)!==void 0&&(Ca+=k(100*An)+` Tz
`),Me.lang;var Ji=-1,q4=Me.renderingMode!==void 0?Me.renderingMode:Me.stroke,rg=sa.internal.getCurrentPageInfo().pageContext;switch(q4){case 0:case!1:case"fill":Ji=0;break;case 1:case!0:case"stroke":Ji=1;break;case 2:case"fillThenStroke":Ji=2;break;case 3:case"invisible":Ji=3;break;case 4:case"fillAndAddForClipping":Ji=4;break;case 5:case"strokeAndAddPathForClipping":Ji=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ji=6;break;case 7:case"addToPathForClipping":Ji=7}var C1=rg.usedRenderingMode!==void 0?rg.usedRenderingMode:-1;Ji!==-1?Ca+=Ji+` Tr
`:C1!==-1&&(Ca+=`0 Tr
`),Ji!==-1&&(rg.usedRenderingMode=Ji),Lt=Me.align||"left";var Is,Hh=De*xs,T1=sa.internal.pageSize.getWidth(),A1=Tt[Be];Zt=Me.charSpace||Fh,Xt=Me.maxWidth||0,Sr=Object.assign({autoencode:!0,noBOM:!0},Me.flags);var tu=[],Rd=function(ln){return sa.getStringUnitWidth(ln,{font:A1,charSpace:Zt,fontSize:De,doKerning:!1})*De/sl};if(Object.prototype.toString.call(U)==="[object Array]"){var Zi;ct=Qm(U),Lt!=="left"&&(Is=ct.map(Rd));var Ci,ru=0;if(Lt==="right"){se-=Is[0],U=[],Wa=ct.length;for(var Xl=0;Xl<Wa;Xl++)Xl===0?(Ci=il(se),Zi=Kl(Te)):(Ci=T(ru-Is[Xl]),Zi=-Hh),U.push([ct[Xl],Ci,Zi]),ru=Is[Xl]}else if(Lt==="center"){se-=Is[0]/2,U=[],Wa=ct.length;for(var Ql=0;Ql<Wa;Ql++)Ql===0?(Ci=il(se),Zi=Kl(Te)):(Ci=T((ru-Is[Ql])/2),Zi=-Hh),U.push([ct[Ql],Ci,Zi]),ru=Is[Ql]}else if(Lt==="left"){U=[],Wa=ct.length;for(var qh=0;qh<Wa;qh++)U.push(ct[qh])}else if(Lt==="justify"&&A1.encoding==="Identity-H"){U=[],Wa=ct.length,Xt=Xt!==0?Xt:T1;for(var Jl=0,Yn=0;Yn<Wa;Yn++)if(Zi=Yn===0?Kl(Te):-Hh,Ci=Yn===0?il(se):Jl,Yn<Wa-1){var ng=T((Xt-Is[Yn])/(ct[Yn].split(" ").length-1)),Ti=ct[Yn].split(" ");U.push([Ti[0]+" ",Ci,Zi]),Jl=0;for(var Rs=1;Rs<Ti.length;Rs++){var Yh=(Rd(Ti[Rs-1]+" "+Ti[Rs])-Rd(Ti[Rs]))*sl+ng;Rs==Ti.length-1?U.push([Ti[Rs],Yh,0]):U.push([Ti[Rs]+" ",Yh,0]),Jl-=Yh}}else U.push([ct[Yn],Ci,Zi]);U.push(["",Jl,0])}else{if(Lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(U=[],Wa=ct.length,Xt=Xt!==0?Xt:T1,Yn=0;Yn<Wa;Yn++)Zi=Yn===0?Kl(Te):-Hh,Ci=Yn===0?il(se):0,Yn<Wa-1?tu.push(k(T((Xt-Is[Yn])/(ct[Yn].split(" ").length-1)))):tu.push(0),U.push([ct[Yn],Ci,Zi])}}var E1=typeof Me.R2L=="boolean"?Me.R2L:ve;E1===!0&&(U=Jm(U,function(ln,cn,Vn){return[ln.split("").reverse().join(""),cn,Vn]})),tt={text:U,x:se,y:Te,options:Me,mutex:{pdfEscape:Qi,activeFontKey:Be,fonts:Tt,activeFontSize:De}},tr.publish("postProcessText",tt),U=tt.text,_o=tt.mutex.isHex||!1;var ag=Tt[Be].encoding;ag!=="WinAnsiEncoding"&&ag!=="StandardEncoding"||(U=Jm(U,function(ln,cn,Vn){return[j1(ln),cn,Vn]})),ct=Qm(U),U=[];for(var Bd,Ud,nu,Wd=0,Vh=1,zd=Array.isArray(ct[0])?Vh:Wd,au="",ig=function(ln,cn,Vn){var xa="";return Vn instanceof $t?(Vn=typeof Me.angle=="number"?ia(Vn,new $t(1,0,0,1,ln,cn)):ia(new $t(1,0,0,1,ln,cn),Vn),b===y.ADVANCED&&(Vn=ia(new $t(1,0,0,-1,0,0),Vn)),xa=Vn.join(" ")+` Tm
`):xa=k(ln)+" "+k(cn)+` Td
`,xa},Bs=0;Bs<ct.length;Bs++){switch(au="",zd){case Vh:nu=(_o?"<":"(")+ct[Bs][0]+(_o?">":")"),Bd=parseFloat(ct[Bs][1]),Ud=parseFloat(ct[Bs][2]);break;case Wd:nu=(_o?"<":"(")+ct[Bs]+(_o?">":")"),Bd=il(se),Ud=Kl(Te)}tu!==void 0&&tu[Bs]!==void 0&&(au=tu[Bs]+` Tw
`),Bs===0?U.push(au+ig(Bd,Ud,Fn)+nu):zd===Wd?U.push(au+nu):zd===Vh&&U.push(au+ig(Bd,Ud,Fn)+nu)}U=zd===Wd?U.join(` Tj
T* `):U.join(` Tj
`),U+=` Tj
`;var Us=`BT
/`;return Us+=Be+" "+De+` Tf
`,Us+=k(De*xs)+` TL
`,Us+=Ld+`
`,Us+=Ca,Us+=U,Q(Us+="ET"),h[Be]=!0,sa};var F4=p.__private__.clip=p.clip=function(U){return Q(U==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return F4("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Q("n"),this};var al=p.__private__.isValidStyle=function(U){var se=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(U)!==-1&&(se=!0),se};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(U){return al(U)&&(u=U),this};var v1=p.__private__.getStyle=p.getStyle=function(U){var se=u;switch(U){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=U}return se},y1=p.close=function(){return Q("h"),this};p.stroke=function(){return Q("S"),this},p.fill=function(U){return Dh("f",U),this},p.fillEvenOdd=function(U){return Dh("f*",U),this},p.fillStroke=function(U){return Dh("B",U),this},p.fillStrokeEvenOdd=function(U){return Dh("B*",U),this};var Dh=function(U,se){Kr(se)==="object"?I4(se,U):Q(U)},Um=function(U){U===null||b===y.ADVANCED&&U===void 0||(U=v1(U),Q(U))};function L4(U,se,Te,Me,qe){var tt=new hf(se||this.boundingBox,Te||this.xStep,Me||this.yStep,this.gState,qe||this.matrix);tt.stream=this.stream;var ct=U+"$$"+this.cloneIndex+++"$$";return sr(ct,tt),tt}var I4=function(U,se){var Te=Ur[U.key],Me=Dt[Te];if(Me instanceof Tu)Q("q"),Q(R4(se)),Me.gState&&p.setGState(Me.gState),Q(U.matrix.toString()+" cm"),Q("/"+Te+" sh"),Q("Q");else if(Me instanceof hf){var qe=new $t(1,0,0,-1,0,eu());U.matrix&&(qe=qe.multiply(U.matrix||Pt),Te=L4.call(Me,U.key,U.boundingBox,U.xStep,U.yStep,qe).id),Q("q"),Q("/Pattern cs"),Q("/"+Te+" scn"),Me.gState&&p.setGState(Me.gState),Q(se),Q("Q")}},R4=function(U){switch(U){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Wm=p.moveTo=function(U,se){return Q(k(T(U))+" "+k(M(se))+" m"),this},Md=p.lineTo=function(U,se){return Q(k(T(U))+" "+k(M(se))+" l"),this},Jc=p.curveTo=function(U,se,Te,Me,qe,tt){return Q([k(T(U)),k(M(se)),k(T(Te)),k(M(Me)),k(T(qe)),k(M(tt)),"c"].join(" ")),this};p.__private__.line=p.line=function(U,se,Te,Me,qe){if(isNaN(U)||isNaN(se)||isNaN(Te)||isNaN(Me)||!al(qe))throw new Error("Invalid arguments passed to jsPDF.line");return b===y.COMPAT?this.lines([[Te-U,Me-se]],U,se,[1,1],qe||"S"):this.lines([[Te-U,Me-se]],U,se,[1,1]).stroke()},p.__private__.lines=p.lines=function(U,se,Te,Me,qe,tt){var ct,yt,Lt,Zt,Xt,Sr,An,Fn,sa,ii,Ca,_o;if(typeof U=="number"&&(_o=Te,Te=se,se=U,U=_o),Me=Me||[1,1],tt=tt||!1,isNaN(se)||isNaN(Te)||!Array.isArray(U)||!Array.isArray(Me)||!al(qe)||typeof tt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wm(se,Te),ct=Me[0],yt=Me[1],Zt=U.length,ii=se,Ca=Te,Lt=0;Lt<Zt;Lt++)(Xt=U[Lt]).length===2?(ii=Xt[0]*ct+ii,Ca=Xt[1]*yt+Ca,Md(ii,Ca)):(Sr=Xt[0]*ct+ii,An=Xt[1]*yt+Ca,Fn=Xt[2]*ct+ii,sa=Xt[3]*yt+Ca,ii=Xt[4]*ct+ii,Ca=Xt[5]*yt+Ca,Jc(Sr,An,Fn,sa,ii,Ca));return tt&&y1(),Um(qe),this},p.path=function(U){for(var se=0;se<U.length;se++){var Te=U[se],Me=Te.c;switch(Te.op){case"m":Wm(Me[0],Me[1]);break;case"l":Md(Me[0],Me[1]);break;case"c":Jc.apply(this,Me);break;case"h":y1()}}return this},p.__private__.rect=p.rect=function(U,se,Te,Me,qe){if(isNaN(U)||isNaN(se)||isNaN(Te)||isNaN(Me)||!al(qe))throw new Error("Invalid arguments passed to jsPDF.rect");return b===y.COMPAT&&(Me=-Me),Q([k(T(U)),k(M(se)),k(T(Te)),k(T(Me)),"re"].join(" ")),Um(qe),this},p.__private__.triangle=p.triangle=function(U,se,Te,Me,qe,tt,ct){if(isNaN(U)||isNaN(se)||isNaN(Te)||isNaN(Me)||isNaN(qe)||isNaN(tt)||!al(ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Te-U,Me-se],[qe-Te,tt-Me],[U-qe,se-tt]],U,se,[1,1],ct,!0),this},p.__private__.roundedRect=p.roundedRect=function(U,se,Te,Me,qe,tt,ct){if(isNaN(U)||isNaN(se)||isNaN(Te)||isNaN(Me)||isNaN(qe)||isNaN(tt)||!al(ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var yt=4/3*(Math.SQRT2-1);return qe=Math.min(qe,.5*Te),tt=Math.min(tt,.5*Me),this.lines([[Te-2*qe,0],[qe*yt,0,qe,tt-tt*yt,qe,tt],[0,Me-2*tt],[0,tt*yt,-qe*yt,tt,-qe,tt],[2*qe-Te,0],[-qe*yt,0,-qe,-tt*yt,-qe,-tt],[0,2*tt-Me],[0,-tt*yt,qe*yt,-tt,qe,-tt]],U+qe,se,[1,1],ct,!0),this},p.__private__.ellipse=p.ellipse=function(U,se,Te,Me,qe){if(isNaN(U)||isNaN(se)||isNaN(Te)||isNaN(Me)||!al(qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var tt=4/3*(Math.SQRT2-1)*Te,ct=4/3*(Math.SQRT2-1)*Me;return Wm(U+Te,se),Jc(U+Te,se-ct,U+tt,se-Me,U,se-Me),Jc(U-tt,se-Me,U-Te,se-ct,U-Te,se),Jc(U-Te,se+ct,U-tt,se+Me,U,se+Me),Jc(U+tt,se+Me,U+Te,se+ct,U+Te,se),Um(qe),this},p.__private__.circle=p.circle=function(U,se,Te,Me){if(isNaN(U)||isNaN(se)||isNaN(Te)||!al(Me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(U,se,Te,Te,Me)},p.setFont=function(U,se,Te){return Te&&(se=C(se,Te)),Be=m1(U,se,{disableWarning:!1}),this};var B4=p.__private__.getFont=p.getFont=function(){return Tt[m1.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var U,se,Te={};for(U in wt)if(wt.hasOwnProperty(U))for(se in Te[U]=[],wt[U])wt[U].hasOwnProperty(se)&&Te[U].push(se);return Te},p.addFont=function(U,se,Te,Me,qe){var tt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&tt.indexOf(arguments[3])!==-1?qe=arguments[3]:arguments[3]&&tt.indexOf(arguments[3])==-1&&(Te=C(Te,Me)),qe=qe||"Identity-H",Im.call(this,U,se,Te,qe)};var Fd,zm=e.lineWidth||.200025,Mh=p.__private__.getLineWidth=p.getLineWidth=function(){return zm},b1=p.__private__.setLineWidth=p.setLineWidth=function(U){return zm=U,Q(k(T(U))+" w"),this};p.__private__.setLineDash=Rt.API.setLineDash=Rt.API.setLineDashPattern=function(U,se){if(U=U||[],se=se||0,isNaN(se)||!Array.isArray(U))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return U=U.map(function(Te){return k(T(Te))}).join(" "),se=k(T(se)),Q("["+U+"] "+se+" d"),this};var w1=p.__private__.getLineHeight=p.getLineHeight=function(){return De*Fd};p.__private__.getLineHeight=p.getLineHeight=function(){return De*Fd};var _1=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(U){return typeof(U=U||1.15)=="number"&&(Fd=U),this},k1=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Fd};_1(e.lineHeight);var il=p.__private__.getHorizontalCoordinate=function(U){return T(U)},Kl=p.__private__.getVerticalCoordinate=function(U){return b===y.ADVANCED?U:It[R].mediaBox.topRightY-It[R].mediaBox.bottomLeftY-T(U)},U4=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(U){return k(il(U))},Zc=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(U){return k(Kl(U))},wo=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return _e(wo)},p.__private__.setStrokeColor=p.setDrawColor=function(U,se,Te,Me){return wo=Ne({ch1:U,ch2:se,ch3:Te,ch4:Me,pdfColorType:"draw",precision:2}),Q(wo),this};var Hm=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return _e(Hm)},p.__private__.setFillColor=p.setFillColor=function(U,se,Te,Me){return Hm=Ne({ch1:U,ch2:se,ch3:Te,ch4:Me,pdfColorType:"fill",precision:2}),Q(Hm),this};var Ld=e.textColor||"0 g",W4=p.__private__.getTextColor=p.getTextColor=function(){return _e(Ld)};p.__private__.setTextColor=p.setTextColor=function(U,se,Te,Me){return Ld=Ne({ch1:U,ch2:se,ch3:Te,ch4:Me,pdfColorType:"text",precision:3}),this};var Fh=e.charSpace,z4=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Fh||0)};p.__private__.setCharSpace=p.setCharSpace=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Fh=U,this};var qm=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(U){var se=p.CapJoinStyles[U];if(se===void 0)throw new Error("Line cap style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qm=se,Q(se+" J"),this};var Ym=0;p.__private__.setLineJoin=p.setLineJoin=function(U){var se=p.CapJoinStyles[U];if(se===void 0)throw new Error("Line join style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ym=se,Q(se+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(U){if(U=U||0,isNaN(U))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(k(T(U))+" M"),this},p.GState=_v,p.setGState=function(U){(U=typeof U=="string"?kr[wn[U]]:S1(null,U)).equals(Tn)||(Q("/"+U.id+" gs"),Tn=U)};var S1=function(U,se){if(!U||!wn[U]){var Te=!1;for(var Me in kr)if(kr.hasOwnProperty(Me)&&kr[Me].equals(se)){Te=!0;break}if(Te)se=kr[Me];else{var qe="GS"+(Object.keys(kr).length+1).toString(10);kr[qe]=se,se.id=qe}return U&&(wn[U]=se.id),tr.publish("addGState",se),se}};p.addGState=function(U,se){return S1(U,se),this},p.saveGraphicsState=function(){return Q("q"),Kt.push({key:Be,size:De,color:Ld}),this},p.restoreGraphicsState=function(){Q("Q");var U=Kt.pop();return Be=U.key,De=U.size,Ld=U.color,Tn=null,this},p.setCurrentTransformationMatrix=function(U){return Q(U.toString()+" cm"),this},p.comment=function(U){return Q("#"+U),this};var Lh=function(U,se){var Te=U||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Te},set:function(tt){isNaN(tt)||(Te=parseFloat(tt))}});var Me=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Me},set:function(tt){isNaN(tt)||(Me=parseFloat(tt))}});var qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return qe},set:function(tt){qe=tt.toString()}}),this},Vm=function(U,se,Te,Me){Lh.call(this,U,se),this.type="rect";var qe=Te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return qe},set:function(ct){isNaN(ct)||(qe=parseFloat(ct))}});var tt=Me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return tt},set:function(ct){isNaN(ct)||(tt=parseFloat(ct))}}),this},Gm=function(){this.page=yr,this.currentPage=R,this.pages=re.slice(0),this.pagesContext=It.slice(0),this.x=et,this.y=Je,this.matrix=St,this.width=Id(R),this.height=eu(R),this.outputDestination=de,this.id="",this.objectNumber=-1};Gm.prototype.restore=function(){yr=this.page,R=this.currentPage,It=this.pagesContext,re=this.pages,et=this.x,Je=this.y,St=this.matrix,Km(R,this.width),Xm(R,this.height),de=this.outputDestination};var N1=function(U,se,Te,Me,qe){qn.push(new Gm),yr=R=0,re=[],et=U,Je=se,St=qe,Rm([Te,Me])},H4=function(U){if(Mn[U])qn.pop().restore();else{var se=new Gm,Te="Xo"+(Object.keys(Zr).length+1).toString(10);se.id=Te,Mn[U]=Te,Zr[Te]=se,tr.publish("addFormObject",se),qn.pop().restore()}};for(var Ih in p.beginFormObject=function(U,se,Te,Me,qe){return N1(U,se,Te,Me,qe),this},p.endFormObject=function(U){return H4(U),this},p.doFormObject=function(U,se){var Te=Zr[Mn[U]];return Q("q"),Q(se.toString()+" cm"),Q("/"+Te.id+" Do"),Q("Q"),this},p.getFormObject=function(U){var se=Zr[Mn[U]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},p.save=function(U,se){return U=U||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,se.returnPromise===!1?(Zd(Oh(Gl()),U),typeof Zd.unload=="function"&&zt.setTimeout&&setTimeout(Zd.unload,911),this):new Promise(function(Te,Me){try{var qe=Zd(Oh(Gl()),U);typeof Zd.unload=="function"&&zt.setTimeout&&setTimeout(Zd.unload,911),Te(qe)}catch(tt){Me(tt.message)}})},Rt.API)Rt.API.hasOwnProperty(Ih)&&(Ih==="events"&&Rt.API.events.length?function(U,se){var Te,Me,qe;for(qe=se.length-1;qe!==-1;qe--)Te=se[qe][0],Me=se[qe][1],U.subscribe.apply(U,[Te].concat(typeof Me=="function"?[Me]:Me))}(tr,Rt.API.events):p[Ih]=Rt.API[Ih]);var Id=p.getPageWidth=function(U){return(It[U=U||R].mediaBox.topRightX-It[U].mediaBox.bottomLeftX)/$e},Km=p.setPageWidth=function(U,se){It[U].mediaBox.topRightX=se*$e+It[U].mediaBox.bottomLeftX},eu=p.getPageHeight=function(U){return(It[U=U||R].mediaBox.topRightY-It[U].mediaBox.bottomLeftY)/$e},Xm=p.setPageHeight=function(U,se){It[U].mediaBox.topRightY=se*$e+It[U].mediaBox.bottomLeftY};return p.internal={pdfEscape:Qi,getStyle:v1,getFont:B4,getFontSize:Fe,getCharSpace:z4,getTextColor:W4,getLineHeight:w1,getLineHeightFactor:k1,getLineWidth:Mh,write:ne,getHorizontalCoordinate:il,getVerticalCoordinate:Kl,getCoordinateString:U4,getVerticalCoordinateString:Zc,collections:{},newObject:mr,newAdditionalObject:Se,newObjectDeferred:$r,newObjectDeferredBegin:oe,getFilters:He,putStream:Qe,events:tr,scaleFactor:$e,pageSize:{getWidth:function(){return Id(R)},setWidth:function(U){Km(R,U)},getHeight:function(){return eu(R)},setHeight:function(U){Xm(R,U)}},encryptionOptions:d,encryption:ai,getEncryptor:D4,output:$h,getNumberOfPages:A4,pages:re,out:Q,f2:P,f3:A,getPageInfo:x1,getPageInfoByObjId:Vt,getCurrentPageInfo:M4,getPDFVersion:g,Point:Lh,Rectangle:Vm,Matrix:$t,hasHotfix:g1},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Id(R)},set:function(U){Km(R,U)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return eu(R)},set:function(U){Xm(R,U)},enumerable:!0,configurable:!0}),C4.call(p,Ee),Be="F1",h1(a,r),tr.publish("initialized"),p}y0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},y0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},y0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},y0.prototype.processOwnerPassword=function(e,t){return Lj(Fj(t).substr(0,5),e)},y0.prototype.encryptor=function(e,t){var r=Fj(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Lj(r,n)}},_v.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Kr(e)!==Kr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Rt.API={events:[]},Rt.version="2.5.2";var In=Rt.API,fE=1,dh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},i0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Qt=function(e){return e.toFixed(2)},mu=function(e){return e.toFixed(5)};In.__acroform__={};var ms=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},N$=function(e){return e*fE},fl=function(e){var t=new RW,r=At.internal.getHeight(e)||0,n=At.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Qt(n)),Number(Qt(r))],t},ooe=In.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},loe=In.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},coe=In.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Xn=In.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return coe(e,t-1)},Qn=In.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ooe(e,t-1)},Jn=In.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return loe(e,t-1)},uoe=In.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(Qt(l.lowerLeft_X)),Number(Qt(l.lowerLeft_Y)),Number(Qt(l.upperRight_X)),Number(Qt(l.upperRight_Y))]},doe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Ij(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Qt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=fl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Ij=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(A){return A.split(`
`)}):a.map(function(A){return[A]});var i=r,s=At.internal.getHeight(e)||0;s=s<0?-s:s;var o=At.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(A,T,F){if(A+1<a.length){var M=T+" "+a[A+1][0];return bb(M,e,F).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=bb("3",e,i).height,h=e.multiline?s-i:(s-f)/2,p=h+=2,m=0,g=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+bb(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var x="",y=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var N=!1;if(a[b].length!==1&&v!==a[b].length-1){if((f+2)*(y+2)+2>s)continue e;x+=a[b][v],N=!0,g=b,b--}else{x=(x+=a[b][v]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var _=parseInt(b),C=l(_,x,i),k=b>=a.length-1;if(C&&!k){x+=" ",v=0;continue}if(C||k){if(k)g=_;else if(e.multiline&&(f+2)*(y+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(y+2)+2>s)continue e;g=_}}for(var w="",S=m;S<=g;S++){var P=a[S];if(e.multiline){if(S===g){w+=P[v]+" ",v=(v+1)%P.length;continue}if(S===m){w+=P[P.length-1]+" ";continue}}w+=P[0]+" "}switch(w=w.substr(w.length-1)==" "?w.substr(0,w.length-1):w,d=bb(w,e,i).width,e.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;case"left":default:u=2}t+=Qt(u)+" "+Qt(p)+` Td
`,t+="("+dh(w)+`) Tj
`,t+=-Qt(u)+` 0 Td
`,p=-(i+2),d=0,m=N?g:g+1,y++,x=""}break}return n.text=t,n.fontSize=i,n},bb=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},foe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hoe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},poe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),Kr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},moe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(el.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(foe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");fE=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new BW,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&hoe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],u=o.Rect;if(o.Rect&&(o.Rect=uoe(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=At.createDefaultAppearanceStream(o),Kr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=doe(o);l.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var m=p[s];typeof m=="function"&&(m=m.call(a,o)),f+="/"+s+" "+m+" ",a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m)}}else typeof(m=p)=="function"&&(m=m.call(a,o)),f+="/"+s+" "+m,a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&poe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},IW=In.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Kr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+dh(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},QS=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+dh(n(e))+")"},_l=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_l.prototype.toString=function(){return this.objId+" 0 R"},_l.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},_l.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:IW(a,this.objId,this.scope)}):a instanceof _l?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var RW=function(){_l.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ms(RW,_l);var BW=function(){_l.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+dh(r(e))+")"}},set:function(r){e=r}})};ms(BW,_l);var el=function e(){_l.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xn(t,3)},set:function(x){x?this.F=Qn(t,3):this.F=Jn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof lw)return;i="FieldObject"+e.FieldNum++}var x=function(y){return y};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+dh(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(x){s=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/fE:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof lw||this instanceof Ku))return QS(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof wa?h:QS(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=this instanceof wa?x:x.substr(0,1)==="("?i0(x.substr(1,x.length-2)):i0(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof wa?i0(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof wa?"/"+x:x}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof wa?p:QS(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof wa?x:x.substr(0,1)==="("?i0(x.substr(1,x.length-2)):i0(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof wa?i0(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof wa?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(x){x=!!x,g=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(x){m=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,1)},set:function(x){x?this.Ff=Qn(this.Ff,1):this.Ff=Jn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,2)},set:function(x){x?this.Ff=Qn(this.Ff,2):this.Ff=Jn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,3)},set:function(x){x?this.Ff=Qn(this.Ff,3):this.Ff=Jn(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');v=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(v){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};ms(el,_l);var Sf=function(){el.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return IW(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,u=[];l=s.exec(i);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,18)},set:function(r){r?this.Ff=Qn(this.Ff,18):this.Ff=Jn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Qn(this.Ff,19):this.Ff=Jn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,20)},set:function(r){r?(this.Ff=Qn(this.Ff,20),t.sort()):this.Ff=Jn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,22)},set:function(r){r?this.Ff=Qn(this.Ff,22):this.Ff=Jn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,23)},set:function(r){r?this.Ff=Qn(this.Ff,23):this.Ff=Jn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,27)},set:function(r){r?this.Ff=Qn(this.Ff,27):this.Ff=Jn(this.Ff,27)}}),this.hasAppearanceStream=!1};ms(Sf,el);var Nf=function(){Sf.call(this),this.fontName="helvetica",this.combo=!1};ms(Nf,Sf);var jf=function(){Nf.call(this),this.combo=!0};ms(jf,Nf);var $x=function(){jf.call(this),this.edit=!0};ms($x,jf);var wa=function(){el.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,15)},set:function(r){r?this.Ff=Qn(this.Ff,15):this.Ff=Jn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,16)},set:function(r){r?this.Ff=Qn(this.Ff,16):this.Ff=Jn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,17)},set:function(r){r?this.Ff=Qn(this.Ff,17):this.Ff=Jn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,26)},set:function(r){r?this.Ff=Qn(this.Ff,26):this.Ff=Jn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+dh(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Kr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ms(wa,el);var Dx=function(){wa.call(this),this.pushButton=!0};ms(Dx,wa);var Cf=function(){wa.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ms(Cf,wa);var lw=function(){var e,t;el.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+dh(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Kr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ms(lw,el),Cf.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Cf.prototype.createOption=function(e){var t=new lw;return t.Parent=this,t.optionName=e,this.Kids.push(t),goe.call(this.scope,t),t};var Mx=function(){wa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};ms(Mx,wa);var Ku=function(){el.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,13)},set:function(t){t?this.Ff=Qn(this.Ff,13):this.Ff=Jn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,21)},set:function(t){t?this.Ff=Qn(this.Ff,21):this.Ff=Jn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,23)},set:function(t){t?this.Ff=Qn(this.Ff,23):this.Ff=Jn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,24)},set:function(t){t?this.Ff=Qn(this.Ff,24):this.Ff=Jn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,25)},set:function(t){t?this.Ff=Qn(this.Ff,25):this.Ff=Jn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,26)},set:function(t){t?this.Ff=Qn(this.Ff,26):this.Ff=Jn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ms(Ku,el);var Fx=function(){Ku.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,14)},set:function(e){e?this.Ff=Qn(this.Ff,14):this.Ff=Jn(this.Ff,14)}}),this.password=!0};ms(Fx,Ku);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=fl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=Ij(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Qt(At.internal.getWidth(e))+" "+Qt(At.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Qt(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=fl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=At.internal.getHeight(e),s=At.internal.getWidth(e),o=Ij(e,e.caption);return a.push("1 g"),a.push("0 0 "+Qt(s)+" "+Qt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Qt(s-1)+" "+Qt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Qt(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=fl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Qt(At.internal.getWidth(e))+" "+Qt(At.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=At.RadioButton.Circle.YesNormal,t.D[e]=At.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=fl(e);t.scope=e.scope;var r=[],n=At.internal.getWidth(e)<=At.internal.getHeight(e)?At.internal.getWidth(e)/4:At.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=At.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+mu(At.internal.getWidth(e)/2)+" "+mu(At.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=fl(e);t.scope=e.scope;var r=[],n=At.internal.getWidth(e)<=At.internal.getHeight(e)?At.internal.getWidth(e)/4:At.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*At.internal.Bezier_C).toFixed(5)),s=Number((n*At.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+mu(At.internal.getWidth(e)/2)+" "+mu(At.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+mu(At.internal.getWidth(e)/2)+" "+mu(At.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=fl(e);t.scope=e.scope;var r=[],n=At.internal.getWidth(e)<=At.internal.getHeight(e)?At.internal.getWidth(e)/4:At.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*At.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+mu(At.internal.getWidth(e)/2)+" "+mu(At.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=At.RadioButton.Cross.YesNormal,t.D[e]=At.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=fl(e);t.scope=e.scope;var r=[],n=At.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Qt(At.internal.getWidth(e)-2)+" "+Qt(At.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Qt(n.x1.x)+" "+Qt(n.x1.y)+" m"),r.push(Qt(n.x2.x)+" "+Qt(n.x2.y)+" l"),r.push(Qt(n.x4.x)+" "+Qt(n.x4.y)+" m"),r.push(Qt(n.x3.x)+" "+Qt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=fl(e);t.scope=e.scope;var r=At.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Qt(At.internal.getWidth(e))+" "+Qt(At.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Qt(At.internal.getWidth(e)-2)+" "+Qt(At.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Qt(r.x1.x)+" "+Qt(r.x1.y)+" m"),n.push(Qt(r.x2.x)+" "+Qt(r.x2.y)+" l"),n.push(Qt(r.x4.x)+" "+Qt(r.x4.y)+" m"),n.push(Qt(r.x3.x)+" "+Qt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=fl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Qt(At.internal.getWidth(e))+" "+Qt(At.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};At.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=At.internal.getWidth(e),r=At.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},At.internal.getWidth=function(e){var t=0;return Kr(e)==="object"&&(t=N$(e.Rect[2])),t},At.internal.getHeight=function(e){var t=0;return Kr(e)==="object"&&(t=N$(e.Rect[3])),t};var goe=In.addField=function(e){if(moe(this,e),!(e instanceof el))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};In.AcroFormChoiceField=Sf,In.AcroFormListBox=Nf,In.AcroFormComboBox=jf,In.AcroFormEditBox=$x,In.AcroFormButton=wa,In.AcroFormPushButton=Dx,In.AcroFormRadioButton=Cf,In.AcroFormCheckBox=Mx,In.AcroFormTextField=Ku,In.AcroFormPasswordField=Fx,In.AcroFormAppearance=At,In.AcroForm={ChoiceField:Sf,ListBox:Nf,ComboBox:jf,EditBox:$x,Button:wa,PushButton:Dx,RadioButton:Cf,CheckBox:Mx,TextField:Ku,PasswordField:Fx,Appearance:At},Rt.AcroForm={ChoiceField:Sf,ListBox:Nf,ComboBox:jf,EditBox:$x,Button:wa,PushButton:Dx,RadioButton:Cf,CheckBox:Mx,TextField:Ku,PasswordField:Fx,Appearance:At};var xoe=Rt.AcroForm;function UW(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(A,T){var F,M,H,z,Y,G=t;if((T=T||t)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(C(A))for(Y in r)for(H=r[Y],F=0;F<H.length;F+=1){for(z=!0,M=0;M<H[F].length;M+=1)if(H[F][M]!==void 0&&H[F][M]!==A[M]){z=!1;break}if(z===!0){G=Y;break}}else for(Y in r)for(H=r[Y],F=0;F<H.length;F+=1){for(z=!0,M=0;M<H[F].length;M+=1)if(H[F][M]!==void 0&&H[F][M]!==A.charCodeAt(M)){z=!1;break}if(z===!0){G=Y;break}}return G===t&&T!==t&&(G=T),G},a=function A(T){for(var F=this.internal.write,M=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:T.width}),z.push({key:"Height",value:T.height}),T.colorSpace===v.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===v.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var Y="",G=0,I=T.transparency.length;G<I;G++)Y+=T.transparency[G]+" "+T.transparency[G]+" ";z.push({key:"Mask",value:"["+Y+"]"})}T.sMask!==void 0&&z.push({key:"SMask",value:T.objectId+1+" 0 R"});var X=T.filter!==void 0?["/"+T.filter]:void 0;if(M({data:T.data,additionalKeyValues:z,alreadyAppliedFilters:X,objectId:T.objectId}),F("endobj"),"sMask"in T&&T.sMask!==void 0){var J="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,E={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:J,data:T.sMask};"filter"in T&&(E.filter=T.filter),A.call(this,E)}if(T.colorSpace===v.INDEXED){var R=this.internal.newObject();M({data:w(new Uint8Array(T.palette)),objectId:R}),F("endobj")}},i=function(){var A=this.internal.collections.addImage_images;for(var T in A)a.call(this,A[T])},s=function(){var A,T=this.internal.collections.addImage_images,F=this.internal.write;for(var M in T)F("/I"+(A=T[M]).index,A.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var A=this.internal.collections.addImage_images;return o.call(this),A},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(A){return typeof e["process"+A.toUpperCase()]=="function"},f=function(A){return Kr(A)==="object"&&A.nodeType===1},h=function(A,T){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var F=""+A.getAttribute("src");if(F.indexOf("data:image/")===0)return Ox(unescape(F).split("base64,").pop());var M=e.loadFile(F,!0);if(M!==void 0)return M}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var H;switch(T){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;case"JPEG":case"JPG":default:H="image/jpeg"}return Ox(A.toDataURL(H,1).split("base64,").pop())}},p=function(A){var T=this.internal.collections.addImage_images;if(T){for(var F in T)if(A===T[F].alias)return T[F]}},m=function(A,T,F){return A||T||(A=-96,T=-96),A<0&&(A=-1*F.width*72/A/this.internal.scaleFactor),T<0&&(T=-1*F.height*72/T/this.internal.scaleFactor),A===0&&(A=T*F.width/F.height),T===0&&(T=A*F.height/F.width),[A,T]},g=function(A,T,F,M,H,z){var Y=m.call(this,F,M,H),G=this.internal.getCoordinateString,I=this.internal.getVerticalCoordinateString,X=l.call(this);if(F=Y[0],M=Y[1],X[H.index]=H,z){z*=Math.PI/180;var J=Math.cos(z),E=Math.sin(z),R=function(q){return q.toFixed(4)},B=[R(J),R(E),R(-1*E),R(J),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,G(A),I(T+M),"cm"].join(" ")),this.internal.write(B.join(" ")),this.internal.write([G(F),"0","0",G(M),"0","0","cm"].join(" "))):this.internal.write([G(F),"0","0",G(M),G(A),I(T+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(A){var T,F,M=0;if(typeof A=="string")for(F=A.length,T=0;T<F;T++)M=(M<<5)-M+A.charCodeAt(T),M|=0;else if(C(A))for(F=A.byteLength/2,T=0;T<F;T++)M=(M<<5)-M+A[T],M|=0;return M},b=e.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var T=!0;return A.length===0&&(T=!1),A.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(T=!1),T},N=e.__addimage__.extractImageFromDataUrl=function(A){var T=(A=A||"").split("base64,"),F=null;if(T.length===2){var M=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(M)&&(F={mimeType:M[1],charset:M[2],data:T[1]})}return F},_=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(A){return _()&&A instanceof ArrayBuffer};var C=e.__addimage__.isArrayBufferView=function(A){return _()&&typeof Uint32Array<"u"&&(A instanceof Int8Array||A instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array)},k=e.__addimage__.binaryStringToUint8Array=function(A){for(var T=A.length,F=new Uint8Array(T),M=0;M<T;M++)F[M]=A.charCodeAt(M);return F},w=e.__addimage__.arrayBufferToBinaryString=function(A){for(var T="",F=C(A)?A:new Uint8Array(A),M=0;M<F.length;M+=8192)T+=String.fromCharCode.apply(null,F.subarray(M,M+8192));return T};e.addImage=function(){var A,T,F,M,H,z,Y,G,I;if(typeof arguments[1]=="number"?(T=t,F=arguments[1],M=arguments[2],H=arguments[3],z=arguments[4],Y=arguments[5],G=arguments[6],I=arguments[7]):(T=arguments[1],F=arguments[2],M=arguments[3],H=arguments[4],z=arguments[5],Y=arguments[6],G=arguments[7],I=arguments[8]),Kr(A=arguments[0])==="object"&&!f(A)&&"imageData"in A){var X=A;A=X.imageData,T=X.format||T||t,F=X.x||F||0,M=X.y||M||0,H=X.w||X.width||H,z=X.h||X.height||z,Y=X.alias||Y,G=X.compression||G,I=X.rotation||X.angle||I}var J=this.internal.getFilters();if(G===void 0&&J.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(F)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var E=S.call(this,A,T,Y,G);return g.call(this,F,M,H,z,E,I),this};var S=function(A,T,F,M){var H,z,Y;if(typeof A=="string"&&n(A)===t){A=unescape(A);var G=P(A,!1);(G!==""||(G=e.loadFile(A,!0))!==void 0)&&(A=G)}if(f(A)&&(A=h(A,T)),T=n(A,T),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((Y=F)==null||Y.length===0)&&(F=function(I){return typeof I=="string"||C(I)?y(I):C(I.data)?y(I.data):null}(A)),(H=p.call(this,F))||(_()&&(A instanceof Uint8Array||T==="RGBA"||(z=A,A=k(A))),H=this["process"+T.toUpperCase()](A,u.call(this),F,function(I){return I&&typeof I=="string"&&(I=I.toUpperCase()),I in e.image_compression?I:x.NONE}(M),z)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},P=e.__addimage__.convertBase64ToBinaryString=function(A,T){var F;T=typeof T!="boolean"||T;var M,H="";if(typeof A=="string"){M=(F=N(A))!==null?F.data:A;try{H=Ox(M)}catch(z){if(T)throw b(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};e.getImageProperties=function(A){var T,F,M="";if(f(A)&&(A=h(A)),typeof A=="string"&&n(A)===t&&((M=P(A,!1))===""&&(M=e.loadFile(A)||""),A=M),F=n(A),!d(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(!_()||A instanceof Uint8Array||(A=k(A)),!(T=this["process"+F.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=F,T}})(Rt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Rt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var p=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(g.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(x(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+p(x(y))+") >>",g.content=i;var b=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(g.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var N=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(m(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var C=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+C+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+a),h:u(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var d=this.splitTextToSize(r,o).length;s=Math.ceil(u*d)}else o=l,s=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-u,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Rt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=e.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var v=0,x=r,y="",b=0;for(v=0;v<g.length;v+=1)x[g.charCodeAt(v)]!==void 0?(b++,typeof(x=x[g.charCodeAt(v)])=="number"&&(y+=String.fromCharCode(x),x=r,b=0),v===g.length-1&&(x=r,y+=g.charAt(v-(b-1)),v-=b-1,b=0)):(x=r,y+=g.charAt(v-b),v-=b,b=0);return y};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(g,v,x){return s(g)?i(g)===!1?-1:!u(g)||!s(v)&&!s(x)||!s(x)&&o(v)||o(g)&&!s(v)||o(g)&&l(v)||o(g)&&o(v)?0:d(g)&&s(v)&&!o(v)&&s(x)&&u(x)?3:o(g)||!s(x)?1:2:-1},p=function(g){var v=0,x=0,y=0,b="",N="",_="",C=(g=g||"").split("\\s+"),k=[];for(v=0;v<C.length;v+=1){for(k.push(""),x=0;x<C[v].length;x+=1)b=C[v][x],N=C[v][x-1],_=C[v][x+1],s(b)?(y=h(b,N,_),k[v]+=y!==-1?String.fromCharCode(t[b.charCodeAt(0)][y]):b):k[v]+=b;k[v]=f(k[v])}return k.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var g,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(v)){var y=0;for(x=[],y=0;y<v.length;y+=1)Array.isArray(v[y])?x.push([p(v[y][0]),v[y][1],v[y][2]]):x.push([p(v[y])]);g=x}else g=p(v);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",m])}(Rt.API),Rt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Rt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,m=0,g=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=u.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,N){return b.concat(v.splitTextToSize(N,x))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)p<(g=this.getStringUnitWidth(l[y],{font:f})*d)&&(p=g);return p!==0&&(m=l.length),{w:p/=h,h:Math.max((m*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,m,g,v,x=[],y=[],b=[],N={},_={},C=[],k=[],w=(h=h||{}).autoSize||!1,S=h.printHeaders!==!1,P=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,A=h.margins||Object.assign({width:this.getPageWidth()},t),T=typeof h.padding=="number"?h.padding:3,F=h.headerBackgroundColor||"#c8c8c8",M=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=M,this.setFontSize(P),f==null)y=x=Object.keys(d[0]),b=x.map(function(){return"left"});else if(Array.isArray(f)&&Kr(f[0])==="object")for(x=f.map(function(X){return X.name}),y=f.map(function(X){return X.prompt||X.name||""}),b=f.map(function(X){return X.align||"left"}),p=0;p<f.length;p+=1)_[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(y=x=f,b=x.map(function(){return"left"}));if(w||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<x.length;p+=1){for(N[v=x[p]]=d.map(function(X){return X[v]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=N[v],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)C.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[v]=Math.max.apply(null,C)+T+T,C=[]}if(S){var H={};for(p=0;p<x.length;p+=1)H[x[p]]={},H[x[p]].text=y[p],H[x[p]].align=b[p];var z=o.call(this,H,_);k=x.map(function(X){return new i(l,u,_[X],z,H[X].text,void 0,H[X].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var Y=f.reduce(function(X,J){return X[J.name]=J.align,X},{});for(p=0;p<d.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:d[p]},this);var G=o.call(this,d[p],_);for(g=0;g<x.length;g+=1){var I=d[p][x[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:g,data:I},this),s.call(this,new i(l,u,_[x[g]],G,I,p+2,Y[x[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var m=l[p];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+d+d},this).reduce(function(p,m){return Math.max(p,m)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Rt.API);var WW={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},zW=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Rj=UW(zW),HW=[100,200,300,400,500,600,700,800,900],voe=UW(HW);function Bj(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return WW[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof Rj[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function j$(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var yoe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},C$={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function T$(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function boe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},yoe,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=Bj(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+T$(i)+"' and default family '"+n+"'.");if(s=function(l,u){if(u[l])return u[l];var d=Rj[l],f=d<=Rj.normal?-1:1,h=j$(u,zW,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,s),s=function(l,u){if(u[l])return u[l];for(var d=WW[l],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,s),!(s=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var d=voe[l],f=j$(u,HW,d,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+T$(i)+"'.");return s}function A$(e){return e.trimLeft()}function woe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function _oe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var wb,E$,P$,JS=["times"];(function(e){var t,r,n,a,i,s,o,l,u,d=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new l,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new s,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new s,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var f=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=E;Object.defineProperty(this,"pdf",{get:function(){return R}});var B=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return B},set:function(pe){B=!!pe}});var q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return q},set:function(pe){q=!!pe}});var K=0;Object.defineProperty(this,"posX",{get:function(){return K},set:function(pe){isNaN(pe)||(K=pe)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(pe){isNaN(pe)||(ae=pe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(pe){var Q;typeof pe=="number"?Q=[pe,pe,pe,pe]:((Q=new Array(4))[0]=pe[0],Q[1]=pe.length>=2?pe[1]:Q[0],Q[2]=pe.length>=3?pe[2]:Q[0],Q[3]=pe.length>=4?pe[3]:Q[1]),u.margin=Q}});var ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ee},set:function(pe){ee=pe}});var W=0;Object.defineProperty(this,"lastBreak",{get:function(){return W},set:function(pe){W=pe}});var Z=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Z},set:function(pe){Z=pe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(pe){pe instanceof d&&(u=pe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(pe){u.path=pe}});var re=[];Object.defineProperty(this,"ctxStack",{get:function(){return re},set:function(pe){re=pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pe){var Q;Q=h(pe),this.ctx.fillStyle=Q.style,this.ctx.isFillTransparent=Q.a===0,this.ctx.fillOpacity=Q.a,this.pdf.setFillColor(Q.r,Q.g,Q.b,{a:Q.a}),this.pdf.setTextColor(Q.r,Q.g,Q.b,{a:Q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pe){var Q=h(pe);this.ctx.strokeStyle=Q.style,this.ctx.isStrokeTransparent=Q.a===0,this.ctx.strokeOpacity=Q.a,Q.a===0?this.pdf.setDrawColor(255,255,255):(Q.a,this.pdf.setDrawColor(Q.r,Q.g,Q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pe){["butt","round","square"].indexOf(pe)!==-1&&(this.ctx.lineCap=pe,this.pdf.setLineCap(pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pe){isNaN(pe)||(this.ctx.lineWidth=pe,this.pdf.setLineWidth(pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pe){["bevel","round","miter"].indexOf(pe)!==-1&&(this.ctx.lineJoin=pe,this.pdf.setLineJoin(pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pe){isNaN(pe)||(this.ctx.miterLimit=pe,this.pdf.setMiterLimit(pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pe){this.ctx.textBaseline=pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pe){["right","end","center","left","start"].indexOf(pe)!==-1&&(this.ctx.textAlign=pe)}});var O=null;function de(pe,Q){if(O===null){var ne=function(Ae){var Ee=[];return Object.keys(Ae).forEach(function(De){Ae[De].forEach(function(Oe){var Fe=null;switch(Oe){case"bold":Fe={family:De,weight:"bold"};break;case"italic":Fe={family:De,style:"italic"};break;case"bolditalic":Fe={family:De,weight:"bold",style:"italic"};break;case"":case"normal":Fe={family:De}}Fe!==null&&(Fe.ref={name:De,style:Oe},Ee.push(Fe))})}),Ee}(pe.getFontList());O=function(Ae){for(var Ee={},De=0;De<Ae.length;++De){var Oe=Bj(Ae[De]),Fe=Oe.family,ve=Oe.stretch,me=Oe.style,le=Oe.weight;Ee[Fe]=Ee[Fe]||{},Ee[Fe][ve]=Ee[Fe][ve]||{},Ee[Fe][ve][me]=Ee[Fe][ve][me]||{},Ee[Fe][ve][me][le]=Oe}return Ee}(ne.concat(Q))}return O}var ce=null;Object.defineProperty(this,"fontFaces",{get:function(){return ce},set:function(pe){O=null,ce=pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pe){var Q;if(this.ctx.font=pe,(Q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(pe))!==null){var ne=Q[1],Ae=(Q[2],Q[3]),Ee=Q[4],De=(Q[5],Q[6]),Oe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(Oe==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:Oe==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var Fe=function(Ce){var Be,$e,et=[],Je=Ce.trim();if(Je==="")return JS;if(Je in C$)return[C$[Je]];for(;Je!=="";){switch($e=null,Be=(Je=A$(Je)).charAt(0)){case'"':case"'":$e=woe(Je.substring(1),Be);break;default:$e=_oe(Je)}if($e===null||(et.push($e[0]),(Je=A$($e[1]))!==""&&Je.charAt(0)!==","))return JS;Je=Je.replace(/^,/,"")}return et}(De);if(this.fontFaces){var ve=boe(de(this.pdf,this.fontFaces),Fe.map(function(Ce){return{family:Ce,stretch:"normal",weight:Ae,style:ne}}));this.pdf.setFont(ve.ref.name,ve.ref.style)}else{var me="";(Ae==="bold"||parseInt(Ae,10)>=700||ne==="bold")&&(me="bold"),ne==="italic"&&(me+="italic"),me.length===0&&(me="normal");for(var le="",be={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pe=0;Pe<Fe.length;Pe++){if(this.pdf.internal.getFont(Fe[Pe],me,{noFallback:!0,disableWarning:!0})!==void 0){le=Fe[Pe];break}if(me==="bolditalic"&&this.pdf.internal.getFont(Fe[Pe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)le=Fe[Pe],me="bold";else if(this.pdf.internal.getFont(Fe[Pe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){le=Fe[Pe],me="normal";break}}if(le===""){for(var je=0;je<Fe.length;je++)if(be[Fe[je]]){le=be[Fe[je]];break}}le=le===""?"Times":le,this.pdf.setFont(le,me)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pe){this.ctx.globalCompositeOperation=pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pe){this.ctx.globalAlpha=pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pe){this.ctx.lineDashOffset=pe,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pe){this.ctx.lineDash=pe,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pe){this.ctx.ignoreClearRect=!!pe}})};f.prototype.setLineDash=function(E){this.lineDash=E},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){N.call(this,"fill",!1)},f.prototype.stroke=function(){N.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(E,R){if(isNaN(E)||isNaN(R))throw nn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var B=this.ctx.transform.applyToPoint(new s(E,R));this.path.push({type:"mt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(E,R)},f.prototype.closePath=function(){var E=new s(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&Kr(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){E=new s(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(E.x,E.y)},f.prototype.lineTo=function(E,R){if(isNaN(E)||isNaN(R))throw nn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var B=this.ctx.transform.applyToPoint(new s(E,R));this.path.push({type:"lt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(B.x,B.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},f.prototype.quadraticCurveTo=function(E,R,B,q){if(isNaN(B)||isNaN(q)||isNaN(E)||isNaN(R))throw nn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var K=this.ctx.transform.applyToPoint(new s(B,q)),ae=this.ctx.transform.applyToPoint(new s(E,R));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:K.x,y:K.y}),this.ctx.lastPoint=new s(K.x,K.y)},f.prototype.bezierCurveTo=function(E,R,B,q,K,ae){if(isNaN(K)||isNaN(ae)||isNaN(E)||isNaN(R)||isNaN(B)||isNaN(q))throw nn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ee=this.ctx.transform.applyToPoint(new s(K,ae)),W=this.ctx.transform.applyToPoint(new s(E,R)),Z=this.ctx.transform.applyToPoint(new s(B,q));this.path.push({type:"bct",x1:W.x,y1:W.y,x2:Z.x,y2:Z.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(ee.x,ee.y)},f.prototype.arc=function(E,R,B,q,K,ae){if(isNaN(E)||isNaN(R)||isNaN(B)||isNaN(q)||isNaN(K))throw nn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var ee=this.ctx.transform.applyToPoint(new s(E,R));E=ee.x,R=ee.y;var W=this.ctx.transform.applyToPoint(new s(0,B)),Z=this.ctx.transform.applyToPoint(new s(0,0));B=Math.sqrt(Math.pow(W.x-Z.x,2)+Math.pow(W.y-Z.y,2))}Math.abs(K-q)>=2*Math.PI&&(q=0,K=2*Math.PI),this.path.push({type:"arc",x:E,y:R,radius:B,startAngle:q,endAngle:K,counterclockwise:ae})},f.prototype.arcTo=function(E,R,B,q,K){throw new Error("arcTo not implemented.")},f.prototype.rect=function(E,R,B,q){if(isNaN(E)||isNaN(R)||isNaN(B)||isNaN(q))throw nn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,R),this.lineTo(E+B,R),this.lineTo(E+B,R+q),this.lineTo(E,R+q),this.lineTo(E,R),this.lineTo(E+B,R),this.lineTo(E,R)},f.prototype.fillRect=function(E,R,B,q){if(isNaN(E)||isNaN(R)||isNaN(B)||isNaN(q))throw nn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var K={};this.lineCap!=="butt"&&(K.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(K.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,R,B,q),this.fill(),K.hasOwnProperty("lineCap")&&(this.lineCap=K.lineCap),K.hasOwnProperty("lineJoin")&&(this.lineJoin=K.lineJoin)}},f.prototype.strokeRect=function(E,R,B,q){if(isNaN(E)||isNaN(R)||isNaN(B)||isNaN(q))throw nn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(E,R,B,q),this.stroke())},f.prototype.clearRect=function(E,R,B,q){if(isNaN(E)||isNaN(R)||isNaN(B)||isNaN(q))throw nn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,R,B,q))},f.prototype.save=function(E){E=typeof E!="boolean"||E;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var q=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=q}},f.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("Q");this.pdf.setPage(R),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(E){var R,B,q,K;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))R=0,B=0,q=0,K=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(ae!==null)R=parseInt(ae[1]),B=parseInt(ae[2]),q=parseInt(ae[3]),K=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)R=parseInt(ae[1]),B=parseInt(ae[2]),q=parseInt(ae[3]),K=parseFloat(ae[4]);else{if(K=1,typeof E=="string"&&E.charAt(0)!=="#"){var ee=new MW(E);E=ee.ok?ee.toHex():"#000000"}E.length===4?(R=E.substring(1,2),R+=R,B=E.substring(2,3),B+=B,q=E.substring(3,4),q+=q):(R=E.substring(1,3),B=E.substring(3,5),q=E.substring(5,7)),R=parseInt(R,16),B=parseInt(B,16),q=parseInt(q,16)}}return{r:R,g:B,b:q,a:K,style:E}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(E,R,B,q){if(isNaN(R)||isNaN(B)||typeof E!="string")throw nn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(q=isNaN(q)?void 0:q,!p.call(this)){var K=G(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;T.call(this,{text:E,x:R,y:B,scale:ae,angle:K,align:this.textAlign,maxWidth:q})}},f.prototype.strokeText=function(E,R,B,q){if(isNaN(R)||isNaN(B)||typeof E!="string")throw nn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){q=isNaN(q)?void 0:q;var K=G(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;T.call(this,{text:E,x:R,y:B,scale:ae,renderingMode:"stroke",angle:K,align:this.textAlign,maxWidth:q})}},f.prototype.measureText=function(E){if(typeof E!="string")throw nn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,B=this.pdf.internal.scaleFactor,q=R.internal.getFontSize(),K=R.getStringUnitWidth(E)*q/R.internal.scaleFactor,ae=function(ee){var W=(ee=ee||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return W}}),this};return new ae({width:K*=Math.round(96*B/72*1e4)/1e4})},f.prototype.scale=function(E,R){if(isNaN(E)||isNaN(R))throw nn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var B=new l(E,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.rotate=function(E){if(isNaN(E))throw nn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new l(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.translate=function(E,R){if(isNaN(E)||isNaN(R))throw nn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var B=new l(1,0,0,1,E,R);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.transform=function(E,R,B,q,K,ae){if(isNaN(E)||isNaN(R)||isNaN(B)||isNaN(q)||isNaN(K)||isNaN(ae))throw nn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ee=new l(E,R,B,q,K,ae);this.ctx.transform=this.ctx.transform.multiply(ee)},f.prototype.setTransform=function(E,R,B,q,K,ae){E=isNaN(E)?1:E,R=isNaN(R)?0:R,B=isNaN(B)?0:B,q=isNaN(q)?1:q,K=isNaN(K)?0:K,ae=isNaN(ae)?0:ae,this.ctx.transform=new l(E,R,B,q,K,ae)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(E,R,B,q,K,ae,ee,W,Z){var re=this.pdf.getImageProperties(E),O=1,de=1,ce=1,pe=1;q!==void 0&&W!==void 0&&(ce=W/q,pe=Z/K,O=re.width/q*W/q,de=re.height/K*Z/K),ae===void 0&&(ae=R,ee=B,R=0,B=0),q!==void 0&&W===void 0&&(W=q,Z=K),q===void 0&&W===void 0&&(W=re.width,Z=re.height);for(var Q,ne=this.ctx.transform.decompose(),Ae=G(ne.rotate.shx),Ee=new l,De=(Ee=(Ee=(Ee=Ee.multiply(ne.translate)).multiply(ne.skew)).multiply(ne.scale)).applyToRectangle(new o(ae-R*ce,ee-B*pe,q*O,K*de)),Oe=v.call(this,De),Fe=[],ve=0;ve<Oe.length;ve+=1)Fe.indexOf(Oe[ve])===-1&&Fe.push(Oe[ve]);if(b(Fe),this.autoPaging)for(var me=Fe[0],le=Fe[Fe.length-1],be=me;be<le+1;be++){this.pdf.setPage(be);var Pe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=be===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=be===1?0:Ce+(be-2)*Be;if(this.ctx.clip_path.length!==0){var et=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Q,this.posX+this.margin[3],-$e+je+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=et}var Je=JSON.parse(JSON.stringify(De));Je=y([Je],this.posX+this.margin[3],-$e+je+this.ctx.prevPageLastElemOffset)[0];var St=(be>me||be<le)&&g.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pe,Be,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,Ae),St&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(E,"JPEG",De.x,De.y,De.w,De.h,null,null,Ae)};var v=function(E,R,B){var q=[];R=R||this.pdf.internal.pageSize.width,B=B||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var K=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":q.push(Math.floor((E.y+K)/B)+1);break;case"arc":q.push(Math.floor((E.y+K-E.radius)/B)+1),q.push(Math.floor((E.y+K+E.radius)/B)+1);break;case"qct":var ae=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);q.push(Math.floor((ae.y+K)/B)+1),q.push(Math.floor((ae.y+ae.h+K)/B)+1);break;case"bct":var ee=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);q.push(Math.floor((ee.y+K)/B)+1),q.push(Math.floor((ee.y+ee.h+K)/B)+1);break;case"rect":q.push(Math.floor((E.y+K)/B)+1),q.push(Math.floor((E.y+E.h+K)/B)+1)}for(var W=0;W<q.length;W+=1)for(;this.pdf.internal.getNumberOfPages()<q[W];)x.call(this);return q},x=function(){var E=this.fillStyle,R=this.strokeStyle,B=this.font,q=this.lineCap,K=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=R,this.font=B,this.lineCap=q,this.lineWidth=K,this.lineJoin=ae},y=function(E,R,B){for(var q=0;q<E.length;q++)switch(E[q].type){case"bct":E[q].x2+=R,E[q].y2+=B;case"qct":E[q].x1+=R,E[q].y1+=B;case"mt":case"lt":case"arc":default:E[q].x+=R,E[q].y+=B}return E},b=function(E){return E.sort(function(R,B){return R-B})},N=function(E,R){for(var B,q,K=this.fillStyle,ae=this.strokeStyle,ee=this.lineCap,W=this.lineWidth,Z=Math.abs(W*this.ctx.transform.scaleX),re=this.lineJoin,O=JSON.parse(JSON.stringify(this.path)),de=JSON.parse(JSON.stringify(this.path)),ce=[],pe=0;pe<de.length;pe++)if(de[pe].x!==void 0)for(var Q=v.call(this,de[pe]),ne=0;ne<Q.length;ne+=1)ce.indexOf(Q[ne])===-1&&ce.push(Q[ne]);for(var Ae=0;Ae<ce.length;Ae++)for(;this.pdf.internal.getNumberOfPages()<ce[Ae];)x.call(this);if(b(ce),this.autoPaging)for(var Ee=ce[0],De=ce[ce.length-1],Oe=Ee;Oe<De+1;Oe++){this.pdf.setPage(Oe),this.fillStyle=K,this.strokeStyle=ae,this.lineCap=ee,this.lineWidth=Z,this.lineJoin=re;var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ve=Oe===1?this.posY+this.margin[0]:this.margin[0],me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],be=Oe===1?0:me+(Oe-2)*le;if(this.ctx.clip_path.length!==0){var Pe=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(B,this.posX+this.margin[3],-be+ve+this.ctx.prevPageLastElemOffset),_.call(this,E,!0),this.path=Pe}if(q=JSON.parse(JSON.stringify(O)),this.path=y(q,this.posX+this.margin[3],-be+ve+this.ctx.prevPageLastElemOffset),R===!1||Oe===0){var je=(Oe>Ee||Oe<De)&&g.call(this);je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,le,null).clip().discardPath()),_.call(this,E,R),je&&this.pdf.restoreGraphicsState()}this.lineWidth=W}else this.lineWidth=Z,_.call(this,E,R),this.lineWidth=W;this.path=O},_=function(E,R){if((E!=="stroke"||R||!m.call(this))&&(E==="stroke"||R||!p.call(this))){for(var B,q,K=[],ae=this.path,ee=0;ee<ae.length;ee++){var W=ae[ee];switch(W.type){case"begin":K.push({begin:!0});break;case"close":K.push({close:!0});break;case"mt":K.push({start:W,deltas:[],abs:[]});break;case"lt":var Z=K.length;if(ae[ee-1]&&!isNaN(ae[ee-1].x)&&(B=[W.x-ae[ee-1].x,W.y-ae[ee-1].y],Z>0)){for(;Z>=0;Z--)if(K[Z-1].close!==!0&&K[Z-1].begin!==!0){K[Z-1].deltas.push(B),K[Z-1].abs.push(W);break}}break;case"bct":B=[W.x1-ae[ee-1].x,W.y1-ae[ee-1].y,W.x2-ae[ee-1].x,W.y2-ae[ee-1].y,W.x-ae[ee-1].x,W.y-ae[ee-1].y],K[K.length-1].deltas.push(B);break;case"qct":var re=ae[ee-1].x+2/3*(W.x1-ae[ee-1].x),O=ae[ee-1].y+2/3*(W.y1-ae[ee-1].y),de=W.x+2/3*(W.x1-W.x),ce=W.y+2/3*(W.y1-W.y),pe=W.x,Q=W.y;B=[re-ae[ee-1].x,O-ae[ee-1].y,de-ae[ee-1].x,ce-ae[ee-1].y,pe-ae[ee-1].x,Q-ae[ee-1].y],K[K.length-1].deltas.push(B);break;case"arc":K.push({deltas:[],abs:[],arc:!0}),Array.isArray(K[K.length-1].abs)&&K[K.length-1].abs.push(W)}}q=R?null:E==="stroke"?"stroke":"fill";for(var ne=!1,Ae=0;Ae<K.length;Ae++)if(K[Ae].arc)for(var Ee=K[Ae].abs,De=0;De<Ee.length;De++){var Oe=Ee[De];Oe.type==="arc"?w.call(this,Oe.x,Oe.y,Oe.radius,Oe.startAngle,Oe.endAngle,Oe.counterclockwise,void 0,R,!ne):F.call(this,Oe.x,Oe.y),ne=!0}else if(K[Ae].close===!0)this.pdf.internal.out("h"),ne=!1;else if(K[Ae].begin!==!0){var Fe=K[Ae].start.x,ve=K[Ae].start.y;M.call(this,K[Ae].deltas,Fe,ve),ne=!0}q&&S.call(this,q),R&&P.call(this)}},C=function(E){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,B=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-B;case"top":return E+R-B;case"hanging":return E+R-2*B;case"middle":return E+R/2-B;case"ideographic":return E;case"alphabetic":default:return E}},k=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(R,B){this.colorStops.push([R,B])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var w=function(E,R,B,q,K,ae,ee,W,Z){for(var re=z.call(this,B,q,K,ae),O=0;O<re.length;O++){var de=re[O];O===0&&(Z?A.call(this,de.x1+E,de.y1+R):F.call(this,de.x1+E,de.y1+R)),H.call(this,E,R,de.x2,de.y2,de.x3,de.y3,de.x4,de.y4)}W?P.call(this):S.call(this,ee)},S=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(E,R){this.pdf.internal.out(r(E)+" "+n(R)+" m")},T=function(E){var R;switch(E.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var B=this.pdf.getTextDimensions(E.text),q=C.call(this,E.y),K=k.call(this,q)-B.h,ae=this.ctx.transform.applyToPoint(new s(E.x,q)),ee=this.ctx.transform.decompose(),W=new l;W=(W=(W=W.multiply(ee.translate)).multiply(ee.skew)).multiply(ee.scale);for(var Z,re,O,de=this.ctx.transform.applyToRectangle(new o(E.x,q,B.w,B.h)),ce=W.applyToRectangle(new o(E.x,K,B.w,B.h)),pe=v.call(this,ce),Q=[],ne=0;ne<pe.length;ne+=1)Q.indexOf(pe[ne])===-1&&Q.push(pe[ne]);if(b(Q),this.autoPaging)for(var Ae=Q[0],Ee=Q[Q.length-1],De=Ae;De<Ee+1;De++){this.pdf.setPage(De);var Oe=De===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ve=this.pdf.internal.pageSize.height-this.margin[2],me=ve-this.margin[0],le=this.pdf.internal.pageSize.width-this.margin[1],be=le-this.margin[3],Pe=De===1?0:Fe+(De-2)*me;if(this.ctx.clip_path.length!==0){var je=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Z,this.posX+this.margin[3],-1*Pe+Oe),_.call(this,"fill",!0),this.path=je}var Ce=y([JSON.parse(JSON.stringify(ce))],this.posX+this.margin[3],-Pe+Oe+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*E.scale),O=this.lineWidth,this.lineWidth=O*E.scale);var Be=this.autoPaging!=="text";if(Be||Ce.y+Ce.h<=ve){if(Be||Ce.y>=Oe&&Ce.x<=le){var $e=Be?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||le-Ce.x)[0],et=y([JSON.parse(JSON.stringify(de))],this.posX+this.margin[3],-Pe+Oe+this.ctx.prevPageLastElemOffset)[0],Je=Be&&(De>Ae||De<Ee)&&g.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],be,me,null).clip().discardPath()),this.pdf.text($e,et.x,et.y,{angle:E.angle,align:R,renderingMode:E.renderingMode}),Je&&this.pdf.restoreGraphicsState()}}else Ce.y<ve&&(this.ctx.prevPageLastElemOffset+=ve-Ce.y);E.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=O)}else E.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*E.scale),O=this.lineWidth,this.lineWidth=O*E.scale),this.pdf.text(E.text,ae.x+this.posX,ae.y+this.posY,{angle:E.angle,align:R,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=O)},F=function(E,R,B,q){B=B||0,q=q||0,this.pdf.internal.out(r(E+B)+" "+n(R+q)+" l")},M=function(E,R,B){return this.pdf.lines(E,R,B,null,null)},H=function(E,R,B,q,K,ae,ee,W){this.pdf.internal.out([t(a(B+E)),t(i(q+R)),t(a(K+E)),t(i(ae+R)),t(a(ee+E)),t(i(W+R)),"c"].join(" "))},z=function(E,R,B,q){for(var K=2*Math.PI,ae=Math.PI/2;R>B;)R-=K;var ee=Math.abs(B-R);ee<K&&q&&(ee=K-ee);for(var W=[],Z=q?-1:1,re=R;ee>1e-5;){var O=re+Z*Math.min(ee,ae);W.push(Y.call(this,E,re,O)),ee-=Math.abs(O-re),re=O}return W},Y=function(E,R,B){var q=(B-R)/2,K=E*Math.cos(q),ae=E*Math.sin(q),ee=K,W=-ae,Z=ee*ee+W*W,re=Z+ee*K+W*ae,O=4/3*(Math.sqrt(2*Z*re)-re)/(ee*ae-W*K),de=ee-O*W,ce=W+O*ee,pe=de,Q=-ce,ne=q+R,Ae=Math.cos(ne),Ee=Math.sin(ne);return{x1:E*Math.cos(R),y1:E*Math.sin(R),x2:de*Ae-ce*Ee,y2:de*Ee+ce*Ae,x3:pe*Ae-Q*Ee,y3:pe*Ee+Q*Ae,x4:E*Math.cos(B),y4:E*Math.sin(B)}},G=function(E){return 180*E/Math.PI},I=function(E,R,B,q,K,ae){var ee=E+.5*(B-E),W=R+.5*(q-R),Z=K+.5*(B-K),re=ae+.5*(q-ae),O=Math.min(E,K,ee,Z),de=Math.max(E,K,ee,Z),ce=Math.min(R,ae,W,re),pe=Math.max(R,ae,W,re);return new o(O,ce,de-O,pe-ce)},X=function(E,R,B,q,K,ae,ee,W){var Z,re,O,de,ce,pe,Q,ne,Ae,Ee,De,Oe,Fe,ve,me=B-E,le=q-R,be=K-B,Pe=ae-q,je=ee-K,Ce=W-ae;for(re=0;re<41;re++)Ae=(Q=(O=E+(Z=re/40)*me)+Z*((ce=B+Z*be)-O))+Z*(ce+Z*(K+Z*je-ce)-Q),Ee=(ne=(de=R+Z*le)+Z*((pe=q+Z*Pe)-de))+Z*(pe+Z*(ae+Z*Ce-pe)-ne),re==0?(De=Ae,Oe=Ee,Fe=Ae,ve=Ee):(De=Math.min(De,Ae),Oe=Math.min(Oe,Ee),Fe=Math.max(Fe,Ae),ve=Math.max(ve,Ee));return new o(Math.round(De),Math.round(Oe),Math.round(Fe-De),Math.round(ve-Oe))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,R,B=(E=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:R}));this.prevLineDash!==B&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=B)}}})(Rt.API),function(e){var t=function(i){var s,o,l,u,d,f,h,p,m,g;for(o=[],l=0,u=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;u>l;l+=4)(d=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(d=((d=((d=((d=(d-(g=d%85))/85)-(m=d%85))/85)-(p=d%85))/85)-(h=d%85))/85)%85,o.push(f+33,h+33,p+33,m+33,g+33)):o.push(122);return function(v,x){for(var y=x;y>0;y--)v.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,u,d,f=String,h="length",p=255,m="charCodeAt",g="slice",v="replace";for(i[g](-2),i=i[g](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],u=0,d=(i+=s="uuuuu"[g](i[h]%5||5))[h];d>u;u+=5)o=52200625*(i[m](u)-33)+614125*(i[m](u+1)-33)+7225*(i[m](u+2)-33)+85*(i[m](u+3)-33)+(i[m](u+4)-33),l.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(x,y){for(var b=y;b>0;b--)x.pop()}(l,s[h]),f.fromCharCode.apply(f,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=Dj(s)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,s){var o=0,l=i||"",u=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(Rt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,u,d){var f=new XMLHttpRequest,h=0,p=function(m){var g=m.length,v=[],x=String.fromCharCode;for(h=0;h<g;h+=1)v.push(x(255&m.charCodeAt(h)));return v.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Rt.API),function(e){function t(){return(zt.html2canvas?Promise.resolve(zt.html2canvas):Mc(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(zt.DOMPurify?Promise.resolve(zt.DOMPurify):Mc(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=Kr(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),u=s.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],m=p.src.find(function(g){return g.format==="truetype"});m&&l.addFont(m.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(s=s||Rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,l,u){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,u){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(u,d){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,d).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=l.call(u,s,o);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Rt.getPageSize=function(s,o,l){if(Kr(s)==="object"){var u=s;s=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var d,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var p,m=0,g=0;if(h.hasOwnProperty(f))m=h[f][1]/d,g=h[f][0]/d;else try{m=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",g>m&&(p=g,g=m,m=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",m>g&&(p=g,g=m,m=p)}return{width:g,height:m,unit:o,k:d,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(Bj):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}}(Rt.API),Rt.API.addJS=function(e){return P$=e,this.internal.events.subscribe("postPutResources",function(){wb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(wb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),E$=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+P$+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){wb!==void 0&&E$!==void 0&&this.internal.out("/Names <</JavaScript "+wb+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Rt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,g={width:0,height:0,numcomponents:1},v=4;v<m;v+=2){if(v+=p,t.indexOf(f.charCodeAt(v+1))!==-1){h=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),g={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:h,numcomponents:f.charCodeAt(v+9)};break}p=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(Rt.API);var s0,_b,O$,$$,D$,koe=function(){var e,t,r;function n(i){var s,o,l,u,d,f,h,p,m,g,v,x,y,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),m=(function(){var N,_;for(_=[],N=0;N<4;++N)_.push(String.fromCharCode(this.data[this.pos++]));return _}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,x=0;0<=s?x<s:x>s;0<=s?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(y=0;0<=g?y<g:y>g;0<=g?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(v=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,v.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,h,p,m){var g,v,x,y,b,N,_,C,k,w,S,P,A,T,F,M,H,z,Y,G,I,X=Math.ceil((u.width-f)/p),J=Math.ceil((u.height-h)/m),E=u.width==X&&u.height==J;for(T=s*X,P=E?o:new Uint8Array(T*J),N=i.length,A=0,v=0;A<J&&l<N;){switch(i[l++]){case 0:for(y=H=0;H<T;y=H+=1)P[v++]=i[l++];break;case 1:for(y=z=0;z<T;y=z+=1)g=i[l++],b=y<s?0:P[v-s],P[v++]=(g+b)%256;break;case 2:for(y=Y=0;Y<T;y=Y+=1)g=i[l++],x=(y-y%s)/s,F=A&&P[(A-1)*T+x*s+y%s],P[v++]=(F+g)%256;break;case 3:for(y=G=0;G<T;y=G+=1)g=i[l++],x=(y-y%s)/s,b=y<s?0:P[v-s],F=A&&P[(A-1)*T+x*s+y%s],P[v++]=(g+Math.floor((b+F)/2))%256;break;case 4:for(y=I=0;I<T;y=I+=1)g=i[l++],x=(y-y%s)/s,b=y<s?0:P[v-s],A===0?F=M=0:(F=P[(A-1)*T+x*s+y%s],M=x&&P[(A-1)*T+(x-1)*s+y%s]),_=b+F-M,C=Math.abs(_-b),w=Math.abs(_-F),S=Math.abs(_-M),k=C<=w&&C<=S?b:w<=S?F:M,P[v++]=(g+k)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!E){var R=((h+A*m)*u.width+f)*s,B=A*T;for(y=0;y<X;y+=1){for(var q=0;q<s;q+=1)o[R++]=P[B++];R+=(p-1)*s}}A++}}return i=eoe(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,u,d,f,h,p;for(o=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+o.length),l=0,i=0,s=f=0,h=o.length;f<h;s=f+=3)u[l++]=o[s],u[l++]=o[s+1],u[l++]=o[s+2],u[l++]=(p=d[i++])!=null?p:255;return u},n.prototype.copyToImageData=function(i,s){var o,l,u,d,f,h,p,m,g,v,x;if(l=this.colors,g=null,o=this.hasAlphaChannel,this.palette.length&&(g=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,o=!0),m=(u=i.data||i).length,f=g||s,d=h=0,l===1)for(;d<m;)p=g?4*s[d/4]:h,v=f[p++],u[d++]=v,u[d++]=v,u[d++]=v,u[d++]=o?f[p++]:255,h=p;else for(;d<m;)p=g?4*s[d/4]:h,u[d++]=f[p++],u[d++]=f[p++],u[d++]=f[p++],u[d++]=o?f[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(zt)==="[object Window]"){try{t=zt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,u,d,f,h,p;if(this.animation){for(p=[],o=d=0,f=(h=this.animation.frames).length;d<f;o=++d)s=h[o],l=i.createImageData(s.width,s.height),u=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,u),s.imageData=l,p.push(s.image=e(l));return p}},n.prototype.renderFrame=function(i,s){var o,l,u;return o=(l=this.animation.frames)[s],u=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,u,d,f,h=this;return o=0,f=this.animation,u=f.numFrames,l=f.frames,d=f.numPlays,(s=function(){var p,m;if(p=o++%u,m=l[p],h.renderFrame(i,p),u>1&&o/u<d)return h.animation._timeout=setTimeout(s,m.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Soe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var u=!0,d=[],f=0,h=null,p=0,m=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&g)&&(h=null),p=g>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,N=e[t++],_=N>>6&1,C=1<<(7&N)+1,k=o,w=l,S=!1;N>>7&&(S=!0,k=t,w=C,t+=3*C);var P=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}d.push({x:v,y:x,width:y,height:b,has_local_palette:S,palette_offset:k,palette_size:w,data_offset:P,data_length:t-P,transparent_index:h,interlaced:!!_,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(T){if(T<0||T>=d.length)throw new Error("Frame index out of range.");return d[T]},this.decodeAndBlitFrameBGRA=function(T,F){var M=this.frameInfo(T),H=M.width*M.height,z=new Uint8Array(H);M$(e,M.data_offset,z,H);var Y=M.palette_offset,G=M.transparent_index;G===null&&(G=256);var I=M.width,X=r-I,J=I,E=4*(M.y*r+M.x),R=4*((M.y+M.height)*r+M.x),B=E,q=4*X;M.interlaced===!0&&(q+=4*r*7);for(var K=8,ae=0,ee=z.length;ae<ee;++ae){var W=z[ae];if(J===0&&(J=I,(B+=q)>=R&&(q=4*X+4*r*(K-1),B=E+(I+X)*(K<<1),K>>=1)),W===G)B+=4;else{var Z=e[Y+3*W],re=e[Y+3*W+1],O=e[Y+3*W+2];F[B++]=O,F[B++]=re,F[B++]=Z,F[B++]=255}--J}},this.decodeAndBlitFrameRGBA=function(T,F){var M=this.frameInfo(T),H=M.width*M.height,z=new Uint8Array(H);M$(e,M.data_offset,z,H);var Y=M.palette_offset,G=M.transparent_index;G===null&&(G=256);var I=M.width,X=r-I,J=I,E=4*(M.y*r+M.x),R=4*((M.y+M.height)*r+M.x),B=E,q=4*X;M.interlaced===!0&&(q+=4*r*7);for(var K=8,ae=0,ee=z.length;ae<ee;++ae){var W=z[ae];if(J===0&&(J=I,(B+=q)>=R&&(q=4*X+4*r*(K-1),B=E+(I+X)*(K<<1),K>>=1)),W===G)B+=4;else{var Z=e[Y+3*W],re=e[Y+3*W+1],O=e[Y+3*W+2];F[B++]=Z,F[B++]=re,F[B++]=O,F[B++]=255}--J}}}function M$(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,u=(1<<l)-1,d=0,f=0,h=0,p=e[t++],m=new Int32Array(4096),g=null;;){for(;d<16&&p!==0;)f|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<l)break;var v=f&u;if(f>>=l,d-=l,v!==i){if(v===s)break;for(var x=v<o?v:g,y=0,b=x;b>i;)b=m[b]>>8,++y;var N=b;if(h+y+(x!==v?1:0)>n)return void nn.log("Warning, gif stream longer than expected.");r[h++]=N;var _=h+=y;for(x!==v&&(r[h++]=N),b=x;y--;)b=m[b],r[--_]=255&b,b>>=8;g!==null&&o<4096&&(m[o++]=g<<8|N,o>=u+1&&l<12&&(++l,u=u<<1|1)),g=v}else o=s+1,u=(1<<(l=a+1))-1,g=null}return h!==n&&nn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ZS(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),m=new Array(64),g=[],v=0,x=7,y=new Array(64),b=new Array(64),N=new Array(64),_=new Array(256),C=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],w=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(E,R){for(var B=0,q=0,K=new Array,ae=1;ae<=16;ae++){for(var ee=1;ee<=E[ae];ee++)K[R[q]]=[],K[R[q]][0]=B,K[R[q]][1]=ae,q++,B++;B*=2}return K}function Y(E){for(var R=E[0],B=E[1]-1;B>=0;)R&1<<B&&(v|=1<<x),B--,--x<0&&(v==255?(G(255),G(0)):G(v),x=7,v=0)}function G(E){g.push(E)}function I(E){G(E>>8&255),G(255&E)}function X(E,R,B,q,K){for(var ae,ee=K[0],W=K[240],Z=function(Ee,De){var Oe,Fe,ve,me,le,be,Pe,je,Ce,Be,$e=0;for(Ce=0;Ce<8;++Ce){Oe=Ee[$e],Fe=Ee[$e+1],ve=Ee[$e+2],me=Ee[$e+3],le=Ee[$e+4],be=Ee[$e+5],Pe=Ee[$e+6];var et=Oe+(je=Ee[$e+7]),Je=Oe-je,St=Fe+Pe,Tt=Fe-Pe,wt=ve+be,Kt=ve-be,Dt=me+le,Ur=me-le,kr=et+Dt,wn=et-Dt,Tn=St+wt,yr=St-wt;Ee[$e]=kr+Tn,Ee[$e+4]=kr-Tn;var It=.707106781*(yr+wn);Ee[$e+2]=wn+It,Ee[$e+6]=wn-It;var tr=.382683433*((kr=Ur+Kt)-(yr=Tt+Je)),ti=.5411961*kr+tr,Zr=1.306562965*yr+tr,Mn=.707106781*(Tn=Kt+Tt),qn=Je+Mn,$t=Je-Mn;Ee[$e+5]=$t+ti,Ee[$e+3]=$t-ti,Ee[$e+1]=qn+Zr,Ee[$e+7]=qn-Zr,$e+=8}for($e=0,Ce=0;Ce<8;++Ce){Oe=Ee[$e],Fe=Ee[$e+8],ve=Ee[$e+16],me=Ee[$e+24],le=Ee[$e+32],be=Ee[$e+40],Pe=Ee[$e+48];var ia=Oe+(je=Ee[$e+56]),Pt=Oe-je,sr=Fe+Pe,mr=Fe-Pe,$r=ve+be,oe=ve-be,Se=me+le,xe=me-le,ye=ia+Se,_e=ia-Se,Ne=sr+$r,He=sr-$r;Ee[$e]=ye+Ne,Ee[$e+32]=ye-Ne;var Qe=.707106781*(He+_e);Ee[$e+16]=_e+Qe,Ee[$e+48]=_e-Qe;var Ye=.382683433*((ye=xe+oe)-(He=mr+Pt)),Ve=.5411961*ye+Ye,Ge=1.306562965*He+Ye,lt=.707106781*(Ne=oe+mr),ht=Pt+lt,pt=Pt-lt;Ee[$e+40]=pt+Ve,Ee[$e+24]=pt-Ve,Ee[$e+8]=ht+Ge,Ee[$e+56]=ht-Ge,$e++}for(Ce=0;Ce<64;++Ce)Be=Ee[Ce]*De[Ce],p[Ce]=Be>0?Be+.5|0:Be-.5|0;return p}(E,R),re=0;re<64;++re)m[k[re]]=Z[re];var O=m[0]-B;B=m[0],O==0?Y(q[0]):(Y(q[h[ae=32767+O]]),Y(f[ae]));for(var de=63;de>0&&m[de]==0;)de--;if(de==0)return Y(ee),B;for(var ce,pe=1;pe<=de;){for(var Q=pe;m[pe]==0&&pe<=de;)++pe;var ne=pe-Q;if(ne>=16){ce=ne>>4;for(var Ae=1;Ae<=ce;++Ae)Y(W);ne&=15}ae=32767+m[pe],Y(K[(ne<<4)+h[ae]]),Y(f[ae]),pe++}return de!=63&&Y(ee),B}function J(E){E=Math.min(Math.max(E,1),100),i!=E&&(function(R){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],q=0;q<64;q++){var K=s((B[q]*R+50)/100);K=Math.min(Math.max(K,1),255),o[k[q]]=K}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ee=0;ee<64;ee++){var W=s((ae[ee]*R+50)/100);W=Math.min(Math.max(W,1),255),l[k[ee]]=W}for(var Z=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],re=0,O=0;O<8;O++)for(var de=0;de<8;de++)u[re]=1/(o[k[re]]*Z[O]*Z[de]*8),d[re]=1/(l[k[re]]*Z[O]*Z[de]*8),re++}(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),i=E)}this.encode=function(E,R){R&&J(R),g=new Array,v=0,x=7,I(65496),I(65504),I(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),I(1),I(1),G(0),G(0),function(){I(65499),I(132),G(0);for(var Fe=0;Fe<64;Fe++)G(o[Fe]);G(1);for(var ve=0;ve<64;ve++)G(l[ve])}(),function(Fe,ve){I(65472),I(17),G(8),I(ve),I(Fe),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)}(E.width,E.height),function(){I(65476),I(418),G(0);for(var Fe=0;Fe<16;Fe++)G(w[Fe+1]);for(var ve=0;ve<=11;ve++)G(S[ve]);G(16);for(var me=0;me<16;me++)G(P[me+1]);for(var le=0;le<=161;le++)G(A[le]);G(1);for(var be=0;be<16;be++)G(T[be+1]);for(var Pe=0;Pe<=11;Pe++)G(F[Pe]);G(17);for(var je=0;je<16;je++)G(M[je+1]);for(var Ce=0;Ce<=161;Ce++)G(H[Ce])}(),I(65498),I(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var B=0,q=0,K=0;v=0,x=7,this.encode.displayName="_encode_";for(var ae,ee,W,Z,re,O,de,ce,pe,Q=E.data,ne=E.width,Ae=E.height,Ee=4*ne,De=0;De<Ae;){for(ae=0;ae<Ee;){for(re=Ee*De+ae,de=-1,ce=0,pe=0;pe<64;pe++)O=re+(ce=pe>>3)*Ee+(de=4*(7&pe)),De+ce>=Ae&&(O-=Ee*(De+1+ce-Ae)),ae+de>=Ee&&(O-=ae+de-Ee+4),ee=Q[O++],W=Q[O++],Z=Q[O++],y[pe]=(C[ee]+C[W+256>>0]+C[Z+512>>0]>>16)-128,b[pe]=(C[ee+768>>0]+C[W+1024>>0]+C[Z+1280>>0]>>16)-128,N[pe]=(C[ee+1280>>0]+C[W+1536>>0]+C[Z+1792>>0]>>16)-128;B=X(y,u,B,t,n),q=X(b,d,q,r,a),K=X(N,d,K,r,a),ae+=32}De+=8}if(x>=0){var Oe=[];Oe[1]=x+1,Oe[0]=(1<<x+1)-1,Y(Oe)}return I(65497),new Uint8Array(g)},e=e||50,function(){for(var E=String.fromCharCode,R=0;R<256;R++)_[R]=E(R)}(),t=z(w,S),r=z(T,F),n=z(P,A),a=z(M,H),function(){for(var E=1,R=2,B=1;B<=15;B++){for(var q=E;q<R;q++)h[32767+q]=B,f[32767+q]=[],f[32767+q][1]=B,f[32767+q][0]=q;for(var K=-(R-1);K<=-E;K++)h[32767+K]=B,f[32767+K]=[],f[32767+K][1]=B,f[32767+K][0]=R-1+K;E<<=1,R<<=1}}(),function(){for(var E=0;E<256;E++)C[E]=19595*E,C[E+256>>0]=38470*E,C[E+512>>0]=7471*E+32768,C[E+768>>0]=-11059*E,C[E+1024>>0]=-21709*E,C[E+1280>>0]=32768*E+8421375,C[E+1536>>0]=-27439*E,C[E+1792>>0]=-5329*E}(),J(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Co(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function F$(e){function t(w){if(!w)throw Error("assert :P")}function r(w,S,P){for(var A=0;4>A;A++)if(w[S+A]!=P.charCodeAt(A))return!0;return!1}function n(w,S,P,A,T){for(var F=0;F<T;F++)w[S+F]=P[A+F]}function a(w,S,P,A){for(var T=0;T<A;T++)w[S+T]=P}function i(w){return new Int32Array(w)}function s(w,S){for(var P=[],A=0;A<w;A++)P.push(new S);return P}function o(w,S){var P=[];return function A(T,F,M){for(var H=M[F],z=0;z<H&&(T.push(M.length>F+1?[]:new S),!(M.length<F+1));z++)A(T[z],F+1,M)}(P,0,w),P}var l=function(){var w=this;function S(j,D){for(var V=1<<D-1>>>0;j&V;)V>>>=1;return V?(j&V-1)+V:j}function P(j,D,V,te,ie){t(!(te%V));do j[D+(te-=V)]=ie;while(0<te)}function A(j,D,V,te,ie){if(t(2328>=ie),512>=ie)var ue=i(512);else if((ue=i(ie))==null)return 0;return function(fe,he,ge,ke,Le,Ke){var Xe,ze,st=he,Ze=1<<ge,Ie=i(16),Ue=i(16);for(t(Le!=0),t(ke!=null),t(fe!=null),t(0<ge),ze=0;ze<Le;++ze){if(15<ke[ze])return 0;++Ie[ke[ze]]}if(Ie[0]==Le)return 0;for(Ue[1]=0,Xe=1;15>Xe;++Xe){if(Ie[Xe]>1<<Xe)return 0;Ue[Xe+1]=Ue[Xe]+Ie[Xe]}for(ze=0;ze<Le;++ze)Xe=ke[ze],0<ke[ze]&&(Ke[Ue[Xe]++]=ze);if(Ue[15]==1)return(ke=new T).g=0,ke.value=Ke[0],P(fe,st,1,Ze,ke),Ze;var at,ot=-1,it=Ze-1,bt=0,gt=1,Bt=1,xt=1<<ge;for(ze=0,Xe=1,Le=2;Xe<=ge;++Xe,Le<<=1){if(gt+=Bt<<=1,0>(Bt-=Ie[Xe]))return 0;for(;0<Ie[Xe];--Ie[Xe])(ke=new T).g=Xe,ke.value=Ke[ze++],P(fe,st+bt,Le,xt,ke),bt=S(bt,Xe)}for(Xe=ge+1,Le=2;15>=Xe;++Xe,Le<<=1){if(gt+=Bt<<=1,0>(Bt-=Ie[Xe]))return 0;for(;0<Ie[Xe];--Ie[Xe]){if(ke=new T,(bt&it)!=ot){for(st+=xt,at=1<<(ot=Xe)-ge;15>ot&&!(0>=(at-=Ie[ot]));)++ot,at<<=1;Ze+=xt=1<<(at=ot-ge),fe[he+(ot=bt&it)].g=at+ge,fe[he+ot].value=st-he-ot}ke.g=Xe-ge,ke.value=Ke[ze++],P(fe,st+(bt>>ge),Le,xt,ke),bt=S(bt,Xe)}}return gt!=2*Ue[15]-1?0:Ze}(j,D,V,te,ie,ue)}function T(){this.value=this.g=0}function F(){this.value=this.g=0}function M(){this.G=s(5,T),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Wa,F)}function H(j,D,V,te){t(j!=null),t(D!=null),t(2147483648>te),j.Ca=254,j.I=0,j.b=-8,j.Ka=0,j.oa=D,j.pa=V,j.Jd=D,j.Yc=V+te,j.Zc=4<=te?V+te-4+1:V,ae(j)}function z(j,D){for(var V=0;0<D--;)V|=W(j,128)<<D;return V}function Y(j,D){var V=z(j,D);return ee(j)?-V:V}function G(j,D,V,te){var ie,ue=0;for(t(j!=null),t(D!=null),t(4294967288>te),j.Sb=te,j.Ra=0,j.u=0,j.h=0,4<te&&(te=4),ie=0;ie<te;++ie)ue+=D[V+ie]<<8*ie;j.Ra=ue,j.bb=te,j.oa=D,j.pa=V}function I(j){for(;8<=j.u&&j.bb<j.Sb;)j.Ra>>>=8,j.Ra+=j.oa[j.pa+j.bb]<<zh-8>>>0,++j.bb,j.u-=8;B(j)&&(j.h=1,j.u=0)}function X(j,D){if(t(0<=D),!j.h&&D<=Wh){var V=R(j)&Uh[D];return j.u+=D,I(j),V}return j.h=1,j.u=0}function J(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function E(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(j){return j.Ra>>>(j.u&zh-1)>>>0}function B(j){return t(j.bb<=j.Sb),j.h||j.bb==j.Sb&&j.u>zh}function q(j,D){j.u=D,j.h=B(j)}function K(j){j.u>=tg&&(t(j.u>=tg),I(j))}function ae(j){t(j!=null&&j.oa!=null),j.pa<j.Zc?(j.I=(j.oa[j.pa++]|j.I<<8)>>>0,j.b+=8):(t(j!=null&&j.oa!=null),j.pa<j.Yc?(j.b+=8,j.I=j.oa[j.pa++]|j.I<<8):j.Ka?j.b=0:(j.I<<=8,j.b+=8,j.Ka=1))}function ee(j){return z(j,1)}function W(j,D){var V=j.Ca;0>j.b&&ae(j);var te=j.b,ie=V*D>>>8,ue=(j.I>>>te>ie)+0;for(ue?(V-=ie,j.I-=ie+1<<te>>>0):V=ie+1,te=V,ie=0;256<=te;)ie+=8,te>>=8;return te=7^ie+Ji[te],j.b-=te,j.Ca=(V<<te)-1,ue}function Z(j,D,V){j[D+0]=V>>24&255,j[D+1]=V>>16&255,j[D+2]=V>>8&255,j[D+3]=V>>0&255}function re(j,D){return j[D+0]<<0|j[D+1]<<8}function O(j,D){return re(j,D)|j[D+2]<<16}function de(j,D){return re(j,D)|re(j,D+2)<<16}function ce(j,D){var V=1<<D;return t(j!=null),t(0<D),j.X=i(V),j.X==null?0:(j.Mb=32-D,j.Xa=D,1)}function pe(j,D){t(j!=null),t(D!=null),t(j.Xa==D.Xa),n(D.X,0,j.X,0,1<<D.Xa)}function Q(){this.X=[],this.Xa=this.Mb=0}function ne(j,D,V,te){t(V!=null),t(te!=null);var ie=V[0],ue=te[0];return ie==0&&(ie=(j*ue+D/2)/D),ue==0&&(ue=(D*ie+j/2)/j),0>=ie||0>=ue?0:(V[0]=ie,te[0]=ue,1)}function Ae(j,D){return j+(1<<D)-1>>>D}function Ee(j,D){return((4278255360&j)+(4278255360&D)>>>0&4278255360)+((16711935&j)+(16711935&D)>>>0&16711935)>>>0}function De(j,D){w[D]=function(V,te,ie,ue,fe,he,ge){var ke;for(ke=0;ke<fe;++ke){var Le=w[j](he[ge+ke-1],ie,ue+ke);he[ge+ke]=Ee(V[te+ke],Le)}}}function Oe(){this.ud=this.hd=this.jd=0}function Fe(j,D){return((4278124286&(j^D))>>>1)+(j&D)>>>0}function ve(j){return 0<=j&&256>j?j:0>j?0:255<j?255:void 0}function me(j,D){return ve(j+(j-D+.5>>1))}function le(j,D,V){return Math.abs(D-V)-Math.abs(j-V)}function be(j,D,V,te,ie,ue,fe){for(te=ue[fe-1],V=0;V<ie;++V)ue[fe+V]=te=Ee(j[D+V],te)}function Pe(j,D,V,te,ie){var ue;for(ue=0;ue<V;++ue){var fe=j[D+ue],he=fe>>8&255,ge=16711935&(ge=(ge=16711935&fe)+((he<<16)+he));te[ie+ue]=(4278255360&fe)+ge>>>0}}function je(j,D){D.jd=j>>0&255,D.hd=j>>8&255,D.ud=j>>16&255}function Ce(j,D,V,te,ie,ue){var fe;for(fe=0;fe<te;++fe){var he=D[V+fe],ge=he>>>8,ke=he,Le=255&(Le=(Le=he>>>16)+((j.jd<<24>>24)*(ge<<24>>24)>>>5));ke=255&(ke=(ke=ke+((j.hd<<24>>24)*(ge<<24>>24)>>>5))+((j.ud<<24>>24)*(Le<<24>>24)>>>5)),ie[ue+fe]=(4278255360&he)+(Le<<16)+ke}}function Be(j,D,V,te,ie){w[D]=function(ue,fe,he,ge,ke,Le,Ke,Xe,ze){for(ge=Ke;ge<Xe;++ge)for(Ke=0;Ke<ze;++Ke)ke[Le++]=ie(he[te(ue[fe++])])},w[j]=function(ue,fe,he,ge,ke,Le,Ke){var Xe=8>>ue.b,ze=ue.Ea,st=ue.K[0],Ze=ue.w;if(8>Xe)for(ue=(1<<ue.b)-1,Ze=(1<<Xe)-1;fe<he;++fe){var Ie,Ue=0;for(Ie=0;Ie<ze;++Ie)Ie&ue||(Ue=te(ge[ke++])),Le[Ke++]=ie(st[Ue&Ze]),Ue>>=Xe}else w["VP8LMapColor"+V](ge,ke,st,Ze,Le,Ke,fe,he,ze)}}function $e(j,D,V,te,ie){for(V=D+V;D<V;){var ue=j[D++];te[ie++]=ue>>16&255,te[ie++]=ue>>8&255,te[ie++]=ue>>0&255}}function et(j,D,V,te,ie){for(V=D+V;D<V;){var ue=j[D++];te[ie++]=ue>>16&255,te[ie++]=ue>>8&255,te[ie++]=ue>>0&255,te[ie++]=ue>>24&255}}function Je(j,D,V,te,ie){for(V=D+V;D<V;){var ue=(fe=j[D++])>>16&240|fe>>12&15,fe=fe>>0&240|fe>>28&15;te[ie++]=ue,te[ie++]=fe}}function St(j,D,V,te,ie){for(V=D+V;D<V;){var ue=(fe=j[D++])>>16&248|fe>>13&7,fe=fe>>5&224|fe>>3&31;te[ie++]=ue,te[ie++]=fe}}function Tt(j,D,V,te,ie){for(V=D+V;D<V;){var ue=j[D++];te[ie++]=ue>>0&255,te[ie++]=ue>>8&255,te[ie++]=ue>>16&255}}function wt(j,D,V,te,ie,ue){if(ue==0)for(V=D+V;D<V;)Z(te,((ue=j[D++])[0]>>24|ue[1]>>8&65280|ue[2]<<8&16711680|ue[3]<<24)>>>0),ie+=32;else n(te,ie,j,D,V)}function Kt(j,D){w[D][0]=w[j+"0"],w[D][1]=w[j+"1"],w[D][2]=w[j+"2"],w[D][3]=w[j+"3"],w[D][4]=w[j+"4"],w[D][5]=w[j+"5"],w[D][6]=w[j+"6"],w[D][7]=w[j+"7"],w[D][8]=w[j+"8"],w[D][9]=w[j+"9"],w[D][10]=w[j+"10"],w[D][11]=w[j+"11"],w[D][12]=w[j+"12"],w[D][13]=w[j+"13"],w[D][14]=w[j+"0"],w[D][15]=w[j+"0"]}function Dt(j){return j==G4||j==K4||j==L1||j==X4}function Ur(){this.eb=[],this.size=this.A=this.fb=0}function kr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ur,this.f.kb=new kr,this.sd=null}function Tn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function yr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function It(j){return alert("todo:WebPSamplerProcessPlane"),j.T}function tr(j,D){var V=j.T,te=D.ba.f.RGBA,ie=te.eb,ue=te.fb+j.ka*te.A,fe=zs[D.ba.S],he=j.y,ge=j.O,ke=j.f,Le=j.N,Ke=j.ea,Xe=j.W,ze=D.cc,st=D.dc,Ze=D.Mc,Ie=D.Nc,Ue=j.ka,at=j.ka+j.T,ot=j.U,it=ot+1>>1;for(Ue==0?fe(he,ge,null,null,ke,Le,Ke,Xe,ke,Le,Ke,Xe,ie,ue,null,null,ot):(fe(D.ec,D.fc,he,ge,ze,st,Ze,Ie,ke,Le,Ke,Xe,ie,ue-te.A,ie,ue,ot),++V);Ue+2<at;Ue+=2)ze=ke,st=Le,Ze=Ke,Ie=Xe,Le+=j.Rc,Xe+=j.Rc,ue+=2*te.A,fe(he,(ge+=2*j.fa)-j.fa,he,ge,ze,st,Ze,Ie,ke,Le,Ke,Xe,ie,ue-te.A,ie,ue,ot);return ge+=j.fa,j.j+at<j.o?(n(D.ec,D.fc,he,ge,ot),n(D.cc,D.dc,ke,Le,it),n(D.Mc,D.Nc,Ke,Xe,it),V--):1&at||fe(he,ge,null,null,ke,Le,Ke,Xe,ke,Le,Ke,Xe,ie,ue+te.A,null,null,ot),V}function ti(j,D,V){var te=j.F,ie=[j.J];if(te!=null){var ue=j.U,fe=D.ba.S,he=fe==F1||fe==L1;D=D.ba.f.RGBA;var ge=[0],ke=j.ka;ge[0]=j.T,j.Kb&&(ke==0?--ge[0]:(--ke,ie[0]-=j.width),j.j+j.ka+j.T==j.o&&(ge[0]=j.o-j.j-ke));var Le=D.eb;ke=D.fb+ke*D.A,j=cn(te,ie[0],j.width,ue,ge,Le,ke+(he?0:3),D.A),t(V==ge),j&&Dt(fe)&&Us(Le,ke,he,ue,ge,D.A)}return 0}function Zr(j){var D=j.ma,V=D.ba.S,te=11>V,ie=V==D1||V==M1||V==F1||V==V4||V==12||Dt(V);if(D.memory=null,D.Ib=null,D.Jb=null,D.Nd=null,!Zm(D.Oa,j,ie?11:12))return 0;if(ie&&Dt(V)&&ct(),j.da)alert("todo:use_scaling");else{if(te){if(D.Ib=It,j.Kb){if(V=j.U+1>>1,D.memory=i(j.U+2*V),D.memory==null)return 0;D.ec=D.memory,D.fc=0,D.cc=D.ec,D.dc=D.fc+j.U,D.Mc=D.cc,D.Nc=D.dc+V,D.Ib=tr,ct()}}else alert("todo:EmitYUV");ie&&(D.Jb=ti,te&&qe())}if(te&&!iO){for(j=0;256>j;++j)ZQ[j]=89858*(j-128)+R1>>I1,rJ[j]=-22014*(j-128)+R1,tJ[j]=-45773*(j-128),eJ[j]=113618*(j-128)+R1>>I1;for(j=lg;j<Z4;++j)D=76283*(j-16)+R1>>I1,nJ[j-lg]=xs(D,255),aJ[j-lg]=xs(D+8>>4,15);iO=1}return 1}function Mn(j){var D=j.ma,V=j.U,te=j.T;return t(!(1&j.ka)),0>=V||0>=te?0:(V=D.Ib(j,D),D.Jb!=null&&D.Jb(j,D,V),D.Dc+=V,1)}function qn(j){j.ma.memory=null}function $t(j,D,V,te){return X(j,8)!=47?0:(D[0]=X(j,14)+1,V[0]=X(j,14)+1,te[0]=X(j,1),X(j,3)!=0?0:!j.h)}function ia(j,D){if(4>j)return j+1;var V=j-2>>1;return(2+(1&j)<<V)+X(D,V)+1}function Pt(j,D){return 120<D?D-120:1<=(V=((V=RQ[D-1])>>4)*j+(8-(15&V)))?V:1;var V}function sr(j,D,V){var te=R(V),ie=j[D+=255&te].g-8;return 0<ie&&(q(V,V.u+8),te=R(V),D+=j[D].value,D+=te&(1<<ie)-1),q(V,V.u+j[D].g),j[D].value}function mr(j,D,V){return V.g+=j.g,V.value+=j.value<<D>>>0,t(8>=V.g),j.g}function $r(j,D,V){var te=j.xc;return t((D=te==0?0:j.vc[j.md*(V>>te)+(D>>te)])<j.Wb),j.Ya[D]}function oe(j,D,V,te){var ie=j.ab,ue=j.c*D,fe=j.C;D=fe+D;var he=V,ge=te;for(te=j.Ta,V=j.Ua;0<ie--;){var ke=j.gc[ie],Le=fe,Ke=D,Xe=he,ze=ge,st=(ge=te,he=V,ke.Ea);switch(t(Le<Ke),t(Ke<=ke.nc),ke.hc){case 2:C1(Xe,ze,(Ke-Le)*st,ge,he);break;case 0:var Ze=Le,Ie=Ke,Ue=ge,at=he,ot=(xt=ke).Ea;Ze==0&&(q4(Xe,ze,null,null,1,Ue,at),be(Xe,ze+1,0,0,ot-1,Ue,at+1),ze+=ot,at+=ot,++Ze);for(var it=1<<xt.b,bt=it-1,gt=Ae(ot,xt.b),Bt=xt.K,xt=xt.w+(Ze>>xt.b)*gt;Ze<Ie;){var Ir=Bt,qr=xt,Cr=1;for(rg(Xe,ze,Ue,at-ot,1,Ue,at);Cr<ot;){var xr=(Cr&~bt)+it;xr>ot&&(xr=ot),(0,tu[Ir[qr++]>>8&15])(Xe,ze+ +Cr,Ue,at+Cr-ot,xr-Cr,Ue,at+Cr),Cr=xr}ze+=ot,at+=ot,++Ze&bt||(xt+=gt)}Ke!=ke.nc&&n(ge,he-st,ge,he+(Ke-Le-1)*st,st);break;case 1:for(st=Xe,Ie=ze,ot=(Xe=ke.Ea)-(at=Xe&~(Ue=(ze=1<<ke.b)-1)),Ze=Ae(Xe,ke.b),it=ke.K,ke=ke.w+(Le>>ke.b)*Ze;Le<Ke;){for(bt=it,gt=ke,Bt=new Oe,xt=Ie+at,Ir=Ie+Xe;Ie<xt;)je(bt[gt++],Bt),Rd(Bt,st,Ie,ze,ge,he),Ie+=ze,he+=ze;Ie<Ir&&(je(bt[gt++],Bt),Rd(Bt,st,Ie,ot,ge,he),Ie+=ot,he+=ot),++Le&Ue||(ke+=Ze)}break;case 3:if(Xe==ge&&ze==he&&0<ke.b){for(Ie=ge,Xe=st=he+(Ke-Le)*st-(at=(Ke-Le)*Ae(ke.Ea,ke.b)),ze=ge,Ue=he,Ze=[],at=(ot=at)-1;0<=at;--at)Ze[at]=ze[Ue+at];for(at=ot-1;0<=at;--at)Ie[Xe+at]=Ze[at];Is(ke,Le,Ke,ge,st,ge,he)}else Is(ke,Le,Ke,Xe,ze,ge,he)}he=te,ge=V}ge!=V&&n(te,V,he,ge,ue)}function Se(j,D){var V=j.V,te=j.Ba+j.c*j.C,ie=D-j.C;if(t(D<=j.l.o),t(16>=ie),0<ie){var ue=j.l,fe=j.Ta,he=j.Ua,ge=ue.width;if(oe(j,ie,V,te),ie=he=[he],t((V=j.C)<(te=D)),t(ue.v<ue.va),te>ue.o&&(te=ue.o),V<ue.j){var ke=ue.j-V;V=ue.j,ie[0]+=ke*ge}if(V>=te?V=0:(ie[0]+=4*ue.v,ue.ka=V-ue.j,ue.U=ue.va-ue.v,ue.T=te-V,V=1),V){if(he=he[0],11>(V=j.ca).S){var Le=V.f.RGBA,Ke=(te=V.S,ie=ue.U,ue=ue.T,ke=Le.eb,Le.A),Xe=ue;for(Le=Le.fb+j.Ma*Le.A;0<Xe--;){var ze=fe,st=he,Ze=ie,Ie=ke,Ue=Le;switch(te){case $1:Zi(ze,st,Ze,Ie,Ue);break;case D1:Ci(ze,st,Ze,Ie,Ue);break;case G4:Ci(ze,st,Ze,Ie,Ue),Us(Ie,Ue,0,Ze,1,0);break;case XP:Ql(ze,st,Ze,Ie,Ue);break;case M1:wt(ze,st,Ze,Ie,Ue,1);break;case K4:wt(ze,st,Ze,Ie,Ue,1),Us(Ie,Ue,0,Ze,1,0);break;case F1:wt(ze,st,Ze,Ie,Ue,0);break;case L1:wt(ze,st,Ze,Ie,Ue,0),Us(Ie,Ue,1,Ze,1,0);break;case V4:ru(ze,st,Ze,Ie,Ue);break;case X4:ru(ze,st,Ze,Ie,Ue),ln(Ie,Ue,Ze,1,0);break;case QP:Xl(ze,st,Ze,Ie,Ue);break;default:t(0)}he+=ge,Le+=Ke}j.Ma+=ue}else alert("todo:EmitRescaledRowsYUVA");t(j.Ma<=V.height)}}j.C=D,t(j.C<=j.i)}function xe(j){var D;if(0<j.ua)return 0;for(D=0;D<j.Wb;++D){var V=j.Ya[D].G,te=j.Ya[D].H;if(0<V[1][te[1]+0].g||0<V[2][te[2]+0].g||0<V[3][te[3]+0].g)return 0}return 1}function ye(j,D,V,te,ie,ue){if(j.Z!=0){var fe=j.qd,he=j.rd;for(t(su[j.Z]!=null);D<V;++D)su[j.Z](fe,he,te,ie,te,ie,ue),fe=te,he=ie,ie+=ue;j.qd=fe,j.rd=he}}function _e(j,D){var V=j.l.ma,te=V.Z==0||V.Z==1?j.l.j:j.C;if(te=j.C<te?te:j.C,t(D<=j.l.o),D>te){var ie=j.l.width,ue=V.ca,fe=V.tb+ie*te,he=j.V,ge=j.Ba+j.c*te,ke=j.gc;t(j.ab==1),t(ke[0].hc==3),T1(ke[0],te,D,he,ge,ue,fe),ye(V,te,D,ue,fe,ie)}j.C=j.Ma=D}function Ne(j,D,V,te,ie,ue,fe){var he=j.$/te,ge=j.$%te,ke=j.m,Le=j.s,Ke=V+j.$,Xe=Ke;ie=V+te*ie;var ze=V+te*ue,st=280+Le.ua,Ze=j.Pb?he:16777216,Ie=0<Le.ua?Le.Wa:null,Ue=Le.wc,at=Ke<ze?$r(Le,ge,he):null;t(j.C<ue),t(ze<=ie);var ot=!1;e:for(;;){for(;ot||Ke<ze;){var it=0;if(he>=Ze){var bt=Ke-V;t((Ze=j).Pb),Ze.wd=Ze.m,Ze.xd=bt,0<Ze.s.ua&&pe(Ze.s.Wa,Ze.s.vb),Ze=he+UQ}if(ge&Ue||(at=$r(Le,ge,he)),t(at!=null),at.Qb&&(D[Ke]=at.qb,ot=!0),!ot)if(K(ke),at.jc){it=ke,bt=D;var gt=Ke,Bt=at.pd[R(it)&Wa-1];t(at.jc),256>Bt.g?(q(it,it.u+Bt.g),bt[gt]=Bt.value,it=0):(q(it,it.u+Bt.g-256),t(256<=Bt.value),it=Bt.value),it==0&&(ot=!0)}else it=sr(at.G[0],at.H[0],ke);if(ke.h)break;if(ot||256>it){if(!ot)if(at.nd)D[Ke]=(at.qb|it<<8)>>>0;else{if(K(ke),ot=sr(at.G[1],at.H[1],ke),K(ke),bt=sr(at.G[2],at.H[2],ke),gt=sr(at.G[3],at.H[3],ke),ke.h)break;D[Ke]=(gt<<24|ot<<16|it<<8|bt)>>>0}if(ot=!1,++Ke,++ge>=te&&(ge=0,++he,fe!=null&&he<=ue&&!(he%16)&&fe(j,he),Ie!=null))for(;Xe<Ke;)it=D[Xe++],Ie.X[(506832829*it&4294967295)>>>Ie.Mb]=it}else if(280>it){if(it=ia(it-256,ke),bt=sr(at.G[4],at.H[4],ke),K(ke),bt=Pt(te,bt=ia(bt,ke)),ke.h)break;if(Ke-V<bt||ie-Ke<it)break e;for(gt=0;gt<it;++gt)D[Ke+gt]=D[Ke+gt-bt];for(Ke+=it,ge+=it;ge>=te;)ge-=te,++he,fe!=null&&he<=ue&&!(he%16)&&fe(j,he);if(t(Ke<=ie),ge&Ue&&(at=$r(Le,ge,he)),Ie!=null)for(;Xe<Ke;)it=D[Xe++],Ie.X[(506832829*it&4294967295)>>>Ie.Mb]=it}else{if(!(it<st))break e;for(ot=it-280,t(Ie!=null);Xe<Ke;)it=D[Xe++],Ie.X[(506832829*it&4294967295)>>>Ie.Mb]=it;it=Ke,t(!(ot>>>(bt=Ie).Xa)),D[it]=bt.X[ot],ot=!0}ot||t(ke.h==B(ke))}if(j.Pb&&ke.h&&Ke<ie)t(j.m.h),j.a=5,j.m=j.wd,j.$=j.xd,0<j.s.ua&&pe(j.s.vb,j.s.Wa);else{if(ke.h)break e;fe!=null&&fe(j,he>ue?ue:he),j.a=0,j.$=Ke-V}return 1}return j.a=3,0}function He(j){t(j!=null),j.vc=null,j.yc=null,j.Ya=null;var D=j.Wa;D!=null&&(D.X=null),j.vb=null,t(j!=null)}function Qe(){var j=new H4;return j==null?null:(j.a=0,j.xb=eO,Kt("Predictor","VP8LPredictors"),Kt("Predictor","VP8LPredictors_C"),Kt("PredictorAdd","VP8LPredictorsAdd"),Kt("PredictorAdd","VP8LPredictorsAdd_C"),C1=Pe,Rd=Ce,Zi=$e,Ci=et,ru=Je,Xl=St,Ql=Tt,w.VP8LMapColor32b=Hh,w.VP8LMapColor8b=A1,j)}function Ye(j,D,V,te,ie){var ue=1,fe=[j],he=[D],ge=te.m,ke=te.s,Le=null,Ke=0;e:for(;;){if(V)for(;ue&&X(ge,1);){var Xe=fe,ze=he,st=te,Ze=1,Ie=st.m,Ue=st.gc[st.ab],at=X(Ie,2);if(st.Oc&1<<at)ue=0;else{switch(st.Oc|=1<<at,Ue.hc=at,Ue.Ea=Xe[0],Ue.nc=ze[0],Ue.K=[null],++st.ab,t(4>=st.ab),at){case 0:case 1:Ue.b=X(Ie,3)+2,Ze=Ye(Ae(Ue.Ea,Ue.b),Ae(Ue.nc,Ue.b),0,st,Ue.K),Ue.K=Ue.K[0];break;case 3:var ot,it=X(Ie,8)+1,bt=16<it?0:4<it?1:2<it?2:3;if(Xe[0]=Ae(Ue.Ea,bt),Ue.b=bt,ot=Ze=Ye(it,1,0,st,Ue.K)){var gt,Bt=it,xt=Ue,Ir=1<<(8>>xt.b),qr=i(Ir);if(qr==null)ot=0;else{var Cr=xt.K[0],xr=xt.w;for(qr[0]=xt.K[0][0],gt=1;gt<1*Bt;++gt)qr[gt]=Ee(Cr[xr+gt],qr[gt-1]);for(;gt<4*Ir;++gt)qr[gt]=0;xt.K[0]=null,xt.K[0]=qr,ot=1}}Ze=ot;break;case 2:break;default:t(0)}ue=Ze}}if(fe=fe[0],he=he[0],ue&&X(ge,1)&&!(ue=1<=(Ke=X(ge,4))&&11>=Ke)){te.a=3;break e}var rn;if(rn=ue)t:{var en,rr,oa,es=te,la=fe,ts=he,Yr=Ke,ys=V,bs=es.m,Ta=es.s,za=[null],Ai=1,Hs=0,ol=BQ[Yr];r:for(;;){if(ys&&X(bs,1)){var Aa=X(bs,3)+2,tc=Ae(la,Aa),Hd=Ae(ts,Aa),Kh=tc*Hd;if(!Ye(tc,Hd,0,es,za))break r;for(za=za[0],Ta.xc=Aa,en=0;en<Kh;++en){var ou=za[en]>>8&65535;za[en]=ou,ou>=Ai&&(Ai=ou+1)}}if(bs.h)break r;for(rr=0;5>rr;++rr){var Ln=JP[rr];!rr&&0<Yr&&(Ln+=1<<Yr),Hs<Ln&&(Hs=Ln)}var eS=s(Ai*ol,T),lO=Ai,cO=s(lO,M);if(cO==null)var U1=null;else t(65536>=lO),U1=cO;var cg=i(Hs);if(U1==null||cg==null||eS==null){es.a=1;break r}var W1=eS;for(en=oa=0;en<Ai;++en){var So=U1[en],Xh=So.G,Qh=So.H,uO=0,z1=1,dO=0;for(rr=0;5>rr;++rr){Ln=JP[rr],Xh[rr]=W1,Qh[rr]=oa,!rr&&0<Yr&&(Ln+=1<<Yr);a:{var H1,tS=Ln,q1=es,ug=cg,oJ=W1,lJ=oa,rS=0,lu=q1.m,cJ=X(lu,1);if(a(ug,0,0,tS),cJ){var uJ=X(lu,1)+1,dJ=X(lu,1),fO=X(lu,dJ==0?1:8);ug[fO]=1,uJ==2&&(ug[fO=X(lu,8)]=1);var Y1=1}else{var hO=i(19),pO=X(lu,4)+4;if(19<pO){q1.a=3;var V1=0;break a}for(H1=0;H1<pO;++H1)hO[IQ[H1]]=X(lu,3);var nS=void 0,dg=void 0,mO=q1,fJ=hO,G1=tS,gO=ug,aS=0,cu=mO.m,xO=8,vO=s(128,T);n:for(;A(vO,0,7,fJ,19);){if(X(cu,1)){var hJ=2+2*X(cu,3);if((nS=2+X(cu,hJ))>G1)break n}else nS=G1;for(dg=0;dg<G1&&nS--;){K(cu);var yO=vO[0+(127&R(cu))];q(cu,cu.u+yO.g);var Jh=yO.value;if(16>Jh)gO[dg++]=Jh,Jh!=0&&(xO=Jh);else{var pJ=Jh==16,bO=Jh-16,mJ=FQ[bO],wO=X(cu,MQ[bO])+mJ;if(dg+wO>G1)break n;for(var gJ=pJ?xO:0;0<wO--;)gO[dg++]=gJ}}aS=1;break n}aS||(mO.a=3),Y1=aS}(Y1=Y1&&!lu.h)&&(rS=A(oJ,lJ,8,ug,tS)),Y1&&rS!=0?V1=rS:(q1.a=3,V1=0)}if(V1==0)break r;if(z1&&LQ[rr]==1&&(z1=W1[oa].g==0),uO+=W1[oa].g,oa+=V1,3>=rr){var fg,iS=cg[0];for(fg=1;fg<Ln;++fg)cg[fg]>iS&&(iS=cg[fg]);dO+=iS}}if(So.nd=z1,So.Qb=0,z1&&(So.qb=(Xh[3][Qh[3]+0].value<<24|Xh[1][Qh[1]+0].value<<16|Xh[2][Qh[2]+0].value)>>>0,uO==0&&256>Xh[0][Qh[0]+0].value&&(So.Qb=1,So.qb+=Xh[0][Qh[0]+0].value<<8)),So.jc=!So.Qb&&6>dO,So.jc){var K1,rc=So;for(K1=0;K1<Wa;++K1){var uu=K1,du=rc.pd[uu],X1=rc.G[0][rc.H[0]+uu];256<=X1.value?(du.g=X1.g+256,du.value=X1.value):(du.g=0,du.value=0,uu>>=mr(X1,8,du),uu>>=mr(rc.G[1][rc.H[1]+uu],16,du),uu>>=mr(rc.G[2][rc.H[2]+uu],0,du),mr(rc.G[3][rc.H[3]+uu],24,du))}}}Ta.vc=za,Ta.Wb=Ai,Ta.Ya=U1,Ta.yc=eS,rn=1;break t}rn=0}if(!(ue=rn)){te.a=3;break e}if(0<Ke){if(ke.ua=1<<Ke,!ce(ke.Wa,Ke)){te.a=1,ue=0;break e}}else ke.ua=0;var sS=te,_O=fe,xJ=he,oS=sS.s,lS=oS.xc;if(sS.c=_O,sS.i=xJ,oS.md=Ae(_O,lS),oS.wc=lS==0?-1:(1<<lS)-1,V){te.xb=GQ;break e}if((Le=i(fe*he))==null){te.a=1,ue=0;break e}ue=(ue=Ne(te,Le,0,fe,he,he,null))&&!ge.h;break e}return ue?(ie!=null?ie[0]=Le:(t(Le==null),t(V)),te.$=0,V||He(ke)):He(ke),ue}function Ve(j,D){var V=j.c*j.i,te=V+D+16*D;return t(j.c<=D),j.V=i(te),j.V==null?(j.Ta=null,j.Ua=0,j.a=1,0):(j.Ta=j.V,j.Ua=j.Ba+V+D,1)}function Ge(j,D){var V=j.C,te=D-V,ie=j.V,ue=j.Ba+j.c*V;for(t(D<=j.l.o);0<te;){var fe=16<te?16:te,he=j.l.ma,ge=j.l.width,ke=ge*fe,Le=he.ca,Ke=he.tb+ge*V,Xe=j.Ta,ze=j.Ua;oe(j,fe,ie,ue),Vn(Xe,ze,Le,Ke,ke),ye(he,V,V+fe,Le,Ke,ge),te-=fe,ie+=fe*j.c,V+=fe}t(V==D),j.C=j.Ma=D}function lt(){this.ub=this.yd=this.td=this.Rb=0}function ht(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function pt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function ut(){this.Yb=function(){var j=[];return function D(V,te,ie){for(var ue=ie[te],fe=0;fe<ue&&(V.push(ie.length>te+1?[]:0),!(ie.length<te+1));fe++)D(V[fe],te+1,ie)}(j,0,[3,11]),j}()}function mt(){this.jb=i(3),this.Wc=o([4,8],ut),this.Xc=o([4,17],ut)}function Mt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function fr(){this.ld=this.La=this.dd=this.tc=0}function br(){this.Na=this.la=0}function _n(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ki(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ji(){this.uc=this.M=this.Nb=0,this.wa=Array(new fr),this.Y=0,this.ya=Array(new Ki),this.aa=0,this.l=new ri}function gs(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Xi(){this.cb=this.a=0,this.sc="",this.m=new J,this.Od=new lt,this.Kc=new ht,this.ed=new Mt,this.Qa=new pt,this.Ic=this.$c=this.Aa=0,this.D=new ji,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,J),this.ia=0,this.pb=s(4,_n),this.Pa=new mt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new gs),this.Hd=0,this.rb=Array(new br),this.sb=0,this.wa=Array(new fr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ki),this.L=this.aa=0,this.gd=o([4,2],fr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ri(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ni(){var j=new Xi;return j!=null&&(j.a=0,j.sc="OK",j.cb=0,j.Xb=0,og||(og=Qc)),j}function Hr(j,D,V){return j.a==0&&(j.a=D,j.sc=V,j.cb=0),0}function Eh(j,D,V){return 3<=V&&j[D+0]==157&&j[D+1]==1&&j[D+2]==42}function Ls(j,D){if(j==null)return 0;if(j.a=0,j.sc="OK",D==null)return Hr(j,2,"null VP8Io passed to VP8GetHeaders()");var V=D.data,te=D.w,ie=D.ha;if(4>ie)return Hr(j,7,"Truncated header.");var ue=V[te+0]|V[te+1]<<8|V[te+2]<<16,fe=j.Od;if(fe.Rb=!(1&ue),fe.td=ue>>1&7,fe.yd=ue>>4&1,fe.ub=ue>>5,3<fe.td)return Hr(j,3,"Incorrect keyframe parameters.");if(!fe.yd)return Hr(j,4,"Frame not displayable.");te+=3,ie-=3;var he=j.Kc;if(fe.Rb){if(7>ie)return Hr(j,7,"cannot parse picture header");if(!Eh(V,te,ie))return Hr(j,3,"Bad code word");he.c=16383&(V[te+4]<<8|V[te+3]),he.Td=V[te+4]>>6,he.i=16383&(V[te+6]<<8|V[te+5]),he.Ud=V[te+6]>>6,te+=7,ie-=7,j.za=he.c+15>>4,j.Ub=he.i+15>>4,D.width=he.c,D.height=he.i,D.Da=0,D.j=0,D.v=0,D.va=D.width,D.o=D.height,D.da=0,D.ib=D.width,D.hb=D.height,D.U=D.width,D.T=D.height,a((ue=j.Pa).jb,0,255,ue.jb.length),t((ue=j.Qa)!=null),ue.Cb=0,ue.Bb=0,ue.Fb=1,a(ue.Zb,0,0,ue.Zb.length),a(ue.Lb,0,0,ue.Lb)}if(fe.ub>ie)return Hr(j,7,"bad partition length");H(ue=j.m,V,te,fe.ub),te+=fe.ub,ie-=fe.ub,fe.Rb&&(he.Ld=ee(ue),he.Kd=ee(ue)),he=j.Qa;var ge,ke=j.Pa;if(t(ue!=null),t(he!=null),he.Cb=ee(ue),he.Cb){if(he.Bb=ee(ue),ee(ue)){for(he.Fb=ee(ue),ge=0;4>ge;++ge)he.Zb[ge]=ee(ue)?Y(ue,7):0;for(ge=0;4>ge;++ge)he.Lb[ge]=ee(ue)?Y(ue,6):0}if(he.Bb)for(ge=0;3>ge;++ge)ke.jb[ge]=ee(ue)?z(ue,8):255}else he.Bb=0;if(ue.Ka)return Hr(j,3,"cannot parse segment header");if((he=j.ed).zd=ee(ue),he.Tb=z(ue,6),he.wb=z(ue,3),he.Pc=ee(ue),he.Pc&&ee(ue)){for(ke=0;4>ke;++ke)ee(ue)&&(he.vd[ke]=Y(ue,6));for(ke=0;4>ke;++ke)ee(ue)&&(he.od[ke]=Y(ue,6))}if(j.L=he.Tb==0?0:he.zd?1:2,ue.Ka)return Hr(j,3,"cannot parse filter header");var Le=ie;if(ie=ge=te,te=ge+Le,he=Le,j.Xb=(1<<z(j.m,2))-1,Le<3*(ke=j.Xb))V=7;else{for(ge+=3*ke,he-=3*ke,Le=0;Le<ke;++Le){var Ke=V[ie+0]|V[ie+1]<<8|V[ie+2]<<16;Ke>he&&(Ke=he),H(j.Jc[+Le],V,ge,Ke),ge+=Ke,he-=Ke,ie+=3}H(j.Jc[+ke],V,ge,he),V=ge<te?0:5}if(V!=0)return Hr(j,V,"cannot parse partitions");for(V=z(ge=j.m,7),ie=ee(ge)?Y(ge,4):0,te=ee(ge)?Y(ge,4):0,he=ee(ge)?Y(ge,4):0,ke=ee(ge)?Y(ge,4):0,ge=ee(ge)?Y(ge,4):0,Le=j.Qa,Ke=0;4>Ke;++Ke){if(Le.Cb){var Xe=Le.Zb[Ke];Le.Fb||(Xe+=V)}else{if(0<Ke){j.pb[Ke]=j.pb[0];continue}Xe=V}var ze=j.pb[Ke];ze.Sc[0]=Q4[xs(Xe+ie,127)],ze.Sc[1]=J4[xs(Xe+0,127)],ze.Eb[0]=2*Q4[xs(Xe+te,127)],ze.Eb[1]=101581*J4[xs(Xe+he,127)]>>16,8>ze.Eb[1]&&(ze.Eb[1]=8),ze.Qc[0]=Q4[xs(Xe+ke,117)],ze.Qc[1]=J4[xs(Xe+ge,127)],ze.lc=Xe+ge}if(!fe.Rb)return Hr(j,4,"Not a key frame.");for(ee(ue),fe=j.Pa,V=0;4>V;++V){for(ie=0;8>ie;++ie)for(te=0;3>te;++te)for(he=0;11>he;++he)ke=W(ue,YQ[V][ie][te][he])?z(ue,8):HQ[V][ie][te][he],fe.Wc[V][ie].Yb[te][he]=ke;for(ie=0;17>ie;++ie)fe.Xc[V][ie]=fe.Wc[V][VQ[ie]]}return j.kc=ee(ue),j.kc&&(j.Bd=z(ue,8)),j.cb=1}function Qc(j,D,V,te,ie,ue,fe){var he=D[ie].Yb[V];for(V=0;16>ie;++ie){if(!W(j,he[V+0]))return ie;for(;!W(j,he[V+1]);)if(he=D[++ie].Yb[0],V=0,ie==16)return 16;var ge=D[ie+1].Yb;if(W(j,he[V+2])){var ke=j,Le=0;if(W(ke,(Xe=he)[(Ke=V)+3]))if(W(ke,Xe[Ke+6])){for(he=0,Ke=2*(Le=W(ke,Xe[Ke+8]))+(Xe=W(ke,Xe[Ke+9+Le])),Le=0,Xe=WQ[Ke];Xe[he];++he)Le+=Le+W(ke,Xe[he]);Le+=3+(8<<Ke)}else W(ke,Xe[Ke+7])?(Le=7+2*W(ke,165),Le+=W(ke,145)):Le=5+W(ke,159);else Le=W(ke,Xe[Ke+4])?3+W(ke,Xe[Ke+5]):2;he=ge[2]}else Le=1,he=ge[1];ge=fe+zQ[ie],0>(ke=j).b&&ae(ke);var Ke,Xe=ke.b,ze=(Ke=ke.Ca>>1)-(ke.I>>Xe)>>31;--ke.b,ke.Ca+=ze,ke.Ca|=1,ke.I-=(Ke+1&ze)<<Xe,ue[ge]=((Le^ze)-ze)*te[(0<ie)+0]}return 16}function Im(j){var D=j.rb[j.sb-1];D.la=0,D.Na=0,a(j.zc,0,0,j.zc.length),j.ja=0}function C4(j,D){if(j==null)return 0;if(D==null)return Hr(j,2,"NULL VP8Io parameter in VP8Decode().");if(!j.cb&&!Ls(j,D))return 0;if(t(j.cb),D.ac==null||D.ac(D)){D.ob&&(j.L=0);var V=B1[j.L];if(j.L==2?(j.yb=0,j.zb=0):(j.yb=D.v-V>>4,j.zb=D.j-V>>4,0>j.yb&&(j.yb=0),0>j.zb&&(j.zb=0)),j.Va=D.o+15+V>>4,j.Hb=D.va+15+V>>4,j.Hb>j.za&&(j.Hb=j.za),j.Va>j.Ub&&(j.Va=j.Ub),0<j.L){var te=j.ed;for(V=0;4>V;++V){var ie;if(j.Qa.Cb){var ue=j.Qa.Lb[V];j.Qa.Fb||(ue+=te.Tb)}else ue=te.Tb;for(ie=0;1>=ie;++ie){var fe=j.gd[V][ie],he=ue;if(te.Pc&&(he+=te.vd[0],ie&&(he+=te.od[0])),0<(he=0>he?0:63<he?63:he)){var ge=he;0<te.wb&&(ge=4<te.wb?ge>>2:ge>>1)>9-te.wb&&(ge=9-te.wb),1>ge&&(ge=1),fe.dd=ge,fe.tc=2*he+ge,fe.ld=40<=he?2:15<=he?1:0}else fe.tc=0;fe.La=ie}}}V=0}else Hr(j,6,"Frame setup failed"),V=j.a;if(V=V==0){if(V){j.$c=0,0<j.Aa||(j.Ic=sJ);e:{V=j.Ic,te=4*(ge=j.za);var ke=32*ge,Le=ge+1,Ke=0<j.L?ge*(0<j.Aa?2:1):0,Xe=(j.Aa==2?2:1)*ge;if((fe=te+832+(ie=3*(16*V+B1[j.L])/2*ke)+(ue=j.Fa!=null&&0<j.Fa.length?j.Kc.c*j.Kc.i:0))!=fe)V=0;else{if(fe>j.Vb){if(j.Vb=0,j.Ec=i(fe),j.Fc=0,j.Ec==null){V=Hr(j,1,"no memory during frame initialization.");break e}j.Vb=fe}fe=j.Ec,he=j.Fc,j.Ac=fe,j.Bc=he,he+=te,j.Gd=s(ke,gs),j.Hd=0,j.rb=s(Le+1,br),j.sb=1,j.wa=Ke?s(Ke,fr):null,j.Y=0,j.D.Nb=0,j.D.wa=j.wa,j.D.Y=j.Y,0<j.Aa&&(j.D.Y+=ge),t(!0),j.oc=fe,j.pc=he,he+=832,j.ya=s(Xe,Ki),j.aa=0,j.D.ya=j.ya,j.D.aa=j.aa,j.Aa==2&&(j.D.aa+=ge),j.R=16*ge,j.B=8*ge,ge=(ke=B1[j.L])*j.R,ke=ke/2*j.B,j.sa=fe,j.ta=he+ge,j.qa=j.sa,j.ra=j.ta+16*V*j.R+ke,j.Ha=j.qa,j.Ia=j.ra+8*V*j.B+ke,j.$c=0,he+=ie,j.mb=ue?fe:null,j.nb=ue?he:null,t(he+ue<=j.Fc+j.Vb),Im(j),a(j.Ac,j.Bc,0,te),V=1}}if(V){if(D.ka=0,D.y=j.sa,D.O=j.ta,D.f=j.qa,D.N=j.ra,D.ea=j.Ha,D.Vd=j.Ia,D.fa=j.R,D.Rc=j.B,D.F=null,D.J=0,!P1){for(V=-255;255>=V;++V)xa[255+V]=0>V?-V:V;for(V=-1020;1020>=V;++V)Zl[1020+V]=-128>V?-128:127<V?127:V;for(V=-112;112>=V;++V)sg[112+V]=-16>V?-16:15<V?15:V;for(V=-255;510>=V;++V)Gh[255+V]=0>V?0:255<V?255:V;P1=1}qh=E4,Jl=T4,ng=p1,Ti=A4,Rs=m1,Yn=h1,Yh=Hm,E1=Ld,ag=z4,Bd=qm,Ud=W4,nu=Fh,Wd=Ym,Vh=S1,zd=k1,au=il,ig=Kl,Bs=U4,ko[0]=al,ko[1]=P4,ko[2]=M4,ko[3]=F4,ko[4]=v1,ko[5]=Dh,ko[6]=y1,ko[7]=Um,ko[8]=I4,ko[9]=L4,iu[0]=g1,iu[1]=$4,iu[2]=Gl,iu[3]=Oh,iu[4]=ai,iu[5]=D4,iu[6]=x1,ec[0]=Jc,ec[1]=O4,ec[2]=R4,ec[3]=Wm,ec[4]=Fd,ec[5]=B4,ec[6]=zm,V=1}else V=0}V&&(V=function(ze,st){for(ze.M=0;ze.M<ze.Va;++ze.M){var Ze,Ie=ze.Jc[ze.M&ze.Xb],Ue=ze.m,at=ze;for(Ze=0;Ze<at.za;++Ze){var ot=Ue,it=at,bt=it.Ac,gt=it.Bc+4*Ze,Bt=it.zc,xt=it.ya[it.aa+Ze];if(it.Qa.Bb?xt.$b=W(ot,it.Pa.jb[0])?2+W(ot,it.Pa.jb[2]):W(ot,it.Pa.jb[1]):xt.$b=0,it.kc&&(xt.Ad=W(ot,it.Bd)),xt.Za=!W(ot,145)+0,xt.Za){var Ir=xt.Ob,qr=0;for(it=0;4>it;++it){var Cr,xr=Bt[0+it];for(Cr=0;4>Cr;++Cr){xr=qQ[bt[gt+Cr]][xr];for(var rn=ZP[W(ot,xr[0])];0<rn;)rn=ZP[2*rn+W(ot,xr[rn])];xr=-rn,bt[gt+Cr]=xr}n(Ir,qr,bt,gt,4),qr+=4,Bt[0+it]=xr}}else xr=W(ot,156)?W(ot,128)?1:3:W(ot,163)?2:0,xt.Ob[0]=xr,a(bt,gt,xr,4),a(Bt,0,xr,4);xt.Dd=W(ot,142)?W(ot,114)?W(ot,183)?1:3:2:0}if(at.m.Ka)return Hr(ze,7,"Premature end-of-partition0 encountered.");for(;ze.ja<ze.za;++ze.ja){if(at=Ie,ot=(Ue=ze).rb[Ue.sb-1],bt=Ue.rb[Ue.sb+Ue.ja],Ze=Ue.ya[Ue.aa+Ue.ja],gt=Ue.kc?Ze.Ad:0)ot.la=bt.la=0,Ze.Za||(ot.Na=bt.Na=0),Ze.Hc=0,Ze.Gc=0,Ze.ia=0;else{var en,rr;if(ot=bt,bt=at,gt=Ue.Pa.Xc,Bt=Ue.ya[Ue.aa+Ue.ja],xt=Ue.pb[Bt.$b],it=Bt.ad,Ir=0,qr=Ue.rb[Ue.sb-1],xr=Cr=0,a(it,Ir,0,384),Bt.Za)var oa=0,es=gt[3];else{rn=i(16);var la=ot.Na+qr.Na;if(la=og(bt,gt[1],la,xt.Eb,0,rn,0),ot.Na=qr.Na=(0<la)+0,1<la)qh(rn,0,it,Ir);else{var ts=rn[0]+3>>3;for(rn=0;256>rn;rn+=16)it[Ir+rn]=ts}oa=1,es=gt[0]}var Yr=15&ot.la,ys=15&qr.la;for(rn=0;4>rn;++rn){var bs=1&ys;for(ts=rr=0;4>ts;++ts)Yr=Yr>>1|(bs=(la=og(bt,es,la=bs+(1&Yr),xt.Sc,oa,it,Ir))>oa)<<7,rr=rr<<2|(3<la?3:1<la?2:it[Ir+0]!=0),Ir+=16;Yr>>=4,ys=ys>>1|bs<<7,Cr=(Cr<<8|rr)>>>0}for(es=Yr,oa=ys>>4,en=0;4>en;en+=2){for(rr=0,Yr=ot.la>>4+en,ys=qr.la>>4+en,rn=0;2>rn;++rn){for(bs=1&ys,ts=0;2>ts;++ts)la=bs+(1&Yr),Yr=Yr>>1|(bs=0<(la=og(bt,gt[2],la,xt.Qc,0,it,Ir)))<<3,rr=rr<<2|(3<la?3:1<la?2:it[Ir+0]!=0),Ir+=16;Yr>>=2,ys=ys>>1|bs<<5}xr|=rr<<4*en,es|=Yr<<4<<en,oa|=(240&ys)<<en}ot.la=es,qr.la=oa,Bt.Hc=Cr,Bt.Gc=xr,Bt.ia=43690&xr?0:xt.ia,gt=!(Cr|xr)}if(0<Ue.L&&(Ue.wa[Ue.Y+Ue.ja]=Ue.gd[Ze.$b][Ze.Za],Ue.wa[Ue.Y+Ue.ja].La|=!gt),at.Ka)return Hr(ze,7,"Premature end-of-file encountered.")}if(Im(ze),Ue=st,at=1,Ze=(Ie=ze).D,ot=0<Ie.L&&Ie.M>=Ie.zb&&Ie.M<=Ie.Va,Ie.Aa==0)e:{if(Ze.M=Ie.M,Ze.uc=ot,Jm(Ie,Ze),at=1,Ze=(rr=Ie.D).Nb,ot=(xr=B1[Ie.L])*Ie.R,bt=xr/2*Ie.B,rn=16*Ze*Ie.R,ts=8*Ze*Ie.B,gt=Ie.sa,Bt=Ie.ta-ot+rn,xt=Ie.qa,it=Ie.ra-bt+ts,Ir=Ie.Ha,qr=Ie.Ia-bt+ts,ys=(Yr=rr.M)==0,Cr=Yr>=Ie.Va-1,Ie.Aa==2&&Jm(Ie,rr),rr.uc)for(bs=(la=Ie).D.M,t(la.D.uc),rr=la.yb;rr<la.Hb;++rr){oa=rr,es=bs;var Ta=(za=(Ln=la).D).Nb;en=Ln.R;var za=za.wa[za.Y+oa],Ai=Ln.sa,Hs=Ln.ta+16*Ta*en+16*oa,ol=za.dd,Aa=za.tc;if(Aa!=0)if(t(3<=Aa),Ln.L==1)0<oa&&au(Ai,Hs,en,Aa+4),za.La&&Bs(Ai,Hs,en,Aa),0<es&&zd(Ai,Hs,en,Aa+4),za.La&&ig(Ai,Hs,en,Aa);else{var tc=Ln.B,Hd=Ln.qa,Kh=Ln.ra+8*Ta*tc+8*oa,ou=Ln.Ha,Ln=Ln.Ia+8*Ta*tc+8*oa;Ta=za.ld,0<oa&&(E1(Ai,Hs,en,Aa+4,ol,Ta),Bd(Hd,Kh,ou,Ln,tc,Aa+4,ol,Ta)),za.La&&(nu(Ai,Hs,en,Aa,ol,Ta),Vh(Hd,Kh,ou,Ln,tc,Aa,ol,Ta)),0<es&&(Yh(Ai,Hs,en,Aa+4,ol,Ta),ag(Hd,Kh,ou,Ln,tc,Aa+4,ol,Ta)),za.La&&(Ud(Ai,Hs,en,Aa,ol,Ta),Wd(Hd,Kh,ou,Ln,tc,Aa,ol,Ta))}}if(Ie.ia&&alert("todo:DitherRow"),Ue.put!=null){if(rr=16*Yr,Yr=16*(Yr+1),ys?(Ue.y=Ie.sa,Ue.O=Ie.ta+rn,Ue.f=Ie.qa,Ue.N=Ie.ra+ts,Ue.ea=Ie.Ha,Ue.W=Ie.Ia+ts):(rr-=xr,Ue.y=gt,Ue.O=Bt,Ue.f=xt,Ue.N=it,Ue.ea=Ir,Ue.W=qr),Cr||(Yr-=xr),Yr>Ue.o&&(Yr=Ue.o),Ue.F=null,Ue.J=null,Ie.Fa!=null&&0<Ie.Fa.length&&rr<Yr&&(Ue.J=Xm(Ie,Ue,rr,Yr-rr),Ue.F=Ie.mb,Ue.F==null&&Ue.F.length==0)){at=Hr(Ie,3,"Could not decode alpha data.");break e}rr<Ue.j&&(xr=Ue.j-rr,rr=Ue.j,t(!(1&xr)),Ue.O+=Ie.R*xr,Ue.N+=Ie.B*(xr>>1),Ue.W+=Ie.B*(xr>>1),Ue.F!=null&&(Ue.J+=Ue.width*xr)),rr<Yr&&(Ue.O+=Ue.v,Ue.N+=Ue.v>>1,Ue.W+=Ue.v>>1,Ue.F!=null&&(Ue.J+=Ue.v),Ue.ka=rr-Ue.j,Ue.U=Ue.va-Ue.v,Ue.T=Yr-rr,at=Ue.put(Ue))}Ze+1!=Ie.Ic||Cr||(n(Ie.sa,Ie.ta-ot,gt,Bt+16*Ie.R,ot),n(Ie.qa,Ie.ra-bt,xt,it+8*Ie.B,bt),n(Ie.Ha,Ie.Ia-bt,Ir,qr+8*Ie.B,bt))}if(!at)return Hr(ze,6,"Output aborted.")}return 1}(j,D)),D.bc!=null&&D.bc(D),V&=1}return V?(j.cb=0,V):0}function bo(j,D,V,te,ie){ie=j[D+V+32*te]+(ie>>3),j[D+V+32*te]=-256&ie?0>ie?0:255:ie}function Ph(j,D,V,te,ie,ue){bo(j,D,0,V,te+ie),bo(j,D,1,V,te+ue),bo(j,D,2,V,te-ue),bo(j,D,3,V,te-ie)}function Qi(j){return(20091*j>>16)+j}function Rm(j,D,V,te){var ie,ue=0,fe=i(16);for(ie=0;4>ie;++ie){var he=j[D+0]+j[D+8],ge=j[D+0]-j[D+8],ke=(35468*j[D+4]>>16)-Qi(j[D+12]),Le=Qi(j[D+4])+(35468*j[D+12]>>16);fe[ue+0]=he+Le,fe[ue+1]=ge+ke,fe[ue+2]=ge-ke,fe[ue+3]=he-Le,ue+=4,D++}for(ie=ue=0;4>ie;++ie)he=(j=fe[ue+0]+4)+fe[ue+8],ge=j-fe[ue+8],ke=(35468*fe[ue+4]>>16)-Qi(fe[ue+12]),bo(V,te,0,0,he+(Le=Qi(fe[ue+4])+(35468*fe[ue+12]>>16))),bo(V,te,1,0,ge+ke),bo(V,te,2,0,ge-ke),bo(V,te,3,0,he-Le),ue++,te+=32}function h1(j,D,V,te){var ie=j[D+0]+4,ue=35468*j[D+4]>>16,fe=Qi(j[D+4]),he=35468*j[D+1]>>16;Ph(V,te,0,ie+fe,j=Qi(j[D+1]),he),Ph(V,te,1,ie+ue,j,he),Ph(V,te,2,ie-ue,j,he),Ph(V,te,3,ie-fe,j,he)}function T4(j,D,V,te,ie){Rm(j,D,V,te),ie&&Rm(j,D+16,V,te+4)}function p1(j,D,V,te){Jl(j,D+0,V,te,1),Jl(j,D+32,V,te+128,1)}function A4(j,D,V,te){var ie;for(j=j[D+0]+4,ie=0;4>ie;++ie)for(D=0;4>D;++D)bo(V,te,D,ie,j)}function m1(j,D,V,te){j[D+0]&&Ti(j,D+0,V,te),j[D+16]&&Ti(j,D+16,V,te+4),j[D+32]&&Ti(j,D+32,V,te+128),j[D+48]&&Ti(j,D+48,V,te+128+4)}function E4(j,D,V,te){var ie,ue=i(16);for(ie=0;4>ie;++ie){var fe=j[D+0+ie]+j[D+12+ie],he=j[D+4+ie]+j[D+8+ie],ge=j[D+4+ie]-j[D+8+ie],ke=j[D+0+ie]-j[D+12+ie];ue[0+ie]=fe+he,ue[8+ie]=fe-he,ue[4+ie]=ke+ge,ue[12+ie]=ke-ge}for(ie=0;4>ie;++ie)fe=(j=ue[0+4*ie]+3)+ue[3+4*ie],he=ue[1+4*ie]+ue[2+4*ie],ge=ue[1+4*ie]-ue[2+4*ie],ke=j-ue[3+4*ie],V[te+0]=fe+he>>3,V[te+16]=ke+ge>>3,V[te+32]=fe-he>>3,V[te+48]=ke-ge>>3,te+=64}function Bm(j,D,V){var te,ie=D-32,ue=vs,fe=255-j[ie-1];for(te=0;te<V;++te){var he,ge=ue,ke=fe+j[D-1];for(he=0;he<V;++he)j[D+he]=ge[ke+j[ie+he]];D+=32}}function P4(j,D){Bm(j,D,4)}function O4(j,D){Bm(j,D,8)}function $4(j,D){Bm(j,D,16)}function Gl(j,D){var V;for(V=0;16>V;++V)n(j,D+32*V,j,D-32,16)}function Oh(j,D){var V;for(V=16;0<V;--V)a(j,D,j[D-1],16),D+=32}function $h(j,D,V){var te;for(te=0;16>te;++te)a(D,V+32*te,j,16)}function g1(j,D){var V,te=16;for(V=0;16>V;++V)te+=j[D-1+32*V]+j[D+V-32];$h(te>>5,j,D)}function ai(j,D){var V,te=8;for(V=0;16>V;++V)te+=j[D-1+32*V];$h(te>>4,j,D)}function D4(j,D){var V,te=8;for(V=0;16>V;++V)te+=j[D+V-32];$h(te>>4,j,D)}function x1(j,D){$h(128,j,D)}function Vt(j,D,V){return j+2*D+V+2>>2}function M4(j,D){var V,te=D-32;for(te=new Uint8Array([Vt(j[te-1],j[te+0],j[te+1]),Vt(j[te+0],j[te+1],j[te+2]),Vt(j[te+1],j[te+2],j[te+3]),Vt(j[te+2],j[te+3],j[te+4])]),V=0;4>V;++V)n(j,D+32*V,te,0,te.length)}function F4(j,D){var V=j[D-1],te=j[D-1+32],ie=j[D-1+64],ue=j[D-1+96];Z(j,D+0,16843009*Vt(j[D-1-32],V,te)),Z(j,D+32,16843009*Vt(V,te,ie)),Z(j,D+64,16843009*Vt(te,ie,ue)),Z(j,D+96,16843009*Vt(ie,ue,ue))}function al(j,D){var V,te=4;for(V=0;4>V;++V)te+=j[D+V-32]+j[D-1+32*V];for(te>>=3,V=0;4>V;++V)a(j,D+32*V,te,4)}function v1(j,D){var V=j[D-1+0],te=j[D-1+32],ie=j[D-1+64],ue=j[D-1-32],fe=j[D+0-32],he=j[D+1-32],ge=j[D+2-32],ke=j[D+3-32];j[D+0+96]=Vt(te,ie,j[D-1+96]),j[D+1+96]=j[D+0+64]=Vt(V,te,ie),j[D+2+96]=j[D+1+64]=j[D+0+32]=Vt(ue,V,te),j[D+3+96]=j[D+2+64]=j[D+1+32]=j[D+0+0]=Vt(fe,ue,V),j[D+3+64]=j[D+2+32]=j[D+1+0]=Vt(he,fe,ue),j[D+3+32]=j[D+2+0]=Vt(ge,he,fe),j[D+3+0]=Vt(ke,ge,he)}function y1(j,D){var V=j[D+1-32],te=j[D+2-32],ie=j[D+3-32],ue=j[D+4-32],fe=j[D+5-32],he=j[D+6-32],ge=j[D+7-32];j[D+0+0]=Vt(j[D+0-32],V,te),j[D+1+0]=j[D+0+32]=Vt(V,te,ie),j[D+2+0]=j[D+1+32]=j[D+0+64]=Vt(te,ie,ue),j[D+3+0]=j[D+2+32]=j[D+1+64]=j[D+0+96]=Vt(ie,ue,fe),j[D+3+32]=j[D+2+64]=j[D+1+96]=Vt(ue,fe,he),j[D+3+64]=j[D+2+96]=Vt(fe,he,ge),j[D+3+96]=Vt(he,ge,ge)}function Dh(j,D){var V=j[D-1+0],te=j[D-1+32],ie=j[D-1+64],ue=j[D-1-32],fe=j[D+0-32],he=j[D+1-32],ge=j[D+2-32],ke=j[D+3-32];j[D+0+0]=j[D+1+64]=ue+fe+1>>1,j[D+1+0]=j[D+2+64]=fe+he+1>>1,j[D+2+0]=j[D+3+64]=he+ge+1>>1,j[D+3+0]=ge+ke+1>>1,j[D+0+96]=Vt(ie,te,V),j[D+0+64]=Vt(te,V,ue),j[D+0+32]=j[D+1+96]=Vt(V,ue,fe),j[D+1+32]=j[D+2+96]=Vt(ue,fe,he),j[D+2+32]=j[D+3+96]=Vt(fe,he,ge),j[D+3+32]=Vt(he,ge,ke)}function Um(j,D){var V=j[D+0-32],te=j[D+1-32],ie=j[D+2-32],ue=j[D+3-32],fe=j[D+4-32],he=j[D+5-32],ge=j[D+6-32],ke=j[D+7-32];j[D+0+0]=V+te+1>>1,j[D+1+0]=j[D+0+64]=te+ie+1>>1,j[D+2+0]=j[D+1+64]=ie+ue+1>>1,j[D+3+0]=j[D+2+64]=ue+fe+1>>1,j[D+0+32]=Vt(V,te,ie),j[D+1+32]=j[D+0+96]=Vt(te,ie,ue),j[D+2+32]=j[D+1+96]=Vt(ie,ue,fe),j[D+3+32]=j[D+2+96]=Vt(ue,fe,he),j[D+3+64]=Vt(fe,he,ge),j[D+3+96]=Vt(he,ge,ke)}function L4(j,D){var V=j[D-1+0],te=j[D-1+32],ie=j[D-1+64],ue=j[D-1+96];j[D+0+0]=V+te+1>>1,j[D+2+0]=j[D+0+32]=te+ie+1>>1,j[D+2+32]=j[D+0+64]=ie+ue+1>>1,j[D+1+0]=Vt(V,te,ie),j[D+3+0]=j[D+1+32]=Vt(te,ie,ue),j[D+3+32]=j[D+1+64]=Vt(ie,ue,ue),j[D+3+64]=j[D+2+64]=j[D+0+96]=j[D+1+96]=j[D+2+96]=j[D+3+96]=ue}function I4(j,D){var V=j[D-1+0],te=j[D-1+32],ie=j[D-1+64],ue=j[D-1+96],fe=j[D-1-32],he=j[D+0-32],ge=j[D+1-32],ke=j[D+2-32];j[D+0+0]=j[D+2+32]=V+fe+1>>1,j[D+0+32]=j[D+2+64]=te+V+1>>1,j[D+0+64]=j[D+2+96]=ie+te+1>>1,j[D+0+96]=ue+ie+1>>1,j[D+3+0]=Vt(he,ge,ke),j[D+2+0]=Vt(fe,he,ge),j[D+1+0]=j[D+3+32]=Vt(V,fe,he),j[D+1+32]=j[D+3+64]=Vt(te,V,fe),j[D+1+64]=j[D+3+96]=Vt(ie,te,V),j[D+1+96]=Vt(ue,ie,te)}function R4(j,D){var V;for(V=0;8>V;++V)n(j,D+32*V,j,D-32,8)}function Wm(j,D){var V;for(V=0;8>V;++V)a(j,D,j[D-1],8),D+=32}function Md(j,D,V){var te;for(te=0;8>te;++te)a(D,V+32*te,j,8)}function Jc(j,D){var V,te=8;for(V=0;8>V;++V)te+=j[D+V-32]+j[D-1+32*V];Md(te>>4,j,D)}function B4(j,D){var V,te=4;for(V=0;8>V;++V)te+=j[D+V-32];Md(te>>3,j,D)}function Fd(j,D){var V,te=4;for(V=0;8>V;++V)te+=j[D-1+32*V];Md(te>>3,j,D)}function zm(j,D){Md(128,j,D)}function Mh(j,D,V){var te=j[D-V],ie=j[D+0],ue=3*(ie-te)+Y4[1020+j[D-2*V]-j[D+V]],fe=O1[112+(ue+4>>3)];j[D-V]=vs[255+te+O1[112+(ue+3>>3)]],j[D+0]=vs[255+ie-fe]}function b1(j,D,V,te){var ie=j[D+0],ue=j[D+V];return Ws[255+j[D-2*V]-j[D-V]]>te||Ws[255+ue-ie]>te}function w1(j,D,V,te){return 4*Ws[255+j[D-V]-j[D+0]]+Ws[255+j[D-2*V]-j[D+V]]<=te}function _1(j,D,V,te,ie){var ue=j[D-3*V],fe=j[D-2*V],he=j[D-V],ge=j[D+0],ke=j[D+V],Le=j[D+2*V],Ke=j[D+3*V];return 4*Ws[255+he-ge]+Ws[255+fe-ke]>te?0:Ws[255+j[D-4*V]-ue]<=ie&&Ws[255+ue-fe]<=ie&&Ws[255+fe-he]<=ie&&Ws[255+Ke-Le]<=ie&&Ws[255+Le-ke]<=ie&&Ws[255+ke-ge]<=ie}function k1(j,D,V,te){var ie=2*te+1;for(te=0;16>te;++te)w1(j,D+te,V,ie)&&Mh(j,D+te,V)}function il(j,D,V,te){var ie=2*te+1;for(te=0;16>te;++te)w1(j,D+te*V,1,ie)&&Mh(j,D+te*V,1)}function Kl(j,D,V,te){var ie;for(ie=3;0<ie;--ie)k1(j,D+=4*V,V,te)}function U4(j,D,V,te){var ie;for(ie=3;0<ie;--ie)il(j,D+=4,V,te)}function Zc(j,D,V,te,ie,ue,fe,he){for(ue=2*ue+1;0<ie--;){if(_1(j,D,V,ue,fe))if(b1(j,D,V,he))Mh(j,D,V);else{var ge=j,ke=D,Le=V,Ke=ge[ke-2*Le],Xe=ge[ke-Le],ze=ge[ke+0],st=ge[ke+Le],Ze=ge[ke+2*Le],Ie=27*(at=Y4[1020+3*(ze-Xe)+Y4[1020+Ke-st]])+63>>7,Ue=18*at+63>>7,at=9*at+63>>7;ge[ke-3*Le]=vs[255+ge[ke-3*Le]+at],ge[ke-2*Le]=vs[255+Ke+Ue],ge[ke-Le]=vs[255+Xe+Ie],ge[ke+0]=vs[255+ze-Ie],ge[ke+Le]=vs[255+st-Ue],ge[ke+2*Le]=vs[255+Ze-at]}D+=te}}function wo(j,D,V,te,ie,ue,fe,he){for(ue=2*ue+1;0<ie--;){if(_1(j,D,V,ue,fe))if(b1(j,D,V,he))Mh(j,D,V);else{var ge=j,ke=D,Le=V,Ke=ge[ke-Le],Xe=ge[ke+0],ze=ge[ke+Le],st=O1[112+((Ze=3*(Xe-Ke))+4>>3)],Ze=O1[112+(Ze+3>>3)],Ie=st+1>>1;ge[ke-2*Le]=vs[255+ge[ke-2*Le]+Ie],ge[ke-Le]=vs[255+Ke+Ze],ge[ke+0]=vs[255+Xe-st],ge[ke+Le]=vs[255+ze-Ie]}D+=te}}function Hm(j,D,V,te,ie,ue){Zc(j,D,V,1,16,te,ie,ue)}function Ld(j,D,V,te,ie,ue){Zc(j,D,1,V,16,te,ie,ue)}function W4(j,D,V,te,ie,ue){var fe;for(fe=3;0<fe;--fe)wo(j,D+=4*V,V,1,16,te,ie,ue)}function Fh(j,D,V,te,ie,ue){var fe;for(fe=3;0<fe;--fe)wo(j,D+=4,1,V,16,te,ie,ue)}function z4(j,D,V,te,ie,ue,fe,he){Zc(j,D,ie,1,8,ue,fe,he),Zc(V,te,ie,1,8,ue,fe,he)}function qm(j,D,V,te,ie,ue,fe,he){Zc(j,D,1,ie,8,ue,fe,he),Zc(V,te,1,ie,8,ue,fe,he)}function Ym(j,D,V,te,ie,ue,fe,he){wo(j,D+4*ie,ie,1,8,ue,fe,he),wo(V,te+4*ie,ie,1,8,ue,fe,he)}function S1(j,D,V,te,ie,ue,fe,he){wo(j,D+4,1,ie,8,ue,fe,he),wo(V,te+4,1,ie,8,ue,fe,he)}function Lh(){this.ba=new wn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new yr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Vm(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Gm(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function N1(){this.ua=0,this.Wa=new Q,this.vb=new Q,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new M,this.yc=new T}function H4(){this.xb=this.a=0,this.l=new ri,this.ca=new wn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new E,this.Pb=0,this.wd=new E,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new N1,this.ab=0,this.gc=s(4,Gm),this.Oc=0}function Ih(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ri,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Id(j,D,V,te,ie,ue,fe){for(j=j==null?0:j[D+0],D=0;D<fe;++D)ie[ue+D]=j+V[te+D]&255,j=ie[ue+D]}function Km(j,D,V,te,ie,ue,fe){var he;if(j==null)Id(null,null,V,te,ie,ue,fe);else for(he=0;he<fe;++he)ie[ue+he]=j[D+he]+V[te+he]&255}function eu(j,D,V,te,ie,ue,fe){if(j==null)Id(null,null,V,te,ie,ue,fe);else{var he,ge=j[D+0],ke=ge,Le=ge;for(he=0;he<fe;++he)ke=Le+(ge=j[D+he])-ke,Le=V[te+he]+(-256&ke?0>ke?0:255:ke)&255,ke=ge,ie[ue+he]=Le}}function Xm(j,D,V,te){var ie=D.width,ue=D.o;if(t(j!=null&&D!=null),0>V||0>=te||V+te>ue)return null;if(!j.Cc){if(j.ga==null){var fe;if(j.ga=new Ih,(fe=j.ga==null)||(fe=D.width*D.o,t(j.Gb.length==0),j.Gb=i(fe),j.Uc=0,j.Gb==null?fe=0:(j.mb=j.Gb,j.nb=j.Uc,j.rc=null,fe=1),fe=!fe),!fe){fe=j.ga;var he=j.Fa,ge=j.P,ke=j.qc,Le=j.mb,Ke=j.nb,Xe=ge+1,ze=ke-1,st=fe.l;if(t(he!=null&&Le!=null&&D!=null),su[0]=null,su[1]=Id,su[2]=Km,su[3]=eu,fe.ca=Le,fe.tb=Ke,fe.c=D.width,fe.i=D.height,t(0<fe.c&&0<fe.i),1>=ke)D=0;else if(fe.$a=he[ge+0]>>0&3,fe.Z=he[ge+0]>>2&3,fe.Lc=he[ge+0]>>4&3,ge=he[ge+0]>>6&3,0>fe.$a||1<fe.$a||4<=fe.Z||1<fe.Lc||ge)D=0;else if(st.put=Mn,st.ac=Zr,st.bc=qn,st.ma=fe,st.width=D.width,st.height=D.height,st.Da=D.Da,st.v=D.v,st.va=D.va,st.j=D.j,st.o=D.o,fe.$a)e:{t(fe.$a==1),D=Qe();t:for(;;){if(D==null){D=0;break e}if(t(fe!=null),fe.mc=D,D.c=fe.c,D.i=fe.i,D.l=fe.l,D.l.ma=fe,D.l.width=fe.c,D.l.height=fe.i,D.a=0,G(D.m,he,Xe,ze),!Ye(fe.c,fe.i,1,D,null)||(D.ab==1&&D.gc[0].hc==3&&xe(D.s)?(fe.ic=1,he=D.c*D.i,D.Ta=null,D.Ua=0,D.V=i(he),D.Ba=0,D.V==null?(D.a=1,D=0):D=1):(fe.ic=0,D=Ve(D,fe.c)),!D))break t;D=1;break e}fe.mc=null,D=0}else D=ze>=fe.c*fe.i;fe=!D}if(fe)return null;j.ga.Lc!=1?j.Ga=0:te=ue-V}t(j.ga!=null),t(V+te<=ue);e:{if(D=(he=j.ga).c,ue=he.l.o,he.$a==0){if(Xe=j.rc,ze=j.Vc,st=j.Fa,ge=j.P+1+V*D,ke=j.mb,Le=j.nb+V*D,t(ge<=j.P+j.qc),he.Z!=0)for(t(su[he.Z]!=null),fe=0;fe<te;++fe)su[he.Z](Xe,ze,st,ge,ke,Le,D),Xe=ke,ze=Le,Le+=D,ge+=D;else for(fe=0;fe<te;++fe)n(ke,Le,st,ge,D),Xe=ke,ze=Le,Le+=D,ge+=D;j.rc=Xe,j.Vc=ze}else{if(t(he.mc!=null),D=V+te,t((fe=he.mc)!=null),t(D<=fe.i),fe.C>=D)D=1;else if(he.ic||qe(),he.ic){he=fe.V,Xe=fe.Ba,ze=fe.c;var Ze=fe.i,Ie=(st=1,ge=fe.$/ze,ke=fe.$%ze,Le=fe.m,Ke=fe.s,fe.$),Ue=ze*Ze,at=ze*D,ot=Ke.wc,it=Ie<at?$r(Ke,ke,ge):null;t(Ie<=Ue),t(D<=Ze),t(xe(Ke));t:for(;;){for(;!Le.h&&Ie<at;){if(ke&ot||(it=$r(Ke,ke,ge)),t(it!=null),K(Le),256>(Ze=sr(it.G[0],it.H[0],Le)))he[Xe+Ie]=Ze,++Ie,++ke>=ze&&(ke=0,++ge<=D&&!(ge%16)&&_e(fe,ge));else{if(!(280>Ze)){st=0;break t}Ze=ia(Ze-256,Le);var bt,gt=sr(it.G[4],it.H[4],Le);if(K(Le),!(Ie>=(gt=Pt(ze,gt=ia(gt,Le)))&&Ue-Ie>=Ze)){st=0;break t}for(bt=0;bt<Ze;++bt)he[Xe+Ie+bt]=he[Xe+Ie+bt-gt];for(Ie+=Ze,ke+=Ze;ke>=ze;)ke-=ze,++ge<=D&&!(ge%16)&&_e(fe,ge);Ie<at&&ke&ot&&(it=$r(Ke,ke,ge))}t(Le.h==B(Le))}_e(fe,ge>D?D:ge);break t}!st||Le.h&&Ie<Ue?(st=0,fe.a=Le.h?5:3):fe.$=Ie,D=st}else D=Ne(fe,fe.V,fe.Ba,fe.c,fe.i,D,Ge);if(!D){te=0;break e}}V+te>=ue&&(j.Cc=1),te=1}if(!te)return null;if(j.Cc&&((te=j.ga)!=null&&(te.mc=null),j.ga=null,0<j.Ga))return alert("todo:WebPDequantizeLevels"),null}return j.nb+V*ie}function U(j,D,V,te,ie,ue){for(;0<ie--;){var fe,he=j,ge=D+(V?1:0),ke=j,Le=D+(V?0:3);for(fe=0;fe<te;++fe){var Ke=ke[Le+4*fe];Ke!=255&&(Ke*=32897,he[ge+4*fe+0]=he[ge+4*fe+0]*Ke>>23,he[ge+4*fe+1]=he[ge+4*fe+1]*Ke>>23,he[ge+4*fe+2]=he[ge+4*fe+2]*Ke>>23)}D+=ue}}function se(j,D,V,te,ie){for(;0<te--;){var ue;for(ue=0;ue<V;++ue){var fe=j[D+2*ue+0],he=15&(ke=j[D+2*ue+1]),ge=4369*he,ke=(240&ke|ke>>4)*ge>>16;j[D+2*ue+0]=(240&fe|fe>>4)*ge>>16&240|(15&fe|fe<<4)*ge>>16>>4&15,j[D+2*ue+1]=240&ke|he}D+=ie}}function Te(j,D,V,te,ie,ue,fe,he){var ge,ke,Le=255;for(ke=0;ke<ie;++ke){for(ge=0;ge<te;++ge){var Ke=j[D+ge];ue[fe+4*ge]=Ke,Le&=Ke}D+=V,fe+=he}return Le!=255}function Me(j,D,V,te,ie){var ue;for(ue=0;ue<ie;++ue)V[te+ue]=j[D+ue]>>8}function qe(){Us=U,ln=se,cn=Te,Vn=Me}function tt(j,D,V){w[j]=function(te,ie,ue,fe,he,ge,ke,Le,Ke,Xe,ze,st,Ze,Ie,Ue,at,ot){var it,bt=ot-1>>1,gt=he[ge+0]|ke[Le+0]<<16,Bt=Ke[Xe+0]|ze[st+0]<<16;t(te!=null);var xt=3*gt+Bt+131074>>2;for(D(te[ie+0],255&xt,xt>>16,Ze,Ie),ue!=null&&(xt=3*Bt+gt+131074>>2,D(ue[fe+0],255&xt,xt>>16,Ue,at)),it=1;it<=bt;++it){var Ir=he[ge+it]|ke[Le+it]<<16,qr=Ke[Xe+it]|ze[st+it]<<16,Cr=gt+Ir+Bt+qr+524296,xr=Cr+2*(Ir+Bt)>>3;xt=xr+gt>>1,gt=(Cr=Cr+2*(gt+qr)>>3)+Ir>>1,D(te[ie+2*it-1],255&xt,xt>>16,Ze,Ie+(2*it-1)*V),D(te[ie+2*it-0],255&gt,gt>>16,Ze,Ie+(2*it-0)*V),ue!=null&&(xt=Cr+Bt>>1,gt=xr+qr>>1,D(ue[fe+2*it-1],255&xt,xt>>16,Ue,at+(2*it-1)*V),D(ue[fe+2*it+0],255&gt,gt>>16,Ue,at+(2*it+0)*V)),gt=Ir,Bt=qr}1&ot||(xt=3*gt+Bt+131074>>2,D(te[ie+ot-1],255&xt,xt>>16,Ze,Ie+(ot-1)*V),ue!=null&&(xt=3*Bt+gt+131074>>2,D(ue[fe+ot-1],255&xt,xt>>16,Ue,at+(ot-1)*V)))}}function ct(){zs[$1]=KQ,zs[D1]=tO,zs[XP]=XQ,zs[M1]=rO,zs[F1]=nO,zs[V4]=aO,zs[QP]=QQ,zs[G4]=tO,zs[K4]=rO,zs[L1]=nO,zs[X4]=aO}function yt(j){return j&-16384?0>j?0:255:j>>JQ}function Lt(j,D){return yt((19077*j>>8)+(26149*D>>8)-14234)}function Zt(j,D,V){return yt((19077*j>>8)-(6419*D>>8)-(13320*V>>8)+8708)}function Xt(j,D){return yt((19077*j>>8)+(33050*D>>8)-17685)}function Sr(j,D,V,te,ie){te[ie+0]=Lt(j,V),te[ie+1]=Zt(j,D,V),te[ie+2]=Xt(j,D)}function An(j,D,V,te,ie){te[ie+0]=Xt(j,D),te[ie+1]=Zt(j,D,V),te[ie+2]=Lt(j,V)}function Fn(j,D,V,te,ie){var ue=Zt(j,D,V);D=ue<<3&224|Xt(j,D)>>3,te[ie+0]=248&Lt(j,V)|ue>>5,te[ie+1]=D}function sa(j,D,V,te,ie){var ue=240&Xt(j,D)|15;te[ie+0]=240&Lt(j,V)|Zt(j,D,V)>>4,te[ie+1]=ue}function ii(j,D,V,te,ie){te[ie+0]=255,Sr(j,D,V,te,ie+1)}function Ca(j,D,V,te,ie){An(j,D,V,te,ie),te[ie+3]=255}function _o(j,D,V,te,ie){Sr(j,D,V,te,ie),te[ie+3]=255}function xs(j,D){return 0>j?0:j>D?D:j}function sl(j,D,V){w[j]=function(te,ie,ue,fe,he,ge,ke,Le,Ke){for(var Xe=Le+(-2&Ke)*V;Le!=Xe;)D(te[ie+0],ue[fe+0],he[ge+0],ke,Le),D(te[ie+1],ue[fe+0],he[ge+0],ke,Le+V),ie+=2,++fe,++ge,Le+=2*V;1&Ke&&D(te[ie+0],ue[fe+0],he[ge+0],ke,Le)}}function j1(j,D,V){return V==0?j==0?D==0?6:5:D==0?4:0:V}function Qm(j,D,V,te,ie){switch(j>>>30){case 3:Jl(D,V,te,ie,0);break;case 2:Yn(D,V,te,ie);break;case 1:Ti(D,V,te,ie)}}function Jm(j,D){var V,te,ie=D.M,ue=D.Nb,fe=j.oc,he=j.pc+40,ge=j.oc,ke=j.pc+584,Le=j.oc,Ke=j.pc+600;for(V=0;16>V;++V)fe[he+32*V-1]=129;for(V=0;8>V;++V)ge[ke+32*V-1]=129,Le[Ke+32*V-1]=129;for(0<ie?fe[he-1-32]=ge[ke-1-32]=Le[Ke-1-32]=129:(a(fe,he-32-1,127,21),a(ge,ke-32-1,127,9),a(Le,Ke-32-1,127,9)),te=0;te<j.za;++te){var Xe=D.ya[D.aa+te];if(0<te){for(V=-1;16>V;++V)n(fe,he+32*V-4,fe,he+32*V+12,4);for(V=-1;8>V;++V)n(ge,ke+32*V-4,ge,ke+32*V+4,4),n(Le,Ke+32*V-4,Le,Ke+32*V+4,4)}var ze=j.Gd,st=j.Hd+te,Ze=Xe.ad,Ie=Xe.Hc;if(0<ie&&(n(fe,he-32,ze[st].y,0,16),n(ge,ke-32,ze[st].f,0,8),n(Le,Ke-32,ze[st].ea,0,8)),Xe.Za){var Ue=fe,at=he-32+16;for(0<ie&&(te>=j.za-1?a(Ue,at,ze[st].y[15],4):n(Ue,at,ze[st+1].y,0,4)),V=0;4>V;V++)Ue[at+128+V]=Ue[at+256+V]=Ue[at+384+V]=Ue[at+0+V];for(V=0;16>V;++V,Ie<<=2)Ue=fe,at=he+sO[V],ko[Xe.Ob[V]](Ue,at),Qm(Ie,Ze,16*+V,Ue,at)}else if(Ue=j1(te,ie,Xe.Ob[0]),iu[Ue](fe,he),Ie!=0)for(V=0;16>V;++V,Ie<<=2)Qm(Ie,Ze,16*+V,fe,he+sO[V]);for(V=Xe.Gc,Ue=j1(te,ie,Xe.Dd),ec[Ue](ge,ke),ec[Ue](Le,Ke),Ie=Ze,Ue=ge,at=ke,255&(Xe=V>>0)&&(170&Xe?ng(Ie,256,Ue,at):Rs(Ie,256,Ue,at)),Xe=Le,Ie=Ke,255&(V>>=8)&&(170&V?ng(Ze,320,Xe,Ie):Rs(Ze,320,Xe,Ie)),ie<j.Ub-1&&(n(ze[st].y,0,fe,he+480,16),n(ze[st].f,0,ge,ke+224,8),n(ze[st].ea,0,Le,Ke+224,8)),V=8*ue*j.B,ze=j.sa,st=j.ta+16*te+16*ue*j.R,Ze=j.qa,Xe=j.ra+8*te+V,Ie=j.Ha,Ue=j.Ia+8*te+V,V=0;16>V;++V)n(ze,st+V*j.R,fe,he+32*V,16);for(V=0;8>V;++V)n(Ze,Xe+V*j.B,ge,ke+32*V,8),n(Ie,Ue+V*j.B,Le,Ke+32*V,8)}}function Rh(j,D,V,te,ie,ue,fe,he,ge){var ke=[0],Le=[0],Ke=0,Xe=ge!=null?ge.kd:0,ze=ge??new Vm;if(j==null||12>V)return 7;ze.data=j,ze.w=D,ze.ha=V,D=[D],V=[V],ze.gb=[ze.gb];e:{var st=D,Ze=V,Ie=ze.gb;if(t(j!=null),t(Ze!=null),t(Ie!=null),Ie[0]=0,12<=Ze[0]&&!r(j,st[0],"RIFF")){if(r(j,st[0]+8,"WEBP")){Ie=3;break e}var Ue=de(j,st[0]+4);if(12>Ue||4294967286<Ue){Ie=3;break e}if(Xe&&Ue>Ze[0]-8){Ie=7;break e}Ie[0]=Ue,st[0]+=12,Ze[0]-=12}Ie=0}if(Ie!=0)return Ie;for(Ue=0<ze.gb[0],V=V[0];;){e:{var at=j;Ze=D,Ie=V;var ot=ke,it=Le,bt=st=[0];if((xt=Ke=[Ke])[0]=0,8>Ie[0])Ie=7;else{if(!r(at,Ze[0],"VP8X")){if(de(at,Ze[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var gt=de(at,Ze[0]+8),Bt=1+O(at,Ze[0]+12);if(2147483648<=Bt*(at=1+O(at,Ze[0]+15))){Ie=3;break e}bt!=null&&(bt[0]=gt),ot!=null&&(ot[0]=Bt),it!=null&&(it[0]=at),Ze[0]+=18,Ie[0]-=18,xt[0]=1}Ie=0}}if(Ke=Ke[0],st=st[0],Ie!=0)return Ie;if(Ze=!!(2&st),!Ue&&Ke)return 3;if(ue!=null&&(ue[0]=!!(16&st)),fe!=null&&(fe[0]=Ze),he!=null&&(he[0]=0),fe=ke[0],st=Le[0],Ke&&Ze&&ge==null){Ie=0;break}if(4>V){Ie=7;break}if(Ue&&Ke||!Ue&&!Ke&&!r(j,D[0],"ALPH")){V=[V],ze.na=[ze.na],ze.P=[ze.P],ze.Sa=[ze.Sa];e:{gt=j,Ie=D,Ue=V;var xt=ze.gb;ot=ze.na,it=ze.P,bt=ze.Sa,Bt=22,t(gt!=null),t(Ue!=null),at=Ie[0];var Ir=Ue[0];for(t(ot!=null),t(bt!=null),ot[0]=null,it[0]=null,bt[0]=0;;){if(Ie[0]=at,Ue[0]=Ir,8>Ir){Ie=7;break e}var qr=de(gt,at+4);if(4294967286<qr){Ie=3;break e}var Cr=8+qr+1&-2;if(Bt+=Cr,0<xt&&Bt>xt){Ie=3;break e}if(!r(gt,at,"VP8 ")||!r(gt,at,"VP8L")){Ie=0;break e}if(Ir[0]<Cr){Ie=7;break e}r(gt,at,"ALPH")||(ot[0]=gt,it[0]=at+8,bt[0]=qr),at+=Cr,Ir-=Cr}}if(V=V[0],ze.na=ze.na[0],ze.P=ze.P[0],ze.Sa=ze.Sa[0],Ie!=0)break}V=[V],ze.Ja=[ze.Ja],ze.xa=[ze.xa];e:if(xt=j,Ie=D,Ue=V,ot=ze.gb[0],it=ze.Ja,bt=ze.xa,gt=Ie[0],at=!r(xt,gt,"VP8 "),Bt=!r(xt,gt,"VP8L"),t(xt!=null),t(Ue!=null),t(it!=null),t(bt!=null),8>Ue[0])Ie=7;else{if(at||Bt){if(xt=de(xt,gt+4),12<=ot&&xt>ot-12){Ie=3;break e}if(Xe&&xt>Ue[0]-8){Ie=7;break e}it[0]=xt,Ie[0]+=8,Ue[0]-=8,bt[0]=Bt}else bt[0]=5<=Ue[0]&&xt[gt+0]==47&&!(xt[gt+4]>>5),it[0]=Ue[0];Ie=0}if(V=V[0],ze.Ja=ze.Ja[0],ze.xa=ze.xa[0],D=D[0],Ie!=0)break;if(4294967286<ze.Ja)return 3;if(he==null||Ze||(he[0]=ze.xa?2:1),fe=[fe],st=[st],ze.xa){if(5>V){Ie=7;break}he=fe,Xe=st,Ze=ue,j==null||5>V?j=0:5<=V&&j[D+0]==47&&!(j[D+4]>>5)?(Ue=[0],xt=[0],ot=[0],G(it=new E,j,D,V),$t(it,Ue,xt,ot)?(he!=null&&(he[0]=Ue[0]),Xe!=null&&(Xe[0]=xt[0]),Ze!=null&&(Ze[0]=ot[0]),j=1):j=0):j=0}else{if(10>V){Ie=7;break}he=st,j==null||10>V||!Eh(j,D+3,V-3)?j=0:(Xe=j[D+0]|j[D+1]<<8|j[D+2]<<16,Ze=16383&(j[D+7]<<8|j[D+6]),j=16383&(j[D+9]<<8|j[D+8]),1&Xe||3<(Xe>>1&7)||!(Xe>>4&1)||Xe>>5>=ze.Ja||!Ze||!j?j=0:(fe&&(fe[0]=Ze),he&&(he[0]=j),j=1))}if(!j||(fe=fe[0],st=st[0],Ke&&(ke[0]!=fe||Le[0]!=st)))return 3;ge!=null&&(ge[0]=ze,ge.offset=D-ge.w,t(4294967286>D-ge.w),t(ge.offset==ge.ha-V));break}return Ie==0||Ie==7&&Ke&&ge==null?(ue!=null&&(ue[0]|=ze.na!=null&&0<ze.na.length),te!=null&&(te[0]=fe),ie!=null&&(ie[0]=st),0):Ie}function Zm(j,D,V){var te=D.width,ie=D.height,ue=0,fe=0,he=te,ge=ie;if(D.Da=j!=null&&0<j.Da,D.Da&&(he=j.cd,ge=j.bd,ue=j.v,fe=j.j,11>V||(ue&=-2,fe&=-2),0>ue||0>fe||0>=he||0>=ge||ue+he>te||fe+ge>ie))return 0;if(D.v=ue,D.j=fe,D.va=ue+he,D.o=fe+ge,D.U=he,D.T=ge,D.da=j!=null&&0<j.da,D.da){if(!ne(he,ge,V=[j.ib],ue=[j.hb]))return 0;D.ib=V[0],D.hb=ue[0]}return D.ob=j!=null&&j.ob,D.Kb=j==null||!j.Sd,D.da&&(D.ob=D.ib<3*te/4&&D.hb<3*ie/4,D.Kb=0),1}function eg(j){if(j==null)return 2;if(11>j.S){var D=j.f.RGBA;D.fb+=(j.height-1)*D.A,D.A=-D.A}else D=j.f.kb,j=j.height,D.O+=(j-1)*D.fa,D.fa=-D.fa,D.N+=(j-1>>1)*D.Ab,D.Ab=-D.Ab,D.W+=(j-1>>1)*D.Db,D.Db=-D.Db,D.F!=null&&(D.J+=(j-1)*D.lb,D.lb=-D.lb);return 0}function Bh(j,D,V,te){if(te==null||0>=j||0>=D)return 2;if(V!=null){if(V.Da){var ie=V.cd,ue=V.bd,fe=-2&V.v,he=-2&V.j;if(0>fe||0>he||0>=ie||0>=ue||fe+ie>j||he+ue>D)return 2;j=ie,D=ue}if(V.da){if(!ne(j,D,ie=[V.ib],ue=[V.hb]))return 2;j=ie[0],D=ue[0]}}te.width=j,te.height=D;e:{var ge=te.width,ke=te.height;if(j=te.S,0>=ge||0>=ke||!(j>=$1&&13>j))j=2;else{if(0>=te.Rd&&te.sd==null){fe=ue=ie=D=0;var Le=(he=ge*oO[j])*ke;if(11>j||(ue=(ke+1)/2*(D=(ge+1)/2),j==12&&(fe=(ie=ge)*ke)),(ke=i(Le+2*ue+fe))==null){j=1;break e}te.sd=ke,11>j?((ge=te.f.RGBA).eb=ke,ge.fb=0,ge.A=he,ge.size=Le):((ge=te.f.kb).y=ke,ge.O=0,ge.fa=he,ge.Fd=Le,ge.f=ke,ge.N=0+Le,ge.Ab=D,ge.Cd=ue,ge.ea=ke,ge.W=0+Le+ue,ge.Db=D,ge.Ed=ue,j==12&&(ge.F=ke,ge.J=0+Le+2*ue),ge.Tc=fe,ge.lb=ie)}if(D=1,ie=te.S,ue=te.width,fe=te.height,ie>=$1&&13>ie)if(11>ie)j=te.f.RGBA,D&=(he=Math.abs(j.A))*(fe-1)+ue<=j.size,D&=he>=ue*oO[ie],D&=j.eb!=null;else{j=te.f.kb,he=(ue+1)/2,Le=(fe+1)/2,ge=Math.abs(j.fa),ke=Math.abs(j.Ab);var Ke=Math.abs(j.Db),Xe=Math.abs(j.lb),ze=Xe*(fe-1)+ue;D&=ge*(fe-1)+ue<=j.Fd,D&=ke*(Le-1)+he<=j.Cd,D=(D&=Ke*(Le-1)+he<=j.Ed)&ge>=ue&ke>=he&Ke>=he,D&=j.y!=null,D&=j.f!=null,D&=j.ea!=null,ie==12&&(D&=Xe>=ue,D&=ze<=j.Tc,D&=j.F!=null)}else D=0;j=D?0:2}}return j!=0||V!=null&&V.fd&&(j=eg(te)),j}var Wa=64,Uh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wh=24,zh=32,tg=8,Ji=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];De("Predictor0","PredictorAdd0"),w.Predictor0=function(){return 4278190080},w.Predictor1=function(j){return j},w.Predictor2=function(j,D,V){return D[V+0]},w.Predictor3=function(j,D,V){return D[V+1]},w.Predictor4=function(j,D,V){return D[V-1]},w.Predictor5=function(j,D,V){return Fe(Fe(j,D[V+1]),D[V+0])},w.Predictor6=function(j,D,V){return Fe(j,D[V-1])},w.Predictor7=function(j,D,V){return Fe(j,D[V+0])},w.Predictor8=function(j,D,V){return Fe(D[V-1],D[V+0])},w.Predictor9=function(j,D,V){return Fe(D[V+0],D[V+1])},w.Predictor10=function(j,D,V){return Fe(Fe(j,D[V-1]),Fe(D[V+0],D[V+1]))},w.Predictor11=function(j,D,V){var te=D[V+0];return 0>=le(te>>24&255,j>>24&255,(D=D[V-1])>>24&255)+le(te>>16&255,j>>16&255,D>>16&255)+le(te>>8&255,j>>8&255,D>>8&255)+le(255&te,255&j,255&D)?te:j},w.Predictor12=function(j,D,V){var te=D[V+0];return(ve((j>>24&255)+(te>>24&255)-((D=D[V-1])>>24&255))<<24|ve((j>>16&255)+(te>>16&255)-(D>>16&255))<<16|ve((j>>8&255)+(te>>8&255)-(D>>8&255))<<8|ve((255&j)+(255&te)-(255&D)))>>>0},w.Predictor13=function(j,D,V){var te=D[V-1];return(me((j=Fe(j,D[V+0]))>>24&255,te>>24&255)<<24|me(j>>16&255,te>>16&255)<<16|me(j>>8&255,te>>8&255)<<8|me(j>>0&255,te>>0&255))>>>0};var q4=w.PredictorAdd0;w.PredictorAdd1=be,De("Predictor2","PredictorAdd2"),De("Predictor3","PredictorAdd3"),De("Predictor4","PredictorAdd4"),De("Predictor5","PredictorAdd5"),De("Predictor6","PredictorAdd6"),De("Predictor7","PredictorAdd7"),De("Predictor8","PredictorAdd8"),De("Predictor9","PredictorAdd9"),De("Predictor10","PredictorAdd10"),De("Predictor11","PredictorAdd11"),De("Predictor12","PredictorAdd12"),De("Predictor13","PredictorAdd13");var rg=w.PredictorAdd2;Be("ColorIndexInverseTransform","MapARGB","32b",function(j){return j>>8&255},function(j){return j}),Be("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(j){return j},function(j){return j>>8&255});var C1,Is=w.ColorIndexInverseTransform,Hh=w.MapARGB,T1=w.VP8LColorIndexInverseTransformAlpha,A1=w.MapAlpha,tu=w.VP8LPredictorsAdd=[];tu.length=16,(w.VP8LPredictors=[]).length=16,(w.VP8LPredictorsAdd_C=[]).length=16,(w.VP8LPredictors_C=[]).length=16;var Rd,Zi,Ci,ru,Xl,Ql,qh,Jl,Yn,ng,Ti,Rs,Yh,E1,ag,Bd,Ud,nu,Wd,Vh,zd,au,ig,Bs,Us,ln,cn,Vn,xa=i(511),Zl=i(2041),sg=i(225),Gh=i(767),P1=0,Y4=Zl,O1=sg,vs=Gh,Ws=xa,$1=0,D1=1,XP=2,M1=3,F1=4,V4=5,QP=6,G4=7,K4=8,L1=9,X4=10,MQ=[2,3,7],FQ=[3,3,11],JP=[280,256,256,256,40],LQ=[0,1,1,1,0],IQ=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],RQ=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],BQ=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],UQ=8,Q4=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],J4=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],og=null,WQ=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],zQ=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ZP=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],HQ=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],qQ=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],YQ=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],VQ=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],iu=[],ko=[],ec=[],GQ=1,eO=2,su=[],zs=[];tt("UpsampleRgbLinePair",Sr,3),tt("UpsampleBgrLinePair",An,3),tt("UpsampleRgbaLinePair",_o,4),tt("UpsampleBgraLinePair",Ca,4),tt("UpsampleArgbLinePair",ii,4),tt("UpsampleRgba4444LinePair",sa,2),tt("UpsampleRgb565LinePair",Fn,2);var KQ=w.UpsampleRgbLinePair,XQ=w.UpsampleBgrLinePair,tO=w.UpsampleRgbaLinePair,rO=w.UpsampleBgraLinePair,nO=w.UpsampleArgbLinePair,aO=w.UpsampleRgba4444LinePair,QQ=w.UpsampleRgb565LinePair,I1=16,R1=1<<I1-1,lg=-227,Z4=482,JQ=6,iO=0,ZQ=i(256),eJ=i(256),tJ=i(256),rJ=i(256),nJ=i(Z4-lg),aJ=i(Z4-lg);sl("YuvToRgbRow",Sr,3),sl("YuvToBgrRow",An,3),sl("YuvToRgbaRow",_o,4),sl("YuvToBgraRow",Ca,4),sl("YuvToArgbRow",ii,4),sl("YuvToRgba4444Row",sa,2),sl("YuvToRgb565Row",Fn,2);var sO=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],B1=[0,2,8],iJ=[8,7,6,4,4,2,2,2,1,1,1,1],sJ=1;this.WebPDecodeRGBA=function(j,D,V,te,ie){var ue=D1,fe=new Lh,he=new wn;fe.ba=he,he.S=ue,he.width=[he.width],he.height=[he.height];var ge=he.width,ke=he.height,Le=new Tn;if(Le==null||j==null)var Ke=2;else t(Le!=null),Ke=Rh(j,D,V,Le.width,Le.height,Le.Pd,Le.Qd,Le.format,null);if(Ke!=0?ge=0:(ge!=null&&(ge[0]=Le.width[0]),ke!=null&&(ke[0]=Le.height[0]),ge=1),ge){he.width=he.width[0],he.height=he.height[0],te!=null&&(te[0]=he.width),ie!=null&&(ie[0]=he.height);e:{if(te=new ri,(ie=new Vm).data=j,ie.w=D,ie.ha=V,ie.kd=1,D=[0],t(ie!=null),((j=Rh(ie.data,ie.w,ie.ha,null,null,null,D,null,ie))==0||j==7)&&D[0]&&(j=4),(D=j)==0){if(t(fe!=null),te.data=ie.data,te.w=ie.w+ie.offset,te.ha=ie.ha-ie.offset,te.put=Mn,te.ac=Zr,te.bc=qn,te.ma=fe,ie.xa){if((j=Qe())==null){fe=1;break e}if(function(Xe,ze){var st=[0],Ze=[0],Ie=[0];t:for(;;){if(Xe==null)return 0;if(ze==null)return Xe.a=2,0;if(Xe.l=ze,Xe.a=0,G(Xe.m,ze.data,ze.w,ze.ha),!$t(Xe.m,st,Ze,Ie)){Xe.a=3;break t}if(Xe.xb=eO,ze.width=st[0],ze.height=Ze[0],!Ye(st[0],Ze[0],1,Xe,null))break t;return 1}return t(Xe.a!=0),0}(j,te)){if(te=(D=Bh(te.width,te.height,fe.Oa,fe.ba))==0){t:{te=j;r:for(;;){if(te==null){te=0;break t}if(t(te.s.yc!=null),t(te.s.Ya!=null),t(0<te.s.Wb),t((V=te.l)!=null),t((ie=V.ma)!=null),te.xb!=0){if(te.ca=ie.ba,te.tb=ie.tb,t(te.ca!=null),!Zm(ie.Oa,V,M1)){te.a=2;break r}if(!Ve(te,V.width)||V.da)break r;if((V.da||Dt(te.ca.S))&&qe(),11>te.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),te.ca.f.kb.F!=null&&qe()),te.Pb&&0<te.s.ua&&te.s.vb.X==null&&!ce(te.s.vb,te.s.Wa.Xa)){te.a=1;break r}te.xb=0}if(!Ne(te,te.V,te.Ba,te.c,te.i,V.o,Se))break r;ie.Dc=te.Ma,te=1;break t}t(te.a!=0),te=0}te=!te}te&&(D=j.a)}else D=j.a}else{if((j=new ni)==null){fe=1;break e}if(j.Fa=ie.na,j.P=ie.P,j.qc=ie.Sa,Ls(j,te)){if((D=Bh(te.width,te.height,fe.Oa,fe.ba))==0){if(j.Aa=0,V=fe.Oa,t((ie=j)!=null),V!=null){if(0<(ge=0>(ge=V.Md)?0:100<ge?255:255*ge/100)){for(ke=Le=0;4>ke;++ke)12>(Ke=ie.pb[ke]).lc&&(Ke.ia=ge*iJ[0>Ke.lc?0:Ke.lc]>>3),Le|=Ke.ia;Le&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=V.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}C4(j,te)||(D=j.a)}}else D=j.a}D==0&&fe.Oa!=null&&fe.Oa.fd&&(D=eg(fe.ba))}fe=D}ue=fe!=0?null:11>ue?he.f.RGBA.eb:he.f.kb.y}else ue=null;return ue};var oO=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(w,S){for(var P="",A=0;A<4;A++)P+=String.fromCharCode(w[S++]);return P}function d(w,S){return(w[S+0]<<0|w[S+1]<<8|w[S+2]<<16)>>>0}function f(w,S){return(w[S+0]<<0|w[S+1]<<8|w[S+2]<<16|w[S+3]<<24)>>>0}new l;var h=[0],p=[0],m=[],g=new l,v=e,x=function(w,S){var P={},A=0,T=!1,F=0,M=0;if(P.frames=[],!function(R,B,q,K){for(var ae=0;ae<K;ae++)if(R[B+ae]!=q.charCodeAt(ae))return!0;return!1}(w,S,"RIFF",4)){var H,z;for(f(w,S+=4),S+=8;S<w.length;){var Y=u(w,S),G=f(w,S+=4);S+=4;var I=G+(1&G);switch(Y){case"VP8 ":case"VP8L":P.frames[A]===void 0&&(P.frames[A]={}),(E=P.frames[A]).src_off=T?M:S-8,E.src_size=F+G+8,A++,T&&(T=!1,F=0,M=0);break;case"VP8X":(E=P.header={}).feature_flags=w[S];var X=S+4;E.canvas_width=1+d(w,X),X+=3,E.canvas_height=1+d(w,X),X+=3;break;case"ALPH":T=!0,F=I+8,M=S-8;break;case"ANIM":(E=P.header).bgcolor=f(w,S),X=S+4,E.loop_count=(H=w)[(z=X)+0]<<0|H[z+1]<<8,X+=2;break;case"ANMF":var J,E;(E=P.frames[A]={}).offset_x=2*d(w,S),S+=3,E.offset_y=2*d(w,S),S+=3,E.width=1+d(w,S),S+=3,E.height=1+d(w,S),S+=3,E.duration=d(w,S),S+=3,J=w[S++],E.dispose=1&J,E.blend=J>>1&1}Y!="ANMF"&&(S+=I)}return P}}(v,0);x.response=v,x.rgbaoutput=!0,x.dataurl=!1;var y=x.header?x.header:null,b=x.frames?x.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],p=[y.canvas_width];for(var N=0;N<b.length&&b[N].blend!=0;N++);}var _=b[0],C=g.WebPDecodeRGBA(v,_.src_off,_.src_size,p,h);_.rgba=C,_.imgwidth=p[0],_.imgheight=h[0];for(var k=0;k<p[0]*h[0]*4;k++)m[k]=C[k];return this.width=p,this.height=h,this.data=m,this}(function(e){var t=function(){return typeof Dj=="function"},r=function(h,p,m,g){var v=4,x=s;switch(g){case e.image_compression.FAST:v=1,x=i;break;case e.image_compression.MEDIUM:v=6,x=o;break;case e.image_compression.SLOW:v=9,x=l}h=n(h,p,m,x);var y=Dj(h,{level:v});return e.__addimage__.arrayBufferToBinaryString(y)},n=function(h,p,m,g){for(var v,x,y,b=h.length/p,N=new Uint8Array(h.length+b),_=d(),C=0;C<b;C+=1){if(y=C*p,v=h.subarray(y,y+p),g)N.set(g(v,m,x),y+C);else{for(var k,w=_.length,S=[];k<w;k+=1)S[k]=_[k](v,m,x);var P=f(S.concat());N.set(S[P],y+C)}x=v}return N},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var m,g=[],v=h.length;g[0]=1;for(var x=0;x<v;x+=1)m=h[x-p]||0,g[x+1]=h[x]-m+256&255;return g},s=function(h,p,m){var g,v=[],x=h.length;v[0]=2;for(var y=0;y<x;y+=1)g=m&&m[y]||0,v[y+1]=h[y]-g+256&255;return v},o=function(h,p,m){var g,v,x=[],y=h.length;x[0]=3;for(var b=0;b<y;b+=1)g=h[b-p]||0,v=m&&m[b]||0,x[b+1]=h[b]+256-(g+v>>>1)&255;return x},l=function(h,p,m){var g,v,x,y,b=[],N=h.length;b[0]=4;for(var _=0;_<N;_+=1)g=h[_-p]||0,v=m&&m[_]||0,x=m&&m[_-p]||0,y=u(g,v,x),b[_+1]=h[_]-y+256&255;return b},u=function(h,p,m){if(h===p&&p===m)return h;var g=Math.abs(p-m),v=Math.abs(h-m),x=Math.abs(h+p-m-m);return g<=v&&g<=x?h:v<=x?p:m},d=function(){return[a,i,s,o,l]},f=function(h){var p=h.map(function(m){return m.reduce(function(g,v){return g+Math.abs(v)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,m,g){var v,x,y,b,N,_,C,k,w,S,P,A,T,F,M,H=this.decode.FLATE_DECODE,z="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(y=new koe(h)).imgData,x=y.bits,v=y.colorSpace,N=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){w=(k=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,P=new Uint8Array(w*y.colors),S=new Uint8Array(w);var Y,G=y.pixelBitlength-y.bits;for(F=0,M=0;F<w;F++){for(T=k[F],Y=0;Y<G;)P[M++]=T>>>Y&255,Y+=y.bits;S[F]=T>>>Y&255}}if(y.bits===16){w=(k=new Uint32Array(y.decodePixels().buffer)).length,P=new Uint8Array(w*(32/y.pixelBitlength)*y.colors),S=new Uint8Array(w*(32/y.pixelBitlength)),A=y.colors>1,F=0,M=0;for(var I=0;F<w;)T=k[F++],P[M++]=T>>>0&255,A&&(P[M++]=T>>>16&255,T=k[F++],P[M++]=T>>>0&255),S[I++]=T>>>16&255;x=8}g!==e.image_compression.NONE&&t()?(h=r(P,y.width*y.colors,y.colors,g),C=r(S,y.width,1,g)):(h=P,C=S,H=void 0)}if(y.colorType===3&&(v=this.color_spaces.INDEXED,_=y.palette,y.transparency.indexed)){var X=y.transparency.indexed,J=0;for(F=0,w=X.length;F<w;++F)J+=X[F];if((J/=255)===w-1&&X.indexOf(0)!==-1)b=[X.indexOf(0)];else if(J!==w){for(k=y.decodePixels(),S=new Uint8Array(k.length),F=0,w=k.length;F<w;F++)S[F]=X[k[F]];C=r(S,y.width,1)}}var E=function(R){var B;switch(R){case e.image_compression.FAST:B=11;break;case e.image_compression.MEDIUM:B=13;break;case e.image_compression.SLOW:B=14;break;default:B=12}return B}(g);return H===this.decode.FLATE_DECODE&&(z="/Predictor "+E+" "),z+="/Colors "+N+" /BitsPerComponent "+x+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(C&&this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C))&&(C=this.__addimage__.arrayBufferToBinaryString(C)),{alias:m,data:h,index:p,filter:H,decodeParameters:z,transparency:b,palette:_,sMask:C,predictor:E,width:y.width,height:y.height,bitsPerComponent:x,colorSpace:v}}}})(Rt.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new Soe(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:o},d=new ZS(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(Rt.API),Co.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Co.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){nn.log("bit decode error:"+r)}},Co.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Co.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*a+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Co.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Co.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=u}this.pos+=e}},Co.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,u=(s>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Co.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Co.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},Co.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Co(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},u=new ZS(100).encode(l,100);return e.processJPEG.call(this,u,r,n,a)}}(Rt.API),F$.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new F$(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},u=new ZS(100).encode(l,100);return e.processJPEG.call(this,u,r,n,a)}}(Rt.API),Rt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],p=n[u+3];i[o++]=d,i[o++]=f,i[o++]=h,s[l++]=p}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Rt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},s0=Rt.API,_b=s0.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,p=e.length,m=0,g=o[0]||l,v=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=f&&Kr(u[n])==="object"&&!isNaN(parseInt(u[n][m],10))?u[n][m]/d:0,v.push((o[n]||g)/l+h)),m=n;return v},O$=s0.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return s0.processArabic&&(e=s0.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:_b.apply(this,arguments).reduce(function(i,s){return i+s},0)},$$=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},D$=function(e,t,r){r||(r={});var n,a,i,s,o,l,u,d=[],f=[d],h=r.textIndent||0,p=0,m=0,g=e.split(" "),v=_b.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),y=[];g.map(function(N){(N=N.split(/\s*\n/)).length>1?y=y.concat(N.map(function(_,C){return(C&&_.length?`
`:"")+_})):y.push(N[0])}),g=y,l=O$.apply(this,[x,r])}for(i=0,s=g.length;i<s;i++){var b=0;if(n=g[i],l&&n[0]==`
`&&(n=n.substr(1),b=1),h+p+(m=(a=_b.apply(this,[n,r])).reduce(function(N,_){return N+_},0))>t||b){if(m>t){for(o=$$.apply(this,[n,a,t-(h+p),t]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);m=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(N,_){return N+_},0)}else d=[n];f.push(d),h=m+l,p=v}else d.push(n),h+=p+m,p=v}return u=l?function(N,_){return(_?x:"")+N.join(" ")}:function(N){return N.join(" ")},f.map(u)},s0.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(D$.apply(this,[n[o],s,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var h,p,m,g,v=["{"];for(var x in f){if(h=f[x],isNaN(parseInt(x,10))?p="'"+x+"'":(x=parseInt(x,10),p=(p=i(x).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(m=i(h).slice(3),g="-"):(m=i(h).slice(2),g=""),m=g+m.slice(0,-1)+n[m.slice(-1)];else{if(Kr(h)!=="object")throw new Error("Don't know what to do with value type "+Kr(h)+".");m=s(h)}v.push(p+m)}return v.push("}"),v.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,m,g,v={},x=1,y=v,b=[],N="",_="",C=f.length-1,k=1;k<C;k+=1)(g=f[k])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(b.push([y,m]),y={},m=void 0):g=="}"?((p=b.pop())[0][p[1]]=y,m=void 0,y=p[0]):g=="-"?x=-1:m===void 0?r.hasOwnProperty(g)?(N+=r[g],m=parseInt(N,16)*x,x=1,N=""):N+=g:r.hasOwnProperty(g)?(_+=r[g],y[m]=parseInt(_,16)*x,x=1,m=void 0,_=""):_+=g;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var m=u.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(Rt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Ox(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(Rt),function(e){function t(){return(zt.canvg?Promise.resolve(zt.canvg):Mc(()=>import("./index.es-CPkb6Rix.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Rt.API.addSvgAsImage=function(r,n,a,i,s,o,l,u){if(isNaN(n)||isNaN(a))throw nn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw nn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=s;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(m){return m.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,a,i,s,l,u)})}}(),Rt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Rt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],u=0,d=0,f=0;function h(m,g){var v,x=!1;for(v=0;v<m.length;v+=1)m[v]===g&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(f=0;f<p;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Kr(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")l.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&l.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?g.push("/"+m+" /"+r[m].value):g.push("/"+m+" "+r[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Rt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=i.length;f<h;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(i){var s,o,l,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(i).sort(function(p,m){return p-m})).length;f<h;f++)s=o[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(u=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",m=0;m<h.length;m++)p+=String.fromCharCode(h[m]);var g=u();d({data:p,addLength1:!0,objectId:g}),l("endobj");var v=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var x=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+b0(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var y=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+b0(o.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+b0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var m=u();d({data:h,addLength1:!0,objectId:m}),l("endobj");var g=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var v=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+b0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+b0(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,u=i.y,d=i.options||{},f=i.mutex||{},h=f.pdfEscape,p=f.activeFontKey,m=f.fonts,g=p,v="",x=0,y="",b=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:o,x:l,y:u,options:d,mutex:f};for(y=o,g=p,Array.isArray(o)&&(y=o[0]),x=0;x<y.length;x+=1)m[g].metadata.hasOwnProperty("cmap")&&(s=m[g].metadata.cmap.unicode.codeMap[y[x].charCodeAt(0)]),s||y[x].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?v+=y[x]:v+="";var N="";return parseInt(g.slice(1))<14||b==="WinAnsiEncoding"?N=h(v,g).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(N=r(v,m[g])),f.isHex=!0,{text:N,x:l,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([a(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(a(Object.assign({},l,{text:s[u]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(Rt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Rt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var N=function(A){var T=A.charCodeAt(),F=T>>8,M=g[F];return M!==void 0?f[256*M+(255&T)]:F===252||F===253?"AL":x.test(F)?"L":F===8?"R":"N"},_=function(A){for(var T,F=0;F<A.length;F++){if((T=N(A.charAt(F)))==="L")return!1;if(T==="R")return!0}return!1},C=function(A,T,F,M){var H,z,Y,G,I=T[M];switch(I){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(I="AN");break;case"AL":y=!0,I="R";break;case"WS":I="N";break;case"CS":M<1||M+1>=T.length||(H=F[M-1])!=="EN"&&H!=="AN"||(z=T[M+1])!=="EN"&&z!=="AN"?I="N":y&&(z="AN"),I=z===H?z:"N";break;case"ES":I=(H=M>0?F[M-1]:"B")==="EN"&&M+1<T.length&&T[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&F[M-1]==="EN"){I="EN";break}if(y){I="N";break}for(Y=M+1,G=T.length;Y<G&&T[Y]==="ET";)Y++;I=Y<G&&T[Y]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(G=T.length,Y=M+1;Y<G&&T[Y]==="NSM";)Y++;if(Y<G){var X=A[M],J=X>=1425&&X<=2303||X===64286;if(H=T[Y],J&&(H==="R"||H==="AL")){I="R";break}}}I=M<1||(H=T[M-1])==="B"?"N":F[M-1];break;case"B":y=!1,a=!0,I=b;break;case"S":i=!0,I="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":I="N"}return I},k=function(A,T,F){var M=A.split("");return F&&w(M,F,{hiLevel:b}),M.reverse(),T&&T.reverse(),M.join("")},w=function(A,T,F){var M,H,z,Y,G,I=-1,X=A.length,J=0,E=[],R=b?p:h,B=[];for(y=!1,a=!1,i=!1,H=0;H<X;H++)B[H]=N(A[H]);for(z=0;z<X;z++){if(G=J,E[z]=C(A,B,E,z),M=240&(J=R[G][m[E[z]]]),J&=15,T[z]=Y=R[J][5],M>0)if(M===16){for(H=I;H<z;H++)T[H]=1;I=-1}else I=-1;if(R[J][6])I===-1&&(I=z);else if(I>-1){for(H=I;H<z;H++)T[H]=Y;I=-1}B[z]==="B"&&(T[z]=0),F.hiLevel|=Y}i&&function(q,K,ae){for(var ee=0;ee<ae;ee++)if(q[ee]==="S"){K[ee]=b;for(var W=ee-1;W>=0&&q[W]==="WS";W--)K[W]=b}}(B,T,X)},S=function(A,T,F,M,H){if(!(H.hiLevel<A)){if(A===1&&b===1&&!a)return T.reverse(),void(F&&F.reverse());for(var z,Y,G,I,X=T.length,J=0;J<X;){if(M[J]>=A){for(G=J+1;G<X&&M[G]>=A;)G++;for(I=J,Y=G-1;I<Y;I++,Y--)z=T[I],T[I]=T[Y],T[Y]=z,F&&(z=F[I],F[I]=F[Y],F[Y]=z);J=G}J++}}},P=function(A,T,F){var M=A.split(""),H={hiLevel:b};return F||(F=[]),w(M,F,H),function(z,Y,G){if(G.hiLevel!==0&&d)for(var I,X=0;X<z.length;X++)Y[X]===1&&(I=v.indexOf(z[X]))>=0&&(z[X]=v[I+1])}(M,F,H),S(2,M,T,F,H),S(1,M,T,F,H),M.join("")};return this.__bidiEngine__.doBidiReorder=function(A,T,F){if(function(H,z){if(z)for(var Y=0;Y<H.length;Y++)z[Y]=Y;o===void 0&&(o=_(H)),u===void 0&&(u=_(H))}(A,T),s||!l||u)if(s&&l&&o^u)b=o?1:0,A=k(A,T,F);else if(!s&&l&&u)b=o?1:0,A=P(A,T,F),A=k(A,T);else if(!s||o||l||u){if(s&&!l&&o^u)A=k(A,T),o?(b=0,A=P(A,T,F)):(b=1,A=P(A,T,F),A=k(A,T));else if(s&&o&&!l&&u)b=1,A=P(A,T,F),A=k(A,T);else if(!s&&!l&&o^u){var M=d;o?(b=1,A=P(A,T,F),b=0,d=!1,A=P(A,T,F),d=M):(b=0,A=P(A,T,F),A=k(A,T),b=1,d=!1,A=P(A,T,F),d=M,A=k(A,T))}}else b=0,A=P(A,T,F);else b=o?1:0,A=P(A,T,F);return A},this.__bidiEngine__.setOptions=function(A){A&&(s=A.isInputVisual,l=A.isOutputVisual,o=A.isInputRtl,u=A.isOutputRtl,d=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),s=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Rt),Rt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new dd(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Roe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Noe(this.contents),this.head=new Coe(this),this.name=new Ooe(this),this.cmap=new qW(this),this.toUnicode={},this.hhea=new Toe(this),this.maxp=new $oe(this),this.hmtx=new Doe(this),this.post=new Eoe(this),this.os2=new Aoe(this),this.loca=new Ioe(this),this.glyf=new Moe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,u;for(u=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var tl,dd=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),Noe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,u,d,f,h,p,m,g;for(g in p=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),s=Math.floor(f/l),d=16*p-f,(a=new dd).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(s),a.writeShort(d),i=16*p,u=a.pos+i,o=null,m=[],r)for(h=r[g],a.writeString(g),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),m=m.concat(h),g==="head"&&(o=u),u+=h.length;u%4;)m.push(0),u++;return a.write(m),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=YW.call(r);r.length%4;)r.push(0);for(i=new dd(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),joe={}.hasOwnProperty,Ul=function(e,t){for(var r in t)joe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};tl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Coe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,tl),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new dd).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),L$=function(){function e(t,r){var n,a,i,s,o,l,u,d,f,h,p,m,g,v,x,y,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var N,_;for(_=[],l=N=0;0<=h?N<h:N>h;l=0<=h?++N:--N)_.push(t.readUInt16());return _}(),t.pos+=2,g=function(){var N,_;for(_=[],l=N=0;0<=h?N<h:N>h;l=0<=h?++N:--N)_.push(t.readUInt16());return _}(),u=function(){var N,_;for(_=[],l=N=0;0<=h?N<h:N>h;l=0<=h?++N:--N)_.push(t.readUInt16());return _}(),d=function(){var N,_;for(_=[],l=N=0;0<=h?N<h:N>h;l=0<=h?++N:--N)_.push(t.readUInt16());return _}(),a=(this.length-t.pos+this.offset)/2,o=function(){var N,_;for(_=[],l=N=0;0<=a?N<a:N>a;l=0<=a?++N:--N)_.push(t.readUInt16());return _}(),l=x=0,b=i.length;x<b;l=++x)for(v=i[l],n=y=m=g[l];m<=v?y<=v:y>=v;n=m<=v?++y:--y)d[l]===0?s=n+u[l]:(s=o[d[l]/2+(n-m)-(h-l)]||0)!==0&&(s+=u[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,a,i,s,o,l,u,d,f,h,p,m,g,v,x,y,b,N,_,C,k,w,S,P,A,T,F,M,H,z,Y,G,I,X,J,E,R,B,q,K,ae,ee,W,Z,re,O;switch(M=new dd,s=Object.keys(t).sort(function(de,ce){return de-ce}),r){case"macroman":for(g=0,v=function(){var de=[];for(m=0;m<256;++m)de.push(0);return de}(),y={0:0},i={},H=0,I=s.length;H<I;H++)y[W=t[a=s[H]]]==null&&(y[W]=++g),i[a]={old:t[a],new:y[t[a]]},v[a]=y[t[a]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(v),{charMap:i,subtable:M.data,maxGlyphID:g+1};case"unicode":for(T=[],f=[],b=0,y={},n={},x=u=null,z=0,X=s.length;z<X;z++)y[_=t[a=s[z]]]==null&&(y[_]=++b),n[a]={old:_,new:y[_]},o=y[_]-a,x!=null&&o===u||(x&&f.push(x),T.push(a),u=o),x=a;for(x&&f.push(x),f.push(65535),T.push(65535),P=2*(S=T.length),w=2*Math.pow(Math.log(S)/Math.LN2,2),h=Math.log(w/2)/Math.LN2,k=2*S-w,l=[],C=[],p=[],m=Y=0,J=T.length;Y<J;m=++Y){if(A=T[m],d=f[m],A===65535){l.push(0),C.push(0);break}if(A-(F=n[A].new)>=32768)for(l.push(0),C.push(2*(p.length+S-m)),a=G=A;A<=d?G<=d:G>=d;a=A<=d?++G:--G)p.push(n[a].new);else l.push(F-A),C.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*S+2*p.length),M.writeUInt16(0),M.writeUInt16(P),M.writeUInt16(w),M.writeUInt16(h),M.writeUInt16(k),ae=0,E=f.length;ae<E;ae++)a=f[ae],M.writeUInt16(a);for(M.writeUInt16(0),ee=0,R=T.length;ee<R;ee++)a=T[ee],M.writeUInt16(a);for(Z=0,B=l.length;Z<B;Z++)o=l[Z],M.writeUInt16(o);for(re=0,q=C.length;re<q;re++)N=C[re],M.writeUInt16(N);for(O=0,K=p.length;O<K;O++)g=p[O],M.writeUInt16(g);return{charMap:n,subtable:M.data,maxGlyphID:b+1}}},e}(),qW=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,tl),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new L$(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=L$.encode(r,n),(i=new dd).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),Toe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,tl),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Aoe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,tl),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Eoe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,tl),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,u;for(u=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)u.push(r.readUInt32());return u}).call(this)}},t}(),Poe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Ooe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,tl),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,l,u,d,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(u={},s=f=0,h=a.length;f<h;s=++f)i=a[s],r.pos=i.offset,d=r.readString(i.length),o=new Poe(d,i),u[p=i.nameID]==null&&(u[p]=[]),u[i.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),$oe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,tl),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),Doe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,tl),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,l,u;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,p;for(p=[],d=0,f=(h=this.metrics).length;d<f;d++)s=h[d],p.push(s.advance);return p}).call(this),a=this.widths[this.widths.length-1],u=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),YW=[].slice,Moe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,tl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,l,u,d,f,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new dd(n.read(i))).readShort(),d=l.readShort(),h=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new Loe(l,d,h,u,f):new Foe(l,o,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,l,u;for(o=[],s=[],l=0,u=n.length;l<u;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),Foe=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Loe=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new dd(YW.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Ioe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,tl),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),Roe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,u,d,f,h,p,m,g,v,x;for(a in n=qW.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},x=n.charMap)p[(l=x[a]).old]=l.new;for(m in h=n.maxGlyphID,s)m in p||(p[m]=h++);return d=function(y){var b,N;for(b in N={},y)N[y[b]]=b;return N}(p),f=Object.keys(d).sort(function(y,b){return y-b}),g=function(){var y,b,N;for(N=[],y=0,b=f.length;y<b;y++)o=f[y],N.push(d[o]);return N}(),i=this.font.glyf.encode(s,g,p),u=this.font.loca.encode(i.offsets,g),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();Rt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();const Boe=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:xoe,AcroFormAppearance:At,AcroFormButton:wa,AcroFormCheckBox:Mx,AcroFormChoiceField:Sf,AcroFormComboBox:jf,AcroFormEditBox:$x,AcroFormListBox:Nf,AcroFormPasswordField:Fx,AcroFormPushButton:Dx,AcroFormRadioButton:Cf,AcroFormTextField:Ku,GState:_v,ShadingPattern:Tu,TilingPattern:hf,default:Rt,jsPDF:Rt},Symbol.toStringTag,{value:"Module"}));var VW={exports:{}};const Uoe=a9(Boe);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(n,a){e.exports=a(function(){try{return Uoe}catch{}}())})(typeof globalThis<"u"?globalThis:typeof ha<"u"?ha:typeof window<"u"?window:typeof self<"u"?self:ha,function(r){return function(){var n={172:function(o,l){var u=this&&this.__extends||function(){var h=function(p,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(g[x]=v[x])},h(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");h(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var d=function(){function h(p,m,g){this.table=m,this.pageNumber=m.pageNumber,this.pageCount=this.pageNumber,this.settings=m.settings,this.cursor=g,this.doc=p.getDocument()}return h}();l.HookData=d;var f=function(h){u(p,h);function p(m,g,v,x,y,b){var N=h.call(this,m,g,b)||this;return N.cell=v,N.row=x,N.column=y,N.section=x.section,N}return p}(d);l.CellHookData=f},340:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0});var d=u(4),f=u(136),h=u(744),p=u(776),m=u(664),g=u(972);function v(x){x.API.autoTable=function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];var N;y.length===1?N=y[0]:(console.error("Use of deprecated autoTable initiation"),N=y[2]||{},N.columns=y[0],N.body=y[1]);var _=(0,p.parseInput)(this,N),C=(0,g.createTable)(this,_);return(0,m.drawTable)(this,C),this},x.API.lastAutoTable=!1,x.API.previousAutoTable=!1,x.API.autoTable.previous=!1,x.API.autoTableText=function(y,b,N,_){(0,f.default)(y,b,N,_,this)},x.API.autoTableSetDefaults=function(y){return h.DocHandler.setDefaults(y,this),this},x.autoTableSetDefaults=function(y,b){h.DocHandler.setDefaults(y,b)},x.API.autoTableHtmlToJson=function(y,b){var N;if(b===void 0&&(b=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var _=new h.DocHandler(this),C=(0,d.parseHtml)(_,y,window,b,!1),k=C.head,w=C.body,S=((N=k[0])===null||N===void 0?void 0:N.map(function(P){return P.content}))||[];return{columns:S,rows:w,data:w}},x.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var y=this.lastAutoTable;return y&&y.finalY?y.finalY:0},x.API.autoTableAddPageContent=function(y){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),x.API.autoTable.globalDefaults||(x.API.autoTable.globalDefaults={}),x.API.autoTable.globalDefaults.addPageContent=y,this},x.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=v},136:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function u(d,f,h,p,m){p=p||{};var g=1.15,v=m.internal.scaleFactor,x=m.internal.getFontSize()/v,y=m.getLineHeightFactor?m.getLineHeightFactor():g,b=x*y,N=/\r\n|\r|\n/g,_="",C=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(_=typeof d=="string"?d.split(N):d,C=_.length||1),h+=x*(2-g),p.valign==="middle"?h-=C/2*b:p.valign==="bottom"&&(h-=C*b),p.halign==="center"||p.halign==="right"){var k=x;if(p.halign==="center"&&(k*=.5),_&&C>=1){for(var w=0;w<_.length;w++)m.text(_[w],f-m.getStringUnitWidth(_[w])*k,h),h+=b;return m}f-=m.getStringUnitWidth(d)*k}return p.halign==="justify"?m.text(d,f,h,{maxWidth:p.maxWidth||100,align:"justify"}):m.text(d,f,h),m}l.default=u},420:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function u(m,g,v){v.applyStyles(g,!0);var x=Array.isArray(m)?m:[m],y=x.map(function(b){return v.getTextWidth(b)}).reduce(function(b,N){return Math.max(b,N)},0);return y}l.getStringWidth=u;function d(m,g,v,x){var y=g.settings.tableLineWidth,b=g.settings.tableLineColor;m.applyStyles({lineWidth:y,lineColor:b});var N=f(y,!1);N&&m.rect(v.x,v.y,g.getWidth(m.pageSize().width),x.y-v.y,N)}l.addTableBorder=d;function f(m,g){var v=m>0,x=g||g===0;return v&&x?"DF":v?"S":x?"F":null}l.getFillStyle=f;function h(m,g){var v,x,y,b;if(m=m||g,Array.isArray(m)){if(m.length>=4)return{top:m[0],right:m[1],bottom:m[2],left:m[3]};if(m.length===3)return{top:m[0],right:m[1],bottom:m[2],left:m[1]};if(m.length===2)return{top:m[0],right:m[1],bottom:m[0],left:m[1]};m.length===1?m=m[0]:m=g}return typeof m=="object"?(typeof m.vertical=="number"&&(m.top=m.vertical,m.bottom=m.vertical),typeof m.horizontal=="number"&&(m.right=m.horizontal,m.left=m.horizontal),{left:(v=m.left)!==null&&v!==void 0?v:g,top:(x=m.top)!==null&&x!==void 0?x:g,right:(y=m.right)!==null&&y!==void 0?y:g,bottom:(b=m.bottom)!==null&&b!==void 0?b:g}):(typeof m!="number"&&(m=g),{top:m,right:m,bottom:m,left:m})}l.parseSpacing=h;function p(m,g){var v=h(g.settings.margin,0);return m.pageSize().width-(v.left+v.right)}l.getPageAvailableWidth=p},796:function(o,l){var u=this&&this.__extends||function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,x){v.__proto__=x}||function(v,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(v[y]=x[y])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(m,g);function v(){this.constructor=m}m.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var d=function(p){u(m,p);function m(g){var v=p.call(this)||this;return v._element=g,v}return m}(Array);l.HtmlRowInput=d;function f(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=f;function h(p){var m={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return m[p]}l.getTheme=h},903:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var d=u(420);function f(v,x,y,b,N){var _={},C=1.3333333333333333,k=p(x,function(I){return N.getComputedStyle(I).backgroundColor});k!=null&&(_.fillColor=k);var w=p(x,function(I){return N.getComputedStyle(I).color});w!=null&&(_.textColor=w);var S=g(b,y);S&&(_.cellPadding=S);var P="borderTopColor",A=C*y,T=b.borderTopWidth;if(b.borderBottomWidth===T&&b.borderRightWidth===T&&b.borderLeftWidth===T){var F=(parseFloat(T)||0)/A;F&&(_.lineWidth=F)}else _.lineWidth={top:(parseFloat(b.borderTopWidth)||0)/A,right:(parseFloat(b.borderRightWidth)||0)/A,bottom:(parseFloat(b.borderBottomWidth)||0)/A,left:(parseFloat(b.borderLeftWidth)||0)/A},_.lineWidth.top||(_.lineWidth.right?P="borderRightColor":_.lineWidth.bottom?P="borderBottomColor":_.lineWidth.left&&(P="borderLeftColor"));var M=p(x,function(I){return N.getComputedStyle(I)[P]});M!=null&&(_.lineColor=M);var H=["left","right","center","justify"];H.indexOf(b.textAlign)!==-1&&(_.halign=b.textAlign),H=["middle","bottom","top"],H.indexOf(b.verticalAlign)!==-1&&(_.valign=b.verticalAlign);var z=parseInt(b.fontSize||"");isNaN(z)||(_.fontSize=z/C);var Y=h(b);Y&&(_.fontStyle=Y);var G=(b.fontFamily||"").toLowerCase();return v.indexOf(G)!==-1&&(_.font=G),_}l.parseCss=f;function h(v){var x="";return(v.fontWeight==="bold"||v.fontWeight==="bolder"||parseInt(v.fontWeight)>=700)&&(x="bold"),(v.fontStyle==="italic"||v.fontStyle==="oblique")&&(x+="italic"),x}function p(v,x){var y=m(v,x);if(!y)return null;var b=y.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!b||!Array.isArray(b))return null;var N=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3])],_=parseInt(b[4]);return _===0||isNaN(N[0])||isNaN(N[1])||isNaN(N[2])?null:N}function m(v,x){var y=x(v);return y==="rgba(0, 0, 0, 0)"||y==="transparent"||y==="initial"||y==="inherit"?v.parentElement==null?null:m(v.parentElement,x):y}function g(v,x){var y=[v.paddingTop,v.paddingRight,v.paddingBottom,v.paddingLeft],b=96/(72/x),N=(parseInt(v.lineHeight)-parseInt(v.fontSize))/x/2,_=y.map(function(k){return parseInt(k||"0")/b}),C=(0,d.parseSpacing)(_,0);return N>C.top&&(C.top=N),N>C.bottom&&(C.bottom=N),C}},744:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var u={},d=function(){function f(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(h,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=h:u=h},f.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},f.prototype.applyStyles=function(h,p){var m,g,v;p===void 0&&(p=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var x=this.jsPDFDocument.internal.getFont(),y=x.fontStyle,b=x.fontName;if(h.font&&(b=h.font),h.fontStyle){y=h.fontStyle;var N=this.getFontList()[b];N&&N.indexOf(y)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(N[0]),y=N[0])}if(this.jsPDFDocument.setFont(b,y),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!p){var _=f.unifyColor(h.fillColor);_&&(m=this.jsPDFDocument).setFillColor.apply(m,_),_=f.unifyColor(h.textColor),_&&(g=this.jsPDFDocument).setTextColor.apply(g,_),_=f.unifyColor(h.lineColor),_&&(v=this.jsPDFDocument).setDrawColor.apply(v,_),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},f.prototype.splitTextToSize=function(h,p,m){return this.jsPDFDocument.splitTextToSize(h,p,m)},f.prototype.rect=function(h,p,m,g,v){return this.jsPDFDocument.rect(h,p,m,g,v)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();l.DocHandler=d},4:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var d=u(903),f=u(796);function h(g,v,x,y,b){var N,_;y===void 0&&(y=!1),b===void 0&&(b=!1);var C;typeof v=="string"?C=x.document.querySelector(v):C=v;var k=Object.keys(g.getFontList()),w=g.scaleFactor(),S=[],P=[],A=[];if(!C)return console.error("Html table could not be found with input: ",v),{head:S,body:P,foot:A};for(var T=0;T<C.rows.length;T++){var F=C.rows[T],M=(_=(N=F==null?void 0:F.parentElement)===null||N===void 0?void 0:N.tagName)===null||_===void 0?void 0:_.toLowerCase(),H=p(k,w,x,F,y,b);H&&(M==="thead"?S.push(H):M==="tfoot"?A.push(H):P.push(H))}return{head:S,body:P,foot:A}}l.parseHtml=h;function p(g,v,x,y,b,N){for(var _=new f.HtmlRowInput(y),C=0;C<y.cells.length;C++){var k=y.cells[C],w=x.getComputedStyle(k);if(b||w.display!=="none"){var S=void 0;N&&(S=(0,d.parseCss)(g,k,v,w,x)),_.push({rowSpan:k.rowSpan,colSpan:k.colSpan,styles:S,_element:k,content:m(k)})}}var P=x.getComputedStyle(y);if(_.length>0&&(b||P.display!=="none"))return _}function m(g){var v=g.cloneNode(!0);return v.innerHTML=v.innerHTML.replace(/\n/g,"").replace(/ +/g," "),v.innerHTML=v.innerHTML.split(/<br.*?>/).map(function(x){return x.trim()}).join(`
`),v.innerText||v.textContent||""}},776:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var d=u(4),f=u(356),h=u(420),p=u(744),m=u(792);function g(C,k){var w=new p.DocHandler(C),S=w.getDocumentOptions(),P=w.getGlobalOptions();(0,m.default)(w,P,S,k);var A=(0,f.assign)({},P,S,k),T;typeof window<"u"&&(T=window);var F=v(P,S,k),M=x(P,S,k),H=y(w,A),z=N(w,A,T);return{id:k.tableId,content:z,hooks:M,styles:F,settings:H}}l.parseInput=g;function v(C,k,w){for(var S={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},P=function(M){if(M==="columnStyles"){var H=C[M],z=k[M],Y=w[M];S.columnStyles=(0,f.assign)({},H,z,Y)}else{var G=[C,k,w],I=G.map(function(X){return X[M]||{}});S[M]=(0,f.assign)({},I[0],I[1],I[2])}},A=0,T=Object.keys(S);A<T.length;A++){var F=T[A];P(F)}return S}function x(C,k,w){for(var S=[C,k,w],P={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},A=0,T=S;A<T.length;A++){var F=T[A];F.didParseCell&&P.didParseCell.push(F.didParseCell),F.willDrawCell&&P.willDrawCell.push(F.willDrawCell),F.didDrawCell&&P.didDrawCell.push(F.didDrawCell),F.willDrawPage&&P.willDrawPage.push(F.willDrawPage),F.didDrawPage&&P.didDrawPage.push(F.didDrawPage)}return P}function y(C,k){var w,S,P,A,T,F,M,H,z,Y,G,I,X=(0,h.parseSpacing)(k.margin,40/C.scaleFactor()),J=(w=b(C,k.startY))!==null&&w!==void 0?w:X.top,E;k.showFoot===!0?E="everyPage":k.showFoot===!1?E="never":E=(S=k.showFoot)!==null&&S!==void 0?S:"everyPage";var R;k.showHead===!0?R="everyPage":k.showHead===!1?R="never":R=(P=k.showHead)!==null&&P!==void 0?P:"everyPage";var B=(A=k.useCss)!==null&&A!==void 0?A:!1,q=k.theme||(B?"plain":"striped"),K=!!k.horizontalPageBreak,ae=(T=k.horizontalPageBreakRepeat)!==null&&T!==void 0?T:null;return{includeHiddenHtml:(F=k.includeHiddenHtml)!==null&&F!==void 0?F:!1,useCss:B,theme:q,startY:J,margin:X,pageBreak:(M=k.pageBreak)!==null&&M!==void 0?M:"auto",rowPageBreak:(H=k.rowPageBreak)!==null&&H!==void 0?H:"auto",tableWidth:(z=k.tableWidth)!==null&&z!==void 0?z:"auto",showHead:R,showFoot:E,tableLineWidth:(Y=k.tableLineWidth)!==null&&Y!==void 0?Y:0,tableLineColor:(G=k.tableLineColor)!==null&&G!==void 0?G:200,horizontalPageBreak:K,horizontalPageBreakRepeat:ae,horizontalPageBreakBehaviour:(I=k.horizontalPageBreakBehaviour)!==null&&I!==void 0?I:"afterAllRows"}}function b(C,k){var w=C.getLastAutoTable(),S=C.scaleFactor(),P=C.pageNumber(),A=!1;if(w&&w.startPageNumber){var T=w.startPageNumber+w.pageNumber-1;A=T===P}return typeof k=="number"?k:(k==null||k===!1)&&A&&(w==null?void 0:w.finalY)!=null?w.finalY+20/S:null}function N(C,k,w){var S=k.head||[],P=k.body||[],A=k.foot||[];if(k.html){var T=k.includeHiddenHtml;if(w){var F=(0,d.parseHtml)(C,k.html,w,T,k.useCss)||{};S=F.head||S,P=F.body||S,A=F.foot||S}else console.error("Cannot parse html in non browser environment")}var M=k.columns||_(S,P,A);return{columns:M,head:S,body:P,foot:A}}function _(C,k,w){var S=C[0]||k[0]||w[0]||[],P=[];return Object.keys(S).filter(function(A){return A!=="_element"}).forEach(function(A){var T=1,F;Array.isArray(S)?F=S[parseInt(A)]:F=S[A],typeof F=="object"&&!Array.isArray(F)&&(T=(F==null?void 0:F.colSpan)||1);for(var M=0;M<T;M++){var H=void 0;Array.isArray(S)?H=P.length:H=A+(M>0?"_".concat(M):"");var z={dataKey:H};P.push(z)}}),P}},792:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function u(f,h,p,m){for(var g=function(b){b&&typeof b!="object"&&console.error("The options parameter should be of type object, is: "+typeof b),typeof b.extendWidth<"u"&&(b.tableWidth=b.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof b.margins<"u"&&(typeof b.margin>"u"&&(b.margin=b.margins),console.error("Use of deprecated option: margins, use margin instead.")),b.startY&&typeof b.startY!="number"&&(console.error("Invalid value for startY option",b.startY),delete b.startY),!b.didDrawPage&&(b.afterPageContent||b.beforePageContent||b.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),b.didDrawPage=function(A){f.applyStyles(f.userStyles),b.beforePageContent&&b.beforePageContent(A),f.applyStyles(f.userStyles),b.afterPageContent&&b.afterPageContent(A),f.applyStyles(f.userStyles),b.afterPageAdd&&A.pageNumber>1&&A.afterPageAdd(A),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(A){b[A]&&console.error('The "'.concat(A,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(A){var T=A[0],F=A[1];b[F]&&(console.error("Use of deprecated option ".concat(F,". Use ").concat(T," instead")),b[T]=b[F])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(A){var T=typeof A=="string"?A:A[0],F=typeof A=="string"?A:A[1];typeof b[T]<"u"&&(typeof b.styles[F]>"u"&&(b.styles[F]=b[T]),console.error("Use of deprecated option: "+T+", use the style "+F+" instead."))});for(var N=0,_=["styles","bodyStyles","headStyles","footStyles"];N<_.length;N++){var C=_[N];d(b[C]||{})}for(var k=b.columnStyles||{},w=0,S=Object.keys(k);w<S.length;w++){var P=S[w];d(k[P]||{})}},v=0,x=[h,p,m];v<x.length;v++){var y=x[v];g(y)}}l.default=u;function d(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var d=u(796),f=u(172),h=u(420),p=function(){function x(y,b){this.pageNumber=1,this.pageCount=1,this.id=y.id,this.settings=y.settings,this.styles=y.styles,this.hooks=y.hooks,this.columns=b.columns,this.head=b.head,this.body=b.body,this.foot=b.foot}return x.prototype.getHeadHeight=function(y){return this.head.reduce(function(b,N){return b+N.getMaxCellHeight(y)},0)},x.prototype.getFootHeight=function(y){return this.foot.reduce(function(b,N){return b+N.getMaxCellHeight(y)},0)},x.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},x.prototype.callCellHooks=function(y,b,N,_,C,k){for(var w=0,S=b;w<S.length;w++){var P=S[w],A=new f.CellHookData(y,this,N,_,C,k),T=P(A)===!1;if(N.text=Array.isArray(N.text)?N.text:[N.text],T)return!1}return!0},x.prototype.callEndPageHooks=function(y,b){y.applyStyles(y.userStyles);for(var N=0,_=this.hooks.didDrawPage;N<_.length;N++){var C=_[N];C(new f.HookData(y,this,b))}},x.prototype.callWillDrawPageHooks=function(y,b){for(var N=0,_=this.hooks.willDrawPage;N<_.length;N++){var C=_[N];C(new f.HookData(y,this,b))}},x.prototype.getWidth=function(y){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var b=this.columns.reduce(function(_,C){return _+C.wrappedWidth},0);return b}else{var N=this.settings.margin;return y-N.left-N.right}},x}();l.Table=p;var m=function(){function x(y,b,N,_,C){C===void 0&&(C=!1),this.height=0,this.raw=y,y instanceof d.HtmlRowInput&&(this.raw=y._element,this.element=y._element),this.index=b,this.section=N,this.cells=_,this.spansMultiplePages=C}return x.prototype.getMaxCellHeight=function(y){var b=this;return y.reduce(function(N,_){var C;return Math.max(N,((C=b.cells[_.index])===null||C===void 0?void 0:C.height)||0)},0)},x.prototype.hasRowSpan=function(y){var b=this;return y.filter(function(N){var _=b.cells[N.index];return _?_.rowSpan>1:!1}).length>0},x.prototype.canEntireRowFit=function(y,b){return this.getMaxCellHeight(b)<=y},x.prototype.getMinimumRowHeight=function(y,b){var N=this;return y.reduce(function(_,C){var k=N.cells[C.index];if(!k)return 0;var w=b.getLineHeight(k.styles.fontSize),S=k.padding("vertical"),P=S+w;return P>_?P:_},0)},x}();l.Row=m;var g=function(){function x(y,b,N){var _,C;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=b,this.section=N,this.raw=y;var k=y;y!=null&&typeof y=="object"&&!Array.isArray(y)?(this.rowSpan=y.rowSpan||1,this.colSpan=y.colSpan||1,k=(C=(_=y.content)!==null&&_!==void 0?_:y.title)!==null&&C!==void 0?C:y,y._element&&(this.raw=y._element)):(this.rowSpan=1,this.colSpan=1);var w=k!=null?""+k:"",S=/\r\n|\r|\n/g;this.text=w.split(S)}return x.prototype.getTextPos=function(){var y;if(this.styles.valign==="top")y=this.y+this.padding("top");else if(this.styles.valign==="bottom")y=this.y+this.height-this.padding("bottom");else{var b=this.height-this.padding("vertical");y=this.y+b/2+this.padding("top")}var N;if(this.styles.halign==="right")N=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var _=this.width-this.padding("horizontal");N=this.x+_/2+this.padding("left")}else N=this.x+this.padding("left");return{x:N,y}},x.prototype.getContentHeight=function(y,b){b===void 0&&(b=1.15);var N=Array.isArray(this.text)?this.text.length:1,_=this.styles.fontSize/y*b,C=N*_+this.padding("vertical");return Math.max(C,this.styles.minCellHeight)},x.prototype.padding=function(y){var b=(0,h.parseSpacing)(this.styles.cellPadding,0);return y==="vertical"?b.top+b.bottom:y==="horizontal"?b.left+b.right:b[y]},x}();l.Cell=g;var v=function(){function x(y,b,N){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=y,this.raw=b,this.index=N}return x.prototype.getMaxCustomCellWidth=function(y){for(var b=0,N=0,_=y.allRows();N<_.length;N++){var C=_[N],k=C.cells[this.index];k&&typeof k.styles.cellWidth=="number"&&(b=Math.max(b,k.styles.cellWidth))}return b},x}();l.Column=v},356:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function u(d,f,h,p,m){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(d),v=1;v<arguments.length;v++){var x=arguments[v];if(x!=null)for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(g[y]=x[y])}return g}l.assign=u},972:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var d=u(744),f=u(260),h=u(324),p=u(796),m=u(356);function g(C,k){var w=new d.DocHandler(C),S=v(k,w.scaleFactor()),P=new f.Table(k,S);return(0,h.calculateWidths)(w,P),w.applyStyles(w.userStyles),P}l.createTable=g;function v(C,k){var w=C.content,S=N(w.columns);if(w.head.length===0){var P=y(S,"head");P&&w.head.push(P)}if(w.foot.length===0){var P=y(S,"foot");P&&w.foot.push(P)}var A=C.settings.theme,T=C.styles;return{columns:S,head:x("head",w.head,S,T,A,k),body:x("body",w.body,S,T,A,k),foot:x("foot",w.foot,S,T,A,k)}}function x(C,k,w,S,P,A){var T={},F=k.map(function(M,H){for(var z=0,Y={},G=0,I=0,X=0,J=w;X<J.length;X++){var E=J[X];if(T[E.index]==null||T[E.index].left===0)if(I===0){var R=void 0;Array.isArray(M)?R=M[E.index-G-z]:R=M[E.dataKey];var B={};typeof R=="object"&&!Array.isArray(R)&&(B=(R==null?void 0:R.styles)||{});var q=_(C,E,H,P,S,A,B),K=new f.Cell(R,q,C);Y[E.dataKey]=K,Y[E.index]=K,I=K.colSpan-1,T[E.index]={left:K.rowSpan-1,times:I}}else I--,G++;else T[E.index].left--,I=T[E.index].times,z++}return new f.Row(M,H,C,Y)});return F}function y(C,k){var w={};return C.forEach(function(S){if(S.raw!=null){var P=b(k,S.raw);P!=null&&(w[S.dataKey]=P)}}),Object.keys(w).length>0?w:null}function b(C,k){if(C==="head"){if(typeof k=="object")return k.header||k.title||null;if(typeof k=="string"||typeof k=="number")return k}else if(C==="foot"&&typeof k=="object")return k.footer;return null}function N(C){return C.map(function(k,w){var S,P,A;return typeof k=="object"?A=(P=(S=k.dataKey)!==null&&S!==void 0?S:k.key)!==null&&P!==void 0?P:w:A=w,new f.Column(A,k,w)})}function _(C,k,w,S,P,A,T){var F=(0,p.getTheme)(S),M;C==="head"?M=P.headStyles:C==="body"?M=P.bodyStyles:C==="foot"&&(M=P.footStyles);var H=(0,m.assign)({},F.table,F[C],P.styles,M),z=P.columnStyles[k.dataKey]||P.columnStyles[k.index]||{},Y=C==="body"?z:{},G=C==="body"&&w%2===0?(0,m.assign)({},F.alternateRow,P.alternateRowStyles):{},I=(0,p.defaultStyles)(A),X=(0,m.assign)({},I,H,G,Y);return(0,m.assign)(X,T)}},664:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var d=u(420),f=u(260),h=u(744),p=u(356),m=u(136),g=u(224);function v(z,Y){var G=Y.settings,I=G.startY,X=G.margin,J={x:X.left,y:I},E=Y.getHeadHeight(Y.columns)+Y.getFootHeight(Y.columns),R=I+X.bottom+E;if(G.pageBreak==="avoid"){var B=Y.body,q=B.reduce(function(ee,W){return ee+W.height},0);R+=q}var K=new h.DocHandler(z);(G.pageBreak==="always"||G.startY!=null&&R>K.pageSize().height)&&(H(K),J.y=X.top),Y.callWillDrawPageHooks(K,J);var ae=(0,p.assign)({},J);Y.startPageNumber=K.pageNumber(),G.horizontalPageBreak?x(K,Y,ae,J):(K.applyStyles(K.userStyles),(G.showHead==="firstPage"||G.showHead==="everyPage")&&Y.head.forEach(function(ee){return P(K,Y,ee,J,Y.columns)}),K.applyStyles(K.userStyles),Y.body.forEach(function(ee,W){var Z=W===Y.body.length-1;S(K,Y,ee,Z,ae,J,Y.columns)}),K.applyStyles(K.userStyles),(G.showFoot==="lastPage"||G.showFoot==="everyPage")&&Y.foot.forEach(function(ee){return P(K,Y,ee,J,Y.columns)})),(0,d.addTableBorder)(K,Y,ae,J),Y.callEndPageHooks(K,J),Y.finalY=J.y,z.lastAutoTable=Y,z.previousAutoTable=Y,z.autoTable&&(z.autoTable.previous=Y),K.applyStyles(K.userStyles)}l.drawTable=v;function x(z,Y,G,I){var X=(0,g.calculateAllColumnsCanFitInPage)(z,Y),J=Y.settings;if(J.horizontalPageBreakBehaviour==="afterAllRows")X.forEach(function(q,K){z.applyStyles(z.userStyles),K>0?M(z,Y,G,I,q.columns,!0):y(z,Y,I,q.columns),b(z,Y,G,I,q.columns),_(z,Y,I,q.columns)});else for(var E=-1,R=X[0],B=function(){var q=E;if(R){z.applyStyles(z.userStyles);var K=R.columns;E>=0?M(z,Y,G,I,K,!0):y(z,Y,I,K),q=N(z,Y,E+1,I,K),_(z,Y,I,K)}var ae=q-E;X.slice(1).forEach(function(ee){z.applyStyles(z.userStyles),M(z,Y,G,I,ee.columns,!0),N(z,Y,E+1,I,ee.columns,ae),_(z,Y,I,ee.columns)}),E=q};E<Y.body.length-1;)B()}function y(z,Y,G,I){var X=Y.settings;z.applyStyles(z.userStyles),(X.showHead==="firstPage"||X.showHead==="everyPage")&&Y.head.forEach(function(J){return P(z,Y,J,G,I)})}function b(z,Y,G,I,X){z.applyStyles(z.userStyles),Y.body.forEach(function(J,E){var R=E===Y.body.length-1;S(z,Y,J,R,G,I,X)})}function N(z,Y,G,I,X,J){z.applyStyles(z.userStyles),J=J??Y.body.length;var E=Math.min(G+J,Y.body.length),R=-1;return Y.body.slice(G,E).forEach(function(B,q){var K=G+q===Y.body.length-1,ae=F(z,Y,K,I);B.canEntireRowFit(ae,X)&&(P(z,Y,B,I,X),R=G+q)}),R}function _(z,Y,G,I){var X=Y.settings;z.applyStyles(z.userStyles),(X.showFoot==="lastPage"||X.showFoot==="everyPage")&&Y.foot.forEach(function(J){return P(z,Y,J,G,I)})}function C(z,Y,G){var I=G.getLineHeight(z.styles.fontSize),X=z.padding("vertical"),J=Math.floor((Y-X)/I);return Math.max(0,J)}function k(z,Y,G,I){var X={};z.spansMultiplePages=!0,z.height=0;for(var J=0,E=0,R=G.columns;E<R.length;E++){var B=R[E],q=z.cells[B.index];if(q){Array.isArray(q.text)||(q.text=[q.text]);var K=new f.Cell(q.raw,q.styles,q.section);K=(0,p.assign)(K,q),K.text=[];var ae=C(q,Y,I);q.text.length>ae&&(K.text=q.text.splice(ae,q.text.length));var ee=I.scaleFactor(),W=I.getLineHeightFactor();q.contentHeight=q.getContentHeight(ee,W),q.contentHeight>=Y&&(q.contentHeight=Y,K.styles.minCellHeight-=Y),q.contentHeight>z.height&&(z.height=q.contentHeight),K.contentHeight=K.getContentHeight(ee,W),K.contentHeight>J&&(J=K.contentHeight),X[B.index]=K}}var Z=new f.Row(z.raw,-1,z.section,X,!0);Z.height=J;for(var re=0,O=G.columns;re<O.length;re++){var B=O[re],K=Z.cells[B.index];K&&(K.height=Z.height);var q=z.cells[B.index];q&&(q.height=z.height)}return Z}function w(z,Y,G,I){var X=z.pageSize().height,J=I.settings.margin,E=J.top+J.bottom,R=X-E;Y.section==="body"&&(R-=I.getHeadHeight(I.columns)+I.getFootHeight(I.columns));var B=Y.getMinimumRowHeight(I.columns,z),q=B<G;if(B>R)return console.error("Will not be able to print row ".concat(Y.index," correctly since it's minimum height is larger than page height")),!0;if(!q)return!1;var K=Y.hasRowSpan(I.columns),ae=Y.getMaxCellHeight(I.columns)>R;return ae?(K&&console.error("The content of row ".concat(Y.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(K||I.settings.rowPageBreak==="avoid")}function S(z,Y,G,I,X,J,E){var R=F(z,Y,I,J);if(G.canEntireRowFit(R,E))P(z,Y,G,J,E);else if(w(z,G,R,Y)){var B=k(G,R,Y,z);P(z,Y,G,J,E),M(z,Y,X,J,E),S(z,Y,B,I,X,J,E)}else M(z,Y,X,J,E),S(z,Y,G,I,X,J,E)}function P(z,Y,G,I,X){I.x=Y.settings.margin.left;for(var J=0,E=X;J<E.length;J++){var R=E[J],B=G.cells[R.index];if(!B){I.x+=R.width;continue}z.applyStyles(B.styles),B.x=I.x,B.y=I.y;var q=Y.callCellHooks(z,Y.hooks.willDrawCell,B,G,R,I);if(q===!1){I.x+=R.width;continue}A(z,B,I);var K=B.getTextPos();(0,m.default)(B.text,K.x,K.y,{halign:B.styles.halign,valign:B.styles.valign,maxWidth:Math.ceil(B.width-B.padding("left")-B.padding("right"))},z.getDocument()),Y.callCellHooks(z,Y.hooks.didDrawCell,B,G,R,I),I.x+=R.width}I.y+=G.height}function A(z,Y,G){var I=Y.styles;if(z.getDocument().setFillColor(z.getDocument().getFillColor()),typeof I.lineWidth=="number"){var X=(0,d.getFillStyle)(I.lineWidth,I.fillColor);X&&z.rect(Y.x,G.y,Y.width,Y.height,X)}else typeof I.lineWidth=="object"&&(I.fillColor&&z.rect(Y.x,G.y,Y.width,Y.height,"F"),T(z,Y,G,I.lineWidth))}function T(z,Y,G,I){var X,J,E,R;I.top&&(X=G.x,J=G.y,E=G.x+Y.width,R=G.y,I.right&&(E+=.5*I.right),I.left&&(X-=.5*I.left),B(I.top,X,J,E,R)),I.bottom&&(X=G.x,J=G.y+Y.height,E=G.x+Y.width,R=G.y+Y.height,I.right&&(E+=.5*I.right),I.left&&(X-=.5*I.left),B(I.bottom,X,J,E,R)),I.left&&(X=G.x,J=G.y,E=G.x,R=G.y+Y.height,I.top&&(J-=.5*I.top),I.bottom&&(R+=.5*I.bottom),B(I.left,X,J,E,R)),I.right&&(X=G.x+Y.width,J=G.y,E=G.x+Y.width,R=G.y+Y.height,I.top&&(J-=.5*I.top),I.bottom&&(R+=.5*I.bottom),B(I.right,X,J,E,R));function B(q,K,ae,ee,W){z.getDocument().setLineWidth(q),z.getDocument().line(K,ae,ee,W,"S")}}function F(z,Y,G,I){var X=Y.settings.margin.bottom,J=Y.settings.showFoot;return(J==="everyPage"||J==="lastPage"&&G)&&(X+=Y.getFootHeight(Y.columns)),z.pageSize().height-I.y-X}function M(z,Y,G,I,X,J){X===void 0&&(X=[]),J===void 0&&(J=!1),z.applyStyles(z.userStyles),Y.settings.showFoot==="everyPage"&&!J&&Y.foot.forEach(function(R){return P(z,Y,R,I,X)}),Y.callEndPageHooks(z,I);var E=Y.settings.margin;(0,d.addTableBorder)(z,Y,G,I),H(z),Y.pageNumber++,Y.pageCount++,I.x=E.left,I.y=E.top,G.y=E.top,Y.callWillDrawPageHooks(z,I),Y.settings.showHead==="everyPage"&&(Y.head.forEach(function(R){return P(z,Y,R,I,X)}),z.applyStyles(z.userStyles))}l.addPage=M;function H(z){var Y=z.pageNumber();z.setPage(Y+1);var G=z.pageNumber();return G===Y?(z.addPage(),!0):!1}},224:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var d=u(420);function f(p,m,g){var v;g===void 0&&(g={});var x=(0,d.getPageAvailableWidth)(p,m),y=new Map,b=[],N=[],_=[];m.settings.horizontalPageBreakRepeat,Array.isArray(m.settings.horizontalPageBreakRepeat)?_=m.settings.horizontalPageBreakRepeat:(typeof m.settings.horizontalPageBreakRepeat=="string"||typeof m.settings.horizontalPageBreakRepeat=="number")&&(_=[m.settings.horizontalPageBreakRepeat]),_.forEach(function(S){var P=m.columns.find(function(A){return A.dataKey===S||A.index===S});P&&!y.has(P.index)&&(y.set(P.index,!0),b.push(P.index),N.push(m.columns[P.index]),x-=P.wrappedWidth)});for(var C=!0,k=(v=g==null?void 0:g.start)!==null&&v!==void 0?v:0;k<m.columns.length;){if(y.has(k)){k++;continue}var w=m.columns[k].wrappedWidth;if(C||x>=w)C=!1,b.push(k),N.push(m.columns[k]),x-=w;else break;k++}return{colIndexes:b,columns:N,lastIndex:k-1}}function h(p,m){for(var g=[],v=0;v<m.columns.length;v++){var x=f(p,m,{start:v});x.columns.length&&(g.push(x),v=x.lastIndex)}return g}l.calculateAllColumnsCanFitInPage=h},324:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var d=u(420);function f(b,N){h(b,N);var _=[],C=0;N.columns.forEach(function(w){var S=w.getMaxCustomCellWidth(N);S?w.width=S:(w.width=w.wrappedWidth,_.push(w)),C+=w.width});var k=N.getWidth(b.pageSize().width)-C;k&&(k=p(_,k,function(w){return Math.max(w.minReadableWidth,w.minWidth)})),k&&(k=p(_,k,function(w){return w.minWidth})),k=Math.abs(k),!N.settings.horizontalPageBreak&&k>.1/b.scaleFactor()&&(k=k<1?k:Math.round(k),console.warn("Of the table content, ".concat(k," units width could not fit page"))),g(N),v(N,b),m(N)}l.calculateWidths=f;function h(b,N){var _=b.scaleFactor(),C=N.settings.horizontalPageBreak,k=(0,d.getPageAvailableWidth)(b,N);N.allRows().forEach(function(w){for(var S=0,P=N.columns;S<P.length;S++){var A=P[S],T=w.cells[A.index];if(T){var F=N.hooks.didParseCell;N.callCellHooks(b,F,T,w,A,null);var M=T.padding("horizontal");T.contentWidth=(0,d.getStringWidth)(T.text,T.styles,b)+M;var H=(0,d.getStringWidth)(T.text.join(" ").split(/[^\S\u00A0]+/),T.styles,b);if(T.minReadableWidth=H+T.padding("horizontal"),typeof T.styles.cellWidth=="number")T.minWidth=T.styles.cellWidth,T.wrappedWidth=T.styles.cellWidth;else if(T.styles.cellWidth==="wrap"||C===!0)T.contentWidth>k?(T.minWidth=k,T.wrappedWidth=k):(T.minWidth=T.contentWidth,T.wrappedWidth=T.contentWidth);else{var z=10/_;T.minWidth=T.styles.minCellWidth||z,T.wrappedWidth=T.contentWidth,T.minWidth>T.wrappedWidth&&(T.wrappedWidth=T.minWidth)}}}}),N.allRows().forEach(function(w){for(var S=0,P=N.columns;S<P.length;S++){var A=P[S],T=w.cells[A.index];if(T&&T.colSpan===1)A.wrappedWidth=Math.max(A.wrappedWidth,T.wrappedWidth),A.minWidth=Math.max(A.minWidth,T.minWidth),A.minReadableWidth=Math.max(A.minReadableWidth,T.minReadableWidth);else{var F=N.styles.columnStyles[A.dataKey]||N.styles.columnStyles[A.index]||{},M=F.cellWidth||F.minCellWidth;M&&typeof M=="number"&&(A.minWidth=M,A.wrappedWidth=M)}T&&(T.colSpan>1&&!A.minWidth&&(A.minWidth=T.minWidth),T.colSpan>1&&!A.wrappedWidth&&(A.wrappedWidth=T.minWidth))}})}function p(b,N,_){for(var C=N,k=b.reduce(function(z,Y){return z+Y.wrappedWidth},0),w=0;w<b.length;w++){var S=b[w],P=S.wrappedWidth/k,A=C*P,T=S.width+A,F=_(S),M=T<F?F:T;N-=M-S.width,S.width=M}if(N=Math.round(N*1e10)/1e10,N){var H=b.filter(function(z){return N<0?z.width>_(z):!0});H.length&&(N=p(H,N,_))}return N}l.resizeColumns=p;function m(b){for(var N={},_=1,C=b.allRows(),k=0;k<C.length;k++)for(var w=C[k],S=0,P=b.columns;S<P.length;S++){var A=P[S],T=N[A.index];if(_>1)_--,delete w.cells[A.index];else if(T)T.cell.height+=w.height,_=T.cell.colSpan,delete w.cells[A.index],T.left--,T.left<=1&&delete N[A.index];else{var F=w.cells[A.index];if(!F)continue;if(F.height=w.height,F.rowSpan>1){var M=C.length-k,H=F.rowSpan>M?M:F.rowSpan;N[A.index]={cell:F,left:H,row:w}}}}}function g(b){for(var N=b.allRows(),_=0;_<N.length;_++)for(var C=N[_],k=null,w=0,S=0,P=0;P<b.columns.length;P++){var A=b.columns[P];if(S-=1,S>1&&b.columns[P+1])w+=A.width,delete C.cells[A.index];else if(k){var T=k;delete C.cells[A.index],k=null,T.width=A.width+w}else{var T=C.cells[A.index];if(!T)continue;if(S=T.colSpan,w=0,T.colSpan>1){k=T,w+=A.width;continue}T.width=A.width+w}}}function v(b,N){for(var _={count:0,height:0},C=0,k=b.allRows();C<k.length;C++){for(var w=k[C],S=0,P=b.columns;S<P.length;S++){var A=P[S],T=w.cells[A.index];if(T){N.applyStyles(T.styles,!0);var F=T.width-T.padding("horizontal");if(T.styles.overflow==="linebreak")T.text=N.splitTextToSize(T.text,F+1/N.scaleFactor(),{fontSize:T.styles.fontSize});else if(T.styles.overflow==="ellipsize")T.text=x(T.text,F,T.styles,N,"...");else if(T.styles.overflow==="hidden")T.text=x(T.text,F,T.styles,N,"");else if(typeof T.styles.overflow=="function"){var M=T.styles.overflow(T.text,F);typeof M=="string"?T.text=[M]:T.text=M}T.contentHeight=T.getContentHeight(N.scaleFactor(),N.getLineHeightFactor());var H=T.contentHeight/T.rowSpan;T.rowSpan>1&&_.count*_.height<H*T.rowSpan?_={height:H,count:T.rowSpan}:_&&_.count>0&&_.height>H&&(H=_.height),H>w.height&&(w.height=H)}}_.count--}}function x(b,N,_,C,k){return b.map(function(w){return y(w,N,_,C,k)})}l.ellipsize=x;function y(b,N,_,C,k){var w=1e4*C.scaleFactor();if(N=Math.ceil(N*w)/w,N>=(0,d.getStringWidth)(b,_,C))return b;for(;N<(0,d.getStringWidth)(b+k,_,C)&&!(b.length<=1);)b=b.substring(0,b.length-1);return b.trim()+k}},964:function(o){if(typeof r>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}o.exports=r}},a={};function i(o){var l=a[o];if(l!==void 0)return l.exports;var u=a[o]={exports:{}};return n[o].call(u.exports,u,u.exports,i),u.exports}var s={};return function(){var o=s;Object.defineProperty(o,"__esModule",{value:!0}),o.Cell=o.Column=o.Row=o.Table=o.CellHookData=o.__drawTable=o.__createTable=o.applyPlugin=void 0;var l=i(340),u=i(776),d=i(664),f=i(972),h=i(260);Object.defineProperty(o,"Table",{enumerable:!0,get:function(){return h.Table}});var p=i(172);Object.defineProperty(o,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var m=i(260);Object.defineProperty(o,"Cell",{enumerable:!0,get:function(){return m.Cell}}),Object.defineProperty(o,"Column",{enumerable:!0,get:function(){return m.Column}}),Object.defineProperty(o,"Row",{enumerable:!0,get:function(){return m.Row}});function g(N){(0,l.default)(N)}o.applyPlugin=g;function v(N,_){var C=(0,u.parseInput)(N,_),k=(0,f.createTable)(N,C);(0,d.drawTable)(N,k)}function x(N,_){var C=(0,u.parseInput)(N,_);return(0,f.createTable)(N,C)}o.__createTable=x;function y(N,_){(0,d.drawTable)(N,_)}o.__drawTable=y;try{var b=i(964);b.jsPDF&&(b=b.jsPDF),g(b)}catch{}o.default=v}(),s}()})})(VW);var Woe=VW.exports;const zoe=hr(Woe);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var GW=1252,Hoe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],hE={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},pE=function(e){Hoe.indexOf(e)!=-1&&(GW=hE[0]=e)};function qoe(){pE(1252)}var Uo=function(e){pE(e)};function KW(){Uo(1200),qoe()}function I$(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Yoe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function XW(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var cx=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Yoe(e.slice(2)):t==254&&r==255?XW(e.slice(2)):t==65279?e.slice(1):e},kb=function(t){return String.fromCharCode(t)},R$=function(t){return String.fromCharCode(t)},Uj,Du="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function B$(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=Du.charAt(i)+Du.charAt(s)+Du.charAt(o)+Du.charAt(l);return t}function $s(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=Du.indexOf(e.charAt(u++)),s=Du.indexOf(e.charAt(u++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=Du.indexOf(e.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=Du.indexOf(e.charAt(u++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var wr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),fh=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function fd(e){return wr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function U$(e){return wr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ro=function(t){return wr?fh(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function hh(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function mE(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return mE(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Au=wr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:fh(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Voe(e){for(var t=[],r=0,n=e.length+250,a=fd(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=fd(65535),n=65530)}return t.push(a.slice(0,r)),Au(t)}var Ui=/\u0000/g,ux=/[\u0001-\u0006]/g;function K0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Wo(e,t){var r=""+e;return r.length>=t?r:Bn("0",t-r.length)+r}function gE(e,t){var r=""+e;return r.length>=t?r:Bn(" ",t-r.length)+r}function cw(e,t){var r=""+e;return r.length>=t?r:r+Bn(" ",t-r.length)}function Goe(e,t){var r=""+Math.round(e);return r.length>=t?r:Bn("0",t-r.length)+r}function Koe(e,t){var r=""+e;return r.length>=t?r:Bn("0",t-r.length)+r}var W$=Math.pow(2,32);function o0(e,t){if(e>W$||e<-W$)return Goe(e,t);var r=Math.round(e);return Koe(r,t)}function uw(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var z$=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],e3=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Xoe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var nr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},H$={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Qoe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function dw(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),o=f*s+i,d=f*u+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=u,u=d;if(d>t&&(u>t?(d=l,o=i):(d=u,o=s)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function pf(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=nle(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var QW=new Date(1899,11,31,0,0,0),Joe=QW.getTime(),Zoe=new Date(1900,2,1,0,0,0);function JW(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Zoe&&(r+=24*60*60*1e3),(r-(Joe+(e.getTimezoneOffset()-QW.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function xE(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ele(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function tle(e){var t=e<0?12:11,r=xE(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function rle(e){var t=xE(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function kv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=tle(e):t===10?r=e.toFixed(10).substr(0,12):r=rle(e),xE(ele(r.toUpperCase()))}function zf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):kv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return po(14,JW(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function nle(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function ale(e,t,r,n){var a="",i=0,s=0,o=r.y,l,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,u=t.length;break;case 3:return e3[r.m-1][1];case 5:return e3[r.m-1][0];default:return e3[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,u=t.length;break;case 3:return z$[r.q][0];default:return z$[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Wo(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Wo(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=o,u=1;break}var d=u>0?Wo(l,u):"";return d}function Mu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var ZW=/%/g;function ile(e,t,r){var n=t.replace(ZW,""),a=t.length-n.length;return bc(e,n,r*Math.pow(10,2*a))+Bn("%",a)}function sle(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return bc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function ez(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+ez(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var tz=/# (\?+)( ?)\/( ?)(\d+)/;function ole(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Bn(" ",e[1].length+1+e[4].length):gE(s,e[1].length)+e[2]+"/"+e[3]+Wo(o,e[4].length))}function lle(e,t,r){return r+(t===0?"":""+t)+Bn(" ",e[1].length+2+e[4].length)}var rz=/^#*0*\.([0#]+)/,nz=/\).*[0#]/,az=/\(###\) ###\\?-####/;function Oi(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function q$(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function Y$(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function cle(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function ule(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Gs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(nz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Gs("n",n,r):"("+Gs("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return sle(e,t,r);if(t.indexOf("%")!==-1)return ile(e,t,r);if(t.indexOf("E")!==-1)return ez(t,r);if(t.charCodeAt(0)===36)return"$"+Gs(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+o0(l,t.length);if(t.match(/^[#?]+$/))return a=o0(r,0),a==="0"&&(a=""),a.length>t.length?a:Oi(t.substr(0,t.length-a.length))+a;if(i=t.match(tz))return ole(i,l,u);if(t.match(/^#+0+$/))return u+o0(l,t.length-t.indexOf("0"));if(i=t.match(rz))return a=q$(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Oi(i[1])).replace(/\.$/,"."+Oi(i[1])).replace(/\.(\d*)$/,function(m,g){return"."+g+Bn("0",Oi(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+q$(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Mu(o0(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Gs(e,t,-r):Mu(""+(Math.floor(r)+cle(r,i[1].length)))+"."+Wo(Y$(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Gs(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=K0(Gs(e,t.replace(/[\\-]/g,""),r)),s=0,K0(K0(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<a.length?a.charAt(s++):m==="0"?"0":""}));if(t.match(az))return a=Gs(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=dw(l,Math.pow(10,s)-1,!1),a=""+u,d=bc("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=cw(o[2],s),d.length<i[4].length&&(d=Oi(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=dw(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?gE(o[1],s)+i[2]+"/"+i[3]+cw(o[2],s):Bn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=o0(r,0),t.length<=a.length?a:Oi(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return Oi(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=Y$(r,i[1].length),r<0?"-"+Gs(e,t,-r):Mu(ule(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Wo(0,3-m.length):"")+m})+"."+Wo(s,i[1].length);switch(t){case"###,##0.00":return Gs(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Mu(o0(l,0));return p!=="0"?u+p:"";case"###,###.00":return Gs(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Gs(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function dle(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return bc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function fle(e,t,r){var n=t.replace(ZW,""),a=t.length-n.length;return bc(e,n,r*Math.pow(10,2*a))+Bn("%",a)}function iz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+iz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function hl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(nz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?hl("n",n,r):"("+hl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return dle(e,t,r);if(t.indexOf("%")!==-1)return fle(e,t,r);if(t.indexOf("E")!==-1)return iz(t,r);if(t.charCodeAt(0)===36)return"$"+hl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Wo(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Oi(t.substr(0,t.length-a.length))+a;if(i=t.match(tz))return lle(i,l,u);if(t.match(/^#+0+$/))return u+Wo(l,t.length-t.indexOf("0"));if(i=t.match(rz))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Oi(i[1])).replace(/\.$/,"."+Oi(i[1])),a=a.replace(/\.(\d*)$/,function(m,g){return"."+g+Bn("0",Oi(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Mu(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+hl(e,t,-r):Mu(""+r)+"."+Bn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return hl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=K0(hl(e,t.replace(/[\\-]/g,""),r)),s=0,K0(K0(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<a.length?a.charAt(s++):m==="0"?"0":""}));if(t.match(az))return a=hl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=dw(l,Math.pow(10,s)-1,!1),a=""+u,d=bc("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=cw(o[2],s),d.length<i[4].length&&(d=Oi(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=dw(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?gE(o[1],s)+i[2]+"/"+i[3]+cw(o[2],s):Bn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Oi(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return Oi(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+hl(e,t,-r):Mu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Wo(0,3-m.length):"")+m})+"."+Wo(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Mu(""+l);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return hl(e,t.slice(0,t.lastIndexOf(".")),r)+Oi(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function bc(e,t,r){return(r|0)===r?hl(e,t,r):Gs(e,t,r)}function hle(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var sz=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function xm(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":uw(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(sz))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function ple(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",u,d,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!uw(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),m=p==="("||p===")"?p:"t";a[a.length]={t:m,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=pf(t,r,e.charAt(s+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=pf(t,r),u==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"上":var g={t:o,v:o};if(u==null&&(u=pf(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(u!=null&&(g.v=u.H>=12?"下午":"上午"),g.t="T",s+=5,h="h"):(g.t="t",++s),u==null&&g.t==="T")return"";a[a.length]=g,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(sz)){if(u==null&&(u=pf(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",xm(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,x=0,y;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",v<1&&(v=1);break;case"s":(y=a[s].v.match(/\.0+$/))&&(x=Math.max(x,y[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",N;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=ale(a[s].t.charCodeAt(0),a[s].v,u,x),a[s].t="t";break;case"n":case"?":for(N=s+1;a[N]!=null&&((o=a[N].t)==="?"||o==="D"||(o===" "||o==="t")&&a[N+1]!=null&&(a[N+1].t==="?"||a[N+1].t==="t"&&a[N+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[N].v==="/"||a[N].v===" "&&a[N+1]!=null&&a[N+1].t=="?"));)a[s].v+=a[N].v,a[N]={v:"",t:";"},++N;b+=a[s].v,s=N-1;break;case"G":a[s].t="t",a[s].v=zf(t,r);break}var _="",C,k;if(b.length>0){b.charCodeAt(0)==40?(C=t<0&&b.charCodeAt(0)===45?-t:t,k=bc("n",b,C)):(C=t<0&&n>1?-t:t,k=bc("n",b,C),C<0&&a[0]&&a[0].t=="t"&&(k=k.substr(1),a[0].v="-"+a[0].v)),N=k.length-1;var w=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){w=s;break}var S=a.length;if(w===a.length&&k.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(N>=a[s].v.length-1?(N-=a[s].v.length,a[s].v=k.substr(N+1,a[s].v.length)):N<0?a[s].v="":(a[s].v=k.substr(0,N+1),N=-1),a[s].t="t",S=s);N>=0&&S<a.length&&(a[S].v=k.substr(0,N+1)+a[S].v)}else if(w!==a.length&&k.indexOf("E")===-1){for(N=k.indexOf(".")-1,s=w;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(d=a[s].v.indexOf(".")>-1&&s===w?a[s].v.indexOf(".")-1:a[s].v.length-1,_=a[s].v.substr(d+1);d>=0;--d)N>=0&&(a[s].v.charAt(d)==="0"||a[s].v.charAt(d)==="#")&&(_=k.charAt(N--)+_);a[s].v=_,a[s].t="t",S=s}for(N>=0&&S<a.length&&(a[S].v=k.substr(0,N+1)+a[S].v),N=k.indexOf(".")+1,s=w;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==w)){for(d=a[s].v.indexOf(".")>-1&&s===w?a[s].v.indexOf(".")+1:0,_=a[s].v.substr(0,d);d<a[s].v.length;++d)N<k.length&&(_+=k.charAt(N++));a[s].v=_,a[s].t="t",S=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(C=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=bc(a[s].t,a[s].v,C),a[s].t="t");var P="";for(s=0;s!==a.length;++s)a[s]!=null&&(P+=a[s].v);return P}var V$=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function G$(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function mle(e,t){var r=hle(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(V$),o=r[1].match(V$);return G$(t,s)?[n,r[0]]:G$(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function po(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:nr)[e],n==null&&(n=r.table&&r.table[H$[e]]||nr[H$[e]]),n==null&&(n=Qoe[e]||"General");break}if(uw(n,0))return zf(t,r);t instanceof Date&&(t=JW(t,r.date1904));var a=mle(n,t);if(uw(a[1]))return zf(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return ple(a[1],t,r,a[0])}function Tf(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(nr[r]==null){t<0&&(t=r);continue}if(nr[r]==e){t=r;break}}t<0&&(t=391)}return nr[t]=e,t}function oz(){nr=Xoe()}var gle={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},lz=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function xle(e){var t=typeof e=="number"?nr[e]:e;return t=t.replace(lz,"(\\d+)"),new RegExp("^"+t+"$")}function vle(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(lz)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var yle=function(){var e={};e.version="1.2.0";function t(){for(var k=0,w=new Array(256),S=0;S!=256;++S)k=S,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,w[S]=k;return typeof Int32Array<"u"?new Int32Array(w):w}var r=t();function n(k){var w=0,S=0,P=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)A[P]=k[P];for(P=0;P!=256;++P)for(S=k[P],w=256+P;w<4096;w+=256)S=A[w]=S>>>8^k[S&255];var T=[];for(P=1;P!=16;++P)T[P-1]=typeof Int32Array<"u"?A.subarray(P*256,P*256+256):A.slice(P*256,P*256+256);return T}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],m=a[9],g=a[10],v=a[11],x=a[12],y=a[13],b=a[14];function N(k,w){for(var S=w^-1,P=0,A=k.length;P<A;)S=S>>>8^r[(S^k.charCodeAt(P++))&255];return~S}function _(k,w){for(var S=w^-1,P=k.length-15,A=0;A<P;)S=b[k[A++]^S&255]^y[k[A++]^S>>8&255]^x[k[A++]^S>>16&255]^v[k[A++]^S>>>24]^g[k[A++]]^m[k[A++]]^p[k[A++]]^h[k[A++]]^f[k[A++]]^d[k[A++]]^u[k[A++]]^l[k[A++]]^o[k[A++]]^s[k[A++]]^i[k[A++]]^r[k[A++]];for(P+=15;A<P;)S=S>>>8^r[(S^k[A++])&255];return~S}function C(k,w){for(var S=w^-1,P=0,A=k.length,T=0,F=0;P<A;)T=k.charCodeAt(P++),T<128?S=S>>>8^r[(S^T)&255]:T<2048?(S=S>>>8^r[(S^(192|T>>6&31))&255],S=S>>>8^r[(S^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,F=k.charCodeAt(P++)&1023,S=S>>>8^r[(S^(240|T>>8&7))&255],S=S>>>8^r[(S^(128|T>>2&63))&255],S=S>>>8^r[(S^(128|F>>6&15|(T&3)<<4))&255],S=S>>>8^r[(S^(128|F&63))&255]):(S=S>>>8^r[(S^(224|T>>12&15))&255],S=S>>>8^r[(S^(128|T>>6&63))&255],S=S>>>8^r[(S^(128|T&63))&255]);return~S}return e.table=r,e.bstr=N,e.buf=_,e.str=C,e}(),Nr=function(){var t={};t.version="1.2.1";function r(oe,Se){for(var xe=oe.split("/"),ye=Se.split("/"),_e=0,Ne=0,He=Math.min(xe.length,ye.length);_e<He;++_e){if(Ne=xe[_e].length-ye[_e].length)return Ne;if(xe[_e]!=ye[_e])return xe[_e]<ye[_e]?-1:1}return xe.length-ye.length}function n(oe){if(oe.charAt(oe.length-1)=="/")return oe.slice(0,-1).indexOf("/")===-1?oe:n(oe.slice(0,-1));var Se=oe.lastIndexOf("/");return Se===-1?oe:oe.slice(0,Se+1)}function a(oe){if(oe.charAt(oe.length-1)=="/")return a(oe.slice(0,-1));var Se=oe.lastIndexOf("/");return Se===-1?oe:oe.slice(Se+1)}function i(oe,Se){typeof Se=="string"&&(Se=new Date(Se));var xe=Se.getHours();xe=xe<<6|Se.getMinutes(),xe=xe<<5|Se.getSeconds()>>>1,oe.write_shift(2,xe);var ye=Se.getFullYear()-1980;ye=ye<<4|Se.getMonth()+1,ye=ye<<5|Se.getDate(),oe.write_shift(2,ye)}function s(oe){var Se=oe.read_shift(2)&65535,xe=oe.read_shift(2)&65535,ye=new Date,_e=xe&31;xe>>>=5;var Ne=xe&15;xe>>>=4,ye.setMilliseconds(0),ye.setFullYear(xe+1980),ye.setMonth(Ne-1),ye.setDate(_e);var He=Se&31;Se>>>=5;var Qe=Se&63;return Se>>>=6,ye.setHours(Se),ye.setMinutes(Qe),ye.setSeconds(He<<1),ye}function o(oe){Ya(oe,0);for(var Se={},xe=0;oe.l<=oe.length-4;){var ye=oe.read_shift(2),_e=oe.read_shift(2),Ne=oe.l+_e,He={};switch(ye){case 21589:xe=oe.read_shift(1),xe&1&&(He.mtime=oe.read_shift(4)),_e>5&&(xe&2&&(He.atime=oe.read_shift(4)),xe&4&&(He.ctime=oe.read_shift(4))),He.mtime&&(He.mt=new Date(He.mtime*1e3));break}oe.l=Ne,Se[ye]=He}return Se}var l;function u(){return l||(l={})}function d(oe,Se){if(oe[0]==80&&oe[1]==75)return kr(oe,Se);if((oe[0]|32)==109&&(oe[1]|32)==105)return qn(oe,Se);if(oe.length<512)throw new Error("CFB file size "+oe.length+" < 512");var xe=3,ye=512,_e=0,Ne=0,He=0,Qe=0,Ye=0,Ve=[],Ge=oe.slice(0,512);Ya(Ge,0);var lt=f(Ge);switch(xe=lt[0],xe){case 3:ye=512;break;case 4:ye=4096;break;case 0:if(lt[1]==0)return kr(oe,Se);default:throw new Error("Major Version: Expected 3 or 4 saw "+xe)}ye!==512&&(Ge=oe.slice(0,ye),Ya(Ge,28));var ht=oe.slice(0,ye);h(Ge,xe);var pt=Ge.read_shift(4,"i");if(xe===3&&pt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+pt);Ge.l+=4,He=Ge.read_shift(4,"i"),Ge.l+=4,Ge.chk("00100000","Mini Stream Cutoff Size: "),Qe=Ge.read_shift(4,"i"),_e=Ge.read_shift(4,"i"),Ye=Ge.read_shift(4,"i"),Ne=Ge.read_shift(4,"i");for(var ut=-1,mt=0;mt<109&&(ut=Ge.read_shift(4,"i"),!(ut<0));++mt)Ve[mt]=ut;var Mt=p(oe,ye);v(Ye,Ne,Mt,ye,Ve);var fr=y(Mt,He,Ve,ye);fr[He].name="!Directory",_e>0&&Qe!==F&&(fr[Qe].name="!MiniFAT"),fr[Ve[0]].name="!FAT",fr.fat_addrs=Ve,fr.ssz=ye;var br={},_n=[],Ki=[],ji=[];b(He,fr,Mt,_n,_e,br,Ki,Qe),m(Ki,ji,_n),_n.shift();var gs={FileIndex:Ki,FullPaths:ji};return Se&&Se.raw&&(gs.raw={header:ht,sectors:Mt}),gs}function f(oe){if(oe[oe.l]==80&&oe[oe.l+1]==75)return[0,0];oe.chk(M,"Header Signature: "),oe.l+=16;var Se=oe.read_shift(2,"u");return[oe.read_shift(2,"u"),Se]}function h(oe,Se){var xe=9;switch(oe.l+=2,xe=oe.read_shift(2)){case 9:if(Se!=3)throw new Error("Sector Shift: Expected 9 saw "+xe);break;case 12:if(Se!=4)throw new Error("Sector Shift: Expected 12 saw "+xe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+xe)}oe.chk("0600","Mini Sector Shift: "),oe.chk("000000000000","Reserved: ")}function p(oe,Se){for(var xe=Math.ceil(oe.length/Se)-1,ye=[],_e=1;_e<xe;++_e)ye[_e-1]=oe.slice(_e*Se,(_e+1)*Se);return ye[xe-1]=oe.slice(xe*Se),ye}function m(oe,Se,xe){for(var ye=0,_e=0,Ne=0,He=0,Qe=0,Ye=xe.length,Ve=[],Ge=[];ye<Ye;++ye)Ve[ye]=Ge[ye]=ye,Se[ye]=xe[ye];for(;Qe<Ge.length;++Qe)ye=Ge[Qe],_e=oe[ye].L,Ne=oe[ye].R,He=oe[ye].C,Ve[ye]===ye&&(_e!==-1&&Ve[_e]!==_e&&(Ve[ye]=Ve[_e]),Ne!==-1&&Ve[Ne]!==Ne&&(Ve[ye]=Ve[Ne])),He!==-1&&(Ve[He]=ye),_e!==-1&&ye!=Ve[ye]&&(Ve[_e]=Ve[ye],Ge.lastIndexOf(_e)<Qe&&Ge.push(_e)),Ne!==-1&&ye!=Ve[ye]&&(Ve[Ne]=Ve[ye],Ge.lastIndexOf(Ne)<Qe&&Ge.push(Ne));for(ye=1;ye<Ye;++ye)Ve[ye]===ye&&(Ne!==-1&&Ve[Ne]!==Ne?Ve[ye]=Ve[Ne]:_e!==-1&&Ve[_e]!==_e&&(Ve[ye]=Ve[_e]));for(ye=1;ye<Ye;++ye)if(oe[ye].type!==0){if(Qe=ye,Qe!=Ve[Qe])do Qe=Ve[Qe],Se[ye]=Se[Qe]+"/"+Se[ye];while(Qe!==0&&Ve[Qe]!==-1&&Qe!=Ve[Qe]);Ve[ye]=-1}for(Se[0]+="/",ye=1;ye<Ye;++ye)oe[ye].type!==2&&(Se[ye]+="/")}function g(oe,Se,xe){for(var ye=oe.start,_e=oe.size,Ne=[],He=ye;xe&&_e>0&&He>=0;)Ne.push(Se.slice(He*T,He*T+T)),_e-=T,He=sf(xe,He*4);return Ne.length===0?ya(0):Au(Ne).slice(0,oe.size)}function v(oe,Se,xe,ye,_e){var Ne=F;if(oe===F){if(Se!==0)throw new Error("DIFAT chain shorter than expected")}else if(oe!==-1){var He=xe[oe],Qe=(ye>>>2)-1;if(!He)return;for(var Ye=0;Ye<Qe&&(Ne=sf(He,Ye*4))!==F;++Ye)_e.push(Ne);v(sf(He,ye-4),Se-1,xe,ye,_e)}}function x(oe,Se,xe,ye,_e){var Ne=[],He=[];_e||(_e=[]);var Qe=ye-1,Ye=0,Ve=0;for(Ye=Se;Ye>=0;){_e[Ye]=!0,Ne[Ne.length]=Ye,He.push(oe[Ye]);var Ge=xe[Math.floor(Ye*4/ye)];if(Ve=Ye*4&Qe,ye<4+Ve)throw new Error("FAT boundary crossed: "+Ye+" 4 "+ye);if(!oe[Ge])break;Ye=sf(oe[Ge],Ve)}return{nodes:Ne,data:aD([He])}}function y(oe,Se,xe,ye){var _e=oe.length,Ne=[],He=[],Qe=[],Ye=[],Ve=ye-1,Ge=0,lt=0,ht=0,pt=0;for(Ge=0;Ge<_e;++Ge)if(Qe=[],ht=Ge+Se,ht>=_e&&(ht-=_e),!He[ht]){Ye=[];var ut=[];for(lt=ht;lt>=0;){ut[lt]=!0,He[lt]=!0,Qe[Qe.length]=lt,Ye.push(oe[lt]);var mt=xe[Math.floor(lt*4/ye)];if(pt=lt*4&Ve,ye<4+pt)throw new Error("FAT boundary crossed: "+lt+" 4 "+ye);if(!oe[mt]||(lt=sf(oe[mt],pt),ut[lt]))break}Ne[ht]={nodes:Qe,data:aD([Ye])}}return Ne}function b(oe,Se,xe,ye,_e,Ne,He,Qe){for(var Ye=0,Ve=ye.length?2:0,Ge=Se[oe].data,lt=0,ht=0,pt;lt<Ge.length;lt+=128){var ut=Ge.slice(lt,lt+128);Ya(ut,64),ht=ut.read_shift(2),pt=_E(ut,0,ht-Ve),ye.push(pt);var mt={name:pt,type:ut.read_shift(1),color:ut.read_shift(1),L:ut.read_shift(4,"i"),R:ut.read_shift(4,"i"),C:ut.read_shift(4,"i"),clsid:ut.read_shift(16),state:ut.read_shift(4,"i"),start:0,size:0},Mt=ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2);Mt!==0&&(mt.ct=N(ut,ut.l-8));var fr=ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2);fr!==0&&(mt.mt=N(ut,ut.l-8)),mt.start=ut.read_shift(4,"i"),mt.size=ut.read_shift(4,"i"),mt.size<0&&mt.start<0&&(mt.size=mt.type=0,mt.start=F,mt.name=""),mt.type===5?(Ye=mt.start,_e>0&&Ye!==F&&(Se[Ye].name="!StreamData")):mt.size>=4096?(mt.storage="fat",Se[mt.start]===void 0&&(Se[mt.start]=x(xe,mt.start,Se.fat_addrs,Se.ssz)),Se[mt.start].name=mt.name,mt.content=Se[mt.start].data.slice(0,mt.size)):(mt.storage="minifat",mt.size<0?mt.size=0:Ye!==F&&mt.start!==F&&Se[Ye]&&(mt.content=g(mt,Se[Ye].data,(Se[Qe]||{}).data))),mt.content&&Ya(mt.content,0),Ne[pt]=mt,He.push(mt)}}function N(oe,Se){return new Date((Ss(oe,Se+4)/1e7*Math.pow(2,32)+Ss(oe,Se)/1e7-11644473600)*1e3)}function _(oe,Se){return u(),d(l.readFileSync(oe),Se)}function C(oe,Se){var xe=Se&&Se.type;switch(xe||wr&&Buffer.isBuffer(oe)&&(xe="buffer"),xe||"base64"){case"file":return _(oe,Se);case"base64":return d(Ro($s(oe)),Se);case"binary":return d(Ro(oe),Se)}return d(oe,Se)}function k(oe,Se){var xe=Se||{},ye=xe.root||"Root Entry";if(oe.FullPaths||(oe.FullPaths=[]),oe.FileIndex||(oe.FileIndex=[]),oe.FullPaths.length!==oe.FileIndex.length)throw new Error("inconsistent CFB structure");oe.FullPaths.length===0&&(oe.FullPaths[0]=ye+"/",oe.FileIndex[0]={name:ye,type:5}),xe.CLSID&&(oe.FileIndex[0].clsid=xe.CLSID),w(oe)}function w(oe){var Se="Sh33tJ5";if(!Nr.find(oe,"/"+Se)){var xe=ya(4);xe[0]=55,xe[1]=xe[3]=50,xe[2]=54,oe.FileIndex.push({name:Se,type:2,content:xe,size:4,L:69,R:69,C:69}),oe.FullPaths.push(oe.FullPaths[0]+Se),S(oe)}}function S(oe,Se){k(oe);for(var xe=!1,ye=!1,_e=oe.FullPaths.length-1;_e>=0;--_e){var Ne=oe.FileIndex[_e];switch(Ne.type){case 0:ye?xe=!0:(oe.FileIndex.pop(),oe.FullPaths.pop());break;case 1:case 2:case 5:ye=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(xe=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(xe=!0);break;default:xe=!0;break}}if(!(!xe&&!Se)){var He=new Date(1987,1,19),Qe=0,Ye=Object.create?Object.create(null):{},Ve=[];for(_e=0;_e<oe.FullPaths.length;++_e)Ye[oe.FullPaths[_e]]=!0,oe.FileIndex[_e].type!==0&&Ve.push([oe.FullPaths[_e],oe.FileIndex[_e]]);for(_e=0;_e<Ve.length;++_e){var Ge=n(Ve[_e][0]);ye=Ye[Ge],ye||(Ve.push([Ge,{name:a(Ge).replace("/",""),type:1,clsid:z,ct:He,mt:He,content:null}]),Ye[Ge]=!0)}for(Ve.sort(function(pt,ut){return r(pt[0],ut[0])}),oe.FullPaths=[],oe.FileIndex=[],_e=0;_e<Ve.length;++_e)oe.FullPaths[_e]=Ve[_e][0],oe.FileIndex[_e]=Ve[_e][1];for(_e=0;_e<Ve.length;++_e){var lt=oe.FileIndex[_e],ht=oe.FullPaths[_e];if(lt.name=a(ht).replace("/",""),lt.L=lt.R=lt.C=-(lt.color=1),lt.size=lt.content?lt.content.length:0,lt.start=0,lt.clsid=lt.clsid||z,_e===0)lt.C=Ve.length>1?1:-1,lt.size=0,lt.type=5;else if(ht.slice(-1)=="/"){for(Qe=_e+1;Qe<Ve.length&&n(oe.FullPaths[Qe])!=ht;++Qe);for(lt.C=Qe>=Ve.length?-1:Qe,Qe=_e+1;Qe<Ve.length&&n(oe.FullPaths[Qe])!=n(ht);++Qe);lt.R=Qe>=Ve.length?-1:Qe,lt.type=1}else n(oe.FullPaths[_e+1]||"")==n(ht)&&(lt.R=_e+1),lt.type=2}}}function P(oe,Se){var xe=Se||{};if(xe.fileType=="mad")return $t(oe,xe);switch(S(oe),xe.fileType){case"zip":return Tn(oe,xe)}var ye=function(pt){for(var ut=0,mt=0,Mt=0;Mt<pt.FileIndex.length;++Mt){var fr=pt.FileIndex[Mt];if(fr.content){var br=fr.content.length;br>0&&(br<4096?ut+=br+63>>6:mt+=br+511>>9)}}for(var _n=pt.FullPaths.length+3>>2,Ki=ut+7>>3,ji=ut+127>>7,gs=Ki+mt+_n+ji,Xi=gs+127>>7,ri=Xi<=109?0:Math.ceil((Xi-109)/127);gs+Xi+ri+127>>7>Xi;)ri=++Xi<=109?0:Math.ceil((Xi-109)/127);var ni=[1,ri,Xi,ji,_n,mt,ut,0];return pt.FileIndex[0].size=ut<<6,ni[7]=(pt.FileIndex[0].start=ni[0]+ni[1]+ni[2]+ni[3]+ni[4]+ni[5])+(ni[6]+7>>3),ni}(oe),_e=ya(ye[7]<<9),Ne=0,He=0;{for(Ne=0;Ne<8;++Ne)_e.write_shift(1,H[Ne]);for(Ne=0;Ne<8;++Ne)_e.write_shift(2,0);for(_e.write_shift(2,62),_e.write_shift(2,3),_e.write_shift(2,65534),_e.write_shift(2,9),_e.write_shift(2,6),Ne=0;Ne<3;++Ne)_e.write_shift(2,0);for(_e.write_shift(4,0),_e.write_shift(4,ye[2]),_e.write_shift(4,ye[0]+ye[1]+ye[2]+ye[3]-1),_e.write_shift(4,0),_e.write_shift(4,4096),_e.write_shift(4,ye[3]?ye[0]+ye[1]+ye[2]-1:F),_e.write_shift(4,ye[3]),_e.write_shift(-4,ye[1]?ye[0]-1:F),_e.write_shift(4,ye[1]),Ne=0;Ne<109;++Ne)_e.write_shift(-4,Ne<ye[2]?ye[1]+Ne:-1)}if(ye[1])for(He=0;He<ye[1];++He){for(;Ne<236+He*127;++Ne)_e.write_shift(-4,Ne<ye[2]?ye[1]+Ne:-1);_e.write_shift(-4,He===ye[1]-1?F:He+1)}var Qe=function(pt){for(He+=pt;Ne<He-1;++Ne)_e.write_shift(-4,Ne+1);pt&&(++Ne,_e.write_shift(-4,F))};for(He=Ne=0,He+=ye[1];Ne<He;++Ne)_e.write_shift(-4,Y.DIFSECT);for(He+=ye[2];Ne<He;++Ne)_e.write_shift(-4,Y.FATSECT);Qe(ye[3]),Qe(ye[4]);for(var Ye=0,Ve=0,Ge=oe.FileIndex[0];Ye<oe.FileIndex.length;++Ye)Ge=oe.FileIndex[Ye],Ge.content&&(Ve=Ge.content.length,!(Ve<4096)&&(Ge.start=He,Qe(Ve+511>>9)));for(Qe(ye[6]+7>>3);_e.l&511;)_e.write_shift(-4,Y.ENDOFCHAIN);for(He=Ne=0,Ye=0;Ye<oe.FileIndex.length;++Ye)Ge=oe.FileIndex[Ye],Ge.content&&(Ve=Ge.content.length,!(!Ve||Ve>=4096)&&(Ge.start=He,Qe(Ve+63>>6)));for(;_e.l&511;)_e.write_shift(-4,Y.ENDOFCHAIN);for(Ne=0;Ne<ye[4]<<2;++Ne){var lt=oe.FullPaths[Ne];if(!lt||lt.length===0){for(Ye=0;Ye<17;++Ye)_e.write_shift(4,0);for(Ye=0;Ye<3;++Ye)_e.write_shift(4,-1);for(Ye=0;Ye<12;++Ye)_e.write_shift(4,0);continue}Ge=oe.FileIndex[Ne],Ne===0&&(Ge.start=Ge.size?Ge.start-1:F);var ht=Ne===0&&xe.root||Ge.name;if(Ve=2*(ht.length+1),_e.write_shift(64,ht,"utf16le"),_e.write_shift(2,Ve),_e.write_shift(1,Ge.type),_e.write_shift(1,Ge.color),_e.write_shift(-4,Ge.L),_e.write_shift(-4,Ge.R),_e.write_shift(-4,Ge.C),Ge.clsid)_e.write_shift(16,Ge.clsid,"hex");else for(Ye=0;Ye<4;++Ye)_e.write_shift(4,0);_e.write_shift(4,Ge.state||0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,Ge.start),_e.write_shift(4,Ge.size),_e.write_shift(4,0)}for(Ne=1;Ne<oe.FileIndex.length;++Ne)if(Ge=oe.FileIndex[Ne],Ge.size>=4096)if(_e.l=Ge.start+1<<9,wr&&Buffer.isBuffer(Ge.content))Ge.content.copy(_e,_e.l,0,Ge.size),_e.l+=Ge.size+511&-512;else{for(Ye=0;Ye<Ge.size;++Ye)_e.write_shift(1,Ge.content[Ye]);for(;Ye&511;++Ye)_e.write_shift(1,0)}for(Ne=1;Ne<oe.FileIndex.length;++Ne)if(Ge=oe.FileIndex[Ne],Ge.size>0&&Ge.size<4096)if(wr&&Buffer.isBuffer(Ge.content))Ge.content.copy(_e,_e.l,0,Ge.size),_e.l+=Ge.size+63&-64;else{for(Ye=0;Ye<Ge.size;++Ye)_e.write_shift(1,Ge.content[Ye]);for(;Ye&63;++Ye)_e.write_shift(1,0)}if(wr)_e.l=_e.length;else for(;_e.l<_e.length;)_e.write_shift(1,0);return _e}function A(oe,Se){var xe=oe.FullPaths.map(function(Ye){return Ye.toUpperCase()}),ye=xe.map(function(Ye){var Ve=Ye.split("/");return Ve[Ve.length-(Ye.slice(-1)=="/"?2:1)]}),_e=!1;Se.charCodeAt(0)===47?(_e=!0,Se=xe[0].slice(0,-1)+Se):_e=Se.indexOf("/")!==-1;var Ne=Se.toUpperCase(),He=_e===!0?xe.indexOf(Ne):ye.indexOf(Ne);if(He!==-1)return oe.FileIndex[He];var Qe=!Ne.match(ux);for(Ne=Ne.replace(Ui,""),Qe&&(Ne=Ne.replace(ux,"!")),He=0;He<xe.length;++He)if((Qe?xe[He].replace(ux,"!"):xe[He]).replace(Ui,"")==Ne||(Qe?ye[He].replace(ux,"!"):ye[He]).replace(Ui,"")==Ne)return oe.FileIndex[He];return null}var T=64,F=-2,M="d0cf11e0a1b11ae1",H=[208,207,17,224,161,177,26,225],z="00000000000000000000000000000000",Y={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:M,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function G(oe,Se,xe){u();var ye=P(oe,xe);l.writeFileSync(Se,ye)}function I(oe){for(var Se=new Array(oe.length),xe=0;xe<oe.length;++xe)Se[xe]=String.fromCharCode(oe[xe]);return Se.join("")}function X(oe,Se){var xe=P(oe,Se);switch(Se&&Se.type||"buffer"){case"file":return u(),l.writeFileSync(Se.filename,xe),xe;case"binary":return typeof xe=="string"?xe:I(xe);case"base64":return B$(typeof xe=="string"?xe:I(xe));case"buffer":if(wr)return Buffer.isBuffer(xe)?xe:fh(xe);case"array":return typeof xe=="string"?Ro(xe):xe}return xe}var J;function E(oe){try{var Se=oe.InflateRaw,xe=new Se;if(xe._processChunk(new Uint8Array([3,0]),xe._finishFlushFlag),xe.bytesRead)J=oe;else throw new Error("zlib does not expose bytesRead")}catch(ye){console.error("cannot use native zlib: "+(ye.message||ye))}}function R(oe,Se){if(!J)return Dt(oe,Se);var xe=J.InflateRaw,ye=new xe,_e=ye._processChunk(oe.slice(oe.l),ye._finishFlushFlag);return oe.l+=ye.bytesRead,_e}function B(oe){return J?J.deflateRawSync(oe):Be(oe)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ee(oe){var Se=(oe<<1|oe<<11)&139536|(oe<<5|oe<<15)&558144;return(Se>>16|Se>>8|Se)&255}for(var W=typeof Uint8Array<"u",Z=W?new Uint8Array(256):[],re=0;re<256;++re)Z[re]=ee(re);function O(oe,Se){var xe=Z[oe&255];return Se<=8?xe>>>8-Se:(xe=xe<<8|Z[oe>>8&255],Se<=16?xe>>>16-Se:(xe=xe<<8|Z[oe>>16&255],xe>>>24-Se))}function de(oe,Se){var xe=Se&7,ye=Se>>>3;return(oe[ye]|(xe<=6?0:oe[ye+1]<<8))>>>xe&3}function ce(oe,Se){var xe=Se&7,ye=Se>>>3;return(oe[ye]|(xe<=5?0:oe[ye+1]<<8))>>>xe&7}function pe(oe,Se){var xe=Se&7,ye=Se>>>3;return(oe[ye]|(xe<=4?0:oe[ye+1]<<8))>>>xe&15}function Q(oe,Se){var xe=Se&7,ye=Se>>>3;return(oe[ye]|(xe<=3?0:oe[ye+1]<<8))>>>xe&31}function ne(oe,Se){var xe=Se&7,ye=Se>>>3;return(oe[ye]|(xe<=1?0:oe[ye+1]<<8))>>>xe&127}function Ae(oe,Se,xe){var ye=Se&7,_e=Se>>>3,Ne=(1<<xe)-1,He=oe[_e]>>>ye;return xe<8-ye||(He|=oe[_e+1]<<8-ye,xe<16-ye)||(He|=oe[_e+2]<<16-ye,xe<24-ye)||(He|=oe[_e+3]<<24-ye),He&Ne}function Ee(oe,Se,xe){var ye=Se&7,_e=Se>>>3;return ye<=5?oe[_e]|=(xe&7)<<ye:(oe[_e]|=xe<<ye&255,oe[_e+1]=(xe&7)>>8-ye),Se+3}function De(oe,Se,xe){var ye=Se&7,_e=Se>>>3;return xe=(xe&1)<<ye,oe[_e]|=xe,Se+1}function Oe(oe,Se,xe){var ye=Se&7,_e=Se>>>3;return xe<<=ye,oe[_e]|=xe&255,xe>>>=8,oe[_e+1]=xe,Se+8}function Fe(oe,Se,xe){var ye=Se&7,_e=Se>>>3;return xe<<=ye,oe[_e]|=xe&255,xe>>>=8,oe[_e+1]=xe&255,oe[_e+2]=xe>>>8,Se+16}function ve(oe,Se){var xe=oe.length,ye=2*xe>Se?2*xe:Se+5,_e=0;if(xe>=Se)return oe;if(wr){var Ne=U$(ye);if(oe.copy)oe.copy(Ne);else for(;_e<oe.length;++_e)Ne[_e]=oe[_e];return Ne}else if(W){var He=new Uint8Array(ye);if(He.set)He.set(oe);else for(;_e<xe;++_e)He[_e]=oe[_e];return He}return oe.length=ye,oe}function me(oe){for(var Se=new Array(oe),xe=0;xe<oe;++xe)Se[xe]=0;return Se}function le(oe,Se,xe){var ye=1,_e=0,Ne=0,He=0,Qe=0,Ye=oe.length,Ve=W?new Uint16Array(32):me(32);for(Ne=0;Ne<32;++Ne)Ve[Ne]=0;for(Ne=Ye;Ne<xe;++Ne)oe[Ne]=0;Ye=oe.length;var Ge=W?new Uint16Array(Ye):me(Ye);for(Ne=0;Ne<Ye;++Ne)Ve[_e=oe[Ne]]++,ye<_e&&(ye=_e),Ge[Ne]=0;for(Ve[0]=0,Ne=1;Ne<=ye;++Ne)Ve[Ne+16]=Qe=Qe+Ve[Ne-1]<<1;for(Ne=0;Ne<Ye;++Ne)Qe=oe[Ne],Qe!=0&&(Ge[Ne]=Ve[Qe+16]++);var lt=0;for(Ne=0;Ne<Ye;++Ne)if(lt=oe[Ne],lt!=0)for(Qe=O(Ge[Ne],ye)>>ye-lt,He=(1<<ye+4-lt)-1;He>=0;--He)Se[Qe|He<<lt]=lt&15|Ne<<4;return ye}var be=W?new Uint16Array(512):me(512),Pe=W?new Uint16Array(32):me(32);if(!W){for(var je=0;je<512;++je)be[je]=0;for(je=0;je<32;++je)Pe[je]=0}(function(){for(var oe=[],Se=0;Se<32;Se++)oe.push(5);le(oe,Pe,32);var xe=[];for(Se=0;Se<=143;Se++)xe.push(8);for(;Se<=255;Se++)xe.push(9);for(;Se<=279;Se++)xe.push(7);for(;Se<=287;Se++)xe.push(8);le(xe,be,288)})();var Ce=function(){for(var Se=W?new Uint8Array(32768):[],xe=0,ye=0;xe<ae.length-1;++xe)for(;ye<ae[xe+1];++ye)Se[ye]=xe;for(;ye<32768;++ye)Se[ye]=29;var _e=W?new Uint8Array(259):[];for(xe=0,ye=0;xe<K.length-1;++xe)for(;ye<K[xe+1];++ye)_e[ye]=xe;function Ne(Qe,Ye){for(var Ve=0;Ve<Qe.length;){var Ge=Math.min(65535,Qe.length-Ve),lt=Ve+Ge==Qe.length;for(Ye.write_shift(1,+lt),Ye.write_shift(2,Ge),Ye.write_shift(2,~Ge&65535);Ge-- >0;)Ye[Ye.l++]=Qe[Ve++]}return Ye.l}function He(Qe,Ye){for(var Ve=0,Ge=0,lt=W?new Uint16Array(32768):[];Ge<Qe.length;){var ht=Math.min(65535,Qe.length-Ge);if(ht<10){for(Ve=Ee(Ye,Ve,+(Ge+ht==Qe.length)),Ve&7&&(Ve+=8-(Ve&7)),Ye.l=Ve/8|0,Ye.write_shift(2,ht),Ye.write_shift(2,~ht&65535);ht-- >0;)Ye[Ye.l++]=Qe[Ge++];Ve=Ye.l*8;continue}Ve=Ee(Ye,Ve,+(Ge+ht==Qe.length)+2);for(var pt=0;ht-- >0;){var ut=Qe[Ge];pt=(pt<<5^ut)&32767;var mt=-1,Mt=0;if((mt=lt[pt])&&(mt|=Ge&-32768,mt>Ge&&(mt-=32768),mt<Ge))for(;Qe[mt+Mt]==Qe[Ge+Mt]&&Mt<250;)++Mt;if(Mt>2){ut=_e[Mt],ut<=22?Ve=Oe(Ye,Ve,Z[ut+1]>>1)-1:(Oe(Ye,Ve,3),Ve+=5,Oe(Ye,Ve,Z[ut-23]>>5),Ve+=3);var fr=ut<8?0:ut-4>>2;fr>0&&(Fe(Ye,Ve,Mt-K[ut]),Ve+=fr),ut=Se[Ge-mt],Ve=Oe(Ye,Ve,Z[ut]>>3),Ve-=3;var br=ut<4?0:ut-2>>1;br>0&&(Fe(Ye,Ve,Ge-mt-ae[ut]),Ve+=br);for(var _n=0;_n<Mt;++_n)lt[pt]=Ge&32767,pt=(pt<<5^Qe[Ge])&32767,++Ge;ht-=Mt-1}else ut<=143?ut=ut+48:Ve=De(Ye,Ve,1),Ve=Oe(Ye,Ve,Z[ut]),lt[pt]=Ge&32767,++Ge}Ve=Oe(Ye,Ve,0)-1}return Ye.l=(Ve+7)/8|0,Ye.l}return function(Ye,Ve){return Ye.length<8?Ne(Ye,Ve):He(Ye,Ve)}}();function Be(oe){var Se=ya(50+Math.floor(oe.length*1.1)),xe=Ce(oe,Se);return Se.slice(0,xe)}var $e=W?new Uint16Array(32768):me(32768),et=W?new Uint16Array(32768):me(32768),Je=W?new Uint16Array(128):me(128),St=1,Tt=1;function wt(oe,Se){var xe=Q(oe,Se)+257;Se+=5;var ye=Q(oe,Se)+1;Se+=5;var _e=pe(oe,Se)+4;Se+=4;for(var Ne=0,He=W?new Uint8Array(19):me(19),Qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ye=1,Ve=W?new Uint8Array(8):me(8),Ge=W?new Uint8Array(8):me(8),lt=He.length,ht=0;ht<_e;++ht)He[q[ht]]=Ne=ce(oe,Se),Ye<Ne&&(Ye=Ne),Ve[Ne]++,Se+=3;var pt=0;for(Ve[0]=0,ht=1;ht<=Ye;++ht)Ge[ht]=pt=pt+Ve[ht-1]<<1;for(ht=0;ht<lt;++ht)(pt=He[ht])!=0&&(Qe[ht]=Ge[pt]++);var ut=0;for(ht=0;ht<lt;++ht)if(ut=He[ht],ut!=0){pt=Z[Qe[ht]]>>8-ut;for(var mt=(1<<7-ut)-1;mt>=0;--mt)Je[pt|mt<<ut]=ut&7|ht<<3}var Mt=[];for(Ye=1;Mt.length<xe+ye;)switch(pt=Je[ne(oe,Se)],Se+=pt&7,pt>>>=3){case 16:for(Ne=3+de(oe,Se),Se+=2,pt=Mt[Mt.length-1];Ne-- >0;)Mt.push(pt);break;case 17:for(Ne=3+ce(oe,Se),Se+=3;Ne-- >0;)Mt.push(0);break;case 18:for(Ne=11+ne(oe,Se),Se+=7;Ne-- >0;)Mt.push(0);break;default:Mt.push(pt),Ye<pt&&(Ye=pt);break}var fr=Mt.slice(0,xe),br=Mt.slice(xe);for(ht=xe;ht<286;++ht)fr[ht]=0;for(ht=ye;ht<30;++ht)br[ht]=0;return St=le(fr,$e,286),Tt=le(br,et,30),Se}function Kt(oe,Se){if(oe[0]==3&&!(oe[1]&3))return[fd(Se),2];for(var xe=0,ye=0,_e=U$(Se||1<<18),Ne=0,He=_e.length>>>0,Qe=0,Ye=0;!(ye&1);){if(ye=ce(oe,xe),xe+=3,ye>>>1)ye>>1==1?(Qe=9,Ye=5):(xe=wt(oe,xe),Qe=St,Ye=Tt);else{xe&7&&(xe+=8-(xe&7));var Ve=oe[xe>>>3]|oe[(xe>>>3)+1]<<8;if(xe+=32,Ve>0)for(!Se&&He<Ne+Ve&&(_e=ve(_e,Ne+Ve),He=_e.length);Ve-- >0;)_e[Ne++]=oe[xe>>>3],xe+=8;continue}for(;;){!Se&&He<Ne+32767&&(_e=ve(_e,Ne+32767),He=_e.length);var Ge=Ae(oe,xe,Qe),lt=ye>>>1==1?be[Ge]:$e[Ge];if(xe+=lt&15,lt>>>=4,!(lt>>>8&255))_e[Ne++]=lt;else{if(lt==256)break;lt-=257;var ht=lt<8?0:lt-4>>2;ht>5&&(ht=0);var pt=Ne+K[lt];ht>0&&(pt+=Ae(oe,xe,ht),xe+=ht),Ge=Ae(oe,xe,Ye),lt=ye>>>1==1?Pe[Ge]:et[Ge],xe+=lt&15,lt>>>=4;var ut=lt<4?0:lt-2>>1,mt=ae[lt];for(ut>0&&(mt+=Ae(oe,xe,ut),xe+=ut),!Se&&He<pt&&(_e=ve(_e,pt+100),He=_e.length);Ne<pt;)_e[Ne]=_e[Ne-mt],++Ne}}}return Se?[_e,xe+7>>>3]:[_e.slice(0,Ne),xe+7>>>3]}function Dt(oe,Se){var xe=oe.slice(oe.l||0),ye=Kt(xe,Se);return oe.l+=ye[1],ye[0]}function Ur(oe,Se){if(oe)typeof console<"u"&&console.error(Se);else throw new Error(Se)}function kr(oe,Se){var xe=oe;Ya(xe,0);var ye=[],_e=[],Ne={FileIndex:ye,FullPaths:_e};k(Ne,{root:Se.root});for(var He=xe.length-4;(xe[He]!=80||xe[He+1]!=75||xe[He+2]!=5||xe[He+3]!=6)&&He>=0;)--He;xe.l=He+4,xe.l+=4;var Qe=xe.read_shift(2);xe.l+=6;var Ye=xe.read_shift(4);for(xe.l=Ye,He=0;He<Qe;++He){xe.l+=20;var Ve=xe.read_shift(4),Ge=xe.read_shift(4),lt=xe.read_shift(2),ht=xe.read_shift(2),pt=xe.read_shift(2);xe.l+=8;var ut=xe.read_shift(4),mt=o(xe.slice(xe.l+lt,xe.l+lt+ht));xe.l+=lt+ht+pt;var Mt=xe.l;xe.l=ut+4,wn(xe,Ve,Ge,Ne,mt),xe.l=Mt}return Ne}function wn(oe,Se,xe,ye,_e){oe.l+=2;var Ne=oe.read_shift(2),He=oe.read_shift(2),Qe=s(oe);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var Ye=oe.read_shift(4),Ve=oe.read_shift(4),Ge=oe.read_shift(4),lt=oe.read_shift(2),ht=oe.read_shift(2),pt="",ut=0;ut<lt;++ut)pt+=String.fromCharCode(oe[oe.l++]);if(ht){var mt=o(oe.slice(oe.l,oe.l+ht));(mt[21589]||{}).mt&&(Qe=mt[21589].mt),((_e||{})[21589]||{}).mt&&(Qe=_e[21589].mt)}oe.l+=ht;var Mt=oe.slice(oe.l,oe.l+Ve);switch(He){case 8:Mt=R(oe,Ge);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+He)}var fr=!1;Ne&8&&(Ye=oe.read_shift(4),Ye==134695760&&(Ye=oe.read_shift(4),fr=!0),Ve=oe.read_shift(4),Ge=oe.read_shift(4)),Ve!=Se&&Ur(fr,"Bad compressed size: "+Se+" != "+Ve),Ge!=xe&&Ur(fr,"Bad uncompressed size: "+xe+" != "+Ge),Pt(ye,pt,Mt,{unsafe:!0,mt:Qe})}function Tn(oe,Se){var xe=Se||{},ye=[],_e=[],Ne=ya(1),He=xe.compression?8:0,Qe=0,Ye=0,Ve=0,Ge=0,lt=0,ht=oe.FullPaths[0],pt=ht,ut=oe.FileIndex[0],mt=[],Mt=0;for(Ye=1;Ye<oe.FullPaths.length;++Ye)if(pt=oe.FullPaths[Ye].slice(ht.length),ut=oe.FileIndex[Ye],!(!ut.size||!ut.content||pt=="Sh33tJ5")){var fr=Ge,br=ya(pt.length);for(Ve=0;Ve<pt.length;++Ve)br.write_shift(1,pt.charCodeAt(Ve)&127);br=br.slice(0,br.l),mt[lt]=yle.buf(ut.content,0);var _n=ut.content;He==8&&(_n=B(_n)),Ne=ya(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,Qe),Ne.write_shift(2,He),ut.mt?i(Ne,ut.mt):Ne.write_shift(4,0),Ne.write_shift(-4,mt[lt]),Ne.write_shift(4,_n.length),Ne.write_shift(4,ut.content.length),Ne.write_shift(2,br.length),Ne.write_shift(2,0),Ge+=Ne.length,ye.push(Ne),Ge+=br.length,ye.push(br),Ge+=_n.length,ye.push(_n),Ne=ya(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,Qe),Ne.write_shift(2,He),Ne.write_shift(4,0),Ne.write_shift(-4,mt[lt]),Ne.write_shift(4,_n.length),Ne.write_shift(4,ut.content.length),Ne.write_shift(2,br.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,fr),Mt+=Ne.l,_e.push(Ne),Mt+=br.length,_e.push(br),++lt}return Ne=ya(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,lt),Ne.write_shift(2,lt),Ne.write_shift(4,Mt),Ne.write_shift(4,Ge),Ne.write_shift(2,0),Au([Au(ye),Au(_e),Ne])}var yr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function It(oe,Se){if(oe.ctype)return oe.ctype;var xe=oe.name||"",ye=xe.match(/\.([^\.]+)$/);return ye&&yr[ye[1]]||Se&&(ye=(xe=Se).match(/[\.\\]([^\.\\])+$/),ye&&yr[ye[1]])?yr[ye[1]]:"application/octet-stream"}function tr(oe){for(var Se=B$(oe),xe=[],ye=0;ye<Se.length;ye+=76)xe.push(Se.slice(ye,ye+76));return xe.join(`\r
`)+`\r
`}function ti(oe){var Se=oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ve){var Ge=Ve.charCodeAt(0).toString(16).toUpperCase();return"="+(Ge.length==1?"0"+Ge:Ge)});Se=Se.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Se.charAt(0)==`
`&&(Se="=0D"+Se.slice(1)),Se=Se.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var xe=[],ye=Se.split(`\r
`),_e=0;_e<ye.length;++_e){var Ne=ye[_e];if(Ne.length==0){xe.push("");continue}for(var He=0;He<Ne.length;){var Qe=76,Ye=Ne.slice(He,He+Qe);Ye.charAt(Qe-1)=="="?Qe--:Ye.charAt(Qe-2)=="="?Qe-=2:Ye.charAt(Qe-3)=="="&&(Qe-=3),Ye=Ne.slice(He,He+Qe),He+=Qe,He<Ne.length&&(Ye+="="),xe.push(Ye)}}return xe.join(`\r
`)}function Zr(oe){for(var Se=[],xe=0;xe<oe.length;++xe){for(var ye=oe[xe];xe<=oe.length&&ye.charAt(ye.length-1)=="=";)ye=ye.slice(0,ye.length-1)+oe[++xe];Se.push(ye)}for(var _e=0;_e<Se.length;++_e)Se[_e]=Se[_e].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return Ro(Se.join(`\r
`))}function Mn(oe,Se,xe){for(var ye="",_e="",Ne="",He,Qe=0;Qe<10;++Qe){var Ye=Se[Qe];if(!Ye||Ye.match(/^\s*$/))break;var Ve=Ye.match(/^(.*?):\s*([^\s].*)$/);if(Ve)switch(Ve[1].toLowerCase()){case"content-location":ye=Ve[2].trim();break;case"content-type":Ne=Ve[2].trim();break;case"content-transfer-encoding":_e=Ve[2].trim();break}}switch(++Qe,_e.toLowerCase()){case"base64":He=Ro($s(Se.slice(Qe).join("")));break;case"quoted-printable":He=Zr(Se.slice(Qe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+_e)}var Ge=Pt(oe,ye.slice(xe.length),He,{unsafe:!0});Ne&&(Ge.ctype=Ne)}function qn(oe,Se){if(I(oe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var xe=Se&&Se.root||"",ye=(wr&&Buffer.isBuffer(oe)?oe.toString("binary"):I(oe)).split(`\r
`),_e=0,Ne="";for(_e=0;_e<ye.length;++_e)if(Ne=ye[_e],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),xe||(xe=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,xe.length)!=xe))for(;xe.length>0&&(xe=xe.slice(0,xe.length-1),xe=xe.slice(0,xe.lastIndexOf("/")+1),Ne.slice(0,xe.length)!=xe););var He=(ye[1]||"").match(/boundary="(.*?)"/);if(!He)throw new Error("MAD cannot find boundary");var Qe="--"+(He[1]||""),Ye=[],Ve=[],Ge={FileIndex:Ye,FullPaths:Ve};k(Ge);var lt,ht=0;for(_e=0;_e<ye.length;++_e){var pt=ye[_e];pt!==Qe&&pt!==Qe+"--"||(ht++&&Mn(Ge,ye.slice(lt,_e),xe),lt=_e)}return Ge}function $t(oe,Se){var xe=Se||{},ye=xe.boundary||"SheetJS";ye="------="+ye;for(var _e=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ye.slice(2)+'"',"","",""],Ne=oe.FullPaths[0],He=Ne,Qe=oe.FileIndex[0],Ye=1;Ye<oe.FullPaths.length;++Ye)if(He=oe.FullPaths[Ye].slice(Ne.length),Qe=oe.FileIndex[Ye],!(!Qe.size||!Qe.content||He=="Sh33tJ5")){He=He.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Mt){return"_x"+Mt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Mt){return"_u"+Mt.charCodeAt(0).toString(16)+"_"});for(var Ve=Qe.content,Ge=wr&&Buffer.isBuffer(Ve)?Ve.toString("binary"):I(Ve),lt=0,ht=Math.min(1024,Ge.length),pt=0,ut=0;ut<=ht;++ut)(pt=Ge.charCodeAt(ut))>=32&&pt<128&&++lt;var mt=lt>=ht*4/5;_e.push(ye),_e.push("Content-Location: "+(xe.root||"file:///C:/SheetJS/")+He),_e.push("Content-Transfer-Encoding: "+(mt?"quoted-printable":"base64")),_e.push("Content-Type: "+It(Qe,He)),_e.push(""),_e.push(mt?ti(Ge):tr(Ge))}return _e.push(ye+`--\r
`),_e.join(`\r
`)}function ia(oe){var Se={};return k(Se,oe),Se}function Pt(oe,Se,xe,ye){var _e=ye&&ye.unsafe;_e||k(oe);var Ne=!_e&&Nr.find(oe,Se);if(!Ne){var He=oe.FullPaths[0];Se.slice(0,He.length)==He?He=Se:(He.slice(-1)!="/"&&(He+="/"),He=(He+Se).replace("//","/")),Ne={name:a(Se),type:2},oe.FileIndex.push(Ne),oe.FullPaths.push(He),_e||Nr.utils.cfb_gc(oe)}return Ne.content=xe,Ne.size=xe?xe.length:0,ye&&(ye.CLSID&&(Ne.clsid=ye.CLSID),ye.mt&&(Ne.mt=ye.mt),ye.ct&&(Ne.ct=ye.ct)),Ne}function sr(oe,Se){k(oe);var xe=Nr.find(oe,Se);if(xe){for(var ye=0;ye<oe.FileIndex.length;++ye)if(oe.FileIndex[ye]==xe)return oe.FileIndex.splice(ye,1),oe.FullPaths.splice(ye,1),!0}return!1}function mr(oe,Se,xe){k(oe);var ye=Nr.find(oe,Se);if(ye){for(var _e=0;_e<oe.FileIndex.length;++_e)if(oe.FileIndex[_e]==ye)return oe.FileIndex[_e].name=a(xe),oe.FullPaths[_e]=xe,!0}return!1}function $r(oe){S(oe,!0)}return t.find=A,t.read=C,t.parse=d,t.write=X,t.writeFile=G,t.utils={cfb_new:ia,cfb_add:Pt,cfb_del:sr,cfb_mov:mr,cfb_gc:$r,ReadShift:Lx,CheckField:Ez,prep_blob:Ya,bconcat:Au,use_zlib:E,_deflateRaw:Be,_inflateRaw:Dt,consts:Y},t}();function ble(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Dl(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function vE(e){for(var t=[],r=Dl(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var fw=new Date(1899,11,30,0,0,0);function qi(e,t){var r=e.getTime(),n=fw.getTime()+(e.getTimezoneOffset()-fw.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var cz=new Date,wle=fw.getTime()+(cz.getTimezoneOffset()-fw.getTimezoneOffset())*6e4,K$=cz.getTimezoneOffset();function w5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+wle),t.getTimezoneOffset()!==K$&&t.setTime(t.getTime()+(t.getTimezoneOffset()-K$)*6e4),t}function _le(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var X$=new Date("2017-02-19T19:06:09.000Z"),uz=isNaN(X$.getFullYear())?new Date("2/19/17"):X$,kle=uz.getFullYear()==2017;function Fa(e,t){var r=new Date(e);if(kle)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(uz.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Hf(e,t){if(wr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return fx(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return fx(XW(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return fx(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return fx(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Qa(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Qa(e[r]));return t}function Bn(e,t){for(var r="";r.length<t;)r+=e;return r}function Yo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Sle=["january","february","march","april","may","june","july","august","september","october","november","december"];function wp(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Sle.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Nle=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function dz(e){return e?e.content&&e.type?Hf(e.content,!0):e.data?cx(e.data):e.asNodeBuffer&&wr?cx(e.asNodeBuffer().toString("binary")):e.asBinary?cx(e.asBinary()):e._data&&e._data.getContent?cx(Hf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function fz(e){if(!e)return null;if(e.data)return I$(e.data);if(e.asNodeBuffer&&wr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?I$(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function jle(e){return e&&e.name.slice(-4)===".bin"?fz(e):dz(e)}function Ks(e,t){for(var r=e.FullPaths||Dl(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function yE(e,t){var r=Ks(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ua(e,t,r){if(!r)return jle(yE(e,t));if(!t)return null;try{return ua(e,t)}catch{return null}}function Ns(e,t,r){if(!r)return dz(yE(e,t));if(!t)return null;try{return Ns(e,t)}catch{return null}}function Cle(e,t,r){return fz(yE(e,t))}function Q$(e){for(var t=e.FullPaths||Dl(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Tle(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return wr?n=fh(r):n=Voe(r),Nr.utils.cfb_add(e,t,n)}Nr.utils.cfb_add(e,t,r)}else e.file(t,r)}function hz(e,t){switch(t.type){case"base64":return Nr.read(e,{type:"base64"});case"binary":return Nr.read(e,{type:"binary"});case"buffer":case"array":return Nr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function dx(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var pz=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Ale=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,J$=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Ele=/<[^>]*>/g,Ni=pz.match(J$)?J$:Ele,Ple=/<\w*:/,Ole=/<(\/?)\w+:/;function qt(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(Ale),o=0,l="",u=0,d="",f="",h=1;if(s)for(u=0;u!=s.length;++u){for(f=s[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=l,n[d.toLowerCase()]=l;else{var p=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[p]&&d.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function Wl(e){return e.replace(Ole,"<$1")}var mz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},$le=vE(mz),Pr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return mz[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),Dle=/[&<>'"]/g,Mle=/[\u0000-\u001f]/g;function bE(e){var t=e+"";return t.replace(Dle,function(r){return $le[r]}).replace(/\n/g,"<br/>").replace(Mle,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var Z$=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function kn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function t3(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function eD(e){var t=fd(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function tD(e){return fh(e,"binary").toString("utf8")}var Sb="foo bar bazâð£",pn=wr&&(tD(Sb)==t3(Sb)&&tD||eD(Sb)==t3(Sb)&&eD)||t3,fx=wr?function(e){return fh(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Sv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),gz=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Fle=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Lle=/<\/?(?:vt:)?variant>/g,Ile=/<(?:vt:)([^>]*)>([\s\S]*)</;function rD(e,t){var r=qt(e),n=e.match(Fle(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(Lle,"").match(Ile);s&&a.push({v:pn(s[2]),t:s[1]})}),a}var Rle=/(^\s|\s$|\n)/;function Ble(e){return Dl(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ule(e,t,r){return"<"+e+(r!=null?Ble(r):"")+(t!=null?(t.match(Rle)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function wE(e){if(wr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return pn(hh(mE(e)));throw new Error("Bad input format: expected Buffer or string")}var Nv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Wle={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},zle=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Hle(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function qle(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var nD=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},aD=wr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:fh(t)})):nD(e)}:nD,iD=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(pc(e,a)));return n.join("").replace(Ui,"")},_E=wr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ui,""):iD(e,t,r)}:iD,sD=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},xz=wr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):sD(e,t,r)}:sD,oD=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(w0(e,a)));return n.join("")},Ry=wr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):oD(t,r,n)}:oD,vz=function(e,t){var r=Ss(e,t);return r>0?Ry(e,t+4,t+4+r-1):""},yz=vz,bz=function(e,t){var r=Ss(e,t);return r>0?Ry(e,t+4,t+4+r-1):""},wz=bz,_z=function(e,t){var r=2*Ss(e,t);return r>0?Ry(e,t+4,t+4+r-1):""},kz=_z,Sz=function(t,r){var n=Ss(t,r);return n>0?_E(t,r+4,r+4+n):""},Nz=Sz,jz=function(e,t){var r=Ss(e,t);return r>0?Ry(e,t+4,t+4+r):""},Cz=jz,Tz=function(e,t){return Hle(e,t)},hw=Tz,Az=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};wr&&(yz=function(t,r){if(!Buffer.isBuffer(t))return vz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},wz=function(t,r){if(!Buffer.isBuffer(t))return bz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},kz=function(t,r){if(!Buffer.isBuffer(t))return _z(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Nz=function(t,r){if(!Buffer.isBuffer(t))return Sz(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Cz=function(t,r){if(!Buffer.isBuffer(t))return jz(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},hw=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Tz(t,r)},Az=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var w0=function(e,t){return e[t]},pc=function(e,t){return e[t+1]*256+e[t]},Yle=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ss=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},sf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Vle=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Lx(e,t){var r="",n,a,i=[],s,o,l,u;switch(t){case"dbcs":if(u=this.l,wr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(pc(this,u)),u+=2;e*=2;break;case"utf8":r=Ry(this,this.l,this.l+e);break;case"utf16le":e*=2,r=_E(this,this.l,this.l+e);break;case"wstr":return Lx.call(this,e,"dbcs");case"lpstr-ansi":r=yz(this,this.l),e=4+Ss(this,this.l);break;case"lpstr-cp":r=wz(this,this.l),e=4+Ss(this,this.l);break;case"lpwstr":r=kz(this,this.l),e=4+2*Ss(this,this.l);break;case"lpp4":e=4+Ss(this,this.l),r=Nz(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ss(this,this.l),r=Cz(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=w0(this,this.l+e++))!==0;)i.push(kb(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=pc(this,this.l+e))!==0;)i.push(kb(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=w0(this,u),this.l=u+1,o=Lx.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(kb(pc(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=w0(this,u),this.l=u+1,o=Lx.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(kb(w0(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=w0(this,this.l),this.l++,n;case 2:return n=(t==="i"?Yle:pc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?sf:Vle)(this,this.l),this.l+=4,n):(a=Ss(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=hw(this,this.l):a=hw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=xz(this,this.l,e);break}}return this.l+=e,r}var Gle=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Kle=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Xle=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Qle(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Xle(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Gle(this,t,this.l);break;case 8:if(n=8,r==="f"){qle(this,t,this.l);break}case 16:break;case-4:n=4,Kle(this,t,this.l);break}return this.l+=n,this}function Ez(e,t){var r=xz(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ya(e,t){e.l=t,e.read_shift=Lx,e.chk=Ez,e.write_shift=Qle}function Si(e,t){e.l+=t}function ya(e){var t=fd(e);return Ya(t,0),t}function Yc(e,t,r){if(e){var n,a,i;Ya(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=yw[o]||yw[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=l,t(d,u,o))return}}}function Wj(){var e=[],t=wr?256:2048,r=function(u){var d=ya(u);return Ya(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},s=function(){return a(),Au(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function Ix(e,t,r){var n=Qa(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function lD(e,t,r){var n=Qa(e);return n.s=Ix(n.s,t.s,r),n.e=Ix(n.e,t.s,r),n}function Rx(e,t){if(e.cRel&&e.c<0)for(e=Qa(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Qa(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Jt(e);return!e.cRel&&e.cRel!=null&&(r=ece(r)),!e.rRel&&e.rRel!=null&&(r=Jle(r)),r}function r3(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ka(e.s.c)+":"+(e.e.cRel?"":"$")+ka(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ja(e.s.r)+":"+(e.e.rRel?"":"$")+Ja(e.e.r):Rx(e.s,t.biff)+":"+Rx(e.e,t.biff)}function kE(e){return parseInt(Zle(e),10)-1}function Ja(e){return""+(e+1)}function Jle(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Zle(e){return e.replace(/\$(\d+)$/,"$1")}function SE(e){for(var t=tce(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ka(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function ece(e){return e.replace(/^([A-Z])/,"$$$1")}function tce(e){return e.replace(/^\$([A-Z])/,"$1")}function rce(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Mi(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Jt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function vm(e){var t=e.indexOf(":");return t==-1?{s:Mi(e),e:Mi(e)}:{s:Mi(e.slice(0,t)),e:Mi(e.slice(t+1))}}function jr(e,t){return typeof t>"u"||typeof t=="number"?jr(e.s,e.e):(typeof e!="string"&&(e=Jt(e)),typeof t!="string"&&(t=Jt(t)),e==t?e:e+":"+t)}function zn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function cD(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=po(e.z,r?qi(t):t)}catch{}try{return e.w=po((e.XF||{}).numFmtId||(r?14:0),r?qi(t):t)}catch{return""+t}}function Rc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?gh[e.v]||e.v:t==null?cD(e,e.v):cD(e,t))}function Ed(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Pz(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Mi(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=zn(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},m=s+f,g=o+h;if(u.s.r>m&&(u.s.r=m),u.s.c>g&&(u.s.c=g),u.e.r<m&&(u.e.r=m),u.e.c<g&&(u.e.c=g),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||nr[14],n.cellDates?(p.t="d",p.w=po(p.z,qi(p.v))):(p.t="n",p.v=qi(p.v),p.w=po(p.z,p.v))):p.t="s";if(a)i[m]||(i[m]=[]),i[m][g]&&i[m][g].z&&(p.z=i[m][g].z),i[m][g]=p;else{var v=Jt({c:g,r:m});i[v]&&i[v].z&&(p.z=i[v].z),i[v]=p}}}return u.s.c<1e7&&(i["!ref"]=jr(u)),i}function ym(e,t){return Pz(null,e,t)}function nce(e){return e.read_shift(4,"i")}function _i(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ace(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function NE(e,t){var r=e.l,n=e.read_shift(1),a=_i(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(ace(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var ice=NE;function xo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function ph(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var sce=_i;function jE(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var oce=_i,zj=jE;function CE(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?hw([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):sf(t,0)>>2;return r?a/100:a}function Oz(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var mh=Oz;function yi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function lce(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Af[a];u&&(t.rgb=Cv(u));break;case 2:t.rgb=Cv([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function cce(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function $z(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function uce(e){return $z(e,1)}function dce(e){return $z(e,2)}var TE=2,as=3,Nb=11,uD=12,pw=19,jb=64,fce=65,hce=71,pce=4108,mce=4126,Pa=80,Dz=81,gce=[Pa,Dz],xce={1:{n:"CodePage",t:TE},2:{n:"Category",t:Pa},3:{n:"PresentationFormat",t:Pa},4:{n:"ByteCount",t:as},5:{n:"LineCount",t:as},6:{n:"ParagraphCount",t:as},7:{n:"SlideCount",t:as},8:{n:"NoteCount",t:as},9:{n:"HiddenCount",t:as},10:{n:"MultimediaClipCount",t:as},11:{n:"ScaleCrop",t:Nb},12:{n:"HeadingPairs",t:pce},13:{n:"TitlesOfParts",t:mce},14:{n:"Manager",t:Pa},15:{n:"Company",t:Pa},16:{n:"LinksUpToDate",t:Nb},17:{n:"CharacterCount",t:as},19:{n:"SharedDoc",t:Nb},22:{n:"HyperlinksChanged",t:Nb},23:{n:"AppVersion",t:as,p:"version"},24:{n:"DigSig",t:fce},26:{n:"ContentType",t:Pa},27:{n:"ContentStatus",t:Pa},28:{n:"Language",t:Pa},29:{n:"Version",t:Pa},255:{},2147483648:{n:"Locale",t:pw},2147483651:{n:"Behavior",t:pw},1919054434:{}},vce={1:{n:"CodePage",t:TE},2:{n:"Title",t:Pa},3:{n:"Subject",t:Pa},4:{n:"Author",t:Pa},5:{n:"Keywords",t:Pa},6:{n:"Comments",t:Pa},7:{n:"Template",t:Pa},8:{n:"LastAuthor",t:Pa},9:{n:"RevNumber",t:Pa},10:{n:"EditTime",t:jb},11:{n:"LastPrinted",t:jb},12:{n:"CreatedDate",t:jb},13:{n:"ModifiedDate",t:jb},14:{n:"PageCount",t:as},15:{n:"WordCount",t:as},16:{n:"CharCount",t:as},17:{n:"Thumbnail",t:hce},18:{n:"Application",t:Pa},19:{n:"DocSecurity",t:as},255:{},2147483648:{n:"Locale",t:pw},2147483651:{n:"Behavior",t:pw},1919054434:{}},dD={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},yce=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function bce(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var wce=bce([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Af=Qa(wce),gh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Mz={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},fD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function _ce(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function kce(e){var t=_ce();if(!e||!e.match)return t;var r={};if((e.match(Ni)||[]).forEach(function(n){var a=qt(n);switch(a[0].replace(Ple,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[fD[a.ContentType]]!==void 0&&t[fD[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Wle.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var F0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Hj(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Bx(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ni)||[]).forEach(function(a){var i=qt(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:dx(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}var Sce="application/vnd.oasis.opendocument.spreadsheet";function Nce(e,t){for(var r=wE(e),n,a;n=Nv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=qt(n[0],!1),a.path=="/"&&a.type!==Sce)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Ux=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],jce=function(){for(var e=new Array(Ux.length),t=0;t<Ux.length;++t){var r=Ux[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Fz(e){var t={};e=pn(e);for(var r=0;r<Ux.length;++r){var n=Ux[r],a=e.match(jce[r]);a!=null&&a.length>0&&(t[n[1]]=Pr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Fa(t[n[1]]))}return t}var Cce=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Lz(e,t,r,n){var a=[];if(typeof e=="string")a=rD(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var s=typeof t=="string"?rD(t,n).map(function(d){return d.v}):t,o=0,l=0;if(s.length>0)for(var u=0;u!==a.length;u+=2){switch(l=+a[u+1].v,a[u].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function Tce(e,t,r){var n={};return t||(t={}),e=pn(e),Cce.forEach(function(a){var i=(e.match(Sv(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Pr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Lz(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Ace=/<[^>]+>[^<]*/g;function Ece(e,t){var r={},n="",a=e.match(Ace);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=qt(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Pr(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),u=l[0].slice(4),d=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Pr(d);break;case"bool":r[n]=kn(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Fa(d);break;case"cy":case"error":r[n]=Pr(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var Pce={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},n3;function Oce(e,t,r){n3||(n3=vE(Pce)),t=n3[t]||t,e[t]=r}function AE(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Iz(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Rz(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function Bz(e,t,r){return t===31?Rz(e):Iz(e,t,r)}function qj(e,t,r){return Bz(e,t,r===!1?0:4)}function $ce(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Bz(e,t,0)}function Dce(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Ui,""),e.l-a&2&&(e.l+=2)}return r}function Mce(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Ui,"");return r}function Fce(e){var t=e.l,r=mw(e,Dz);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=mw(e,as);return[r,n]}function Lce(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Fce(e));return r}function hD(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(Ui,"").replace(ux,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function Uz(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Ice(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function mw(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==uD&&n!==t&&gce.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===uD?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Iz(e,n,4).replace(Ui,"");case 31:return Rz(e);case 64:return AE(e);case 65:return Uz(e);case 71:return Ice(e);case 80:return qj(e,n,!i.raw).replace(Ui,"");case 81:return $ce(e,n).replace(Ui,"");case 4108:return Lce(e);case 4126:case 4127:return n==4127?Dce(e):Mce(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function pD(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,u={};for(s=0;s!=a;++s){var d=e.read_shift(4),f=e.read_shift(4);i[s]=[d,f+r]}i.sort(function(y,b){return y[1]-b[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var m=t[i[s][0]];if(h[m.n]=mw(e,m.t,{raw:!0}),m.p==="version"&&(h[m.n]=String(h[m.n]>>16)+"."+("0000"+String(h[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(h[m.n]){case 0:h[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Uo(o=h[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[m.n])}}else if(i[s][0]===1){if(o=h.CodePage=mw(e,TE),Uo(o),l!==-1){var g=e.l;e.l=i[l][1],u=hD(e,o),e.l=g}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}u=hD(e,o)}else{var v=u[i[s][0]],x;switch(e[e.l]){case 65:e.l+=4,x=Uz(e);break;case 30:e.l+=4,x=qj(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,x=qj(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,x=e.read_shift(4,"i");break;case 19:e.l+=4,x=e.read_shift(4);break;case 5:e.l+=4,x=e.read_shift(8,"f");break;case 11:e.l+=4,x=Gn(e,4);break;case 64:e.l+=4,x=Fa(AE(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=x}}return e.l=r+n,h}function mD(e,t,r){var n=e.content;if(!n)return{};Ya(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Nr.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=pD(n,t),h={SystemIdentifier:u};for(var p in f)h[p]=f[p];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var m;try{m=pD(n,null)}catch{}for(p in m)h[p]=m[p];return h.FMTID=[i,s],h}function gu(e,t){return e.read_shift(t),null}function Rce(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Gn(e,t){return e.read_shift(t)===1}function da(e){return e.read_shift(2,"u")}function Wz(e,t){return Rce(e,t,da)}function Bce(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function By(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function Uce(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=d,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function qf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Uy(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):qf(e,n,r)}function xh(e,t,r){if(r.biff>5)return Uy(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Wce(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function zce(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Ui,"");return n&&(e.l+=24),a}function Hce(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(Ui,"");return r+s}function qce(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return zce(e);case"0303000000000000c000000000000046":return Hce(e);default:throw new Error("Unsupported Moniker "+r)}}function Cb(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Ui,""):"";return r}function Yce(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,u="",d,f;a&16&&(i=Cb(e,r-e.l)),a&128&&(s=Cb(e,r-e.l)),(a&257)===257&&(o=Cb(e,r-e.l)),(a&257)===1&&(l=qce(e,r-e.l)),a&8&&(u=Cb(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=AE(e)),e.l=r;var h=s||o||l||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return d&&(p.guid=d),f&&(p.time=f),i&&(p.Tooltip=i),p}function zz(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function Hz(e,t){var r=zz(e);return r[3]=0,r}function zl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Vce(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Gce(e,t,r){return t===0?"":xh(e,t,r)}function Kce(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function qz(e){var t=e.read_shift(2),r=CE(e);return[t,r]}function Xce(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=By(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function _5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Yz(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var Qce=Yz;function Vz(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function Jce(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Zce(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function fi(e){e.l+=2,e.l+=e.read_shift(2)}var eue={0:fi,4:fi,5:fi,6:fi,7:Zce,8:fi,9:fi,10:fi,11:fi,12:fi,13:Jce,14:fi,15:fi,16:fi,17:fi,18:fi,19:fi,20:fi,21:Vz};function tue(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(eue[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Tb(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function rue(e,t){return t===0||e.read_shift(2),1200}function nue(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=xh(e,0,r);return e.read_shift(t+n-e.l),a}function aue(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function iue(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=By(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function sue(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(Uce(e));return i.Count=n,i.Unique=a,i}function oue(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function lue(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function cue(e){var t=Vce(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function uue(e){return e.read_shift(2),e.read_shift(4)}function gD(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function due(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:u}}function fue(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function hue(){}function pue(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=By(e,0,r),n}function mue(e){var t=zl(e);return t.isst=e.read_shift(4),t}function gue(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=zl(e);r.biff==2&&e.l++;var i=Uy(e,n-e.l,r);return a.val=i,a}function xue(e,t,r){var n=e.read_shift(2),a=xh(e,0,r);return[n,a]}var vue=xh;function xD(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function yue(e){var t=e.read_shift(2),r=e.read_shift(2),n=qz(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function bue(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(qz(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function wue(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function _ue(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=yce[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function kue(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=_ue(e,t,n.fStyle,r),n}function Sue(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function vD(e,t,r){var n=zl(e);(r.biff==2||t==9)&&++e.l;var a=Bce(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Nue(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=zl(e),a=yi(e);return n.val=a,n}var yD=Gce;function jue(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=qf(e,i),o=[];n>e.l;)o.push(Uy(e));return[i,a,s,o]}function bD(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=Xce(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var Cue=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function wD(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=qf(e,s,r);a&32&&(u=Cue[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||o===0||!(d>0)?[]:l0e(e,d,r,o);return{chKey:i,Name:u,itab:l,rgce:f}}function Gz(e,t,r){if(r.biff<8)return Tue(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Kce(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Tue(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=By(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Aue(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=qf(e,n,r),s=qf(e,a,r);return[i,s]}function Eue(e,t,r){var n=Yz(e);e.l++;var a=e.read_shift(1);return t-=8,[c0e(e,t,r),a,n]}function _D(e,t,r){var n=Qce(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,s0e(e,t,r)]}function Pue(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Oue(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=xh(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function $ue(e,t,r){return Oue(e,t,r)}function Due(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(_5(e));return r}function Mue(e,t,r){if(r&&r.biff<8)return Lue(e,t,r);var n=Vz(e),a=tue(e,t-22,n[1]);return{cmo:n,ft:a}}var Fue={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function Lue(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((Fue[n]||Si)(e,t,r)),{cmo:[a,n,i],ft:s}}function Iue(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=Wce(e,6,r);var o=e.read_shift(2);e.read_shift(2),da(e,2);var l=e.read_shift(2);e.l+=l;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=qf(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function Rue(e,t){var r=_5(e);e.l+=16;var n=Yce(e,t-24);return[r,n]}function Bue(e,t){e.read_shift(2);var r=_5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Ui,""),[r,n]}function Uue(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=dD[r]||r,r=e.read_shift(2),t[1]=dD[r]||r,t}function Wue(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Hz(e));return r}function zue(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Hz(e));return r}function Hue(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Kz(e,t,r){if(!r.cellStyles)return Si(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function que(e,t){var r={};return t<32||(e.l+=16,r.header=yi(e),r.footer=yi(e),e.l+=2),r}function Yue(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var Vue=zl,Gue=Wz,Kue=Uy;function Xue(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function Que(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=zl(e);++e.l;var a=xh(e,t-7,r);return n.t="str",n.val=a,n}function Jue(e){var t=zl(e);++e.l;var r=yi(e);return t.t="n",t.val=r,t}function Zue(e){var t=zl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function ede(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function tde(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function rde(e,t,r){var n=e.l+t,a=zl(e),i=e.read_shift(2),s=qf(e,i,r);return e.l=n,a.t="str",a.val=s,a}var nde=[2,3,48,49,131,139,140,245],kD=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=vE({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var u=[],d=fd(1);switch(l.type){case"base64":d=Ro($s(o));break;case"binary":d=Ro(o);break;case"buffer":case"array":d=o;break}Ya(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,m=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,v=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(v=d.read_shift(2));var x=d.read_shift(2),y=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(y=e[d[d.l]]),d.l+=1,d.l+=2),m&&(d.l+=36);for(var b=[],N={},_=Math.min(d.length,f==2?521:v-10-(p?264:0)),C=m?32:11;d.l<_&&d[d.l]!=13;)switch(N={},N.name=Uj.utils.decode(y,d.slice(d.l,d.l+C)).replace(/[\u0000\r\n].*$/g,""),d.l+=C,N.type=String.fromCharCode(d.read_shift(1)),f!=2&&!m&&(N.offset=d.read_shift(4)),N.len=d.read_shift(1),f==2&&(N.offset=d.read_shift(2)),N.dec=d.read_shift(1),N.name.length&&b.push(N),f!=2&&(d.l+=m?13:14),N.type){case"B":(!p||N.len!=8)&&l.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var k=0,w=0;for(u[0]=[],w=0;w!=b.length;++w)u[0][w]=b[w].name;for(;g-- >0;){if(d[d.l]===42){d.l+=x;continue}for(++d.l,u[++k]=[],w=0,w=0;w!=b.length;++w){var S=d.slice(d.l,d.l+b[w].len);d.l+=b[w].len,Ya(S,0);var P=Uj.utils.decode(y,S);switch(b[w].type){case"C":P.trim().length&&(u[k][w]=P.replace(/\s+$/,""));break;case"D":P.length===8?u[k][w]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):u[k][w]=P;break;case"F":u[k][w]=parseFloat(P.trim());break;case"+":case"I":u[k][w]=m?S.read_shift(-4,"i")^2147483648:S.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":u[k][w]=!0;break;case"N":case"F":u[k][w]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[k][w]="##MEMO##"+(m?parseInt(P.trim(),10):S.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(u[k][w]=+P||0);break;case"@":u[k][w]=new Date(S.read_shift(-8,"f")-621356832e5);break;case"T":u[k][w]=new Date((S.read_shift(4)-2440588)*864e5+S.read_shift(4));break;case"Y":u[k][w]=S.read_shift(4,"i")/1e4+S.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[k][w]=-S.read_shift(-8,"f");break;case"B":if(p&&b[w].len==8){u[k][w]=S.read_shift(8,"f");break}case"G":case"P":S.l+=b[w].len;break;case"0":if(b[w].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[w].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=b,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var d=ym(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(o,l){try{return Ed(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var u=l||{};if(+u.codepage>=0&&Uo(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Wj(),f=Qj(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),m=o["!cols"]||[],g=0,v=0,x=0,y=1;for(g=0;g<h.length;++g){if(((m[g]||{}).DBF||{}).name){h[g]=m[g].DBF.name,++x;continue}if(h[g]!=null){if(++x,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(v=0;v<1024;++v)if(h.indexOf(h[g]+"_"+v)==-1){h[g]+="_"+v;break}}}}var b=zn(o["!ref"]),N=[],_=[],C=[];for(g=0;g<=b.e.c-b.s.c;++g){var k="",w="",S=0,P=[];for(v=0;v<p.length;++v)p[v][g]!=null&&P.push(p[v][g]);if(P.length==0||h[g]==null){N[g]="?";continue}for(v=0;v<P.length;++v){switch(typeof P[v]){case"number":w="B";break;case"string":w="C";break;case"boolean":w="L";break;case"object":w=P[v]instanceof Date?"D":"C";break;default:w="C"}S=Math.max(S,String(P[v]).length),k=k&&k!=w?"C":w}S>250&&(S=250),w=((m[g]||{}).DBF||{}).type,w=="C"&&m[g].DBF.len>S&&(S=m[g].DBF.len),k=="B"&&w=="N"&&(k="N",C[g]=m[g].DBF.dec,S=m[g].DBF.len),_[g]=k=="C"||w=="N"?S:i[k]||0,y+=_[g],N[g]=k}var A=d.next(32);for(A.write_shift(4,318902576),A.write_shift(4,p.length),A.write_shift(2,296+32*x),A.write_shift(2,y),g=0;g<4;++g)A.write_shift(4,0);for(A.write_shift(4,0|(+t[GW]||3)<<8),g=0,v=0;g<h.length;++g)if(h[g]!=null){var T=d.next(32),F=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,F,"sbcs"),T.write_shift(1,N[g]=="?"?"C":N[g],"sbcs"),T.write_shift(4,v),T.write_shift(1,_[g]||i[N[g]]||0),T.write_shift(1,C[g]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),v+=_[g]||i[N[g]]||0}var M=d.next(264);for(M.write_shift(4,13),g=0;g<65;++g)M.write_shift(4,0);for(g=0;g<p.length;++g){var H=d.next(y);for(H.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(N[v]){case"L":H.write_shift(1,p[g][v]==null?63:p[g][v]?84:70);break;case"B":H.write_shift(8,p[g][v]||0,"f");break;case"N":var z="0";for(typeof p[g][v]=="number"&&(z=p[g][v].toFixed(C[v]||0)),x=0;x<_[v]-z.length;++x)H.write_shift(1,32);H.write_shift(1,z,"sbcs");break;case"D":p[g][v]?(H.write_shift(4,("0000"+p[g][v].getFullYear()).slice(-4),"sbcs"),H.write_shift(2,("00"+(p[g][v].getMonth()+1)).slice(-2),"sbcs"),H.write_shift(2,("00"+p[g][v].getDate()).slice(-2),"sbcs")):H.write_shift(8,"00000000","sbcs");break;case"C":var Y=String(p[g][v]!=null?p[g][v]:"").slice(0,_[v]);for(H.write_shift(1,Y,"sbcs"),x=0;x<_[v]-Y.length;++x)H.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),ade=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Dl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var m=e[p];return typeof m=="number"?R$(m):m},n=function(h,p,m){var g=p.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return g==59?h:R$(g)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i($s(h),p);case"binary":return i(h,p);case"buffer":return i(wr&&Buffer.isBuffer(h)?h.toString("binary"):hh(h),p);case"array":return i(Hf(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var m=h.split(/[\n\r]+/),g=-1,v=-1,x=0,y=0,b=[],N=[],_=null,C={},k=[],w=[],S=[],P=0,A;for(+p.codepage>=0&&Uo(+p.codepage);x!==m.length;++x){P=0;var T=m[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),F=T.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),M=F[0],H;if(T.length>0)switch(M){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&N.push(T.slice(3).replace(/;;/g,";"));break;case"C":var z=!1,Y=!1,G=!1,I=!1,X=-1,J=-1;for(y=1;y<F.length;++y)switch(F[y].charAt(0)){case"A":break;case"X":v=parseInt(F[y].slice(1))-1,Y=!0;break;case"Y":for(g=parseInt(F[y].slice(1))-1,Y||(v=0),A=b.length;A<=g;++A)b[A]=[];break;case"K":H=F[y].slice(1),H.charAt(0)==='"'?H=H.slice(1,H.length-1):H==="TRUE"?H=!0:H==="FALSE"?H=!1:isNaN(Yo(H))?isNaN(wp(H).getDate())||(H=Fa(H)):(H=Yo(H),_!==null&&xm(_)&&(H=w5(H))),z=!0;break;case"E":I=!0;var E=X0(F[y].slice(1),{r:g,c:v});b[g][v]=[b[g][v],E];break;case"S":G=!0,b[g][v]=[b[g][v],"S5S"];break;case"G":break;case"R":X=parseInt(F[y].slice(1))-1;break;case"C":J=parseInt(F[y].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}if(z&&(b[g][v]&&b[g][v].length==2?b[g][v][0]=H:b[g][v]=H,_=null),G){if(I)throw new Error("SYLK shared formula cannot have own formula");var R=X>-1&&b[X][J];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");b[g][v][1]=iH(R[1],{r:g-X,c:v-J})}break;case"F":var B=0;for(y=1;y<F.length;++y)switch(F[y].charAt(0)){case"X":v=parseInt(F[y].slice(1))-1,++B;break;case"Y":for(g=parseInt(F[y].slice(1))-1,A=b.length;A<=g;++A)b[A]=[];break;case"M":P=parseInt(F[y].slice(1))/20;break;case"F":break;case"G":break;case"P":_=N[parseInt(F[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(S=F[y].slice(1).split(" "),A=parseInt(S[0],10);A<=parseInt(S[1],10);++A)P=parseInt(S[2],10),w[A-1]=P===0?{hidden:!0}:{wch:P},_p(w[A-1]);break;case"C":v=parseInt(F[y].slice(1))-1,w[v]||(w[v]={});break;case"R":g=parseInt(F[y].slice(1))-1,k[g]||(k[g]={}),P>0?(k[g].hpt=P,k[g].hpx=Tv(P)):P===0&&(k[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}B<1&&(_=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}}return k.length>0&&(C["!rows"]=k),w.length>0&&(C["!cols"]=w),p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),[b,C]}function s(h,p){var m=a(h,p),g=m[0],v=m[1],x=ym(g,p);return Dl(v).forEach(function(y){x[y]=v[y]}),x}function o(h,p){return Ed(s(h,p),p)}function l(h,p,m,g){var v="C;Y"+(m+1)+";X"+(g+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+Hfe(h.f,{r:m,c:g}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(h,p){p.forEach(function(m,g){var v="F;W"+(g+1)+" "+(g+1)+" ";m.hidden?v+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=xw(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=vw(m.wpx)),typeof m.wch=="number"&&(v+=Math.round(m.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function d(h,p){p.forEach(function(m,g){var v="F;";m.hidden?v+="M0;":m.hpt?v+="M"+20*m.hpt+";":m.hpx&&(v+="M"+20*rH(m.hpx)+";"),v.length>2&&h.push(v+"R"+(g+1))})}function f(h,p){var m=["ID;PWXL;N;E"],g=[],v=zn(h["!ref"]),x,y=Array.isArray(h),b=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),h["!cols"]&&u(m,h["!cols"]),h["!rows"]&&d(m,h["!rows"]),m.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var N=v.s.r;N<=v.e.r;++N)for(var _=v.s.c;_<=v.e.c;++_){var C=Jt({r:N,c:_});x=y?(h[N]||[])[_]:h[C],!(!x||x.v==null&&(!x.f||x.F))&&g.push(l(x,h,N,_))}return m.join(b)+b+g.join(b)+b+"E"+b}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),ide=function(){function e(i,s){switch(s.type){case"base64":return t($s(i),s);case"binary":return t(i,s);case"buffer":return t(wr&&Buffer.isBuffer(i)?i.toString("binary"):hh(i),s);case"array":return t(Hf(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var h=o[d].trim().split(","),p=h[0],m=h[1];++d;for(var g=o[d]||"";(g.match(/["]/g)||[]).length&1&&d<o.length-1;)g+=`
`+o[++d];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++l]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][u]=!0:g==="FALSE"?f[l][u]=!1:isNaN(Yo(m))?isNaN(wp(m).getDate())?f[l][u]=m:f[l][u]=Fa(m):f[l][u]=Yo(m),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][u++]=g!==""?g:null;break}if(g==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return ym(e(i,s),s)}function n(i,s){return Ed(r(i,s),s)}var a=function(){var i=function(l,u,d,f,h){l.push(u),l.push(d+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,u,d,f){l.push(u+","+d),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],d=zn(l["!ref"]),f,h=Array.isArray(l);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){s(u,-1,0,"BOT");for(var m=d.s.c;m<=d.e.c;++m){var g=Jt({r:p,c:m});if(f=h?(l[p]||[])[m]:l[g],!f){s(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,v,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=po(f.z||nr[14],qi(Fa(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var x=`\r
`,y=u.join(x);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),sde=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),m=-1,g=-1,v=0,x=[];v!==p.length;++v){var y=p[v].trim().split(":");if(y[0]==="cell"){var b=Mi(y[1]);if(x.length<=b.r)for(m=x.length;m<=b.r;++m)x[m]||(x[m]=[]);switch(m=b.r,g=b.c,y[2]){case"t":x[m][g]=e(y[3]);break;case"v":x[m][g]=+y[3];break;case"vtf":var N=y[y.length-1];case"vtc":switch(y[3]){case"nl":x[m][g]=!!+y[4];break;default:x[m][g]=+y[4];break}y[2]=="vtf"&&(x[m][g]=[x[m][g],N])}}}return h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),x}function n(f,h){return ym(r(f,h),h)}function a(f,h){return Ed(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],m,g="",v=vm(f["!ref"]),x=Array.isArray(f),y=v.s.r;y<=v.e.r;++y)for(var b=v.s.c;b<=v.e.c;++b)if(g=Jt({r:y,c:b}),m=x?(f[y]||[])[b]:f[g],!(!m||m.v==null||m.t==="z")){switch(p=["cell",g,"t"],m.t){case"s":case"str":p.push(t(m.v));break;case"n":m.f?(p[2]="vtf",p[3]="n",p[4]=m.v,p[5]=t(m.f)):(p[2]="v",p[3]=m.v);break;case"b":p[2]="vt"+(m.f?"f":"c"),p[3]="nl",p[4]=m.v?"1":"0",p[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var N=qi(Fa(m.v));p[2]="vtc",p[3]="nd",p[4]=""+N,p[5]=m.w||po(m.z||nr[14],N);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,s,o,s,u(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),jv=function(){function e(d,f,h,p,m){m.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(Yo(d))?isNaN(wp(d).getDate())?f[h][p]=d:f[h][p]=Fa(d):f[h][p]=Yo(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var m=d.split(/[\r\n]/),g=m.length-1;g>=0&&m[g].length===0;)--g;for(var v=10,x=0,y=0;y<=g;++y)x=m[y].indexOf(" "),x==-1?x=m[y].length:x++,v=Math.max(v,x);for(y=0;y<=g;++y){p[y]=[];var b=0;for(e(m[y].slice(0,v).trim(),p,y,b,h),b=1;b<=(m[y].length-v)/10+1;++b)e(m[y].slice(v+(b-1)*10,v+b*10).trim(),p,y,b,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,m=0;p<d.length;++p)(m=d.charCodeAt(p))==34?h=!h:!h&&m in r&&(f[m]=(f[m]||0)+1);m=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p]);if(!m.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p])}return m.sort(function(g,v){return g[0]-v[0]||n[g[1]]-n[v[1]]}),r[m.pop()[1]]||44}function i(d,f){var h=f||{},p="",m=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var v=0,x=0,y=0,b=0,N=0,_=p.charCodeAt(0),C=!1,k=0,w=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var S=h.dateNF!=null?xle(h.dateNF):null;function P(){var A=d.slice(b,N),T={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)T.t="z";else if(h.raw)T.t="s",T.v=A;else if(A.trim().length===0)T.t="s",T.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(T.t="s",T.v=A.slice(2,-1).replace(/""/g,'"')):Yfe(A)?(T.t="n",T.f=A.slice(1)):(T.t="s",T.v=A);else if(A=="TRUE")T.t="b",T.v=!0;else if(A=="FALSE")T.t="b",T.v=!1;else if(!isNaN(y=Yo(A)))T.t="n",h.cellText!==!1&&(T.w=A),T.v=y;else if(!isNaN(wp(A).getDate())||S&&A.match(S)){T.z=h.dateNF||nr[14];var F=0;S&&A.match(S)&&(A=vle(A,h.dateNF,A.match(S)||[]),F=1),h.cellDates?(T.t="d",T.v=Fa(A,F)):(T.t="n",T.v=qi(Fa(A,F))),h.cellText!==!1&&(T.w=po(T.z,T.v instanceof Date?qi(T.v):T.v)),h.cellNF||delete T.z}else T.t="s",T.v=A;if(T.t=="z"||(h.dense?(m[v]||(m[v]=[]),m[v][x]=T):m[Jt({c:x,r:v})]=T),b=N+1,w=d.charCodeAt(b),g.e.c<x&&(g.e.c=x),g.e.r<v&&(g.e.r=v),k==_)++x;else if(x=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;N<d.length;++N)switch(k=d.charCodeAt(N)){case 34:w===34&&(C=!C);break;case _:case 10:case 13:if(!C&&P())break e;break}return N-b>0&&P(),m["!ref"]=jr(g),m}function s(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):ym(t(d,f),f)}function o(d,f){var h="",p=f.type=="string"?[0,0,0,0]:LE(d,f);switch(f.type){case"base64":h=$s(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):(f.codepage,h=wr&&Buffer.isBuffer(d)?d.toString("binary"):hh(d));break;case"array":h=Hf(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=pn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=pn(h):f.type=="binary",h.slice(0,19)=="socialcalc:version:"?sde.to_sheet(f.type=="string"?h:pn(h),f):s(h,f)}function l(d,f){return Ed(o(d,f),f)}function u(d){for(var f=[],h=zn(d["!ref"]),p,m=Array.isArray(d),g=h.s.r;g<=h.e.r;++g){for(var v=[],x=h.s.c;x<=h.e.c;++x){var y=Jt({r:g,c:x});if(p=m?(d[g]||[])[x]:d[y],!p||p.v==null){v.push("          ");continue}for(var b=(p.w||(Rc(p),p.w)||"").slice(0,10);b.length<10;)b+=" ";v.push(b+(x===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}();function ode(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=ade.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return jv.to_workbook(e,t)}}var Wx=function(){function e(E,R,B){if(E){Ya(E,E.l||0);for(var q=B.Enum||X;E.l<E.length;){var K=E.read_shift(2),ae=q[K]||q[65535],ee=E.read_shift(2),W=E.l+ee,Z=ae.f&&ae.f(E,ee,B);if(E.l=W,R(Z,ae,K))return}}}function t(E,R){switch(R.type){case"base64":return r(Ro($s(E)),R);case"binary":return r(Ro(E),R);case"buffer":case"array":return r(E,R)}throw"Unsupported type "+R.type}function r(E,R){if(!E)return E;var B=R||{},q=B.dense?[]:{},K="Sheet1",ae="",ee=0,W={},Z=[],re=[],O={s:{r:0,c:0},e:{r:0,c:0}},de=B.sheetRows||0;if(E[2]==0&&(E[3]==8||E[3]==9)&&E.length>=16&&E[14]==5&&E[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(E[2]==2)B.Enum=X,e(E,function(ne,Ae,Ee){switch(Ee){case 0:B.vers=ne,ne>=4096&&(B.qpro=!0);break;case 6:O=ne;break;case 204:ne&&(ae=ne);break;case 222:ae=ne;break;case 15:case 51:B.qpro||(ne[1].v=ne[1].v.slice(1));case 13:case 14:case 16:Ee==14&&(ne[2]&112)==112&&(ne[2]&15)>1&&(ne[2]&15)<15&&(ne[1].z=B.dateNF||nr[14],B.cellDates&&(ne[1].t="d",ne[1].v=w5(ne[1].v))),B.qpro&&ne[3]>ee&&(q["!ref"]=jr(O),W[K]=q,Z.push(K),q=B.dense?[]:{},O={s:{r:0,c:0},e:{r:0,c:0}},ee=ne[3],K=ae||"Sheet"+(ee+1),ae="");var De=B.dense?(q[ne[0].r]||[])[ne[0].c]:q[Jt(ne[0])];if(De){De.t=ne[1].t,De.v=ne[1].v,ne[1].z!=null&&(De.z=ne[1].z),ne[1].f!=null&&(De.f=ne[1].f);break}B.dense?(q[ne[0].r]||(q[ne[0].r]=[]),q[ne[0].r][ne[0].c]=ne[1]):q[Jt(ne[0])]=ne[1];break}},B);else if(E[2]==26||E[2]==14)B.Enum=J,E[2]==14&&(B.qpro=!0,E.l=0),e(E,function(ne,Ae,Ee){switch(Ee){case 204:K=ne;break;case 22:ne[1].v=ne[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ne[3]>ee&&(q["!ref"]=jr(O),W[K]=q,Z.push(K),q=B.dense?[]:{},O={s:{r:0,c:0},e:{r:0,c:0}},ee=ne[3],K="Sheet"+(ee+1)),de>0&&ne[0].r>=de)break;B.dense?(q[ne[0].r]||(q[ne[0].r]=[]),q[ne[0].r][ne[0].c]=ne[1]):q[Jt(ne[0])]=ne[1],O.e.c<ne[0].c&&(O.e.c=ne[0].c),O.e.r<ne[0].r&&(O.e.r=ne[0].r);break;case 27:ne[14e3]&&(re[ne[14e3][0]]=ne[14e3][1]);break;case 1537:re[ne[0]]=ne[1],ne[0]==ee&&(K=ne[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+E[2]);if(q["!ref"]=jr(O),W[ae||K]=q,Z.push(ae||K),!re.length)return{SheetNames:Z,Sheets:W};for(var ce={},pe=[],Q=0;Q<re.length;++Q)W[Z[Q]]?(pe.push(re[Q]||Z[Q]),ce[re[Q]]=W[re[Q]]||W[Z[Q]]):(pe.push(re[Q]),ce[re[Q]]={"!ref":"A1"});return{SheetNames:pe,Sheets:ce}}function n(E,R){var B=R||{};if(+B.codepage>=0&&Uo(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var q=Wj(),K=zn(E["!ref"]),ae=Array.isArray(E),ee=[];Ao(q,0,i(1030)),Ao(q,6,l(K));for(var W=Math.min(K.e.r,8191),Z=K.s.r;Z<=W;++Z)for(var re=Ja(Z),O=K.s.c;O<=K.e.c;++O){Z===K.s.r&&(ee[O]=ka(O));var de=ee[O]+re,ce=ae?(E[Z]||[])[O]:E[de];if(!(!ce||ce.t=="z"))if(ce.t=="n")(ce.v|0)==ce.v&&ce.v>=-32768&&ce.v<=32767?Ao(q,13,p(Z,O,ce.v)):Ao(q,14,g(Z,O,ce.v));else{var pe=Rc(ce);Ao(q,15,f(Z,O,pe.slice(0,239)))}}return Ao(q,1),q.end()}function a(E,R){var B=R||{};if(+B.codepage>=0&&Uo(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var q=Wj();Ao(q,0,s(E));for(var K=0,ae=0;K<E.SheetNames.length;++K)(E.Sheets[E.SheetNames[K]]||{})["!ref"]&&Ao(q,27,I(E.SheetNames[K],ae++));var ee=0;for(K=0;K<E.SheetNames.length;++K){var W=E.Sheets[E.SheetNames[K]];if(!(!W||!W["!ref"])){for(var Z=zn(W["!ref"]),re=Array.isArray(W),O=[],de=Math.min(Z.e.r,8191),ce=Z.s.r;ce<=de;++ce)for(var pe=Ja(ce),Q=Z.s.c;Q<=Z.e.c;++Q){ce===Z.s.r&&(O[Q]=ka(Q));var ne=O[Q]+pe,Ae=re?(W[ce]||[])[Q]:W[ne];if(!(!Ae||Ae.t=="z"))if(Ae.t=="n")Ao(q,23,P(ce,Q,ee,Ae.v));else{var Ee=Rc(Ae);Ao(q,22,k(ce,Q,ee,Ee.slice(0,239)))}}++ee}}return Ao(q,1),q.end()}function i(E){var R=ya(2);return R.write_shift(2,E),R}function s(E){var R=ya(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var B=0,q=0,K=0,ae=0;ae<E.SheetNames.length;++ae){var ee=E.SheetNames[ae],W=E.Sheets[ee];if(!(!W||!W["!ref"])){++K;var Z=vm(W["!ref"]);B<Z.e.r&&(B=Z.e.r),q<Z.e.c&&(q=Z.e.c)}}return B>8191&&(B=8191),R.write_shift(2,B),R.write_shift(1,K),R.write_shift(1,q),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function o(E,R,B){var q={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&B.qpro?(q.s.c=E.read_shift(1),E.l++,q.s.r=E.read_shift(2),q.e.c=E.read_shift(1),E.l++,q.e.r=E.read_shift(2),q):(q.s.c=E.read_shift(2),q.s.r=E.read_shift(2),R==12&&B.qpro&&(E.l+=2),q.e.c=E.read_shift(2),q.e.r=E.read_shift(2),R==12&&B.qpro&&(E.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function l(E){var R=ya(8);return R.write_shift(2,E.s.c),R.write_shift(2,E.s.r),R.write_shift(2,E.e.c),R.write_shift(2,E.e.r),R}function u(E,R,B){var q=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(q[0].c=E.read_shift(1),q[3]=E.read_shift(1),q[0].r=E.read_shift(2),E.l+=2):(q[2]=E.read_shift(1),q[0].c=E.read_shift(2),q[0].r=E.read_shift(2)),q}function d(E,R,B){var q=E.l+R,K=u(E,R,B);if(K[1].t="s",B.vers==20768){E.l++;var ae=E.read_shift(1);return K[1].v=E.read_shift(ae,"utf8"),K}return B.qpro&&E.l++,K[1].v=E.read_shift(q-E.l,"cstr"),K}function f(E,R,B){var q=ya(7+B.length);q.write_shift(1,255),q.write_shift(2,R),q.write_shift(2,E),q.write_shift(1,39);for(var K=0;K<q.length;++K){var ae=B.charCodeAt(K);q.write_shift(1,ae>=128?95:ae)}return q.write_shift(1,0),q}function h(E,R,B){var q=u(E,R,B);return q[1].v=E.read_shift(2,"i"),q}function p(E,R,B){var q=ya(7);return q.write_shift(1,255),q.write_shift(2,R),q.write_shift(2,E),q.write_shift(2,B,"i"),q}function m(E,R,B){var q=u(E,R,B);return q[1].v=E.read_shift(8,"f"),q}function g(E,R,B){var q=ya(13);return q.write_shift(1,255),q.write_shift(2,R),q.write_shift(2,E),q.write_shift(8,B,"f"),q}function v(E,R,B){var q=E.l+R,K=u(E,R,B);if(K[1].v=E.read_shift(8,"f"),B.qpro)E.l=q;else{var ae=E.read_shift(2);N(E.slice(E.l,E.l+ae),K),E.l+=ae}return K}function x(E,R,B){var q=R&32768;return R&=-32769,R=(q?E:0)+(R>=8192?R-16384:R),(q?"":"$")+(B?ka(R):Ja(R))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(E,R){Ya(E,0);for(var B=[],q=0,K="",ae="",ee="",W="";E.l<E.length;){var Z=E[E.l++];switch(Z){case 0:B.push(E.read_shift(8,"f"));break;case 1:ae=x(R[0].c,E.read_shift(2),!0),K=x(R[0].r,E.read_shift(2),!1),B.push(ae+K);break;case 2:{var re=x(R[0].c,E.read_shift(2),!0),O=x(R[0].r,E.read_shift(2),!1);ae=x(R[0].c,E.read_shift(2),!0),K=x(R[0].r,E.read_shift(2),!1),B.push(re+O+":"+ae+K)}break;case 3:if(E.l<E.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(E.read_shift(2));break;case 6:{for(var de="";Z=E[E.l++];)de+=String.fromCharCode(Z);B.push('"'+de.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:W=B.pop(),ee=B.pop(),B.push(["AND","OR"][Z-20]+"("+ee+","+W+")");break;default:if(Z<32&&b[Z])W=B.pop(),ee=B.pop(),B.push(ee+b[Z]+W);else if(y[Z]){if(q=y[Z][1],q==69&&(q=E[E.l++]),q>B.length){console.error("WK1 bad formula parse 0x"+Z.toString(16)+":|"+B.join("|")+"|");return}var ce=B.slice(-q);B.length-=q,B.push(y[Z][0]+"("+ce.join(",")+")")}else return Z<=7?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=24?console.error("WK1 unsupported op "+Z.toString(16)):Z<=30?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=115?console.error("WK1 unsupported function opcode "+Z.toString(16)):console.error("WK1 unrecognized opcode "+Z.toString(16))}}B.length==1?R[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function _(E){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=E.read_shift(2),R[3]=E[E.l++],R[0].c=E[E.l++],R}function C(E,R){var B=_(E);return B[1].t="s",B[1].v=E.read_shift(R-4,"cstr"),B}function k(E,R,B,q){var K=ya(6+q.length);K.write_shift(2,E),K.write_shift(1,B),K.write_shift(1,R),K.write_shift(1,39);for(var ae=0;ae<q.length;++ae){var ee=q.charCodeAt(ae);K.write_shift(1,ee>=128?95:ee)}return K.write_shift(1,0),K}function w(E,R){var B=_(E);B[1].v=E.read_shift(2);var q=B[1].v>>1;if(B[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return B[1].v=q,B}function S(E,R){var B=_(E),q=E.read_shift(4),K=E.read_shift(4),ae=E.read_shift(2);if(ae==65535)return q===0&&K===3221225472?(B[1].t="e",B[1].v=15):q===0&&K===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var ee=ae&32768;return ae=(ae&32767)-16446,B[1].v=(1-ee*2)*(K*Math.pow(2,ae+32)+q*Math.pow(2,ae)),B}function P(E,R,B,q){var K=ya(14);if(K.write_shift(2,E),K.write_shift(1,B),K.write_shift(1,R),q==0)return K.write_shift(4,0),K.write_shift(4,0),K.write_shift(2,65535),K;var ae=0,ee=0,W=0,Z=0;return q<0&&(ae=1,q=-q),ee=Math.log2(q)|0,q/=Math.pow(2,ee-31),Z=q>>>0,Z&2147483648||(q/=2,++ee,Z=q>>>0),q-=Z,Z|=2147483648,Z>>>=0,q*=Math.pow(2,32),W=q>>>0,K.write_shift(4,W),K.write_shift(4,Z),ee+=16383+(ae?32768:0),K.write_shift(2,ee),K}function A(E,R){var B=S(E);return E.l+=R-14,B}function T(E,R){var B=_(E),q=E.read_shift(4);return B[1].v=q>>6,B}function F(E,R){var B=_(E),q=E.read_shift(8,"f");return B[1].v=q,B}function M(E,R){var B=F(E);return E.l+=R-10,B}function H(E,R){return E[E.l+R-1]==0?E.read_shift(R,"cstr"):""}function z(E,R){var B=E[E.l++];B>R-1&&(B=R-1);for(var q="";q.length<B;)q+=String.fromCharCode(E[E.l++]);return q}function Y(E,R,B){if(!(!B.qpro||R<21)){var q=E.read_shift(1);E.l+=17,E.l+=1,E.l+=2;var K=E.read_shift(R-21,"cstr");return[q,K]}}function G(E,R){for(var B={},q=E.l+R;E.l<q;){var K=E.read_shift(2);if(K==14e3){for(B[K]=[0,""],B[K][0]=E.read_shift(2);E[E.l];)B[K][1]+=String.fromCharCode(E[E.l]),E.l++;E.l++}}return B}function I(E,R){var B=ya(5+E.length);B.write_shift(2,14e3),B.write_shift(2,R);for(var q=0;q<E.length;++q){var K=E.charCodeAt(q);B[B.l++]=K>127?95:K}return B[B.l++]=0,B}var X={0:{n:"BOF",f:da},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:H},222:{n:"SHEETNAMELP",f:z},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:S},24:{n:"NUMBER18",f:w},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:G},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:M},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:H},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Y},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function lde(e){var t={},r=e.match(Ni),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=qt(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=hE[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var cde=function(){var e=Sv("t"),t=Sv("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:Pr(s[1])},l=i.match(t);return l&&(o.s=lde(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),ude=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),dde=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,fde=/<(?:\w+:)?r>/,hde=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function EE(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Pr(pn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=pn(e),r&&(n.h=bE(n.t))):e.match(fde)&&(n.r=pn(e),n.t=Pr(pn((e.replace(hde,"").match(dde)||[]).join("").replace(Ni,""))),r&&(n.h=ude(cde(n.r)))),n):{t:""}}var pde=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,mde=/<(?:\w+:)?(?:si|sstItem)>/g,gde=/<\/(?:\w+:)?(?:si|sstItem)>/;function xde(e,t){var r=[],n="";if(!e)return r;var a=e.match(pde);if(a){n=a[2].replace(mde,"").split(gde);for(var i=0;i!=n.length;++i){var s=EE(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=qt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function vde(e){return[e.read_shift(4),e.read_shift(4)]}function yde(e,t){var r=[],n=!1;return Yc(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Xz(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function wc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function bde(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=wc(e,4),t.U=wc(e,4),t.W=wc(e,4),t}function wde(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function _de(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(wde(e));return t}function kde(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Sde(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=wc(e,4),t.U=wc(e,4),t.W=wc(e,4),t}function Nde(e){var t=Sde(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Qz(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function Jz(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function jde(e){var t=wc(e);switch(t.Minor){case 2:return[t.Minor,Cde(e)];case 3:return[t.Minor,Tde()];case 4:return[t.Minor,Ade(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Cde(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=Qz(e,r),a=Jz(e,e.length-e.l);return{t:"Std",h:n,v:a}}function Tde(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Ade(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ni,function(i){var s=qt(i);switch(Wl(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function Ede(e,t){var r={},n=r.EncryptionVersionInfo=wc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=Qz(e,a),t-=a,r.EncryptionVerifier=Jz(e,t),r}function Pde(e){var t={},r=t.EncryptionVersionInfo=wc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Ode(e){var t=0,r,n=Xz(e),a=n.length+1,i,s,o,l,u;for(r=fd(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,u=o|l,t=u^s;return t^52811}var Zz=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,u=s.length-1;u>=0;--u)for(var d=s[u],f=0;f!=7;++f)d&64&&(o^=r[l]),d*=2,--l;return o};return function(s){for(var o=Xz(s),l=i(o),u=o.length,d=fd(16),f=0;f!=16;++f)d[f]=0;var h,p,m;for((u&1)===1&&(h=l>>8,d[u]=a(e[0],h),--u,h=l&255,p=o[o.length-1],d[u]=a(p,h));u>0;)--u,h=l>>8,d[u]=a(o[u],h),--u,h=l&255,d[u]=a(o[u],h);for(u=15,m=15-o.length;m>0;)h=l>>8,d[u]=a(e[m],h),--u,--m,h=l&255,d[u]=a(o[u],h),--u,--m;return d}}(),$de=function(e,t,r,n,a){a||(a=t),n||(n=Zz(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},Dde=function(e){var t=0,r=Zz(e);return function(n){var a=$de("",n,t,r);return t=a[1],a[0]}};function Mde(e,t,r,n){var a={key:da(e),verificationBytes:da(e)};return r.password&&(a.verifier=Ode(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Dde(r.password)),a}function Fde(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Pde(e):n.Data=Ede(e,t),n}function Lde(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Fde(e,t-2,n):Mde(e,r.biff>=8?t:t-2,r,n),n}var Ide=function(){function e(a,i){switch(i.type){case"base64":return t($s(a),i);case"binary":return t(a,i);case"buffer":return t(wr&&Buffer.isBuffer(a)?a.toString("binary"):hh(a),i);case"array":return t(Hf(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,m,g=-1;m=h.exec(d);){switch(m[0]){case"\\cell":var v=d.slice(p,h.lastIndex-m[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var x={v,t:"s"};Array.isArray(o)?o[f][g]=x:o[Jt({r:f,c:g})]=x}break}p=h.lastIndex}g>u.e.c&&(u.e.c=g)}),o["!ref"]=jr(u),o}function r(a,i){return Ed(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=zn(a["!ref"]),o,l=Array.isArray(a),u=s.s.r;u<=s.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var f=Jt({r:u,c:d});o=l?(a[u]||[])[d]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Rc(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function Rde(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Cv(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Bde(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,u=a+i;switch(l=s/(u>1?2-u:u),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,u/2]}function Ude(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function gw(e,t){if(t===0)return e;var r=Bde(Rde(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Cv(Ude(r))}var eH=6,Wde=15,zde=1,Di=eH;function xw(e){return Math.floor((e+Math.round(128/Di)/256)*Di)}function vw(e){return Math.floor((e-5)/Di*100+.5)/100}function Yj(e){return Math.round((e*Di+5)/Di*256)/256}function a3(e){return Yj(vw(xw(e)))}function PE(e){var t=Math.abs(e-a3(e)),r=Di;if(t>.005)for(Di=zde;Di<Wde;++Di)Math.abs(e-a3(e))<=t&&(t=Math.abs(e-a3(e)),r=Di);Di=r}function _p(e){e.width?(e.wpx=xw(e.width),e.wch=vw(e.wpx),e.MDW=Di):e.wpx?(e.wch=vw(e.wpx),e.width=Yj(e.wch),e.MDW=Di):typeof e.wch=="number"&&(e.width=Yj(e.wch),e.wpx=xw(e.width),e.MDW=Di),e.customWidth&&delete e.customWidth}var Hde=96,tH=Hde;function rH(e){return e*96/tH}function Tv(e){return e*tH/96}var qde={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Yde(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Ni)||[]).forEach(function(s){var o=qt(s);switch(Wl(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=kn(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=kn(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function Vde(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Ni)||[]).forEach(function(s){var o=qt(s);switch(Wl(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function Gde(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Ni)||[]).forEach(function(s){var o=qt(s);switch(Wl(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=pn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?kn(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?kn(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?kn(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?kn(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?kn(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?kn(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?kn(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=hE[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=kn(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Af[a.color.index];a.color.index==81&&(l=Af[1]),l||(l=Af[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=gw(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Kde(e,t,r){t.NumberFmt=[];for(var n=Dl(nr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=nr[n[a]];var i=e[0].match(Ni);if(i)for(a=0;a<i.length;++a){var s=qt(i[a]);switch(Wl(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Pr(pn(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Tf(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var Ab=["numFmtId","fillId","fontId","borderId","xfId"],Eb=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Xde(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ni)||[]).forEach(function(i){var s=qt(i),o=0;switch(Wl(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<Ab.length;++o)n[Ab[o]]&&(n[Ab[o]]=parseInt(n[Ab[o]],10));for(o=0;o<Eb.length;++o)n[Eb[o]]&&(n[Eb[o]]=kn(n[Eb[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=kn(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var Qde=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&Kde(f,d,u),(f=o.match(a))&&Gde(f,d,l,u),(f=o.match(n))&&Vde(f,d,l,u),(f=o.match(i))&&Yde(f,d,l,u),(f=o.match(r))&&Xde(f,d,u),d}}();function Jde(e,t){var r=e.read_shift(2),n=_i(e);return[r,n]}function Zde(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=cce(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=lce(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=_i(e),n}var efe=Si;function tfe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var rfe=Si;function nfe(e,t,r){var n={};n.NumberFmt=[];for(var a in nr)n.NumberFmt[a]=nr[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return Yc(e,function(l,u,d){switch(d){case 44:n.NumberFmt[l[0]]=l[1],Tf(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=gw(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(d),s=!0;break;case 38:i.pop(),s=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var afe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function ife(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ni)||[]).forEach(function(a){var i=qt(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[afe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function sfe(){}function ofe(){}var lfe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,cfe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,ufe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function dfe(e,t,r){t.themeElements={};var n;[["clrScheme",lfe,ife],["fontScheme",cfe,sfe],["fmtScheme",ufe,ofe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var ffe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function nH(e,t){(!e||e.length===0)&&(e=hfe());var r,n={};if(!(r=e.match(ffe)))throw new Error("themeElements not found in theme");return dfe(r[0],n,t),n.raw=e,n}function hfe(e,t){var r=[pz];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function pfe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=hz(i,{type:"array"})}catch{return}var o=Ns(s,"theme/theme/theme1.xml",!0);if(o)return nH(o,r)}}function mfe(e){return e.read_shift(4)}function gfe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=xfe(e,4);break;case 2:t.xclrValue=zz(e);break;case 3:t.xclrValue=mfe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function xfe(e,t){return Si(e,t)}function vfe(e,t){return Si(e,t)}function yfe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=gfe(e);break;case 6:n[1]=vfe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function bfe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(yfe(e,r-e.l));return{ixfe:n,ext:i}}function wfe(e,t){t.forEach(function(r){switch(r[0]){}})}function _fe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:_i(e)}}function kfe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Sfe(e){return e.l+=4,e.read_shift(4)!=0}function Nfe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return Yc(e,function(l,u,d){switch(d){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(d),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!u.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function jfe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Ni,function(o){var l=qt(o);switch(Wl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==l.name&&(s=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function Cfe(e){var t=[];if(!e)return t;var r=1;return(e.match(Ni)||[]).forEach(function(n){var a=qt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Tfe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Jt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Afe(e,t,r){var n=[];return Yc(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Efe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Yc(e,function(o,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function Pfe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function SD(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=Mi(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=zn(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var u=jr(l);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:s.author,t:s.t,r:s.r,T:r};s.h&&(d.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function Ofe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=qt(o[0]),u={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=Mi(l.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&EE(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function $fe(e,t){var r=[],n=!1,a={},i=0;return e.replace(Ni,function(o,l){var u=qt(o);switch(Wl(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function Dfe(e,t){var r=[],n=!1;return e.replace(Ni,function(i){var s=qt(i);switch(Wl(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function Mfe(e){var t={};t.iauthor=e.read_shift(4);var r=mh(e);return t.rfx=r.s,t.ref=Jt(r.s),e.l+=16,t}var Ffe=_i;function Lfe(e,t){var r=[],n=[],a={},i=!1;return Yc(e,function(o,l,u){switch(u){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var Ife="application/vnd.ms-office.vbaProject";function Rfe(e){var t=Nr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Nr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Nr.write(t)}function Bfe(){return{"!type":"dialog"}}function Ufe(){return{"!type":"dialog"}}function Wfe(){return{"!type":"macro"}}function zfe(){return{"!type":"macro"}}var X0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return o?d+=t.c:--d,l?u+=t.r:--u,a+(o?"":"$")+ka(d)+(l?"":"$")+Ja(u)}return function(a,i){return t=i,a.replace(e,r)}}(),aH=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Hfe=function(){return function(t,r){return t.replace(aH,function(n,a,i,s,o,l){var u=SE(s)-(i?0:r.c),d=kE(l)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function iH(e,t){return e.replace(aH,function(r,n,a,i,s,o){return n+(a=="$"?a+i:ka(SE(i)+t.c))+(s=="$"?s+o:Ja(kE(o)+t.r))})}function qfe(e,t,r){var n=vm(t),a=n.s,i=Mi(r),s={r:i.r-a.r,c:i.c-a.c};return iH(e,s)}function Yfe(e){return e.length!=1}function ND(e){return e.replace(/_xlfn\./g,"")}function ca(e){e.l+=1}function hd(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function sH(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return oH(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=hd(e),o=hd(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function oH(e){var t=hd(e),r=hd(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Vfe(e,t,r){if(r.biff<8)return oH(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=hd(e),s=hd(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function lH(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Gfe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=hd(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Gfe(e){var t=hd(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Kfe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Xfe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Qfe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function Qfe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Jfe(e,t,r){var n=(e[e.l++]&96)>>5,a=sH(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Zfe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=sH(e,i,r);return[n,a,s]}function ehe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function the(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function rhe(e,t,r){var n=(e[e.l++]&96)>>5,a=Vfe(e,t-1,r);return[n,a]}function nhe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function jD(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function ahe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function ihe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function she(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function ohe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function lhe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function cH(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function che(e){return e.read_shift(2),cH(e)}function uhe(e){return e.read_shift(2),cH(e)}function dhe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=lH(e,0,r);return[n,a]}function fhe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Xfe(e,0,r);return[n,a]}function hhe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=lH(e,0,r);return[n,a,i]}function phe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[m0e[a],fH[a],n]}function mhe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:ghe(e);return[a,(i[0]===0?fH:p0e)[i[1]]]}function ghe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function xhe(e,t,r){e.l+=r&&r.biff==2?3:4}function vhe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function yhe(e){return e.l++,gh[e.read_shift(1)]}function bhe(e){return e.l++,e.read_shift(2)}function whe(e){return e.l++,e.read_shift(1)!==0}function _he(e){return e.l++,yi(e)}function khe(e,t,r){return e.l++,By(e,t-1,r)}function She(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Gn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=gh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=yi(e);break;case 2:r[1]=xh(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Nhe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?mh:_5)(e));return a}function jhe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=She(e,r.biff);return s}function Che(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function The(e,t,r){if(r.biff==5)return Ahe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Ahe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Ehe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Phe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Ohe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function $he(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Dhe=Si,Mhe=Si,Fhe=Si;function Wy(e,t,r){return e.l+=2,[Kfe(e)]}function OE(e){return e.l+=6,[]}var Lhe=Wy,Ihe=OE,Rhe=OE,Bhe=Wy;function uH(e){return e.l+=2,[da(e),e.read_shift(2)&1]}var Uhe=Wy,Whe=uH,zhe=OE,Hhe=Wy,qhe=Wy,Yhe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Vhe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=Yhe[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function Ghe(e){return e.l+=2,[e.read_shift(4)]}function Khe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Xhe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Qhe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Jhe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Zhe(e){return e.l+=4,[0,0]}var CD={1:{n:"PtgExp",f:vhe},2:{n:"PtgTbl",f:Fhe},3:{n:"PtgAdd",f:ca},4:{n:"PtgSub",f:ca},5:{n:"PtgMul",f:ca},6:{n:"PtgDiv",f:ca},7:{n:"PtgPower",f:ca},8:{n:"PtgConcat",f:ca},9:{n:"PtgLt",f:ca},10:{n:"PtgLe",f:ca},11:{n:"PtgEq",f:ca},12:{n:"PtgGe",f:ca},13:{n:"PtgGt",f:ca},14:{n:"PtgNe",f:ca},15:{n:"PtgIsect",f:ca},16:{n:"PtgUnion",f:ca},17:{n:"PtgRange",f:ca},18:{n:"PtgUplus",f:ca},19:{n:"PtgUminus",f:ca},20:{n:"PtgPercent",f:ca},21:{n:"PtgParen",f:ca},22:{n:"PtgMissArg",f:ca},23:{n:"PtgStr",f:khe},26:{n:"PtgSheet",f:Khe},27:{n:"PtgEndSheet",f:Xhe},28:{n:"PtgErr",f:yhe},29:{n:"PtgBool",f:whe},30:{n:"PtgInt",f:bhe},31:{n:"PtgNum",f:_he},32:{n:"PtgArray",f:nhe},33:{n:"PtgFunc",f:phe},34:{n:"PtgFuncVar",f:mhe},35:{n:"PtgName",f:Che},36:{n:"PtgRef",f:dhe},37:{n:"PtgArea",f:Jfe},38:{n:"PtgMemArea",f:Ehe},39:{n:"PtgMemErr",f:Dhe},40:{n:"PtgMemNoMem",f:Mhe},41:{n:"PtgMemFunc",f:Phe},42:{n:"PtgRefErr",f:Ohe},43:{n:"PtgAreaErr",f:ehe},44:{n:"PtgRefN",f:fhe},45:{n:"PtgAreaN",f:rhe},46:{n:"PtgMemAreaN",f:Qhe},47:{n:"PtgMemNoMemN",f:Jhe},57:{n:"PtgNameX",f:The},58:{n:"PtgRef3d",f:hhe},59:{n:"PtgArea3d",f:Zfe},60:{n:"PtgRefErr3d",f:$he},61:{n:"PtgAreaErr3d",f:the},255:{}},e0e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},t0e={1:{n:"PtgElfLel",f:uH},2:{n:"PtgElfRw",f:Hhe},3:{n:"PtgElfCol",f:Lhe},6:{n:"PtgElfRwV",f:qhe},7:{n:"PtgElfColV",f:Bhe},10:{n:"PtgElfRadical",f:Uhe},11:{n:"PtgElfRadicalS",f:zhe},13:{n:"PtgElfColS",f:Ihe},15:{n:"PtgElfColSV",f:Rhe},16:{n:"PtgElfRadicalLel",f:Whe},25:{n:"PtgList",f:Vhe},29:{n:"PtgSxName",f:Ghe},255:{}},r0e={0:{n:"PtgAttrNoop",f:Zhe},1:{n:"PtgAttrSemi",f:lhe},2:{n:"PtgAttrIf",f:she},4:{n:"PtgAttrChoose",f:ahe},8:{n:"PtgAttrGoto",f:ihe},16:{n:"PtgAttrSum",f:xhe},32:{n:"PtgAttrBaxcel",f:jD},33:{n:"PtgAttrBaxcel",f:jD},64:{n:"PtgAttrSpace",f:che},65:{n:"PtgAttrSpaceSemi",f:uhe},128:{n:"PtgAttrIfError",f:ohe},255:{}};function zy(e,t,r,n){if(n.biff<8)return Si(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=jhe(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Nhe(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Si(e,t)),i}function Hy(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=CD[i]||CD[e0e[i]],(i===24||i===25)&&(a=(i===24?t0e:r0e)[e[e.l+1]]),!a||!a.f?Si(e,t):s.push([a.n,a.f(e,t,r)]);return s}function n0e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var a0e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function i0e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function dH(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function TD(e,t,r){var n=dH(e,t,r);return n=="#REF"?n:i0e(n,r)}function gi(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],l,u,d,f=0,h=0,p,m="";if(!e[0]||!e[0][0])return"";for(var g=-1,v="",x=0,y=e[0].length;x<y;++x){var b=e[0][x];switch(b[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),g>=0){switch(e[0][g][1][0]){case 0:v=Bn(" ",e[0][g][1][1]);break;case 1:v=Bn("\r",e[0][g][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+v,g=-1}o.push(u+a0e[b[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Ix(b[1][1],s,a),o.push(Rx(d,i));break;case"PtgRefN":d=r?Ix(b[1][1],r,a):b[1][1],o.push(Rx(d,i));break;case"PtgRef3d":f=b[1][1],d=Ix(b[1][2],s,a),m=TD(n,f,a),o.push(m+"!"+Rx(d,i));break;case"PtgFunc":case"PtgFuncVar":var N=b[1][0],_=b[1][1];N||(N=0),N&=127;var C=N==0?[]:o.slice(-N);o.length-=N,_==="User"&&(_=C.shift()),o.push(_+"("+C.join(",")+")");break;case"PtgBool":o.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(b[1]);break;case"PtgNum":o.push(String(b[1]));break;case"PtgStr":o.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(b[1]);break;case"PtgAreaN":p=lD(b[1][1],r?{s:r}:s,a),o.push(r3(p,a));break;case"PtgArea":p=lD(b[1][1],s,a),o.push(r3(p,a));break;case"PtgArea3d":f=b[1][1],p=b[1][2],m=TD(n,f,a),o.push(m+"!"+r3(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var k=(n.names||[])[h-1]||(n[0]||[])[h],w=k?k.Name:"SH33TJSNAME"+String(h);w&&w.slice(0,6)=="_xlfn."&&!a.xlfn&&(w=w.slice(6)),o.push(w);break;case"PtgNameX":var S=b[1][1];h=b[1][2];var P;if(a.biff<=5)S<0&&(S=-S),n[S]&&(P=n[S][h]);else{var A="";if(((n[S]||[])[0]||[])[0]==14849||(((n[S]||[])[0]||[])[0]==1025?n[S][h]&&n[S][h].itab>0&&(A=n.SheetNames[n[S][h].itab-1]+"!"):A=n.SheetNames[h-1]+"!"),n[S]&&n[S][h])A+=n[S][h].Name;else if(n[0]&&n[0][h])A+=n[0][h].Name;else{var T=(dH(n,S,a)||"").split(";;");T[h-1]?A=T[h-1]:A+="SH33TJSERRX"}o.push(A);break}P||(P={Name:"SH33TJSERRY"}),o.push(P.Name);break;case"PtgParen":var F="(",M=")";if(g>=0){switch(v="",e[0][g][1][0]){case 2:F=Bn(" ",e[0][g][1][1])+F;break;case 3:F=Bn("\r",e[0][g][1][1])+F;break;case 4:M=Bn(" ",e[0][g][1][1])+M;break;case 5:M=Bn("\r",e[0][g][1][1])+M;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}o.push(F+o.pop()+M);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:b[1][1],r:b[1][0]};var H={c:r.c,r:r.r};if(n.sharedf[Jt(d)]){var z=n.sharedf[Jt(d)];o.push(gi(z,s,H,n,a))}else{var Y=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(gi(u[1],s,H,n,a)),Y=!0;break}Y||o.push(b[1])}break;case"PtgArray":o.push("{"+n0e(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var G=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&G.indexOf(e[0][x][0])==-1){b=e[0][g];var I=!0;switch(b[1][0]){case 4:I=!1;case 0:v=Bn(" ",b[1][1]);break;case 5:I=!1;case 1:v=Bn("\r",b[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}o.push((I?v:"")+o.pop()+(I?"":v)),g=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function s0e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Si(e,t-2)];var o=Hy(e,s,r);return t!==s+a&&(i=zy(e,t-s-a,o,r)),e.l=n,[o,i]}function o0e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Si(e,t-2)];var o=Hy(e,s,r);return t!==s+a&&(i=zy(e,t-s-a,o,r)),e.l=n,[o,i]}function l0e(e,t,r,n){var a=e.l+t,i=Hy(e,n,r),s;return a!==e.l&&(s=zy(e,a-e.l,i,r)),[i,s]}function c0e(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=Hy(e,i,r);return i==65535?[[],Si(e,t-2)]:(t!==i+2&&(a=zy(e,n-i-2,s,r)),[s,a])}function u0e(e){var t;if(pc(e,e.l+6)!==65535)return[yi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function i3(e,t,r){var n=e.l+t,a=zl(e);r.biff==2&&++e.l;var i=u0e(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=o0e(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function k5(e,t,r){var n=e.read_shift(4),a=Hy(e,n,r),i=e.read_shift(4),s=i>0?zy(e,i,a,r):null;return[a,s]}var d0e=k5,S5=k5,f0e=k5,h0e=k5,p0e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},fH={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},m0e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function AD(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function s3(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var zx={},Q0={};function Hx(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function hH(e,t,r,n,a,i){try{n.cellNF&&(e.z=nr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Fa(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(nr[t]==null&&Tf(gle[t]||"General",t),e.t==="e")e.w=e.w||gh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=kv(e.v);else if(e.t==="d"){var s=qi(e.v);(s|0)===s?e.w=s.toString(10):e.w=kv(s)}else{if(e.v===void 0)return"";e.w=zf(e.v,Q0)}else e.t==="d"?e.w=po(t,qi(e.v),Q0):e.w=po(t,e.v,Q0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=gw(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=gw(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function g0e(e,t){var r=zn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=jr(r))}var x0e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,v0e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,y0e=/<(?:\w:)?hyperlink [^>]*>/mg,b0e=/"(\w*:\w*)"/,w0e=/<(?:\w:)?col\b[^>]*[\/]?>/g,_0e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,k0e=/<(?:\w:)?pageMargins[^>]*\/>/g,pH=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,S0e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,N0e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function j0e(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(v0e);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(pH);h?$E(h[0],o,a,r):(h=u.match(S0e))&&C0e(h[0],h[1]||"",o,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var m=u.slice(p,p+50).match(b0e);m&&g0e(o,m[1])}var g=u.match(N0e);g&&g[1]&&$0e(g[1],a);var v=[];if(t.cellStyles){var x=u.match(w0e);x&&E0e(v,x)}f&&D0e(f[1],o,t,l,i,s);var y=d.match(_0e);y&&(o["!autofilter"]=P0e(y[0]));var b=[],N=d.match(x0e);if(N)for(p=0;p!=N.length;++p)b[p]=zn(N[p].slice(N[p].indexOf('"')+1));var _=d.match(y0e);_&&T0e(o,_,n);var C=d.match(k0e);if(C&&(o["!margins"]=A0e(qt(C[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=jr(l)),t.sheetRows>0&&o["!ref"]){var k=zn(o["!ref"]);t.sheetRows<=+k.e.r&&(k.e.r=t.sheetRows-1,k.e.r>l.e.r&&(k.e.r=l.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>l.e.c&&(k.e.c=l.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),o["!fullref"]=o["!ref"],o["!ref"]=jr(k))}return v.length>0&&(o["!cols"]=v),b.length>0&&(o["!merges"]=b),o}function $E(e,t,r,n){var a=qt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Pr(pn(a.codeName)))}function C0e(e,t,r,n,a){$E(e.slice(0,e.indexOf(">")),r,n,a)}function T0e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=qt(pn(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Pr(i.location))):(i.Target="#"+Pr(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=zn(i.ref),l=o.s.r;l<=o.e.r;++l)for(var u=o.s.c;u<=o.e.c;++u){var d=Jt({c:u,r:l});n?(e[l]||(e[l]=[]),e[l][u]||(e[l][u]={t:"z",v:void 0}),e[l][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function A0e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function E0e(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=qt(t[n],!0);a.hidden&&(a.hidden=kn(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,PE(a.width)),_p(a);i<=s;)e[i++]=Qa(a)}}function P0e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var O0e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function $0e(e,t){t.Views||(t.Views=[{}]),(e.match(O0e)||[]).forEach(function(r,n){var a=qt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),kn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var D0e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Sv("v"),s=Sv("f");return function(l,u,d,f,h,p){for(var m=0,g="",v=[],x=[],y=0,b=0,N=0,_="",C,k,w=0,S=0,P,A,T=0,F=0,M=Array.isArray(p.CellXf),H,z=[],Y=[],G=Array.isArray(u),I=[],X={},J=!1,E=!!d.sheetStubs,R=l.split(t),B=0,q=R.length;B!=q;++B){g=R[B].trim();var K=g.length;if(K!==0){var ae=0;e:for(m=0;m<K;++m)switch(g[m]){case">":if(g[m-1]!="/"){++m;break e}if(d&&d.cellStyles){if(k=qt(g.slice(ae,m),!0),w=k.r!=null?parseInt(k.r,10):w+1,S=-1,d.sheetRows&&d.sheetRows<w)continue;X={},J=!1,k.ht&&(J=!0,X.hpt=parseFloat(k.ht),X.hpx=Tv(X.hpt)),k.hidden=="1"&&(J=!0,X.hidden=!0),k.outlineLevel!=null&&(J=!0,X.level=+k.outlineLevel),J&&(I[w-1]=X)}break;case"<":ae=m;break}if(ae>=m)break;if(k=qt(g.slice(ae,m),!0),w=k.r!=null?parseInt(k.r,10):w+1,S=-1,!(d.sheetRows&&d.sheetRows<w)){f.s.r>w-1&&(f.s.r=w-1),f.e.r<w-1&&(f.e.r=w-1),d&&d.cellStyles&&(X={},J=!1,k.ht&&(J=!0,X.hpt=parseFloat(k.ht),X.hpx=Tv(X.hpt)),k.hidden=="1"&&(J=!0,X.hidden=!0),k.outlineLevel!=null&&(J=!0,X.level=+k.outlineLevel),J&&(I[w-1]=X)),v=g.slice(m).split(e);for(var ee=0;ee!=v.length&&v[ee].trim().charAt(0)=="<";++ee);for(v=v.slice(ee),m=0;m!=v.length;++m)if(g=v[m].trim(),g.length!==0){if(x=g.match(r),y=m,b=0,N=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,x!=null&&x.length===2){for(y=0,_=x[1],b=0;b!=_.length&&!((N=_.charCodeAt(b)-64)<1||N>26);++b)y=26*y+N;--y,S=y}else++S;for(b=0;b!=g.length&&g.charCodeAt(b)!==62;++b);if(++b,k=qt(g.slice(0,b),!0),k.r||(k.r=Jt({r:w-1,c:S})),_=g.slice(b),C={t:""},(x=_.match(i))!=null&&x[1]!==""&&(C.v=Pr(x[1])),d.cellFormula){if((x=_.match(s))!=null&&x[1]!==""){if(C.f=Pr(pn(x[1])).replace(/\r\n/g,`
`),d.xlfn||(C.f=ND(C.f)),x[0].indexOf('t="array"')>-1)C.F=(_.match(a)||[])[1],C.F.indexOf(":")>-1&&z.push([zn(C.F),C.F]);else if(x[0].indexOf('t="shared"')>-1){A=qt(x[0]);var W=Pr(pn(x[1]));d.xlfn||(W=ND(W)),Y[parseInt(A.si,10)]=[A,W,k.r]}}else(x=_.match(/<f[^>]*\/>/))&&(A=qt(x[0]),Y[A.si]&&(C.f=qfe(Y[A.si][1],Y[A.si][2],k.r)));var Z=Mi(k.r);for(b=0;b<z.length;++b)Z.r>=z[b][0].s.r&&Z.r<=z[b][0].e.r&&Z.c>=z[b][0].s.c&&Z.c<=z[b][0].e.c&&(C.F=z[b][1])}if(k.t==null&&C.v===void 0)if(C.f||C.F)C.v=0,C.t="n";else if(E)C.t="z";else continue;else C.t=k.t||"n";switch(f.s.c>S&&(f.s.c=S),f.e.c<S&&(f.e.c=S),C.t){case"n":if(C.v==""||C.v==null){if(!E)continue;C.t="z"}else C.v=parseFloat(C.v);break;case"s":if(typeof C.v>"u"){if(!E)continue;C.t="z"}else P=zx[parseInt(C.v,10)],C.v=P.t,C.r=P.r,d.cellHTML&&(C.h=P.h);break;case"str":C.t="s",C.v=C.v!=null?pn(C.v):"",d.cellHTML&&(C.h=bE(C.v));break;case"inlineStr":x=_.match(n),C.t="s",x!=null&&(P=EE(x[1]))?(C.v=P.t,d.cellHTML&&(C.h=P.h)):C.v="";break;case"b":C.v=kn(C.v);break;case"d":d.cellDates?C.v=Fa(C.v,1):(C.v=qi(Fa(C.v,1)),C.t="n");break;case"e":(!d||d.cellText!==!1)&&(C.w=C.v),C.v=Mz[C.v];break}if(T=F=0,H=null,M&&k.s!==void 0&&(H=p.CellXf[k.s],H!=null&&(H.numFmtId!=null&&(T=H.numFmtId),d.cellStyles&&H.fillId!=null&&(F=H.fillId))),hH(C,T,F,d,h,p),d.cellDates&&M&&C.t=="n"&&xm(nr[T])&&(C.t="d",C.v=w5(C.v)),k.cm&&d.xlmeta){var re=(d.xlmeta.Cell||[])[+k.cm-1];re&&re.type=="XLDAPR"&&(C.D=!0)}if(G){var O=Mi(k.r);u[O.r]||(u[O.r]=[]),u[O.r][O.c]=C}else u[k.r]=C}}}}I.length>0&&(u["!rows"]=I)}}();function M0e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var F0e=mh;function L0e(){}function I0e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=sce(e),r}function R0e(e){var t=xo(e);return[t]}function B0e(e){var t=ph(e);return[t]}function U0e(e){var t=xo(e),r=e.read_shift(1);return[t,r,"b"]}function W0e(e){var t=ph(e),r=e.read_shift(1);return[t,r,"b"]}function z0e(e){var t=xo(e),r=e.read_shift(1);return[t,r,"e"]}function H0e(e){var t=ph(e),r=e.read_shift(1);return[t,r,"e"]}function q0e(e){var t=xo(e),r=e.read_shift(4);return[t,r,"s"]}function Y0e(e){var t=ph(e),r=e.read_shift(4);return[t,r,"s"]}function V0e(e){var t=xo(e),r=yi(e);return[t,r,"n"]}function mH(e){var t=ph(e),r=yi(e);return[t,r,"n"]}function G0e(e){var t=xo(e),r=CE(e);return[t,r,"n"]}function K0e(e){var t=ph(e),r=CE(e);return[t,r,"n"]}function X0e(e){var t=xo(e),r=NE(e);return[t,r,"is"]}function Q0e(e){var t=xo(e),r=_i(e);return[t,r,"str"]}function J0e(e){var t=ph(e),r=_i(e);return[t,r,"str"]}function Z0e(e,t,r){var n=e.l+t,a=xo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=S5(e,n-e.l,r);s[3]=gi(o,null,a,r.supbooks,r)}else e.l=n;return s}function epe(e,t,r){var n=e.l+t,a=xo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=S5(e,n-e.l,r);s[3]=gi(o,null,a,r.supbooks,r)}else e.l=n;return s}function tpe(e,t,r){var n=e.l+t,a=xo(e);a.r=r["!row"];var i=yi(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=S5(e,n-e.l,r);s[3]=gi(o,null,a,r.supbooks,r)}else e.l=n;return s}function rpe(e,t,r){var n=e.l+t,a=xo(e);a.r=r["!row"];var i=_i(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=S5(e,n-e.l,r);s[3]=gi(o,null,a,r.supbooks,r)}else e.l=n;return s}var npe=mh;function ape(e,t){var r=e.l+t,n=mh(e),a=jE(e),i=_i(e),s=_i(e),o=_i(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function ipe(){}function spe(e,t,r){var n=e.l+t,a=Oz(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=d0e(e,n-e.l,r);s[1]=o}else e.l=n;return s}function ope(e,t,r){var n=e.l+t,a=mh(e),i=[a];if(r.cellFormula){var s=h0e(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var lpe=["left","right","top","bottom","header","footer"];function cpe(e){var t={};return lpe.forEach(function(r){t[r]=yi(e)}),t}function upe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function dpe(){}function fpe(){}function hpe(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,m,g,v,x,y,b,N,_,C=[];o.biff=12,o["!row"]=0;var k=0,w=!1,S=[],P={},A=o.supbooks||a.supbooks||[[]];if(A.sharedf=P,A.arrayf=S,A.SheetNames=a.SheetNames||a.Sheets.map(function(G){return G.name}),!o.supbooks&&(o.supbooks=A,a.Names))for(var T=0;T<a.Names.length;++T)A[0][T+1]=a.Names[T];var F=[],M=[],H=!1;yw[16]={n:"BrtShortReal",f:mH};var z;if(Yc(e,function(I,X,J){if(!h)switch(J){case 148:u=I;break;case 0:p=I,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),N=Ja(v=p.r),o["!row"]=p.r,(I.hidden||I.hpt||I.level!=null)&&(I.hpt&&(I.hpx=Tv(I.hpt)),M[I.r]=I);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(m={t:I[2]},I[2]){case"n":m.v=I[1];break;case"s":b=zx[I[1]],m.v=b.t,m.r=b.r;break;case"b":m.v=!!I[1];break;case"e":m.v=I[1],o.cellText!==!1&&(m.w=gh[m.v]);break;case"str":m.t="s",m.v=I[1];break;case"is":m.t="s",m.v=I[1].t;break}if((g=s.CellXf[I[0].iStyleRef])&&hH(m,g.numFmtId,null,o,i,s),x=I[0].c==-1?x+1:I[0].c,o.dense?(l[v]||(l[v]=[]),l[v][x]=m):l[ka(x)+N]=m,o.cellFormula){for(w=!1,k=0;k<S.length;++k){var E=S[k];p.r>=E[0].s.r&&p.r<=E[0].e.r&&x>=E[0].s.c&&x<=E[0].e.c&&(m.F=jr(E[0]),w=!0)}!w&&I.length>3&&(m.f=I[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>x&&(d.s.c=x),d.e.r<p.r&&(d.e.r=p.r),d.e.c<x&&(d.e.c=x),o.cellDates&&g&&m.t=="n"&&xm(nr[g.numFmtId])){var R=pf(m.v);R&&(m.t="d",m.v=new Date(R.y,R.m-1,R.d,R.H,R.M,R.S,R.u))}z&&(z.type=="XLDAPR"&&(m.D=!0),z=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;m={t:"z",v:void 0},x=I[0].c==-1?x+1:I[0].c,o.dense?(l[v]||(l[v]=[]),l[v][x]=m):l[ka(x)+N]=m,d.s.r>p.r&&(d.s.r=p.r),d.s.c>x&&(d.s.c=x),d.e.r<p.r&&(d.e.r=p.r),d.e.c<x&&(d.e.c=x),z&&(z.type=="XLDAPR"&&(m.D=!0),z=void 0);break;case 176:C.push(I);break;case 49:z=((o.xlmeta||{}).Cell||[])[I-1];break;case 494:var B=n["!id"][I.relId];for(B?(I.Target=B.Target,I.loc&&(I.Target+="#"+I.loc),I.Rel=B):I.relId==""&&(I.Target="#"+I.loc),v=I.rfx.s.r;v<=I.rfx.e.r;++v)for(x=I.rfx.s.c;x<=I.rfx.e.c;++x)o.dense?(l[v]||(l[v]=[]),l[v][x]||(l[v][x]={t:"z",v:void 0}),l[v][x].l=I):(y=Jt({c:x,r:v}),l[y]||(l[y]={t:"z",v:void 0}),l[y].l=I);break;case 426:if(!o.cellFormula)break;S.push(I),_=o.dense?l[v][x]:l[ka(x)+N],_.f=gi(I[1],d,{r:p.r,c:x},A,o),_.F=jr(I[0]);break;case 427:if(!o.cellFormula)break;P[Jt(I[0].s)]=I[1],_=o.dense?l[v][x]:l[ka(x)+N],_.f=gi(I[1],d,{r:p.r,c:x},A,o);break;case 60:if(!o.cellStyles)break;for(;I.e>=I.s;)F[I.e--]={width:I.w/256,hidden:!!(I.flags&1),level:I.level},H||(H=!0,PE(I.w/256)),_p(F[I.e+1]);break;case 161:l["!autofilter"]={ref:jr(I)};break;case 476:l["!margins"]=I;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),I.name&&(a.Sheets[r].CodeName=I.name),(I.above||I.left)&&(l["!outline"]={above:I.above,left:I.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),I.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!X.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+J.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=jr(u||d)),o.sheetRows&&l["!ref"]){var Y=zn(l["!ref"]);o.sheetRows<=+Y.e.r&&(Y.e.r=o.sheetRows-1,Y.e.r>d.e.r&&(Y.e.r=d.e.r),Y.e.r<Y.s.r&&(Y.s.r=Y.e.r),Y.e.c>d.e.c&&(Y.e.c=d.e.c),Y.e.c<Y.s.c&&(Y.s.c=Y.e.c),l["!fullref"]=l["!ref"],l["!ref"]=jr(Y))}return C.length>0&&(l["!merges"]=C),F.length>0&&(l["!cols"]=F),M.length>0&&(l["!rows"]=M),l}function ppe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=Pr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function mpe(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=ppe(f);d.s.r=d.s.c=0,d.e.c=o,u=ka(o),h[0].forEach(function(p,m){s[u+Ja(m)]={t:"n",v:p,z:h[1]},l=m}),d.e.r<l&&(d.e.r=l),++o}),o>0&&(s["!ref"]=jr(d)),s}function gpe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(pH);return o&&$E(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function xpe(e,t){e.l+=10;var r=_i(e);return{name:r}}function vpe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Yc(e,function(l,u,d){switch(d){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var gH=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],ype=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],bpe=[],wpe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function ED(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=kn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function PD(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=kn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function xH(e){PD(e.WBProps,gH),PD(e.CalcPr,wpe),ED(e.WBView,ype),ED(e.Sheets,bpe),Q0.date1904=kn(e.WBProps.date1904)}var _pe="][*?/\\".split("");function kpe(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return _pe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var Spe=/<\w+:workbook/;function Npe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Ni,function(l,u){var d=qt(l);switch(Wl(d[0])){case"<?xml":break;case"<workbook":l.match(Spe)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":gH.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=kn(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=pn(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Pr(pn(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=pn(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),kn(d.hidden||"0")&&(i.Hidden=!0),s=u+l.length;break;case"</definedName>":i.Ref=Pr(pn(e.slice(s,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),zle.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return xH(r),r}function jpe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=zj(e),r.name=_i(e),r}function Cpe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?_i(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Tpe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Ape(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=oce(e),s=f0e(e,0,r),o=jE(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function Epe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],yw[16]={n:"BrtFRTArchID$",f:Tpe},Yc(e,function(l,u,d){switch(d){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=gi(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([d,l]):s[0]=[d,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),xH(r),r.Names=i,r.supbooks=s,r}function Ppe(e,t,r){return t.slice(-4)===".bin"?Epe(e,r):Npe(e,r)}function Ope(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?hpe(e,n,r,a,i,s,o):j0e(e,n,r,a,i,s,o)}function $pe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?vpe(e,n,r,a,i):gpe(e,n,r,a,i)}function Dpe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Wfe():zfe()}function Mpe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Bfe():Ufe()}function Fpe(e,t,r,n){return t.slice(-4)===".bin"?nfe(e,r,n):Qde(e,r,n)}function Lpe(e,t,r){return nH(e,r)}function Ipe(e,t,r){return t.slice(-4)===".bin"?yde(e,r):xde(e,r)}function Rpe(e,t,r){return t.slice(-4)===".bin"?Lfe(e,r):Ofe(e,r)}function Bpe(e,t,r){return t.slice(-4)===".bin"?Afe(e):Cfe(e)}function Upe(e,t,r,n){return r.slice(-4)===".bin"?Efe(e,t,r,n):void 0}function Wpe(e,t,r){return t.slice(-4)===".bin"?Nfe(e,t,r):jfe(e,t,r)}var vH=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,yH=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function To(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(vH),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(yH),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function zpe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(vH),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(yH),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var qx;function Hpe(e,t){var r=qx[e]||Pr(e);return r==="General"?zf(t):po(r,t)}function qpe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=kn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Fa(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Pr(t)]=a}function Ype(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||gh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=kv(e.v):e.w=zf(e.v):e.w=Hpe(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=qx[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&xm(n)){var a=pf(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function Vpe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=qde[n.Pattern]||n.Pattern)}e[t.ID]=t}function Gpe(e,t,r,n,a,i,s,o,l,u){var d="General",f=n.StyleID,h={};u=u||{};var p=[],m=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=kn(e);break;case"String":n.t="s",n.r=Z$(Pr(e)),n.v=e.indexOf("<")>-1?Pr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Fa(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Pr(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Mz[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=Z$(t||e));break}if(Ype(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=Pr(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=X0(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=X0("RC:RC",a):n.ArrayRange&&(n.F=X0(n.ArrayRange,a),l.push([zn(n.F),n.F]))}else for(m=0;m<l.length;++m)a.r>=l[m][0].s.r&&a.r<=l[m][0].e.r&&a.c>=l[m][0].s.c&&a.c<=l[m][0].e.c&&(n.F=l[m][1]);u.cellStyles&&(p.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Kpe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function o3(e,t){var r=t||{};oz();var n=cx(wE(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=pn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Qa(r);return s.type="string",jv.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ae){a.indexOf("<"+Ae)>=0&&(i=!0)}),i)return ame(n,r);qx={"General Number":"General","General Date":nr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":nr[15],"Short Date":nr[14],"Long Time":nr[19],"Medium Time":nr[18],"Short Time":nr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:nr[2],Standard:nr[4],Percent:nr[10],Scientific:nr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],u,d={},f=[],h=r.dense?[]:{},p="",m={},g={},v=To('<Data ss:Type="String">'),x=0,y=0,b=0,N={s:{r:2e6,c:2e6},e:{r:0,c:0}},_={},C={},k="",w=0,S=[],P={},A={},T=0,F=[],M=[],H={},z=[],Y,G=!1,I=[],X=[],J={},E=0,R=0,B={Sheets:[],WBProps:{date1904:!1}},q={};Nv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var K="";o=Nv.exec(n);)switch(o[3]=(K=o[3]).toLowerCase()){case"data":if(K=="data"){if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?Gpe(n.slice(x,o.index),k,v,l[l.length-1][0]=="comment"?H:m,{c:y,r:b},_,z[y],g,I,r):(k="",v=To(o[0]),x=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(M.length>0&&(m.c=M),(!r.sheetRows||r.sheetRows>b)&&m.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][y]=m):h[ka(y)+Ja(b)]=m),m.HRef&&(m.l={Target:Pr(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(E=y+(parseInt(m.MergeAcross,10)|0),R=b+(parseInt(m.MergeDown,10)|0),S.push({s:{c:y,r:b},e:{c:E,r:R}})),!r.sheetStubs)m.MergeAcross?y=E+1:++y;else if(m.MergeAcross||m.MergeDown){for(var ae=y;ae<=E;++ae)for(var ee=b;ee<=R;++ee)(ae>y||ee>b)&&(r.dense?(h[ee]||(h[ee]=[]),h[ee][ae]={t:"z"}):h[ka(ae)+Ja(ee)]={t:"z"});y=E+1}else++y;else m=zpe(o[0]),m.Index&&(y=+m.Index-1),y<N.s.c&&(N.s.c=y),y>N.e.c&&(N.e.c=y),o[0].slice(-2)==="/>"&&++y,M=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(b<N.s.r&&(N.s.r=b),b>N.e.r&&(N.e.r=b),o[0].slice(-2)==="/>"&&(g=To(o[0]),g.Index&&(b=+g.Index-1)),y=0,++b):(g=To(o[0]),g.Index&&(b=+g.Index-1),J={},(g.AutoFitHeight=="0"||g.Height)&&(J.hpx=parseInt(g.Height,10),J.hpt=rH(J.hpx),X[b]=J),g.Hidden=="1"&&(J.hidden=!0,X[b]=J));break;case"worksheet":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));f.push(p),N.s.r<=N.e.r&&N.s.c<=N.e.c&&(h["!ref"]=jr(N),r.sheetRows&&r.sheetRows<=N.e.r&&(h["!fullref"]=h["!ref"],N.e.r=r.sheetRows-1,h["!ref"]=jr(N))),S.length&&(h["!merges"]=S),z.length>0&&(h["!cols"]=z),X.length>0&&(h["!rows"]=X),d[p]=h}else N={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=y=0,l.push([o[3],!1]),u=To(o[0]),p=Pr(u.Name),h=r.dense?[]:{},S=[],I=[],X=[],q={name:p,Hidden:0},B.Sheets.push(q);break;case"table":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),z=[],G=!1}break;case"style":o[1]==="/"?Vpe(_,C,r):C=To(o[0]);break;case"numberformat":C.nf=Pr(To(o[0]).Format||"General"),qx[C.nf]&&(C.nf=qx[C.nf]);for(var W=0;W!=392&&nr[W]!=C.nf;++W);if(W==392){for(W=57;W!=392;++W)if(nr[W]==null){Tf(C.nf,W);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(Y=To(o[0]),Y.Hidden&&(Y.hidden=!0,delete Y.Hidden),Y.Width&&(Y.wpx=parseInt(Y.Width,10)),!G&&Y.wpx>10){G=!0,Di=eH;for(var Z=0;Z<z.length;++Z)z[Z]&&_p(z[Z])}G&&_p(Y),z[Y.Index-1||z.length]=Y;for(var re=0;re<+Y.Span;++re)z[z.length]=Qa(Y);break;case"namedrange":if(o[1]==="/")break;B.Names||(B.Names=[]);var O=qt(o[0]),de={Name:O.Name,Ref:X0(O.RefersTo.slice(1),{r:0,c:0})};B.Sheets.length>0&&(de.Sheet=B.Sheets.length-1),B.Names.push(de);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?k+=n.slice(w,o.index):w=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;C.Interior=To(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Oce(P,K,n.slice(T,o.index)):T=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));Kpe(H),M.push(H)}else l.push([o[3],!1]),u=To(o[0]),H={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var ce=To(o[0]);h["!autofilter"]={ref:X0(ce.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return LD(n,r);var pe=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:pe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:pe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":B.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:pe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:pe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(T,o.index)){case"SheetHidden":q.Hidden=1;break;case"SheetVeryHidden":q.Hidden=2;break}else T=o.index+o[0].length;break;case"header":h["!margins"]||Hx(h["!margins"]={},"xlml"),isNaN(+qt(o[0]).Margin)||(h["!margins"].header=+qt(o[0]).Margin);break;case"footer":h["!margins"]||Hx(h["!margins"]={},"xlml"),isNaN(+qt(o[0]).Margin)||(h["!margins"].footer=+qt(o[0]).Margin);break;case"pagemargins":var Q=qt(o[0]);h["!margins"]||Hx(h["!margins"]={},"xlml"),isNaN(+Q.Top)||(h["!margins"].top=+Q.Top),isNaN(+Q.Left)||(h["!margins"].left=+Q.Left),isNaN(+Q.Right)||(h["!margins"].right=+Q.Right),isNaN(+Q.Bottom)||(h["!margins"].bottom=+Q.Bottom);break;case"displayrighttoleft":B.Views||(B.Views=[]),B.Views[0]||(B.Views[0]={}),B.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:pe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:pe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:pe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:pe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:pe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:pe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:pe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:pe=!1}break;case"smarttags":break;default:pe=!1;break}if(pe||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?qpe(A,K,F,n.slice(T,o.index)):(F=o,T=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var ne={};return!r.bookSheets&&!r.bookProps&&(ne.Sheets=d),ne.SheetNames=f,ne.Workbook=B,ne.SSF=Qa(nr),ne.Props=P,ne.Custprops=A,ne}function Vj(e,t){switch(FE(t=t||{}),t.type||"base64"){case"base64":return o3($s(e),t);case"binary":case"buffer":case"file":return o3(e,t);case"array":return o3(hh(e),t)}}function Xpe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=uce(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=dce(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Qpe=[60,1084,2066,2165,2175];function Jpe(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=pc(r,r.l),u=Gj[l],d=0;u!=null&&Qpe.indexOf(l)>-1;)i=pc(r,r.l+2),d=r.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),o=r.slice(d,r.l+4+i),s.push(o),r.l+=4+i,u=Gj[l=pc(r,r.l)];var f=Au(s);Ya(f,0);var h=0;f.lens=[];for(var p=0;p<s.length;++p)f.lens.push(h),h+=s[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function cl(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=nr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||gh[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=kv(e.v):e.w=zf(e.v):e.w=po(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&xm(nr[n]||String(n))){var a=pf(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Pb(e,t,r){return{v:e,ixfe:t,t:r}}function Zpe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],u="",d={},f,h="",p,m,g,v,x={},y=[],b,N,_=[],C=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},w={},S=function(Be){return Be<8?Af[Be]:Be<64&&C[Be-8]||Af[Be]},P=function(Be,$e,et){var Je=$e.XF.data;if(!(!Je||!Je.patternType||!et||!et.cellStyles)){$e.s={},$e.s.patternType=Je.patternType;var St;(St=Cv(S(Je.icvFore)))&&($e.s.fgColor={rgb:St}),(St=Cv(S(Je.icvBack)))&&($e.s.bgColor={rgb:St})}},A=function(Be,$e,et){if(!(J>1)&&!(et.sheetRows&&Be.r>=et.sheetRows)){if(et.cellStyles&&$e.XF&&$e.XF.data&&P(Be,$e,et),delete $e.ixfe,delete $e.XF,f=Be,h=Jt(Be),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Be.r<s.s.r&&(s.s.r=Be.r),Be.c<s.s.c&&(s.s.c=Be.c),Be.r+1>s.e.r&&(s.e.r=Be.r+1),Be.c+1>s.e.c&&(s.e.c=Be.c+1),et.cellFormula&&$e.f){for(var Je=0;Je<y.length;++Je)if(!(y[Je][0].s.c>Be.c||y[Je][0].s.r>Be.r)&&!(y[Je][0].e.c<Be.c||y[Je][0].e.r<Be.r)){$e.F=jr(y[Je][0]),(y[Je][0].s.c!=Be.c||y[Je][0].s.r!=Be.r)&&delete $e.f,$e.f&&($e.f=""+gi(y[Je][1],s,Be,I,T));break}}et.dense?(a[Be.r]||(a[Be.r]=[]),a[Be.r][Be.c]=$e):a[h]=$e}},T={enc:!1,sbcch:0,snames:[],sharedf:x,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(T.password=t.password);var F,M=[],H=[],z=[],Y=[],G=!1,I=[];I.SheetNames=T.snames,I.sharedf=T.sharedf,I.arrayf=T.arrayf,I.names=[],I.XTI=[];var X=0,J=0,E=0,R=[],B=[],q;T.codepage=1200,Uo(1200);for(var K=!1;e.l<e.length-1;){var ae=e.l,ee=e.read_shift(2);if(ee===0&&X===10)break;var W=e.l===e.length?0:e.read_shift(2),Z=Gj[ee];if(Z&&Z.f){if(t.bookSheets&&X===133&&ee!==133)break;if(X=ee,Z.r===2||Z.r==12){var re=e.read_shift(2);if(W-=2,!T.enc&&re!==ee&&((re&255)<<8|re>>8)!==ee)throw new Error("rt mismatch: "+re+"!="+ee);Z.r==12&&(e.l+=10,W-=10)}var O={};if(ee===10?O=Z.f(e,W,T):O=Jpe(ee,Z,e,W,T),J==0&&[9,521,1033,2057].indexOf(X)===-1)continue;switch(ee){case 34:r.opts.Date1904=k.WBProps.date1904=O;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=O,!t.password)throw new Error("File is password-protected");if(O.valid==null)throw new Error("Encryption scheme unsupported");if(!O.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=O;break;case 66:var de=Number(O);switch(de){case 21010:de=1200;break;case 32768:de=1e4;break;case 32769:de=1252;break}Uo(T.codepage=de),K=!0;break;case 317:T.rrtabid=O;break;case 25:T.winlocked=O;break;case 439:r.opts.RefreshAll=O;break;case 12:r.opts.CalcCount=O;break;case 16:r.opts.CalcDelta=O;break;case 17:r.opts.CalcIter=O;break;case 13:r.opts.CalcMode=O;break;case 14:r.opts.CalcPrecision=O;break;case 95:r.opts.CalcSaveRecalc=O;break;case 15:T.CalcRefMode=O;break;case 2211:r.opts.FullCalc=O;break;case 129:O.fDialog&&(a["!type"]="dialog"),O.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),O.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:_.push(O);break;case 430:I.push([O]),I[I.length-1].XTI=[];break;case 35:case 547:I[I.length-1].push(O);break;case 24:case 536:q={Name:O.Name,Ref:gi(O.rgce,s,null,I,T)},O.itab>0&&(q.Sheet=O.itab-1),I.names.push(q),I[0]||(I[0]=[],I[0].XTI=[]),I[I.length-1].push(O),O.Name=="_xlnm._FilterDatabase"&&O.itab>0&&O.rgce&&O.rgce[0]&&O.rgce[0][0]&&O.rgce[0][0][0]=="PtgArea3d"&&(B[O.itab-1]={ref:jr(O.rgce[0][0][1][2])});break;case 22:T.ExternCount=O;break;case 23:I.length==0&&(I[0]=[],I[0].XTI=[]),I[I.length-1].XTI=I[I.length-1].XTI.concat(O),I.XTI=I.XTI.concat(O);break;case 2196:if(T.biff<8)break;q!=null&&(q.Comment=O[1]);break;case 18:a["!protect"]=O;break;case 19:O!==0&&T.WTF&&console.error("Password verifier: "+O);break;case 133:i[O.pos]=O,T.snames.push(O.name);break;case 10:{if(--J)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=jr(s),t.sheetRows&&t.sheetRows<=s.e.r){var ce=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=jr(s),s.e.r=ce}s.e.r++,s.e.c++}M.length>0&&(a["!merges"]=M),H.length>0&&(a["!objects"]=H),z.length>0&&(a["!cols"]=z),Y.length>0&&(a["!rows"]=Y),k.Sheets.push(w)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(T.biff===8&&(T.biff={9:2,521:3,1033:4}[ee]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[O.BIFFVer]||8),T.biffguess=O.BIFFVer==0,O.BIFFVer==0&&O.dt==4096&&(T.biff=5,K=!0,Uo(T.codepage=28591)),T.biff==8&&O.BIFFVer==0&&O.dt==16&&(T.biff=2),J++)break;if(a=t.dense?[]:{},T.biff<8&&!K&&(K=!0,Uo(T.codepage=t.codepage||1252)),T.biff<5||O.BIFFVer==0&&O.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var pe={pos:e.l-W,name:u};i[pe.pos]=pe,T.snames.push(u)}else u=(i[ae]||{name:""}).name;O.dt==32&&(a["!type"]="chart"),O.dt==64&&(a["!type"]="macro"),M=[],H=[],T.arrayf=y=[],z=[],Y=[],G=!1,w={Hidden:(i[ae]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[O.r]||[])[O.c]:a[Jt({c:O.c,r:O.r})])&&++O.c,b={ixfe:O.ixfe,XF:_[O.ixfe]||{},v:O.val,t:"n"},E>0&&(b.z=R[b.ixfe>>8&63]),cl(b,t,r.opts.Date1904),A({c:O.c,r:O.r},b,t);break;case 5:case 517:b={ixfe:O.ixfe,XF:_[O.ixfe],v:O.val,t:O.t},E>0&&(b.z=R[b.ixfe>>8&63]),cl(b,t,r.opts.Date1904),A({c:O.c,r:O.r},b,t);break;case 638:b={ixfe:O.ixfe,XF:_[O.ixfe],v:O.rknum,t:"n"},E>0&&(b.z=R[b.ixfe>>8&63]),cl(b,t,r.opts.Date1904),A({c:O.c,r:O.r},b,t);break;case 189:for(var Q=O.c;Q<=O.C;++Q){var ne=O.rkrec[Q-O.c][0];b={ixfe:ne,XF:_[ne],v:O.rkrec[Q-O.c][1],t:"n"},E>0&&(b.z=R[b.ixfe>>8&63]),cl(b,t,r.opts.Date1904),A({c:Q,r:O.r},b,t)}break;case 6:case 518:case 1030:{if(O.val=="String"){o=O;break}if(b=Pb(O.val,O.cell.ixfe,O.tt),b.XF=_[b.ixfe],t.cellFormula){var Ae=O.formula;if(Ae&&Ae[0]&&Ae[0][0]&&Ae[0][0][0]=="PtgExp"){var Ee=Ae[0][0][1][0],De=Ae[0][0][1][1],Oe=Jt({r:Ee,c:De});x[Oe]?b.f=""+gi(O.formula,s,O.cell,I,T):b.F=((t.dense?(a[Ee]||[])[De]:a[Oe])||{}).F}else b.f=""+gi(O.formula,s,O.cell,I,T)}E>0&&(b.z=R[b.ixfe>>8&63]),cl(b,t,r.opts.Date1904),A(O.cell,b,t),o=O}break;case 7:case 519:if(o)o.val=O,b=Pb(O,o.cell.ixfe,"s"),b.XF=_[b.ixfe],t.cellFormula&&(b.f=""+gi(o.formula,s,o.cell,I,T)),E>0&&(b.z=R[b.ixfe>>8&63]),cl(b,t,r.opts.Date1904),A(o.cell,b,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(O);var Fe=Jt(O[0].s);if(p=t.dense?(a[O[0].s.r]||[])[O[0].s.c]:a[Fe],t.cellFormula&&p){if(!o||!Fe||!p)break;p.f=""+gi(O[1],s,O[0],I,T),p.F=jr(O[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;x[Jt(o.cell)]=O[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Jt(o.cell)],(p||{}).f=""+gi(O[0],s,f,I,T)}}break;case 253:b=Pb(l[O.isst].t,O.ixfe,"s"),l[O.isst].h&&(b.h=l[O.isst].h),b.XF=_[b.ixfe],E>0&&(b.z=R[b.ixfe>>8&63]),cl(b,t,r.opts.Date1904),A({c:O.c,r:O.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:O.ixfe,XF:_[O.ixfe],t:"z"},E>0&&(b.z=R[b.ixfe>>8&63]),cl(b,t,r.opts.Date1904),A({c:O.c,r:O.r},b,t));break;case 190:if(t.sheetStubs)for(var ve=O.c;ve<=O.C;++ve){var me=O.ixfe[ve-O.c];b={ixfe:me,XF:_[me],t:"z"},E>0&&(b.z=R[b.ixfe>>8&63]),cl(b,t,r.opts.Date1904),A({c:ve,r:O.r},b,t)}break;case 214:case 516:case 4:b=Pb(O.val,O.ixfe,"s"),b.XF=_[b.ixfe],E>0&&(b.z=R[b.ixfe>>8&63]),cl(b,t,r.opts.Date1904),A({c:O.c,r:O.r},b,t);break;case 0:case 512:J===1&&(s=O);break;case 252:l=O;break;case 1054:if(T.biff==4){R[E++]=O[1];for(var le=0;le<E+163&&nr[le]!=O[1];++le);le>=163&&Tf(O[1],E+163)}else Tf(O[1],O[0]);break;case 30:{R[E++]=O;for(var be=0;be<E+163&&nr[be]!=O;++be);be>=163&&Tf(O,E+163)}break;case 229:M=M.concat(O);break;case 93:H[O.cmo[0]]=T.lastobj=O;break;case 438:T.lastobj.TxO=O;break;case 127:T.lastobj.ImData=O;break;case 440:for(v=O[0].s.r;v<=O[0].e.r;++v)for(g=O[0].s.c;g<=O[0].e.c;++g)p=t.dense?(a[v]||[])[g]:a[Jt({c:g,r:v})],p&&(p.l=O[1]);break;case 2048:for(v=O[0].s.r;v<=O[0].e.r;++v)for(g=O[0].s.c;g<=O[0].e.c;++g)p=t.dense?(a[v]||[])[g]:a[Jt({c:g,r:v})],p&&p.l&&(p.l.Tooltip=O[1]);break;case 28:{if(T.biff<=5&&T.biff>=2)break;p=t.dense?(a[O[0].r]||[])[O[0].c]:a[Jt(O[0])];var Pe=H[O[2]];p||(t.dense?(a[O[0].r]||(a[O[0].r]=[]),p=a[O[0].r][O[0].c]={t:"z"}):p=a[Jt(O[0])]={t:"z"},s.e.r=Math.max(s.e.r,O[0].r),s.s.r=Math.min(s.s.r,O[0].r),s.e.c=Math.max(s.e.c,O[0].c),s.s.c=Math.min(s.s.c,O[0].c)),p.c||(p.c=[]),m={a:O[1],t:Pe.TxO.t},p.c.push(m)}break;case 2173:wfe(_[O.ixfe],O.ext);break;case 125:{if(!T.cellStyles)break;for(;O.e>=O.s;)z[O.e--]={width:O.w/256,level:O.level||0,hidden:!!(O.flags&1)},G||(G=!0,PE(O.w/256)),_p(z[O.e+1])}break;case 520:{var je={};O.level!=null&&(Y[O.r]=je,je.level=O.level),O.hidden&&(Y[O.r]=je,je.hidden=!0),O.hpt&&(Y[O.r]=je,je.hpt=O.hpt,je.hpx=Tv(O.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Hx(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ee]]=O;break;case 161:a["!margins"]||Hx(a["!margins"]={}),a["!margins"].header=O.header,a["!margins"].footer=O.footer;break;case 574:O.RTL&&(k.Views[0].RTL=!0);break;case 146:C=O;break;case 2198:F=O;break;case 140:N=O;break;case 442:u?w.CodeName=O||w.name:k.WBProps.CodeName=O||"ThisWorkbook";break}}else Z||console.error("Missing Info for XLS Record 0x"+ee.toString(16)),e.l+=W}return r.SheetNames=Dl(i).sort(function(Ce,Be){return Number(Ce)-Number(Be)}).map(function(Ce){return i[Ce].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&B.forEach(function(Ce,Be){r.Sheets[r.SheetNames[Be]]["!autofilter"]=Ce}),r.Strings=l,r.SSF=Qa(nr),T.enc&&(r.Encryption=T.enc),F&&(r.Themes=F),r.Metadata={},N!==void 0&&(r.Metadata.Country=N),I.names.length>0&&(k.Names=I.names),r.Workbook=k,r}var OD={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function eme(e,t,r){var n=Nr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=mD(n,xce,OD.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var s=Nr.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=mD(s,vce,OD.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(Lz(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function bH(e,t){t||(t={}),FE(t),KW(),t.codepage&&pE(t.codepage);var r,n;if(e.FullPaths){if(Nr.find(e,"/encryption"))throw new Error("File is password-protected");r=Nr.find(e,"!CompObj"),n=Nr.find(e,"/Workbook")||Nr.find(e,"/Book")}else{switch(t.type){case"base64":e=Ro($s(e));break;case"binary":e=Ro(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ya(e,0),n={content:e}}var a,i;if(r&&Xpe(r),t.bookProps&&!t.bookSheets)a={};else{var s=wr?"buffer":"array";if(n&&n.content)a=Zpe(n.content,t);else if((i=Nr.find(e,"PerfectOffice_MAIN"))&&i.content)a=Wx.to_workbook(i.content,(t.type=s,t));else if((i=Nr.find(e,"NativeContent_MAIN"))&&i.content)a=Wx.to_workbook(i.content,(t.type=s,t));else throw(i=Nr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Nr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Rfe(e))}var o={};return e.FullPaths&&eme(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var yw={0:{f:M0e},1:{f:R0e},2:{f:G0e},3:{f:z0e},4:{f:U0e},5:{f:V0e},6:{f:Q0e},7:{f:q0e},8:{f:rpe},9:{f:tpe},10:{f:Z0e},11:{f:epe},12:{f:B0e},13:{f:K0e},14:{f:H0e},15:{f:W0e},16:{f:mH},17:{f:J0e},18:{f:Y0e},19:{f:NE},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Ape},40:{},42:{},43:{f:Zde},44:{f:Jde},45:{f:efe},46:{f:rfe},47:{f:tfe},48:{},49:{f:nce},50:{},51:{f:kfe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Kz},62:{f:X0e},63:{f:Tfe},64:{f:dpe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Si,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:upe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:I0e},148:{f:F0e,p:16},151:{f:ipe},152:{},153:{f:Cpe},154:{},155:{},156:{f:jpe},157:{},158:{},159:{T:1,f:vde},160:{T:-1},161:{T:1,f:mh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:npe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:_fe},336:{T:-1},337:{f:Sfe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:zj},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Gz},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:spe},427:{f:ope},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:cpe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:L0e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:ape},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:zj},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Ffe},633:{T:1},634:{T:-1},635:{T:1,f:Mfe},636:{T:-1},637:{f:ice},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:xpe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:fpe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Gj={6:{f:i3},10:{f:gu},12:{f:da},13:{f:da},14:{f:Gn},15:{f:Gn},16:{f:yi},17:{f:Gn},18:{f:Gn},19:{f:da},20:{f:yD},21:{f:yD},23:{f:Gz},24:{f:wD},25:{f:Gn},26:{},27:{},28:{f:$ue},29:{},34:{f:Gn},35:{f:bD},38:{f:yi},39:{f:yi},40:{f:yi},41:{f:yi},42:{f:Gn},43:{f:Gn},47:{f:Lde},49:{f:pue},51:{f:da},60:{},61:{f:due},64:{f:Gn},65:{f:hue},66:{f:da},77:{},80:{},81:{},82:{},85:{f:da},89:{},90:{},91:{},92:{f:nue},93:{f:Mue},94:{},95:{f:Gn},96:{},97:{},99:{f:Gn},125:{f:Kz},128:{f:Sue},129:{f:aue},130:{f:da},131:{f:Gn},132:{f:Gn},133:{f:iue},134:{},140:{f:Uue},141:{f:da},144:{},146:{f:zue},151:{},152:{},153:{},154:{},155:{},156:{f:da},157:{},158:{},160:{f:Gue},161:{f:que},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:bue},190:{f:wue},193:{f:gu},197:{},198:{},199:{},200:{},201:{},202:{f:Gn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:da},220:{},221:{f:Gn},222:{},224:{f:kue},225:{f:rue},226:{f:gu},227:{},229:{f:Due},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:sue},253:{f:mue},255:{f:oue},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Wz},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Gn},353:{f:gu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:jue},431:{f:Gn},432:{},433:{},434:{},437:{},438:{f:Iue},439:{f:Gn},440:{f:Rue},441:{},442:{f:Uy},443:{},444:{f:da},445:{},446:{},448:{f:gu},449:{f:uue,r:2},450:{f:gu},512:{f:xD},513:{f:Vue},515:{f:Nue},516:{f:gue},517:{f:vD},519:{f:Kue},520:{f:lue},523:{},545:{f:_D},549:{f:gD},566:{},574:{f:fue},638:{f:yue},659:{},1048:{},1054:{f:xue},1084:{},1212:{f:Eue},2048:{f:Bue},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Tb},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:gu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Hue,r:12},2173:{f:bfe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Gn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Aue,r:12},2197:{},2198:{f:pfe,r:12},2199:{},2200:{},2201:{},2202:{f:Pue,r:12},2203:{f:gu},2204:{},2205:{},2206:{},2207:{},2211:{f:cue},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:da},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Yue},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Wue},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:xD},1:{},2:{f:Zue},3:{f:Jue},4:{f:Que},5:{f:vD},7:{f:ede},8:{},9:{f:Tb},11:{},22:{f:da},30:{f:vue},31:{},32:{},33:{f:_D},36:{},37:{f:gD},50:{f:tde},62:{},52:{},67:{},68:{f:da},69:{},86:{},126:{},127:{f:Xue},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:rde},223:{},234:{},354:{},421:{},518:{f:i3},521:{f:Tb},536:{f:wD},547:{f:bD},561:{},579:{},1030:{f:i3},1033:{f:Tb},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ao(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&Az(r)&&e.push(r)}}function $D(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=Nle(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(s=0;s<l.length;++s){var g=l[s].trim(),v=g.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var x=g.split(/<\/t[dh]>/i);for(o=0;o<x.length;++o){var y=x[o].trim();if(y.match(/<t[dh]/i)){for(var b=y,N=0;b.charAt(0)=="<"&&(N=b.indexOf(">"))>-1;)b=b.slice(N+1);for(var _=0;_<m.length;++_){var C=m[_];C.s.c==d&&C.s.r<u&&u<=C.e.r&&(d=C.e.c+1,_=-1)}var k=qt(y.slice(0,y.indexOf(">")));h=k.colspan?+k.colspan:1,((f=+k.rowspan)>1||h>1)&&m.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var w=k.t||k["data-t"]||"";if(!b.length){d+=h;continue}if(b=gz(b),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!b.length){d+=h;continue}var S={t:"s",v:b};r.raw||!b.trim().length||w=="s"||(b==="TRUE"?S={t:"b",v:!0}:b==="FALSE"?S={t:"b",v:!1}:isNaN(Yo(b))?isNaN(wp(b).getDate())||(S={t:"d",v:Fa(b)},r.cellDates||(S={t:"n",v:qi(S.v)}),S.z=r.dateNF||nr[14]):S={t:"n",v:Yo(b)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=S):n[Jt({r:u,c:d})]=S,d+=h}}}}return n["!ref"]=jr(p),m.length&&(n["!merges"]=m),n}function tme(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>s)&&!(a[u].e.r<r||a[u].e.c<s)){if(a[u].s.r<r||a[u].s.c<s){o=-1;break}o=a[u].e.r-a[u].s.r+1,l=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var d=Jt({r,c:s}),f=n.dense?(e[r]||[])[s]:e[d],h=f&&f.v!=null&&(f.h||bE(f.w||(Rc(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(Ule("td",h,p))}}var m="<tr>";return m+i.join("")+"</tr>"}var rme='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',nme="</body></html>";function ame(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Ed($D(r[0],t),t);var n=IE();return r.forEach(function(a,i){RE(n,$D(a,t),"Sheet"+(i+1))}),n}function ime(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function sme(e,t){var r=t||{},n=r.header!=null?r.header:rme,a=r.footer!=null?r.footer:nme,i=[n],s=vm(e["!ref"]);r.dense=Array.isArray(e),i.push(ime(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(tme(e,s,o,r));return i.push("</table>"+a),i.join("")}function wH(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?Mi(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=vm(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),m=0,g=0,v=0,x=0,y=0,b=0;for(e["!cols"]||(e["!cols"]=[]);m<o.length&&g<l;++m){var N=o[m];if(DD(N)){if(n.display)continue;p[g]={hidden:!0}}var _=N.children;for(v=x=0;v<_.length;++v){var C=_[v];if(!(n.display&&DD(C))){var k=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):gz(C.innerHTML),w=C.getAttribute("data-z")||C.getAttribute("z");for(h=0;h<f.length;++h){var S=f[h];S.s.c==x+i&&S.s.r<g+a&&g+a<=S.e.r&&(x=S.e.c+1-i,h=-1)}b=+C.getAttribute("colspan")||1,((y=+C.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:g+a,c:x+i},e:{r:g+a+(y||1)-1,c:x+i+(b||1)-1}});var P={t:"s",v:k},A=C.getAttribute("data-t")||C.getAttribute("t")||"";k!=null&&(k.length==0?P.t=A||"z":n.raw||k.trim().length==0||A=="s"||(k==="TRUE"?P={t:"b",v:!0}:k==="FALSE"?P={t:"b",v:!1}:isNaN(Yo(k))?isNaN(wp(k).getDate())||(P={t:"d",v:Fa(k)},n.cellDates||(P={t:"n",v:qi(P.v)}),P.z=n.dateNF||nr[14]):P={t:"n",v:Yo(k)})),P.z===void 0&&w!=null&&(P.z=w);var T="",F=C.getElementsByTagName("A");if(F&&F.length)for(var M=0;M<F.length&&!(F[M].hasAttribute("href")&&(T=F[M].getAttribute("href"),T.charAt(0)!="#"));++M);T&&T.charAt(0)!="#"&&(P.l={Target:T}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][x+i]=P):e[Jt({c:x+i,r:g+a})]=P,u.e.c<x+i&&(u.e.c=x+i),x+=b}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=jr(u),g>=l&&(e["!fullref"]=jr((u.e.r=o.length-m+g-1+a,u))),e}function _H(e,t){var r=t||{},n=r.dense?[]:{};return wH(n,e,t)}function ome(e,t){return Ed(_H(e,t),t)}function DD(e){var t="",r=lme(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function lme(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function cme(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Pr(t.replace(/<[^>]*>/g,""));return[r]}var MD={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function kH(e,t){var r=t||{},n=wE(e),a=[],i,s,o={name:""},l="",u=0,d,f,h={},p=[],m=r.dense?[]:{},g,v,x={value:""},y="",b=0,N=[],_=-1,C=-1,k={s:{r:1e6,c:1e7},e:{r:0,c:0}},w=0,S={},P=[],A={},T=0,F=0,M=[],H=1,z=1,Y=[],G={Names:[]},I={},X=["",""],J=[],E={},R="",B=0,q=!1,K=!1,ae=0;for(Nv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=Nv.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"工作表":g[1]==="/"?(k.e.c>=k.s.c&&k.e.r>=k.s.r?m["!ref"]=jr(k):m["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=k.e.r&&(m["!fullref"]=m["!ref"],k.e.r=r.sheetRows-1,m["!ref"]=jr(k)),P.length&&(m["!merges"]=P),M.length&&(m["!rows"]=M),d.name=d.名称||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),h[d.name]=m,K=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=qt(g[0],!1),_=C=-1,k.s.r=k.s.c=1e7,k.e.r=k.e.c=0,m=r.dense?[]:{},P=[],M=[],K=!0);break;case"table-row-group":g[1]==="/"?--w:++w;break;case"table-row":case"行":if(g[1]==="/"){_+=H,H=1;break}if(f=qt(g[0],!1),f.行号?_=f.行号-1:_==-1&&(_=0),H=+f["number-rows-repeated"]||1,H<10)for(ae=0;ae<H;++ae)w>0&&(M[_+ae]={level:w});C=-1;break;case"covered-table-cell":g[1]!=="/"&&++C,r.sheetStubs&&(r.dense?(m[_]||(m[_]=[]),m[_][C]={t:"z"}):m[Jt({r:_,c:C})]={t:"z"}),y="",N=[];break;case"table-cell":case"数据":if(g[0].charAt(g[0].length-2)==="/")++C,x=qt(g[0],!1),z=parseInt(x["number-columns-repeated"]||"1",10),v={t:"z",v:null},x.formula&&r.cellFormula!=!1&&(v.f=AD(Pr(x.formula))),(x.数据类型||x["value-type"])=="string"&&(v.t="s",v.v=Pr(x["string-value"]||""),r.dense?(m[_]||(m[_]=[]),m[_][C]=v):m[Jt({r:_,c:C})]=v),C+=z-1;else if(g[1]!=="/"){++C,y="",b=0,N=[],z=1;var ee=H?_+H-1:_;if(C>k.e.c&&(k.e.c=C),C<k.s.c&&(k.s.c=C),_<k.s.r&&(k.s.r=_),ee>k.e.r&&(k.e.r=ee),x=qt(g[0],!1),J=[],E={},v={t:x.数据类型||x["value-type"],v:null},r.cellFormula)if(x.formula&&(x.formula=Pr(x.formula)),x["number-matrix-columns-spanned"]&&x["number-matrix-rows-spanned"]&&(T=parseInt(x["number-matrix-rows-spanned"],10)||0,F=parseInt(x["number-matrix-columns-spanned"],10)||0,A={s:{r:_,c:C},e:{r:_+T-1,c:C+F-1}},v.F=jr(A),Y.push([A,v.F])),x.formula)v.f=AD(x.formula);else for(ae=0;ae<Y.length;++ae)_>=Y[ae][0].s.r&&_<=Y[ae][0].e.r&&C>=Y[ae][0].s.c&&C<=Y[ae][0].e.c&&(v.F=Y[ae][1]);switch((x["number-columns-spanned"]||x["number-rows-spanned"])&&(T=parseInt(x["number-rows-spanned"],10)||0,F=parseInt(x["number-columns-spanned"],10)||0,A={s:{r:_,c:C},e:{r:_+T-1,c:C+F-1}},P.push(A)),x["number-columns-repeated"]&&(z=parseInt(x["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=kn(x["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(x.value);break;case"percentage":v.t="n",v.v=parseFloat(x.value);break;case"currency":v.t="n",v.v=parseFloat(x.value);break;case"date":v.t="d",v.v=Fa(x["date-value"]),r.cellDates||(v.t="n",v.v=qi(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=_le(x["time-value"])/86400,r.cellDates&&(v.t="d",v.v=w5(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(x.数据数值);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",x["string-value"]!=null&&(y=Pr(x["string-value"]),N=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(q=!1,v.t==="s"&&(v.v=y||"",N.length&&(v.R=N),q=b==0),I.Target&&(v.l=I),J.length>0&&(v.c=J,J=[]),y&&r.cellText!==!1&&(v.w=y),q&&(v.t="z",delete v.v),(!q||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=_))for(var W=0;W<H;++W){if(z=parseInt(x["number-columns-repeated"]||"1",10),r.dense)for(m[_+W]||(m[_+W]=[]),m[_+W][C]=W==0?v:Qa(v);--z>0;)m[_+W][C+z]=Qa(v);else for(m[Jt({r:_+W,c:C})]=v;--z>0;)m[Jt({r:_+W,c:C+z})]=Qa(v);k.e.c<=C&&(k.e.c=C)}z=parseInt(x["number-columns-repeated"]||"1",10),C+=z-1,z=0,v={},y="",N=[]}I={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i;E.t=y,N.length&&(E.R=N),E.a=R,J.push(E)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);R="",B=0,y="",b=0,N=[];break;case"creator":g[1]==="/"?R=n.slice(B,g.index):B=g.index+g[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);y="",b=0,N=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(S[o.name]=l,(i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(l="",o=qt(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=qt(g[0],!1),l+=MD[g[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=qt(g[0],!1),l+=MD[g[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":s=qt(g[0],!1),X=s3(s["cell-range-address"]);var Z={Name:s.name,Ref:X[0]+"!"+X[1]};K&&(Z.Sheet=p.length),G.Names.push(Z);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!x||!x["string-value"])){var re=cme(n.slice(b,g.index));y=(y.length>0?y+`
`:"")+re[0]}else qt(g[0],!1),b=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{X=s3(qt(g[0])["target-range-address"]),h[X[0]]["!autofilter"]={ref:X[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(I=qt(g[0],!1),!I.href)break;I.Target=Pr(I.href),delete I.href,I.Target.charAt(0)=="#"&&I.Target.indexOf(".")>-1?(X=s3(I.Target.slice(1)),I.Target="#"+X[0]+"!"+X[1]):I.Target.match(/^\.\.[\\\/]/)&&(I.Target=I.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(g)}}var O={Sheets:h,SheetNames:p,Workbook:G};return r.bookSheets&&delete O.Sheets,O}function FD(e,t){t=t||{},Ks(e,"META-INF/manifest.xml")&&Nce(ua(e,"META-INF/manifest.xml"),t);var r=Ns(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=kH(pn(r),t);return Ks(e,"meta.xml")&&(n.Props=Fz(ua(e,"meta.xml"))),n}function LD(e,t){return kH(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function DE(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Kj(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):pn(hh(e))}function Xj(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function ID(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function ume(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Av(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Na(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function bi(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Av(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Av(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function ME(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function dme(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Av(e,n),i=bi(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:Na(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=bi(o.data),u=Na(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(s.merge=Na(i[3][0].data)>>>0>0),r.push(s)}return r}function fme(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Av(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Xj(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(a.push(a[0].slice(-l)),u-=l;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-l,-l+u))}}var d=Xj(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function hme(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(fme(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Xj(t)}function pme(e,t,r,n){var a=DE(e),i=a.getUint32(4,!0),s=(n>1?12:8)+ID(i&(n>1?3470:398))*4,o=-1,l=-1,u=NaN,d=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=ID(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(u=a.getFloat64(s,!0),s+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function mme(e,t,r){var n=DE(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(l=ume(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function gme(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return pme(e,t,r,e[0]);case 5:return mme(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Xu(e){var t=bi(e);return Av(t[1][0].data)}function RD(e,t){var r=bi(t.data),n=Na(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=bi(s.data),l=Na(o[1][0].data)>>>0;switch(n){case 1:i[l]=Kj(o[3][0].data);break;case 8:{var u=e[Xu(o[9][0].data)][0],d=bi(u.data),f=e[Xu(d[1][0].data)][0],h=Na(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=bi(f.data);i[l]=p[3].map(function(m){return Kj(m.data)}).join("")}break}}),i}function xme(e,t){var r,n,a,i,s,o,l,u,d,f,h,p,m,g,v=bi(e),x=Na(v[1][0].data)>>>0,y=Na(v[2][0].data)>>>0,b=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&Na(v[8][0].data)>0||!1,N,_;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)N=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,_=(u=(l=v[6])==null?void 0:l[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)N=(p=(h=v[4])==null?void 0:h[0])==null?void 0:p.data,_=(g=(m=v[3])==null?void 0:m[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var C=b?4:1,k=DE(N),w=[],S=0;S<N.length/2;++S){var P=k.getUint16(S*2,!0);P<65535&&w.push([S,P])}if(w.length!=y)throw"Expected ".concat(y," cells, found ").concat(w.length);var A=[];for(S=0;S<w.length-1;++S)A[w[S][0]]=_.subarray(w[S][1]*C,w[S+1][1]*C);return w.length>=1&&(A[w[w.length-1][0]]=_.subarray(w[w.length-1][1]*C)),{R:x,cells:A}}function vme(e,t){var r,n=bi(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Na(n[7][0].data)>>>0>0?1:0:-1,i=ME(n[5],function(s){return xme(s,a)});return{nrows:Na(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,u){if(s[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));s[o.R][u]=l}),s},[])}}function yme(e,t,r){var n,a=bi(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Na(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Na(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=jr(i);var s=bi(a[4][0].data),o=RD(e,e[Xu(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?RD(e,e[Xu(s[17][0].data)][0]):[],u=bi(s[3][0].data),d=0;u[1].forEach(function(f){var h=bi(f.data),p=e[Xu(h[2][0].data)][0],m=Na(p.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var g=vme(e,p);g.data.forEach(function(v,x){v.forEach(function(y,b){var N=Jt({r:d+x,c:b}),_=gme(y,o,l);_&&(r[N]=_)})}),d+=g.nrows})}function bme(e,t){var r=bi(t.data),n={"!ref":"A1"},a=e[Xu(r[2][0].data)],i=Na(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return yme(e,a[0],n),n}function wme(e,t){var r,n=bi(t.data),a={name:(r=n[1])!=null&&r[0]?Kj(n[1][0].data):"",sheets:[]},i=ME(n[2],Xu);return i.forEach(function(s){e[s].forEach(function(o){var l=Na(o.meta[1][0].data);l==6e3&&a.sheets.push(bme(e,o))})}),a}function _me(e,t){var r=IE(),n=bi(t.data),a=ME(n[1],Xu);if(a.forEach(function(i){e[i].forEach(function(s){var o=Na(s.meta[1][0].data);if(o==2){var l=wme(e,s);l.sheets.forEach(function(u,d){RE(r,u,d==0?l.name:l.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function l3(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=hme(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var d;try{d=dme(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Na(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(u){var d=Na(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return _me(i,o)}function kme(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function FE(e){kme([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Sme(e){return F0.WS.indexOf(e)>-1?"sheet":e==F0.CS?"chart":e==F0.DS?"dialog":e==F0.MS?"macro":e&&e.length?e:"sheet"}function Nme(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Sme(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function jme(e,t,r,n,a,i,s,o,l,u,d,f){try{i[n]=Bx(Ns(e,r,!0),t);var h=ua(e,t),p;switch(o){case"sheet":p=Ope(h,t,a,l,i[n],u,d,f);break;case"chart":if(p=$pe(h,t,a,l,i[n],u,d,f),!p||!p["!drawel"])break;var m=dx(p["!drawel"].Target,t),g=Hj(m),v=Pfe(Ns(e,m,!0),Bx(Ns(e,g,!0),m)),x=dx(v,m),y=Hj(x);p=mpe(Ns(e,x,!0),x,l,Bx(Ns(e,y,!0),x),u,p);break;case"macro":p=Dpe(h,t,a,l,i[n],u,d,f);break;case"dialog":p=Mpe(h,t,a,l,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=p;var b=[];i&&i[n]&&Dl(i[n]).forEach(function(N){var _="";if(i[n][N].Type==F0.CMNT){_=dx(i[n][N].Target,t);var C=Rpe(ua(e,_,!0),_,l);if(!C||!C.length)return;SD(p,C,!1)}i[n][N].Type==F0.TCMNT&&(_=dx(i[n][N].Target,t),b=b.concat($fe(ua(e,_,!0),l)))}),b&&b.length&&SD(p,b,!0,l.people||[])}catch(N){if(l.WTF)throw N}}function qs(e){return e.charAt(0)=="/"?e.slice(1):e}function Cme(e,t){if(oz(),t=t||{},FE(t),Ks(e,"META-INF/manifest.xml")||Ks(e,"objectdata.xml"))return FD(e,t);if(Ks(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof l3<"u"){if(e.FileIndex)return l3(e);var r=Nr.utils.cfb_new();return Q$(e).forEach(function(M){Tle(r,M,Cle(e,M))}),l3(r)}throw new Error("Unsupported NUMBERS file")}if(!Ks(e,"[Content_Types].xml"))throw Ks(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ks(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=Q$(e),a=kce(Ns(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",ua(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!ua(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},u={};if(!t.bookSheets&&!t.bookProps){if(zx=[],a.sst)try{zx=Ipe(ua(e,qs(a.sst)),a.sst,t)}catch(M){if(t.WTF)throw M}t.cellStyles&&a.themes.length&&(l=Lpe(Ns(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=Fpe(ua(e,qs(a.style)),a.style,l,t))}a.links.map(function(M){try{var H=Bx(Ns(e,Hj(qs(M))),M);return Upe(ua(e,qs(M)),H,M,t)}catch{}});var d=Ppe(ua(e,qs(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=ua(e,qs(a.coreprops[0]),!0),h&&(f=Fz(h)),a.extprops.length!==0&&(h=ua(e,qs(a.extprops[0]),!0),h&&Tce(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=Ns(e,qs(a.custprops[0]),!0),h&&(p=Ece(h,t)));var m={};if((t.bookSheets||t.bookProps)&&(d.Sheets?s=d.Sheets.map(function(H){return H.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(m.Props=f,m.Custprops=p),t.bookSheets&&typeof s<"u"&&(m.SheetNames=s),t.bookSheets?m.SheetNames:t.bookProps))return m;s={};var g={};t.bookDeps&&a.calcchain&&(g=Bpe(ua(e,qs(a.calcchain)),a.calcchain));var v=0,x={},y,b;{var N=d.Sheets;f.Worksheets=N.length,f.SheetNames=[];for(var _=0;_!=N.length;++_)f.SheetNames[_]=N[_].name}var C=i?"bin":"xml",k=a.workbooks[0].lastIndexOf("/"),w=(a.workbooks[0].slice(0,k+1)+"_rels/"+a.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");Ks(e,w)||(w="xl/_rels/workbook."+C+".rels");var S=Bx(Ns(e,w,!0),w.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Wpe(ua(e,qs(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Dfe(ua(e,qs(a.people[0])),t)),S&&(S=Nme(S,d.Sheets));var P=ua(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var A="sheet";if(S&&S[v]?(y="xl/"+S[v][1].replace(/[\/]?xl\//,""),Ks(e,y)||(y=S[v][1]),Ks(e,y)||(y=w.replace(/_rels\/.*$/,"")+S[v][1]),A=S[v][2]):(y="xl/worksheets/sheet"+(v+1-P)+"."+C,y=y.replace(/sheet0\./,"sheet.")),b=y.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var T=!1,F=0;F!=t.sheets.length;++F)typeof t.sheets[F]=="number"&&t.sheets[F]==v&&(T=1),typeof t.sheets[F]=="string"&&t.sheets[F].toLowerCase()==f.SheetNames[v].toLowerCase()&&(T=1);if(!T)continue e}}jme(e,y,b,f.SheetNames[v],v,x,s,A,t,d,l,u)}return m={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:g,Sheets:s,SheetNames:f.SheetNames,Strings:zx,Styles:u,Themes:l,SSF:Qa(nr)},t&&t.bookFiles&&(e.files?(m.keys=n,m.files=e.files):(m.keys=[],m.files={},e.FullPaths.forEach(function(M,H){M=M.replace(/^Root Entry[\/]/,""),m.keys.push(M),m.files[M]=e.FileIndex[H]}))),t&&t.bookVBA&&(a.vba.length>0?m.vbaraw=ua(e,qs(a.vba[0]),!0):a.defaults&&a.defaults.bin===Ife&&(m.vbaraw=ua(e,"xl/vbaProject.bin",!0))),m}function Tme(e,t){var r=t||{},n="Workbook",a=Nr.find(e,n);try{if(n="/!DataSpaces/Version",a=Nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(bde(a.content),n="/!DataSpaces/DataSpaceMap",a=Nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=_de(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=kde(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);Nde(a.content)}catch{}if(n="/EncryptionInfo",a=Nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=jde(a.content);if(n="/EncryptedPackage",a=Nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function LE(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=$s(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Ame(e,t){return Nr.find(e,"EncryptedPackage")?Tme(e,t):bH(e,t)}function Eme(e,t){var r,n=e,a=t||{};return a.type||(a.type=wr&&Buffer.isBuffer(e)?"buffer":"base64"),r=hz(n,a),Cme(r,a)}function SH(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Vj(e.slice(r),t);default:break e}return jv.to_workbook(e,t)}function Pme(e,t){var r="",n=LE(e,t);switch(t.type){case"base64":r=$s(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Hf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=pn(r)),t.type="binary",SH(r,t)}function Ome(e,t){var r=e;return t.type=="base64"&&(r=$s(r)),r=Uj.utils.decode(1200,r.slice(2),"str"),t.type="binary",SH(r,t)}function $me(e){return e.match(/[^\x00-\x7F]/)?fx(e):e}function c3(e,t,r,n){return n?(r.type="string",jv.to_workbook(e,r)):jv.to_workbook(t,r)}function kp(e,t){KW();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return kp(new Uint8Array(e),(r=Qa(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Q0={},r.dateNF&&(Q0.dateNF=r.dateNF),r.type||(r.type=wr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=wr?"buffer":"binary",n=ble(e),typeof Uint8Array<"u"&&!wr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=$me(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Qa(r),r.type="array",kp(mE(n),r)}switch((a=LE(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Ame(Nr.read(n,r),r);break;case 9:if(a[1]<=8)return bH(n,r);break;case 60:return Vj(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return ode(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return ide.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Eme(n,r):c3(e,n,r,i);case 239:return a[3]===60?Vj(n,r):c3(e,n,r,i);case 255:if(a[1]===254)return Ome(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Wx.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Wx.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return kD.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Ide.to_workbook(n,r);break;case 10:case 13:case 32:return Pme(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return nde.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?kD.to_workbook(n,r):c3(e,n,r,i)}function Dme(e,t,r,n,a,i,s,o){var l=Ja(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var m=s?e[r][p]:e[n[p]+l];if(m===void 0||m.t===void 0){if(u===void 0)continue;i[p]!=null&&(h[i[p]]=u);continue}var g=m.v;switch(m.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(i[p]!=null){if(g==null)if(m.t=="e"&&g===null)h[i[p]]=null;else if(u!==void 0)h[i[p]]=u;else if(d&&g===null)h[i[p]]=null;else continue;else h[i[p]]=d&&(m.t!=="n"||m.t==="n"&&o.rawNumbers!==!1)?g:Rc(m,g,o);g!=null&&(f=!1)}}return{row:h,isempty:f}}function Qj(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":l=zn(d);break;case"number":l=zn(e["!ref"]),l.s.r=d;break;default:l=d}n>0&&(a=0);var f=Ja(l.s.r),h=[],p=[],m=0,g=0,v=Array.isArray(e),x=l.s.r,y=0,b={};v&&!e[x]&&(e[x]=[]);var N=u.skipHidden&&e["!cols"]||[],_=u.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(N[y]||{}).hidden)switch(h[y]=ka(y),r=v?e[x][y]:e[h[y]+f],n){case 1:i[y]=y-l.s.c;break;case 2:i[y]=h[y];break;case 3:i[y]=u.header[y-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Rc(r,null,u),g=b[s]||0,!g)b[s]=1;else{do o=s+"_"+g++;while(b[o]);b[s]=g,b[o]=1}i[y]=o}for(x=l.s.r+a;x<=l.e.r;++x)if(!(_[x]||{}).hidden){var C=Dme(e,l,x,h,n,i,v,u);(C.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[m++]=C.row)}return p.length=m,p}var BD=/"/g;function Mme(e,t,r,n,a,i,s,o){for(var l=!0,u=[],d="",f=Ja(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){l=!1,d=""+(o.rawNumbers&&p.t=="n"?p.v:Rc(p,null,o));for(var m=0,g=0;m!==d.length;++m)if((g=d.charCodeAt(m))===a||g===i||g===34||o.forceQuotes){d='"'+d.replace(BD,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(l=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(BD,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&l?null:u.join(s)}function NH(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=zn(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],m=a.s.c;m<=a.e.c;++m)(h[m]||{}).hidden||(f[m]=ka(m));for(var g=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(d=Mme(e,a,v,f,s,l,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?o:"")+d)));return delete n.dense,r.join("")}function Fme(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=NH(e,t);return r}function Lme(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=zn(e["!ref"]),i="",s=[],o,l=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=ka(o);for(var d=a.s.r;d<=a.e.r;++d)for(i=Ja(d),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function jH(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Mi(n.origin):n.origin;s=l.r,o=l.c}var u,d={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=zn(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),s==-1&&(s=f.e.r+1,d.e.r=s+t.length-1+a)}else s==-1&&(s=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(g,v){Dl(g).forEach(function(x){(p=h.indexOf(x))==-1&&(h[p=h.length]=x);var y=g[x],b="z",N="",_=Jt({c:o+p,r:s+v+a});u=Ev(i,_),y&&typeof y=="object"&&!(y instanceof Date)?i[_]=y:(typeof y=="number"?b="n":typeof y=="boolean"?b="b":typeof y=="string"?b="s":y instanceof Date?(b="d",n.cellDates||(b="n",y=qi(y)),N=n.dateNF||nr[14]):y===null&&n.nullError&&(b="e",y=0),u?(u.t=b,u.v=y,delete u.w,delete u.R,N&&(u.z=N)):i[_]=u={t:b,v:y},N&&(u.z=N))})}),d.e.c=Math.max(d.e.c,o+h.length-1);var m=Ja(s);if(a)for(p=0;p<h.length;++p)i[ka(p+o)+m]={t:"s",v:h[p]};return i["!ref"]=jr(d),i}function Ime(e,t){return jH(null,e,t)}function Ev(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Mi(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Ev(e,Jt(t)):Ev(e,Jt({r:t,c:r||0}))}function Rme(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function IE(){return{SheetNames:[],Sheets:{}}}function RE(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(kpe(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Bme(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Rme(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Ume(e,t){return e.z=t,e}function CH(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Wme(e,t,r){return CH(e,"#"+t,r)}function zme(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Hme(e,t,r,n){for(var a=typeof t!="string"?t:zn(t),i=typeof t=="string"?t:jr(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=Ev(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var N5={encode_col:ka,encode_row:Ja,encode_cell:Jt,encode_range:jr,decode_col:SE,decode_row:kE,split_cell:rce,decode_cell:Mi,decode_range:vm,format_cell:Rc,sheet_add_aoa:Pz,sheet_add_json:jH,sheet_add_dom:wH,aoa_to_sheet:ym,json_to_sheet:Ime,table_to_sheet:_H,table_to_book:ome,sheet_to_csv:NH,sheet_to_txt:Fme,sheet_to_json:Qj,sheet_to_html:sme,sheet_to_formulae:Lme,sheet_to_row_object_array:Qj,sheet_get_cell:Ev,book_new:IE,book_append_sheet:RE,book_set_sheet_visibility:Bme,cell_set_number_format:Ume,cell_set_hyperlink:CH,cell_set_internal_link:Wme,cell_add_comment:zme,sheet_set_array_formula:Hme,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const qme=(e,t,r,n)=>{const a=new Rt;a.setFontSize(20),a.text("Worker Report",20,20),a.setFontSize(8),a.text(`Worker: ${e.name}`,20,35),a.text(`Period: ${jt(r.start,"MMM d, yyyy")} - ${jt(r.end,"MMM d, yyyy")}`,20,45),t.filter(o=>o.status==="completed").reduce((o,l)=>o+l.amount,0);const s=t.map(o=>{const l=o.project||{name:"N/A"};return[jt(new Date(o.created_at),"MMM d, yyyy"),l.name,o.description,o.status,`${o.amount.toFixed(2)}`]});return zoe(a,{head:[["Date","Project","Description","Status",`Amount(${n})`]],body:s,startY:90,theme:"grid",headStyles:{fillColor:[66,139,202]},styles:{fontSize:8},columnStyles:{0:{cellWidth:30},1:{cellWidth:40},2:{cellWidth:50},3:{cellWidth:25},4:{cellWidth:25}}}),a};function Yme(){var X;const[e,t]=L.useState(null),[r,n]=L.useState(!1),[a,i]=L.useState(null),[s,o]=L.useState([]),[l,u]=L.useState([]),[d,f]=L.useState(!0),[h,p]=L.useState(new Date),[m,g]=L.useState("week"),{id:v}=l5(),x=Bl(),{organization:y}=ir(),{confirm:b,addToast:N}=Or(),{theme:_,getThemeStyle:C}=Yt(),k=y!=null&&y.currency?((X=sn[y.currency])==null?void 0:X.symbol)||y.currency:sn.USD.symbol,w=()=>{switch(m){case"day":return{start:new Date(h.setHours(0,0,0,0)),end:new Date(h.setHours(23,59,59,999))};case"week":return{start:Qo(h,{weekStartsOn:1}),end:gm(h,{weekStartsOn:1})};case"month":return{start:Fy(h),end:My(h)};case"year":return{start:mm(h),end:Ly(h)}}},{start:S,end:P}=w(),A=l.filter(J=>{const E=new Date(J.created_at);return E>=S&&E<=P});L.useEffect(()=>{!y||!v||T()},[v,y]);const T=async()=>{try{const{data:J,error:E}=await We.from("workers").select("*, organization:organizations(id)").eq("id",v).single();if(E)throw E;t({...J,organization_id:J.organization.id}),i({...J,organization_id:J.organization.id});const{data:R,error:B}=await We.from("worker_projects").select("*").eq("worker_id",v).eq("status","active").order("created_at",{ascending:!1});if(B)throw B;o(R||[]);const{data:q,error:K}=await We.from("tasks").select(`
          *
        `).eq("worker_id",v).eq("organization_id",y==null?void 0:y.id).order("created_at",{ascending:!1});if(K)throw K;u(q||[])}catch(J){console.error("Error loading data:",J),N({type:"error",title:"Error",message:"Failed to load worker data. Please try again."})}finally{f(!1)}},F=async()=>{if(!(!e||!a||!y))try{const{error:J}=await We.from("workers").update({name:a.name,whatsapp:a.whatsapp,image:a.image}).eq("id",e.id).eq("organization_id",y.id);if(J)throw J;t(a),n(!1),N({type:"success",title:"Worker Updated",message:"Worker details have been updated successfully."})}catch(J){console.error("Error updating worker:",J),N({type:"error",title:"Error",message:"Failed to update worker. Please try again."})}},M=async()=>{if(!(!e||!await b({title:"Delete Worker",message:"Are you sure you want to delete this worker? This action cannot be undone.",type:"danger",confirmText:"Delete",cancelText:"Cancel"})))try{if(e.image){const R=e.image.split("/").slice(-2).join("/");await We.storage.from("profiles").remove([R])}const{error:E}=await We.from("workers").delete().eq("id",e.id);if(E)throw E;N({type:"success",title:"Worker Deleted",message:"The worker has been deleted successfully."}),x("/dashboard/workers")}catch(E){console.error("Error deleting worker:",E),N({type:"error",title:"Error",message:"Failed to delete worker. Please try again."})}},H=J=>{p(E=>{const R=new Date(E);switch(m){case"day":return J==="prev"?Lc(R,-1):Lc(R,1);case"week":return J==="prev"?ld(R,-1):ld(R,1);case"month":return J==="prev"?Ic(R,-1):Ic(R,1);case"year":return J==="prev"?cd(R,-1):cd(R,1)}})},z=J=>{g(J)},Y=async()=>{if(e)try{qme(e,A,{start:S,end:P},k).save(`${e.name}_report_${jt(S,"yyyy-MM-dd")}.pdf`),N({type:"success",title:"Report Generated",message:"PDF report has been generated successfully."})}catch(J){console.error("Error generating PDF report:",J),N({type:"error",title:"Error",message:"Failed to generate PDF report. Please try again."})}},G=()=>{if(!(e!=null&&e.whatsapp)){N({type:"error",title:"Error",message:"No WhatsApp number available for this worker."});return}const J=encodeURIComponent(`
Hi ${e.name},

Here's your work report:
Total Tasks: ${l.length}
Completed Tasks: ${l.filter(E=>E.status==="completed").length}
Total Earnings: ${k}${l.reduce((E,R)=>E+R.amount,0).toFixed(2)}
    `);window.open(`https://wa.me/${e.whatsapp}?text=${J}`,"_blank")},I=async J=>{if(!(!e||!J.target.files||!J.target.files[0]))try{const E=J.target.files[0],R=E.name.split(".").pop(),B=`${e.id}-${Math.random()}.${R}`,q=`${e.organization_id}/${B}`,{error:K}=await We.storage.from("profiles").upload(q,E);if(K)throw K;const{data:{publicUrl:ae}}=We.storage.from("profiles").getPublicUrl(q),{error:ee}=await We.from("workers").update({image:ae}).eq("id",e.id);if(ee)throw ee;t(W=>W?{...W,image:ae}:null),i(W=>W?{...W,image:ae}:null),N({type:"success",title:"Success",message:"Profile image updated successfully."})}catch(E){console.error("Error uploading image:",E),N({type:"error",title:"Error",message:"Failed to upload image. Please try again."})}};return d?c.jsx("div",{className:`min-h-screen flex items-center justify-center ${C("background")}`,children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:`mt-4 ${C("text.secondary")}`,children:"Loading worker details..."})]})}):e?c.jsx("div",{className:"min-h-[calc(100vh-64px)] ",children:c.jsxs("div",{className:"flex flex-col lg:flex-row",children:[c.jsx("div",{className:"w-full lg:w-80  lg:border-r lg:min-h-[calc(100vh-64px)] ",children:c.jsxs("div",{className:"p-4 lg:p-6 space-y-6 lg:space-y-8",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("div",{className:"relative inline-block",children:[e!=null&&e.image?c.jsx("img",{src:e.image,alt:e==null?void 0:e.name,className:"w-20 h-20 lg:w-24 lg:h-24 rounded-md mx-auto ring-4"}):c.jsx("div",{className:`w-20 h-20 lg:w-24 lg:h-24 rounded-md mx-auto ring-4 ${C(_,"background","secondary")} flex items-center justify-center bg-gray-100`,children:c.jsx(yp,{className:"w-12 h-12 text-gray-400"})}),r&&c.jsxs("label",{className:"absolute bottom-0 right-0 p-1.5 bg-blue-600 rounded-full text-white hover:bg-blue-700 shadow-sm cursor-pointer",children:[c.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"hidden"}),c.jsx(Ol,{className:"h-4 w-4"})]})]}),c.jsx("h2",{className:`mt-4 text-lg lg:text-xl font-semibold ${C("text.primary")} text-center`,children:e==null?void 0:e.name}),c.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-6",children:[c.jsxs("button",{onClick:Y,className:"flex flex-col items-center",children:[c.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-full ${C("button.secondary")}`,children:c.jsx(bv,{className:C("icon")})}),c.jsx("span",{className:`mt-1 text-xs ${C("text.secondary")}`,children:"PDF"})]}),(e==null?void 0:e.whatsapp)&&c.jsxs("button",{onClick:G,className:"flex flex-col items-center",children:[c.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-full ${C("button.secondary")}`,children:c.jsx(Cj,{className:C("icon")})}),c.jsx("span",{className:`mt-1 text-xs ${C("text.secondary")}`,children:"WhatsApp"})]})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:`text-sm font-bold ${C("text.primary")}`,children:"Worker Details"}),!r&&c.jsxs("button",{onClick:()=>n(!0),className:`inline-flex items-center px-2.5 py-1.5 border rounded-md text-xs font-medium ${C("button.secondary")}`,children:[c.jsx(Ol,{className:"h-3 w-3 mr-1"}),"Edit"]})]}),c.jsx("div",{className:"space-y-4",children:r?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${C(_,"text","secondary")} mb-1`,children:"Name"}),c.jsx("input",{type:"text",value:(a==null?void 0:a.name)||"",onChange:J=>i(E=>E?{...E,name:J.target.value}:null),className:`block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ${C("input")}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${C(_,"text","secondary")} mb-1`,children:"WhatsApp"}),c.jsx("input",{type:"text",value:(a==null?void 0:a.whatsapp)||"",onChange:J=>i(E=>E?{...E,whatsapp:J.target.value}:null),className:`block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ${C("input")}`})]}),c.jsxs("div",{className:"flex space-x-3 pt-2",children:[c.jsx("button",{onClick:F,className:"flex-1 inline-flex justify-center items-center px-3 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Save"}),c.jsx("button",{onClick:()=>{n(!1),i(e)},className:`flex-1 inline-flex justify-center items-center px-3 py-2 border rounded-md shadow-sm text-sm font-medium ${C("button.secondary")}`,children:"Cancel"})]})]}):c.jsx("div",{className:"space-y-3",children:c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx(Cj,{className:`h-4 w-4 ${C(_,"icon")} mr-3`}),c.jsx("span",{className:C(_,"text","secondary"),children:(e==null?void 0:e.whatsapp)||"No phone number"})]})})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:`text-sm font-bold ${C(_,"text","primary")}`,children:"All Time Worker Stats"}),c.jsxs("div",{className:`divide-y ${C(_,"divider")}`,children:[c.jsx("div",{className:"py-2",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(yc,{className:`h-4 w-4 ${C(_,"icon")} mr-2`}),c.jsx("p",{className:`text-xs font-medium ${C(_,"text","secondary")}`,children:"Assigned Tasks"})]}),c.jsxs("p",{className:`text-xs font-semibold ${C(_,"text","primary")}`,children:[l.filter(J=>J.status==="pending").length," | ",k,l.filter(J=>J.status==="pending").reduce((J,E)=>J+E.amount,0).toFixed(2)]})]})}),c.jsx("div",{className:"py-2",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(zi,{className:`h-4 w-4 ${C(_,"icon")} mr-2`}),c.jsx("p",{className:`text-xs font-medium ${C(_,"text","secondary")}`,children:"In Progress"})]}),c.jsxs("p",{className:`text-xs font-semibold ${C(_,"text","primary")}`,children:[l.filter(J=>J.status==="in_progress").length," | ",k,l.filter(J=>J.status==="in_progress").reduce((J,E)=>J+E.amount,0).toFixed(2)]})]})}),c.jsx("div",{className:"py-2",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Da,{className:`h-4 w-4 ${C(_,"icon")} mr-2`}),c.jsx("p",{className:`text-xs font-medium ${C(_,"text","secondary")}`,children:"Completed Tasks"})]}),c.jsxs("p",{className:`text-xs font-semibold ${C(_,"text","primary")}`,children:[l.filter(J=>J.status==="completed").length," | ",k,l.filter(J=>J.status==="completed").reduce((J,E)=>J+E.amount,0).toFixed(2)]})]})})]})]}),c.jsx(Ise,{worker:e,workerProjects:s,setWorkerProjects:o,organization:y||{id:"",currency:"USD"}}),c.jsx("div",{className:"pt-3",children:c.jsxs("button",{onClick:M,className:`w-full inline-flex justify-center items-center px-3 py-2 border rounded-md text-xs font-medium ${C("button.danger")}`,children:[c.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Delete Worker"]})})]})}),c.jsxs("div",{className:`flex-1 p-4 lg:p-6 ${C("background")}`,children:[c.jsxs("div",{className:C("background"),children:[c.jsx("div",{className:"p-4",children:c.jsx(Iy,{currentDate:h,dateFilterType:m,onDateChange:H,onFilterTypeChange:z,itemCount:A.length,itemLabel:"tasks"})}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 p-4",children:[c.jsxs("div",{className:`border-l-4 border-yellow-500 p-3 flex items-center justify-between ${C("background")}`,children:[c.jsx("h3",{className:"text-xs font-medium text-yellow-800",children:"Assigned Tasks"}),c.jsx("p",{className:"text-base lg:text-lg font-bold text-yellow-600 mt-1",children:A.filter(J=>J.status==="pending").length})]}),c.jsxs("div",{className:`border-l-4 border-blue-500 p-3 flex items-center justify-between ${C("background")}`,children:[c.jsx("h3",{className:"text-xs font-medium text-blue-800",children:"In Progress"}),c.jsx("p",{className:"text-base lg:text-lg font-bold text-blue-600 mt-1",children:A.filter(J=>J.status==="in_progress").length})]}),c.jsxs("div",{className:`border-l-4 border-green-500 p-3 flex items-center justify-between ${C("background")}`,children:[c.jsx("h3",{className:"text-xs font-medium text-green-800",children:"Completed"}),c.jsx("p",{className:"text-base lg:text-lg font-bold text-green-600 mt-1",children:A.filter(J=>J.status==="completed").length})]}),c.jsxs("div",{className:`border-l-4 border-gray-400 p-3 flex items-center justify-between ${C("background")}`,children:[c.jsx("h3",{className:"text-xs font-medium text-gray-800",children:"Cancelled"}),c.jsx("p",{className:"text-base lg:text-lg font-bold text-gray-600 mt-1",children:A.filter(J=>J.status==="cancelled").length})]})]})]}),c.jsx(Use,{worker:e,tasks:A,setTasks:u,workerProjects:s,organization:y||{id:"",currency:"USD"}})]})]})}):c.jsx("div",{className:`min-h-screen flex items-center justify-center ${C("background")}`,children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:C("text.secondary"),children:"Worker not found."}),c.jsxs("button",{onClick:()=>x("/dashboard/workers"),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[c.jsx(Wf,{className:"h-4 w-4 mr-2"}),"Back to Workers"]})]})})}const jg=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),Vme=({stats:e,loadedStats:t,currencySymbol:r})=>{const{theme:n,getThemeStyle:a}=Yt(),i=f=>{const h={indigo:{border:"border-indigo-600",text:"text-indigo-600",bg:"bg-indigo-100"},blue:{border:"border-blue-600",text:"text-blue-600",bg:"bg-blue-100"},emerald:{border:"border-emerald-600",text:"text-emerald-600",bg:"bg-emerald-100"},amber:{border:"border-amber-600",text:"text-amber-600",bg:"bg-amber-100"},teal:{border:"border-teal-600",text:"text-teal-600",bg:"bg-teal-100"},purple:{border:"border-purple-600",text:"text-purple-600",bg:"bg-purple-100"},rose:{border:"border-rose-600",text:"text-rose-600",bg:"bg-rose-100"},cyan:{border:"border-cyan-600",text:"text-cyan-600",bg:"bg-cyan-100"},red:{border:"border-red-600",text:"text-red-600",bg:"bg-red-100"}};return h[f]||h.indigo},s={primary:"indigo",blue:"blue",emerald:"emerald",amber:"amber",teal:"teal",purple:"purple",rose:"rose",cyan:"cyan",red:"red"},o={name:"Revenue Today",value:e.revenueToday,icon:Xa,color:s.primary},l=[{name:"Active Orders",value:e.activeOrders,icon:sd,color:s.blue,link:void 0,key:"activeOrders"},{name:"Orders Today",value:e.ordersToday,icon:sd,color:s.emerald,link:void 0,key:"ordersToday"},{name:"Orders Due Today",value:e.ordersDueToday,icon:id,color:s.amber,link:void 0,key:"ordersDueToday"},{name:"Completed Orders",value:e.completedOrdersToday,icon:Da,color:s.teal,link:void 0,key:"completedOrdersToday"},{name:"Tasks Done",value:e.completedTasksToday,icon:Da,color:s.purple,link:void 0,key:"completedTasksToday"},{name:"Sales Today",value:e.salesToday,icon:pa,color:s.rose,link:void 0,key:"salesToday"},{name:`Revenue for ${new Date().toLocaleString("default",{month:"long"})}`,value:`${r}${jg(e.currentMonthRevenue)}`,icon:Xa,color:s.cyan,link:void 0,key:"currentMonthRevenue"},{name:"Outstanding",value:`${r}${jg(e.outstandingAmount)}`,icon:Xa,color:s.red,link:void 0,key:"outstandingAmount"}],u=t.includes("revenueToday"),d=i(o.color);return c.jsxs("div",{className:"space-y-4 w-full flex-shrink-0",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(o.icon,{className:`h-4 w-4 ${d.text}`}),c.jsx("p",{className:`text-xs font-medium ${a(n,"text","primary")} truncate`,children:o.name})]}),c.jsx("div",{className:"mt-1",children:u?c.jsxs("p",{className:`text-4xl font-semibold ${a(n,"text","primary")} truncate`,children:[r,jg(o.value)]}):c.jsx("div",{className:`h-8 ${a(n,"background","accent")} rounded w-1/3 animate-pulse`})})]}),c.jsx("div",{className:"grid grid-cols-1 gap-3",children:l.map(f=>{const h=t.includes(f.key),p=i(f.color),m=c.jsxs("div",{className:`rounded-md p-3 py-5 transition-all duration-200 hover:shadow-md border-l-4 ${p.border} ${h?"opacity-100":"opacity-50"} bg-gradient-to-br from-${n==="dark"?"gray-800":"white"} to-${n==="dark"?"gray-900":"gray-100"} shadow-sm`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[c.jsx("div",{className:"rounded-md flex-shrink-0",children:c.jsx(f.icon,{className:`h-4 w-4 ${p.text}`})}),c.jsx("p",{className:`text-xs font-medium ${a(n,"text","tertiary")} truncate`,children:f.name})]}),c.jsx("p",{className:`text-xs font-semibold ${a(n,"text","primary")} ml-2 flex-shrink-0 whitespace-nowrap`,children:f.value})]}),f.breakdown&&c.jsxs("div",{className:`mt-2 text-xs ${a(n,"text","muted")} flex items-center gap-2`,children:[c.jsxs("span",{className:"truncate",children:["Sales: ",r,jg(f.breakdown.sales)]}),c.jsx("span",{className:`w-1 h-1 rounded-full ${a(n,"background","accent")} flex-shrink-0`}),c.jsxs("span",{className:"truncate",children:["Service: ",r,jg(f.breakdown.service)]})]})]});return f.link?c.jsx(Wr,{to:f.link,className:`block hover:scale-[1.01] transition-transform ${a(n,"interactive","hover","background")}`,children:m},f.name):c.jsx("div",{children:m},f.name)})})]})},Gme=(e,t,r,n,a,i,s,o)=>`
  <!DOCTYPE html>
  <html>
    <head>
      <title>Sales Receipt</title>
      <style>
        @page {
          size: 57mm auto;
          margin: 8px;
        }
        body {
          width: 57mm;
          margin: 0;
          padding: 0;
          font-family: Arial, sans-serif;
        }
        .receipt {
          width: 57mm;
          padding: 8px;
          background: white;
        }
        .header {
          text-align: center;
          margin-bottom: 4mm;
        }
        .title {
          font-size: 18px;
          font-weight: bold;
          margin-bottom: 1mm;
        }
        .subtitle {
          font-size: 12px;
          font-weight: bold;
          margin-bottom: 2mm;
        }
        .text {
          font-size: 12px;
          margin: 1mm 0;
        }
        .text-small {
          font-size: 10px;
        }
        .flex {
          display: flex;
          justify-content: space-between;
        }
        .border-top {
          border-top: 1px solid #000;
          padding-top: 2mm;
          margin-top: 2mm;
        }
        .section {
          margin-bottom: 3mm;
        }
        .section-title {
          font-weight: bold;
          margin-bottom: 1mm;
        }
        .item-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 1mm;
        }
        .item-details {
          flex: 1;
        }
        .item-quantity {
          font-size: 10px;
          color: #666;
        }
        .payment-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 1mm;
        }
        .payment-details {
          flex: 1;
        }
        .payment-date {
          font-size: 12px;
        }
        .payment-method {
          font-size: 10px;
          color: #666;
        }
        .footer {
          text-align: center;
          margin-top: 6mm;
        }
      </style>
    </head>
    <body>
      <div class="receipt">
        <div class="header">
          <div class="title">${e}</div>
          ${t?`<div class="text">${t}</div>`:""}
          <div class="subtitle">SALES RECEIPT</div>
        </div>
        
        <div class="section">
          <div class="section-title">Order For:</div>
          <div class="text">${r.name}</div>
          ${r.phone?`<div class="text">${r.phone}</div>`:""}
        </div>

        <div class="section">
          <div class="section-title">Order Date:</div>
          <div class="text">${jt(new Date(n.created_at),"dd/MM/yyyy HH:mm")}</div>
        </div>

        <div class="section">
          <div class="section-title">Order Number:</div>
          <div class="text">${n.order_number}</div>
        </div>

        <div class="section">
          <div class="section-title">Items:</div>
          ${a.map(l=>`
            <div class="item-row">
              <div class="item-details">
                <div>${l.name}</div>
                <div class="item-quantity">x${l.quantity}</div>
              </div>
              <div>${s}${l.total_price.toFixed(2)}</div>
            </div>
          `).join("")}
        </div>

        <div class="border-top">
          <div class="flex">
            <div class="section-title">Total Amount:</div>
            <div class="section-title">${s}${o.toFixed(2)}</div>
          </div>
        </div>

        ${i.length>0?`
          <div class="section">
            <div class="section-title">Payments:</div>
            ${i.map(l=>`
              <div class="payment-row">
                <div class="payment-details">
                  <div class="payment-date">${jt(new Date(l.created_at),"dd/MM/yyyy")}</div>
                  <div class="payment-method">${l.payment_method.charAt(0).toUpperCase()+l.payment_method.slice(1).replace("_"," ")}</div>
                </div>
                <div>${s}${l.amount.toFixed(2)}</div>
              </div>
            `).join("")}
          </div>
        `:""}
        
        ${n.outstanding_balance>0?`
          <div class="border-top">
            <div class="flex">
              <div class="section-title">Outstanding Balance:</div>
              <div class="section-title">${s}${n.outstanding_balance.toFixed(2)}</div>
            </div>
          </div>
        `:""}

        <div class="footer">
          <div class="text">Thank you for your purchase :)</div>
        </div>
      </div>
    </body>
  </html>
`;function TH({orderId:e,onClose:t}){var b;const[r,n]=L.useState(!0),[a,i]=L.useState(null),[s,o]=L.useState(null),[l,u]=L.useState([]),[d,f]=L.useState([]),{organization:h}=ir(),{addToast:p}=Or(),{theme:m,getThemeStyle:g}=Yt(),v=h!=null&&h.currency?((b=sn[h.currency])==null?void 0:b.symbol)||h.currency:sn.USD.symbol;L.useEffect(()=>{(async()=>{try{const{data:_,error:C}=await We.from("sales_orders").select(`
                        *,
                        client:clients(name, phone),
                        items:sales_order_items(
                            id,
                            product_id,
                            name,
                            quantity,
                            unit_price,
                            total_price,
                            is_custom_item,
                            product:products(name)
                        )
                    `).eq("id",e).single();if(C)throw C;const{data:k,error:w}=await We.from("payments").select("*").eq("reference_type","sales_order").eq("reference_id",_.id).not("status","eq","cancelled");if(w)throw w;const S={id:_.client_id,name:_.client.name,phone:_.client.phone,custom_fields:[]},P=_.items.map(A=>({id:A.id,product_id:A.product_id,name:A.name,quantity:A.quantity,unit_price:A.unit_price,total_price:A.total_price,is_custom_item:A.is_custom_item,product:A.product?{id:A.product_id,name:A.product.name,price:A.unit_price}:void 0}));i(_),o(S),u(P),f(k||[])}catch(_){console.error("Error fetching order data:",_),p({type:"error",title:"Error",message:"Failed to load order details"})}finally{n(!1)}})()},[e,p]);const x=(a==null?void 0:a.total_amount)||0,y=L.useCallback(()=>{if(!s||!a)return;const N=window.open("","_blank");N&&(N.document.write(Gme((h==null?void 0:h.name)||"",h==null?void 0:h.address,s,a,l,d,v,x)),N.document.close(),N.focus(),N.print(),N.close())},[h,s,a,l,d,v,x]);return r?c.jsx("div",{className:`flex items-center justify-center min-h-[400px] ${g(m,"background","primary")}`,children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):!a||!s?c.jsx("div",{className:`text-center py-12 ${g(m,"background","primary")} ${g(m,"text","primary")}`,children:c.jsx("p",{className:g(m,"text","muted"),children:"Order not found."})}):c.jsx("div",{className:`rounded-lg shadow-xl max-w-[57mm] w-full mx-auto overflow-y-auto max-h-[90vh] border ${g(m,"modal","background")} ${g(m,"border","primary")}`,children:c.jsxs("div",{className:"px-4 py-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("button",{onClick:y,className:`inline-flex items-center px-3 py-1.5 border rounded-md shadow-sm text-sm font-medium ${g(m,"border","primary")} ${g(m,"text","secondary")} ${g(m,"modal","background")} ${g(m,"interactive","hover","background")}`,children:[c.jsx($y,{className:"h-4 w-4 mr-2"}),"Print"]}),c.jsx("button",{onClick:t,className:`p-2 ${g(m,"text","muted")} ${g(m,"interactive","hover","text")} ${g(m,"interactive","hover","background")} rounded-full transition-colors duration-200`,children:c.jsx(dr,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"receipt-content",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h1",{className:`text-[18px] font-bold ${g(m,"text","primary")}`,children:h==null?void 0:h.name}),(h==null?void 0:h.address)&&c.jsx("p",{className:`text-[12px] mb-2 ${g(m,"text","secondary")}`,children:h.address}),c.jsx("h2",{className:`text-[12px] font-bold ${g(m,"text","primary")}`,children:"SALES RECEIPT"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-[12px] font-bold ${g(m,"text","primary")}`,children:"Order For:"}),c.jsxs("div",{className:"pl-2",children:[c.jsx("p",{className:`text-[12px] ${g(m,"text","secondary")}`,children:s.name}),s.phone&&c.jsx("p",{className:`text-[12px] ${g(m,"text","secondary")}`,children:s.phone})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-[12px] font-bold ${g(m,"text","primary")}`,children:"Order Date:"}),c.jsx("p",{className:`text-[12px] pl-2 ${g(m,"text","secondary")}`,children:jt(new Date(a.created_at),"dd/MM/yyyy HH:mm")})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-[12px] font-bold ${g(m,"text","primary")}`,children:"Order Number:"}),c.jsx("p",{className:`text-[12px] pl-2 ${g(m,"text","secondary")}`,children:a.order_number})]}),c.jsxs("div",{children:[c.jsx("p",{className:`text-[12px] font-bold mb-2 ${g(m,"text","primary")}`,children:"Items:"}),c.jsx("div",{className:"space-y-1",children:l.map(N=>c.jsxs("div",{className:"flex justify-between pl-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-[12px] ${g(m,"text","secondary")}`,children:N.name}),c.jsxs("p",{className:`text-[10px] ${g(m,"text","muted")}`,children:["x",N.quantity]})]}),c.jsxs("p",{className:`text-[12px] ${g(m,"text","secondary")}`,children:[v," ",N.total_price.toFixed(2)]})]},N.id))})]}),c.jsxs("div",{className:`border-t pt-2 ${g(m,"border","primary")}`,children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("p",{className:`text-[12px] font-bold ${g(m,"text","primary")}`,children:"Total Amount:"}),c.jsxs("p",{className:`text-[12px] font-bold ${g(m,"text","primary")}`,children:[v," ",x.toFixed(2)]})]}),d.length>0&&c.jsxs("div",{className:"mt-2",children:[c.jsx("p",{className:`text-[12px] font-bold ${g(m,"text","primary")}`,children:"Payments:"}),c.jsx("div",{className:"space-y-1",children:d.map(N=>c.jsxs("div",{className:"flex justify-between pl-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-[12px] ${g(m,"text","secondary")}`,children:jt(new Date(N.created_at),"dd/MM/yyyy")}),c.jsx("p",{className:`text-[10px] ${g(m,"text","muted")}`,children:N.payment_method.charAt(0).toUpperCase()+N.payment_method.slice(1).replace("_"," ")})]}),c.jsxs("p",{className:`text-[12px] ${g(m,"text","secondary")}`,children:[v," ",N.amount.toFixed(2)]})]},N.id))})]}),a.outstanding_balance>0&&c.jsxs("div",{className:`flex justify-between border-t pt-1 mt-2 ${g(m,"border","primary")}`,children:[c.jsx("p",{className:`text-[12px] font-bold ${g(m,"text","primary")}`,children:"Outstanding Bal:"}),c.jsxs("p",{className:`text-[12px] font-bold ${g(m,"text","primary")}`,children:[v," ",a.outstanding_balance.toFixed(2)]})]})]})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("p",{className:`text-[12px] ${g(m,"text","secondary")}`,children:"Thank you for your purchase :)"})})]})]})})}function AH({onClose:e,onSuccess:t}){var pe;const[r,n]=L.useState(!1),[a,i]=L.useState([]),[s,o]=L.useState(null),[l,u]=L.useState([]),[d,f]=L.useState({name:"",quantity:1,unit_price:0}),[h,p]=L.useState(""),{organization:m}=ir(),{addToast:g}=Or(),{theme:v,getThemeStyle:x}=Yt(),y=m!=null&&m.currency?((pe=sn[m.currency])==null?void 0:pe.symbol)||m.currency:"",[b,N]=L.useState(!0),[_,C]=L.useState(!0),[k,w]=L.useState(""),[S,P]=L.useState(""),[A,T]=L.useState(""),[F,M]=L.useState(!1),[H,z]=L.useState(null),[Y,G]=L.useState(""),[I,X]=L.useState([]),[J,E]=L.useState(!1),[R,B]=L.useState(null);L.useEffect(()=>{m&&q()},[m]),L.useEffect(()=>{if(Y.trim()==="")X(a);else{const Q=a.filter(ne=>ne.name.toLowerCase().includes(Y.toLowerCase()));X(Q)}},[Y,a]);const q=async()=>{if(m!=null&&m.id)try{const{data:Q,error:ne}=await We.from("products").select("*").eq("organization_id",m.id).order("name");if(ne)throw ne;i(Q||[])}catch(Q){console.error("Error loading products:",Q),g({type:"error",title:"Error",message:"Failed to load products"})}finally{N(!1)}},K=Q=>{B(Q),G(Q.name),E(!1),ae(Q.id)},ae=Q=>{const ne=a.find(Ee=>Ee.id===Q);if(!ne)return;if(ne.stock_quantity<=0){g({type:"error",title:"Error",message:"This product is out of stock"});return}const Ae=l.find(Ee=>Ee.product_id===Q);if(Ae){if(Ae.quantity>=ne.stock_quantity){g({type:"error",title:"Error",message:"Not enough stock available"});return}u(Ee=>Ee.map(De=>De.product_id===Q?{...De,quantity:De.quantity+1,total_price:(De.quantity+1)*De.unit_price}:De))}else u(Ee=>[...Ee,{product_id:ne.id,name:ne.name,quantity:1,unit_price:ne.unit_price,total_price:ne.unit_price,is_custom_item:!1,product:ne}]);B(null),G("")},ee=()=>{!d.name.trim()||d.quantity<=0||d.unit_price<=0||(u(Q=>[...Q,{product_id:null,name:d.name.trim(),quantity:d.quantity,unit_price:d.unit_price,total_price:d.quantity*d.unit_price,is_custom_item:!0}]),f({name:"",quantity:1,unit_price:0}))},W=Q=>{u(ne=>ne.filter((Ae,Ee)=>Ee!==Q))},Z=(Q,ne)=>{const Ae=l[Q];if(Ae){if(!Ae.is_custom_item&&Ae.product&&ne>Ae.product.stock_quantity){g({type:"error",title:"Error",message:"Not enough stock available"});return}if(ne<=0){W(Q);return}u(Ee=>Ee.map((De,Oe)=>Oe===Q?{...De,quantity:ne,total_price:ne*De.unit_price}:De))}},re=()=>l.reduce((Q,ne)=>Q+ne.total_price,0),O=()=>{const Q=re(),ne=parseFloat(k)||0;return console.log(Q,ne),Q-ne},de=()=>{const Q=O(),ne=re(),Ae=Q/ne*100;return Ae===0?"bg-green-100 text-green-800":Ae<=25?"bg-yellow-100 text-yellow-800":Ae<=50?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"},ce=async()=>{if(!m||!s||l.length===0){g({type:"error",title:"Error",message:"Please select a client and add at least one item to the order"});return}n(!0);try{const{data:Q,error:ne}=await We.from("sales_orders").insert([{organization_id:m.id,client_id:s.id,total_amount:re(),outstanding_balance:re(),notes:h.trim()||null}]).select().single();if(ne)throw ne;const{error:Ae}=await We.from("sales_order_items").insert(l.map(Ee=>({sales_order_id:Q.id,product_id:Ee.product_id,name:Ee.name,quantity:Ee.quantity,unit_price:Ee.unit_price,total_price:Ee.total_price,is_custom_item:Ee.is_custom_item})));if(Ae)throw Ae;for(const Ee of l)if(!Ee.is_custom_item&&Ee.product_id&&Ee.product){const{error:De}=await We.from("products").update({stock_quantity:Ee.product.stock_quantity-Ee.quantity}).eq("id",Ee.product_id);if(De)throw De}if(_&&k&&S){const Ee=parseFloat(k);if(isNaN(Ee)||Ee<=0)throw new Error("Invalid payment amount");if(Ee>re())throw new Error("Payment amount cannot exceed total amount");const{data:{user:De},error:Oe}=await We.auth.getUser();if(Oe)throw Oe;if(!De)throw new Error("User not authenticated");const{error:Fe}=await We.rpc("record_payment",{p_organization_id:m.id,p_order_id:Q.id,p_amount:Ee,p_payment_method:S,p_payment_reference:A||null,p_recorded_by:De.id});if(Fe)throw Fe}g({type:"success",title:"Order Created",message:"Sales order has been created successfully."}),z(Q.id),M(!0),t()}catch(Q){console.error("Error creating order:",Q),g({type:"error",title:"Error",message:Q instanceof Error?Q.message:"Failed to create order"})}finally{n(!1)}};return b?c.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:`h-full flex flex-col ${x(v,"modal","background")} max-w-[450px] mx-auto  overflow-y-auto`,children:[c.jsxs("div",{className:`flex items-center justify-between px-4 py-3 border-b ${x(v,"border","primary")}`,children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("h2",{className:`text-lg font-semibold ${x(v,"text","primary")}`,children:"Create Sales Order"})}),c.jsx("button",{type:"button",onClick:e,className:`p-1.5 rounded-full ${x(v,"interactive","hover","background")} ${x(v,"text","accent")} ${x(v,"interactive","hover","text")} transition-colors`,children:c.jsx(dr,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"p-4 space-y-6",children:[c.jsx(_W,{onClientSelect:o,selectedClient:s,showAddNew:!0}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("h3",{className:`text-sm font-medium ${x(v,"text","secondary")}`,children:"Order Items"})}),c.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[c.jsxs("div",{className:`${x(v,"background","secondary")} rounded-lg p-3`,children:[c.jsx("h4",{className:`text-sm font-medium ${x(v,"text","secondary")} mb-2`,children:"Add from Inventory"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:Y,onChange:Q=>{G(Q.target.value),E(!0)},onFocus:()=>E(!0),placeholder:"Search for a product",className:`w-full rounded-lg border ${x(v,"border","primary")} ${x(v,"background","secondary")} px-3 py-2 text-sm ${x(v,"text","primary")} shadow-sm hover:border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`}),R&&c.jsx("button",{type:"button",onClick:()=>{B(null),G("")},className:"absolute right-10 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.jsx(dr,{className:"h-4 w-4"})}),c.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:c.jsx(Fc,{className:"h-4 w-4 text-gray-400"})}),J&&I.length>0&&c.jsx("div",{className:`absolute z-10 mt-1 w-full rounded-lg shadow-lg ${x(v,"background","secondary")} border ${x(v,"border","primary")} max-h-60 overflow-auto`,children:I.map(Q=>c.jsx("div",{onClick:()=>K(Q),className:`px-3 py-2 text-sm cursor-pointer ${x(v,"text","primary")} hover:bg-blue-50 hover:text-blue-700 transition-colors ${Q.stock_quantity<=0?"opacity-50 cursor-not-allowed":""}`,children:c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:Q.name}),c.jsxs("span",{className:"text-xs",children:[y,Q.unit_price.toFixed(2)," (",Q.stock_quantity," in stock)"]})]})},Q.id))})]})]}),c.jsxs("div",{className:`${x(v,"background","secondary")} rounded-lg p-3`,children:[c.jsx("h4",{className:`text-sm font-medium ${x(v,"text","secondary")} mb-2`,children:"Add Custom Item"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("input",{type:"text",value:d.name,onChange:Q=>f(ne=>({...ne,name:Q.target.value})),className:`w-full rounded-lg border ${x(v,"border","primary")} ${x(v,"background","secondary")} px-3 py-2 text-sm ${x(v,"text","primary")} placeholder:text-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"Item name"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx("input",{type:"number",min:"1",value:d.quantity,onChange:Q=>f(ne=>({...ne,quantity:parseInt(Q.target.value)||1})),className:`w-full rounded-lg border ${x(v,"border","primary")} ${x(v,"background","secondary")} px-3 py-2 text-sm ${x(v,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"Quantity"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx("span",{className:`text-sm ${x(v,"text","muted")}`,children:y})}),c.jsx("input",{type:"number",min:"0",step:"0.01",value:d.unit_price,onChange:Q=>f(ne=>({...ne,unit_price:parseFloat(Q.target.value)||0})),className:`w-full rounded-lg border ${x(v,"border","primary")} ${x(v,"background","secondary")} pl-7 pr-3 py-2 text-sm ${x(v,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"Price"})]})]}),c.jsx("button",{type:"button",onClick:ee,disabled:!d.name.trim()||d.quantity<=0||d.unit_price<=0,className:"bg-blue-600 w-full inline-flex items-center justify-center px-3 py-2 text-sm font-medium text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Add Custom Item"})]})]})]}),l.length>0&&c.jsxs("div",{className:`border ${x(v,"border","primary")} rounded-lg overflow-hidden`,children:[c.jsx("div",{className:`divide-y ${x(v,"border","primary")}`,children:l.map((Q,ne)=>c.jsx("div",{className:`p-3 ${x(v,"interactive","hover","background")} transition-colors`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[c.jsx(pa,{className:`h-4 w-4 ${x(v,"text","accent")}`}),c.jsxs("div",{children:[c.jsx("h4",{className:`text-sm font-medium ${x(v,"text","primary")}`,children:Q.name}),c.jsxs("p",{className:`text-xs ${x(v,"text","muted")}`,children:[y,Q.unit_price.toFixed(2)," per unit"]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{type:"button",onClick:()=>Z(ne,Q.quantity-1),className:`p-1 rounded-full ${x(v,"interactive","hover","background")} transition-colors`,children:c.jsx(hW,{className:"h-3 w-3 text-gray-500"})}),c.jsx("span",{className:"w-8 text-center text-sm font-medium",children:Q.quantity}),c.jsx("button",{type:"button",onClick:()=>Z(ne,Q.quantity+1),className:`p-1 rounded-full ${x(v,"interactive","hover","background")} transition-colors`,disabled:!Q.is_custom_item&&Q.product&&Q.quantity>=Q.product.stock_quantity,children:c.jsx(na,{className:"h-3 w-3 text-gray-500"})})]}),c.jsx("div",{className:"w-20 text-right",children:c.jsxs("div",{className:`text-sm font-medium ${x(v,"text","primary")}`,children:[y,Q.total_price.toFixed(2)]})}),c.jsx("button",{type:"button",onClick:()=>W(ne),className:`p-1 rounded-full ${x(v,"interactive","hover","background")} ${x(v,"text","accent")} ${x(v,"interactive","hover","text")} transition-colors`,children:c.jsx(dr,{className:"h-3 w-3"})})]})]})},ne))}),c.jsxs("div",{className:`${x(v,"background","secondary")} px-3 py-2 flex justify-between items-center`,children:[c.jsx("span",{className:`text-sm font-medium ${x(v,"text","secondary")}`,children:"Total Amount"}),c.jsxs("span",{className:`text-base font-semibold ${x(v,"text","primary")}`,children:[y,re().toFixed(2)]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:`block text-sm font-medium ${x(v,"text","secondary")}`,children:"Notes"}),c.jsx("textarea",{value:h,onChange:Q=>p(Q.target.value),rows:2,className:`w-full rounded-lg border ${x(v,"border","primary")} ${x(v,"background","secondary")} px-3 py-2 text-sm ${x(v,"text","primary")} placeholder:text-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"Add any notes about this order"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Td,{className:`h-4 w-4 ${x(v,"text","accent")}`}),c.jsx("h3",{className:`text-sm font-medium ${x(v,"text","secondary")}`,children:"Initial Payment"})]}),c.jsxs("div",{className:`space-y-3 ${x(v,"background","secondary")} rounded-lg p-3`,children:[c.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${x(v,"text","secondary")} mb-1.5`,children:"Payment Amount"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx("span",{className:`text-sm ${x(v,"text","muted")}`,children:y})}),c.jsx("input",{type:"number",step:"0.01",min:"0.01",max:re(),value:k,onChange:Q=>w(Q.target.value),className:`w-full rounded-lg border ${x(v,"border","primary")} ${x(v,"background","secondary")} pl-7 pr-3 py-2 text-sm ${x(v,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"0.00"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${x(v,"text","secondary")} mb-1.5`,children:"Payment Method"}),c.jsxs("select",{value:S,onChange:Q=>P(Q.target.value),className:`w-full rounded-lg border ${x(v,"border","primary")} ${x(v,"background","secondary")} px-3 py-2 text-sm ${x(v,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,children:[c.jsx("option",{value:"",children:"Select a payment method"}),Object.entries(lE).map(([Q,ne])=>c.jsx("option",{value:Q,children:ne},Q))]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${x(v,"text","secondary")} mb-1.5`,children:"Payment Reference"}),c.jsx("input",{type:"text",value:A,onChange:Q=>T(Q.target.value),className:`w-full rounded-lg border ${x(v,"border","primary")} ${x(v,"background","secondary")} px-3 py-2 text-sm ${x(v,"text","primary")} focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,placeholder:"e.g., Transaction ID, Check number"})]}),c.jsx("div",{className:`mt-2 p-2 rounded-lg ${de()}`,children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium",children:"Outstanding Amount"}),c.jsxs("span",{className:"text-sm font-semibold",children:[y,O().toFixed(2)]})]})})]})]})]})}),c.jsx("div",{className:`border-t ${x(v,"border","primary")} ${x(v,"background","secondary")} px-4 py-3`,children:c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:e,className:`px-3 py-2 text-sm font-medium ${x(v,"text","secondary")} ${x(v,"interactive","hover","text")} ${x(v,"interactive","hover","background")} rounded-lg transition-colors`,children:"Cancel"}),c.jsx("button",{type:"button",onClick:ce,disabled:r||!s||l.length===0,className:"inline-flex items-center px-3 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?c.jsxs(c.Fragment,{children:[c.jsx(zi,{className:"animate-spin h-4 w-4 mr-2"}),"Creating..."]}):"Create Sale"})]})}),F&&H&&c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[c.jsx("div",{className:`fixed inset-0 ${x(v,"modal","overlay")} transition-opacity`,onClick:()=>{M(!1),z(null),e()}}),c.jsx("div",{className:`relative transform overflow-hidden rounded-xl ${x(v,"modal","background")} text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg`,children:c.jsx(TH,{orderId:H,onClose:()=>{M(!1),z(null),e()}})})]})})]})}const UD=({onRecordPayment:e})=>{const[t,r]=L.useState(!1),[n,a]=L.useState(!1),[i,s]=L.useState(!1),o=L.useRef(null),l=L.useRef(null),u=L.useRef(null),{theme:d,getThemeStyle:f}=Yt();L.useEffect(()=>{const m=g=>{o.current&&!o.current.contains(g.target)&&r(!1),l.current&&!l.current.contains(g.target)&&a(!1),u.current&&!u.current.contains(g.target)&&s(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const h=()=>{r(!1),a(!0)},p=()=>{r(!1),s(!0)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"relative",ref:o,children:[c.jsxs("button",{onClick:()=>r(!t),className:`inline-flex items-center px-3 py-1.5 border ${f(d,"border","primary")} shadow-sm text-xs font-medium rounded-md ${f(d,"text","secondary")} ${f(d,"background","primary")} ${f(d,"interactive","hover","background")} focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-blue-500 transition-colors duration-200`,children:["Quick Actions",c.jsx(Fc,{className:"ml-1.5 h-3.5 w-3.5"})]}),t&&c.jsx("div",{className:`origin-top-right absolute right-0 mt-1 w-48 rounded-md shadow-sm ${f(d,"sidebar","shadow")} ${f(d,"background","primary")} ring-1 ring-black ring-opacity-5 z-10`,children:c.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[c.jsxs("button",{onClick:h,className:`flex items-center w-full px-3 py-2 text-xs ${f(d,"text","secondary")} ${f(d,"interactive","hover","background")} transition-colors duration-200`,role:"menuitem",children:[c.jsx(sd,{className:"h-3.5 w-3.5 mr-2 text-indigo-500"}),"Create Order"]}),c.jsxs("button",{onClick:p,className:`flex items-center w-full px-3 py-2 text-xs ${f(d,"text","secondary")} ${f(d,"interactive","hover","background")} transition-colors duration-200`,role:"menuitem",children:[c.jsx(Td,{className:"h-3.5 w-3.5 mr-2 text-emerald-500"}),"Create Sale"]}),c.jsxs("button",{onClick:()=>{r(!1),e()},className:`flex items-center w-full px-3 py-2 text-xs ${f(d,"text","secondary")} ${f(d,"interactive","hover","background")} transition-colors duration-200`,role:"menuitem",children:[c.jsx(Xa,{className:"h-3.5 w-3.5 mr-2 text-blue-500"}),"Record Payment"]})]})})]}),n&&c.jsx("div",{ref:l,className:`fixed right-0 top-0 h-screen w-[90vw] sm:w-[450px] overflow-y-auto ${f(d,"background","primary")} shadow-lg z-50`,children:c.jsx(kW,{onClose:()=>a(!1),onSuccess:()=>a(!1)})}),i&&c.jsx("div",{ref:u,className:`fixed right-0 top-0 h-screen w-[90vw] sm:w-[450px] overflow-y-auto ${f(d,"background","primary")} shadow-lg z-50`,children:c.jsx(AH,{onClose:()=>s(!1),onSuccess:()=>s(!1)})})]})};var EH={exports:{}},Kme="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Xme=Kme,Qme=Xme;function PH(){}function OH(){}OH.resetWarningCache=PH;var Jme=function(){function e(n,a,i,s,o,l){if(l!==Qme){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:OH,resetWarningCache:PH};return r.PropTypes=r,r};EH.exports=Jme();var Zme=EH.exports;const Re=hr(Zme);var BE=Yy(),er=e=>qy(e,BE),UE=Yy();er.write=e=>qy(e,UE);var j5=Yy();er.onStart=e=>qy(e,j5);var WE=Yy();er.onFrame=e=>qy(e,WE);var zE=Yy();er.onFinish=e=>qy(e,zE);var J0=[];er.setTimeout=(e,t)=>{const r=er.now()+t,n=()=>{const i=J0.findIndex(s=>s.cancel==n);~i&&J0.splice(i,1),Lu-=~i?1:0},a={time:r,handler:e,cancel:n};return J0.splice($H(r),0,a),Lu+=1,DH(),a};var $H=e=>~(~J0.findIndex(t=>t.time>e)||~J0.length);er.cancel=e=>{j5.delete(e),WE.delete(e),zE.delete(e),BE.delete(e),UE.delete(e)};er.sync=e=>{Jj=!0,er.batchedUpdates(e),Jj=!1};er.throttle=e=>{let t;function r(){try{e(...t)}finally{t=null}}function n(...a){t=a,er.onStart(r)}return n.handler=e,n.cancel=()=>{j5.delete(r),t=null},n};var HE=typeof window<"u"?window.requestAnimationFrame:()=>{};er.use=e=>HE=e;er.now=typeof performance<"u"?()=>performance.now():Date.now;er.batchedUpdates=e=>e();er.catch=console.error;er.frameLoop="always";er.advance=()=>{er.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):FH()};var Fu=-1,Lu=0,Jj=!1;function qy(e,t){Jj?(t.delete(e),e(0)):(t.add(e),DH())}function DH(){Fu<0&&(Fu=0,er.frameLoop!=="demand"&&HE(MH))}function ege(){Fu=-1}function MH(){~Fu&&(HE(MH),er.batchedUpdates(FH))}function FH(){const e=Fu;Fu=er.now();const t=$H(Fu);if(t&&(LH(J0.splice(0,t),r=>r.handler()),Lu-=t),!Lu){ege();return}j5.flush(),BE.flush(e?Math.min(64,Fu-e):16.667),WE.flush(),UE.flush(),zE.flush()}function Yy(){let e=new Set,t=e;return{add(r){Lu+=t==e&&!e.has(r)?1:0,e.add(r)},delete(r){return Lu-=t==e&&e.has(r)?1:0,e.delete(r)},flush(r){t.size&&(e=new Set,Lu-=t.size,LH(t,n=>n(r)&&e.add(n)),Lu+=e.size,t=e)}}}function LH(e,t){e.forEach(r=>{try{t(r)}catch(n){er.catch(n)}})}var tge=Object.defineProperty,rge=(e,t)=>{for(var r in t)tge(e,r,{get:t[r],enumerable:!0})},Jo={};rge(Jo,{assign:()=>age,colors:()=>Qu,createStringInterpolator:()=>YE,skipAnimation:()=>RH,to:()=>IH,willAdvance:()=>VE});function Zj(){}var nge=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),dt={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function lc(e,t){if(dt.arr(e)){if(!dt.arr(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return e===t}var Gt=(e,t)=>e.forEach(t);function Ml(e,t,r){if(dt.arr(e)){for(let n=0;n<e.length;n++)t.call(r,e[n],`${n}`);return}for(const n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n)}var Fi=e=>dt.und(e)?[]:dt.arr(e)?e:[e];function Yx(e,t){if(e.size){const r=Array.from(e);e.clear(),Gt(r,t)}}var hx=(e,...t)=>Yx(e,r=>r(...t)),qE=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),YE,IH,Qu=null,RH=!1,VE=Zj,age=e=>{e.to&&(IH=e.to),e.now&&(er.now=e.now),e.colors!==void 0&&(Qu=e.colors),e.skipAnimation!=null&&(RH=e.skipAnimation),e.createStringInterpolator&&(YE=e.createStringInterpolator),e.requestAnimationFrame&&er.use(e.requestAnimationFrame),e.batchedUpdates&&(er.batchedUpdates=e.batchedUpdates),e.willAdvance&&(VE=e.willAdvance),e.frameLoop&&(er.frameLoop=e.frameLoop)},Vx=new Set,no=[],u3=[],bw=0,C5={get idle(){return!Vx.size&&!no.length},start(e){bw>e.priority?(Vx.add(e),er.onStart(ige)):(BH(e),er(eC))},advance:eC,sort(e){if(bw)er.onFrame(()=>C5.sort(e));else{const t=no.indexOf(e);~t&&(no.splice(t,1),UH(e))}},clear(){no=[],Vx.clear()}};function ige(){Vx.forEach(BH),Vx.clear(),er(eC)}function BH(e){no.includes(e)||UH(e)}function UH(e){no.splice(sge(no,t=>t.priority>e.priority),0,e)}function eC(e){const t=u3;for(let r=0;r<no.length;r++){const n=no[r];bw=n.priority,n.idle||(VE(n),n.advance(e),n.idle||t.push(n))}return bw=0,u3=no,u3.length=0,no=t,no.length>0}function sge(e,t){const r=e.findIndex(t);return r<0?e.length:r}var oge={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},zo="[-+]?\\d*\\.?\\d+",ww=zo+"%";function T5(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var lge=new RegExp("rgb"+T5(zo,zo,zo)),cge=new RegExp("rgba"+T5(zo,zo,zo,zo)),uge=new RegExp("hsl"+T5(zo,ww,ww)),dge=new RegExp("hsla"+T5(zo,ww,ww,zo)),fge=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hge=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,pge=/^#([0-9a-fA-F]{6})$/,mge=/^#([0-9a-fA-F]{8})$/;function gge(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=pge.exec(e))?parseInt(t[1]+"ff",16)>>>0:Qu&&Qu[e]!==void 0?Qu[e]:(t=lge.exec(e))?(l0(t[1])<<24|l0(t[2])<<16|l0(t[3])<<8|255)>>>0:(t=cge.exec(e))?(l0(t[1])<<24|l0(t[2])<<16|l0(t[3])<<8|HD(t[4]))>>>0:(t=fge.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=mge.exec(e))?parseInt(t[1],16)>>>0:(t=hge.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=uge.exec(e))?(WD(zD(t[1]),Ob(t[2]),Ob(t[3]))|255)>>>0:(t=dge.exec(e))?(WD(zD(t[1]),Ob(t[2]),Ob(t[3]))|HD(t[4]))>>>0:null}function d3(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function WD(e,t,r){const n=r<.5?r*(1+t):r+t-r*t,a=2*r-n,i=d3(a,n,e+1/3),s=d3(a,n,e),o=d3(a,n,e-1/3);return Math.round(i*255)<<24|Math.round(s*255)<<16|Math.round(o*255)<<8}function l0(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function zD(e){return(parseFloat(e)%360+360)%360/360}function HD(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Ob(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function qD(e){let t=gge(e);if(t===null)return e;t=t||0;const r=(t&4278190080)>>>24,n=(t&16711680)>>>16,a=(t&65280)>>>8,i=(t&255)/255;return`rgba(${r}, ${n}, ${a}, ${i})`}var Pv=(e,t,r)=>{if(dt.fun(e))return e;if(dt.arr(e))return Pv({range:e,output:t,extrapolate:r});if(dt.str(e.output[0]))return YE(e);const n=e,a=n.output,i=n.range||[0,1],s=n.extrapolateLeft||n.extrapolate||"extend",o=n.extrapolateRight||n.extrapolate||"extend",l=n.easing||(u=>u);return u=>{const d=vge(u,i);return xge(u,i[d],i[d+1],a[d],a[d+1],l,s,o,n.map)}};function xge(e,t,r,n,a,i,s,o,l){let u=l?l(e):e;if(u<t){if(s==="identity")return u;s==="clamp"&&(u=t)}if(u>r){if(o==="identity")return u;o==="clamp"&&(u=r)}return n===a?n:t===r?e<=t?n:a:(t===-1/0?u=-u:r===1/0?u=u-t:u=(u-t)/(r-t),u=i(u),n===-1/0?u=-u:a===1/0?u=u+n:u=u*(a-n)+n,u)}function vge(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}var yge={linear:e=>e},Ov=Symbol.for("FluidValue.get"),Sp=Symbol.for("FluidValue.observers"),to=e=>!!(e&&e[Ov]),is=e=>e&&e[Ov]?e[Ov]():e,YD=e=>e[Sp]||null;function bge(e,t){e.eventObserved?e.eventObserved(t):e(t)}function $v(e,t){const r=e[Sp];r&&r.forEach(n=>{bge(n,t)})}var WH=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");wge(this,e)}},wge=(e,t)=>zH(e,Ov,t);function bm(e,t){if(e[Ov]){let r=e[Sp];r||zH(e,Sp,r=new Set),r.has(t)||(r.add(t),e.observerAdded&&e.observerAdded(r.size,t))}return t}function Dv(e,t){const r=e[Sp];if(r&&r.has(t)){const n=r.size-1;n?r.delete(t):e[Sp]=null,e.observerRemoved&&e.observerRemoved(n,t)}}var zH=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),S2=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,_ge=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,VD=new RegExp(`(${S2.source})(%|[a-z]+)`,"i"),kge=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,A5=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,HH=e=>{const[t,r]=Sge(e);if(!t||qE())return e;const n=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(n)return n.trim();if(r&&r.startsWith("--")){const a=window.getComputedStyle(document.documentElement).getPropertyValue(r);return a||e}else{if(r&&A5.test(r))return HH(r);if(r)return r}return e},Sge=e=>{const t=A5.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]},f3,Nge=(e,t,r,n,a)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(n)}, ${a})`,qH=e=>{f3||(f3=Qu?new RegExp(`(${Object.keys(Qu).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(i=>is(i).replace(A5,HH).replace(_ge,qD).replace(f3,qD)),r=t.map(i=>i.match(S2).map(Number)),a=r[0].map((i,s)=>r.map(o=>{if(!(s in o))throw Error('The arity of each "output" value must be equal');return o[s]})).map(i=>Pv({...e,output:i}));return i=>{var l;const s=!VD.test(t[0])&&((l=t.find(u=>VD.test(u)))==null?void 0:l.replace(S2,""));let o=0;return t[0].replace(S2,()=>`${a[o++](i)}${s||""}`).replace(kge,Nge)}},GE="react-spring: ",YH=e=>{const t=e;let r=!1;if(typeof t!="function")throw new TypeError(`${GE}once requires a function parameter`);return(...n)=>{r||(t(...n),r=!0)}},jge=YH(console.warn);function Cge(){jge(`${GE}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Tge=YH(console.warn);function Age(){Tge(`${GE}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function E5(e){return dt.str(e)&&(e[0]=="#"||/\d/.test(e)||!qE()&&A5.test(e)||e in(Qu||{}))}var mf=qE()?L.useEffect:L.useLayoutEffect,Ege=()=>{const e=L.useRef(!1);return mf(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function KE(){const e=L.useState()[1],t=Ege();return()=>{t.current&&e(Math.random())}}function Pge(e,t){const[r]=L.useState(()=>({inputs:t,result:e()})),n=L.useRef(),a=n.current;let i=a;return i?t&&i.inputs&&Oge(t,i.inputs)||(i={inputs:t,result:e()}):i=r,L.useEffect(()=>{n.current=i,a==r&&(r.inputs=r.result=void 0)},[i]),i.result}function Oge(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var XE=e=>L.useEffect(e,$ge),$ge=[];function tC(e){const t=L.useRef();return L.useEffect(()=>{t.current=e}),t.current}var Mv=Symbol.for("Animated:node"),Dge=e=>!!e&&e[Mv]===e,ml=e=>e&&e[Mv],QE=(e,t)=>nge(e,Mv,t),P5=e=>e&&e[Mv]&&e[Mv].getPayload(),VH=class{constructor(){QE(this,this)}getPayload(){return this.payload||[]}},Vy=class extends VH{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,dt.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Vy(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return dt.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,dt.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Fv=class extends Vy{constructor(e){super(0),this._string=null,this._toString=Pv({output:[e,e]})}static create(e){return new Fv(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(dt.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Pv({output:[this.getValue(),e]})),this._value=0,super.reset()}},_w={dependencies:null},O5=class extends VH{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Ml(this.source,(r,n)=>{Dge(r)?t[n]=r.getValue(e):to(r)?t[n]=is(r):e||(t[n]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Gt(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return Ml(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){_w.dependencies&&to(e)&&_w.dependencies.add(e);const t=P5(e);t&&Gt(t,r=>this.add(r))}},GH=class extends O5{constructor(e){super(e)}static create(e){return new GH(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((r,n)=>r.setValue(e[n])).some(Boolean):(super.setValue(e.map(Mge)),!0)}};function Mge(e){return(E5(e)?Fv:Vy).create(e)}function rC(e){const t=ml(e);return t?t.constructor:dt.arr(e)?GH:E5(e)?Fv:Vy}var GD=(e,t)=>{const r=!dt.fun(e)||e.prototype&&e.prototype.isReactComponent;return L.forwardRef((n,a)=>{const i=L.useRef(null),s=r&&L.useCallback(m=>{i.current=Ige(a,m)},[a]),[o,l]=Lge(n,t),u=KE(),d=()=>{const m=i.current;if(r&&!m)return;(m?t.applyAnimatedValues(m,o.getValue(!0)):!1)===!1&&u()},f=new Fge(d,l),h=L.useRef();mf(()=>(h.current=f,Gt(l,m=>bm(m,f)),()=>{h.current&&(Gt(h.current.deps,m=>Dv(m,h.current)),er.cancel(h.current.update))})),L.useEffect(d,[]),XE(()=>()=>{const m=h.current;Gt(m.deps,g=>Dv(g,m))});const p=t.getComponentProps(o.getValue());return L.createElement(e,{...p,ref:s})})},Fge=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&er.write(this.update)}};function Lge(e,t){const r=new Set;return _w.dependencies=r,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new O5(e),_w.dependencies=null,[e,r]}function Ige(e,t){return e&&(dt.fun(e)?e(t):e.current=t),t}var KD=Symbol.for("AnimatedComponent"),Rge=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:r=a=>new O5(a),getComponentProps:n=a=>a}={})=>{const a={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:n},i=s=>{const o=XD(s)||"Anonymous";return dt.str(s)?s=i[s]||(i[s]=GD(s,a)):s=s[KD]||(s[KD]=GD(s,a)),s.displayName=`Animated(${o})`,s};return Ml(e,(s,o)=>{dt.arr(e)&&(o=XD(s)),i[o]=i(s)}),{animated:i}},XD=e=>dt.str(e)?e:e&&dt.str(e.displayName)?e.displayName:dt.fun(e)&&e.name||null;function ss(e,...t){return dt.fun(e)?e(...t):e}var Gx=(e,t)=>e===!0||!!(t&&e&&(dt.fun(e)?e(t):Fi(e).includes(t))),KH=(e,t)=>dt.obj(e)?t&&e[t]:e,XH=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,Bge=e=>e,$5=(e,t=Bge)=>{let r=Uge;e.default&&e.default!==!0&&(e=e.default,r=Object.keys(e));const n={};for(const a of r){const i=t(e[a],a);dt.und(i)||(n[a]=i)}return n},Uge=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Wge={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function zge(e){const t={};let r=0;if(Ml(e,(n,a)=>{Wge[a]||(t[a]=n,r++)}),r)return t}function JE(e){const t=zge(e);if(t){const r={to:t};return Ml(e,(n,a)=>a in t||(r[a]=n)),r}return{...e}}function Lv(e){return e=is(e),dt.arr(e)?e.map(Lv):E5(e)?Jo.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function QH(e){for(const t in e)return!0;return!1}function nC(e){return dt.fun(e)||dt.arr(e)&&dt.obj(e[0])}function aC(e,t){var r;(r=e.ref)==null||r.delete(e),t==null||t.delete(e)}function JH(e,t){var r;t&&e.ref!==t&&((r=e.ref)==null||r.delete(e),t.add(e),e.ref=t)}var ZE={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},iC={...ZE.default,mass:1,damping:1,easing:yge.linear,clamp:!1},Hge=class{constructor(){this.velocity=0,Object.assign(this,iC)}};function qge(e,t,r){r&&(r={...r},QD(r,t),t={...r,...t}),QD(e,t),Object.assign(e,t);for(const s in iC)e[s]==null&&(e[s]=iC[s]);let{frequency:n,damping:a}=e;const{mass:i}=e;return dt.und(n)||(n<.01&&(n=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/n,2)*i,e.friction=4*Math.PI*a*i/n),e}function QD(e,t){if(!dt.und(t.decay))e.duration=void 0;else{const r=!dt.und(t.tension)||!dt.und(t.friction);(r||!dt.und(t.frequency)||!dt.und(t.damping)||!dt.und(t.mass))&&(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}}var JD=[],Yge=class{constructor(){this.changed=!1,this.values=JD,this.toValues=null,this.fromValues=JD,this.config=new Hge,this.immediate=!1}};function ZH(e,{key:t,props:r,defaultProps:n,state:a,actions:i}){return new Promise((s,o)=>{let l,u,d=Gx(r.cancel??(n==null?void 0:n.cancel),t);if(d)p();else{dt.und(r.pause)||(a.paused=Gx(r.pause,t));let m=n==null?void 0:n.pause;m!==!0&&(m=a.paused||Gx(m,t)),l=ss(r.delay||0,t),m?(a.resumeQueue.add(h),i.pause()):(i.resume(),h())}function f(){a.resumeQueue.add(h),a.timeouts.delete(u),u.cancel(),l=u.time-er.now()}function h(){l>0&&!Jo.skipAnimation?(a.delayed=!0,u=er.setTimeout(p,l),a.pauseQueue.add(f),a.timeouts.add(u)):p()}function p(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(f),a.timeouts.delete(u),e<=(a.cancelId||0)&&(d=!0);try{i.start({...r,callId:e,cancel:d},s)}catch(m){o(m)}}})}var e6=(e,t)=>t.length==1?t[0]:t.some(r=>r.cancelled)?Z0(e.get()):t.every(r=>r.noop)?eq(e.get()):Io(e.get(),t.every(r=>r.finished)),eq=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Io=(e,t,r=!1)=>({value:e,finished:t,cancelled:r}),Z0=e=>({value:e,cancelled:!0,finished:!1});function tq(e,t,r,n){const{callId:a,parentId:i,onRest:s}=t,{asyncTo:o,promise:l}=r;return!i&&e===o&&!t.reset?l:r.promise=(async()=>{r.asyncId=a,r.asyncTo=e;const u=$5(t,(v,x)=>x==="onRest"?void 0:v);let d,f;const h=new Promise((v,x)=>(d=v,f=x)),p=v=>{const x=a<=(r.cancelId||0)&&Z0(n)||a!==r.asyncId&&Io(n,!1);if(x)throw v.result=x,f(v),v},m=(v,x)=>{const y=new ZD,b=new eM;return(async()=>{if(Jo.skipAnimation)throw Iv(r),b.result=Io(n,!1),f(b),b;p(y);const N=dt.obj(v)?{...v}:{...x,to:v};N.parentId=a,Ml(u,(C,k)=>{dt.und(N[k])&&(N[k]=C)});const _=await n.start(N);return p(y),r.paused&&await new Promise(C=>{r.resumeQueue.add(C)}),_})()};let g;if(Jo.skipAnimation)return Iv(r),Io(n,!1);try{let v;dt.arr(e)?v=(async x=>{for(const y of x)await m(y)})(e):v=Promise.resolve(e(m,n.stop.bind(n))),await Promise.all([v.then(d),h]),g=Io(n.get(),!0,!1)}catch(v){if(v instanceof ZD)g=v.result;else if(v instanceof eM)g=v.result;else throw v}finally{a==r.asyncId&&(r.asyncId=i,r.asyncTo=i?o:void 0,r.promise=i?l:void 0)}return dt.fun(s)&&er.batchedUpdates(()=>{s(g,n,n.item)}),g})()}function Iv(e,t){Yx(e.timeouts,r=>r.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var ZD=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},eM=class extends Error{constructor(){super("SkipAnimationSignal")}},sC=e=>e instanceof t6,Vge=1,t6=class extends WH{constructor(){super(...arguments),this.id=Vge++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=ml(this);return e&&e.getValue()}to(...e){return Jo.to(this,e)}interpolate(...e){return Cge(),Jo.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){$v(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||C5.sort(this),$v(this,{type:"priority",parent:this,priority:e})}},Yf=Symbol.for("SpringPhase"),rq=1,nq=2,aq=4,h3=e=>(e[Yf]&rq)>0,xu=e=>(e[Yf]&nq)>0,Cg=e=>(e[Yf]&aq)>0,tM=(e,t)=>t?e[Yf]|=nq|rq:e[Yf]&=-3,rM=(e,t)=>t?e[Yf]|=aq:e[Yf]&=-5,Gge=class extends t6{constructor(e,t){if(super(),this.animation=new Yge,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!dt.und(e)||!dt.und(t)){const r=dt.obj(e)?{...e}:{...t,from:e};dt.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(xu(this)||this._state.asyncTo)||Cg(this)}get goal(){return is(this.animation.to)}get velocity(){const e=ml(this);return e instanceof Vy?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return h3(this)}get isAnimating(){return xu(this)}get isPaused(){return Cg(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,r=!1;const n=this.animation;let{toValues:a}=n;const{config:i}=n,s=P5(n.to);!s&&to(n.to)&&(a=Fi(is(n.to))),n.values.forEach((u,d)=>{if(u.done)return;const f=u.constructor==Fv?1:s?s[d].lastPosition:a[d];let h=n.immediate,p=f;if(!h){if(p=u.lastPosition,i.tension<=0){u.done=!0;return}let m=u.elapsedTime+=e;const g=n.fromValues[d],v=u.v0!=null?u.v0:u.v0=dt.arr(i.velocity)?i.velocity[d]:i.velocity;let x;const y=i.precision||(g==f?.005:Math.min(1,Math.abs(f-g)*.001));if(dt.und(i.duration))if(i.decay){const b=i.decay===!0?.998:i.decay,N=Math.exp(-(1-b)*m);p=g+v/(1-b)*(1-N),h=Math.abs(u.lastPosition-p)<=y,x=v*N}else{x=u.lastVelocity==null?v:u.lastVelocity;const b=i.restVelocity||y/10,N=i.clamp?0:i.bounce,_=!dt.und(N),C=g==f?u.v0>0:g<f;let k,w=!1;const S=1,P=Math.ceil(e/S);for(let A=0;A<P&&(k=Math.abs(x)>b,!(!k&&(h=Math.abs(f-p)<=y,h)));++A){_&&(w=p==f||p>f==C,w&&(x=-x*N,p=f));const T=-i.tension*1e-6*(p-f),F=-i.friction*.001*x,M=(T+F)/i.mass;x=x+M*S,p=p+x*S}}else{let b=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,u.durationProgress>0&&(u.elapsedTime=i.duration*u.durationProgress,m=u.elapsedTime+=e)),b=(i.progress||0)+m/this._memoizedDuration,b=b>1?1:b<0?0:b,u.durationProgress=b),p=g+i.easing(b)*(f-g),x=(p-u.lastPosition)/e,h=b==1}u.lastVelocity=x,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),h=!0)}s&&!s[d].done&&(h=!1),h?u.done=!0:t=!1,u.setValue(p,i.round)&&(r=!0)});const o=ml(this),l=o.getValue();if(t){const u=is(n.to);(l!==u||r)&&!i.decay?(o.setValue(u),this._onChange(u)):r&&i.decay&&this._onChange(l),this._stop()}else r&&this._onChange(l)}set(e){return er.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(xu(this)){const{to:e,config:t}=this.animation;er.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let r;return dt.und(e)?(r=this.queue||[],this.queue=[]):r=[dt.obj(e)?e:{...t,to:e}],Promise.all(r.map(n=>this._update(n))).then(n=>e6(this,n))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Iv(this._state,e&&this._lastCallId),er.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:r,from:n}=e;r=dt.obj(r)?r[t]:r,(r==null||nC(r))&&(r=void 0),n=dt.obj(n)?n[t]:n,n==null&&(n=void 0);const a={to:r,from:n};return h3(this)||(e.reverse&&([r,n]=[n,r]),n=is(n),dt.und(n)?ml(this)||this._set(r):this._set(n)),a}_update({...e},t){const{key:r,defaultProps:n}=this;e.default&&Object.assign(n,$5(e,(s,o)=>/^on/.test(o)?KH(s,r):s)),aM(this,e,"onProps"),Ag(this,"onProps",e,this);const a=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const i=this._state;return ZH(++this._lastCallId,{key:r,props:e,defaultProps:n,state:i,actions:{pause:()=>{Cg(this)||(rM(this,!0),hx(i.pauseQueue),Ag(this,"onPause",Io(this,Tg(this,this.animation.to)),this))},resume:()=>{Cg(this)&&(rM(this,!1),xu(this)&&this._resume(),hx(i.resumeQueue),Ag(this,"onResume",Io(this,Tg(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then(s=>{if(e.loop&&s.finished&&!(t&&s.noop)){const o=iq(e);if(o)return this._update(o,!0)}return s})}_merge(e,t,r){if(t.cancel)return this.stop(!0),r(Z0(this));const n=!dt.und(e.to),a=!dt.und(e.from);if(n||a)if(t.callId>this._lastToId)this._lastToId=t.callId;else return r(Z0(this));const{key:i,defaultProps:s,animation:o}=this,{to:l,from:u}=o;let{to:d=l,from:f=u}=e;a&&!n&&(!t.default||dt.und(d))&&(d=f),t.reverse&&([d,f]=[f,d]);const h=!lc(f,u);h&&(o.from=f),f=is(f);const p=!lc(d,l);p&&this._focus(d);const m=nC(t.to),{config:g}=o,{decay:v,velocity:x}=g;(n||a)&&(g.velocity=0),t.config&&!m&&qge(g,ss(t.config,i),t.config!==s.config?ss(s.config,i):void 0);let y=ml(this);if(!y||dt.und(d))return r(Io(this,!0));const b=dt.und(t.reset)?a&&!t.default:!dt.und(f)&&Gx(t.reset,i),N=b?f:this.get(),_=Lv(d),C=dt.num(_)||dt.arr(_)||E5(_),k=!m&&(!C||Gx(s.immediate||t.immediate,i));if(p){const A=rC(d);if(A!==y.constructor)if(k)y=this._set(_);else throw Error(`Cannot animate between ${y.constructor.name} and ${A.name}, as the "to" prop suggests`)}const w=y.constructor;let S=to(d),P=!1;if(!S){const A=b||!h3(this)&&h;(p||A)&&(P=lc(Lv(N),_),S=!P),(!lc(o.immediate,k)&&!k||!lc(g.decay,v)||!lc(g.velocity,x))&&(S=!0)}if(P&&xu(this)&&(o.changed&&!b?S=!0:S||this._stop(l)),!m&&((S||to(l))&&(o.values=y.getPayload(),o.toValues=to(d)?null:w==Fv?[1]:Fi(_)),o.immediate!=k&&(o.immediate=k,!k&&!b&&this._set(l)),S)){const{onRest:A}=o;Gt(Xge,F=>aM(this,t,F));const T=Io(this,Tg(this,l));hx(this._pendingCalls,T),this._pendingCalls.add(r),o.changed&&er.batchedUpdates(()=>{var F;o.changed=!b,A==null||A(T,this),b?ss(s.onRest,T):(F=o.onStart)==null||F.call(o,T,this)})}b&&this._set(N),m?r(tq(t.to,t,this._state,this)):S?this._start():xu(this)&&!p?this._pendingCalls.add(r):r(eq(N))}_focus(e){const t=this.animation;e!==t.to&&(YD(this)&&this._detach(),t.to=e,YD(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;to(t)&&(bm(t,this),sC(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;to(e)&&Dv(e,this)}_set(e,t=!0){const r=is(e);if(!dt.und(r)){const n=ml(this);if(!n||!lc(r,n.getValue())){const a=rC(r);!n||n.constructor!=a?QE(this,a.create(r)):n.setValue(r),n&&er.batchedUpdates(()=>{this._onChange(r,t)})}}return ml(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Ag(this,"onStart",Io(this,Tg(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),ss(this.animation.onChange,e,this)),ss(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;ml(this).reset(is(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),xu(this)||(tM(this,!0),Cg(this)||this._resume())}_resume(){Jo.skipAnimation?this.finish():C5.start(this)}_stop(e,t){if(xu(this)){tM(this,!1);const r=this.animation;Gt(r.values,a=>{a.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),$v(this,{type:"idle",parent:this});const n=t?Z0(this.get()):Io(this.get(),Tg(this,e??r.to));hx(this._pendingCalls,n),r.changed&&(r.changed=!1,Ag(this,"onRest",n,this))}}};function Tg(e,t){const r=Lv(t),n=Lv(e.get());return lc(n,r)}function iq(e,t=e.loop,r=e.to){const n=ss(t);if(n){const a=n!==!0&&JE(n),i=(a||e).reverse,s=!a||a.reset;return Rv({...e,loop:t,default:!1,pause:void 0,to:!i||nC(r)?r:void 0,from:s?e.from:void 0,reset:s,...a})}}function Rv(e){const{to:t,from:r}=e=JE(e),n=new Set;return dt.obj(t)&&nM(t,n),dt.obj(r)&&nM(r,n),e.keys=n.size?Array.from(n):null,e}function Kge(e){const t=Rv(e);return dt.und(t.default)&&(t.default=$5(t)),t}function nM(e,t){Ml(e,(r,n)=>r!=null&&t.add(n))}var Xge=["onStart","onRest","onChange","onPause","onResume"];function aM(e,t,r){e.animation[r]=t[r]!==XH(t,r)?KH(t[r],e.key):void 0}function Ag(e,t,...r){var n,a,i,s;(a=(n=e.animation)[t])==null||a.call(n,...r),(s=(i=e.defaultProps)[t])==null||s.call(i,...r)}var Qge=["onStart","onChange","onRest"],Jge=1,sq=class{constructor(e,t){this.id=Jge++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,r)=>e[r]=t.get()),e}set(e){for(const t in e){const r=e[t];dt.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push(Rv(e)),this}start(e){let{queue:t}=this;return e?t=Fi(e).map(Rv):this.queue=[],this._flush?this._flush(this,t):(dq(this,t),oC(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const r=this.springs;Gt(Fi(t),n=>r[n].stop(!!e))}else Iv(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(dt.und(e))this.start({pause:!0});else{const t=this.springs;Gt(Fi(e),r=>t[r].pause())}return this}resume(e){if(dt.und(e))this.start({pause:!1});else{const t=this.springs;Gt(Fi(e),r=>t[r].resume())}return this}each(e){Ml(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:r}=this._events,n=this._active.size>0,a=this._changed.size>0;(n&&!this._started||a&&!this._started)&&(this._started=!0,Yx(e,([o,l])=>{l.value=this.get(),o(l,this,this._item)}));const i=!n&&this._started,s=a||i&&r.size?this.get():null;a&&t.size&&Yx(t,([o,l])=>{l.value=s,o(l,this,this._item)}),i&&(this._started=!1,Yx(r,([o,l])=>{l.value=s,o(l,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;er.onFrame(this._onFrame)}};function oC(e,t){return Promise.all(t.map(r=>oq(e,r))).then(r=>e6(e,r))}async function oq(e,t,r){const{keys:n,to:a,from:i,loop:s,onRest:o,onResolve:l}=t,u=dt.obj(t.default)&&t.default;s&&(t.loop=!1),a===!1&&(t.to=null),i===!1&&(t.from=null);const d=dt.arr(a)||dt.fun(a)?a:void 0;d?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):Gt(Qge,g=>{const v=t[g];if(dt.fun(v)){const x=e._events[g];t[g]=({finished:y,cancelled:b})=>{const N=x.get(v);N?(y||(N.finished=!1),b&&(N.cancelled=!0)):x.set(v,{value:null,finished:y||!1,cancelled:b||!1})},u&&(u[g]=t[g])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,hx(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const h=(n||Object.keys(e.springs)).map(g=>e.springs[g].start(t)),p=t.cancel===!0||XH(t,"cancel")===!0;(d||p&&f.asyncId)&&h.push(ZH(++e._lastAsyncId,{props:t,state:f,actions:{pause:Zj,resume:Zj,start(g,v){p?(Iv(f,e._lastAsyncId),v(Z0(e))):(g.onRest=o,v(tq(d,g,f,e)))}}})),f.paused&&await new Promise(g=>{f.resumeQueue.add(g)});const m=e6(e,await Promise.all(h));if(s&&m.finished&&!(r&&m.noop)){const g=iq(t,s,a);if(g)return dq(e,[g]),oq(e,g,!0)}return l&&er.batchedUpdates(()=>l(m,e,e.item)),m}function lC(e,t){const r={...e.springs};return t&&Gt(Fi(t),n=>{dt.und(n.keys)&&(n=Rv(n)),dt.obj(n.to)||(n={...n,to:void 0}),uq(r,n,a=>cq(a))}),lq(e,r),r}function lq(e,t){Ml(t,(r,n)=>{e.springs[n]||(e.springs[n]=r,bm(r,e))})}function cq(e,t){const r=new Gge;return r.key=e,t&&bm(r,t),r}function uq(e,t,r){t.keys&&Gt(t.keys,n=>{(e[n]||(e[n]=r(n)))._prepareNode(t)})}function dq(e,t){Gt(t,r=>{uq(e.springs,r,n=>cq(n,e))})}var Gy=({children:e,...t})=>{const r=L.useContext(kw),n=t.pause||!!r.pause,a=t.immediate||!!r.immediate;t=Pge(()=>({pause:n,immediate:a}),[n,a]);const{Provider:i}=kw;return L.createElement(i,{value:t},e)},kw=Zge(Gy,{});Gy.Provider=kw.Provider;Gy.Consumer=kw.Consumer;function Zge(e,t){return Object.assign(e,L.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var fq=()=>{const e=[],t=function(n){Age();const a=[];return Gt(e,(i,s)=>{if(dt.und(n))a.push(i.start());else{const o=r(n,i,s);o&&a.push(i.start(o))}}),a};t.current=e,t.add=function(n){e.includes(n)||e.push(n)},t.delete=function(n){const a=e.indexOf(n);~a&&e.splice(a,1)},t.pause=function(){return Gt(e,n=>n.pause(...arguments)),this},t.resume=function(){return Gt(e,n=>n.resume(...arguments)),this},t.set=function(n){Gt(e,(a,i)=>{const s=dt.fun(n)?n(i,a):n;s&&a.set(s)})},t.start=function(n){const a=[];return Gt(e,(i,s)=>{if(dt.und(n))a.push(i.start());else{const o=this._getProps(n,i,s);o&&a.push(i.start(o))}}),a},t.stop=function(){return Gt(e,n=>n.stop(...arguments)),this},t.update=function(n){return Gt(e,(a,i)=>a.update(this._getProps(n,a,i))),this};const r=function(n,a,i){return dt.fun(n)?n(i,a):n};return t._getProps=r,t};function exe(e,t,r){const n=dt.fun(t)&&t;n&&!r&&(r=[]);const a=L.useMemo(()=>n||arguments.length==3?fq():void 0,[]),i=L.useRef(0),s=KE(),o=L.useMemo(()=>({ctrls:[],queue:[],flush(x,y){const b=lC(x,y);return i.current>0&&!o.queue.length&&!Object.keys(b).some(_=>!x.springs[_])?oC(x,y):new Promise(_=>{lq(x,b),o.queue.push(()=>{_(oC(x,y))}),s()})}}),[]),l=L.useRef([...o.ctrls]),u=[],d=tC(e)||0;L.useMemo(()=>{Gt(l.current.slice(e,d),x=>{aC(x,a),x.stop(!0)}),l.current.length=e,f(d,e)},[e]),L.useMemo(()=>{f(0,Math.min(d,e))},r);function f(x,y){for(let b=x;b<y;b++){const N=l.current[b]||(l.current[b]=new sq(null,o.flush)),_=n?n(b,N):t[b];_&&(u[b]=Kge(_))}}const h=l.current.map((x,y)=>lC(x,u[y])),p=L.useContext(Gy),m=tC(p),g=p!==m&&QH(p);mf(()=>{i.current++,o.ctrls=l.current;const{queue:x}=o;x.length&&(o.queue=[],Gt(x,y=>y())),Gt(l.current,(y,b)=>{a==null||a.add(y),g&&y.start({default:p});const N=u[b];N&&(JH(y,N.ref),y.ref?y.queue.push(N):y.start(N))})}),XE(()=>()=>{Gt(o.ctrls,x=>x.stop(!0))});const v=h.map(x=>({...x}));return a?[v,a]:v}function wm(e,t){const r=dt.fun(e),[[n],a]=exe(1,r?e:[e],r?[]:t);return r||arguments.length==2?[n,a]:n}function Ky(e,t,r){const n=dt.fun(t)&&t,{reset:a,sort:i,trail:s=0,expires:o=!0,exitBeforeEnter:l=!1,onDestroyed:u,ref:d,config:f}=n?n():t,h=L.useMemo(()=>n||arguments.length==3?fq():void 0,[]),p=Fi(e),m=[],g=L.useRef(null),v=a?null:g.current;mf(()=>{g.current=m}),XE(()=>(Gt(m,M=>{h==null||h.add(M.ctrl),M.ctrl.ref=h}),()=>{Gt(g.current,M=>{M.expired&&clearTimeout(M.expirationId),aC(M.ctrl,h),M.ctrl.stop(!0)})}));const x=rxe(p,n?n():t,v),y=a&&g.current||[];mf(()=>Gt(y,({ctrl:M,item:H,key:z})=>{aC(M,h),ss(u,H,z)}));const b=[];if(v&&Gt(v,(M,H)=>{M.expired?(clearTimeout(M.expirationId),y.push(M)):(H=b[H]=x.indexOf(M.key),~H&&(m[H]=M))}),Gt(p,(M,H)=>{m[H]||(m[H]={key:x[H],item:M,phase:"mount",ctrl:new sq},m[H].ctrl.item=M)}),b.length){let M=-1;const{leave:H}=n?n():t;Gt(b,(z,Y)=>{const G=v[Y];~z?(M=m.indexOf(G),m[M]={...G,item:p[z]}):H&&m.splice(++M,0,G)})}dt.fun(i)&&m.sort((M,H)=>i(M.item,H.item));let N=-s;const _=KE(),C=$5(t),k=new Map,w=L.useRef(new Map),S=L.useRef(!1);Gt(m,(M,H)=>{const z=M.key,Y=M.phase,G=n?n():t;let I,X;const J=ss(G.delay||0,z);if(Y=="mount")I=G.enter,X="enter";else{const q=x.indexOf(z)<0;if(Y!="leave")if(q)I=G.leave,X="leave";else if(I=G.update)X="update";else return;else if(!q)I=G.enter,X="enter";else return}if(I=ss(I,M.item,H),I=dt.obj(I)?JE(I):{to:I},!I.config){const q=f||C.config;I.config=ss(q,M.item,H,X)}N+=s;const E={...C,delay:J+N,ref:d,immediate:G.immediate,reset:!1,...I};if(X=="enter"&&dt.und(E.from)){const q=n?n():t,K=dt.und(q.initial)||v?q.from:q.initial;E.from=ss(K,M.item,H)}const{onResolve:R}=E;E.onResolve=q=>{ss(R,q);const K=g.current,ae=K.find(ee=>ee.key===z);if(ae&&!(q.cancelled&&ae.phase!="update")&&ae.ctrl.idle){const ee=K.every(W=>W.ctrl.idle);if(ae.phase=="leave"){const W=ss(o,ae.item);if(W!==!1){const Z=W===!0?0:W;if(ae.expired=!0,!ee&&Z>0){Z<=2147483647&&(ae.expirationId=setTimeout(_,Z));return}}}ee&&K.some(W=>W.expired)&&(w.current.delete(ae),l&&(S.current=!0),_())}};const B=lC(M.ctrl,E);X==="leave"&&l?w.current.set(M,{phase:X,springs:B,payload:E}):k.set(M,{phase:X,springs:B,payload:E})});const P=L.useContext(Gy),A=tC(P),T=P!==A&&QH(P);mf(()=>{T&&Gt(m,M=>{M.ctrl.start({default:P})})},[P]),Gt(k,(M,H)=>{if(w.current.size){const z=m.findIndex(Y=>Y.key===H.key);m.splice(z,1)}}),mf(()=>{Gt(w.current.size?w.current:k,({phase:M,payload:H},z)=>{const{ctrl:Y}=z;z.phase=M,h==null||h.add(Y),T&&M=="enter"&&Y.start({default:P}),H&&(JH(Y,H.ref),(Y.ref||h)&&!S.current?Y.update(H):(Y.start(H),S.current&&(S.current=!1)))})},a?void 0:r);const F=M=>L.createElement(L.Fragment,null,m.map((H,z)=>{const{springs:Y}=k.get(H)||H.ctrl,G=M({...Y},H.item,H,z);return G&&G.type?L.createElement(G.type,{...G.props,key:dt.str(H.key)||dt.num(H.key)?H.key:H.ctrl.id,ref:G.ref}):G}));return h?[F,h]:F}var txe=1;function rxe(e,{key:t,keys:r=t},n){if(r===null){const a=new Set;return e.map(i=>{const s=n&&n.find(o=>o.item===i&&o.phase!=="leave"&&!a.has(o));return s?(a.add(s),s.key):txe++})}return dt.und(r)?e:dt.fun(r)?e.map(r):Fi(r)}var hq=class extends t6{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Pv(...t);const r=this._get(),n=rC(r);QE(this,n.create(r))}advance(e){const t=this._get(),r=this.get();lc(t,r)||(ml(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&iM(this._active)&&p3(this)}_get(){const e=dt.arr(this.source)?this.source.map(is):Fi(is(this.source));return this.calc(...e)}_start(){this.idle&&!iM(this._active)&&(this.idle=!1,Gt(P5(this),e=>{e.done=!1}),Jo.skipAnimation?(er.batchedUpdates(()=>this.advance()),p3(this)):C5.start(this))}_attach(){let e=1;Gt(Fi(this.source),t=>{to(t)&&bm(t,this),sC(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Gt(Fi(this.source),e=>{to(e)&&Dv(e,this)}),this._active.clear(),p3(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Fi(this.source).reduce((t,r)=>Math.max(t,(sC(r)?r.priority:0)+1),0))}};function nxe(e){return e.idle!==!1}function iM(e){return!e.size||Array.from(e).every(nxe)}function p3(e){e.idle||(e.idle=!0,Gt(P5(e),t=>{t.done=!0}),$v(e,{type:"idle",parent:e}))}var _m=(e,...t)=>new hq(e,t);Jo.assign({createStringInterpolator:qH,to:(e,t)=>new hq(e,t)});var pq=/^--/;function axe(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!pq.test(e)&&!(Kx.hasOwnProperty(e)&&Kx[e])?t+"px":(""+t).trim()}var sM={};function ixe(e,t){if(!e.nodeType||!e.setAttribute)return!1;const r=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:n,style:a,children:i,scrollTop:s,scrollLeft:o,viewBox:l,...u}=t,d=Object.values(u),f=Object.keys(u).map(h=>r||e.hasAttribute(h)?h:sM[h]||(sM[h]=h.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));i!==void 0&&(e.textContent=i);for(const h in a)if(a.hasOwnProperty(h)){const p=axe(h,a[h]);pq.test(h)?e.style.setProperty(h,p):e.style[h]=p}f.forEach((h,p)=>{e.setAttribute(h,d[p])}),n!==void 0&&(e.className=n),s!==void 0&&(e.scrollTop=s),o!==void 0&&(e.scrollLeft=o),l!==void 0&&e.setAttribute("viewBox",l)}var Kx={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sxe=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),oxe=["Webkit","Ms","Moz","O"];Kx=Object.keys(Kx).reduce((e,t)=>(oxe.forEach(r=>e[sxe(r,t)]=e[t]),e),Kx);var lxe=/^(matrix|translate|scale|rotate|skew)/,cxe=/^(translate)/,uxe=/^(rotate|skew)/,m3=(e,t)=>dt.num(e)&&e!==0?e+t:e,N2=(e,t)=>dt.arr(e)?e.every(r=>N2(r,t)):dt.num(e)?e===t:parseFloat(e)===t,dxe=class extends O5{constructor({x:e,y:t,z:r,...n}){const a=[],i=[];(e||t||r)&&(a.push([e||0,t||0,r||0]),i.push(s=>[`translate3d(${s.map(o=>m3(o,"px")).join(",")})`,N2(s,0)])),Ml(n,(s,o)=>{if(o==="transform")a.push([s||""]),i.push(l=>[l,l===""]);else if(lxe.test(o)){if(delete n[o],dt.und(s))return;const l=cxe.test(o)?"px":uxe.test(o)?"deg":"";a.push(Fi(s)),i.push(o==="rotate3d"?([u,d,f,h])=>[`rotate3d(${u},${d},${f},${m3(h,l)})`,N2(h,0)]:u=>[`${o}(${u.map(d=>m3(d,l)).join(",")})`,N2(u,o.startsWith("scale")?1:0)])}}),a.length&&(n.transform=new fxe(a,i)),super(n)}},fxe=class extends WH{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Gt(this.inputs,(r,n)=>{const a=is(r[0]),[i,s]=this.transforms[n](dt.arr(a)?a:r.map(is));e+=" "+i,t=t&&s}),t?"none":e}observerAdded(e){e==1&&Gt(this.inputs,t=>Gt(t,r=>to(r)&&bm(r,this)))}observerRemoved(e){e==0&&Gt(this.inputs,t=>Gt(t,r=>to(r)&&Dv(r,this)))}eventObserved(e){e.type=="change"&&(this._value=null),$v(this,e)}},hxe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Jo.assign({batchedUpdates:s5.unstable_batchedUpdates,createStringInterpolator:qH,colors:oge});var pxe=Rge(hxe,{applyAnimatedValues:ixe,createAnimatedStyle:e=>new dxe(e),getComponentProps:({scrollTop:e,scrollLeft:t,...r})=>r}),Za=pxe.animated;function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vf.apply(this,arguments)}var mxe={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},oM=function(e,t){return"translate("+e+"px, "+t+"px)"},mq=L.memo(function(e){var t,r=e.position,n=e.anchor,a=e.children,i=aa(),s=ql(),o=s.animate,l=s.config,u=AV(),d=u[0],f=u[1],h=L.useRef(!1),p=void 0,m=!1,g=f.width>0&&f.height>0,v=Math.round(r[0]),x=Math.round(r[1]);g&&(n==="top"?(v-=f.width/2,x-=f.height+14):n==="right"?(v+=14,x-=f.height/2):n==="bottom"?(v-=f.width/2,x+=14):n==="left"?(v-=f.width+14,x-=f.height/2):n==="center"&&(v-=f.width/2,x-=f.height/2),p={transform:oM(v,x)},h.current||(m=!0),h.current=[v,x]);var y=wm({to:p,config:l,immediate:!o||m}),b=Vf({},mxe,i.tooltip.wrapper,{transform:(t=y.transform)!=null?t:oM(v,x),opacity:y.transform?1:0});return c.jsx(Za.div,{ref:d,style:b,children:a})});mq.displayName="TooltipWrapper";var gq=L.memo(function(e){var t=e.size,r=t===void 0?12:t,n=e.color,a=e.style;return c.jsx("span",{style:Vf({display:"block",width:r,height:r,background:n},a===void 0?{}:a)})}),xq=L.memo(function(e){var t,r=e.id,n=e.value,a=e.format,i=e.enableChip,s=i!==void 0&&i,o=e.color,l=e.renderContent,u=aa(),d=Hw(a);if(typeof l=="function")t=l();else{var f=n;d!==void 0&&f!==void 0&&(f=d(f)),t=c.jsxs("div",{style:u.tooltip.basic,children:[s&&c.jsx(gq,{color:o,style:u.tooltip.chip}),f!==void 0?c.jsxs("span",{children:[r,": ",c.jsx("strong",{children:""+f})]}):r]})}return c.jsx("div",{style:u.tooltip.container,children:t})}),gxe={width:"100%",borderCollapse:"collapse"},vq=L.memo(function(e){var t,r=e.title,n=e.rows,a=n===void 0?[]:n,i=e.renderContent,s=aa();return a.length?(t=typeof i=="function"?i():c.jsxs("div",{children:[r&&r,c.jsx("table",{style:Vf({},gxe,s.tooltip.table),children:c.jsx("tbody",{children:a.map(function(o,l){return c.jsx("tr",{children:o.map(function(u,d){return c.jsx("td",{style:s.tooltip.tableCell,children:u},d)})},l)})})})]}),c.jsx("div",{style:s.tooltip.container,children:t})):null});vq.displayName="TableTooltip";var cC=L.memo(function(e){var t=e.x0,r=e.x1,n=e.y0,a=e.y1,i=aa(),s=ql(),o=s.animate,l=s.config,u=L.useMemo(function(){return Vf({},i.crosshair.line,{pointerEvents:"none"})},[i.crosshair.line]),d=wm({x1:t,x2:r,y1:n,y2:a,config:l,immediate:!o});return c.jsx(Za.line,Vf({},d,{fill:"none",style:u}))});cC.displayName="CrosshairLine";var uC=L.memo(function(e){var t,r,n=e.width,a=e.height,i=e.type,s=e.x,o=e.y;return i==="cross"?(t={x0:s,x1:s,y0:0,y1:a},r={x0:0,x1:n,y0:o,y1:o}):i==="top-left"?(t={x0:s,x1:s,y0:0,y1:o},r={x0:0,x1:s,y0:o,y1:o}):i==="top"?t={x0:s,x1:s,y0:0,y1:o}:i==="top-right"?(t={x0:s,x1:s,y0:0,y1:o},r={x0:s,x1:n,y0:o,y1:o}):i==="right"?r={x0:s,x1:n,y0:o,y1:o}:i==="bottom-right"?(t={x0:s,x1:s,y0:o,y1:a},r={x0:s,x1:n,y0:o,y1:o}):i==="bottom"?t={x0:s,x1:s,y0:o,y1:a}:i==="bottom-left"?(t={x0:s,x1:s,y0:o,y1:a},r={x0:0,x1:s,y0:o,y1:o}):i==="left"?r={x0:0,x1:s,y0:o,y1:o}:i==="x"?t={x0:s,x1:s,y0:0,y1:a}:i==="y"&&(r={x0:0,x1:n,y0:o,y1:o}),c.jsxs(c.Fragment,{children:[t&&c.jsx(cC,{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1}),r&&c.jsx(cC,{x0:r.x0,x1:r.x1,y0:r.y0,y1:r.y1})]})});uC.displayName="Crosshair";var yq=L.createContext({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),dC={isVisible:!1,position:[null,null],content:null,anchor:null},bq=L.createContext(dC),xxe=function(e){var t=L.useState(dC),r=t[0],n=t[1],a=L.useCallback(function(o,l,u){var d=l[0],f=l[1];u===void 0&&(u="top"),n({isVisible:!0,position:[d,f],anchor:u,content:o})},[n]),i=L.useCallback(function(o,l,u){u===void 0&&(u="top");var d=e.current.getBoundingClientRect(),f=e.current.offsetWidth,h=f===d.width?1:f/d.width,p="touches"in l?l.touches[0]:l,m=p.clientX,g=p.clientY,v=(m-d.left)*h,x=(g-d.top)*h;u!=="left"&&u!=="right"||(u=v<d.width/2?"right":"left"),n({isVisible:!0,position:[v,x],anchor:u,content:o})},[e,n]),s=L.useCallback(function(){n(dC)},[n]);return{actions:L.useMemo(function(){return{showTooltipAt:a,showTooltipFromEvent:i,hideTooltip:s}},[a,i,s]),state:r}},Xy=function(){var e=L.useContext(yq);if(e===void 0)throw new Error("useTooltip must be used within a TooltipProvider");return e},vxe=function(){var e=L.useContext(bq);if(e===void 0)throw new Error("useTooltipState must be used within a TooltipProvider");return e},yxe=function(e){return e.isVisible},bxe=function(){var e=vxe();return yxe(e)?c.jsx(mq,{position:e.position,anchor:e.anchor,children:e.content}):null},wxe=function(e){var t=e.container,r=e.children,n=xxe(t),a=n.actions,i=n.state;return c.jsx(yq.Provider,{value:a,children:c.jsx(bq.Provider,{value:i,children:r})})};function _xe(){this.__data__=[],this.size=0}var kxe=_xe;function Sxe(e,t){return e===t||e!==e&&t!==t}var Qy=Sxe,Nxe=Qy;function jxe(e,t){for(var r=e.length;r--;)if(Nxe(e[r][0],t))return r;return-1}var D5=jxe,Cxe=D5,Txe=Array.prototype,Axe=Txe.splice;function Exe(e){var t=this.__data__,r=Cxe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Axe.call(t,r,1),--this.size,!0}var Pxe=Exe,Oxe=D5;function $xe(e){var t=this.__data__,r=Oxe(t,e);return r<0?void 0:t[r][1]}var Dxe=$xe,Mxe=D5;function Fxe(e){return Mxe(this.__data__,e)>-1}var Lxe=Fxe,Ixe=D5;function Rxe(e,t){var r=this.__data__,n=Ixe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Bxe=Rxe,Uxe=kxe,Wxe=Pxe,zxe=Dxe,Hxe=Lxe,qxe=Bxe;function km(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}km.prototype.clear=Uxe;km.prototype.delete=Wxe;km.prototype.get=zxe;km.prototype.has=Hxe;km.prototype.set=qxe;var M5=km,Yxe=M5;function Vxe(){this.__data__=new Yxe,this.size=0}var Gxe=Vxe;function Kxe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Xxe=Kxe;function Qxe(e){return this.__data__.get(e)}var Jxe=Qxe;function Zxe(e){return this.__data__.has(e)}var eve=Zxe,tve=typeof ha=="object"&&ha&&ha.Object===Object&&ha,wq=tve,rve=wq,nve=typeof self=="object"&&self&&self.Object===Object&&self,ave=rve||nve||Function("return this")(),rl=ave,ive=rl,sve=ive.Symbol,Jy=sve,lM=Jy,_q=Object.prototype,ove=_q.hasOwnProperty,lve=_q.toString,Eg=lM?lM.toStringTag:void 0;function cve(e){var t=ove.call(e,Eg),r=e[Eg];try{e[Eg]=void 0;var n=!0}catch{}var a=lve.call(e);return n&&(t?e[Eg]=r:delete e[Eg]),a}var uve=cve,dve=Object.prototype,fve=dve.toString;function hve(e){return fve.call(e)}var pve=hve,cM=Jy,mve=uve,gve=pve,xve="[object Null]",vve="[object Undefined]",uM=cM?cM.toStringTag:void 0;function yve(e){return e==null?e===void 0?vve:xve:uM&&uM in Object(e)?mve(e):gve(e)}var Hl=yve;function bve(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Fs=bve;const Sm=hr(Fs);var wve=Hl,_ve=Fs,kve="[object AsyncFunction]",Sve="[object Function]",Nve="[object GeneratorFunction]",jve="[object Proxy]";function Cve(e){if(!_ve(e))return!1;var t=wve(e);return t==Sve||t==Nve||t==kve||t==jve}var F5=Cve;const ar=hr(F5);var Tve=rl,Ave=Tve["__core-js_shared__"],Eve=Ave,g3=Eve,dM=function(){var e=/[^.]+$/.exec(g3&&g3.keys&&g3.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Pve(e){return!!dM&&dM in e}var Ove=Pve,$ve=Function.prototype,Dve=$ve.toString;function Mve(e){if(e!=null){try{return Dve.call(e)}catch{}try{return e+""}catch{}}return""}var kq=Mve,Fve=F5,Lve=Ove,Ive=Fs,Rve=kq,Bve=/[\\^$.*+?()[\]{}|]/g,Uve=/^\[object .+?Constructor\]$/,Wve=Function.prototype,zve=Object.prototype,Hve=Wve.toString,qve=zve.hasOwnProperty,Yve=RegExp("^"+Hve.call(qve).replace(Bve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vve(e){if(!Ive(e)||Lve(e))return!1;var t=Fve(e)?Yve:Uve;return t.test(Rve(e))}var Gve=Vve;function Kve(e,t){return e==null?void 0:e[t]}var Xve=Kve,Qve=Gve,Jve=Xve;function Zve(e,t){var r=Jve(e,t);return Qve(r)?r:void 0}var vh=Zve,eye=vh,tye=rl,rye=eye(tye,"Map"),r6=rye,nye=vh,aye=nye(Object,"create"),L5=aye,fM=L5;function iye(){this.__data__=fM?fM(null):{},this.size=0}var sye=iye;function oye(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var lye=oye,cye=L5,uye="__lodash_hash_undefined__",dye=Object.prototype,fye=dye.hasOwnProperty;function hye(e){var t=this.__data__;if(cye){var r=t[e];return r===uye?void 0:r}return fye.call(t,e)?t[e]:void 0}var pye=hye,mye=L5,gye=Object.prototype,xye=gye.hasOwnProperty;function vye(e){var t=this.__data__;return mye?t[e]!==void 0:xye.call(t,e)}var yye=vye,bye=L5,wye="__lodash_hash_undefined__";function _ye(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=bye&&t===void 0?wye:t,this}var kye=_ye,Sye=sye,Nye=lye,jye=pye,Cye=yye,Tye=kye;function Nm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Nm.prototype.clear=Sye;Nm.prototype.delete=Nye;Nm.prototype.get=jye;Nm.prototype.has=Cye;Nm.prototype.set=Tye;var Aye=Nm,hM=Aye,Eye=M5,Pye=r6;function Oye(){this.size=0,this.__data__={hash:new hM,map:new(Pye||Eye),string:new hM}}var $ye=Oye;function Dye(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Mye=Dye,Fye=Mye;function Lye(e,t){var r=e.__data__;return Fye(t)?r[typeof t=="string"?"string":"hash"]:r.map}var I5=Lye,Iye=I5;function Rye(e){var t=Iye(this,e).delete(e);return this.size-=t?1:0,t}var Bye=Rye,Uye=I5;function Wye(e){return Uye(this,e).get(e)}var zye=Wye,Hye=I5;function qye(e){return Hye(this,e).has(e)}var Yye=qye,Vye=I5;function Gye(e,t){var r=Vye(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Kye=Gye,Xye=$ye,Qye=Bye,Jye=zye,Zye=Yye,e1e=Kye;function jm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jm.prototype.clear=Xye;jm.prototype.delete=Qye;jm.prototype.get=Jye;jm.prototype.has=Zye;jm.prototype.set=e1e;var n6=jm,t1e=M5,r1e=r6,n1e=n6,a1e=200;function i1e(e,t){var r=this.__data__;if(r instanceof t1e){var n=r.__data__;if(!r1e||n.length<a1e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new n1e(n)}return r.set(e,t),this.size=r.size,this}var s1e=i1e,o1e=M5,l1e=Gxe,c1e=Xxe,u1e=Jxe,d1e=eve,f1e=s1e;function Cm(e){var t=this.__data__=new o1e(e);this.size=t.size}Cm.prototype.clear=l1e;Cm.prototype.delete=c1e;Cm.prototype.get=u1e;Cm.prototype.has=d1e;Cm.prototype.set=f1e;var a6=Cm,h1e=vh,p1e=function(){try{var e=h1e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Sq=p1e,pM=Sq;function m1e(e,t,r){t=="__proto__"&&pM?pM(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var R5=m1e,g1e=R5,x1e=Qy;function v1e(e,t,r){(r!==void 0&&!x1e(e[t],r)||r===void 0&&!(t in e))&&g1e(e,t,r)}var Nq=v1e;function y1e(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var b1e=y1e,w1e=b1e,_1e=w1e(),jq=_1e,Sw={exports:{}};Sw.exports;(function(e,t){var r=rl,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var f=u.length,h=o?o(f):new u.constructor(f);return u.copy(h),h}e.exports=l})(Sw,Sw.exports);var k1e=Sw.exports,S1e=rl,N1e=S1e.Uint8Array,Cq=N1e,mM=Cq;function j1e(e){var t=new e.constructor(e.byteLength);return new mM(t).set(new mM(e)),t}var C1e=j1e,T1e=C1e;function A1e(e,t){var r=t?T1e(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var E1e=A1e;function P1e(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var O1e=P1e,$1e=Fs,gM=Object.create,D1e=function(){function e(){}return function(t){if(!$1e(t))return{};if(gM)return gM(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),M1e=D1e;function F1e(e,t){return function(r){return e(t(r))}}var Tq=F1e,L1e=Tq,I1e=L1e(Object.getPrototypeOf,Object),Aq=I1e,R1e=Object.prototype;function B1e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||R1e;return e===r}var i6=B1e,U1e=M1e,W1e=Aq,z1e=i6;function H1e(e){return typeof e.constructor=="function"&&!z1e(e)?U1e(W1e(e)):{}}var q1e=H1e;function Y1e(e){return e!=null&&typeof e=="object"}var nl=Y1e,V1e=Hl,G1e=nl,K1e="[object Arguments]";function X1e(e){return G1e(e)&&V1e(e)==K1e}var Q1e=X1e,xM=Q1e,J1e=nl,Eq=Object.prototype,Z1e=Eq.hasOwnProperty,ebe=Eq.propertyIsEnumerable,tbe=xM(function(){return arguments}())?xM:function(e){return J1e(e)&&Z1e.call(e,"callee")&&!ebe.call(e,"callee")},B5=tbe,rbe=Array.isArray,Gi=rbe,nbe=9007199254740991;function abe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=nbe}var s6=abe,ibe=F5,sbe=s6;function obe(e){return e!=null&&sbe(e.length)&&!ibe(e)}var Tm=obe,lbe=Tm,cbe=nl;function ube(e){return cbe(e)&&lbe(e)}var Pq=ube,Nw={exports:{}};function dbe(){return!1}var fbe=dbe;Nw.exports;(function(e,t){var r=rl,n=fbe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;e.exports=u})(Nw,Nw.exports);var o6=Nw.exports,hbe=Hl,pbe=Aq,mbe=nl,gbe="[object Object]",xbe=Function.prototype,vbe=Object.prototype,Oq=xbe.toString,ybe=vbe.hasOwnProperty,bbe=Oq.call(Object);function wbe(e){if(!mbe(e)||hbe(e)!=gbe)return!1;var t=pbe(e);if(t===null)return!0;var r=ybe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Oq.call(r)==bbe}var $q=wbe;const U5=hr($q);var _be=Hl,kbe=s6,Sbe=nl,Nbe="[object Arguments]",jbe="[object Array]",Cbe="[object Boolean]",Tbe="[object Date]",Abe="[object Error]",Ebe="[object Function]",Pbe="[object Map]",Obe="[object Number]",$be="[object Object]",Dbe="[object RegExp]",Mbe="[object Set]",Fbe="[object String]",Lbe="[object WeakMap]",Ibe="[object ArrayBuffer]",Rbe="[object DataView]",Bbe="[object Float32Array]",Ube="[object Float64Array]",Wbe="[object Int8Array]",zbe="[object Int16Array]",Hbe="[object Int32Array]",qbe="[object Uint8Array]",Ybe="[object Uint8ClampedArray]",Vbe="[object Uint16Array]",Gbe="[object Uint32Array]",xn={};xn[Bbe]=xn[Ube]=xn[Wbe]=xn[zbe]=xn[Hbe]=xn[qbe]=xn[Ybe]=xn[Vbe]=xn[Gbe]=!0;xn[Nbe]=xn[jbe]=xn[Ibe]=xn[Cbe]=xn[Rbe]=xn[Tbe]=xn[Abe]=xn[Ebe]=xn[Pbe]=xn[Obe]=xn[$be]=xn[Dbe]=xn[Mbe]=xn[Fbe]=xn[Lbe]=!1;function Kbe(e){return Sbe(e)&&kbe(e.length)&&!!xn[_be(e)]}var Xbe=Kbe;function Qbe(e){return function(t){return e(t)}}var W5=Qbe,jw={exports:{}};jw.exports;(function(e,t){var r=wq,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(jw,jw.exports);var Dq=jw.exports,Jbe=Xbe,Zbe=W5,vM=Dq,yM=vM&&vM.isTypedArray,e2e=yM?Zbe(yM):Jbe,l6=e2e;function t2e(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Mq=t2e,r2e=R5,n2e=Qy,a2e=Object.prototype,i2e=a2e.hasOwnProperty;function s2e(e,t,r){var n=e[t];(!(i2e.call(e,t)&&n2e(n,r))||r===void 0&&!(t in e))&&r2e(e,t,r)}var Fq=s2e,o2e=Fq,l2e=R5;function c2e(e,t,r,n){var a=!r;r||(r={});for(var i=-1,s=t.length;++i<s;){var o=t[i],l=n?n(r[o],e[o],o,r,e):void 0;l===void 0&&(l=e[o]),a?l2e(r,o,l):o2e(r,o,l)}return r}var u2e=c2e;function d2e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var f2e=d2e,h2e=9007199254740991,p2e=/^(?:0|[1-9]\d*)$/;function m2e(e,t){var r=typeof e;return t=t??h2e,!!t&&(r=="number"||r!="symbol"&&p2e.test(e))&&e>-1&&e%1==0&&e<t}var z5=m2e,g2e=f2e,x2e=B5,v2e=Gi,y2e=o6,b2e=z5,w2e=l6,_2e=Object.prototype,k2e=_2e.hasOwnProperty;function S2e(e,t){var r=v2e(e),n=!r&&x2e(e),a=!r&&!n&&y2e(e),i=!r&&!n&&!a&&w2e(e),s=r||n||a||i,o=s?g2e(e.length,String):[],l=o.length;for(var u in e)(t||k2e.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||b2e(u,l)))&&o.push(u);return o}var Lq=S2e;function N2e(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var j2e=N2e,C2e=Fs,T2e=i6,A2e=j2e,E2e=Object.prototype,P2e=E2e.hasOwnProperty;function O2e(e){if(!C2e(e))return A2e(e);var t=T2e(e),r=[];for(var n in e)n=="constructor"&&(t||!P2e.call(e,n))||r.push(n);return r}var $2e=O2e,D2e=Lq,M2e=$2e,F2e=Tm;function L2e(e){return F2e(e)?D2e(e,!0):M2e(e)}var Iq=L2e,I2e=u2e,R2e=Iq;function B2e(e){return I2e(e,R2e(e))}var U2e=B2e,bM=Nq,W2e=k1e,z2e=E1e,H2e=O1e,q2e=q1e,wM=B5,_M=Gi,Y2e=Pq,V2e=o6,G2e=F5,K2e=Fs,X2e=$q,Q2e=l6,kM=Mq,J2e=U2e;function Z2e(e,t,r,n,a,i,s){var o=kM(e,r),l=kM(t,r),u=s.get(l);if(u){bM(e,r,u);return}var d=i?i(o,l,r+"",e,t,s):void 0,f=d===void 0;if(f){var h=_M(l),p=!h&&V2e(l),m=!h&&!p&&Q2e(l);d=l,h||p||m?_M(o)?d=o:Y2e(o)?d=H2e(o):p?(f=!1,d=W2e(l,!0)):m?(f=!1,d=z2e(l,!0)):d=[]:X2e(l)||wM(l)?(d=o,wM(o)?d=J2e(o):(!K2e(o)||G2e(o))&&(d=q2e(l))):f=!1}f&&(s.set(l,d),a(d,l,n,i,s),s.delete(l)),bM(e,r,d)}var ewe=Z2e,twe=a6,rwe=Nq,nwe=jq,awe=ewe,iwe=Fs,swe=Iq,owe=Mq;function Rq(e,t,r,n,a){e!==t&&nwe(t,function(i,s){if(a||(a=new twe),iwe(i))awe(e,t,s,r,Rq,n,a);else{var o=n?n(owe(e,s),i,s+"",e,t,a):void 0;o===void 0&&(o=i),rwe(e,s,o)}},swe)}var lwe=Rq;function cwe(e){return e}var Am=cwe;function uwe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var dwe=uwe,fwe=dwe,SM=Math.max;function hwe(e,t,r){return t=SM(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=SM(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),fwe(e,this,o)}}var Bq=hwe;function pwe(e){return function(){return e}}var mwe=pwe,gwe=mwe,NM=Sq,xwe=Am,vwe=NM?function(e,t){return NM(e,"toString",{configurable:!0,enumerable:!1,value:gwe(t),writable:!0})}:xwe,ywe=vwe,bwe=800,wwe=16,_we=Date.now;function kwe(e){var t=0,r=0;return function(){var n=_we(),a=wwe-(n-r);if(r=n,a>0){if(++t>=bwe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Swe=kwe,Nwe=ywe,jwe=Swe,Cwe=jwe(Nwe),Uq=Cwe,Twe=Am,Awe=Bq,Ewe=Uq;function Pwe(e,t){return Ewe(Awe(e,t,Twe),e+"")}var c6=Pwe,Owe=Qy,$we=Tm,Dwe=z5,Mwe=Fs;function Fwe(e,t,r){if(!Mwe(r))return!1;var n=typeof t;return(n=="number"?$we(r)&&Dwe(t,r.length):n=="string"&&t in r)?Owe(r[t],e):!1}var Zy=Fwe,Lwe=c6,Iwe=Zy;function Rwe(e){return Lwe(function(t,r){var n=-1,a=r.length,i=a>1?r[a-1]:void 0,s=a>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,s&&Iwe(r[0],r[1],s)&&(i=a<3?void 0:i,a=1),t=Object(t);++n<a;){var o=r[n];o&&e(t,o,n,i)}return t})}var Bwe=Rwe,Uwe=lwe,Wwe=Bwe,zwe=Wwe(function(e,t,r){Uwe(e,t,r)}),Hwe=zwe;const qwe=hr(Hwe);var Ywe=Hl,Vwe=nl,Gwe="[object Symbol]";function Kwe(e){return typeof e=="symbol"||Vwe(e)&&Ywe(e)==Gwe}var Em=Kwe,Xwe=Gi,Qwe=Em,Jwe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zwe=/^\w*$/;function e_e(e,t){if(Xwe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Qwe(e)?!0:Zwe.test(e)||!Jwe.test(e)||t!=null&&e in Object(t)}var u6=e_e,Wq=n6,t_e="Expected a function";function d6(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(t_e);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(d6.Cache||Wq),r}d6.Cache=Wq;var zq=d6;const r_e=hr(zq);var n_e=zq,a_e=500;function i_e(e){var t=n_e(e,function(n){return r.size===a_e&&r.clear(),n}),r=t.cache;return t}var s_e=i_e,o_e=s_e,l_e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c_e=/\\(\\)?/g,u_e=o_e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(l_e,function(r,n,a,i){t.push(a?i.replace(c_e,"$1"):n||r)}),t}),d_e=u_e;function f_e(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var H5=f_e,jM=Jy,h_e=H5,p_e=Gi,m_e=Em,CM=jM?jM.prototype:void 0,TM=CM?CM.toString:void 0;function Hq(e){if(typeof e=="string")return e;if(p_e(e))return h_e(e,Hq)+"";if(m_e(e))return TM?TM.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var g_e=Hq,x_e=g_e;function v_e(e){return e==null?"":x_e(e)}var f6=v_e,y_e=Gi,b_e=u6,w_e=d_e,__e=f6;function k_e(e,t){return y_e(e)?e:b_e(e,t)?[e]:w_e(__e(e))}var q5=k_e,S_e=Em;function N_e(e){if(typeof e=="string"||S_e(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var e1=N_e,j_e=q5,C_e=e1;function T_e(e,t){t=j_e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[C_e(t[r++])];return r&&r==n?e:void 0}var Y5=T_e,A_e=Y5;function E_e(e,t,r){var n=e==null?void 0:A_e(e,t);return n===void 0?r:n}var qq=E_e;const ra=hr(qq);var P_e=Fq,O_e=q5,$_e=z5,AM=Fs,D_e=e1;function M_e(e,t,r,n){if(!AM(e))return e;t=O_e(t,e);for(var a=-1,i=t.length,s=i-1,o=e;o!=null&&++a<i;){var l=D_e(t[a]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(a!=s){var d=o[l];u=n?n(d,l,o):void 0,u===void 0&&(u=AM(d)?d:$_e(t[a+1])?[]:{})}P_e(o,l,u),o=o[l]}return e}var Yq=M_e,F_e=Yq;function L_e(e,t,r){return e==null?e:F_e(e,t,r)}var I_e=L_e;const px=hr(I_e);function V5(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function h6(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Pm(){}var Gf=.7,Np=1/Gf,ep="\\s*([+-]?\\d+)\\s*",Bv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",R_e=/^#([0-9a-f]{3,8})$/,B_e=new RegExp(`^rgb\\(${ep},${ep},${ep}\\)$`),U_e=new RegExp(`^rgb\\(${Tl},${Tl},${Tl}\\)$`),W_e=new RegExp(`^rgba\\(${ep},${ep},${ep},${Bv}\\)$`),z_e=new RegExp(`^rgba\\(${Tl},${Tl},${Tl},${Bv}\\)$`),H_e=new RegExp(`^hsl\\(${Bv},${Tl},${Tl}\\)$`),q_e=new RegExp(`^hsla\\(${Bv},${Tl},${Tl},${Bv}\\)$`),EM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};V5(Pm,Uv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PM,formatHex:PM,formatHex8:Y_e,formatHsl:V_e,formatRgb:OM,toString:OM});function PM(){return this.rgb().formatHex()}function Y_e(){return this.rgb().formatHex8()}function V_e(){return Gq(this).formatHsl()}function OM(){return this.rgb().formatRgb()}function Uv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=R_e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?$M(t):r===3?new wi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?$b(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?$b(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=B_e.exec(e))?new wi(t[1],t[2],t[3],1):(t=U_e.exec(e))?new wi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=W_e.exec(e))?$b(t[1],t[2],t[3],t[4]):(t=z_e.exec(e))?$b(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=H_e.exec(e))?FM(t[1],t[2]/100,t[3]/100,1):(t=q_e.exec(e))?FM(t[1],t[2]/100,t[3]/100,t[4]):EM.hasOwnProperty(e)?$M(EM[e]):e==="transparent"?new wi(NaN,NaN,NaN,0):null}function $M(e){return new wi(e>>16&255,e>>8&255,e&255,1)}function $b(e,t,r,n){return n<=0&&(e=t=r=NaN),new wi(e,t,r,n)}function Vq(e){return e instanceof Pm||(e=Uv(e)),e?(e=e.rgb(),new wi(e.r,e.g,e.b,e.opacity)):new wi}function jp(e,t,r,n){return arguments.length===1?Vq(e):new wi(e,t,r,n??1)}function wi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}V5(wi,jp,h6(Pm,{brighter(e){return e=e==null?Np:Math.pow(Np,e),new wi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Gf:Math.pow(Gf,e),new wi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wi(Ef(this.r),Ef(this.g),Ef(this.b),Cw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DM,formatHex:DM,formatHex8:G_e,formatRgb:MM,toString:MM}));function DM(){return`#${gf(this.r)}${gf(this.g)}${gf(this.b)}`}function G_e(){return`#${gf(this.r)}${gf(this.g)}${gf(this.b)}${gf((isNaN(this.opacity)?1:this.opacity)*255)}`}function MM(){const e=Cw(this.opacity);return`${e===1?"rgb(":"rgba("}${Ef(this.r)}, ${Ef(this.g)}, ${Ef(this.b)}${e===1?")":`, ${e})`}`}function Cw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ef(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gf(e){return e=Ef(e),(e<16?"0":"")+e.toString(16)}function FM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Bo(e,t,r,n)}function Gq(e){if(e instanceof Bo)return new Bo(e.h,e.s,e.l,e.opacity);if(e instanceof Pm||(e=Uv(e)),!e)return new Bo;if(e instanceof Bo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new Bo(s,o,l,e.opacity)}function K_e(e,t,r,n){return arguments.length===1?Gq(e):new Bo(e,t,r,n??1)}function Bo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}V5(Bo,K_e,h6(Pm,{brighter(e){return e=e==null?Np:Math.pow(Np,e),new Bo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gf:Math.pow(Gf,e),new Bo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new wi(x3(e>=240?e-240:e+120,a,n),x3(e,a,n),x3(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Bo(LM(this.h),Db(this.s),Db(this.l),Cw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cw(this.opacity);return`${e===1?"hsl(":"hsla("}${LM(this.h)}, ${Db(this.s)*100}%, ${Db(this.l)*100}%${e===1?")":`, ${e})`}`}}));function LM(e){return e=(e||0)%360,e<0?e+360:e}function Db(e){return Math.max(0,Math.min(1,e||0))}function x3(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const X_e=Math.PI/180,Q_e=180/Math.PI;var Kq=-.14861,p6=1.78277,m6=-.29227,G5=-.90649,Wv=1.97294,IM=Wv*G5,RM=Wv*p6,BM=p6*m6-G5*Kq;function J_e(e){if(e instanceof Pf)return new Pf(e.h,e.s,e.l,e.opacity);e instanceof wi||(e=Vq(e));var t=e.r/255,r=e.g/255,n=e.b/255,a=(BM*n+IM*t-RM*r)/(BM+IM-RM),i=n-a,s=(Wv*(r-a)-m6*i)/G5,o=Math.sqrt(s*s+i*i)/(Wv*a*(1-a)),l=o?Math.atan2(s,i)*Q_e-120:NaN;return new Pf(l<0?l+360:l,o,a,e.opacity)}function Fl(e,t,r,n){return arguments.length===1?J_e(e):new Pf(e,t,r,n??1)}function Pf(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}V5(Pf,Fl,h6(Pm,{brighter(e){return e=e==null?Np:Math.pow(Np,e),new Pf(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gf:Math.pow(Gf,e),new Pf(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*X_e,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),a=Math.sin(e);return new wi(255*(t+r*(Kq*n+p6*a)),255*(t+r*(m6*n+G5*a)),255*(t+r*(Wv*n)),this.opacity)}}));function Z_e(e,t,r,n,a){var i=e*e,s=i*e;return((1-3*e+3*i-s)*t+(4-6*i+3*s)*r+(1+3*e+3*i-3*s)*n+s*a)/6}function e5e(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],i=e[n+1],s=n>0?e[n-1]:2*a-i,o=n<t-1?e[n+2]:2*i-a;return Z_e((r-n/t)*t,s,a,i,o)}}const K5=e=>()=>e;function Xq(e,t){return function(r){return e+r*t}}function t5e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function r5e(e,t){var r=t-e;return r?Xq(e,r>180||r<-180?r-360*Math.round(r/360):r):K5(isNaN(e)?t:e)}function n5e(e){return(e=+e)==1?tp:function(t,r){return r-t?t5e(t,r,e):K5(isNaN(t)?r:t)}}function tp(e,t){var r=t-e;return r?Xq(e,r):K5(isNaN(e)?t:e)}const UM=function e(t){var r=n5e(t);function n(a,i){var s=r((a=jp(a)).r,(i=jp(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),u=tp(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=l(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function a5e(e){return function(t){var r=t.length,n=new Array(r),a=new Array(r),i=new Array(r),s,o;for(s=0;s<r;++s)o=jp(t[s]),n[s]=o.r||0,a[s]=o.g||0,i[s]=o.b||0;return n=e(n),a=e(a),i=e(i),o.opacity=1,function(l){return o.r=n(l),o.g=a(l),o.b=i(l),o+""}}}var i5e=a5e(e5e);function s5e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function o5e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function l5e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Om(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function c5e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Tw(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function u5e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Om(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var fC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,v3=new RegExp(fC.source,"g");function d5e(e){return function(){return e}}function f5e(e){return function(t){return e(t)+""}}function Qq(e,t){var r=fC.lastIndex=v3.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=fC.exec(e))&&(a=v3.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Tw(n,a)})),r=v3.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?f5e(l[0].x):d5e(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function Om(e,t){var r=typeof t,n;return t==null||r==="boolean"?K5(t):(r==="number"?Tw:r==="string"?(n=Uv(t))?(t=n,UM):Qq:t instanceof Uv?UM:t instanceof Date?c5e:o5e(t)?s5e:Array.isArray(t)?l5e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?u5e:Tw)(e,t)}function g6(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Jq(e){return function t(r){r=+r;function n(a,i){var s=e((a=Fl(a)).h,(i=Fl(i)).h),o=tp(a.s,i.s),l=tp(a.l,i.l),u=tp(a.opacity,i.opacity);return function(d){return a.h=s(d),a.s=o(d),a.l=l(Math.pow(d,r)),a.opacity=u(d),a+""}}return n.gamma=t,n}(1)}Jq(r5e);var x6=Jq(tp);function h5e(e,t){t===void 0&&(t=e,e=Om);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}var p5e=Hl,m5e=Gi,g5e=nl,x5e="[object String]";function v5e(e){return typeof e=="string"||!m5e(e)&&g5e(e)&&p5e(e)==x5e}var y5e=v5e;const $m=hr(y5e);function b5e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var w5e=b5e;const Ft=hr(w5e);function Ju(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _5e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function v6(e){let t,r,n;e.length!==2?(t=Ju,r=(o,l)=>Ju(e(o),l),n=(o,l)=>e(o)-l):(t=e===Ju||e===_5e?e:k5e,r=e,n=e);function a(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){const f=a(o,l,u,d-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function k5e(){return 0}function Zq(e){return e===null?NaN:+e}function*S5e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const N5e=v6(Ju),t1=N5e.right;v6(Zq).center;class WM extends Map{constructor(t,r=T5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(zM(this,t))}has(t){return super.has(zM(this,t))}set(t,r){return super.set(j5e(this,t),r)}delete(t){return super.delete(C5e(this,t))}}function zM({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function j5e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function C5e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function T5e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function A5e(e=Ju){if(e===Ju)return eY;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function eY(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const E5e=Math.sqrt(50),P5e=Math.sqrt(10),O5e=Math.sqrt(2);function Aw(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=E5e?10:i>=P5e?5:i>=O5e?2:1;let o,l,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?Aw(e,t,r*2):[o,l,u]}function hC(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Aw(t,e,r):Aw(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(i-u)/-s;else for(let u=0;u<o;++u)l[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(a+u)/-s;else for(let u=0;u<o;++u)l[u]=(a+u)*s;return l}function pC(e,t,r){return t=+t,e=+e,r=+r,Aw(e,t,r)[2]}function mC(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?pC(t,e,r):pC(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function HM(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function qM(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function tY(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?eY:A5e(a);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/l+h)),m=Math.min(n,Math.floor(t+(l-u)*f/l+h));tY(e,t,p,m,a)}const i=e[t];let s=r,o=n;for(Pg(e,r,t),a(e[n],i)>0&&Pg(e,r,n);s<o;){for(Pg(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Pg(e,r,o):(++o,Pg(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Pg(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function $5e(e,t,r){if(e=Float64Array.from(S5e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return qM(e);if(t>=1)return HM(e);var n,a=(n-1)*t,i=Math.floor(a),s=HM(tY(e,i).subarray(0,i+1)),o=qM(e.subarray(i+1));return s+(o-s)*(a-i)}}function D5e(e,t,r=Zq){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function M5e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function vo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Vc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const gC=Symbol("implicit");function Iu(){var e=new WM,t=[],r=[],n=gC;function a(i){let s=e.get(i);if(s===void 0){if(n!==gC)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new WM;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Iu(t,r).unknown(n)},vo.apply(a,arguments),a}function Cp(){var e=Iu().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,g=p?n:a;i=(g-m)/Math.max(1,h-l+u*2),o&&(i=Math.floor(i)),m+=(g-m-i*(h-l))*d,s=i*(1-l),o&&(m=Math.round(m),s=Math.round(s));var v=M5e(h).map(function(x){return m+i*x});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Cp(t(),[n,a]).round(o).paddingInner(l).paddingOuter(u).align(d)},vo.apply(f(),arguments)}function rY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return rY(t())},e}function rp(){return rY(Cp.apply(null,arguments).paddingInner(1))}function F5e(e){return function(){return e}}function Ew(e){return+e}var YM=[0,1];function Li(e){return e}function xC(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:F5e(isNaN(t)?NaN:.5)}function L5e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function I5e(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=xC(a,n),i=r(s,i)):(n=xC(n,a),i=r(i,s)),function(o){return i(n(o))}}function R5e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=xC(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=t1(e,o,1,n)-1;return i[l](a[l](o))}}function r1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function X5(){var e=YM,t=YM,r=Om,n,a,i,s=Li,o,l,u;function d(){var h=Math.min(e.length,t.length);return s!==Li&&(s=L5e(e[0],e[h-1])),o=h>2?R5e:I5e,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=o(t,e.map(n),Tw)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Ew),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=g6,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Li,d()):s!==Li},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function y6(){return X5()(Li,Li)}function B5e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Pw(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Tp(e){return e=Pw(Math.abs(e)),e?e[1]:NaN}function U5e(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function W5e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var z5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zv(e){if(!(t=z5e.exec(e)))throw new Error("invalid format: "+e);var t;return new b6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}zv.prototype=b6.prototype;function b6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}b6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function H5e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var nY;function q5e(e,t){var r=Pw(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(nY=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Pw(e,Math.max(0,t+i-1))[0]}function VM(e,t){var r=Pw(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const GM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:B5e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>VM(e*100,t),r:VM,s:q5e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function KM(e){return e}var XM=Array.prototype.map,QM=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Y5e(e){var t=e.grouping===void 0||e.thousands===void 0?KM:U5e(XM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?KM:W5e(XM.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=zv(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,x=f.width,y=f.comma,b=f.precision,N=f.trim,_=f.type;_==="n"?(y=!0,_="g"):GM[_]||(b===void 0&&(b=12),N=!0,_="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var C=g==="$"?r:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",k=g==="$"?n:/[%p]/.test(_)?s:"",w=GM[_],S=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function P(A){var T=C,F=k,M,H,z;if(_==="c")F=w(A)+F,A="";else{A=+A;var Y=A<0||1/A<0;if(A=isNaN(A)?l:w(Math.abs(A),b),N&&(A=H5e(A)),Y&&+A==0&&m!=="+"&&(Y=!1),T=(Y?m==="("?m:o:m==="-"||m==="("?"":m)+T,F=(_==="s"?QM[8+nY/3]:"")+F+(Y&&m==="("?")":""),S){for(M=-1,H=A.length;++M<H;)if(z=A.charCodeAt(M),48>z||z>57){F=(z===46?a+A.slice(M+1):A.slice(M))+F,A=A.slice(0,M);break}}}y&&!v&&(A=t(A,1/0));var G=T.length+A.length+F.length,I=G<x?new Array(x-G+1).join(h):"";switch(y&&v&&(A=t(I+A,I.length?x-F.length:1/0),I=""),p){case"<":A=T+A+F+I;break;case"=":A=T+I+A+F;break;case"^":A=I.slice(0,G=I.length>>1)+T+A+F+I.slice(G);break;default:A=I+T+A+F;break}return i(A)}return P.toString=function(){return f+""},P}function d(f,h){var p=u((f=zv(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Tp(h)/3)))*3,g=Math.pow(10,-m),v=QM[8+m/3];return function(x){return p(g*x)+v}}return{format:u,formatPrefix:d}}var Mb,w6,aY;V5e({thousands:",",grouping:[3],currency:["$",""]});function V5e(e){return Mb=Y5e(e),w6=Mb.format,aY=Mb.formatPrefix,Mb}function G5e(e){return Math.max(0,-Tp(Math.abs(e)))}function K5e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tp(t)/3)))*3-Tp(Math.abs(e)))}function X5e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Tp(t)-Tp(e))+1}function iY(e,t,r,n){var a=mC(e,t,r),i;switch(n=zv(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=K5e(a,s))&&(n.precision=i),aY(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=X5e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=G5e(a))&&(n.precision=i-(n.type==="%")*2);break}}return w6(n)}function Pd(e){var t=e.domain;return e.ticks=function(r){var n=t();return hC(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return iY(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);d-- >0;){if(u=pC(s,o,r),u===l)return n[a]=s,n[i]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function Hv(){var e=y6();return e.copy=function(){return r1(e,Hv())},vo.apply(e,arguments),Pd(e)}function sY(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ew),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return sY(e).unknown(t)},e=arguments.length?Array.from(e,Ew):[0,1],Pd(r)}function oY(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function JM(e){return Math.log(e)}function ZM(e){return Math.exp(e)}function Q5e(e){return-Math.log(-e)}function J5e(e){return-Math.exp(-e)}function Z5e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function eke(e){return e===10?Z5e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function tke(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function e7(e){return(t,r)=>-e(-t,r)}function _6(e){const t=e(JM,ZM),r=t.domain;let n=10,a,i;function s(){return a=tke(n),i=eke(n),r()[0]<0?(a=e7(a),i=e7(i),e(Q5e,J5e)):e(JM,ZM),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),m,g;const v=o==null?10:+o;let x=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(g=h<0?m/i(-h):m*i(h),!(g<u)){if(g>d)break;x.push(g)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/i(-h):m*i(h),!(g<u)){if(g>d)break;x.push(g)}x.length*2<v&&(x=hC(u,d,v))}else x=hC(h,p,Math.min(p-h,v)).map(i);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=zv(l)).precision==null&&(l.trim=!0),l=w6(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(oY(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function k6(){const e=_6(X5()).domain([1,10]);return e.copy=()=>r1(e,k6()).base(e.base()),vo.apply(e,arguments),e}function t7(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function r7(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function S6(e){var t=1,r=e(t7(t),r7(t));return r.constant=function(n){return arguments.length?e(t7(t=+n),r7(t)):t},Pd(r)}function N6(){var e=S6(X5());return e.copy=function(){return r1(e,N6()).constant(e.constant())},vo.apply(e,arguments)}function n7(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function rke(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function nke(e){return e<0?-e*e:e*e}function j6(e){var t=e(Li,Li),r=1;function n(){return r===1?e(Li,Li):r===.5?e(rke,nke):e(n7(r),n7(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Pd(t)}function C6(){var e=j6(X5());return e.copy=function(){return r1(e,C6()).exponent(e.exponent())},vo.apply(e,arguments),e}function ake(){return C6.apply(null,arguments).exponent(.5)}function a7(e){return Math.sign(e)*e*e}function ike(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function lY(){var e=y6(),t=[0,1],r=!1,n;function a(i){var s=ike(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(a7(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Ew)).map(a7)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return lY(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},vo.apply(a,arguments),Pd(a)}function cY(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=D5e(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[t1(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Ju),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return cY().domain(e).range(t).unknown(n)},vo.apply(i,arguments)}function uY(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[t1(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return uY().domain([e,t]).range(a).unknown(i)},vo.apply(Pd(s),arguments)}function dY(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[t1(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return dY().domain(e).range(t).unknown(r)},vo.apply(a,arguments)}const y3=new Date,b3=new Date;function ja(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let u;do l.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return l},a.filter=i=>ja(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(y3.setTime(+i),b3.setTime(+s),e(y3),e(b3),Math.floor(r(y3,b3))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Ow=ja(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ow.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ja(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ow);Ow.range;const mc=1e3,so=mc*60,gc=so*60,Bc=gc*24,T6=Bc*7,i7=Bc*30,w3=Bc*365,xf=ja(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*mc)},(e,t)=>(t-e)/mc,e=>e.getUTCSeconds());xf.range;const A6=ja(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mc)},(e,t)=>{e.setTime(+e+t*so)},(e,t)=>(t-e)/so,e=>e.getMinutes());A6.range;const E6=ja(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*so)},(e,t)=>(t-e)/so,e=>e.getUTCMinutes());E6.range;const P6=ja(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mc-e.getMinutes()*so)},(e,t)=>{e.setTime(+e+t*gc)},(e,t)=>(t-e)/gc,e=>e.getHours());P6.range;const O6=ja(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*gc)},(e,t)=>(t-e)/gc,e=>e.getUTCHours());O6.range;const n1=ja(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*so)/Bc,e=>e.getDate()-1);n1.range;const Q5=ja(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bc,e=>e.getUTCDate()-1);Q5.range;const fY=ja(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bc,e=>Math.floor(e/Bc));fY.range;function yh(e){return ja(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*so)/T6)}const J5=yh(0),$w=yh(1),ske=yh(2),oke=yh(3),Ap=yh(4),lke=yh(5),cke=yh(6);J5.range;$w.range;ske.range;oke.range;Ap.range;lke.range;cke.range;function bh(e){return ja(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/T6)}const Z5=bh(0),Dw=bh(1),uke=bh(2),dke=bh(3),Ep=bh(4),fke=bh(5),hke=bh(6);Z5.range;Dw.range;uke.range;dke.range;Ep.range;fke.range;hke.range;const $6=ja(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());$6.range;const D6=ja(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());D6.range;const Uc=ja(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Uc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ja(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Uc.range;const Wc=ja(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ja(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Wc.range;function hY(e,t,r,n,a,i){const s=[[xf,1,mc],[xf,5,5*mc],[xf,15,15*mc],[xf,30,30*mc],[i,1,so],[i,5,5*so],[i,15,15*so],[i,30,30*so],[a,1,gc],[a,3,3*gc],[a,6,6*gc],[a,12,12*gc],[n,1,Bc],[n,2,2*Bc],[r,1,T6],[t,1,i7],[t,3,3*i7],[e,1,w3]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function l(u,d,f){const h=Math.abs(d-u)/f,p=v6(([,,v])=>v).right(s,h);if(p===s.length)return e.every(mC(u/w3,d/w3,f));if(p===0)return Ow.every(Math.max(mC(u,d,f),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[o,l]}const[pke,mke]=hY(Wc,D6,Z5,fY,O6,E6),[gke,xke]=hY(Uc,$6,J5,n1,P6,A6);function _3(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function k3(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Og(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function vke(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=$g(a),d=Dg(a),f=$g(i),h=Dg(i),p=$g(s),m=Dg(s),g=$g(o),v=Dg(o),x=$g(l),y=Dg(l),b={a:Y,A:G,b:I,B:X,c:null,d:d7,e:d7,f:Uke,g:Qke,G:Zke,H:Ike,I:Rke,j:Bke,L:pY,m:Wke,M:zke,p:J,q:E,Q:p7,s:m7,S:Hke,u:qke,U:Yke,V:Vke,w:Gke,W:Kke,x:null,X:null,y:Xke,Y:Jke,Z:e4e,"%":h7},N={a:R,A:B,b:q,B:K,c:null,d:f7,e:f7,f:a4e,g:p4e,G:g4e,H:t4e,I:r4e,j:n4e,L:gY,m:i4e,M:s4e,p:ae,q:ee,Q:p7,s:m7,S:o4e,u:l4e,U:c4e,V:u4e,w:d4e,W:f4e,x:null,X:null,y:h4e,Y:m4e,Z:x4e,"%":h7},_={a:P,A,b:T,B:F,c:M,d:c7,e:c7,f:Dke,g:l7,G:o7,H:u7,I:u7,j:Eke,L:$ke,m:Ake,M:Pke,p:S,q:Tke,Q:Fke,s:Lke,S:Oke,u:kke,U:Ske,V:Nke,w:_ke,W:jke,x:H,X:z,y:l7,Y:o7,Z:Cke,"%":Mke};b.x=C(r,b),b.X=C(n,b),b.c=C(t,b),N.x=C(r,N),N.X=C(n,N),N.c=C(t,N);function C(W,Z){return function(re){var O=[],de=-1,ce=0,pe=W.length,Q,ne,Ae;for(re instanceof Date||(re=new Date(+re));++de<pe;)W.charCodeAt(de)===37&&(O.push(W.slice(ce,de)),(ne=s7[Q=W.charAt(++de)])!=null?Q=W.charAt(++de):ne=Q==="e"?" ":"0",(Ae=Z[Q])&&(Q=Ae(re,ne)),O.push(Q),ce=de+1);return O.push(W.slice(ce,de)),O.join("")}}function k(W,Z){return function(re){var O=Og(1900,void 0,1),de=w(O,W,re+="",0),ce,pe;if(de!=re.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(Z&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(ce=k3(Og(O.y,0,1)),pe=ce.getUTCDay(),ce=pe>4||pe===0?Dw.ceil(ce):Dw(ce),ce=Q5.offset(ce,(O.V-1)*7),O.y=ce.getUTCFullYear(),O.m=ce.getUTCMonth(),O.d=ce.getUTCDate()+(O.w+6)%7):(ce=_3(Og(O.y,0,1)),pe=ce.getDay(),ce=pe>4||pe===0?$w.ceil(ce):$w(ce),ce=n1.offset(ce,(O.V-1)*7),O.y=ce.getFullYear(),O.m=ce.getMonth(),O.d=ce.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),pe="Z"in O?k3(Og(O.y,0,1)).getUTCDay():_3(Og(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(pe+5)%7:O.w+O.U*7-(pe+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,k3(O)):_3(O)}}function w(W,Z,re,O){for(var de=0,ce=Z.length,pe=re.length,Q,ne;de<ce;){if(O>=pe)return-1;if(Q=Z.charCodeAt(de++),Q===37){if(Q=Z.charAt(de++),ne=_[Q in s7?Z.charAt(de++):Q],!ne||(O=ne(W,re,O))<0)return-1}else if(Q!=re.charCodeAt(O++))return-1}return O}function S(W,Z,re){var O=u.exec(Z.slice(re));return O?(W.p=d.get(O[0].toLowerCase()),re+O[0].length):-1}function P(W,Z,re){var O=p.exec(Z.slice(re));return O?(W.w=m.get(O[0].toLowerCase()),re+O[0].length):-1}function A(W,Z,re){var O=f.exec(Z.slice(re));return O?(W.w=h.get(O[0].toLowerCase()),re+O[0].length):-1}function T(W,Z,re){var O=x.exec(Z.slice(re));return O?(W.m=y.get(O[0].toLowerCase()),re+O[0].length):-1}function F(W,Z,re){var O=g.exec(Z.slice(re));return O?(W.m=v.get(O[0].toLowerCase()),re+O[0].length):-1}function M(W,Z,re){return w(W,t,Z,re)}function H(W,Z,re){return w(W,r,Z,re)}function z(W,Z,re){return w(W,n,Z,re)}function Y(W){return s[W.getDay()]}function G(W){return i[W.getDay()]}function I(W){return l[W.getMonth()]}function X(W){return o[W.getMonth()]}function J(W){return a[+(W.getHours()>=12)]}function E(W){return 1+~~(W.getMonth()/3)}function R(W){return s[W.getUTCDay()]}function B(W){return i[W.getUTCDay()]}function q(W){return l[W.getUTCMonth()]}function K(W){return o[W.getUTCMonth()]}function ae(W){return a[+(W.getUTCHours()>=12)]}function ee(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var Z=C(W+="",b);return Z.toString=function(){return W},Z},parse:function(W){var Z=k(W+="",!1);return Z.toString=function(){return W},Z},utcFormat:function(W){var Z=C(W+="",N);return Z.toString=function(){return W},Z},utcParse:function(W){var Z=k(W+="",!0);return Z.toString=function(){return W},Z}}}var s7={"-":"",_:" ",0:"0"},La=/^\s*\d+/,yke=/^%/,bke=/[\\^$*+?|[\]().{}]/g;function Dr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function wke(e){return e.replace(bke,"\\$&")}function $g(e){return new RegExp("^(?:"+e.map(wke).join("|")+")","i")}function Dg(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function _ke(e,t,r){var n=La.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function kke(e,t,r){var n=La.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Ske(e,t,r){var n=La.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Nke(e,t,r){var n=La.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function jke(e,t,r){var n=La.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function o7(e,t,r){var n=La.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function l7(e,t,r){var n=La.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Cke(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Tke(e,t,r){var n=La.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Ake(e,t,r){var n=La.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function c7(e,t,r){var n=La.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Eke(e,t,r){var n=La.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function u7(e,t,r){var n=La.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Pke(e,t,r){var n=La.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Oke(e,t,r){var n=La.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function $ke(e,t,r){var n=La.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Dke(e,t,r){var n=La.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Mke(e,t,r){var n=yke.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Fke(e,t,r){var n=La.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Lke(e,t,r){var n=La.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function d7(e,t){return Dr(e.getDate(),t,2)}function Ike(e,t){return Dr(e.getHours(),t,2)}function Rke(e,t){return Dr(e.getHours()%12||12,t,2)}function Bke(e,t){return Dr(1+n1.count(Uc(e),e),t,3)}function pY(e,t){return Dr(e.getMilliseconds(),t,3)}function Uke(e,t){return pY(e,t)+"000"}function Wke(e,t){return Dr(e.getMonth()+1,t,2)}function zke(e,t){return Dr(e.getMinutes(),t,2)}function Hke(e,t){return Dr(e.getSeconds(),t,2)}function qke(e){var t=e.getDay();return t===0?7:t}function Yke(e,t){return Dr(J5.count(Uc(e)-1,e),t,2)}function mY(e){var t=e.getDay();return t>=4||t===0?Ap(e):Ap.ceil(e)}function Vke(e,t){return e=mY(e),Dr(Ap.count(Uc(e),e)+(Uc(e).getDay()===4),t,2)}function Gke(e){return e.getDay()}function Kke(e,t){return Dr($w.count(Uc(e)-1,e),t,2)}function Xke(e,t){return Dr(e.getFullYear()%100,t,2)}function Qke(e,t){return e=mY(e),Dr(e.getFullYear()%100,t,2)}function Jke(e,t){return Dr(e.getFullYear()%1e4,t,4)}function Zke(e,t){var r=e.getDay();return e=r>=4||r===0?Ap(e):Ap.ceil(e),Dr(e.getFullYear()%1e4,t,4)}function e4e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Dr(t/60|0,"0",2)+Dr(t%60,"0",2)}function f7(e,t){return Dr(e.getUTCDate(),t,2)}function t4e(e,t){return Dr(e.getUTCHours(),t,2)}function r4e(e,t){return Dr(e.getUTCHours()%12||12,t,2)}function n4e(e,t){return Dr(1+Q5.count(Wc(e),e),t,3)}function gY(e,t){return Dr(e.getUTCMilliseconds(),t,3)}function a4e(e,t){return gY(e,t)+"000"}function i4e(e,t){return Dr(e.getUTCMonth()+1,t,2)}function s4e(e,t){return Dr(e.getUTCMinutes(),t,2)}function o4e(e,t){return Dr(e.getUTCSeconds(),t,2)}function l4e(e){var t=e.getUTCDay();return t===0?7:t}function c4e(e,t){return Dr(Z5.count(Wc(e)-1,e),t,2)}function xY(e){var t=e.getUTCDay();return t>=4||t===0?Ep(e):Ep.ceil(e)}function u4e(e,t){return e=xY(e),Dr(Ep.count(Wc(e),e)+(Wc(e).getUTCDay()===4),t,2)}function d4e(e){return e.getUTCDay()}function f4e(e,t){return Dr(Dw.count(Wc(e)-1,e),t,2)}function h4e(e,t){return Dr(e.getUTCFullYear()%100,t,2)}function p4e(e,t){return e=xY(e),Dr(e.getUTCFullYear()%100,t,2)}function m4e(e,t){return Dr(e.getUTCFullYear()%1e4,t,4)}function g4e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ep(e):Ep.ceil(e),Dr(e.getUTCFullYear()%1e4,t,4)}function x4e(){return"+0000"}function h7(){return"%"}function p7(e){return+e}function m7(e){return Math.floor(+e/1e3)}var c0,vY,yY;v4e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function v4e(e){return c0=vke(e),vY=c0.format,c0.parse,yY=c0.utcFormat,c0.utcParse,c0}function y4e(e){return new Date(e)}function b4e(e){return e instanceof Date?+e:+new Date(+e)}function M6(e,t,r,n,a,i,s,o,l,u){var d=y6(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),b=u("%B"),N=u("%Y");function _(C){return(l(C)<C?p:o(C)<C?m:s(C)<C?g:i(C)<C?v:n(C)<C?a(C)<C?x:y:r(C)<C?b:N)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?h(Array.from(C,b4e)):h().map(y4e)},d.ticks=function(C){var k=h();return e(k[0],k[k.length-1],C??10)},d.tickFormat=function(C,k){return k==null?_:u(k)},d.nice=function(C){var k=h();return(!C||typeof C.range!="function")&&(C=t(k[0],k[k.length-1],C??10)),C?h(oY(k,C)):d},d.copy=function(){return r1(d,M6(e,t,r,n,a,i,s,o,l,u))},d}function bY(){return vo.apply(M6(gke,xke,Uc,$6,J5,n1,P6,A6,xf,vY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wY(){return vo.apply(M6(pke,mke,Wc,D6,Z5,Q5,O6,E6,xf,yY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ek(){var e=0,t=1,r,n,a,i,s=Li,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,s=f(p,m),u):[s(0),s(1)]}}return u.range=d(Om),u.rangeRound=d(g6),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Od(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _Y(){var e=Pd(ek()(Li));return e.copy=function(){return Od(e,_Y())},Vc.apply(e,arguments)}function kY(){var e=_6(ek()).domain([1,10]);return e.copy=function(){return Od(e,kY()).base(e.base())},Vc.apply(e,arguments)}function SY(){var e=S6(ek());return e.copy=function(){return Od(e,SY()).constant(e.constant())},Vc.apply(e,arguments)}function F6(){var e=j6(ek());return e.copy=function(){return Od(e,F6()).exponent(e.exponent())},Vc.apply(e,arguments)}function w4e(){return F6.apply(null,arguments).exponent(.5)}function NY(){var e=[],t=Li;function r(n){if(n!=null&&!isNaN(n=+n))return t((t1(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ju),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>$5e(e,i/n))},r.copy=function(){return NY(t).domain(e)},Vc.apply(r,arguments)}function tk(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,u=Li,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-i)*(n*g<n*i?o:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),s=d(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(v){var x,y,b;return arguments.length?([x,y,b]=v,u=h5e(g,[x,y,b]),p):[u(0),u(.5),u(1)]}}return p.range=m(Om),p.rangeRound=m(g6),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,a=g(e),i=g(t),s=g(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function jY(){var e=Pd(tk()(Li));return e.copy=function(){return Od(e,jY())},Vc.apply(e,arguments)}function CY(){var e=_6(tk()).domain([.1,1,10]);return e.copy=function(){return Od(e,CY()).base(e.base())},Vc.apply(e,arguments)}function TY(){var e=S6(tk());return e.copy=function(){return Od(e,TY()).constant(e.constant())},Vc.apply(e,arguments)}function L6(){var e=j6(tk());return e.copy=function(){return Od(e,L6()).exponent(e.exponent())},Vc.apply(e,arguments)}function _4e(){return L6.apply(null,arguments).exponent(.5)}function cr(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const k4e=cr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),S4e=cr("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),N4e=cr("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),j4e=cr("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),C4e=cr("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),T4e=cr("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),A4e=cr("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),E4e=cr("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),AY=cr("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),P4e=cr("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),on=e=>i5e(e[e.length-1]);var rk=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(cr);const O4e=on(rk);var nk=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(cr);const $4e=on(nk);var ak=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(cr);const D4e=on(ak);var ik=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(cr);const M4e=on(ik);var sk=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(cr);const F4e=on(sk);var ok=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(cr);const L4e=on(ok);var lk=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(cr);const I4e=on(lk);var ck=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(cr);const R4e=on(ck);var uk=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(cr);const B4e=on(uk);var dk=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(cr);const U4e=on(dk);var fk=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(cr);const W4e=on(fk);var hk=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(cr);const z4e=on(hk);var pk=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(cr);const H4e=on(pk);var mk=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(cr);const q4e=on(mk);var gk=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(cr);const Y4e=on(gk);var xk=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(cr);const V4e=on(xk);var vk=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(cr);const G4e=on(vk);var yk=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(cr);const K4e=on(yk);var bk=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(cr);const X4e=on(bk);var wk=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(cr);const Q4e=on(wk);var _k=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(cr);const J4e=on(_k);var kk=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(cr);const Z4e=on(kk);var Sk=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(cr);const eSe=on(Sk);var Nk=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(cr);const tSe=on(Nk);var jk=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(cr);const rSe=on(jk);var Ck=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(cr);const nSe=on(Ck);var Tk=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(cr);const aSe=on(Tk);function iSe(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const sSe=x6(Fl(300,.5,0),Fl(-240,.5,1));var oSe=x6(Fl(-100,.75,.35),Fl(80,1.5,.8)),lSe=x6(Fl(260,.75,.35),Fl(80,1.5,.8)),Fb=Fl();function cSe(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Fb.h=360*e-100,Fb.s=1.5-1.5*t,Fb.l=.8-.9*t,Fb+""}var Lb=jp(),uSe=Math.PI/3,dSe=Math.PI*2/3;function fSe(e){var t;return e=(.5-e)*Math.PI,Lb.r=255*(t=Math.sin(e))*t,Lb.g=255*(t=Math.sin(e+uSe))*t,Lb.b=255*(t=Math.sin(e+dSe))*t,Lb+""}function hSe(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Ak(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}const pSe=Ak(cr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var mSe=Ak(cr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),gSe=Ak(cr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),xSe=Ak(cr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),vSe="__lodash_hash_undefined__";function ySe(e){return this.__data__.set(e,vSe),this}var bSe=ySe;function wSe(e){return this.__data__.has(e)}var _Se=wSe,kSe=n6,SSe=bSe,NSe=_Se;function Mw(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new kSe;++t<r;)this.add(e[t])}Mw.prototype.add=Mw.prototype.push=SSe;Mw.prototype.has=NSe;var I6=Mw;function jSe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var CSe=jSe;function TSe(e){return e!==e}var ASe=TSe;function ESe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var PSe=ESe,OSe=CSe,$Se=ASe,DSe=PSe;function MSe(e,t,r){return t===t?DSe(e,t,r):OSe(e,$Se,r)}var FSe=MSe,LSe=FSe;function ISe(e,t){var r=e==null?0:e.length;return!!r&&LSe(e,t,0)>-1}var EY=ISe;function RSe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var PY=RSe;function BSe(e,t){return e.has(t)}var R6=BSe,USe=I6,WSe=EY,zSe=PY,HSe=H5,qSe=W5,YSe=R6,VSe=200;function GSe(e,t,r,n){var a=-1,i=WSe,s=!0,o=e.length,l=[],u=t.length;if(!o)return l;r&&(t=HSe(t,qSe(r))),n?(i=zSe,s=!1):t.length>=VSe&&(i=YSe,s=!1,t=new USe(t));e:for(;++a<o;){var d=e[a],f=r==null?d:r(d);if(d=n||d!==0?d:0,s&&f===f){for(var h=u;h--;)if(t[h]===f)continue e;l.push(d)}else i(t,f,n)||l.push(d)}return l}var KSe=GSe,XSe=KSe,QSe=c6,JSe=Pq,ZSe=QSe(function(e,t){return JSe(e)?XSe(e,t):[]}),e3e=ZSe;const OY=hr(e3e);function lr(e){return function(){return e}}const g7=Math.abs,hi=Math.atan2,cc=Math.cos,t3e=Math.max,S3=Math.min,ns=Math.sin,Ga=Math.sqrt,mi=1e-12,pd=Math.PI,Fw=pd/2,Zu=2*pd;function r3e(e){return e>1?0:e<-1?pd:Math.acos(e)}function x7(e){return e>=1?Fw:e<=-1?-Fw:Math.asin(e)}const vC=Math.PI,yC=2*vC,ef=1e-6,n3e=yC-ef;function $Y(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function a3e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $Y;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}let i3e=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$Y:a3e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,u=a-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ef)if(!(Math.abs(f*l-u*d)>ef)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,m=a-o,g=l*l+u*u,v=p*p+m*m,x=Math.sqrt(g),y=Math.sqrt(h),b=i*Math.tan((vC-Math.acos((g+h-v)/(2*x*y)))/2),N=b/y,_=b/x;Math.abs(N-1)>ef&&this._append`L${t+N*d},${r+N*f}`,this._append`A${i},${i},0,0,${+(f*p>d*m)},${this._x1=t+_*l},${this._y1=r+_*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),u=t+o,d=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ef||Math.abs(this._y1-d)>ef)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%yC+yC),h>n3e?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>ef&&this._append`A${n},${n},0,${+(h>=vC)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}};function Ek(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new i3e(t)}function s3e(e){return e.innerRadius}function o3e(e){return e.outerRadius}function l3e(e){return e.startAngle}function c3e(e){return e.endAngle}function u3e(e){return e&&e.padAngle}function d3e(e,t,r,n,a,i,s,o){var l=r-e,u=n-t,d=s-a,f=o-i,h=f*l-d*u;if(!(h*h<mi))return h=(d*(t-i)-f*(e-a))/h,[e+h*l,t+h*u]}function Ib(e,t,r,n,a,i,s){var o=e-r,l=t-n,u=(s?i:-i)/Ga(o*o+l*l),d=u*l,f=-u*o,h=e+d,p=t+f,m=r+d,g=n+f,v=(h+m)/2,x=(p+g)/2,y=m-h,b=g-p,N=y*y+b*b,_=a-i,C=h*g-m*p,k=(b<0?-1:1)*Ga(t3e(0,_*_*N-C*C)),w=(C*b-y*k)/N,S=(-C*y-b*k)/N,P=(C*b+y*k)/N,A=(-C*y+b*k)/N,T=w-v,F=S-x,M=P-v,H=A-x;return T*T+F*F>M*M+H*H&&(w=P,S=A),{cx:w,cy:S,x01:-d,y01:-f,x11:w*(a/_-1),y11:S*(a/_-1)}}function f3e(){var e=s3e,t=o3e,r=lr(0),n=null,a=l3e,i=c3e,s=u3e,o=null,l=Ek(u);function u(){var d,f,h=+e.apply(this,arguments),p=+t.apply(this,arguments),m=a.apply(this,arguments)-Fw,g=i.apply(this,arguments)-Fw,v=g7(g-m),x=g>m;if(o||(o=d=l()),p<h&&(f=p,p=h,h=f),!(p>mi))o.moveTo(0,0);else if(v>Zu-mi)o.moveTo(p*cc(m),p*ns(m)),o.arc(0,0,p,m,g,!x),h>mi&&(o.moveTo(h*cc(g),h*ns(g)),o.arc(0,0,h,g,m,x));else{var y=m,b=g,N=m,_=g,C=v,k=v,w=s.apply(this,arguments)/2,S=w>mi&&(n?+n.apply(this,arguments):Ga(h*h+p*p)),P=S3(g7(p-h)/2,+r.apply(this,arguments)),A=P,T=P,F,M;if(S>mi){var H=x7(S/h*ns(w)),z=x7(S/p*ns(w));(C-=H*2)>mi?(H*=x?1:-1,N+=H,_-=H):(C=0,N=_=(m+g)/2),(k-=z*2)>mi?(z*=x?1:-1,y+=z,b-=z):(k=0,y=b=(m+g)/2)}var Y=p*cc(y),G=p*ns(y),I=h*cc(_),X=h*ns(_);if(P>mi){var J=p*cc(b),E=p*ns(b),R=h*cc(N),B=h*ns(N),q;if(v<pd)if(q=d3e(Y,G,R,B,J,E,I,X)){var K=Y-q[0],ae=G-q[1],ee=J-q[0],W=E-q[1],Z=1/ns(r3e((K*ee+ae*W)/(Ga(K*K+ae*ae)*Ga(ee*ee+W*W)))/2),re=Ga(q[0]*q[0]+q[1]*q[1]);A=S3(P,(h-re)/(Z-1)),T=S3(P,(p-re)/(Z+1))}else A=T=0}k>mi?T>mi?(F=Ib(R,B,Y,G,p,T,x),M=Ib(J,E,I,X,p,T,x),o.moveTo(F.cx+F.x01,F.cy+F.y01),T<P?o.arc(F.cx,F.cy,T,hi(F.y01,F.x01),hi(M.y01,M.x01),!x):(o.arc(F.cx,F.cy,T,hi(F.y01,F.x01),hi(F.y11,F.x11),!x),o.arc(0,0,p,hi(F.cy+F.y11,F.cx+F.x11),hi(M.cy+M.y11,M.cx+M.x11),!x),o.arc(M.cx,M.cy,T,hi(M.y11,M.x11),hi(M.y01,M.x01),!x))):(o.moveTo(Y,G),o.arc(0,0,p,y,b,!x)):o.moveTo(Y,G),!(h>mi)||!(C>mi)?o.lineTo(I,X):A>mi?(F=Ib(I,X,J,E,h,-A,x),M=Ib(Y,G,R,B,h,-A,x),o.lineTo(F.cx+F.x01,F.cy+F.y01),A<P?o.arc(F.cx,F.cy,A,hi(F.y01,F.x01),hi(M.y01,M.x01),!x):(o.arc(F.cx,F.cy,A,hi(F.y01,F.x01),hi(F.y11,F.x11),!x),o.arc(0,0,h,hi(F.cy+F.y11,F.cx+F.x11),hi(M.cy+M.y11,M.cx+M.x11),x),o.arc(M.cx,M.cy,A,hi(M.y11,M.x11),hi(M.y01,M.x01),!x))):o.arc(0,0,h,_,N,x)}if(o.closePath(),d)return o=null,d+""||null}return u.centroid=function(){var d=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-pd/2;return[cc(f)*d,ns(f)*d]},u.innerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:lr(+d),u):e},u.outerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:lr(+d),u):t},u.cornerRadius=function(d){return arguments.length?(r=typeof d=="function"?d:lr(+d),u):r},u.padRadius=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:lr(+d),u):n},u.startAngle=function(d){return arguments.length?(a=typeof d=="function"?d:lr(+d),u):a},u.endAngle=function(d){return arguments.length?(i=typeof d=="function"?d:lr(+d),u):i},u.padAngle=function(d){return arguments.length?(s=typeof d=="function"?d:lr(+d),u):s},u.context=function(d){return arguments.length?(o=d??null,u):o},u}function Pk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function DY(e){this._context=e}DY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function a1(e){return new DY(e)}function MY(e){return e[0]}function FY(e){return e[1]}function Ok(e,t){var r=lr(!0),n=null,a=a1,i=null,s=Ek(o);e=typeof e=="function"?e:e===void 0?MY:lr(e),t=typeof t=="function"?t:t===void 0?FY:lr(t);function o(l){var u,d=(l=Pk(l)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,l),+t(f,u,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:lr(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:lr(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:lr(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function mx(e,t,r){var n=null,a=lr(!0),i=null,s=a1,o=null,l=Ek(u);e=typeof e=="function"?e:e===void 0?MY:lr(+e),t=typeof t=="function"?t:lr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?FY:lr(+r);function u(f){var h,p,m,g=(f=Pk(f)).length,v,x=!1,y,b=new Array(g),N=new Array(g);for(i==null&&(o=s(y=l())),h=0;h<=g;++h){if(!(h<g&&a(v=f[h],h,f))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(b[m],N[m]);o.lineEnd(),o.areaEnd()}x&&(b[h]=+e(v,h,f),N[h]=+t(v,h,f),o.point(n?+n(v,h,f):b[h],r?+r(v,h,f):N[h]))}if(y)return o=null,y+""||null}function d(){return Ok().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:lr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:lr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:lr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:lr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:lr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:lr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:lr(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),u):i},u}function h3e(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function p3e(e){return e}function m3e(){var e=p3e,t=h3e,r=null,n=lr(0),a=lr(Zu),i=lr(0);function s(o){var l,u=(o=Pk(o)).length,d,f,h=0,p=new Array(u),m=new Array(u),g=+n.apply(this,arguments),v=Math.min(Zu,Math.max(-Zu,a.apply(this,arguments)-g)),x,y=Math.min(Math.abs(v)/u,i.apply(this,arguments)),b=y*(v<0?-1:1),N;for(l=0;l<u;++l)(N=m[p[l]=l]=+e(o[l],l,o))>0&&(h+=N);for(t!=null?p.sort(function(_,C){return t(m[_],m[C])}):r!=null&&p.sort(function(_,C){return r(o[_],o[C])}),l=0,f=h?(v-u*b)/h:0;l<u;++l,g=x)d=p[l],N=m[d],x=g+(N>0?N*f:0)+b,m[d]={data:o[d],index:l,value:N,startAngle:g,endAngle:x,padAngle:y};return m}return s.value=function(o){return arguments.length?(e=typeof o=="function"?o:lr(+o),s):e},s.sortValues=function(o){return arguments.length?(t=o,r=null,s):t},s.sort=function(o){return arguments.length?(r=o,t=null,s):r},s.startAngle=function(o){return arguments.length?(n=typeof o=="function"?o:lr(+o),s):n},s.endAngle=function(o){return arguments.length?(a=typeof o=="function"?o:lr(+o),s):a},s.padAngle=function(o){return arguments.length?(i=typeof o=="function"?o:lr(+o),s):i},s}class LY{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function g3e(e){return new LY(e,!0)}function x3e(e){return new LY(e,!1)}const B6={draw(e,t){const r=Ga(t/pd);e.moveTo(r,0),e.arc(0,0,r,0,Zu)}},v3e={draw(e,t){const r=Ga(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},IY=Ga(1/3),y3e=IY*2,b3e={draw(e,t){const r=Ga(t/y3e),n=r*IY;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},w3e={draw(e,t){const r=Ga(t),n=-r/2;e.rect(n,n,r,r)}},_3e=.8908130915292852,RY=ns(pd/10)/ns(7*pd/10),k3e=ns(Zu/10)*RY,S3e=-cc(Zu/10)*RY,N3e={draw(e,t){const r=Ga(t*_3e),n=k3e*r,a=S3e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=Zu*i/5,o=cc(s),l=ns(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},N3=Ga(3),j3e={draw(e,t){const r=-Ga(t/(N3*3));e.moveTo(0,r*2),e.lineTo(-N3*r,-r),e.lineTo(N3*r,-r),e.closePath()}},Ys=-.5,Vs=Ga(3)/2,bC=1/Ga(12),C3e=(bC/2+1)*3,T3e={draw(e,t){const r=Ga(t/C3e),n=r/2,a=r*bC,i=n,s=r*bC+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(Ys*n-Vs*a,Vs*n+Ys*a),e.lineTo(Ys*i-Vs*s,Vs*i+Ys*s),e.lineTo(Ys*o-Vs*l,Vs*o+Ys*l),e.lineTo(Ys*n+Vs*a,Ys*a-Vs*n),e.lineTo(Ys*i+Vs*s,Ys*s-Vs*i),e.lineTo(Ys*o+Vs*l,Ys*l-Vs*o),e.closePath()}};function A3e(e,t){let r=null,n=Ek(a);e=typeof e=="function"?e:lr(e||B6),t=typeof t=="function"?t:lr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:lr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:lr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function md(){}function Lw(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function $k(e){this._context=e}$k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function BY(e){return new $k(e)}function UY(e){this._context=e}UY.prototype={areaStart:md,areaEnd:md,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Lw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WY(e){return new UY(e)}function zY(e){this._context=e}zY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Lw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HY(e){return new zY(e)}function qY(e,t){this._basis=new $k(e),this._beta=t}qY.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],a=t[0],i=e[r]-n,s=t[r]-a,o=-1,l;++o<=r;)l=o/r,this._basis.point(this._beta*e[o]+(1-this._beta)*(n+l*i),this._beta*t[o]+(1-this._beta)*(a+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const E3e=function e(t){function r(n){return t===1?new $k(n):new qY(n,t)}return r.beta=function(n){return e(+n)},r}(.85);function Iw(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function U6(e,t){this._context=e,this._k=(1-t)/6}U6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Iw(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Iw(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const P3e=function e(t){function r(n){return new U6(n,t)}return r.tension=function(n){return e(+n)},r}(0);function W6(e,t){this._context=e,this._k=(1-t)/6}W6.prototype={areaStart:md,areaEnd:md,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Iw(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const O3e=function e(t){function r(n){return new W6(n,t)}return r.tension=function(n){return e(+n)},r}(0);function z6(e,t){this._context=e,this._k=(1-t)/6}z6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Iw(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const $3e=function e(t){function r(n){return new z6(n,t)}return r.tension=function(n){return e(+n)},r}(0);function H6(e,t,r){var n=e._x1,a=e._y1,i=e._x2,s=e._y2;if(e._l01_a>mi){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,a=(a*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>mi){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*u+e._x1*e._l23_2a-t*e._l12_2a)/d,s=(s*u+e._y1*e._l23_2a-r*e._l12_2a)/d}e._context.bezierCurveTo(n,a,i,s,e._x2,e._y2)}function YY(e,t){this._context=e,this._alpha=t}YY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:H6(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const D3e=function e(t){function r(n){return t?new YY(n,t):new U6(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function VY(e,t){this._context=e,this._alpha=t}VY.prototype={areaStart:md,areaEnd:md,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:H6(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const M3e=function e(t){function r(n){return t?new VY(n,t):new W6(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function GY(e,t){this._context=e,this._alpha=t}GY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:H6(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const F3e=function e(t){function r(n){return t?new GY(n,t):new z6(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function KY(e){this._context=e}KY.prototype={areaStart:md,areaEnd:md,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function XY(e){return new KY(e)}function v7(e){return e<0?-1:1}function y7(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(v7(i)+v7(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function b7(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function j3(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Rw(e){this._context=e}Rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:j3(this,this._t0,b7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,j3(this,b7(this,r=y7(this,e,t)),r);break;default:j3(this,this._t0,r=y7(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function QY(e){this._context=new JY(e)}(QY.prototype=Object.create(Rw.prototype)).point=function(e,t){Rw.prototype.point.call(this,t,e)};function JY(e){this._context=e}JY.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function ZY(e){return new Rw(e)}function eV(e){return new QY(e)}function tV(e){this._context=e}tV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=w7(e),a=w7(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function w7(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function rV(e){return new tV(e)}function Dk(e,t){this._context=e,this._t=t}Dk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function nV(e){return new Dk(e,.5)}function aV(e){return new Dk(e,0)}function iV(e){return new Dk(e,1)}function Pp(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function wC(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function L3e(e,t){return e[t]}function I3e(e){const t=[];return t.key=e,t}function R3e(){var e=lr([]),t=wC,r=Pp,n=L3e;function a(i){var s=Array.from(e.apply(this,arguments),I3e),o,l=s.length,u=-1,d;for(const f of i)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,i)]).data=f;for(o=0,d=Pk(t(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:lr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:lr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?wC:typeof i=="function"?i:lr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Pp,a):r},a}function B3e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Pp(e,t)}}function U3e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Pp(e,t)}}function W3e(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<o;++m){var g=e[t[m]],v=g[n][1]||0,x=g[n-1][1]||0;p+=v-x}l+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,Pp(e,t)}}function z3e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bw(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function H3e(e){return e=Bw(Math.abs(e)),e?e[1]:NaN}function q3e(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function Y3e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var V3e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _C(e){if(!(t=V3e.exec(e)))throw new Error("invalid format: "+e);var t;return new q6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_C.prototype=q6.prototype;function q6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}q6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function G3e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var sV;function K3e(e,t){var r=Bw(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(sV=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Bw(e,Math.max(0,t+i-1))[0]}function _7(e,t){var r=Bw(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const k7={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:z3e,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return _7(e*100,t)},r:_7,s:K3e,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function S7(e){return e}var N7=Array.prototype.map,j7=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function X3e(e){var t=e.grouping===void 0||e.thousands===void 0?S7:q3e(N7.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal+"",i=e.numerals===void 0?S7:Y3e(N7.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=_C(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,x=f.width,y=f.comma,b=f.precision,N=f.trim,_=f.type;_==="n"?(y=!0,_="g"):k7[_]||(b===void 0&&(b=12),N=!0,_="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var C=g==="$"?r:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",k=g==="$"?n:/[%p]/.test(_)?s:"",w=k7[_],S=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function P(A){var T=C,F=k,M,H,z;if(_==="c")F=w(A)+F,A="";else{A=+A;var Y=A<0||1/A<0;if(A=isNaN(A)?l:w(Math.abs(A),b),N&&(A=G3e(A)),Y&&+A==0&&m!=="+"&&(Y=!1),T=(Y?m==="("?m:o:m==="-"||m==="("?"":m)+T,F=(_==="s"?j7[8+sV/3]:"")+F+(Y&&m==="("?")":""),S){for(M=-1,H=A.length;++M<H;)if(z=A.charCodeAt(M),48>z||z>57){F=(z===46?a+A.slice(M+1):A.slice(M))+F,A=A.slice(0,M);break}}}y&&!v&&(A=t(A,1/0));var G=T.length+A.length+F.length,I=G<x?new Array(x-G+1).join(h):"";switch(y&&v&&(A=t(I+A,I.length?x-F.length:1/0),I=""),p){case"<":A=T+A+F+I;break;case"=":A=T+I+A+F;break;case"^":A=I.slice(0,G=I.length>>1)+T+A+F+I.slice(G);break;default:A=I+T+A+F;break}return i(A)}return P.toString=function(){return f+""},P}function d(f,h){var p=u((f=_C(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(H3e(h)/3)))*3,g=Math.pow(10,-m),v=j7[8+m/3];return function(x){return p(g*x)+v}}return{format:u,formatPrefix:d}}var Rb,oV;Q3e({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function Q3e(e){return Rb=X3e(e),oV=Rb.format,Rb.formatPrefix,Rb}var C3=new Date,T3=new Date;function Gc(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=function(i){return e(i=new Date(+i)),i},a.ceil=function(i){return e(i=new Date(i-1)),t(i,1),e(i),i},a.round=function(i){var s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=function(i,s){return t(i=new Date(+i),s==null?1:Math.floor(s)),i},a.range=function(i,s,o){var l=[],u;if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;do l.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return l},a.filter=function(i){return Gc(function(s){if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},function(s,o){if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););})},r&&(a.count=function(i,s){return C3.setTime(+i),T3.setTime(+s),e(C3),e(T3),Math.floor(r(C3,T3))},a.every=function(i){return i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?function(s){return n(s)%i===0}:function(s){return a.count(0,s)%i===0}):a}),a}const J3e=1e3,Y6=J3e*60,Z3e=Y6*60,V6=Z3e*24,lV=V6*7;var G6=Gc(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Y6)/V6,e=>e.getDate()-1);G6.range;function wh(e){return Gc(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Y6)/lV})}var cV=wh(0),Uw=wh(1),eNe=wh(2),tNe=wh(3),Op=wh(4),rNe=wh(5),nNe=wh(6);cV.range;Uw.range;eNe.range;tNe.range;Op.range;rNe.range;nNe.range;var Kf=Gc(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Kf.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Gc(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};Kf.range;var K6=Gc(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/V6},function(e){return e.getUTCDate()-1});K6.range;function _h(e){return Gc(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/lV})}var uV=_h(0),Ww=_h(1),aNe=_h(2),iNe=_h(3),$p=_h(4),sNe=_h(5),oNe=_h(6);uV.range;Ww.range;aNe.range;iNe.range;$p.range;sNe.range;oNe.range;var Xf=Gc(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Xf.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Gc(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};Xf.range;function A3(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function E3(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Mg(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function lNe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=Fg(a),d=Lg(a),f=Fg(i),h=Lg(i),p=Fg(s),m=Lg(s),g=Fg(o),v=Lg(o),x=Fg(l),y=Lg(l),b={a:Y,A:G,b:I,B:X,c:null,d:O7,e:O7,f:PNe,g:UNe,G:zNe,H:TNe,I:ANe,j:ENe,L:dV,m:ONe,M:$Ne,p:J,q:E,Q:M7,s:F7,S:DNe,u:MNe,U:FNe,V:LNe,w:INe,W:RNe,x:null,X:null,y:BNe,Y:WNe,Z:HNe,"%":D7},N={a:R,A:B,b:q,B:K,c:null,d:$7,e:$7,f:GNe,g:aje,G:sje,H:qNe,I:YNe,j:VNe,L:hV,m:KNe,M:XNe,p:ae,q:ee,Q:M7,s:F7,S:QNe,u:JNe,U:ZNe,V:eje,w:tje,W:rje,x:null,X:null,y:nje,Y:ije,Z:oje,"%":D7},_={a:P,A,b:T,B:F,c:M,d:E7,e:E7,f:SNe,g:A7,G:T7,H:P7,I:P7,j:bNe,L:kNe,m:yNe,M:wNe,p:S,q:vNe,Q:jNe,s:CNe,S:_Ne,u:hNe,U:pNe,V:mNe,w:fNe,W:gNe,x:H,X:z,y:A7,Y:T7,Z:xNe,"%":NNe};b.x=C(r,b),b.X=C(n,b),b.c=C(t,b),N.x=C(r,N),N.X=C(n,N),N.c=C(t,N);function C(W,Z){return function(re){var O=[],de=-1,ce=0,pe=W.length,Q,ne,Ae;for(re instanceof Date||(re=new Date(+re));++de<pe;)W.charCodeAt(de)===37&&(O.push(W.slice(ce,de)),(ne=C7[Q=W.charAt(++de)])!=null?Q=W.charAt(++de):ne=Q==="e"?" ":"0",(Ae=Z[Q])&&(Q=Ae(re,ne)),O.push(Q),ce=de+1);return O.push(W.slice(ce,de)),O.join("")}}function k(W,Z){return function(re){var O=Mg(1900,void 0,1),de=w(O,W,re+="",0),ce,pe;if(de!=re.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(Z&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(ce=E3(Mg(O.y,0,1)),pe=ce.getUTCDay(),ce=pe>4||pe===0?Ww.ceil(ce):Ww(ce),ce=K6.offset(ce,(O.V-1)*7),O.y=ce.getUTCFullYear(),O.m=ce.getUTCMonth(),O.d=ce.getUTCDate()+(O.w+6)%7):(ce=A3(Mg(O.y,0,1)),pe=ce.getDay(),ce=pe>4||pe===0?Uw.ceil(ce):Uw(ce),ce=G6.offset(ce,(O.V-1)*7),O.y=ce.getFullYear(),O.m=ce.getMonth(),O.d=ce.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),pe="Z"in O?E3(Mg(O.y,0,1)).getUTCDay():A3(Mg(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(pe+5)%7:O.w+O.U*7-(pe+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,E3(O)):A3(O)}}function w(W,Z,re,O){for(var de=0,ce=Z.length,pe=re.length,Q,ne;de<ce;){if(O>=pe)return-1;if(Q=Z.charCodeAt(de++),Q===37){if(Q=Z.charAt(de++),ne=_[Q in C7?Z.charAt(de++):Q],!ne||(O=ne(W,re,O))<0)return-1}else if(Q!=re.charCodeAt(O++))return-1}return O}function S(W,Z,re){var O=u.exec(Z.slice(re));return O?(W.p=d.get(O[0].toLowerCase()),re+O[0].length):-1}function P(W,Z,re){var O=p.exec(Z.slice(re));return O?(W.w=m.get(O[0].toLowerCase()),re+O[0].length):-1}function A(W,Z,re){var O=f.exec(Z.slice(re));return O?(W.w=h.get(O[0].toLowerCase()),re+O[0].length):-1}function T(W,Z,re){var O=x.exec(Z.slice(re));return O?(W.m=y.get(O[0].toLowerCase()),re+O[0].length):-1}function F(W,Z,re){var O=g.exec(Z.slice(re));return O?(W.m=v.get(O[0].toLowerCase()),re+O[0].length):-1}function M(W,Z,re){return w(W,t,Z,re)}function H(W,Z,re){return w(W,r,Z,re)}function z(W,Z,re){return w(W,n,Z,re)}function Y(W){return s[W.getDay()]}function G(W){return i[W.getDay()]}function I(W){return l[W.getMonth()]}function X(W){return o[W.getMonth()]}function J(W){return a[+(W.getHours()>=12)]}function E(W){return 1+~~(W.getMonth()/3)}function R(W){return s[W.getUTCDay()]}function B(W){return i[W.getUTCDay()]}function q(W){return l[W.getUTCMonth()]}function K(W){return o[W.getUTCMonth()]}function ae(W){return a[+(W.getUTCHours()>=12)]}function ee(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var Z=C(W+="",b);return Z.toString=function(){return W},Z},parse:function(W){var Z=k(W+="",!1);return Z.toString=function(){return W},Z},utcFormat:function(W){var Z=C(W+="",N);return Z.toString=function(){return W},Z},utcParse:function(W){var Z=k(W+="",!0);return Z.toString=function(){return W},Z}}}var C7={"-":"",_:" ",0:"0"},Ia=/^\s*\d+/,cNe=/^%/,uNe=/[\\^$*+?|[\]().{}]/g;function Mr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function dNe(e){return e.replace(uNe,"\\$&")}function Fg(e){return new RegExp("^(?:"+e.map(dNe).join("|")+")","i")}function Lg(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function fNe(e,t,r){var n=Ia.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function hNe(e,t,r){var n=Ia.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function pNe(e,t,r){var n=Ia.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function mNe(e,t,r){var n=Ia.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function gNe(e,t,r){var n=Ia.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function T7(e,t,r){var n=Ia.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function A7(e,t,r){var n=Ia.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xNe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function vNe(e,t,r){var n=Ia.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function yNe(e,t,r){var n=Ia.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function E7(e,t,r){var n=Ia.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function bNe(e,t,r){var n=Ia.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function P7(e,t,r){var n=Ia.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function wNe(e,t,r){var n=Ia.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function _Ne(e,t,r){var n=Ia.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function kNe(e,t,r){var n=Ia.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function SNe(e,t,r){var n=Ia.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function NNe(e,t,r){var n=cNe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function jNe(e,t,r){var n=Ia.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function CNe(e,t,r){var n=Ia.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function O7(e,t){return Mr(e.getDate(),t,2)}function TNe(e,t){return Mr(e.getHours(),t,2)}function ANe(e,t){return Mr(e.getHours()%12||12,t,2)}function ENe(e,t){return Mr(1+G6.count(Kf(e),e),t,3)}function dV(e,t){return Mr(e.getMilliseconds(),t,3)}function PNe(e,t){return dV(e,t)+"000"}function ONe(e,t){return Mr(e.getMonth()+1,t,2)}function $Ne(e,t){return Mr(e.getMinutes(),t,2)}function DNe(e,t){return Mr(e.getSeconds(),t,2)}function MNe(e){var t=e.getDay();return t===0?7:t}function FNe(e,t){return Mr(cV.count(Kf(e)-1,e),t,2)}function fV(e){var t=e.getDay();return t>=4||t===0?Op(e):Op.ceil(e)}function LNe(e,t){return e=fV(e),Mr(Op.count(Kf(e),e)+(Kf(e).getDay()===4),t,2)}function INe(e){return e.getDay()}function RNe(e,t){return Mr(Uw.count(Kf(e)-1,e),t,2)}function BNe(e,t){return Mr(e.getFullYear()%100,t,2)}function UNe(e,t){return e=fV(e),Mr(e.getFullYear()%100,t,2)}function WNe(e,t){return Mr(e.getFullYear()%1e4,t,4)}function zNe(e,t){var r=e.getDay();return e=r>=4||r===0?Op(e):Op.ceil(e),Mr(e.getFullYear()%1e4,t,4)}function HNe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Mr(t/60|0,"0",2)+Mr(t%60,"0",2)}function $7(e,t){return Mr(e.getUTCDate(),t,2)}function qNe(e,t){return Mr(e.getUTCHours(),t,2)}function YNe(e,t){return Mr(e.getUTCHours()%12||12,t,2)}function VNe(e,t){return Mr(1+K6.count(Xf(e),e),t,3)}function hV(e,t){return Mr(e.getUTCMilliseconds(),t,3)}function GNe(e,t){return hV(e,t)+"000"}function KNe(e,t){return Mr(e.getUTCMonth()+1,t,2)}function XNe(e,t){return Mr(e.getUTCMinutes(),t,2)}function QNe(e,t){return Mr(e.getUTCSeconds(),t,2)}function JNe(e){var t=e.getUTCDay();return t===0?7:t}function ZNe(e,t){return Mr(uV.count(Xf(e)-1,e),t,2)}function pV(e){var t=e.getUTCDay();return t>=4||t===0?$p(e):$p.ceil(e)}function eje(e,t){return e=pV(e),Mr($p.count(Xf(e),e)+(Xf(e).getUTCDay()===4),t,2)}function tje(e){return e.getUTCDay()}function rje(e,t){return Mr(Ww.count(Xf(e)-1,e),t,2)}function nje(e,t){return Mr(e.getUTCFullYear()%100,t,2)}function aje(e,t){return e=pV(e),Mr(e.getUTCFullYear()%100,t,2)}function ije(e,t){return Mr(e.getUTCFullYear()%1e4,t,4)}function sje(e,t){var r=e.getUTCDay();return e=r>=4||r===0?$p(e):$p.ceil(e),Mr(e.getUTCFullYear()%1e4,t,4)}function oje(){return"+0000"}function D7(){return"%"}function M7(e){return+e}function F7(e){return Math.floor(+e/1e3)}var u0,mV;lje({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lje(e){return u0=lNe(e),mV=u0.format,u0.parse,u0.utcFormat,u0.utcParse,u0}var cje=Y5,uje=Yq,dje=q5;function fje(e,t,r){for(var n=-1,a=t.length,i={};++n<a;){var s=t[n],o=cje(e,s);r(o,s)&&uje(i,dje(s,e),o)}return i}var hje=fje;function pje(e,t){return e!=null&&t in Object(e)}var mje=pje,gje=q5,xje=B5,vje=Gi,yje=z5,bje=s6,wje=e1;function _je(e,t,r){t=gje(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=wje(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&bje(a)&&yje(s,a)&&(vje(e)||xje(e)))}var kje=_je,Sje=mje,Nje=kje;function jje(e,t){return e!=null&&Nje(e,t,Sje)}var gV=jje,Cje=hje,Tje=gV;function Aje(e,t){return Cje(e,t,function(r,n){return Tje(e,n)})}var Eje=Aje;function Pje(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var xV=Pje,L7=Jy,Oje=B5,$je=Gi,I7=L7?L7.isConcatSpreadable:void 0;function Dje(e){return $je(e)||Oje(e)||!!(I7&&e&&e[I7])}var Mje=Dje,Fje=xV,Lje=Mje;function vV(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=Lje),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?vV(o,t-1,r,n,a):Fje(a,o):n||(a[a.length]=o)}return a}var X6=vV,Ije=X6;function Rje(e){var t=e==null?0:e.length;return t?Ije(e,1):[]}var Bje=Rje,Uje=Bje,Wje=Bq,zje=Uq;function Hje(e){return zje(Wje(e,void 0,Uje),e+"")}var qje=Hje,Yje=Eje,Vje=qje,Gje=Vje(function(e,t){return e==null?{}:Yje(e,t)}),Kje=Gje;const Xje=hr(Kje);function Qje(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var yV=Qje,Jje=I6,Zje=yV,eCe=R6,tCe=1,rCe=2;function nCe(e,t,r,n,a,i){var s=r&tCe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&rCe?new Jje:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var m=e[f],g=t[f];if(n)var v=s?n(g,m,f,t,e,i):n(m,g,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Zje(t,function(x,y){if(!eCe(p,y)&&(m===x||a(m,x,r,n,i)))return p.push(y)})){h=!1;break}}else if(!(m===g||a(m,g,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var bV=nCe;function aCe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var iCe=aCe;function sCe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Q6=sCe,R7=Jy,B7=Cq,oCe=Qy,lCe=bV,cCe=iCe,uCe=Q6,dCe=1,fCe=2,hCe="[object Boolean]",pCe="[object Date]",mCe="[object Error]",gCe="[object Map]",xCe="[object Number]",vCe="[object RegExp]",yCe="[object Set]",bCe="[object String]",wCe="[object Symbol]",_Ce="[object ArrayBuffer]",kCe="[object DataView]",U7=R7?R7.prototype:void 0,P3=U7?U7.valueOf:void 0;function SCe(e,t,r,n,a,i,s){switch(r){case kCe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _Ce:return!(e.byteLength!=t.byteLength||!i(new B7(e),new B7(t)));case hCe:case pCe:case xCe:return oCe(+e,+t);case mCe:return e.name==t.name&&e.message==t.message;case vCe:case bCe:return e==t+"";case gCe:var o=cCe;case yCe:var l=n&dCe;if(o||(o=uCe),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;n|=fCe,s.set(e,t);var d=lCe(o(e),o(t),n,a,i,s);return s.delete(e),d;case wCe:if(P3)return P3.call(e)==P3.call(t)}return!1}var NCe=SCe,jCe=xV,CCe=Gi;function TCe(e,t,r){var n=t(e);return CCe(e)?n:jCe(n,r(e))}var ACe=TCe;function ECe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var PCe=ECe;function OCe(){return[]}var $Ce=OCe,DCe=PCe,MCe=$Ce,FCe=Object.prototype,LCe=FCe.propertyIsEnumerable,W7=Object.getOwnPropertySymbols,ICe=W7?function(e){return e==null?[]:(e=Object(e),DCe(W7(e),function(t){return LCe.call(e,t)}))}:MCe,RCe=ICe,BCe=Tq,UCe=BCe(Object.keys,Object),WCe=UCe,zCe=i6,HCe=WCe,qCe=Object.prototype,YCe=qCe.hasOwnProperty;function VCe(e){if(!zCe(e))return HCe(e);var t=[];for(var r in Object(e))YCe.call(e,r)&&r!="constructor"&&t.push(r);return t}var GCe=VCe,KCe=Lq,XCe=GCe,QCe=Tm;function JCe(e){return QCe(e)?KCe(e):XCe(e)}var J6=JCe,ZCe=ACe,eTe=RCe,tTe=J6;function rTe(e){return ZCe(e,tTe,eTe)}var nTe=rTe,z7=nTe,aTe=1,iTe=Object.prototype,sTe=iTe.hasOwnProperty;function oTe(e,t,r,n,a,i){var s=r&aTe,o=z7(e),l=o.length,u=z7(t),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:sTe.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var g=!0;i.set(e,t),i.set(t,e);for(var v=s;++f<l;){h=o[f];var x=e[h],y=t[h];if(n)var b=s?n(y,x,h,t,e,i):n(x,y,h,e,t,i);if(!(b===void 0?x===y||a(x,y,r,n,i):b)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var N=e.constructor,_=t.constructor;N!=_&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return i.delete(e),i.delete(t),g}var lTe=oTe,cTe=vh,uTe=rl,dTe=cTe(uTe,"DataView"),fTe=dTe,hTe=vh,pTe=rl,mTe=hTe(pTe,"Promise"),gTe=mTe,xTe=vh,vTe=rl,yTe=xTe(vTe,"Set"),wV=yTe,bTe=vh,wTe=rl,_Te=bTe(wTe,"WeakMap"),kTe=_Te,kC=fTe,SC=r6,NC=gTe,jC=wV,CC=kTe,_V=Hl,Dm=kq,H7="[object Map]",STe="[object Object]",q7="[object Promise]",Y7="[object Set]",V7="[object WeakMap]",G7="[object DataView]",NTe=Dm(kC),jTe=Dm(SC),CTe=Dm(NC),TTe=Dm(jC),ATe=Dm(CC),tf=_V;(kC&&tf(new kC(new ArrayBuffer(1)))!=G7||SC&&tf(new SC)!=H7||NC&&tf(NC.resolve())!=q7||jC&&tf(new jC)!=Y7||CC&&tf(new CC)!=V7)&&(tf=function(e){var t=_V(e),r=t==STe?e.constructor:void 0,n=r?Dm(r):"";if(n)switch(n){case NTe:return G7;case jTe:return H7;case CTe:return q7;case TTe:return Y7;case ATe:return V7}return t});var ETe=tf,O3=a6,PTe=bV,OTe=NCe,$Te=lTe,K7=ETe,X7=Gi,Q7=o6,DTe=l6,MTe=1,J7="[object Arguments]",Z7="[object Array]",Bb="[object Object]",FTe=Object.prototype,eF=FTe.hasOwnProperty;function LTe(e,t,r,n,a,i){var s=X7(e),o=X7(t),l=s?Z7:K7(e),u=o?Z7:K7(t);l=l==J7?Bb:l,u=u==J7?Bb:u;var d=l==Bb,f=u==Bb,h=l==u;if(h&&Q7(e)){if(!Q7(t))return!1;s=!0,d=!1}if(h&&!d)return i||(i=new O3),s||DTe(e)?PTe(e,t,r,n,a,i):OTe(e,t,l,r,n,a,i);if(!(r&MTe)){var p=d&&eF.call(e,"__wrapped__"),m=f&&eF.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return i||(i=new O3),a(g,v,r,n,i)}}return h?(i||(i=new O3),$Te(e,t,r,n,a,i)):!1}var ITe=LTe,RTe=ITe,tF=nl;function kV(e,t,r,n,a){return e===t?!0:e==null||t==null||!tF(e)&&!tF(t)?e!==e&&t!==t:RTe(e,t,r,n,kV,a)}var Z6=kV,BTe=Z6;function UTe(e,t){return BTe(e,t)}var WTe=UTe;const Mk=hr(WTe);var zTe={background:"transparent",text:{fontFamily:"sans-serif",fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"transparent",outlineOpacity:1},axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}};function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(this,arguments)}function TC(e,t){return TC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},TC(e,t)}function Fk(e,t){if(e==null)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}var HTe=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],qTe=function(e,t){return co({},t,e)},YTe=function(e,t){var r=qwe({},e,t);return HTe.forEach(function(n){px(r,n,qTe(ra(r,n),r.text))}),r},SV=L.createContext(),NV=function(e){var t=e.children,r=e.animate,n=r===void 0||r,a=e.config,i=a===void 0?"default":a,s=L.useMemo(function(){var o=$m(i)?ZE[i]:i;return{animate:n,config:o}},[n,i]);return c.jsx(SV.Provider,{value:s,children:t})},zw={animate:Re.bool,motionConfig:Re.oneOfType([Re.oneOf(Object.keys(ZE)),Re.shape({mass:Re.number,tension:Re.number,friction:Re.number,clamp:Re.bool,precision:Re.number,velocity:Re.number,duration:Re.number,easing:Re.func})])};NV.propTypes={children:Re.node.isRequired,animate:zw.animate,config:zw.motionConfig};var ql=function(){return L.useContext(SV)},jV=function(e){var t=ql(),r=t.animate,n=t.config,a=function(o){var l=L.useRef();return L.useEffect(function(){l.current=o},[o]),l.current}(e),i=L.useMemo(function(){return Qq(a,e)},[a,e]),s=wm({from:{value:0},to:{value:1},reset:!0,config:n,immediate:!r}).value;return _m(s,i)},VTe={nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:Ft(rk),PRGn:Ft(nk),PiYG:Ft(ak),PuOr:Ft(ik),RdBu:Ft(sk),RdGy:Ft(ok),RdYlBu:Ft(lk),RdYlGn:Ft(ck),spectral:Ft(uk),blues:Ft(kk),greens:Ft(Sk),greys:Ft(Nk),oranges:Ft(Tk),purples:Ft(jk),reds:Ft(Ck),BuGn:Ft(dk),BuPu:Ft(fk),GnBu:Ft(hk),OrRd:Ft(pk),PuBuGn:Ft(mk),PuBu:Ft(gk),PuRd:Ft(xk),RdPu:Ft(vk),YlGnBu:Ft(yk),YlGn:Ft(bk),YlOrBr:Ft(wk),YlOrRd:Ft(_k)},GTe=Object.keys(VTe);Ft(rk),Ft(nk),Ft(ak),Ft(ik),Ft(sk),Ft(ok),Ft(lk),Ft(ck),Ft(uk),Ft(kk),Ft(Sk),Ft(Nk),Ft(Tk),Ft(jk),Ft(Ck),Ft(dk),Ft(fk),Ft(hk),Ft(pk),Ft(mk),Ft(gk),Ft(xk),Ft(vk),Ft(yk),Ft(bk),Ft(wk),Ft(_k);Re.oneOfType([Re.oneOf(GTe),Re.func,Re.arrayOf(Re.string)]);var AC={basis:BY,basisClosed:WY,basisOpen:HY,bundle:E3e,cardinal:P3e,cardinalClosed:O3e,cardinalOpen:$3e,catmullRom:D3e,catmullRomClosed:M3e,catmullRomOpen:F3e,linear:a1,linearClosed:XY,monotoneX:ZY,monotoneY:eV,natural:rV,step:nV,stepAfter:iV,stepBefore:aV},eP=Object.keys(AC);eP.filter(function(e){return e.endsWith("Closed")});OY(eP,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");OY(eP,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");var CV=function(e){if(!AC[e])throw new TypeError("'"+e+"', is not a valid curve interpolator identifier.");return AC[e]};Re.shape({top:Re.number,right:Re.number,bottom:Re.number,left:Re.number}).isRequired;var KTe=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"];Re.oneOf(KTe);Iu(AY);var TV={top:0,right:0,bottom:0,left:0},tP=function(e,t,r){return r===void 0&&(r={}),L.useMemo(function(){var n=co({},TV,r);return{margin:n,innerWidth:e-n.left-n.right,innerHeight:t-n.top-n.bottom,outerWidth:e,outerHeight:t}},[e,t,r.top,r.right,r.bottom,r.left])},AV=function(){var e=L.useRef(null),t=L.useState({left:0,top:0,width:0,height:0}),r=t[0],n=t[1],a=L.useState(function(){return typeof ResizeObserver>"u"?null:new ResizeObserver(function(i){var s=i[0];return n(s.contentRect)})})[0];return L.useEffect(function(){return e.current&&a!==null&&a.observe(e.current),function(){a!==null&&a.disconnect()}},[]),[e,r]},XTe=function(e){return L.useMemo(function(){return YTe(zTe,e)},[e])},QTe=function(e){return typeof e=="function"?e:typeof e=="string"?e.indexOf("time:")===0?mV(e.slice("5")):oV(e):function(t){return""+t}},Hw=function(e){return L.useMemo(function(){return QTe(e)},[e])},EV=L.createContext(),JTe={},PV=function(e){var t=e.theme,r=t===void 0?JTe:t,n=e.children,a=XTe(r);return c.jsx(EV.Provider,{value:a,children:n})};PV.propTypes={children:Re.node.isRequired,theme:Re.object};var aa=function(){return L.useContext(EV)},ZTe=["outlineWidth","outlineColor","outlineOpacity"],rP=function(e){return e.outlineWidth,e.outlineColor,e.outlineOpacity,Fk(e,ZTe)},OV=function(e){var t=e.children,r=e.condition,n=e.wrapper;return r?L.cloneElement(n,{},t):t};OV.propTypes={children:Re.node.isRequired,condition:Re.bool.isRequired,wrapper:Re.element.isRequired};var eAe={position:"relative"},nP=function(e){var t=e.children,r=e.theme,n=e.renderWrapper,a=n===void 0||n,i=e.isInteractive,s=i===void 0||i,o=e.animate,l=e.motionConfig,u=L.useRef(null);return c.jsx(PV,{theme:r,children:c.jsx(NV,{animate:o,config:l,children:c.jsx(wxe,{container:u,children:c.jsxs(OV,{condition:a,wrapper:c.jsx("div",{style:eAe,ref:u}),children:[t,s&&c.jsx(bxe,{})]})})})})};nP.propTypes={children:Re.element.isRequired,isInteractive:Re.bool,renderWrapper:Re.bool,theme:Re.object,animate:Re.bool,motionConfig:Re.oneOfType([Re.string,zw.motionConfig])};Re.func.isRequired,Re.bool,Re.bool,Re.object.isRequired,Re.bool.isRequired,Re.oneOfType([Re.string,zw.motionConfig]);var Lk=function(e){var t=e.children,r=AV(),n=r[0],a=r[1],i=a.width>0&&a.height>0;return c.jsx("div",{ref:n,style:{width:"100%",height:"100%"},children:i&&t({width:a.width,height:a.height})})};Lk.propTypes={children:Re.func.isRequired};var tAe=["id","colors"],$V=function(e){var t=e.id,r=e.colors,n=Fk(e,tAe);return c.jsx("linearGradient",co({id:t,x1:0,x2:0,y1:0,y2:1},n,{children:r.map(function(a){var i=a.offset,s=a.color,o=a.opacity;return c.jsx("stop",{offset:i+"%",stopColor:s,stopOpacity:o!==void 0?o:1},i)})}))};$V.propTypes={id:Re.string.isRequired,colors:Re.arrayOf(Re.shape({offset:Re.number.isRequired,color:Re.string.isRequired,opacity:Re.number})).isRequired,gradientTransform:Re.string};var DV={linearGradient:$V},Ig={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},EC=L.memo(function(e){var t=e.id,r=e.background,n=r===void 0?Ig.background:r,a=e.color,i=a===void 0?Ig.color:a,s=e.size,o=s===void 0?Ig.size:s,l=e.padding,u=l===void 0?Ig.padding:l,d=e.stagger,f=d===void 0?Ig.stagger:d,h=o+u,p=o/2,m=u/2;return f===!0&&(h=2*o+2*u),c.jsxs("pattern",{id:t,width:h,height:h,patternUnits:"userSpaceOnUse",children:[c.jsx("rect",{width:h,height:h,fill:n}),c.jsx("circle",{cx:m+p,cy:m+p,r:p,fill:i}),f&&c.jsx("circle",{cx:1.5*u+o+p,cy:1.5*u+o+p,r:p,fill:i})]})});EC.displayName="PatternDots",EC.propTypes={id:Re.string.isRequired,color:Re.string.isRequired,background:Re.string.isRequired,size:Re.number.isRequired,padding:Re.number.isRequired,stagger:Re.bool.isRequired};var Vo=function(e){return e*Math.PI/180},aP=function(e){return 180*e/Math.PI},rAe=function(e){return e.startAngle+(e.endAngle-e.startAngle)/2},np=function(e,t){return{x:Math.cos(e)*t,y:Math.sin(e)*t}},nAe={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},Rg={spacing:5,rotation:0,background:"#000000",color:"#ffffff",lineWidth:2},PC=L.memo(function(e){var t=e.id,r=e.spacing,n=r===void 0?Rg.spacing:r,a=e.rotation,i=a===void 0?Rg.rotation:a,s=e.background,o=s===void 0?Rg.background:s,l=e.color,u=l===void 0?Rg.color:l,d=e.lineWidth,f=d===void 0?Rg.lineWidth:d,h=Math.round(i)%360,p=Math.abs(n);h>180?h-=360:h>90?h-=180:h<-180?h+=360:h<-90&&(h+=180);var m,g=p,v=p;return h===0?m=`
                M 0 0 L `+g+` 0
                M 0 `+v+" L "+g+" "+v+`
            `:h===90?m=`
                M 0 0 L 0 `+v+`
                M `+g+" 0 L "+g+" "+v+`
            `:(g=Math.abs(p/Math.sin(Vo(h))),v=p/Math.sin(Vo(90-h)),m=h>0?`
                    M 0 `+-v+" L "+2*g+" "+v+`
                    M `+-g+" "+-v+" L "+g+" "+v+`
                    M `+-g+" 0 L "+g+" "+2*v+`
                `:`
                    M `+-g+" "+v+" L "+g+" "+-v+`
                    M `+-g+" "+2*v+" L "+2*g+" "+-v+`
                    M 0 `+2*v+" L "+2*g+` 0
                `),c.jsxs("pattern",{id:t,width:g,height:v,patternUnits:"userSpaceOnUse",children:[c.jsx("rect",{width:g,height:v,fill:o,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),c.jsx("path",{d:m,strokeWidth:f,stroke:u,strokeLinecap:"square"})]})});PC.displayName="PatternLines",PC.propTypes={id:Re.string.isRequired,spacing:Re.number.isRequired,rotation:Re.number.isRequired,background:Re.string.isRequired,color:Re.string.isRequired,lineWidth:Re.number.isRequired};var Bg={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},OC=L.memo(function(e){var t=e.id,r=e.color,n=r===void 0?Bg.color:r,a=e.background,i=a===void 0?Bg.background:a,s=e.size,o=s===void 0?Bg.size:s,l=e.padding,u=l===void 0?Bg.padding:l,d=e.stagger,f=d===void 0?Bg.stagger:d,h=o+u,p=u/2;return f===!0&&(h=2*o+2*u),c.jsxs("pattern",{id:t,width:h,height:h,patternUnits:"userSpaceOnUse",children:[c.jsx("rect",{width:h,height:h,fill:i}),c.jsx("rect",{x:p,y:p,width:o,height:o,fill:n}),f&&c.jsx("rect",{x:1.5*u+o,y:1.5*u+o,width:o,height:o,fill:n})]})});OC.displayName="PatternSquares",OC.propTypes={id:Re.string.isRequired,color:Re.string.isRequired,background:Re.string.isRequired,size:Re.number.isRequired,padding:Re.number.isRequired,stagger:Re.bool.isRequired};var MV={patternDots:EC,patternLines:PC,patternSquares:OC},aAe=["type"],$C=co({},DV,MV),FV=function(e){var t=e.defs;return!t||t.length<1?null:c.jsx("defs",{"aria-hidden":!0,children:t.map(function(r){var n=r.type,a=Fk(r,aAe);return $C[n]?L.createElement($C[n],co({key:a.id},a)):null})})};FV.propTypes={defs:Re.arrayOf(Re.shape({type:Re.oneOf(Object.keys($C)).isRequired,id:Re.string.isRequired}))};var iAe=L.memo(FV),iP=function(e){var t=e.width,r=e.height,n=e.margin,a=e.defs,i=e.children,s=e.role,o=e.ariaLabel,l=e.ariaLabelledBy,u=e.ariaDescribedBy,d=e.isFocusable,f=aa();return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:r,role:s,"aria-label":o,"aria-labelledby":l,"aria-describedby":u,focusable:d,tabIndex:d?0:void 0,children:[c.jsx(iAe,{defs:a}),c.jsx("rect",{width:t,height:r,fill:f.background}),c.jsx("g",{transform:"translate("+n.left+","+n.top+")",children:i})]})};iP.propTypes={width:Re.number.isRequired,height:Re.number.isRequired,margin:Re.shape({top:Re.number.isRequired,left:Re.number.isRequired}).isRequired,defs:Re.array,children:Re.oneOfType([Re.arrayOf(Re.node),Re.node]).isRequired,role:Re.string,isFocusable:Re.bool,ariaLabel:Re.string,ariaLabelledBy:Re.string,ariaDescribedBy:Re.string};var LV=function(e){var t=e.size,r=e.color,n=e.borderWidth,a=e.borderColor;return c.jsx("circle",{r:t/2,fill:r,stroke:a,strokeWidth:n,style:{pointerEvents:"none"}})};LV.propTypes={size:Re.number.isRequired,color:Re.string.isRequired,borderWidth:Re.number.isRequired,borderColor:Re.string.isRequired};var sAe=L.memo(LV),IV=function(e){var t=e.x,r=e.y,n=e.symbol,a=n===void 0?sAe:n,i=e.size,s=e.datum,o=e.color,l=e.borderWidth,u=e.borderColor,d=e.label,f=e.labelTextAnchor,h=f===void 0?"middle":f,p=e.labelYOffset,m=p===void 0?-12:p,g=aa(),v=ql(),x=v.animate,y=v.config,b=wm({transform:"translate("+t+", "+r+")",config:y,immediate:!x});return c.jsxs(Za.g,{transform:b.transform,style:{pointerEvents:"none"},children:[L.createElement(a,{size:i,color:o,datum:s,borderWidth:l,borderColor:u}),d&&c.jsx("text",{textAnchor:h,y:m,style:rP(g.dots.text),children:d})]})};IV.propTypes={x:Re.number.isRequired,y:Re.number.isRequired,datum:Re.object.isRequired,size:Re.number.isRequired,color:Re.string.isRequired,borderWidth:Re.number.isRequired,borderColor:Re.string.isRequired,symbol:Re.oneOfType([Re.func,Re.object]),label:Re.oneOfType([Re.string,Re.number]),labelTextAnchor:Re.oneOf(["start","middle","end"]),labelYOffset:Re.number};var oAe=L.memo(IV),RV=function(e){var t=e.width,r=e.height,n=e.axis,a=e.scale,i=e.value,s=e.lineStyle,o=e.textStyle,l=e.legend,u=e.legendNode,d=e.legendPosition,f=d===void 0?"top-right":d,h=e.legendOffsetX,p=h===void 0?14:h,m=e.legendOffsetY,g=m===void 0?14:m,v=e.legendOrientation,x=v===void 0?"horizontal":v,y=aa(),b=0,N=0,_=0,C=0;if(n==="y"?(_=a(i),N=t):(b=a(i),C=r),l&&!u){var k=function(w){var S=w.axis,P=w.width,A=w.height,T=w.position,F=w.offsetX,M=w.offsetY,H=w.orientation,z=0,Y=0,G=H==="vertical"?-90:0,I="start";if(S==="x")switch(T){case"top-left":z=-F,Y=M,I="end";break;case"top":Y=-M,I=H==="horizontal"?"middle":"start";break;case"top-right":z=F,Y=M,I=H==="horizontal"?"start":"end";break;case"right":z=F,Y=A/2,I=H==="horizontal"?"start":"middle";break;case"bottom-right":z=F,Y=A-M,I="start";break;case"bottom":Y=A+M,I=H==="horizontal"?"middle":"end";break;case"bottom-left":Y=A-M,z=-F,I=H==="horizontal"?"end":"start";break;case"left":z=-F,Y=A/2,I=H==="horizontal"?"end":"middle"}else switch(T){case"top-left":z=F,Y=-M,I="start";break;case"top":z=P/2,Y=-M,I=H==="horizontal"?"middle":"start";break;case"top-right":z=P-F,Y=-M,I=H==="horizontal"?"end":"start";break;case"right":z=P+F,I=H==="horizontal"?"start":"middle";break;case"bottom-right":z=P-F,Y=M,I="end";break;case"bottom":z=P/2,Y=M,I=H==="horizontal"?"middle":"end";break;case"bottom-left":z=F,Y=M,I=H==="horizontal"?"start":"end";break;case"left":z=-F,I=H==="horizontal"?"end":"middle"}return{x:z,y:Y,rotation:G,textAnchor:I}}({axis:n,width:t,height:r,position:f,offsetX:p,offsetY:g,orientation:x});u=c.jsx("text",{transform:"translate("+k.x+", "+k.y+") rotate("+k.rotation+")",textAnchor:k.textAnchor,dominantBaseline:"central",style:o,children:l})}return c.jsxs("g",{transform:"translate("+b+", "+_+")",children:[c.jsx("line",{x1:0,x2:N,y1:0,y2:C,stroke:y.markers.lineColor,strokeWidth:y.markers.lineStrokeWidth,style:s}),u]})};RV.propTypes={width:Re.number.isRequired,height:Re.number.isRequired,axis:Re.oneOf(["x","y"]).isRequired,scale:Re.func.isRequired,value:Re.oneOfType([Re.number,Re.string,Re.instanceOf(Date)]).isRequired,lineStyle:Re.object,textStyle:Re.object,legend:Re.string,legendPosition:Re.oneOf(["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"]),legendOffsetX:Re.number.isRequired,legendOffsetY:Re.number.isRequired,legendOrientation:Re.oneOf(["horizontal","vertical"]).isRequired};var lAe=L.memo(RV),BV=function(e){var t=e.markers,r=e.width,n=e.height,a=e.xScale,i=e.yScale;return t&&t.length!==0?t.map(function(s,o){return c.jsx(lAe,co({},s,{width:r,height:n,scale:s.axis==="y"?i:a}),o)}):null};BV.propTypes={width:Re.number.isRequired,height:Re.number.isRequired,xScale:Re.func.isRequired,yScale:Re.func.isRequired,markers:Re.arrayOf(Re.shape({axis:Re.oneOf(["x","y"]).isRequired,value:Re.oneOfType([Re.number,Re.string,Re.instanceOf(Date)]).isRequired,lineStyle:Re.object,textStyle:Re.object}))};var cAe=L.memo(BV),uAe=["theme","renderWrapper","animate","motionConfig"],UV=function(e){return function(t){var r,n;function a(){return t.apply(this,arguments)||this}return n=t,(r=a).prototype=Object.create(n.prototype),r.prototype.constructor=r,TC(r,n),a.prototype.render=function(){var i=this.props,s=i.theme,o=i.renderWrapper,l=i.animate,u=i.motionConfig,d=Fk(i,uAe);return c.jsx(nP,{theme:s,renderWrapper:o,isInteractive:d.isInteractive,animate:l,motionConfig:u,children:c.jsx(e,co({},d))})},a}(L.Component)},dAe=function(e,t){var r=ar(e)?e:function(n){return ra(n,e)};return r},fAe=function(e){return ar(e)?e:function(t){return ra(t,e)}},qw=function(e){return L.useMemo(function(){return fAe(e)},[e])},hAe=function(e,t,r,n){var a=r-e,i=n-t;return a*=a,i*=i,Math.sqrt(a+i)},pAe=function(e,t,r,n,a,i){return e<=a&&a<=e+r&&t<=i&&i<=t+n},WV=function(e,t){var r,n="touches"in t?t.touches[0]:t,a=n.clientX,i=n.clientY,s=e.getBoundingClientRect(),o=(r=e.getBBox!==void 0?e.getBBox():{width:e.offsetWidth||0,height:e.offsetHeight||0}).width===s.width?1:r.width/s.width;return[(a-s.left)*o,(i-s.top)*o]},mAe=Object.keys(DV),gAe=Object.keys(MV),xAe=function(e,t,r){if(e==="*")return!0;if(ar(e))return e(t);if(U5(e)){var n=r?ra(t,r):t;return Mk(Xje(n,Object.keys(e)),e)}return!1},zV=function(e,t,r,n){var a={},i=a.dataKey,s=a.colorKey,o=s===void 0?"color":s,l=a.targetKey,u=l===void 0?"fill":l,d=[],f={};return e.length&&t.length&&(d=[].concat(e),t.forEach(function(h){for(var p=function(){var g=r[m],v=g.id,x=g.match;if(xAe(x,h,i)){var y=e.find(function(P){return P.id===v});if(y){if(gAe.includes(y.type))if(y.background==="inherit"||y.color==="inherit"){var b=ra(h,o),N=y.background,_=y.color,C=v;y.background==="inherit"&&(C=C+".bg."+b,N=b),y.color==="inherit"&&(C=C+".fg."+b,_=b),px(h,u,"url(#"+C+")"),f[C]||(d.push(co({},y,{id:C,background:N,color:_})),f[C]=1)}else px(h,u,"url(#"+v+")");else if(mAe.includes(y.type))if(y.colors.map(function(P){return P.color}).includes("inherit")){var k=ra(h,o),w=v,S=co({},y,{colors:y.colors.map(function(P,A){return P.color!=="inherit"?P:(w=w+"."+A+"."+k,co({},P,{color:P.color==="inherit"?k:P.color}))})});S.id=w,px(h,u,"url(#"+w+")"),f[w]||(d.push(S),f[w]=1)}else px(h,u,"url(#"+v+")")}return"break"}},m=0;m<r.length&&p()!=="break";m++);})),d};function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yw.apply(this,arguments)}function rF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vAe(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(a,i){if(a){if(typeof a=="string")return rF(a,i);var s=Object.prototype.toString.call(a).slice(8,-1);return s==="Object"&&a.constructor&&(s=a.constructor.name),s==="Map"||s==="Set"?Array.from(a):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?rF(a,i):void 0}}(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var HV={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:k4e,accent:S4e,dark2:N4e,paired:j4e,pastel1:C4e,pastel2:T4e,set1:A4e,set2:E4e,set3:AY,tableau10:P4e},yAe=Object.keys(HV),qV={brown_blueGreen:rk,purpleRed_green:nk,pink_yellowGreen:ak,purple_orange:ik,red_blue:sk,red_grey:ok,red_yellow_blue:lk,red_yellow_green:ck,spectral:uk},bAe=Object.keys(qV),wAe={brown_blueGreen:O4e,purpleRed_green:$4e,pink_yellowGreen:D4e,purple_orange:M4e,red_blue:F4e,red_grey:L4e,red_yellow_blue:I4e,red_yellow_green:R4e,spectral:B4e},YV={blues:kk,greens:Sk,greys:Nk,oranges:Tk,purples:jk,reds:Ck,blue_green:dk,blue_purple:fk,green_blue:hk,orange_red:pk,purple_blue_green:mk,purple_blue:gk,purple_red:xk,red_purple:vk,yellow_green_blue:yk,yellow_green:bk,yellow_orange_brown:wk,yellow_orange_red:_k},_Ae=Object.keys(YV),kAe={blues:Z4e,greens:eSe,greys:tSe,oranges:aSe,purples:rSe,reds:nSe,turbo:hSe,viridis:pSe,inferno:gSe,magma:mSe,plasma:xSe,cividis:iSe,warm:oSe,cool:lSe,cubehelixDefault:sSe,blue_green:U4e,blue_purple:W4e,green_blue:z4e,orange_red:H4e,purple_blue_green:q4e,purple_blue:Y4e,purple_red:V4e,red_purple:G4e,yellow_green_blue:K4e,yellow_green:X4e,yellow_orange_brown:Q4e,yellow_orange_red:J4e},$3=Yw({},HV,qV,YV),SAe=function(e){return yAe.includes(e)},NAe=function(e){return bAe.includes(e)},jAe=function(e){return _Ae.includes(e)},CAe={rainbow:cSe,sinebow:fSe};Yw({},wAe,kAe,CAe);var TAe=function(e,t){if(typeof e=="function")return e;if(U5(e)){if(function(l){return l.theme!==void 0}(e)){if(t===void 0)throw new Error("Unable to use color from theme as no theme was provided");var r=ra(t,e.theme);if(r===void 0)throw new Error("Color from theme is undefined at path: '"+e.theme+"'");return function(){return r}}if(function(l){return l.from!==void 0}(e)){var n=function(l){return ra(l,e.from)};if(Array.isArray(e.modifiers)){for(var a,i=[],s=function(){var l=a.value,u=l[0],d=l[1];if(u==="brighter")i.push(function(f){return f.brighter(d)});else if(u==="darker")i.push(function(f){return f.darker(d)});else{if(u!=="opacity")throw new Error("Invalid color modifier: '"+u+"', must be one of: 'brighter', 'darker', 'opacity'");i.push(function(f){return f.opacity=d,f})}},o=vAe(e.modifiers);!(a=o()).done;)s();return i.length===0?n:function(l){return i.reduce(function(u,d){return d(u)},jp(n(l))).toString()}}return n}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return e}},gd=function(e,t){return L.useMemo(function(){return TAe(e,t)},[e,t])};Re.oneOfType([Re.string,Re.func,Re.shape({theme:Re.string.isRequired}),Re.shape({from:Re.string.isRequired,modifiers:Re.arrayOf(Re.array)})]);var AAe=function(e,t){if(typeof e=="function")return e;var r=function(f){return ra(f,t)};if(Array.isArray(e)){var n=Iu(e),a=function(f){return n(r(f))};return a.scale=n,a}if(U5(e)){if(function(f){return f.datum!==void 0}(e))return function(f){return ra(f,e.datum)};if(function(f){return f.scheme!==void 0}(e)){if(SAe(e.scheme)){var i=Iu($3[e.scheme]),s=function(f){return i(r(f))};return s.scale=i,s}if(NAe(e.scheme)){if(e.size!==void 0&&(e.size<3||e.size>11))throw new Error("Invalid size '"+e.size+"' for diverging color scheme '"+e.scheme+"', must be between 3~11");var o=Iu($3[e.scheme][e.size||11]),l=function(f){return o(r(f))};return l.scale=o,l}if(jAe(e.scheme)){if(e.size!==void 0&&(e.size<3||e.size>9))throw new Error("Invalid size '"+e.size+"' for sequential color scheme '"+e.scheme+"', must be between 3~9");var u=Iu($3[e.scheme][e.size||9]),d=function(f){return u(r(f))};return d.scale=u,d}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return e}},VV=function(e,t){return L.useMemo(function(){return AAe(e,t)},[e,t])},D3=new Date,M3=new Date;function Kc(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=function(i){return e(i=new Date(+i)),i},a.ceil=function(i){return e(i=new Date(i-1)),t(i,1),e(i),i},a.round=function(i){var s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=function(i,s){return t(i=new Date(+i),s==null?1:Math.floor(s)),i},a.range=function(i,s,o){var l=[],u;if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;do l.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return l},a.filter=function(i){return Kc(function(s){if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},function(s,o){if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););})},r&&(a.count=function(i,s){return D3.setTime(+i),M3.setTime(+s),e(D3),e(M3),Math.floor(r(D3,M3))},a.every=function(i){return i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?function(s){return n(s)%i===0}:function(s){return a.count(0,s)%i===0}):a}),a}const EAe=1e3,sP=EAe*60,PAe=sP*60,oP=PAe*24,GV=oP*7;var lP=Kc(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sP)/oP,e=>e.getDate()-1);lP.range;function kh(e){return Kc(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*sP)/GV})}var KV=kh(0),Vw=kh(1),OAe=kh(2),$Ae=kh(3),Dp=kh(4),DAe=kh(5),MAe=kh(6);KV.range;Vw.range;OAe.range;$Ae.range;Dp.range;DAe.range;MAe.range;var Qf=Kc(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Qf.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Kc(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};Qf.range;var cP=Kc(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/oP},function(e){return e.getUTCDate()-1});cP.range;function Sh(e){return Kc(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/GV})}var XV=Sh(0),Gw=Sh(1),FAe=Sh(2),LAe=Sh(3),Mp=Sh(4),IAe=Sh(5),RAe=Sh(6);XV.range;Gw.range;FAe.range;LAe.range;Mp.range;IAe.range;RAe.range;var Jf=Kc(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Jf.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Kc(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};Jf.range;function F3(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function L3(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ug(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function BAe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=Wg(a),d=zg(a),f=Wg(i),h=zg(i),p=Wg(s),m=zg(s),g=Wg(o),v=zg(o),x=Wg(l),y=zg(l),b={a:Y,A:G,b:I,B:X,c:null,d:lF,e:lF,f:cEe,g:yEe,G:wEe,H:sEe,I:oEe,j:lEe,L:QV,m:uEe,M:dEe,p:J,q:E,Q:dF,s:fF,S:fEe,u:hEe,U:pEe,V:mEe,w:gEe,W:xEe,x:null,X:null,y:vEe,Y:bEe,Z:_Ee,"%":uF},N={a:R,A:B,b:q,B:K,c:null,d:cF,e:cF,f:jEe,g:FEe,G:IEe,H:kEe,I:SEe,j:NEe,L:ZV,m:CEe,M:TEe,p:ae,q:ee,Q:dF,s:fF,S:AEe,u:EEe,U:PEe,V:OEe,w:$Ee,W:DEe,x:null,X:null,y:MEe,Y:LEe,Z:REe,"%":uF},_={a:P,A,b:T,B:F,c:M,d:sF,e:sF,f:rEe,g:iF,G:aF,H:oF,I:oF,j:JAe,L:tEe,m:QAe,M:ZAe,p:S,q:XAe,Q:aEe,s:iEe,S:eEe,u:qAe,U:YAe,V:VAe,w:HAe,W:GAe,x:H,X:z,y:iF,Y:aF,Z:KAe,"%":nEe};b.x=C(r,b),b.X=C(n,b),b.c=C(t,b),N.x=C(r,N),N.X=C(n,N),N.c=C(t,N);function C(W,Z){return function(re){var O=[],de=-1,ce=0,pe=W.length,Q,ne,Ae;for(re instanceof Date||(re=new Date(+re));++de<pe;)W.charCodeAt(de)===37&&(O.push(W.slice(ce,de)),(ne=nF[Q=W.charAt(++de)])!=null?Q=W.charAt(++de):ne=Q==="e"?" ":"0",(Ae=Z[Q])&&(Q=Ae(re,ne)),O.push(Q),ce=de+1);return O.push(W.slice(ce,de)),O.join("")}}function k(W,Z){return function(re){var O=Ug(1900,void 0,1),de=w(O,W,re+="",0),ce,pe;if(de!=re.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(Z&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(ce=L3(Ug(O.y,0,1)),pe=ce.getUTCDay(),ce=pe>4||pe===0?Gw.ceil(ce):Gw(ce),ce=cP.offset(ce,(O.V-1)*7),O.y=ce.getUTCFullYear(),O.m=ce.getUTCMonth(),O.d=ce.getUTCDate()+(O.w+6)%7):(ce=F3(Ug(O.y,0,1)),pe=ce.getDay(),ce=pe>4||pe===0?Vw.ceil(ce):Vw(ce),ce=lP.offset(ce,(O.V-1)*7),O.y=ce.getFullYear(),O.m=ce.getMonth(),O.d=ce.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),pe="Z"in O?L3(Ug(O.y,0,1)).getUTCDay():F3(Ug(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(pe+5)%7:O.w+O.U*7-(pe+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,L3(O)):F3(O)}}function w(W,Z,re,O){for(var de=0,ce=Z.length,pe=re.length,Q,ne;de<ce;){if(O>=pe)return-1;if(Q=Z.charCodeAt(de++),Q===37){if(Q=Z.charAt(de++),ne=_[Q in nF?Z.charAt(de++):Q],!ne||(O=ne(W,re,O))<0)return-1}else if(Q!=re.charCodeAt(O++))return-1}return O}function S(W,Z,re){var O=u.exec(Z.slice(re));return O?(W.p=d.get(O[0].toLowerCase()),re+O[0].length):-1}function P(W,Z,re){var O=p.exec(Z.slice(re));return O?(W.w=m.get(O[0].toLowerCase()),re+O[0].length):-1}function A(W,Z,re){var O=f.exec(Z.slice(re));return O?(W.w=h.get(O[0].toLowerCase()),re+O[0].length):-1}function T(W,Z,re){var O=x.exec(Z.slice(re));return O?(W.m=y.get(O[0].toLowerCase()),re+O[0].length):-1}function F(W,Z,re){var O=g.exec(Z.slice(re));return O?(W.m=v.get(O[0].toLowerCase()),re+O[0].length):-1}function M(W,Z,re){return w(W,t,Z,re)}function H(W,Z,re){return w(W,r,Z,re)}function z(W,Z,re){return w(W,n,Z,re)}function Y(W){return s[W.getDay()]}function G(W){return i[W.getDay()]}function I(W){return l[W.getMonth()]}function X(W){return o[W.getMonth()]}function J(W){return a[+(W.getHours()>=12)]}function E(W){return 1+~~(W.getMonth()/3)}function R(W){return s[W.getUTCDay()]}function B(W){return i[W.getUTCDay()]}function q(W){return l[W.getUTCMonth()]}function K(W){return o[W.getUTCMonth()]}function ae(W){return a[+(W.getUTCHours()>=12)]}function ee(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var Z=C(W+="",b);return Z.toString=function(){return W},Z},parse:function(W){var Z=k(W+="",!1);return Z.toString=function(){return W},Z},utcFormat:function(W){var Z=C(W+="",N);return Z.toString=function(){return W},Z},utcParse:function(W){var Z=k(W+="",!0);return Z.toString=function(){return W},Z}}}var nF={"-":"",_:" ",0:"0"},Ra=/^\s*\d+/,UAe=/^%/,WAe=/[\\^$*+?|[\]().{}]/g;function Fr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function zAe(e){return e.replace(WAe,"\\$&")}function Wg(e){return new RegExp("^(?:"+e.map(zAe).join("|")+")","i")}function zg(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function HAe(e,t,r){var n=Ra.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function qAe(e,t,r){var n=Ra.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function YAe(e,t,r){var n=Ra.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function VAe(e,t,r){var n=Ra.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function GAe(e,t,r){var n=Ra.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function aF(e,t,r){var n=Ra.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function iF(e,t,r){var n=Ra.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function KAe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function XAe(e,t,r){var n=Ra.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function QAe(e,t,r){var n=Ra.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function sF(e,t,r){var n=Ra.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function JAe(e,t,r){var n=Ra.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function oF(e,t,r){var n=Ra.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ZAe(e,t,r){var n=Ra.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function eEe(e,t,r){var n=Ra.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function tEe(e,t,r){var n=Ra.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function rEe(e,t,r){var n=Ra.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nEe(e,t,r){var n=UAe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function aEe(e,t,r){var n=Ra.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function iEe(e,t,r){var n=Ra.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function lF(e,t){return Fr(e.getDate(),t,2)}function sEe(e,t){return Fr(e.getHours(),t,2)}function oEe(e,t){return Fr(e.getHours()%12||12,t,2)}function lEe(e,t){return Fr(1+lP.count(Qf(e),e),t,3)}function QV(e,t){return Fr(e.getMilliseconds(),t,3)}function cEe(e,t){return QV(e,t)+"000"}function uEe(e,t){return Fr(e.getMonth()+1,t,2)}function dEe(e,t){return Fr(e.getMinutes(),t,2)}function fEe(e,t){return Fr(e.getSeconds(),t,2)}function hEe(e){var t=e.getDay();return t===0?7:t}function pEe(e,t){return Fr(KV.count(Qf(e)-1,e),t,2)}function JV(e){var t=e.getDay();return t>=4||t===0?Dp(e):Dp.ceil(e)}function mEe(e,t){return e=JV(e),Fr(Dp.count(Qf(e),e)+(Qf(e).getDay()===4),t,2)}function gEe(e){return e.getDay()}function xEe(e,t){return Fr(Vw.count(Qf(e)-1,e),t,2)}function vEe(e,t){return Fr(e.getFullYear()%100,t,2)}function yEe(e,t){return e=JV(e),Fr(e.getFullYear()%100,t,2)}function bEe(e,t){return Fr(e.getFullYear()%1e4,t,4)}function wEe(e,t){var r=e.getDay();return e=r>=4||r===0?Dp(e):Dp.ceil(e),Fr(e.getFullYear()%1e4,t,4)}function _Ee(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Fr(t/60|0,"0",2)+Fr(t%60,"0",2)}function cF(e,t){return Fr(e.getUTCDate(),t,2)}function kEe(e,t){return Fr(e.getUTCHours(),t,2)}function SEe(e,t){return Fr(e.getUTCHours()%12||12,t,2)}function NEe(e,t){return Fr(1+cP.count(Jf(e),e),t,3)}function ZV(e,t){return Fr(e.getUTCMilliseconds(),t,3)}function jEe(e,t){return ZV(e,t)+"000"}function CEe(e,t){return Fr(e.getUTCMonth()+1,t,2)}function TEe(e,t){return Fr(e.getUTCMinutes(),t,2)}function AEe(e,t){return Fr(e.getUTCSeconds(),t,2)}function EEe(e){var t=e.getUTCDay();return t===0?7:t}function PEe(e,t){return Fr(XV.count(Jf(e)-1,e),t,2)}function eG(e){var t=e.getUTCDay();return t>=4||t===0?Mp(e):Mp.ceil(e)}function OEe(e,t){return e=eG(e),Fr(Mp.count(Jf(e),e)+(Jf(e).getUTCDay()===4),t,2)}function $Ee(e){return e.getUTCDay()}function DEe(e,t){return Fr(Gw.count(Jf(e)-1,e),t,2)}function MEe(e,t){return Fr(e.getUTCFullYear()%100,t,2)}function FEe(e,t){return e=eG(e),Fr(e.getUTCFullYear()%100,t,2)}function LEe(e,t){return Fr(e.getUTCFullYear()%1e4,t,4)}function IEe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Mp(e):Mp.ceil(e),Fr(e.getUTCFullYear()%1e4,t,4)}function REe(){return"+0000"}function uF(){return"%"}function dF(e){return+e}function fF(e){return Math.floor(+e/1e3)}var d0,tG;BEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function BEe(e){return d0=BAe(e),tG=d0.format,d0.parse,d0.utcFormat,d0.utcParse,d0}function UEe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kw(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function WEe(e){return e=Kw(Math.abs(e)),e?e[1]:NaN}function zEe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function HEe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var qEe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function DC(e){if(!(t=qEe.exec(e)))throw new Error("invalid format: "+e);var t;return new uP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}DC.prototype=uP.prototype;function uP(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}uP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function YEe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var rG;function VEe(e,t){var r=Kw(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(rG=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Kw(e,Math.max(0,t+i-1))[0]}function hF(e,t){var r=Kw(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const pF={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:UEe,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return hF(e*100,t)},r:hF,s:VEe,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function mF(e){return e}var gF=Array.prototype.map,xF=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function GEe(e){var t=e.grouping===void 0||e.thousands===void 0?mF:zEe(gF.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal+"",i=e.numerals===void 0?mF:HEe(gF.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=DC(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,x=f.width,y=f.comma,b=f.precision,N=f.trim,_=f.type;_==="n"?(y=!0,_="g"):pF[_]||(b===void 0&&(b=12),N=!0,_="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var C=g==="$"?r:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",k=g==="$"?n:/[%p]/.test(_)?s:"",w=pF[_],S=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function P(A){var T=C,F=k,M,H,z;if(_==="c")F=w(A)+F,A="";else{A=+A;var Y=A<0||1/A<0;if(A=isNaN(A)?l:w(Math.abs(A),b),N&&(A=YEe(A)),Y&&+A==0&&m!=="+"&&(Y=!1),T=(Y?m==="("?m:o:m==="-"||m==="("?"":m)+T,F=(_==="s"?xF[8+rG/3]:"")+F+(Y&&m==="("?")":""),S){for(M=-1,H=A.length;++M<H;)if(z=A.charCodeAt(M),48>z||z>57){F=(z===46?a+A.slice(M+1):A.slice(M))+F,A=A.slice(0,M);break}}}y&&!v&&(A=t(A,1/0));var G=T.length+A.length+F.length,I=G<x?new Array(x-G+1).join(h):"";switch(y&&v&&(A=t(I+A,I.length?x-F.length:1/0),I=""),p){case"<":A=T+A+F+I;break;case"=":A=T+I+A+F;break;case"^":A=I.slice(0,G=I.length>>1)+T+A+F+I.slice(G);break;default:A=I+T+A+F;break}return i(A)}return P.toString=function(){return f+""},P}function d(f,h){var p=u((f=DC(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(WEe(h)/3)))*3,g=Math.pow(10,-m),v=xF[8+m/3];return function(x){return p(g*x)+v}}return{format:u,formatPrefix:d}}var Ub,nG;KEe({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function KEe(e){return Ub=GEe(e),nG=Ub.format,Ub.formatPrefix,Ub}function XEe(){}var QEe=XEe,I3=wV,JEe=QEe,ZEe=Q6,e6e=1/0,t6e=I3&&1/ZEe(new I3([,-0]))[1]==e6e?function(e){return new I3(e)}:JEe,r6e=t6e,n6e=I6,a6e=EY,i6e=PY,s6e=R6,o6e=r6e,l6e=Q6,c6e=200;function u6e(e,t,r){var n=-1,a=a6e,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=i6e;else if(i>=c6e){var u=t?null:o6e(e);if(u)return l6e(u);s=!1,a=s6e,l=new n6e}else l=t?[]:o;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),o.push(d)}else a(l,f,r)||(l!==o&&l.push(f),o.push(d))}return o}var aG=u6e,d6e=aG;function f6e(e){return e&&e.length?d6e(e):[]}var h6e=f6e;const vF=hr(h6e);var p6e=a6,m6e=Z6,g6e=1,x6e=2;function v6e(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],u=e[l],d=o[1];if(s&&o[2]){if(u===void 0&&!(l in e))return!1}else{var f=new p6e;if(n)var h=n(u,d,l,e,t,f);if(!(h===void 0?m6e(d,u,g6e|x6e,n,f):h))return!1}}return!0}var y6e=v6e,b6e=Fs;function w6e(e){return e===e&&!b6e(e)}var iG=w6e,_6e=iG,k6e=J6;function S6e(e){for(var t=k6e(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,_6e(a)]}return t}var N6e=S6e;function j6e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var sG=j6e,C6e=y6e,T6e=N6e,A6e=sG;function E6e(e){var t=T6e(e);return t.length==1&&t[0][2]?A6e(t[0][0],t[0][1]):function(r){return r===e||C6e(r,e,t)}}var P6e=E6e,O6e=Z6,$6e=qq,D6e=gV,M6e=u6,F6e=iG,L6e=sG,I6e=e1,R6e=1,B6e=2;function U6e(e,t){return M6e(e)&&F6e(t)?L6e(I6e(e),t):function(r){var n=$6e(r,e);return n===void 0&&n===t?D6e(r,e):O6e(t,n,R6e|B6e)}}var W6e=U6e;function z6e(e){return function(t){return t==null?void 0:t[e]}}var H6e=z6e,q6e=Y5;function Y6e(e){return function(t){return q6e(t,e)}}var V6e=Y6e,G6e=H6e,K6e=V6e,X6e=u6,Q6e=e1;function J6e(e){return X6e(e)?G6e(Q6e(e)):K6e(e)}var Z6e=J6e,ePe=P6e,tPe=W6e,rPe=Am,nPe=Gi,aPe=Z6e;function iPe(e){return typeof e=="function"?e:e==null?rPe:typeof e=="object"?nPe(e)?tPe(e[0],e[1]):ePe(e):aPe(e)}var $d=iPe,sPe=$d,oPe=aG;function lPe(e,t){return e&&e.length?oPe(e,sPe(t)):[]}var cPe=lPe;const MC=hr(cPe);var uPe=jq,dPe=J6;function fPe(e,t){return e&&uPe(e,t,dPe)}var oG=fPe,hPe=Tm;function pPe(e,t){return function(r,n){if(r==null)return r;if(!hPe(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var mPe=pPe,gPe=oG,xPe=mPe,vPe=xPe(gPe),dP=vPe,yPe=dP,bPe=Tm;function wPe(e,t){var r=-1,n=bPe(e)?Array(e.length):[];return yPe(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var lG=wPe;function _Pe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var kPe=_Pe,yF=Em;function SPe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=yF(e),s=t!==void 0,o=t===null,l=t===t,u=yF(t);if(!o&&!u&&!i&&e>t||i&&s&&l&&!o&&!u||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var NPe=SPe,jPe=NPe;function CPe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=jPe(a[n],i[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var TPe=CPe,R3=H5,APe=Y5,EPe=$d,PPe=lG,OPe=kPe,$Pe=W5,DPe=TPe,MPe=Am,FPe=Gi;function LPe(e,t,r){t.length?t=R3(t,function(i){return FPe(i)?function(s){return APe(s,i.length===1?i[0]:i)}:i}):t=[MPe];var n=-1;t=R3(t,$Pe(EPe));var a=PPe(e,function(i,s,o){var l=R3(t,function(u){return u(i)});return{criteria:l,index:++n,value:i}});return OPe(a,function(i,s){return DPe(i,s,r)})}var IPe=LPe,RPe=X6,BPe=IPe,UPe=c6,bF=Zy,WPe=UPe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&bF(e,t[0],t[1])?t=[]:r>2&&bF(t[0],t[1],t[2])&&(t=[t[0]]),BPe(e,RPe(t,1),[])}),zPe=WPe;const Ik=hr(zPe);var HPe=Hl,qPe=nl,YPe="[object Date]";function VPe(e){return qPe(e)&&HPe(e)==YPe}var GPe=VPe,KPe=GPe,XPe=W5,wF=Dq,_F=wF&&wF.isDate,QPe=_F?XPe(_F):KPe,JPe=QPe;const ZPe=hr(JPe);var B3=new Date,U3=new Date;function ga(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=function(i){return e(i=new Date(+i)),i},a.ceil=function(i){return e(i=new Date(i-1)),t(i,1),e(i),i},a.round=function(i){var s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=function(i,s){return t(i=new Date(+i),s==null?1:Math.floor(s)),i},a.range=function(i,s,o){var l=[],u;if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;do l.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return l},a.filter=function(i){return ga(function(s){if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},function(s,o){if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););})},r&&(a.count=function(i,s){return B3.setTime(+i),U3.setTime(+s),e(B3),e(U3),Math.floor(r(B3,U3))},a.every=function(i){return i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?function(s){return n(s)%i===0}:function(s){return a.count(0,s)%i===0}):a}),a}var qv=ga(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});qv.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ga(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):qv};qv.range;var Xw=1e3,Zf=6e4,Qw=36e5,cG=864e5,uG=6048e5,FC=ga(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*Xw)},function(e,t){return(t-e)/Xw},function(e){return e.getUTCSeconds()});FC.range;var dG=ga(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xw)},function(e,t){e.setTime(+e+t*Zf)},function(e,t){return(t-e)/Zf},function(e){return e.getMinutes()});dG.range;var fG=ga(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xw-e.getMinutes()*Zf)},function(e,t){e.setTime(+e+t*Qw)},function(e,t){return(t-e)/Qw},function(e){return e.getHours()});fG.range;var fP=ga(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Zf)/cG},function(e){return e.getDate()-1});fP.range;function Nh(e){return ga(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Zf)/uG})}var Jw=Nh(0),Yv=Nh(1),hG=Nh(2),pG=Nh(3),eh=Nh(4),mG=Nh(5),gG=Nh(6);Jw.range;Yv.range;hG.range;pG.range;eh.range;mG.range;gG.range;var xG=ga(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});xG.range;var xd=ga(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});xd.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:ga(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};xd.range;var vG=ga(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Zf)},function(e,t){return(t-e)/Zf},function(e){return e.getUTCMinutes()});vG.range;var yG=ga(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*Qw)},function(e,t){return(t-e)/Qw},function(e){return e.getUTCHours()});yG.range;var hP=ga(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/cG},function(e){return e.getUTCDate()-1});hP.range;function jh(e){return ga(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/uG})}var Zw=jh(0),Vv=jh(1),bG=jh(2),wG=jh(3),th=jh(4),_G=jh(5),kG=jh(6);Zw.range;Vv.range;bG.range;wG.range;th.range;_G.range;kG.range;var SG=ga(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});SG.range;var vd=ga(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});vd.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:ga(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};vd.range;function W3(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function z3(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hg(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function eOe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=qg(a),d=Yg(a),f=qg(i),h=Yg(i),p=qg(s),m=Yg(s),g=qg(o),v=Yg(o),x=qg(l),y=Yg(l),b={a:Y,A:G,b:I,B:X,c:null,d:TF,e:TF,f:kOe,g:$Oe,G:MOe,H:bOe,I:wOe,j:_Oe,L:NG,m:SOe,M:NOe,p:J,q:E,Q:PF,s:OF,S:jOe,u:COe,U:TOe,V:AOe,w:EOe,W:POe,x:null,X:null,y:OOe,Y:DOe,Z:FOe,"%":EF},N={a:R,A:B,b:q,B:K,c:null,d:AF,e:AF,f:BOe,g:XOe,G:JOe,H:LOe,I:IOe,j:ROe,L:CG,m:UOe,M:WOe,p:ae,q:ee,Q:PF,s:OF,S:zOe,u:HOe,U:qOe,V:YOe,w:VOe,W:GOe,x:null,X:null,y:KOe,Y:QOe,Z:ZOe,"%":EF},_={a:P,A,b:T,B:F,c:M,d:jF,e:jF,f:gOe,g:NF,G:SF,H:CF,I:CF,j:fOe,L:mOe,m:dOe,M:hOe,p:S,q:uOe,Q:vOe,s:yOe,S:pOe,u:iOe,U:sOe,V:oOe,w:aOe,W:lOe,x:H,X:z,y:NF,Y:SF,Z:cOe,"%":xOe};b.x=C(r,b),b.X=C(n,b),b.c=C(t,b),N.x=C(r,N),N.X=C(n,N),N.c=C(t,N);function C(W,Z){return function(re){var O=[],de=-1,ce=0,pe=W.length,Q,ne,Ae;for(re instanceof Date||(re=new Date(+re));++de<pe;)W.charCodeAt(de)===37&&(O.push(W.slice(ce,de)),(ne=kF[Q=W.charAt(++de)])!=null?Q=W.charAt(++de):ne=Q==="e"?" ":"0",(Ae=Z[Q])&&(Q=Ae(re,ne)),O.push(Q),ce=de+1);return O.push(W.slice(ce,de)),O.join("")}}function k(W,Z){return function(re){var O=Hg(1900,void 0,1),de=w(O,W,re+="",0),ce,pe;if(de!=re.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(Z&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(ce=z3(Hg(O.y,0,1)),pe=ce.getUTCDay(),ce=pe>4||pe===0?Vv.ceil(ce):Vv(ce),ce=hP.offset(ce,(O.V-1)*7),O.y=ce.getUTCFullYear(),O.m=ce.getUTCMonth(),O.d=ce.getUTCDate()+(O.w+6)%7):(ce=W3(Hg(O.y,0,1)),pe=ce.getDay(),ce=pe>4||pe===0?Yv.ceil(ce):Yv(ce),ce=fP.offset(ce,(O.V-1)*7),O.y=ce.getFullYear(),O.m=ce.getMonth(),O.d=ce.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),pe="Z"in O?z3(Hg(O.y,0,1)).getUTCDay():W3(Hg(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(pe+5)%7:O.w+O.U*7-(pe+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,z3(O)):W3(O)}}function w(W,Z,re,O){for(var de=0,ce=Z.length,pe=re.length,Q,ne;de<ce;){if(O>=pe)return-1;if(Q=Z.charCodeAt(de++),Q===37){if(Q=Z.charAt(de++),ne=_[Q in kF?Z.charAt(de++):Q],!ne||(O=ne(W,re,O))<0)return-1}else if(Q!=re.charCodeAt(O++))return-1}return O}function S(W,Z,re){var O=u.exec(Z.slice(re));return O?(W.p=d.get(O[0].toLowerCase()),re+O[0].length):-1}function P(W,Z,re){var O=p.exec(Z.slice(re));return O?(W.w=m.get(O[0].toLowerCase()),re+O[0].length):-1}function A(W,Z,re){var O=f.exec(Z.slice(re));return O?(W.w=h.get(O[0].toLowerCase()),re+O[0].length):-1}function T(W,Z,re){var O=x.exec(Z.slice(re));return O?(W.m=y.get(O[0].toLowerCase()),re+O[0].length):-1}function F(W,Z,re){var O=g.exec(Z.slice(re));return O?(W.m=v.get(O[0].toLowerCase()),re+O[0].length):-1}function M(W,Z,re){return w(W,t,Z,re)}function H(W,Z,re){return w(W,r,Z,re)}function z(W,Z,re){return w(W,n,Z,re)}function Y(W){return s[W.getDay()]}function G(W){return i[W.getDay()]}function I(W){return l[W.getMonth()]}function X(W){return o[W.getMonth()]}function J(W){return a[+(W.getHours()>=12)]}function E(W){return 1+~~(W.getMonth()/3)}function R(W){return s[W.getUTCDay()]}function B(W){return i[W.getUTCDay()]}function q(W){return l[W.getUTCMonth()]}function K(W){return o[W.getUTCMonth()]}function ae(W){return a[+(W.getUTCHours()>=12)]}function ee(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var Z=C(W+="",b);return Z.toString=function(){return W},Z},parse:function(W){var Z=k(W+="",!1);return Z.toString=function(){return W},Z},utcFormat:function(W){var Z=C(W+="",N);return Z.toString=function(){return W},Z},utcParse:function(W){var Z=k(W+="",!0);return Z.toString=function(){return W},Z}}}var kF={"-":"",_:" ",0:"0"},Ba=/^\s*\d+/,tOe=/^%/,rOe=/[\\^$*+?|[\]().{}]/g;function Lr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function nOe(e){return e.replace(rOe,"\\$&")}function qg(e){return new RegExp("^(?:"+e.map(nOe).join("|")+")","i")}function Yg(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function aOe(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function iOe(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function sOe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function oOe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function lOe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function SF(e,t,r){var n=Ba.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function NF(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function cOe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function uOe(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function dOe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function jF(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function fOe(e,t,r){var n=Ba.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function CF(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function hOe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function pOe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function mOe(e,t,r){var n=Ba.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function gOe(e,t,r){var n=Ba.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function xOe(e,t,r){var n=tOe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function vOe(e,t,r){var n=Ba.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function yOe(e,t,r){var n=Ba.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function TF(e,t){return Lr(e.getDate(),t,2)}function bOe(e,t){return Lr(e.getHours(),t,2)}function wOe(e,t){return Lr(e.getHours()%12||12,t,2)}function _Oe(e,t){return Lr(1+fP.count(xd(e),e),t,3)}function NG(e,t){return Lr(e.getMilliseconds(),t,3)}function kOe(e,t){return NG(e,t)+"000"}function SOe(e,t){return Lr(e.getMonth()+1,t,2)}function NOe(e,t){return Lr(e.getMinutes(),t,2)}function jOe(e,t){return Lr(e.getSeconds(),t,2)}function COe(e){var t=e.getDay();return t===0?7:t}function TOe(e,t){return Lr(Jw.count(xd(e)-1,e),t,2)}function jG(e){var t=e.getDay();return t>=4||t===0?eh(e):eh.ceil(e)}function AOe(e,t){return e=jG(e),Lr(eh.count(xd(e),e)+(xd(e).getDay()===4),t,2)}function EOe(e){return e.getDay()}function POe(e,t){return Lr(Yv.count(xd(e)-1,e),t,2)}function OOe(e,t){return Lr(e.getFullYear()%100,t,2)}function $Oe(e,t){return e=jG(e),Lr(e.getFullYear()%100,t,2)}function DOe(e,t){return Lr(e.getFullYear()%1e4,t,4)}function MOe(e,t){var r=e.getDay();return e=r>=4||r===0?eh(e):eh.ceil(e),Lr(e.getFullYear()%1e4,t,4)}function FOe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Lr(t/60|0,"0",2)+Lr(t%60,"0",2)}function AF(e,t){return Lr(e.getUTCDate(),t,2)}function LOe(e,t){return Lr(e.getUTCHours(),t,2)}function IOe(e,t){return Lr(e.getUTCHours()%12||12,t,2)}function ROe(e,t){return Lr(1+hP.count(vd(e),e),t,3)}function CG(e,t){return Lr(e.getUTCMilliseconds(),t,3)}function BOe(e,t){return CG(e,t)+"000"}function UOe(e,t){return Lr(e.getUTCMonth()+1,t,2)}function WOe(e,t){return Lr(e.getUTCMinutes(),t,2)}function zOe(e,t){return Lr(e.getUTCSeconds(),t,2)}function HOe(e){var t=e.getUTCDay();return t===0?7:t}function qOe(e,t){return Lr(Zw.count(vd(e)-1,e),t,2)}function TG(e){var t=e.getUTCDay();return t>=4||t===0?th(e):th.ceil(e)}function YOe(e,t){return e=TG(e),Lr(th.count(vd(e),e)+(vd(e).getUTCDay()===4),t,2)}function VOe(e){return e.getUTCDay()}function GOe(e,t){return Lr(Vv.count(vd(e)-1,e),t,2)}function KOe(e,t){return Lr(e.getUTCFullYear()%100,t,2)}function XOe(e,t){return e=TG(e),Lr(e.getUTCFullYear()%100,t,2)}function QOe(e,t){return Lr(e.getUTCFullYear()%1e4,t,4)}function JOe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?th(e):th.ceil(e),Lr(e.getUTCFullYear()%1e4,t,4)}function ZOe(){return"+0000"}function EF(){return"%"}function PF(e){return+e}function OF(e){return Math.floor(+e/1e3)}var f0,AG,EG;e8e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function e8e(e){return f0=eOe(e),f0.format,AG=f0.parse,f0.utcFormat,EG=f0.utcParse,f0}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(this,arguments)}var h0=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],t8e={millisecond:[],second:h0.slice(0,1),minute:h0.slice(0,2),hour:h0.slice(0,3),day:h0.slice(0,4),month:h0.slice(0,5),year:h0.slice(0,6)},r8e=function(e){return function(t){return t8e[e].forEach(function(r){r(t)}),t}},PG=function(e){var t=e.format,r=t===void 0?"native":t,n=e.precision,a=n===void 0?"millisecond":n,i=e.useUTC,s=i===void 0||i,o=r8e(a);return function(l){if(l===void 0)return l;if(r==="native"||l instanceof Date)return o(l);var u=s?EG(r):AG(r);return o(u(l))}},n8e=function(e,t,r,n){var a,i,s,o,l=e.min,u=l===void 0?0:l,d=e.max,f=d===void 0?"auto":d,h=e.stacked,p=h!==void 0&&h,m=e.reverse,g=m!==void 0&&m,v=e.clamp,x=v!==void 0&&v,y=e.nice,b=y!==void 0&&y;u==="auto"?a=p===!0?(i=t.minStacked)!=null?i:0:t.min:a=u,f==="auto"?s=p===!0?(o=t.maxStacked)!=null?o:0:t.max:s=f;var N=Hv().rangeRound(n==="x"?[0,r]:[r,0]).domain(g?[s,a]:[a,s]).clamp(x);return b===!0?N.nice():typeof b=="number"&&N.nice(b),a8e(N,p)},a8e=function(e,t){t===void 0&&(t=!1);var r=e;return r.type="linear",r.stacked=t,r},i8e=function(e,t,r){var n=rp().range([0,r]).domain(t.all);return n.type="point",n},s8e=function(e,t,r,n){var a=e.round,i=a===void 0||a,s=Cp().range(n==="x"?[0,r]:[r,0]).domain(t.all).round(i);return o8e(s)},o8e=function(e){var t=e;return t.type="band",t},l8e=function(e,t,r){var n,a,i=e.format,s=i===void 0?"native":i,o=e.precision,l=o===void 0?"millisecond":o,u=e.min,d=u===void 0?"auto":u,f=e.max,h=f===void 0?"auto":f,p=e.useUTC,m=p===void 0||p,g=e.nice,v=g!==void 0&&g,x=PG({format:s,precision:l,useUTC:m});n=d==="auto"?x(t.min):s!=="native"?x(d):d,a=h==="auto"?x(t.max):s!=="native"?x(h):h;var y=m?wY():bY();y.range([0,r]),n&&a&&y.domain([n,a]),v===!0?y.nice():typeof v!="object"&&typeof v!="number"||y.nice(v);var b=y;return b.type="time",b.useUTC=m,b},c8e=function(e,t,r,n){var a,i=e.base,s=i===void 0?10:i,o=e.min,l=o===void 0?"auto":o,u=e.max,d=u===void 0?"auto":u;if(t.all.some(function(g){return g===0}))throw new Error("a log scale domain must not include or cross zero");var f,h,p=!1;if(t.all.filter(function(g){return g!=null}).forEach(function(g){p||(a===void 0?a=Math.sign(g):Math.sign(g)!==a&&(p=!0))}),p)throw new Error("a log scale domain must be strictly-positive or strictly-negative");f=l==="auto"?t.min:l,h=d==="auto"?t.max:d;var m=k6().domain([f,h]).rangeRound(n==="x"?[0,r]:[r,0]).base(s).nice();return m.type="log",m},u8e=function(e,t,r,n){var a,i,s=e.constant,o=s===void 0?1:s,l=e.min,u=l===void 0?"auto":l,d=e.max,f=d===void 0?"auto":d,h=e.reverse,p=h!==void 0&&h;a=u==="auto"?t.min:u,i=f==="auto"?t.max:f;var m=N6().constant(o).rangeRound(n==="x"?[0,r]:[r,0]).nice();p===!0?m.domain([i,a]):m.domain([a,i]);var g=m;return g.type="symlog",g},d8e=function(e){return e==="x"?"y":"x"},f8e=function(e,t){return e===t},h8e=function(e,t){return e.getTime()===t.getTime()};function $F(e,t,r,n){switch(e.type){case"linear":return n8e(e,t,r,n);case"point":return i8e(e,t,r);case"band":return s8e(e,t,r,n);case"time":return l8e(e,t,r);case"log":return c8e(e,t,r,n);case"symlog":return u8e(e,t,r,n);default:throw new Error("invalid scale spec")}}var DF=function(e,t,r){var n;if("stacked"in r&&r.stacked){var a=e.data[t==="x"?"xStacked":"yStacked"];return a==null?null:r(a)}return(n=r(e.data[t]))!=null?n:null},p8e=function(e,t,r,n,a){var i=e.map(function(d){return function(f){return of({},f,{data:f.data.map(function(h){return{data:of({},h)}})})}(d)}),s=m8e(i,t,r);"stacked"in t&&t.stacked===!0&&g8e(s,i),"stacked"in r&&r.stacked===!0&&x8e(s,i);var o=$F(t,s.x,n,"x"),l=$F(r,s.y,a,"y"),u=i.map(function(d){return of({},d,{data:d.data.map(function(f){return of({},f,{position:{x:DF(f,"x",o),y:DF(f,"y",l)}})})})});return of({},s,{series:u,xScale:o,yScale:l})},m8e=function(e,t,r){return{x:MF(e,"x",t),y:MF(e,"y",r)}},MF=function(e,t,r,n){var a={},i=a.getValue,s=i===void 0?function(m){return m.data[t]}:i,o=a.setValue,l=o===void 0?function(m,g){m.data[t]=g}:o;if(r.type==="linear")e.forEach(function(m){m.data.forEach(function(g){var v=s(g);v&&l(g,parseFloat(String(v)))})});else if(r.type==="time"&&r.format!=="native"){var u=PG(r);e.forEach(function(m){m.data.forEach(function(g){var v=s(g);v&&l(g,u(v))})})}var d=[];switch(e.forEach(function(m){m.data.forEach(function(g){d.push(s(g))})}),r.type){case"linear":var f=Ik(vF(d).filter(function(m){return m!==null}),function(m){return m});return{all:f,min:Math.min.apply(Math,f),max:Math.max.apply(Math,f)};case"time":var h=MC(d,function(m){return m.getTime()}).slice(0).sort(function(m,g){return g.getTime()-m.getTime()}).reverse();return{all:h,min:h[0],max:Ft(h)};default:var p=vF(d);return{all:p,min:p[0],max:Ft(p)}}},OG=function(e,t,r){var n=d8e(e),a=[];t[n].all.forEach(function(i){var s=ZPe(i)?h8e:f8e,o=[];r.forEach(function(l){var u=l.data.find(function(p){return s(p.data[n],i)}),d=null,f=null;if(u!==void 0){if((d=u.data[e])!==null){var h=Ft(o);h===void 0?f=d:h!==null&&(f=h+d)}u.data[e==="x"?"xStacked":"yStacked"]=f}o.push(f),f!==null&&a.push(f)})}),t[e].minStacked=Math.min.apply(Math,a),t[e].maxStacked=Math.max.apply(Math,a)},g8e=function(e,t){return OG("x",e,t)},x8e=function(e,t){return OG("y",e,t)},$G=function(e){var t=e.bandwidth();if(t===0)return e;var r=t/2;return e.round()&&(r=Math.round(r)),function(n){var a;return((a=e(n))!=null?a:0)+r}},DG={millisecond:[qv,qv],second:[FC,FC],minute:[dG,vG],hour:[fG,yG],day:[ga(function(e){return e.setHours(0,0,0,0)},function(e,t){return e.setDate(e.getDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)}),ga(function(e){return e.setUTCHours(0,0,0,0)},function(e,t){return e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)})],week:[Jw,Zw],sunday:[Jw,Zw],monday:[Yv,Vv],tuesday:[hG,bG],wednesday:[pG,wG],thursday:[eh,th],friday:[mG,_G],saturday:[gG,kG],month:[xG,SG],year:[xd,vd]},v8e=Object.keys(DG),y8e=new RegExp("^every\\s*(\\d+)?\\s*("+v8e.join("|")+")s?$","i"),MG=function(e,t){if(Array.isArray(t))return t;if(typeof t=="string"&&"useUTC"in e){var r=t.match(y8e);if(r){var n=r[1],a=r[2],i=DG[a][e.useUTC?1:0];if(a==="day"){var s,o,l=e.domain(),u=l[0],d=l[1],f=new Date(d);return f.setDate(f.getDate()+1),(s=(o=i.every(Number(n??1)))==null?void 0:o.range(u,f))!=null?s:[]}if(n===void 0)return e.ticks(i);var h=i.every(Number(n));if(h)return e.ticks(h)}throw new Error("Invalid tickValues: "+t)}if("ticks"in e){if(t===void 0)return e.ticks();if(typeof(p=t)=="number"&&isFinite(p)&&Math.floor(p)===p)return e.ticks(t)}var p;return e.domain()};function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(this,arguments)}var FG=function(e){var t,r=e.axis,n=e.scale,a=e.ticksPosition,i=e.tickValues,s=e.tickSize,o=e.tickPadding,l=e.tickRotation,u=e.truncateTickAt,d=e.engine,f=d===void 0?"svg":d,h=MG(n,i),p=nAe[f],m="bandwidth"in n?$G(n):n,g={lineX:0,lineY:0},v={textX:0,textY:0},x=typeof document=="object"&&document.dir==="rtl",y=p.align.center,b=p.baseline.center;return r==="x"?(t=function(N){var _;return{x:(_=m(N))!=null?_:0,y:0}},g.lineY=s*(a==="after"?1:-1),v.textY=(s+o)*(a==="after"?1:-1),b=a==="after"?p.baseline.top:p.baseline.bottom,l===0?y=p.align.center:a==="after"&&l<0||a==="before"&&l>0?(y=p.align[x?"left":"right"],b=p.baseline.center):(a==="after"&&l>0||a==="before"&&l<0)&&(y=p.align[x?"right":"left"],b=p.baseline.center)):(t=function(N){var _;return{x:0,y:(_=m(N))!=null?_:0}},g.lineX=s*(a==="after"?1:-1),v.textX=(s+o)*(a==="after"?1:-1),y=a==="after"?p.align.left:p.align.right),{ticks:h.map(function(N){var _=typeof N=="string"?function(C){var k=String(C).length;return u&&u>0&&k>u?""+String(C).slice(0,u).concat("..."):""+C}(N):N;return uo({key:N instanceof Date?""+N.valueOf():""+N,value:_},t(N),g,v)}),textAlign:y,textBaseline:b}},LG=function(e,t){if(e===void 0||typeof e=="function")return e;if(t.type==="time"){var r=tG(e);return function(n){return r(n instanceof Date?n:new Date(n))}}return nG(e)},LC=function(e){var t,r=e.width,n=e.height,a=e.scale,i=e.axis,s=e.values,o=(t=s,(Array.isArray(t)?s:void 0)||MG(a,s)),l="bandwidth"in a?$G(a):a,u=i==="x"?o.map(function(d){var f,h;return{key:d instanceof Date?""+d.valueOf():""+d,x1:(f=l(d))!=null?f:0,x2:(h=l(d))!=null?h:0,y1:0,y2:n}}):o.map(function(d){var f,h;return{key:d instanceof Date?""+d.valueOf():""+d,x1:0,x2:r,y1:(f=l(d))!=null?f:0,y2:(h=l(d))!=null?h:0}});return u},b8e=L.memo(function(e){var t,r=e.value,n=e.format,a=e.lineX,i=e.lineY,s=e.onClick,o=e.textBaseline,l=e.textAnchor,u=e.animatedProps,d=aa(),f=d.axis.ticks.line,h=d.axis.ticks.text,p=(t=n==null?void 0:n(r))!=null?t:r,m=L.useMemo(function(){var g={opacity:u.opacity};return s?{style:uo({},g,{cursor:"pointer"}),onClick:function(v){return s(v,p)}}:{style:g}},[u.opacity,s,p]);return c.jsxs(Za.g,uo({transform:u.transform},m,{children:[c.jsx("line",{x1:0,x2:a,y1:0,y2:i,style:f}),h.outlineWidth>0&&c.jsx(Za.text,{dominantBaseline:o,textAnchor:l,transform:u.textTransform,style:h,strokeWidth:2*h.outlineWidth,stroke:h.outlineColor,strokeLinejoin:"round",children:""+p}),c.jsx(Za.text,{dominantBaseline:o,textAnchor:l,transform:u.textTransform,style:rP(h),children:""+p})]}))}),w8e=function(e){var t=e.axis,r=e.scale,n=e.x,a=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.length,l=e.ticksPosition,u=e.tickValues,d=e.tickSize,f=d===void 0?5:d,h=e.tickPadding,p=h===void 0?5:h,m=e.tickRotation,g=m===void 0?0:m,v=e.format,x=e.renderTick,y=x===void 0?b8e:x,b=e.truncateTickAt,N=e.legend,_=e.legendPosition,C=_===void 0?"end":_,k=e.legendOffset,w=k===void 0?0:k,S=e.onClick,P=e.ariaHidden,A=aa(),T=A.axis.legend.text,F=L.useMemo(function(){return LG(v,r)},[v,r]),M=FG({axis:t,scale:r,ticksPosition:l,tickValues:u,tickSize:f,tickPadding:p,tickRotation:g,truncateTickAt:b}),H=M.ticks,z=M.textAlign,Y=M.textBaseline,G=null;if(N!==void 0){var I,X=0,J=0,E=0;t==="y"?(E=-90,X=w,C==="start"?(I="start",J=o):C==="middle"?(I="middle",J=o/2):C==="end"&&(I="end")):(J=w,C==="start"?I="start":C==="middle"?(I="middle",X=o/2):C==="end"&&(I="end",X=o)),G=c.jsxs(c.Fragment,{children:[T.outlineWidth>0&&c.jsx("text",{transform:"translate("+X+", "+J+") rotate("+E+")",textAnchor:I,style:uo({dominantBaseline:"central"},T),strokeWidth:2*T.outlineWidth,stroke:T.outlineColor,strokeLinejoin:"round",children:N}),c.jsx("text",{transform:"translate("+X+", "+J+") rotate("+E+")",textAnchor:I,style:uo({dominantBaseline:"central"},T),children:N})]})}var R=ql(),B=R.animate,q=R.config,K=wm({transform:"translate("+a+","+s+")",lineX2:t==="x"?o:0,lineY2:t==="x"?0:o,config:q,immediate:!B}),ae=L.useCallback(function(Z){return{opacity:1,transform:"translate("+Z.x+","+Z.y+")",textTransform:"translate("+Z.textX+","+Z.textY+") rotate("+g+")"}},[g]),ee=L.useCallback(function(Z){return{opacity:0,transform:"translate("+Z.x+","+Z.y+")",textTransform:"translate("+Z.textX+","+Z.textY+") rotate("+g+")"}},[g]),W=Ky(H,{keys:function(Z){return Z.key},initial:ae,from:ee,enter:ae,update:ae,leave:{opacity:0},config:q,immediate:!B});return c.jsxs(Za.g,{transform:K.transform,"aria-hidden":P,children:[W(function(Z,re,O,de){return L.createElement(y,uo({tickIndex:de,format:F,rotate:g,textBaseline:Y,textAnchor:z,truncateTickAt:b,animatedProps:Z},re,S?{onClick:S}:{}))}),c.jsx(Za.line,{style:A.axis.domain.line,x1:0,x2:K.lineX2,y1:0,y2:K.lineY2}),G]})},_8e=L.memo(w8e),IG=["top","right","bottom","left"],k8e=L.memo(function(e){var t=e.xScale,r=e.yScale,n=e.width,a=e.height,i={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return c.jsx(c.Fragment,{children:IG.map(function(s){var o=i[s];if(!o)return null;var l=s==="top"||s==="bottom";return c.jsx(_8e,uo({},o,{axis:l?"x":"y",x:s==="right"?n:0,y:s==="bottom"?a:0,scale:l?t:r,length:l?n:a,ticksPosition:s==="top"||s==="left"?"before":"after",truncateTickAt:o.truncateTickAt}),s)})})}),S8e=L.memo(function(e){var t=e.animatedProps,r=aa();return c.jsx(Za.line,uo({},t,r.grid.line))}),FF=L.memo(function(e){var t=e.lines,r=ql(),n=r.animate,a=r.config,i=Ky(t,{keys:function(s){return s.key},initial:function(s){return{opacity:1,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2}},from:function(s){return{opacity:0,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2}},enter:function(s){return{opacity:1,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2}},update:function(s){return{opacity:1,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2}},leave:{opacity:0},config:a,immediate:!n});return c.jsx("g",{children:i(function(s,o){return L.createElement(S8e,uo({},o,{key:o.key,animatedProps:s}))})})}),N8e=L.memo(function(e){var t=e.width,r=e.height,n=e.xScale,a=e.yScale,i=e.xValues,s=e.yValues,o=L.useMemo(function(){return!!n&&LC({width:t,height:r,scale:n,axis:"x",values:i})},[n,i,t,r]),l=L.useMemo(function(){return!!a&&LC({width:t,height:r,scale:a,axis:"y",values:s})},[r,t,a,s]);return c.jsxs(c.Fragment,{children:[o&&c.jsx(FF,{lines:o}),l&&c.jsx(FF,{lines:l})]})}),j8e=function(e,t){var r,n=t.axis,a=t.scale,i=t.x,s=i===void 0?0:i,o=t.y,l=o===void 0?0:o,u=t.length,d=t.ticksPosition,f=t.tickValues,h=t.tickSize,p=h===void 0?5:h,m=t.tickPadding,g=m===void 0?5:m,v=t.tickRotation,x=v===void 0?0:v,y=t.format,b=t.legend,N=t.legendPosition,_=N===void 0?"end":N,C=t.legendOffset,k=C===void 0?0:C,w=t.theme,S=FG({axis:n,scale:a,ticksPosition:d,tickValues:f,tickSize:p,tickPadding:g,tickRotation:x,engine:"canvas"}),P=S.ticks,A=S.textAlign,T=S.textBaseline;e.save(),e.translate(s,l),e.textAlign=A,e.textBaseline=T;var F=w.axis.ticks.text;e.font=(F.fontWeight?F.fontWeight+" ":"")+F.fontSize+"px "+F.fontFamily,((r=w.axis.domain.line.strokeWidth)!=null?r:0)>0&&(e.lineWidth=Number(w.axis.domain.line.strokeWidth),e.lineCap="square",w.axis.domain.line.stroke&&(e.strokeStyle=w.axis.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo(n==="x"?u:0,n==="x"?0:u),e.stroke());var M=typeof y=="function"?y:function(I){return""+I};if(P.forEach(function(I){var X;((X=w.axis.ticks.line.strokeWidth)!=null?X:0)>0&&(e.lineWidth=Number(w.axis.ticks.line.strokeWidth),e.lineCap="square",w.axis.ticks.line.stroke&&(e.strokeStyle=w.axis.ticks.line.stroke),e.beginPath(),e.moveTo(I.x,I.y),e.lineTo(I.x+I.lineX,I.y+I.lineY),e.stroke());var J=M(I.value);e.save(),e.translate(I.x+I.textX,I.y+I.textY),e.rotate(Vo(x)),F.outlineWidth>0&&(e.strokeStyle=F.outlineColor,e.lineWidth=2*F.outlineWidth,e.lineJoin="round",e.strokeText(""+J,0,0)),w.axis.ticks.text.fill&&(e.fillStyle=F.fill),e.fillText(""+J,0,0),e.restore()}),b!==void 0){var H=0,z=0,Y=0,G="center";n==="y"?(Y=-90,H=k,_==="start"?(G="start",z=u):_==="middle"?(G="center",z=u/2):_==="end"&&(G="end")):(z=k,_==="start"?G="start":_==="middle"?(G="center",H=u/2):_==="end"&&(G="end",H=u)),e.translate(H,z),e.rotate(Vo(Y)),e.font=(w.axis.legend.text.fontWeight?w.axis.legend.text.fontWeight+" ":"")+w.axis.legend.text.fontSize+"px "+w.axis.legend.text.fontFamily,w.axis.legend.text.fill&&(e.fillStyle=w.axis.legend.text.fill),e.textAlign=G,e.textBaseline="middle",e.fillText(b,0,0)}e.restore()},C8e=function(e,t){var r=t.xScale,n=t.yScale,a=t.width,i=t.height,s=t.top,o=t.right,l=t.bottom,u=t.left,d=t.theme,f={top:s,right:o,bottom:l,left:u};IG.forEach(function(h){var p=f[h];if(!p)return null;var m=h==="top"||h==="bottom",g=h==="top"||h==="left"?"before":"after",v=m?r:n,x=LG(p.format,v);j8e(e,uo({},p,{axis:m?"x":"y",x:h==="right"?a:0,y:h==="bottom"?i:0,scale:v,format:x,length:m?a:i,ticksPosition:g,theme:d}))})},LF=function(e,t){var r=t.width,n=t.height,a=t.scale,i=t.axis,s=t.values;LC({width:r,height:n,scale:a,axis:i,values:s}).forEach(function(o){e.beginPath(),e.moveTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.stroke()})},T8e=function(e){var t=e.x,r=e.y,n=e.size,a=e.fill,i=e.opacity,s=i===void 0?1:i,o=e.borderWidth,l=o===void 0?0:o,u=e.borderColor;return c.jsx("circle",{r:n/2,cx:t+n/2,cy:r+n/2,fill:a,opacity:s,strokeWidth:l,stroke:u===void 0?"transparent":u,style:{pointerEvents:"none"}})},A8e=function(e){var t=e.x,r=e.y,n=e.size,a=e.fill,i=e.opacity,s=i===void 0?1:i,o=e.borderWidth,l=o===void 0?0:o,u=e.borderColor;return c.jsx("g",{transform:"translate("+t+","+r+")",children:c.jsx("path",{d:`
                    M`+n/2+` 0
                    L`+.8*n+" "+n/2+`
                    L`+n/2+" "+n+`
                    L`+.2*n+" "+n/2+`
                    L`+n/2+` 0
                `,fill:a,opacity:s,strokeWidth:l,stroke:u===void 0?"transparent":u,style:{pointerEvents:"none"}})})},E8e=function(e){var t=e.x,r=e.y,n=e.size,a=e.fill,i=e.opacity,s=i===void 0?1:i,o=e.borderWidth,l=o===void 0?0:o,u=e.borderColor;return c.jsx("rect",{x:t,y:r,fill:a,opacity:s,strokeWidth:l,stroke:u===void 0?"transparent":u,width:n,height:n,style:{pointerEvents:"none"}})},P8e=function(e){var t=e.x,r=e.y,n=e.size,a=e.fill,i=e.opacity,s=i===void 0?1:i,o=e.borderWidth,l=o===void 0?0:o,u=e.borderColor;return c.jsx("g",{transform:"translate("+t+","+r+")",children:c.jsx("path",{d:`
                M`+n/2+` 0
                L`+n+" "+n+`
                L0 `+n+`
                L`+n/2+` 0
            `,fill:a,opacity:s,strokeWidth:l,stroke:u===void 0?"transparent":u,style:{pointerEvents:"none"}})})};function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(this,arguments)}var O8e={top:0,right:0,bottom:0,left:0},pP=function(e){var t,r=e.direction,n=e.itemsSpacing,a=e.padding,i=e.itemCount,s=e.itemWidth,o=e.itemHeight;if(typeof a!="number"&&(typeof(t=a)!="object"||Array.isArray(t)||t===null))throw new Error("Invalid property padding, must be one of: number, object");var l=typeof a=="number"?{top:a,right:a,bottom:a,left:a}:vf({},O8e,a),u=l.left+l.right,d=l.top+l.bottom,f=s+u,h=o+d,p=(i-1)*n;return r==="row"?f=s*i+p+u:r==="column"&&(h=o*i+p+d),{width:f,height:h,padding:l}},RG=function(e){var t=e.anchor,r=e.translateX,n=e.translateY,a=e.containerWidth,i=e.containerHeight,s=e.width,o=e.height,l=r,u=n;switch(t){case"top":l+=(a-s)/2;break;case"top-right":l+=a-s;break;case"right":l+=a-s,u+=(i-o)/2;break;case"bottom-right":l+=a-s,u+=i-o;break;case"bottom":l+=(a-s)/2,u+=i-o;break;case"bottom-left":u+=i-o;break;case"left":u+=(i-o)/2;break;case"center":l+=(a-s)/2,u+=(i-o)/2}return{x:l,y:u}},BG=function(e){var t,r,n,a,i,s,o=e.direction,l=e.justify,u=e.symbolSize,d=e.symbolSpacing,f=e.width,h=e.height;switch(o){case"left-to-right":t=0,r=(h-u)/2,a=h/2,s="central",l?(n=f,i="end"):(n=u+d,i="start");break;case"right-to-left":t=f-u,r=(h-u)/2,a=h/2,s="central",l?(n=0,i="start"):(n=f-u-d,i="end");break;case"top-to-bottom":t=(f-u)/2,r=0,n=f/2,i="middle",l?(a=h,s="alphabetic"):(a=u+d,s="text-before-edge");break;case"bottom-to-top":t=(f-u)/2,r=h-u,n=f/2,i="middle",l?(a=0,s="text-before-edge"):(a=h-u-d,s="alphabetic")}return{symbolX:t,symbolY:r,labelX:n,labelY:a,labelAnchor:i,labelAlignment:s}},$8e={circle:T8e,diamond:A8e,square:E8e,triangle:P8e},D8e=function(e){var t,r,n,a,i,s,o,l,u,d,f,h=e.x,p=e.y,m=e.width,g=e.height,v=e.data,x=e.direction,y=x===void 0?"left-to-right":x,b=e.justify,N=b!==void 0&&b,_=e.textColor,C=e.background,k=C===void 0?"transparent":C,w=e.opacity,S=w===void 0?1:w,P=e.symbolShape,A=P===void 0?"square":P,T=e.symbolSize,F=T===void 0?16:T,M=e.symbolSpacing,H=M===void 0?8:M,z=e.symbolBorderWidth,Y=z===void 0?0:z,G=e.symbolBorderColor,I=G===void 0?"transparent":G,X=e.onClick,J=e.onMouseEnter,E=e.onMouseLeave,R=e.toggleSerie,B=e.effects,q=L.useState({}),K=q[0],ae=q[1],ee=aa(),W=L.useCallback(function(De){if(B){var Oe=B.filter(function(Fe){return Fe.on==="hover"}).reduce(function(Fe,ve){return vf({},Fe,ve.style)},{});ae(Oe)}J==null||J(v,De)},[J,v,B]),Z=L.useCallback(function(De){if(B){var Oe=B.filter(function(Fe){return Fe.on!=="hover"}).reduce(function(Fe,ve){return vf({},Fe,ve.style)},{});ae(Oe)}E==null||E(v,De)},[E,v,B]),re=BG({direction:y,justify:N,symbolSize:(t=K.symbolSize)!=null?t:F,symbolSpacing:H,width:m,height:g}),O=re.symbolX,de=re.symbolY,ce=re.labelX,pe=re.labelY,Q=re.labelAnchor,ne=re.labelAlignment,Ae=[X,J,E,R].some(function(De){return De!==void 0}),Ee=typeof A=="function"?A:$8e[A];return c.jsxs("g",{transform:"translate("+h+","+p+")",style:{opacity:(r=K.itemOpacity)!=null?r:S},children:[c.jsx("rect",{width:m,height:g,fill:(n=K.itemBackground)!=null?n:k,style:{cursor:Ae?"pointer":"auto"},onClick:function(De){X==null||X(v,De),R==null||R(v.id)},onMouseEnter:W,onMouseLeave:Z}),L.createElement(Ee,vf({id:v.id,x:O,y:de,size:(a=K.symbolSize)!=null?a:F,fill:(i=(s=v.fill)!=null?s:v.color)!=null?i:"black",borderWidth:(o=K.symbolBorderWidth)!=null?o:Y,borderColor:(l=K.symbolBorderColor)!=null?l:I},v.hidden?ee.legends.hidden.symbol:void 0)),c.jsx("text",{textAnchor:Q,style:vf({},rP(ee.legends.text),{fill:(u=(d=(f=K.itemTextColor)!=null?f:_)!=null?d:ee.legends.text.fill)!=null?u:"black",dominantBaseline:ne,pointerEvents:"none",userSelect:"none"},v.hidden?ee.legends.hidden.text:void 0),x:ce,y:pe,children:v.label})]})},M8e=function(e){var t=e.data,r=e.x,n=e.y,a=e.direction,i=e.padding,s=i===void 0?0:i,o=e.justify,l=e.effects,u=e.itemWidth,d=e.itemHeight,f=e.itemDirection,h=f===void 0?"left-to-right":f,p=e.itemsSpacing,m=p===void 0?0:p,g=e.itemTextColor,v=e.itemBackground,x=v===void 0?"transparent":v,y=e.itemOpacity,b=y===void 0?1:y,N=e.symbolShape,_=e.symbolSize,C=e.symbolSpacing,k=e.symbolBorderWidth,w=e.symbolBorderColor,S=e.onClick,P=e.onMouseEnter,A=e.onMouseLeave,T=e.toggleSerie,F=pP({itemCount:t.length,itemWidth:u,itemHeight:d,itemsSpacing:m,direction:a,padding:s}).padding,M=a==="row"?u+m:0,H=a==="column"?d+m:0;return c.jsx("g",{transform:"translate("+r+","+n+")",children:t.map(function(z,Y){return c.jsx(D8e,{data:z,x:Y*M+F.left,y:Y*H+F.top,width:u,height:d,direction:h,justify:o,effects:l,textColor:g,background:x,opacity:b,symbolShape:N,symbolSize:_,symbolSpacing:C,symbolBorderWidth:k,symbolBorderColor:w,onClick:S,onMouseEnter:P,onMouseLeave:A,toggleSerie:T},Y)})})},UG=function(e){var t=e.data,r=e.containerWidth,n=e.containerHeight,a=e.translateX,i=a===void 0?0:a,s=e.translateY,o=s===void 0?0:s,l=e.anchor,u=e.direction,d=e.padding,f=d===void 0?0:d,h=e.justify,p=e.itemsSpacing,m=p===void 0?0:p,g=e.itemWidth,v=e.itemHeight,x=e.itemDirection,y=e.itemTextColor,b=e.itemBackground,N=e.itemOpacity,_=e.symbolShape,C=e.symbolSize,k=e.symbolSpacing,w=e.symbolBorderWidth,S=e.symbolBorderColor,P=e.onClick,A=e.onMouseEnter,T=e.onMouseLeave,F=e.toggleSerie,M=e.effects,H=pP({itemCount:t.length,itemsSpacing:m,itemWidth:g,itemHeight:v,direction:u,padding:f}),z=H.width,Y=H.height,G=RG({anchor:l,translateX:i,translateY:o,containerWidth:r,containerHeight:n,width:z,height:Y}),I=G.x,X=G.y;return c.jsx(M8e,{data:t,x:I,y:X,direction:u,padding:f,justify:h,effects:M,itemsSpacing:m,itemWidth:g,itemHeight:v,itemDirection:x,itemTextColor:y,itemBackground:b,itemOpacity:N,symbolShape:_,symbolSize:C,symbolSpacing:k,symbolBorderWidth:w,symbolBorderColor:S,onClick:P,onMouseEnter:A,onMouseLeave:T,toggleSerie:typeof F=="boolean"?void 0:F})},F8e={start:"left",middle:"center",end:"right"},L8e=function(e,t){var r=t.data,n=t.containerWidth,a=t.containerHeight,i=t.translateX,s=i===void 0?0:i,o=t.translateY,l=o===void 0?0:o,u=t.anchor,d=t.direction,f=t.padding,h=f===void 0?0:f,p=t.justify,m=p!==void 0&&p,g=t.itemsSpacing,v=g===void 0?0:g,x=t.itemWidth,y=t.itemHeight,b=t.itemDirection,N=b===void 0?"left-to-right":b,_=t.itemTextColor,C=t.symbolSize,k=C===void 0?16:C,w=t.symbolSpacing,S=w===void 0?8:w,P=t.theme,A=pP({itemCount:r.length,itemWidth:x,itemHeight:y,itemsSpacing:v,direction:d,padding:h}),T=A.width,F=A.height,M=A.padding,H=RG({anchor:u,translateX:s,translateY:l,containerWidth:n,containerHeight:a,width:T,height:F}),z=H.x,Y=H.y,G=d==="row"?x+v:0,I=d==="column"?y+v:0;e.save(),e.translate(z,Y),e.font=P.legends.text.fontSize+"px "+(P.legends.text.fontFamily||"sans-serif"),r.forEach(function(X,J){var E,R,B=J*G+M.left,q=J*I+M.top,K=BG({direction:N,justify:m,symbolSize:k,symbolSpacing:S,width:x,height:y}),ae=K.symbolX,ee=K.symbolY,W=K.labelX,Z=K.labelY,re=K.labelAnchor,O=K.labelAlignment;e.fillStyle=(E=X.color)!=null?E:"black",e.fillRect(B+ae,q+ee,k,k),e.textAlign=F8e[re],O==="central"&&(e.textBaseline="middle"),e.fillStyle=(R=_??P.legends.text.fill)!=null?R:"black",e.fillText(String(X.label),B+W,q+Z)}),e.restore()},I8e=f6,R8e=0;function B8e(e){var t=++R8e;return I8e(e)+t}var U8e=B8e;const W8e=hr(U8e),_c=11102230246251565e-32,pi=134217729,z8e=(3+8*_c)*_c;function H3(e,t,r,n,a){let i,s,o,l,u=t[0],d=n[0],f=0,h=0;d>u==d>-u?(i=u,u=t[++f]):(i=d,d=n[++h]);let p=0;if(f<e&&h<r)for(d>u==d>-u?(s=u+i,o=i-(s-u),u=t[++f]):(s=d+i,o=i-(s-d),d=n[++h]),i=s,o!==0&&(a[p++]=o);f<e&&h<r;)d>u==d>-u?(s=i+u,l=s-i,o=i-(s-l)+(u-l),u=t[++f]):(s=i+d,l=s-i,o=i-(s-l)+(d-l),d=n[++h]),i=s,o!==0&&(a[p++]=o);for(;f<e;)s=i+u,l=s-i,o=i-(s-l)+(u-l),u=t[++f],i=s,o!==0&&(a[p++]=o);for(;h<r;)s=i+d,l=s-i,o=i-(s-l)+(d-l),d=n[++h],i=s,o!==0&&(a[p++]=o);return(i!==0||p===0)&&(a[p++]=i),p}function H8e(e,t){let r=t[0];for(let n=1;n<e;n++)r+=t[n];return r}function i1(e){return new Float64Array(e)}const q8e=(3+16*_c)*_c,Y8e=(2+12*_c)*_c,V8e=(9+64*_c)*_c*_c,p0=i1(4),IF=i1(8),RF=i1(12),BF=i1(16),Ei=i1(4);function G8e(e,t,r,n,a,i,s){let o,l,u,d,f,h,p,m,g,v,x,y,b,N,_,C,k,w;const S=e-a,P=r-a,A=t-i,T=n-i;N=S*T,h=pi*S,p=h-(h-S),m=S-p,h=pi*T,g=h-(h-T),v=T-g,_=m*v-(N-p*g-m*g-p*v),C=A*P,h=pi*A,p=h-(h-A),m=A-p,h=pi*P,g=h-(h-P),v=P-g,k=m*v-(C-p*g-m*g-p*v),x=_-k,f=_-x,p0[0]=_-(x+f)+(f-k),y=N+x,f=y-N,b=N-(y-f)+(x-f),x=b-C,f=b-x,p0[1]=b-(x+f)+(f-C),w=y+x,f=w-y,p0[2]=y-(w-f)+(x-f),p0[3]=w;let F=H8e(4,p0),M=Y8e*s;if(F>=M||-F>=M||(f=e-S,o=e-(S+f)+(f-a),f=r-P,u=r-(P+f)+(f-a),f=t-A,l=t-(A+f)+(f-i),f=n-T,d=n-(T+f)+(f-i),o===0&&l===0&&u===0&&d===0)||(M=V8e*s+z8e*Math.abs(F),F+=S*d+T*o-(A*u+P*l),F>=M||-F>=M))return F;N=o*T,h=pi*o,p=h-(h-o),m=o-p,h=pi*T,g=h-(h-T),v=T-g,_=m*v-(N-p*g-m*g-p*v),C=l*P,h=pi*l,p=h-(h-l),m=l-p,h=pi*P,g=h-(h-P),v=P-g,k=m*v-(C-p*g-m*g-p*v),x=_-k,f=_-x,Ei[0]=_-(x+f)+(f-k),y=N+x,f=y-N,b=N-(y-f)+(x-f),x=b-C,f=b-x,Ei[1]=b-(x+f)+(f-C),w=y+x,f=w-y,Ei[2]=y-(w-f)+(x-f),Ei[3]=w;const H=H3(4,p0,4,Ei,IF);N=S*d,h=pi*S,p=h-(h-S),m=S-p,h=pi*d,g=h-(h-d),v=d-g,_=m*v-(N-p*g-m*g-p*v),C=A*u,h=pi*A,p=h-(h-A),m=A-p,h=pi*u,g=h-(h-u),v=u-g,k=m*v-(C-p*g-m*g-p*v),x=_-k,f=_-x,Ei[0]=_-(x+f)+(f-k),y=N+x,f=y-N,b=N-(y-f)+(x-f),x=b-C,f=b-x,Ei[1]=b-(x+f)+(f-C),w=y+x,f=w-y,Ei[2]=y-(w-f)+(x-f),Ei[3]=w;const z=H3(H,IF,4,Ei,RF);N=o*d,h=pi*o,p=h-(h-o),m=o-p,h=pi*d,g=h-(h-d),v=d-g,_=m*v-(N-p*g-m*g-p*v),C=l*u,h=pi*l,p=h-(h-l),m=l-p,h=pi*u,g=h-(h-u),v=u-g,k=m*v-(C-p*g-m*g-p*v),x=_-k,f=_-x,Ei[0]=_-(x+f)+(f-k),y=N+x,f=y-N,b=N-(y-f)+(x-f),x=b-C,f=b-x,Ei[1]=b-(x+f)+(f-C),w=y+x,f=w-y,Ei[2]=y-(w-f)+(x-f),Ei[3]=w;const Y=H3(z,RF,4,Ei,BF);return BF[Y-1]}function Wb(e,t,r,n,a,i){const s=(t-i)*(r-a),o=(e-a)*(n-i),l=s-o,u=Math.abs(s+o);return Math.abs(l)>=q8e*u?l:-G8e(e,t,r,n,a,i,u)}const UF=Math.pow(2,-52),zb=new Uint32Array(512);class e_{static from(t,r=Z8e,n=e$e){const a=t.length,i=new Float64Array(a*2);for(let s=0;s<a;s++){const o=t[s];i[2*s]=r(o),i[2*s+1]=n(o)}return new e_(i)}constructor(t){const r=t.length>>1;if(r>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*r-5,0);this._triangles=new Uint32Array(n*3),this._halfedges=new Int32Array(n*3),this._hashSize=Math.ceil(Math.sqrt(r)),this._hullPrev=new Uint32Array(r),this._hullNext=new Uint32Array(r),this._hullTri=new Uint32Array(r),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(r),this._dists=new Float64Array(r),this.update()}update(){const{coords:t,_hullPrev:r,_hullNext:n,_hullTri:a,_hullHash:i}=this,s=t.length>>1;let o=1/0,l=1/0,u=-1/0,d=-1/0;for(let S=0;S<s;S++){const P=t[2*S],A=t[2*S+1];P<o&&(o=P),A<l&&(l=A),P>u&&(u=P),A>d&&(d=A),this._ids[S]=S}const f=(o+u)/2,h=(l+d)/2;let p,m,g;for(let S=0,P=1/0;S<s;S++){const A=q3(f,h,t[2*S],t[2*S+1]);A<P&&(p=S,P=A)}const v=t[2*p],x=t[2*p+1];for(let S=0,P=1/0;S<s;S++){if(S===p)continue;const A=q3(v,x,t[2*S],t[2*S+1]);A<P&&A>0&&(m=S,P=A)}let y=t[2*m],b=t[2*m+1],N=1/0;for(let S=0;S<s;S++){if(S===p||S===m)continue;const P=Q8e(v,x,y,b,t[2*S],t[2*S+1]);P<N&&(g=S,N=P)}let _=t[2*g],C=t[2*g+1];if(N===1/0){for(let A=0;A<s;A++)this._dists[A]=t[2*A]-t[0]||t[2*A+1]-t[1];L0(this._ids,this._dists,0,s-1);const S=new Uint32Array(s);let P=0;for(let A=0,T=-1/0;A<s;A++){const F=this._ids[A],M=this._dists[F];M>T&&(S[P++]=F,T=M)}this.hull=S.subarray(0,P),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Wb(v,x,y,b,_,C)<0){const S=m,P=y,A=b;m=g,y=_,b=C,g=S,_=P,C=A}const k=J8e(v,x,y,b,_,C);this._cx=k.x,this._cy=k.y;for(let S=0;S<s;S++)this._dists[S]=q3(t[2*S],t[2*S+1],k.x,k.y);L0(this._ids,this._dists,0,s-1),this._hullStart=p;let w=3;n[p]=r[g]=m,n[m]=r[p]=g,n[g]=r[m]=p,a[p]=0,a[m]=1,a[g]=2,i.fill(-1),i[this._hashKey(v,x)]=p,i[this._hashKey(y,b)]=m,i[this._hashKey(_,C)]=g,this.trianglesLen=0,this._addTriangle(p,m,g,-1,-1,-1);for(let S=0,P,A;S<this._ids.length;S++){const T=this._ids[S],F=t[2*T],M=t[2*T+1];if(S>0&&Math.abs(F-P)<=UF&&Math.abs(M-A)<=UF||(P=F,A=M,T===p||T===m||T===g))continue;let H=0;for(let X=0,J=this._hashKey(F,M);X<this._hashSize&&(H=i[(J+X)%this._hashSize],!(H!==-1&&H!==n[H]));X++);H=r[H];let z=H,Y;for(;Y=n[z],Wb(F,M,t[2*z],t[2*z+1],t[2*Y],t[2*Y+1])>=0;)if(z=Y,z===H){z=-1;break}if(z===-1)continue;let G=this._addTriangle(z,T,n[z],-1,-1,a[z]);a[T]=this._legalize(G+2),a[z]=G,w++;let I=n[z];for(;Y=n[I],Wb(F,M,t[2*I],t[2*I+1],t[2*Y],t[2*Y+1])<0;)G=this._addTriangle(I,T,Y,a[T],-1,a[I]),a[T]=this._legalize(G+2),n[I]=I,w--,I=Y;if(z===H)for(;Y=r[z],Wb(F,M,t[2*Y],t[2*Y+1],t[2*z],t[2*z+1])<0;)G=this._addTriangle(Y,T,z,-1,a[z],a[Y]),this._legalize(G+2),a[Y]=G,n[z]=z,w--,z=Y;this._hullStart=r[T]=z,n[z]=r[I]=T,n[T]=I,i[this._hashKey(F,M)]=T,i[this._hashKey(t[2*z],t[2*z+1])]=z}this.hull=new Uint32Array(w);for(let S=0,P=this._hullStart;S<w;S++)this.hull[S]=P,P=n[P];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,r){return Math.floor(K8e(t-this._cx,r-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:r,_halfedges:n,coords:a}=this;let i=0,s=0;for(;;){const o=n[t],l=t-t%3;if(s=l+(t+2)%3,o===-1){if(i===0)break;t=zb[--i];continue}const u=o-o%3,d=l+(t+1)%3,f=u+(o+2)%3,h=r[s],p=r[t],m=r[d],g=r[f];if(X8e(a[2*h],a[2*h+1],a[2*p],a[2*p+1],a[2*m],a[2*m+1],a[2*g],a[2*g+1])){r[t]=g,r[o]=h;const x=n[f];if(x===-1){let b=this._hullStart;do{if(this._hullTri[b]===f){this._hullTri[b]=t;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(t,x),this._link(o,n[s]),this._link(s,f);const y=u+(o+1)%3;i<zb.length&&(zb[i++]=y)}else{if(i===0)break;t=zb[--i]}}return s}_link(t,r){this._halfedges[t]=r,r!==-1&&(this._halfedges[r]=t)}_addTriangle(t,r,n,a,i,s){const o=this.trianglesLen;return this._triangles[o]=t,this._triangles[o+1]=r,this._triangles[o+2]=n,this._link(o,a),this._link(o+1,i),this._link(o+2,s),this.trianglesLen+=3,o}}function K8e(e,t){const r=e/(Math.abs(e)+Math.abs(t));return(t>0?3-r:1+r)/4}function q3(e,t,r,n){const a=e-r,i=t-n;return a*a+i*i}function X8e(e,t,r,n,a,i,s,o){const l=e-s,u=t-o,d=r-s,f=n-o,h=a-s,p=i-o,m=l*l+u*u,g=d*d+f*f,v=h*h+p*p;return l*(f*v-g*p)-u*(d*v-g*h)+m*(d*p-f*h)<0}function Q8e(e,t,r,n,a,i){const s=r-e,o=n-t,l=a-e,u=i-t,d=s*s+o*o,f=l*l+u*u,h=.5/(s*u-o*l),p=(u*d-o*f)*h,m=(s*f-l*d)*h;return p*p+m*m}function J8e(e,t,r,n,a,i){const s=r-e,o=n-t,l=a-e,u=i-t,d=s*s+o*o,f=l*l+u*u,h=.5/(s*u-o*l),p=e+(u*d-o*f)*h,m=t+(s*f-l*d)*h;return{x:p,y:m}}function L0(e,t,r,n){if(n-r<=20)for(let a=r+1;a<=n;a++){const i=e[a],s=t[i];let o=a-1;for(;o>=r&&t[e[o]]>s;)e[o+1]=e[o--];e[o+1]=i}else{const a=r+n>>1;let i=r+1,s=n;Vg(e,a,i),t[e[r]]>t[e[n]]&&Vg(e,r,n),t[e[i]]>t[e[n]]&&Vg(e,i,n),t[e[r]]>t[e[i]]&&Vg(e,r,i);const o=e[i],l=t[o];for(;;){do i++;while(t[e[i]]<l);do s--;while(t[e[s]]>l);if(s<i)break;Vg(e,i,s)}e[r+1]=e[s],e[s]=o,n-i+1>=s-r?(L0(e,t,i,n),L0(e,t,r,s-1)):(L0(e,t,r,s-1),L0(e,t,i,n))}}function Vg(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Z8e(e){return e[0]}function e$e(e){return e[1]}const WF=1e-6;class yf{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,r){this._+=`L${this._x1=+t},${this._y1=+r}`}arc(t,r,n){t=+t,r=+r,n=+n;const a=t+n,i=r;if(n<0)throw new Error("negative radius");this._x1===null?this._+=`M${a},${i}`:(Math.abs(this._x1-a)>WF||Math.abs(this._y1-i)>WF)&&(this._+="L"+a+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${r}A${n},${n},0,1,1,${this._x1=a},${this._y1=i}`)}rect(t,r,n,a){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${+n}v${+a}h${-n}Z`}value(){return this._||null}}let IC=class{constructor(){this._=[]}moveTo(t,r){this._.push([t,r])}closePath(){this._.push(this._[0].slice())}lineTo(t,r){this._.push([t,r])}value(){return this._.length?this._:null}};class t$e{constructor(t,[r,n,a,i]=[0,0,960,500]){if(!((a=+a)>=(r=+r))||!((i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=a,this.xmin=r,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:r,triangles:n},vectors:a}=this;let i,s;const o=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let g=0,v=0,x=n.length,y,b;g<x;g+=3,v+=2){const N=n[g]*2,_=n[g+1]*2,C=n[g+2]*2,k=t[N],w=t[N+1],S=t[_],P=t[_+1],A=t[C],T=t[C+1],F=S-k,M=P-w,H=A-k,z=T-w,Y=(F*z-M*H)*2;if(Math.abs(Y)<1e-9){if(i===void 0){i=s=0;for(const I of r)i+=t[I*2],s+=t[I*2+1];i/=r.length,s/=r.length}const G=1e9*Math.sign((i-k)*z-(s-w)*H);y=(k+A)/2-G*z,b=(w+T)/2+G*H}else{const G=1/Y,I=F*F+M*M,X=H*H+z*z;y=k+(z*I-M*X)*G,b=w+(F*X-H*I)*G}o[v]=y,o[v+1]=b}let l=r[r.length-1],u,d=l*4,f,h=t[2*l],p,m=t[2*l+1];a.fill(0);for(let g=0;g<r.length;++g)l=r[g],u=d,f=h,p=m,d=l*4,h=t[2*l],m=t[2*l+1],a[u+2]=a[d]=p-m,a[u+3]=a[d+1]=h-f}render(t){const r=t==null?t=new yf:void 0,{delaunay:{halfedges:n,inedges:a,hull:i},circumcenters:s,vectors:o}=this;if(i.length<=1)return null;for(let d=0,f=n.length;d<f;++d){const h=n[d];if(h<d)continue;const p=Math.floor(d/3)*2,m=Math.floor(h/3)*2,g=s[p],v=s[p+1],x=s[m],y=s[m+1];this._renderSegment(g,v,x,y,t)}let l,u=i[i.length-1];for(let d=0;d<i.length;++d){l=u,u=i[d];const f=Math.floor(a[u]/3)*2,h=s[f],p=s[f+1],m=l*4,g=this._project(h,p,o[m+2],o[m+3]);g&&this._renderSegment(h,p,g[0],g[1],t)}return r&&r.value()}renderBounds(t){const r=t==null?t=new yf:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),r&&r.value()}renderCell(t,r){const n=r==null?r=new yf:void 0,a=this._clip(t);if(a===null||!a.length)return;r.moveTo(a[0],a[1]);let i=a.length;for(;a[0]===a[i-2]&&a[1]===a[i-1]&&i>1;)i-=2;for(let s=2;s<i;s+=2)(a[s]!==a[s-2]||a[s+1]!==a[s-1])&&r.lineTo(a[s],a[s+1]);return r.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let r=0,n=t.length/2;r<n;++r){const a=this.cellPolygon(r);a&&(a.index=r,yield a)}}cellPolygon(t){const r=new IC;return this.renderCell(t,r),r.value()}_renderSegment(t,r,n,a,i){let s;const o=this._regioncode(t,r),l=this._regioncode(n,a);o===0&&l===0?(i.moveTo(t,r),i.lineTo(n,a)):(s=this._clipSegment(t,r,n,a,o,l))&&(i.moveTo(s[0],s[1]),i.lineTo(s[2],s[3]))}contains(t,r,n){return r=+r,r!==r||(n=+n,n!==n)?!1:this.delaunay._step(t,r,n)===t}*neighbors(t){const r=this._clip(t);if(r)for(const n of this.delaunay.neighbors(t)){const a=this._clip(n);if(a){e:for(let i=0,s=r.length;i<s;i+=2)for(let o=0,l=a.length;o<l;o+=2)if(r[i]===a[o]&&r[i+1]===a[o+1]&&r[(i+2)%s]===a[(o+l-2)%l]&&r[(i+3)%s]===a[(o+l-1)%l]){yield n;break e}}}}_cell(t){const{circumcenters:r,delaunay:{inedges:n,halfedges:a,triangles:i}}=this,s=n[t];if(s===-1)return null;const o=[];let l=s;do{const u=Math.floor(l/3);if(o.push(r[u*2],r[u*2+1]),l=l%3===2?l-2:l+1,i[l]!==t)break;l=a[l]}while(l!==s&&l!==-1);return o}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const r=this._cell(t);if(r===null)return null;const{vectors:n}=this,a=t*4;return this._simplify(n[a]||n[a+1]?this._clipInfinite(t,r,n[a],n[a+1],n[a+2],n[a+3]):this._clipFinite(t,r))}_clipFinite(t,r){const n=r.length;let a=null,i,s,o=r[n-2],l=r[n-1],u,d=this._regioncode(o,l),f,h=0;for(let p=0;p<n;p+=2)if(i=o,s=l,o=r[p],l=r[p+1],u=d,d=this._regioncode(o,l),u===0&&d===0)f=h,h=0,a?a.push(o,l):a=[o,l];else{let m,g,v,x,y;if(u===0){if((m=this._clipSegment(i,s,o,l,u,d))===null)continue;[g,v,x,y]=m}else{if((m=this._clipSegment(o,l,i,s,d,u))===null)continue;[x,y,g,v]=m,f=h,h=this._edgecode(g,v),f&&h&&this._edge(t,f,h,a,a.length),a?a.push(g,v):a=[g,v]}f=h,h=this._edgecode(x,y),f&&h&&this._edge(t,f,h,a,a.length),a?a.push(x,y):a=[x,y]}if(a)f=h,h=this._edgecode(a[0],a[1]),f&&h&&this._edge(t,f,h,a,a.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return a}_clipSegment(t,r,n,a,i,s){const o=i<s;for(o&&([t,r,n,a,i,s]=[n,a,t,r,s,i]);;){if(i===0&&s===0)return o?[n,a,t,r]:[t,r,n,a];if(i&s)return null;let l,u,d=i||s;d&8?(l=t+(n-t)*(this.ymax-r)/(a-r),u=this.ymax):d&4?(l=t+(n-t)*(this.ymin-r)/(a-r),u=this.ymin):d&2?(u=r+(a-r)*(this.xmax-t)/(n-t),l=this.xmax):(u=r+(a-r)*(this.xmin-t)/(n-t),l=this.xmin),i?(t=l,r=u,i=this._regioncode(t,r)):(n=l,a=u,s=this._regioncode(n,a))}}_clipInfinite(t,r,n,a,i,s){let o=Array.from(r),l;if((l=this._project(o[0],o[1],n,a))&&o.unshift(l[0],l[1]),(l=this._project(o[o.length-2],o[o.length-1],i,s))&&o.push(l[0],l[1]),o=this._clipFinite(t,o))for(let u=0,d=o.length,f,h=this._edgecode(o[d-2],o[d-1]);u<d;u+=2)f=h,h=this._edgecode(o[u],o[u+1]),f&&h&&(u=this._edge(t,f,h,o,u),d=o.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(t,r,n,a,i){for(;r!==n;){let s,o;switch(r){case 5:r=4;continue;case 4:r=6,s=this.xmax,o=this.ymin;break;case 6:r=2;continue;case 2:r=10,s=this.xmax,o=this.ymax;break;case 10:r=8;continue;case 8:r=9,s=this.xmin,o=this.ymax;break;case 9:r=1;continue;case 1:r=5,s=this.xmin,o=this.ymin;break}(a[i]!==s||a[i+1]!==o)&&this.contains(t,s,o)&&(a.splice(i,0,s,o),i+=2)}return i}_project(t,r,n,a){let i=1/0,s,o,l;if(a<0){if(r<=this.ymin)return null;(s=(this.ymin-r)/a)<i&&(l=this.ymin,o=t+(i=s)*n)}else if(a>0){if(r>=this.ymax)return null;(s=(this.ymax-r)/a)<i&&(l=this.ymax,o=t+(i=s)*n)}if(n>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/n)<i&&(o=this.xmax,l=r+(i=s)*a)}else if(n<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/n)<i&&(o=this.xmin,l=r+(i=s)*a)}return[o,l]}_edgecode(t,r){return(t===this.xmin?1:t===this.xmax?2:0)|(r===this.ymin?4:r===this.ymax?8:0)}_regioncode(t,r){return(t<this.xmin?1:t>this.xmax?2:0)|(r<this.ymin?4:r>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let r=0;r<t.length;r+=2){const n=(r+2)%t.length,a=(r+4)%t.length;(t[r]===t[n]&&t[n]===t[a]||t[r+1]===t[n+1]&&t[n+1]===t[a+1])&&(t.splice(n,2),r-=2)}t.length||(t=null)}return t}}const r$e=2*Math.PI,m0=Math.pow;function n$e(e){return e[0]}function a$e(e){return e[1]}function i$e(e){const{triangles:t,coords:r}=e;for(let n=0;n<t.length;n+=3){const a=2*t[n],i=2*t[n+1],s=2*t[n+2];if((r[s]-r[a])*(r[i+1]-r[a+1])-(r[i]-r[a])*(r[s+1]-r[a+1])>1e-10)return!1}return!0}function s$e(e,t,r){return[e+Math.sin(e+t)*r,t+Math.cos(e-t)*r]}class mP{static from(t,r=n$e,n=a$e,a){return new mP("length"in t?o$e(t,r,n,a):Float64Array.from(l$e(t,r,n,a)))}constructor(t){this._delaunator=new e_(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,r=this.points;if(t.hull&&t.hull.length>2&&i$e(t)){this.collinear=Int32Array.from({length:r.length/2},(h,p)=>p).sort((h,p)=>r[2*h]-r[2*p]||r[2*h+1]-r[2*p+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],d=[r[2*l],r[2*l+1],r[2*u],r[2*u+1]],f=1e-8*Math.hypot(d[3]-d[1],d[2]-d[0]);for(let h=0,p=r.length/2;h<p;++h){const m=s$e(r[2*h],r[2*h+1],f);r[2*h]=m[0],r[2*h+1]=m[1]}this._delaunator=new e_(r)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,a=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let l=0,u=n.length;l<u;++l){const d=i[l%3===2?l-2:l+1];(n[l]===-1||s[d]===-1)&&(s[d]=l)}for(let l=0,u=a.length;l<u;++l)o[a[l]]=l;a.length<=2&&a.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=a[0],s[a[0]]=1,a.length===2&&(s[a[1]]=0,this.triangles[1]=a[1],this.triangles[2]=a[1]))}voronoi(t){return new t$e(this,t)}*neighbors(t){const{inedges:r,hull:n,_hullIndex:a,halfedges:i,triangles:s,collinear:o}=this;if(o){const f=o.indexOf(t);f>0&&(yield o[f-1]),f<o.length-1&&(yield o[f+1]);return}const l=r[t];if(l===-1)return;let u=l,d=-1;do{if(yield d=s[u],u=u%3===2?u-2:u+1,s[u]!==t)return;if(u=i[u],u===-1){const f=n[(a[t]+1)%n.length];f!==d&&(yield f);return}}while(u!==l)}find(t,r,n=0){if(t=+t,t!==t||(r=+r,r!==r))return-1;const a=n;let i;for(;(i=this._step(n,t,r))>=0&&i!==n&&i!==a;)n=i;return i}_step(t,r,n){const{inedges:a,hull:i,_hullIndex:s,halfedges:o,triangles:l,points:u}=this;if(a[t]===-1||!u.length)return(t+1)%(u.length>>1);let d=t,f=m0(r-u[t*2],2)+m0(n-u[t*2+1],2);const h=a[t];let p=h;do{let m=l[p];const g=m0(r-u[m*2],2)+m0(n-u[m*2+1],2);if(g<f&&(f=g,d=m),p=p%3===2?p-2:p+1,l[p]!==t)break;if(p=o[p],p===-1){if(p=i[(s[t]+1)%i.length],p!==m&&m0(r-u[p*2],2)+m0(n-u[p*2+1],2)<f)return p;break}}while(p!==h);return d}render(t){const r=t==null?t=new yf:void 0,{points:n,halfedges:a,triangles:i}=this;for(let s=0,o=a.length;s<o;++s){const l=a[s];if(l<s)continue;const u=i[s]*2,d=i[l]*2;t.moveTo(n[u],n[u+1]),t.lineTo(n[d],n[d+1])}return this.renderHull(t),r&&r.value()}renderPoints(t,r){r===void 0&&(!t||typeof t.moveTo!="function")&&(r=t,t=null),r=r==null?2:+r;const n=t==null?t=new yf:void 0,{points:a}=this;for(let i=0,s=a.length;i<s;i+=2){const o=a[i],l=a[i+1];t.moveTo(o+r,l),t.arc(o,l,r,0,r$e)}return n&&n.value()}renderHull(t){const r=t==null?t=new yf:void 0,{hull:n,points:a}=this,i=n[0]*2,s=n.length;t.moveTo(a[i],a[i+1]);for(let o=1;o<s;++o){const l=2*n[o];t.lineTo(a[l],a[l+1])}return t.closePath(),r&&r.value()}hullPolygon(){const t=new IC;return this.renderHull(t),t.value()}renderTriangle(t,r){const n=r==null?r=new yf:void 0,{points:a,triangles:i}=this,s=i[t*=3]*2,o=i[t+1]*2,l=i[t+2]*2;return r.moveTo(a[s],a[s+1]),r.lineTo(a[o],a[o+1]),r.lineTo(a[l],a[l+1]),r.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let r=0,n=t.length/3;r<n;++r)yield this.trianglePolygon(r)}trianglePolygon(t){const r=new IC;return this.renderTriangle(t,r),r.value()}}function o$e(e,t,r,n){const a=e.length,i=new Float64Array(a*2);for(let s=0;s<a;++s){const o=e[s];i[s*2]=t.call(n,o,s,e),i[s*2+1]=r.call(n,o,s,e)}return i}function*l$e(e,t,r,n){let a=0;for(const i of e)yield t.call(n,i,a,e),yield r.call(n,i,a,e),++a}var gP=function(e){return[e.x,e.y]},s1=TV,WG="cursor",zG="top",c$e=function(e){var t=e.points,r=e.getNodePosition,n=r===void 0?gP:r,a=e.margin,i=a===void 0?s1:a;return t.map(function(s){var o=n(s),l=o[0],u=o[1];return[l+i.left,u+i.top]})},u$e=function(e){var t=e.points,r=e.width,n=e.height,a=e.margin,i=a===void 0?s1:a,s=e.debug,o=mP.from(t),l=s?o.voronoi([0,0,i.left+r+i.right,i.top+n+i.bottom]):void 0;return{points:t,delaunay:o,voronoi:l}},HG=function(e){var t=e.points,r=e.getNodePosition,n=r===void 0?gP:r,a=e.width,i=e.height,s=e.margin,o=s===void 0?s1:s,l=e.debug;return L.useMemo(function(){return u$e({points:c$e({points:t,margin:o,getNodePosition:n}),width:a,height:i,margin:o,debug:l})},[t,a,i,o,l])},d$e=function(e){var t=e.elementRef,r=e.nodes,n=e.getNodePosition,a=n===void 0?gP:n,i=e.delaunay,s=e.setCurrent,o=e.margin,l=o===void 0?s1:o,u=e.detectionRadius,d=u===void 0?1/0:u,f=e.isInteractive,h=f===void 0||f,p=e.onMouseEnter,m=e.onMouseMove,g=e.onMouseLeave,v=e.onClick,x=e.onTouchStart,y=e.onTouchMove,b=e.onTouchEnd,N=e.enableTouchCrosshair,_=N!==void 0&&N,C=e.tooltip,k=e.tooltipPosition,w=k===void 0?WG:k,S=e.tooltipAnchor,P=S===void 0?zG:S,A=L.useState(null),T=A[0],F=A[1],M=L.useRef(null);L.useEffect(function(){M.current=T},[M,T]);var H=L.useCallback(function(ee){if(!t.current)return null;var W=WV(t.current,ee),Z=W[0],re=W[1],O=i.find(Z,re),de=O!==void 0?r[O]:null;if(de&&d!==1/0){var ce=a(de),pe=ce[0],Q=ce[1];hAe(Z,re,pe+l.left,Q+l.top)>d&&(O=null,de=null)}return O===null||de===null?null:[O,de]},[t,i,r,a,l,d]),z=Xy(),Y=z.showTooltipAt,G=z.showTooltipFromEvent,I=z.hideTooltip,X=L.useMemo(function(){if(C)return w==="cursor"?function(ee,W){G(C(ee),W,P)}:function(ee){var W=a(ee),Z=W[0],re=W[1];Y(C(ee),[Z+l.left,re+l.top],P)}},[Y,G,C,w,P,a,l]),J=L.useCallback(function(ee){var W=H(ee);if(F(W),s==null||s(W?W[1]:null),W){var Z=W[1];X==null||X(Z,ee),p==null||p(W[1],ee)}},[H,F,s,X,p]),E=L.useCallback(function(ee){var W=H(ee);if(F(W),W){var Z=W[0],re=W[1];if(s==null||s(re),X==null||X(re,ee),M.current){var O=M.current,de=O[0],ce=O[1];Z!==de?g==null||g(ce,ee):m==null||m(re,ee)}else p==null||p(re,ee)}else s==null||s(null),I==null||I(),M.current&&(g==null||g(M.current[1],ee))},[H,F,M,p,m,g,X,I]),R=L.useCallback(function(ee){F(null),s==null||s(null),I(),g&&M.current&&g(M.current[1],ee)},[F,s,M,I,g]),B=L.useCallback(function(ee){var W=H(ee);F(W),W&&(v==null||v(W[1],ee))},[H,F,v]),q=L.useCallback(function(ee){var W=H(ee);_&&(F(W),s==null||s(W?W[1]:null)),W&&(x==null||x(W[1],ee))},[H,F,s,_,x]),K=L.useCallback(function(ee){var W=H(ee);_&&(F(W),s==null||s(W?W[1]:null)),W&&(y==null||y(W[1],ee))},[H,F,s,_,y]),ae=L.useCallback(function(ee){_&&(F(null),s==null||s(null)),b&&M.current&&b(M.current[1],ee)},[_,F,s,b,M]);return{current:T,handleMouseEnter:h?J:void 0,handleMouseMove:h?E:void 0,handleMouseLeave:h?R:void 0,handleClick:h?B:void 0,handleTouchStart:h?q:void 0,handleTouchMove:h?K:void 0,handleTouchEnd:h?ae:void 0}},f$e=function(e){var t=e.nodes,r=e.width,n=e.height,a=e.margin,i=a===void 0?s1:a,s=e.getNodePosition,o=e.setCurrent,l=e.onMouseEnter,u=e.onMouseMove,d=e.onMouseLeave,f=e.onClick,h=e.onTouchStart,p=e.onTouchMove,m=e.onTouchEnd,g=e.enableTouchCrosshair,v=g!==void 0&&g,x=e.detectionRadius,y=x===void 0?1/0:x,b=e.tooltip,N=e.tooltipPosition,_=N===void 0?WG:N,C=e.tooltipAnchor,k=C===void 0?zG:C,w=e.debug,S=L.useRef(null),P=HG({points:t,getNodePosition:s,width:r,height:n,margin:i,debug:w}),A=P.delaunay,T=P.voronoi,F=d$e({elementRef:S,nodes:t,delaunay:A,margin:i,detectionRadius:y,setCurrent:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,onClick:f,onTouchStart:h,onTouchMove:p,onTouchEnd:m,enableTouchCrosshair:v,tooltip:b,tooltipPosition:_,tooltipAnchor:k}),M=F.current,H=F.handleMouseEnter,z=F.handleMouseMove,Y=F.handleMouseLeave,G=F.handleClick,I=F.handleTouchStart,X=F.handleTouchMove,J=F.handleTouchEnd,E=L.useMemo(function(){if(w&&T)return T.render()},[w,T]);return c.jsxs("g",{ref:S,transform:"translate("+-i.left+","+-i.top+")",children:[w&&T&&c.jsxs(c.Fragment,{children:[c.jsx("path",{d:E,stroke:"red",strokeWidth:1,opacity:.75}),y<1/0&&c.jsx("path",{stroke:"red",strokeWidth:.35,fill:"none",d:A.renderPoints(void 0,y)}),M&&c.jsx("path",{fill:"pink",opacity:.35,d:T.renderCell(M[0])})]}),c.jsx("rect",{"data-ref":"mesh-interceptor",width:i.left+r+i.right,height:i.top+n+i.bottom,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:H,onMouseMove:z,onMouseLeave:Y,onTouchStart:I,onTouchMove:X,onTouchEnd:J,onClick:G})]})},h$e=function(e,t){e.save(),e.globalAlpha=.75,e.beginPath(),t.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()},p$e=function(e,t,r){e.save(),e.globalAlpha=.35,e.beginPath(),t.renderCell(r,e),e.fillStyle="pink",e.fill(),e.restore()};function Wi(){return Wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wi.apply(this,arguments)}var xP=L.memo(function(e){var t=e.point;return c.jsx(xq,{id:c.jsxs("span",{children:["x: ",c.jsx("strong",{children:t.data.xFormatted}),", y:"," ",c.jsx("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})}),qG=L.memo(function(e){var t=e.slice,r=e.axis,n=aa(),a=r==="x"?"y":"x";return c.jsx(vq,{rows:t.points.map(function(i){return[c.jsx(gq,{color:i.serieColor,style:n.tooltip.chip},"chip"),i.serieId,c.jsx("span",{style:n.tooltip.tableCellValue,children:i.data[a+"Formatted"]},"value")]})})}),YG={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:xP,enableSlices:!1,debugSlices:!1,sliceTooltip:qG,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},ac=Wi({},YG,{enablePointLabel:!1,useMesh:!1,enableTouchCrosshair:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img",initialHiddenIds:[]});Wi({},YG,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1});var m$e=function(e){var t=e.curve;return L.useMemo(function(){return Ok().defined(function(r){return r.x!==null&&r.y!==null}).x(function(r){return r.x}).y(function(r){return r.y}).curve(CV(t))},[t])},g$e=function(e){var t=e.curve,r=e.yScale,n=e.areaBaselineValue;return L.useMemo(function(){return mx().defined(function(a){return a.x!==null&&a.y!==null}).x(function(a){return a.x}).y1(function(a){return a.y}).curve(CV(t)).y0(r(n))},[t,r,n])},x$e=function(e){var t=e.componentId,r=e.enableSlices,n=e.points,a=e.width,i=e.height;return L.useMemo(function(){if(r===!1)return[];if(r==="x"){var s=new Map;return n.forEach(function(l){l.data.x!==null&&l.data.y!==null&&(s.has(l.x)?s.get(l.x).push(l):s.set(l.x,[l]))}),Array.from(s.entries()).sort(function(l,u){return l[0]-u[0]}).map(function(l,u,d){var f,h,p=l[0],m=l[1],g=d[u-1],v=d[u+1];return f=g?p-(p-g[0])/2:p,h=v?p-f+(v[0]-p)/2:a-f,{id:"slice:"+t+":"+p,x0:f,x:p,y0:0,y:0,width:h,height:i,points:m.reverse()}})}if(r==="y"){var o=new Map;return n.forEach(function(l){l.data.x!==null&&l.data.y!==null&&(o.has(l.y)?o.get(l.y).push(l):o.set(l.y,[l]))}),Array.from(o.entries()).sort(function(l,u){return l[0]-u[0]}).map(function(l,u,d){var f,h,p=l[0],m=l[1],g=d[u-1],v=d[u+1];return f=g?p-(p-g[0])/2:p,h=v?p-f+(v[0]-p)/2:i-f,{id:p,x0:0,x:0,y0:f,y:p,width:a,height:h,points:m.reverse()}})}},[t,r,i,n,a])},v$e="line",VG=function(e){var t=e.data,r=e.xScale,n=r===void 0?ac.xScale:r,a=e.xFormat,i=e.yScale,s=i===void 0?ac.yScale:i,o=e.yFormat,l=e.width,u=e.height,d=e.colors,f=d===void 0?ac.colors:d,h=e.curve,p=h===void 0?ac.curve:h,m=e.areaBaselineValue,g=m===void 0?ac.areaBaselineValue:m,v=e.pointColor,x=v===void 0?ac.pointColor:v,y=e.pointBorderColor,b=y===void 0?ac.pointBorderColor:y,N=e.enableSlices,_=N===void 0?ac.enableSlicesTooltip:N,C=e.initialHiddenIds,k=C===void 0?ac.initialHiddenIds:C,w=L.useState(W8e(v$e))[0],S=Hw(a),P=Hw(o),A=VV(f,"id"),T=aa(),F=gd(x,T),M=gd(b,T),H=L.useState(k??[]),z=H[0],Y=H[1],G=L.useMemo(function(){return p8e(t.filter(function(ee){return z.indexOf(ee.id)===-1}),n,s,l,u)},[t,z,n,s,l,u]),I=G.xScale,X=G.yScale,J=G.series,E=L.useMemo(function(){var ee=t.map(function(Z){return{id:Z.id,label:Z.id,color:A(Z)}}),W=ee.map(function(Z){return Wi({},J.find(function(re){return re.id===Z.id}),{color:Z.color})}).filter(function(Z){return!!Z.id});return{legendData:ee.map(function(Z){return Wi({},Z,{hidden:!W.find(function(re){return re.id===Z.id})})}).reverse(),series:W}},[t,J,A]),R=E.legendData,B=E.series,q=L.useCallback(function(ee){Y(function(W){return W.indexOf(ee)>-1?W.filter(function(Z){return Z!==ee}):[].concat(W,[ee])})},[]),K=function(ee){var W=ee.series,Z=ee.getPointColor,re=ee.getPointBorderColor,O=ee.formatX,de=ee.formatY;return L.useMemo(function(){return W.reduce(function(ce,pe){return[].concat(ce,pe.data.filter(function(Q){return Q.position.x!==null&&Q.position.y!==null}).map(function(Q,ne){var Ae={id:pe.id+"."+ne,index:ce.length+ne,serieId:pe.id,serieColor:pe.color,x:Q.position.x,y:Q.position.y};return Ae.color=Z(pe),Ae.borderColor=re(Ae),Ae.data=Wi({},Q.data,{xFormatted:O(Q.data.x),yFormatted:de(Q.data.y)}),Ae}))},[])},[W,Z,re,O,de])}({series:B,getPointColor:F,getPointBorderColor:M,formatX:S,formatY:P}),ae=x$e({componentId:w,enableSlices:_,points:K,width:l,height:u});return{legendData:R,toggleSerie:q,lineGenerator:m$e({curve:p}),areaGenerator:g$e({curve:p,yScale:X,areaBaselineValue:g}),getColor:A,series:B,xScale:I,yScale:X,slices:ae,points:K}},y$e=function(e){var t=e.areaBlendMode,r=e.areaOpacity,n=e.color,a=e.fill,i=e.path,s=ql(),o=s.animate,l=s.config,u=jV(i),d=wm({color:n,config:l,immediate:!o});return c.jsx(Za.path,{d:u,fill:a||d.color,fillOpacity:r,strokeWidth:0,style:{mixBlendMode:t}})},b$e=L.memo(function(e){var t=e.areaGenerator,r=e.areaOpacity,n=e.areaBlendMode,a=e.lines.slice(0).reverse();return c.jsx("g",{children:a.map(function(i){return c.jsx(y$e,Wi({path:t(i.data.map(function(s){return s.position}))},Wi({areaOpacity:r,areaBlendMode:n},i)),i.id)})})}),w$e=L.memo(function(e){var t=e.lineGenerator,r=e.points,n=e.color,a=e.thickness,i=L.useMemo(function(){return t(r)},[t,r]),s=jV(i);return c.jsx(Za.path,{d:s,fill:"none",strokeWidth:a,stroke:n})}),_$e=L.memo(function(e){var t=e.lines,r=e.lineGenerator,n=e.lineWidth;return t.slice(0).reverse().map(function(a){var i=a.id,s=a.data,o=a.color;return c.jsx(w$e,{id:i,points:s.map(function(l){return l.position}),lineGenerator:r,color:o,thickness:n},i)})}),k$e=L.memo(function(e){var t=e.slice,r=e.slices,n=e.axis,a=e.debug,i=e.tooltip,s=e.isCurrent,o=e.setCurrent,l=e.onMouseEnter,u=e.onMouseMove,d=e.onMouseLeave,f=e.onClick,h=e.onTouchStart,p=e.onTouchMove,m=e.onTouchEnd,g=Xy(),v=g.showTooltipFromEvent,x=g.hideTooltip,y=L.useCallback(function(S){v(L.createElement(i,{slice:t,axis:n}),S,"right"),o(t),l&&l(t,S)},[v,i,t,n,o,l]),b=L.useCallback(function(S){v(L.createElement(i,{slice:t,axis:n}),S,"right"),u&&u(t,S)},[v,i,t,n,u]),N=L.useCallback(function(S){x(),o(null),d&&d(t,S)},[x,o,d,t]),_=L.useCallback(function(S){f&&f(t,S)},[t,f]),C=L.useCallback(function(S){v(L.createElement(i,{slice:t,axis:n}),S,"right"),o(t),h&&h(t,S)},[n,h,o,v,t,i]),k=L.useCallback(function(S){var P=S.touches[0],A=document.elementFromPoint(P.clientX,P.clientY),T=A==null?void 0:A.getAttribute("data-ref");if(T){var F=r.find(function(M){return M.id===T});F&&(v(L.createElement(i,{slice:F,axis:n}),S,"right"),o(F))}p&&p(t,S)},[n,p,o,v,t,r,i]),w=L.useCallback(function(S){x(),o(null),m&&m(t,S)},[x,o,m,t]);return c.jsx("rect",{x:t.x0,y:t.y0,width:t.width,height:t.height,stroke:"red",strokeWidth:a?1:0,strokeOpacity:.75,fill:"red",fillOpacity:s&&a?.35:0,onMouseEnter:y,onMouseMove:b,onMouseLeave:N,onClick:_,onTouchStart:C,onTouchMove:k,onTouchEnd:w,"data-ref":t.id})}),S$e=L.memo(function(e){var t=e.slices,r=e.axis,n=e.debug,a=e.height,i=e.tooltip,s=e.current,o=e.setCurrent,l=e.onMouseEnter,u=e.onMouseMove,d=e.onMouseLeave,f=e.onClick,h=e.onTouchStart,p=e.onTouchMove,m=e.onTouchEnd;return t.map(function(g){return c.jsx(k$e,{slice:g,slices:t,axis:r,debug:n,height:a,tooltip:i,setCurrent:o,isCurrent:s!==null&&s.id===g.id,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,onClick:f,onTouchStart:h,onTouchMove:p,onTouchEnd:m},g.id)})}),N$e=L.memo(function(e){var t=e.points,r=e.symbol,n=e.size,a=e.borderWidth,i=e.enableLabel,s=e.label,o=e.labelYOffset,l=aa(),u=dAe(s),d=t.slice(0).reverse().map(function(f){return{id:f.id,x:f.x,y:f.y,datum:f.data,fill:f.color,stroke:f.borderColor,label:i?u(f):null}});return c.jsx("g",{children:d.map(function(f){return c.jsx(oAe,{x:f.x,y:f.y,datum:f.datum,symbol:r,size:n,color:f.fill,borderWidth:a,borderColor:f.stroke,label:f.label,labelYOffset:o,theme:l},f.id)})})}),j$e=L.memo(function(e){var t=e.points,r=e.width,n=e.height,a=e.margin,i=e.setCurrent,s=e.onMouseEnter,o=e.onMouseMove,l=e.onMouseLeave,u=e.onClick,d=e.onTouchStart,f=e.onTouchMove,h=e.onTouchEnd,p=e.tooltip,m=e.debug,g=e.enableTouchCrosshair,v=Xy(),x=v.showTooltipAt,y=v.hideTooltip,b=L.useCallback(function(P,A){x(L.createElement(p,{point:P}),[P.x+a.left,P.y+a.top],"top"),s&&s(P,A)},[x,p,s,a]),N=L.useCallback(function(P,A){x(L.createElement(p,{point:P}),[P.x+a.left,P.y+a.top],"top"),o&&o(P,A)},[x,p,a.left,a.top,o]),_=L.useCallback(function(P,A){y(),l&&l(P,A)},[y,l]),C=L.useCallback(function(P,A){u&&u(P,A)},[u]),k=L.useCallback(function(P,A){x(L.createElement(p,{point:P}),[P.x+a.left,P.y+a.top],"top"),d&&d(P,A)},[a.left,a.top,d,x,p]),w=L.useCallback(function(P,A){x(L.createElement(p,{point:P}),[P.x+a.left,P.y+a.top],"top"),f&&f(P,A)},[a.left,a.top,f,x,p]),S=L.useCallback(function(P,A){y(),h&&h(P,A)},[h,y]);return c.jsx(f$e,{nodes:t,width:r,height:n,setCurrent:i,onMouseEnter:b,onMouseMove:N,onMouseLeave:_,onClick:C,onTouchStart:k,onTouchMove:w,onTouchEnd:S,enableTouchCrosshair:g,debug:m})}),C$e=UV(function(e){var t=e.data,r=e.xScale,n=r===void 0?{type:"point"}:r,a=e.xFormat,i=e.yScale,s=i===void 0?{type:"linear",min:0,max:"auto"}:i,o=e.yFormat,l=e.layers,u=l===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:l,d=e.curve,f=d===void 0?"linear":d,h=e.areaBaselineValue,p=h===void 0?0:h,m=e.colors,g=m===void 0?{scheme:"nivo"}:m,v=e.margin,x=e.width,y=e.height,b=e.axisTop,N=e.axisRight,_=e.axisBottom,C=_===void 0?{}:_,k=e.axisLeft,w=k===void 0?{}:k,S=e.enableGridX,P=S===void 0||S,A=e.enableGridY,T=A===void 0||A,F=e.gridXValues,M=e.gridYValues,H=e.lineWidth,z=H===void 0?2:H,Y=e.enableArea,G=Y!==void 0&&Y,I=e.areaOpacity,X=I===void 0?.2:I,J=e.areaBlendMode,E=J===void 0?"normal":J,R=e.enablePoints,B=R===void 0||R,q=e.pointSymbol,K=e.pointSize,ae=K===void 0?6:K,ee=e.pointColor,W=ee===void 0?{from:"color"}:ee,Z=e.pointBorderWidth,re=Z===void 0?0:Z,O=e.pointBorderColor,de=O===void 0?{theme:"background"}:O,ce=e.enablePointLabel,pe=ce!==void 0&&ce,Q=e.pointLabel,ne=Q===void 0?"data.yFormatted":Q,Ae=e.pointLabelYOffset,Ee=e.defs,De=Ee===void 0?[]:Ee,Oe=e.fill,Fe=Oe===void 0?[]:Oe,ve=e.markers,me=e.legends,le=me===void 0?[]:me,be=e.isInteractive,Pe=be===void 0||be,je=e.useMesh,Ce=je!==void 0&&je,Be=e.debugMesh,$e=Be!==void 0&&Be,et=e.onMouseEnter,Je=e.onMouseMove,St=e.onMouseLeave,Tt=e.onClick,wt=e.onTouchStart,Kt=e.onTouchMove,Dt=e.onTouchEnd,Ur=e.tooltip,kr=Ur===void 0?xP:Ur,wn=e.enableSlices,Tn=wn!==void 0&&wn,yr=e.debugSlices,It=yr!==void 0&&yr,tr=e.sliceTooltip,ti=tr===void 0?qG:tr,Zr=e.enableCrosshair,Mn=Zr===void 0||Zr,qn=e.crosshairType,$t=qn===void 0?"bottom-left":qn,ia=e.enableTouchCrosshair,Pt=ia!==void 0&&ia,sr=e.role,mr=sr===void 0?"img":sr,$r=e.initialHiddenIds,oe=$r===void 0?[]:$r,Se=tP(x,y,v),xe=Se.margin,ye=Se.innerWidth,_e=Se.innerHeight,Ne=Se.outerWidth,He=Se.outerHeight,Qe=VG({data:t,xScale:n,xFormat:a,yScale:s,yFormat:o,width:ye,height:_e,colors:g,curve:f,areaBaselineValue:p,pointColor:W,pointBorderColor:de,enableSlices:Tn,initialHiddenIds:oe}),Ye=Qe.legendData,Ve=Qe.toggleSerie,Ge=Qe.lineGenerator,lt=Qe.areaGenerator,ht=Qe.series,pt=Qe.xScale,ut=Qe.yScale,mt=Qe.slices,Mt=Qe.points,fr=aa(),br=gd(W,fr),_n=gd(de,fr),Ki=L.useState(null),ji=Ki[0],gs=Ki[1],Xi=L.useState(null),ri=Xi[0],ni=Xi[1],Hr={grid:c.jsx(N8e,{theme:fr,width:ye,height:_e,xScale:P?pt:null,yScale:T?ut:null,xValues:F,yValues:M},"grid"),markers:c.jsx(cAe,{markers:ve,width:ye,height:_e,xScale:pt,yScale:ut,theme:fr},"markers"),axes:c.jsx(k8e,{xScale:pt,yScale:ut,width:ye,height:_e,theme:fr,top:b,right:N,bottom:C,left:w},"axes"),areas:null,lines:c.jsx(_$e,{lines:ht,lineGenerator:Ge,lineWidth:z},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:le.map(function(Ls,Qc){return c.jsx(UG,Wi({},Ls,{containerWidth:ye,containerHeight:_e,data:Ls.data||Ye,theme:fr,toggleSerie:Ls.toggleSerie?Ve:void 0}),"legend."+Qc)})},Eh=zV(De,ht,Fe);return G&&(Hr.areas=c.jsx(b$e,{areaGenerator:lt,areaOpacity:X,areaBlendMode:E,lines:ht},"areas")),Pe&&Tn!==!1&&(Hr.slices=c.jsx(S$e,{slices:mt,axis:Tn,debug:It,height:_e,tooltip:ti,current:ri,setCurrent:ni,onMouseEnter:et,onMouseMove:Je,onMouseLeave:St,onClick:Tt,onTouchStart:wt,onTouchMove:Kt,onTouchEnd:Dt},"slices")),B&&(Hr.points=c.jsx(N$e,{points:Mt,symbol:q,size:ae,color:br,borderWidth:re,borderColor:_n,enableLabel:pe,label:ne,labelYOffset:Ae},"points")),Pe&&Mn&&(ji!==null&&(Hr.crosshair=c.jsx(uC,{width:ye,height:_e,x:ji.x,y:ji.y,type:$t},"crosshair")),ri!==null&&(Hr.crosshair=c.jsx(uC,{width:ye,height:_e,x:ri.x,y:ri.y,type:Tn},"crosshair"))),Pe&&Ce&&Tn===!1&&(Hr.mesh=c.jsx(j$e,{points:Mt,width:ye,height:_e,margin:xe,current:ji,setCurrent:gs,onMouseEnter:et,onMouseMove:Je,onMouseLeave:St,onClick:Tt,onTouchStart:wt,onTouchMove:Kt,onTouchEnd:Dt,tooltip:kr,enableTouchCrosshair:Pt,debug:$e},"mesh")),c.jsx(iP,{defs:Eh,width:Ne,height:He,margin:xe,role:mr,children:u.map(function(Ls,Qc){return typeof Ls=="function"?c.jsx(L.Fragment,{children:Ls(Wi({},e,{innerWidth:ye,innerHeight:_e,series:ht,slices:mt,points:Mt,xScale:pt,yScale:ut,lineGenerator:Ge,areaGenerator:lt,currentPoint:ji,setCurrentPoint:gs,currentSlice:ri,setCurrentSlice:ni}))},Qc):Hr[Ls]})})}),GG=function(e){return c.jsx(Lk,{children:function(t){var r=t.width,n=t.height;return c.jsx(C$e,Wi({width:r,height:n},e))}})},T$e=UV(function(e){var t=L.useRef(null),r=e.width,n=e.height,a=e.margin,i=e.pixelRatio,s=i===void 0?typeof window<"u"&&window.devicePixelRatio||1:i,o=e.data,l=e.xScale,u=l===void 0?{type:"point"}:l,d=e.xFormat,f=e.yScale,h=f===void 0?{type:"linear",min:0,max:"auto"}:f,p=e.yFormat,m=e.curve,g=m===void 0?"linear":m,v=e.layers,x=v===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:v,y=e.colors,b=y===void 0?{scheme:"nivo"}:y,N=e.lineWidth,_=N===void 0?2:N,C=e.enableArea,k=C!==void 0&&C,w=e.areaBaselineValue,S=w===void 0?0:w,P=e.areaOpacity,A=P===void 0?.2:P,T=e.enablePoints,F=T===void 0||T,M=e.pointSize,H=M===void 0?6:M,z=e.pointColor,Y=z===void 0?{from:"color"}:z,G=e.pointBorderWidth,I=G===void 0?0:G,X=e.pointBorderColor,J=X===void 0?{theme:"background"}:X,E=e.enableGridX,R=E===void 0||E,B=e.gridXValues,q=e.enableGridY,K=q===void 0||q,ae=e.gridYValues,ee=e.axisTop,W=e.axisRight,Z=e.axisBottom,re=Z===void 0?{}:Z,O=e.axisLeft,de=O===void 0?{}:O,ce=e.legends,pe=ce===void 0?[]:ce,Q=e.isInteractive,ne=Q===void 0||Q,Ae=e.debugMesh,Ee=Ae!==void 0&&Ae,De=e.onMouseLeave,Oe=e.onClick,Fe=e.tooltip,ve=Fe===void 0?xP:Fe,me=e.canvasRef,le=tP(r,n,a),be=le.margin,Pe=le.innerWidth,je=le.innerHeight,Ce=le.outerWidth,Be=le.outerHeight,$e=aa(),et=L.useState(null),Je=et[0],St=et[1],Tt=VG({data:o,xScale:u,xFormat:d,yScale:h,yFormat:p,width:Pe,height:je,colors:b,curve:g,areaBaselineValue:S,pointColor:Y,pointBorderColor:J}),wt=Tt.lineGenerator,Kt=Tt.areaGenerator,Dt=Tt.series,Ur=Tt.xScale,kr=Tt.yScale,wn=Tt.points,Tn=HG({points:wn,width:Pe,height:je,debug:Ee}),yr=Tn.delaunay,It=Tn.voronoi;L.useEffect(function(){me&&(me.current=t.current),t.current.width=Ce*s,t.current.height=Be*s;var Pt=t.current.getContext("2d");Pt.scale(s,s),Pt.fillStyle=$e.background,Pt.fillRect(0,0,Ce,Be),Pt.translate(be.left,be.top),x.forEach(function(sr){if(typeof sr=="function"&&sr({ctx:Pt,innerWidth:Pe,innerHeight:je,series:Dt,points:wn,xScale:Ur,yScale:kr,lineWidth:_,lineGenerator:wt,areaGenerator:Kt,currentPoint:Je,setCurrentPoint:St}),sr==="grid"&&$e.grid.line.strokeWidth>0&&(Pt.lineWidth=$e.grid.line.strokeWidth,Pt.strokeStyle=$e.grid.line.stroke,R&&LF(Pt,{width:Pe,height:je,scale:Ur,axis:"x",values:B}),K&&LF(Pt,{width:Pe,height:je,scale:kr,axis:"y",values:ae})),sr==="axes"&&C8e(Pt,{xScale:Ur,yScale:kr,width:Pe,height:je,top:ee,right:W,bottom:re,left:de,theme:$e}),sr==="areas"&&k===!0){Pt.save(),Pt.globalAlpha=A,Kt.context(Pt);for(var mr=Dt.length-1;mr>=0;mr--)Pt.fillStyle=Dt[mr].color,Pt.beginPath(),Kt(Dt[mr].data.map(function(oe){return oe.position})),Pt.fill();Pt.restore()}if(sr==="lines"&&(wt.context(Pt),Dt.forEach(function(oe){Pt.strokeStyle=oe.color,Pt.lineWidth=_,Pt.beginPath(),wt(oe.data.map(function(Se){return Se.position})),Pt.stroke()})),sr==="points"&&F===!0&&H>0&&wn.forEach(function(oe){Pt.fillStyle=oe.color,Pt.beginPath(),Pt.arc(oe.x,oe.y,H/2,0,2*Math.PI),Pt.fill(),I>0&&(Pt.strokeStyle=oe.borderColor,Pt.lineWidth=I,Pt.stroke())}),sr==="mesh"&&Ee===!0&&(h$e(Pt,It),Je&&p$e(Pt,It,Je.index)),sr==="legends"){var $r=Dt.map(function(oe){return{id:oe.id,label:oe.id,color:oe.color}}).reverse();pe.forEach(function(oe){L8e(Pt,Wi({},oe,{data:oe.data||$r,containerWidth:Pe,containerHeight:je,theme:$e}))})}})},[t,Ce,Be,x,$e,wt,Dt,Ur,kr,R,B,K,ae,ee,W,re,de,pe,wn,F,H,Je]);var tr=L.useCallback(function(Pt){var sr=WV(t.current,Pt),mr=sr[0],$r=sr[1];if(!pAe(be.left,be.top,Pe,je,mr,$r))return null;var oe=yr.find(mr-be.left,$r-be.top);return wn[oe]},[t,be,Pe,je,yr]),ti=Xy(),Zr=ti.showTooltipFromEvent,Mn=ti.hideTooltip,qn=L.useCallback(function(Pt){var sr=tr(Pt);St(sr),sr?Zr(L.createElement(ve,{point:sr}),Pt):Mn()},[tr,St,Zr,Mn,ve]),$t=L.useCallback(function(Pt){Mn(),St(null),Je&&De&&De(Je,Pt)},[Mn,St,De]),ia=L.useCallback(function(Pt){if(Oe){var sr=tr(Pt);sr&&Oe(sr,Pt)}},[tr,Oe]);return c.jsx("canvas",{ref:t,width:Ce*s,height:Be*s,style:{width:Ce,height:Be,cursor:ne?"auto":"normal"},onMouseEnter:ne?qn:void 0,onMouseMove:ne?qn:void 0,onMouseLeave:ne?$t:void 0,onClick:ne?ia:void 0})}),A$e=L.forwardRef(function(e,t){return c.jsx(T$e,Wi({},e,{canvasRef:t}))});L.forwardRef(function(e,t){return c.jsx(Lk,{children:function(r){var n=r.width,a=r.height;return c.jsx(A$e,Wi({width:n,height:a},e,{ref:t}))}})});const E$e=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),P$e=({dailyRevenue:e,isLoading:t,currencySymbol:r,screenWidth:n})=>{const{theme:a,getThemeStyle:i}=Yt(),s=n<640;if(t)return c.jsx("div",{className:`${i(a,"background","primary")} rounded-lg shadow-sm animate-pulse`,children:c.jsxs("div",{className:"px-4 py-4",children:[c.jsx("div",{className:`h-4 ${i(a,"background","accent")} rounded w-1/4 mb-4`}),c.jsx("div",{className:`h-[250px] ${i(a,"background","accent")} rounded`})]})});const o=[{id:"Total Revenue",color:"#8B5CF6",data:e.map(u=>({x:new Date(u.date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit"}),y:u.total}))},{id:"Sales Orders",color:"#3B82F6",data:e.map(u=>({x:new Date(u.date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit"}),y:u.sales}))},{id:"Service Orders",color:"#10B981",data:e.map(u=>({x:new Date(u.date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit"}),y:u.service}))}],l=s?{top:20,right:20,left:60,bottom:60}:{top:30,right:40,left:80,bottom:60};return c.jsx("div",{className:"w-full px-2 sm:px-6",children:c.jsxs("div",{className:"w-full",children:[c.jsxs("h3",{className:`text-lg font-medium ${i(a,"text","primary")} mb-2`,children:["Revenue for ",new Date().toLocaleString("default",{month:"long",year:"numeric"})]}),c.jsx("div",{className:"h-[350px] w-full",style:{background:a==="dark"?"linear-gradient(to bottom,rgb(22, 31, 44), #111827)":"linear-gradient(to bottom, white, #efeff1)",borderRadius:"0.5rem",padding:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:c.jsx(GG,{data:o,margin:l,xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto",stacked:!1,reverse:!1},curve:"monotoneX",axisLeft:{tickSize:0,tickPadding:10,format:u=>`${r}${E$e(u)}`,tickRotation:0},axisBottom:{tickSize:0,tickPadding:10,tickRotation:-45,tickValues:s?e.filter((u,d)=>d%4===0).map(u=>new Date(u.date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit"})):void 0},enableGridX:!1,enableGridY:!0,pointSize:0,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,enableArea:!0,areaOpacity:.1,useMesh:!0,enableSlices:"x",crosshairType:"x",colors:{datum:"color"},theme:{grid:{line:{stroke:a==="dark"?"#374151":"#f0f0f0",strokeWidth:1}},axis:{ticks:{text:{fontSize:s?9:10,fill:a==="dark"?"#9CA3AF":"#6B7280"}}},crosshair:{line:{stroke:a==="dark"?"#9CA3AF":"#6B7280",strokeWidth:1,strokeOpacity:.5}},tooltip:{container:{background:a==="dark"?"#374151":"#ffffff",color:a==="dark"?"#e5e7eb":"#1f2937",fontSize:12,borderRadius:6,boxShadow:"0 2px 12px rgba(0,0,0,0.1)",padding:"8px 12px"}}},lineWidth:2,enablePoints:!1})})]})})};function dn(){return dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dn.apply(this,arguments)}var O$e={pointerEvents:"none"},$$e=function(e){var t=e.label,r=e.style,n=aa();return c.jsx(Za.g,{transform:r.transform,opacity:r.progress,style:O$e,children:c.jsx(Za.text,{textAnchor:"middle",dominantBaseline:"central",style:dn({},n.labels.text,{fill:r.textColor}),children:t})})},KG=function(e){var t=e%(2*Math.PI);return t<0&&(t+=2*Math.PI),t},D$e=function(e,t){return e.filter(function(r){return Math.abs(aP(r.arc.endAngle-r.arc.startAngle))>=t})},M$e={startAngle:{enter:function(e){return dn({},e,{endAngle:e.startAngle})},update:function(e){return e},leave:function(e){return dn({},e,{startAngle:e.endAngle})}},middleAngle:{enter:function(e){var t=e.startAngle+(e.endAngle-e.startAngle)/2;return dn({},e,{startAngle:t,endAngle:t})},update:function(e){return e},leave:function(e){var t=e.startAngle+(e.endAngle-e.startAngle)/2;return dn({},e,{startAngle:t,endAngle:t})}},endAngle:{enter:function(e){return dn({},e,{startAngle:e.endAngle})},update:function(e){return e},leave:function(e){return dn({},e,{endAngle:e.startAngle})}},innerRadius:{enter:function(e){return dn({},e,{outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return dn({},e,{innerRadius:e.outerRadius})}},centerRadius:{enter:function(e){var t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return dn({},e,{innerRadius:t,outerRadius:t})},update:function(e){return e},leave:function(e){var t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return dn({},e,{innerRadius:t,outerRadius:t})}},outerRadius:{enter:function(e){return dn({},e,{innerRadius:e.outerRadius})},update:function(e){return e},leave:function(e){return dn({},e,{outerRadius:e.innerRadius})}},pushIn:{enter:function(e){return dn({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return dn({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})}},pushOut:{enter:function(e){return dn({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})},update:function(e){return e},leave:function(e){return dn({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})}}},XG=function(e,t){return L.useMemo(function(){var r=M$e[e];return{enter:function(n){return dn({progress:0},r.enter(n.arc),t?t.enter(n):{})},update:function(n){return dn({progress:1},r.update(n.arc),t?t.update(n):{})},leave:function(n){return dn({progress:0},r.leave(n.arc),t?t.leave(n):{})}}},[e,t])},F$e=function(e,t){var r=rAe(e)-Math.PI/2,n=e.innerRadius+(e.outerRadius-e.innerRadius)*t;return np(r,n)},L$e=function(e){return function(t,r,n,a){return _m([t,r,n,a],function(i,s,o,l){var u=F$e({startAngle:i,endAngle:s,innerRadius:o,outerRadius:l},e);return"translate("+u.x+","+u.y+")"})}},I$e=function(e,t,r,n){t===void 0&&(t=.5),r===void 0&&(r="innerRadius");var a=ql(),i=a.animate,s=a.config,o=XG(r,n);return{transition:Ky(e,{keys:function(l){return l.id},initial:o.update,from:o.enter,enter:o.update,update:o.update,leave:o.leave,config:s,immediate:!i}),interpolate:L$e(t)}},R$e=function(e){var t=e.center,r=e.data,n=e.transitionMode,a=e.label,i=e.radiusOffset,s=e.skipAngle,o=e.textColor,l=e.component,u=l===void 0?$$e:l,d=qw(a),f=aa(),h=gd(o,f),p=L.useMemo(function(){return r.filter(function(y){return Math.abs(aP(y.arc.endAngle-y.arc.startAngle))>=s})},[r,s]),m=I$e(p,i,n),g=m.transition,v=m.interpolate,x=u;return c.jsx("g",{transform:"translate("+t[0]+","+t[1]+")",children:g(function(y,b){return L.createElement(x,{key:b.id,datum:b,label:d(b),style:dn({},y,{transform:v(y.startAngle,y.endAngle,y.innerRadius,y.outerRadius),textColor:h(b)})})})})},B$e=function(e){var t=e.label,r=e.style,n=aa();return c.jsxs(Za.g,{opacity:r.opacity,children:[c.jsx(Za.path,{fill:"none",stroke:r.linkColor,strokeWidth:r.thickness,d:r.path}),c.jsx(Za.text,{transform:r.textPosition,textAnchor:r.textAnchor,dominantBaseline:"central",style:dn({},n.labels.text,{fill:r.textColor}),children:t})]})},U$e=function(e){var t=KG(e.startAngle+(e.endAngle-e.startAngle)/2-Math.PI/2);return t<Math.PI/2||t>1.5*Math.PI?"start":"end"},QG=function(e,t,r,n){var a,i,s=KG(e.startAngle+(e.endAngle-e.startAngle)/2-Math.PI/2),o=np(s,e.outerRadius+t),l=np(s,e.outerRadius+t+r);return s<Math.PI/2||s>1.5*Math.PI?(a="after",i={x:l.x+n,y:l.y}):(a="before",i={x:l.x-n,y:l.y}),{side:a,points:[o,l,i]}},W$e=Ok().x(function(e){return e.x}).y(function(e){return e.y}),z$e=function(e,t,r,n,a,i,s){return _m([e,t,r,n,a,i,s],function(o,l,u,d,f,h,p){var m=QG({startAngle:o,endAngle:l,outerRadius:d},f,h,p).points;return W$e(m)})},H$e=function(e,t,r,n){return _m([e,t,r,n],function(a,i,s,o){return U$e({startAngle:a,endAngle:i})})},q$e=function(e,t,r,n,a,i,s,o){return _m([e,t,r,n,a,i,s,o],function(l,u,d,f,h,p,m,g){var v=QG({startAngle:l,endAngle:u,outerRadius:f},h,p,m),x=v.points,y=v.side,b=x[2];return y==="before"?b.x-=g:b.x+=g,"translate("+b.x+","+b.y+")"})},Y$e=function(e){var t=e.data,r=e.offset,n=r===void 0?0:r,a=e.diagonalLength,i=e.straightLength,s=e.skipAngle,o=s===void 0?0:s,l=e.textOffset,u=e.linkColor,d=e.textColor,f=ql(),h=f.animate,p=f.config,m=aa(),g=gd(u,m),v=gd(d,m),x=function(b,N){return L.useMemo(function(){return D$e(b,N)},[b,N])}(t,o),y=function(b){var N=b.offset,_=b.diagonalLength,C=b.straightLength,k=b.textOffset,w=b.getLinkColor,S=b.getTextColor;return L.useMemo(function(){return{enter:function(P){return{startAngle:P.arc.startAngle,endAngle:P.arc.endAngle,innerRadius:P.arc.innerRadius,outerRadius:P.arc.outerRadius,offset:N,diagonalLength:0,straightLength:0,textOffset:k,linkColor:w(P),textColor:S(P),opacity:0}},update:function(P){return{startAngle:P.arc.startAngle,endAngle:P.arc.endAngle,innerRadius:P.arc.innerRadius,outerRadius:P.arc.outerRadius,offset:N,diagonalLength:_,straightLength:C,textOffset:k,linkColor:w(P),textColor:S(P),opacity:1}},leave:function(P){return{startAngle:P.arc.startAngle,endAngle:P.arc.endAngle,innerRadius:P.arc.innerRadius,outerRadius:P.arc.outerRadius,offset:N,diagonalLength:0,straightLength:0,textOffset:k,linkColor:w(P),textColor:S(P),opacity:0}}}},[_,C,k,w,S,N])}({offset:n,diagonalLength:a,straightLength:i,textOffset:l,getLinkColor:g,getTextColor:v});return{transition:Ky(x,{keys:function(b){return b.id},initial:y.update,from:y.enter,enter:y.update,update:y.update,leave:y.leave,config:p,immediate:!h}),interpolateLink:z$e,interpolateTextAnchor:H$e,interpolateTextPosition:q$e}},V$e=function(e){var t=e.center,r=e.data,n=e.label,a=e.skipAngle,i=e.offset,s=e.diagonalLength,o=e.straightLength,l=e.strokeWidth,u=e.textOffset,d=e.textColor,f=e.linkColor,h=e.component,p=h===void 0?B$e:h,m=qw(n),g=Y$e({data:r,skipAngle:a,offset:i,diagonalLength:s,straightLength:o,textOffset:u,linkColor:f,textColor:d}),v=g.transition,x=g.interpolateLink,y=g.interpolateTextAnchor,b=g.interpolateTextPosition,N=p;return c.jsx("g",{transform:"translate("+t[0]+","+t[1]+")",children:v(function(_,C){return L.createElement(N,{key:C.id,datum:C,label:m(C),style:dn({},_,{thickness:l,path:x(_.startAngle,_.endAngle,_.innerRadius,_.outerRadius,_.offset,_.diagonalLength,_.straightLength),textAnchor:y(_.startAngle,_.endAngle,_.innerRadius,_.outerRadius),textPosition:b(_.startAngle,_.endAngle,_.innerRadius,_.outerRadius,_.offset,_.diagonalLength,_.straightLength,_.textOffset)})})})})},G$e=function(e){var t=e.datum,r=e.style,n=e.onClick,a=e.onMouseEnter,i=e.onMouseMove,s=e.onMouseLeave,o=L.useCallback(function(f){return n==null?void 0:n(t,f)},[n,t]),l=L.useCallback(function(f){return a==null?void 0:a(t,f)},[a,t]),u=L.useCallback(function(f){return i==null?void 0:i(t,f)},[i,t]),d=L.useCallback(function(f){return s==null?void 0:s(t,f)},[s,t]);return c.jsx(Za.path,{d:r.path,opacity:r.opacity,fill:t.fill||r.color,stroke:r.borderColor,strokeWidth:r.borderWidth,onClick:n?o:void 0,onMouseEnter:a?l:void 0,onMouseMove:i?u:void 0,onMouseLeave:s?d:void 0})},K$e=function(e,t,r,n,a){return _m([e,t,r,n],function(i,s,o,l){return a({startAngle:i,endAngle:s,innerRadius:Math.max(0,o),outerRadius:Math.max(0,l)})})},X$e=function(e,t,r){t===void 0&&(t="innerRadius");var n=ql(),a=n.animate,i=n.config,s=XG(t,r);return{transition:Ky(e,{keys:function(o){return o.id},initial:s.update,from:s.enter,enter:s.update,update:s.update,leave:s.leave,config:i,immediate:!a}),interpolate:K$e}},Q$e=function(e){var t=e.center,r=e.data,n=e.arcGenerator,a=e.borderWidth,i=e.borderColor,s=e.onClick,o=e.onMouseEnter,l=e.onMouseMove,u=e.onMouseLeave,d=e.transitionMode,f=e.component,h=f===void 0?G$e:f,p=aa(),m=gd(i,p),g=X$e(r,d,{enter:function(b){return{opacity:0,color:b.color,borderColor:m(b)}},update:function(b){return{opacity:1,color:b.color,borderColor:m(b)}},leave:function(b){return{opacity:0,color:b.color,borderColor:m(b)}}}),v=g.transition,x=g.interpolate,y=h;return c.jsx("g",{transform:"translate("+t[0]+","+t[1]+")",children:v(function(b,N){return L.createElement(y,{key:N.id,datum:N,style:dn({},b,{borderWidth:a,path:x(b.startAngle,b.endAngle,b.innerRadius,b.outerRadius,n)}),onClick:s,onMouseEnter:o,onMouseMove:l,onMouseLeave:u})})})},J$e=function(e,t,r,n,a,i){i===void 0&&(i=!0);var s=[],o=np(Vo(n),r);s.push([o.x,o.y]);var l=np(Vo(a),r);s.push([l.x,l.y]);for(var u=Math.round(Math.min(n,a));u<=Math.round(Math.max(n,a));u++)if(u%90==0){var d=np(Vo(u),r);s.push([d.x,d.y])}s=s.map(function(v){var x=v[0],y=v[1];return[e+x,t+y]}),i&&s.push([e,t]);var f=s.map(function(v){return v[0]}),h=s.map(function(v){return v[1]}),p=Math.min.apply(Math,f),m=Math.max.apply(Math,f),g=Math.min.apply(Math,h);return{points:s,x:p,y:g,width:m-p,height:Math.max.apply(Math,h)-g}},Z$e=function(e){var t=e===void 0?{}:e,r=t.cornerRadius,n=r===void 0?0:r,a=t.padAngle,i=a===void 0?0:a;return L.useMemo(function(){return f3e().innerRadius(function(s){return s.innerRadius}).outerRadius(function(s){return s.outerRadius}).cornerRadius(n).padAngle(i)},[n,i])};function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yd.apply(this,arguments)}function JG(e,t){if(e==null)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}var eDe=function(e){var t=e.width,r=e.height,n=e.legends,a=e.data,i=e.toggleSerie;return c.jsx(c.Fragment,{children:n.map(function(s,o){var l;return c.jsx(UG,yd({},s,{containerWidth:t,containerHeight:r,data:(l=s.data)!=null?l:a,toggleSerie:s.toggleSerie?i:void 0}),o)})})},Ut={id:"id",value:"value",sortByValue:!1,innerRadius:0,padAngle:0,cornerRadius:0,layers:["arcs","arcLinkLabels","arcLabels","legends"],startAngle:0,endAngle:360,fit:!0,activeInnerRadiusOffset:0,activeOuterRadiusOffset:0,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableArcLabels:!0,arcLabel:"formattedValue",arcLabelsSkipAngle:0,arcLabelsRadiusOffset:.5,arcLabelsTextColor:{theme:"labels.text.fill"},enableArcLinkLabels:!0,arcLinkLabel:"id",arcLinkLabelsSkipAngle:0,arcLinkLabelsOffset:0,arcLinkLabelsDiagonalLength:16,arcLinkLabelsStraightLength:24,arcLinkLabelsThickness:1,arcLinkLabelsTextOffset:6,arcLinkLabelsTextColor:{theme:"labels.text.fill"},arcLinkLabelsColor:{theme:"axis.ticks.line.stroke"},colors:{scheme:"nivo"},defs:[],fill:[],isInteractive:!0,animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",tooltip:function(e){var t=e.datum;return c.jsx(xq,{id:t.id,value:t.formattedValue,enableChip:!0,color:t.color})},legends:[],role:"img"},tDe=["points"],rDe=function(e){var t=e.data,r=e.id,n=r===void 0?Ut.id:r,a=e.value,i=a===void 0?Ut.value:a,s=e.valueFormat,o=e.colors,l=o===void 0?Ut.colors:o,u=qw(n),d=qw(i),f=Hw(s),h=VV(l,"id");return L.useMemo(function(){return t.map(function(p){var m,g=u(p),v=d(p),x={id:g,label:(m=p.label)!=null?m:g,hidden:!1,value:v,formattedValue:f(v),data:p};return yd({},x,{color:h(x)})})},[t,u,d,f,h])},nDe=function(e){var t=e.data,r=e.startAngle,n=e.endAngle,a=e.innerRadius,i=e.outerRadius,s=e.padAngle,o=e.sortByValue,l=e.activeId,u=e.activeInnerRadiusOffset,d=e.activeOuterRadiusOffset,f=e.hiddenIds,h=e.forwardLegendData,p=L.useMemo(function(){var x=m3e().value(function(y){return y.value}).startAngle(Vo(r)).endAngle(Vo(n)).padAngle(Vo(s));return o||x.sortValues(null),x},[r,n,s,o]),m=L.useMemo(function(){var x=t.filter(function(y){return!f.includes(y.id)});return{dataWithArc:p(x).map(function(y){var b=Math.abs(y.endAngle-y.startAngle);return yd({},y.data,{arc:{index:y.index,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:l===y.data.id?a-u:a,outerRadius:l===y.data.id?i+d:i,thickness:i-a,padAngle:y.padAngle,angle:b,angleDeg:aP(b)}})}),legendData:t.map(function(y){return{id:y.id,label:y.label,color:y.color,hidden:f.includes(y.id),data:y}})}},[p,t,f,l,a,u,i,d]),g=m.legendData,v=L.useRef(h);return L.useEffect(function(){typeof v.current=="function"&&v.current(g)},[v,g]),m},aDe=function(e){var t=e.activeId,r=e.onActiveIdChange,n=e.defaultActiveId,a=t!==void 0,i=L.useState(a||n===void 0?null:n),s=i[0],o=i[1];return{activeId:a?t:s,setActiveId:L.useCallback(function(l){r&&r(l),a||o(l)},[a,r,o])}},iDe=function(e){var t=e.data,r=e.width,n=e.height,a=e.innerRadius,i=a===void 0?Ut.innerRadius:a,s=e.startAngle,o=s===void 0?Ut.startAngle:s,l=e.endAngle,u=l===void 0?Ut.endAngle:l,d=e.padAngle,f=d===void 0?Ut.padAngle:d,h=e.sortByValue,p=h===void 0?Ut.sortByValue:h,m=e.cornerRadius,g=m===void 0?Ut.cornerRadius:m,v=e.fit,x=v===void 0?Ut.fit:v,y=e.activeInnerRadiusOffset,b=y===void 0?Ut.activeInnerRadiusOffset:y,N=e.activeOuterRadiusOffset,_=N===void 0?Ut.activeOuterRadiusOffset:N,C=e.activeId,k=e.onActiveIdChange,w=e.defaultActiveId,S=e.forwardLegendData,P=aDe({activeId:C,onActiveIdChange:k,defaultActiveId:w}),A=P.activeId,T=P.setActiveId,F=L.useState([]),M=F[0],H=F[1],z=L.useMemo(function(){var I,X=Math.min(r,n)/2,J=X*Math.min(i,1),E=r/2,R=n/2;if(x){var B=J$e(E,R,X,o-90,u-90),q=B.points,K=JG(B,tDe),ae=Math.min(r/K.width,n/K.height),ee={width:K.width*ae,height:K.height*ae};ee.x=(r-ee.width)/2,ee.y=(n-ee.height)/2,E=(E-K.x)/K.width*K.width*ae+ee.x,R=(R-K.y)/K.height*K.height*ae+ee.y,I={box:K,ratio:ae,points:q},X*=ae,J*=ae}return{centerX:E,centerY:R,radius:X,innerRadius:J,debug:I}},[r,n,i,o,u,x]),Y=nDe({data:t,startAngle:o,endAngle:u,innerRadius:z.innerRadius,outerRadius:z.radius,padAngle:f,sortByValue:p,activeId:A,activeInnerRadiusOffset:b,activeOuterRadiusOffset:_,hiddenIds:M,forwardLegendData:S}),G=L.useCallback(function(I){H(function(X){return X.indexOf(I)>-1?X.filter(function(J){return J!==I}):[].concat(X,[I])})},[]);return yd({arcGenerator:Z$e({cornerRadius:g,padAngle:Vo(f)}),activeId:A,setActiveId:T,toggleSerie:G},Y,z)},sDe=function(e){var t=e.dataWithArc,r=e.arcGenerator,n=e.centerX,a=e.centerY,i=e.radius,s=e.innerRadius;return L.useMemo(function(){return{dataWithArc:t,arcGenerator:r,centerX:n,centerY:a,radius:i,innerRadius:s}},[t,r,n,a,i,s])},oDe=function(e){var t=e.center,r=e.data,n=e.arcGenerator,a=e.borderWidth,i=e.borderColor,s=e.isInteractive,o=e.onClick,l=e.onMouseEnter,u=e.onMouseMove,d=e.onMouseLeave,f=e.setActiveId,h=e.tooltip,p=e.transitionMode,m=Xy(),g=m.showTooltipFromEvent,v=m.hideTooltip,x=L.useMemo(function(){if(s)return function(_,C){o==null||o(_,C)}},[s,o]),y=L.useMemo(function(){if(s)return function(_,C){g(L.createElement(h,{datum:_}),C),f(_.id),l==null||l(_,C)}},[s,g,f,l,h]),b=L.useMemo(function(){if(s)return function(_,C){g(L.createElement(h,{datum:_}),C),u==null||u(_,C)}},[s,g,u,h]),N=L.useMemo(function(){if(s)return function(_,C){v(),f(null),d==null||d(_,C)}},[s,v,f,d]);return c.jsx(Q$e,{center:t,data:r,arcGenerator:n,borderWidth:a,borderColor:i,transitionMode:p,onClick:x,onMouseEnter:y,onMouseMove:b,onMouseLeave:N})},lDe=["isInteractive","animate","motionConfig","theme","renderWrapper"],cDe=function(e){var t=e.data,r=e.id,n=r===void 0?Ut.id:r,a=e.value,i=a===void 0?Ut.value:a,s=e.valueFormat,o=e.sortByValue,l=o===void 0?Ut.sortByValue:o,u=e.layers,d=u===void 0?Ut.layers:u,f=e.startAngle,h=f===void 0?Ut.startAngle:f,p=e.endAngle,m=p===void 0?Ut.endAngle:p,g=e.padAngle,v=g===void 0?Ut.padAngle:g,x=e.fit,y=x===void 0?Ut.fit:x,b=e.innerRadius,N=b===void 0?Ut.innerRadius:b,_=e.cornerRadius,C=_===void 0?Ut.cornerRadius:_,k=e.activeInnerRadiusOffset,w=k===void 0?Ut.activeInnerRadiusOffset:k,S=e.activeOuterRadiusOffset,P=S===void 0?Ut.activeOuterRadiusOffset:S,A=e.width,T=e.height,F=e.margin,M=e.colors,H=M===void 0?Ut.colors:M,z=e.borderWidth,Y=z===void 0?Ut.borderWidth:z,G=e.borderColor,I=G===void 0?Ut.borderColor:G,X=e.enableArcLabels,J=X===void 0?Ut.enableArcLabels:X,E=e.arcLabel,R=E===void 0?Ut.arcLabel:E,B=e.arcLabelsSkipAngle,q=B===void 0?Ut.arcLabelsSkipAngle:B,K=e.arcLabelsTextColor,ae=K===void 0?Ut.arcLabelsTextColor:K,ee=e.arcLabelsRadiusOffset,W=ee===void 0?Ut.arcLabelsRadiusOffset:ee,Z=e.arcLabelsComponent,re=e.enableArcLinkLabels,O=re===void 0?Ut.enableArcLinkLabels:re,de=e.arcLinkLabel,ce=de===void 0?Ut.arcLinkLabel:de,pe=e.arcLinkLabelsSkipAngle,Q=pe===void 0?Ut.arcLinkLabelsSkipAngle:pe,ne=e.arcLinkLabelsOffset,Ae=ne===void 0?Ut.arcLinkLabelsOffset:ne,Ee=e.arcLinkLabelsDiagonalLength,De=Ee===void 0?Ut.arcLinkLabelsDiagonalLength:Ee,Oe=e.arcLinkLabelsStraightLength,Fe=Oe===void 0?Ut.arcLinkLabelsStraightLength:Oe,ve=e.arcLinkLabelsThickness,me=ve===void 0?Ut.arcLinkLabelsThickness:ve,le=e.arcLinkLabelsTextOffset,be=le===void 0?Ut.arcLinkLabelsTextOffset:le,Pe=e.arcLinkLabelsTextColor,je=Pe===void 0?Ut.arcLinkLabelsTextColor:Pe,Ce=e.arcLinkLabelsColor,Be=Ce===void 0?Ut.arcLinkLabelsColor:Ce,$e=e.arcLinkLabelComponent,et=e.defs,Je=et===void 0?Ut.defs:et,St=e.fill,Tt=St===void 0?Ut.fill:St,wt=e.isInteractive,Kt=wt===void 0?Ut.isInteractive:wt,Dt=e.onClick,Ur=e.onMouseEnter,kr=e.onMouseMove,wn=e.onMouseLeave,Tn=e.tooltip,yr=Tn===void 0?Ut.tooltip:Tn,It=e.activeId,tr=e.onActiveIdChange,ti=e.defaultActiveId,Zr=e.transitionMode,Mn=Zr===void 0?Ut.transitionMode:Zr,qn=e.legends,$t=qn===void 0?Ut.legends:qn,ia=e.forwardLegendData,Pt=e.role,sr=Pt===void 0?Ut.role:Pt,mr=tP(A,T,F),$r=mr.outerWidth,oe=mr.outerHeight,Se=mr.margin,xe=mr.innerWidth,ye=mr.innerHeight,_e=rDe({data:t,id:n,value:i,valueFormat:s,colors:H}),Ne=iDe({data:_e,width:xe,height:ye,fit:y,innerRadius:N,startAngle:h,endAngle:m,padAngle:v,sortByValue:l,cornerRadius:C,activeInnerRadiusOffset:w,activeOuterRadiusOffset:P,activeId:It,onActiveIdChange:tr,defaultActiveId:ti,forwardLegendData:ia}),He=Ne.dataWithArc,Qe=Ne.legendData,Ye=Ne.arcGenerator,Ve=Ne.centerX,Ge=Ne.centerY,lt=Ne.radius,ht=Ne.innerRadius,pt=Ne.setActiveId,ut=Ne.toggleSerie,mt=zV(Je,He,Tt),Mt={arcs:null,arcLinkLabels:null,arcLabels:null,legends:null};d.includes("arcs")&&(Mt.arcs=c.jsx(oDe,{center:[Ve,Ge],data:He,arcGenerator:Ye,borderWidth:Y,borderColor:I,isInteractive:Kt,onClick:Dt,onMouseEnter:Ur,onMouseMove:kr,onMouseLeave:wn,setActiveId:pt,tooltip:yr,transitionMode:Mn},"arcs")),O&&d.includes("arcLinkLabels")&&(Mt.arcLinkLabels=c.jsx(V$e,{center:[Ve,Ge],data:He,label:ce,skipAngle:Q,offset:Ae,diagonalLength:De,straightLength:Fe,strokeWidth:me,textOffset:be,textColor:je,linkColor:Be,component:$e},"arcLinkLabels")),J&&d.includes("arcLabels")&&(Mt.arcLabels=c.jsx(R$e,{center:[Ve,Ge],data:He,label:R,radiusOffset:W,skipAngle:q,textColor:ae,transitionMode:Mn,component:Z},"arcLabels")),$t.length>0&&d.includes("legends")&&(Mt.legends=c.jsx(eDe,{width:xe,height:ye,data:Qe,legends:$t,toggleSerie:ut},"legends"));var fr=sDe({dataWithArc:He,arcGenerator:Ye,centerX:Ve,centerY:Ge,radius:lt,innerRadius:ht});return c.jsx(iP,{width:$r,height:oe,margin:Se,defs:mt,role:sr,children:d.map(function(br,_n){return Mt[br]!==void 0?Mt[br]:typeof br=="function"?c.jsx(L.Fragment,{children:L.createElement(br,fr)},_n):null})})},uDe=function(e){var t=e.isInteractive,r=t===void 0?Ut.isInteractive:t,n=e.animate,a=n===void 0?Ut.animate:n,i=e.motionConfig,s=i===void 0?Ut.motionConfig:i,o=e.theme,l=e.renderWrapper,u=JG(e,lDe);return c.jsx(nP,{animate:a,isInteractive:r,motionConfig:s,renderWrapper:l,theme:o,children:c.jsx(cDe,yd({isInteractive:r},u))})},ZG=function(e){return c.jsx(Lk,{children:function(t){var r=t.width,n=t.height;return c.jsx(uDe,yd({width:r,height:n},e))}})};const zF=["#F4C430","#3498DB","#2ECC71","#E74C3C"],dDe=({monthlyOrderData:e,dailyOrderStats:t})=>{const{theme:r}=Yt(),n=r==="dark",[a,i]=L.useState(window.innerWidth);L.useEffect(()=>{const x=()=>i(window.innerWidth);return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const s=e.reduce((x,y)=>x+y.value,0),o=e.map(x=>({id:x.name,label:x.name,value:Math.round(x.value/s*100),color:zF[e.indexOf(x)]})),l=t.slice(-30),u=a<640?l.filter((x,y)=>y%3===0||y===l.length-1):l,d=[{id:"Orders",color:"#60A5FA",data:u.map(x=>({x:new Date(x.date).getDate().toString(),y:x.orders}))}],f=new Map(u.map(x=>[new Date(x.date).getDate().toString(),x.date])),h=l.reduce((x,y)=>x+y.orders,0),p=a<640,m=a>=640&&a<1024,g=p?{top:5,right:5,bottom:30,left:5}:{top:10,right:10,bottom:40,left:10},v=p?{top:10,right:10,left:30,bottom:40}:m?{top:15,right:15,left:35,bottom:50}:{top:20,right:20,left:40,bottom:60};return c.jsx("div",{className:`w-full overflow-hidden ${n?"text-white":"text-gray-900"}`,children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-5 lg:gap-8",children:[c.jsx("div",{className:`rounded-lg overflow-hidden ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border shadow-sm hover:shadow-md transition-shadow`,children:c.jsxs("div",{className:"p-3 sm:p-4 lg:p-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-3 sm:mb-4 lg:mb-6",children:c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold mb-0.5 sm:mb-1 truncate",children:String(s)}),c.jsxs("p",{className:`text-xs lg:text-sm truncate ${n?"text-gray-400":"text-gray-600"}`,children:["Total Orders for ",new Date().toLocaleString("default",{month:"long"})]})]})}),c.jsx("div",{className:"h-[200px] xs:h-[220px] sm:h-[250px] lg:h-[300px] w-full overflow-hidden",style:{background:r==="dark"?"linear-gradient(to bottom, #1f2937, #111827)":"linear-gradient(to bottom, white,#efeff1)",borderRadius:"0.5rem",padding:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:c.jsx(ZG,{data:o,margin:g,innerRadius:p?.6:.65,padAngle:.5,cornerRadius:1,colors:x=>x.data.color,borderWidth:0,enableArcLinkLabels:!1,arcLabelsSkipAngle:p?15:10,arcLabelsTextColor:"#ffffff",arcLabel:x=>p&&x.value<10?"":`${x.value}%`,legends:[{anchor:"bottom",direction:"row",justify:!1,translateY:p?20:30,itemsSpacing:2,itemWidth:p?70:80,itemHeight:p?18:20,itemTextColor:n?"#e5e7eb":"#6B7280",itemDirection:"left-to-right",itemOpacity:1,symbolSize:p?8:10,symbolShape:"circle"}],theme:{labels:{text:{fontSize:p?10:12,fontWeight:"bold"}},legends:{text:{fontSize:p?8:10}},tooltip:{container:{background:n?"#374151":"#ffffff",color:n?"#e5e7eb":"#1f2937",fontSize:12,borderRadius:6,boxShadow:"0 2px 12px rgba(0,0,0,0.1)",padding:"8px 12px"}},axis:{ticks:{text:{fill:n?"#9ca3af":"#6B7280"}},legend:{text:{fill:n?"#9ca3af":"#6B7280"}}}}})}),c.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-2 text-xs",children:e.map((x,y)=>c.jsxs("div",{className:`rounded p-2 text-center ${n?"bg-gray-900":"bg-gray-50"}`,children:[c.jsx("p",{className:`${n?"text-gray-400":"text-gray-500"} truncate`,children:x.name}),c.jsx("p",{className:"font-medium mt-1",style:{color:zF[y]},children:x.value})]},x.name))})]})}),c.jsx("div",{className:`rounded-lg overflow-hidden ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border shadow-sm hover:shadow-md transition-shadow`,children:c.jsxs("div",{className:"p-3 sm:p-4 lg:p-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-3 sm:mb-4 lg:mb-6",children:c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold mb-0.5 sm:mb-1 truncate",children:String(h)}),c.jsx("p",{className:`text-xs lg:text-sm truncate ${n?"text-gray-400":"text-gray-600"}`,children:"Orders Over The Past Month"})]})}),c.jsx("div",{className:"h-[200px] xs:h-[220px] sm:h-[250px] lg:h-[300px] w-full overflow-hidden",style:{background:r==="dark"?"linear-gradient(to bottom, #1f2937, #111827)":"linear-gradient(to bottom, white, #efeff1)"},children:c.jsx(GG,{data:d,margin:v,xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto",stacked:!1},curve:"monotoneX",enableSlices:"x",crosshairType:"x",axisLeft:{tickSize:0,tickPadding:p?5:10,tickRotation:0,format:x=>String(x),legend:p?"":"Number of Orders",legendOffset:-35,legendPosition:"middle"},axisBottom:{tickSize:0,tickPadding:p?8:15,tickRotation:p?-30:-45,format:x=>String(x),legend:p?"":"Day of Month",legendOffset:p?30:45,legendPosition:"middle"},enableGridX:!1,enableGridY:!0,pointSize:p?3:4,pointColor:r==="dark"?"#60A5FA":"#3b82f6",pointBorderWidth:0,enableArea:!0,areaOpacity:.1,areaBaselineValue:0,lineWidth:p?1.5:2,useMesh:!0,colors:[r==="dark"?"#60A5FA":"#3b82f6"],theme:{grid:{line:{stroke:r==="dark"?"#374151":"#f0f0f0",strokeWidth:1}},axis:{legend:{text:{fontSize:p?7:8,fill:r==="dark"?"#9ca3af":"#6B7280"}},ticks:{text:{fontSize:p?7:8,fill:r==="dark"?"#9ca3af":"#6B7280"}}},tooltip:{container:{background:r==="dark"?"#374151":"#ffffff",color:r==="dark"?"#e5e7eb":"#1f2937",fontSize:12,borderRadius:6,boxShadow:"0 2px 12px rgba(0,0,0,0.1)",padding:"8px 12px"}}},tooltip:({point:x})=>{const y=f.get(x.data.x.toString());return c.jsxs("div",{style:{background:r==="dark"?"#374151":"white",padding:p?"6px 10px":"8px 12px",border:`1px solid ${r==="dark"?"#4b5563":"#e5e7eb"}`,borderRadius:"6px",fontSize:p?"10px":"12px",boxShadow:"0 2px 12px rgba(0,0,0,0.1)",color:r==="dark"?"#e5e7eb":"inherit"},children:[c.jsx("strong",{children:String(x.data.y)})," orders",c.jsx("br",{}),c.jsx("span",{className:r==="dark"?"text-gray-400":"text-gray-600",children:y?new Date(y).toLocaleDateString():`Day ${x.data.x}`})]})}})}),c.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-2 text-xs",children:[c.jsxs("div",{className:`rounded p-2 text-center ${n?"bg-gray-900":"bg-gray-50"}`,children:[c.jsx("p",{className:`${n?"text-gray-400":"text-gray-500"}`,children:"Daily Avg"}),c.jsx("p",{className:`font-medium mt-1 ${n?"text-blue-400":"text-blue-600"}`,children:(h/l.length).toFixed(1)})]}),c.jsxs("div",{className:`rounded p-2 text-center ${n?"bg-gray-900":"bg-gray-50"}`,children:[c.jsx("p",{className:`${n?"text-gray-400":"text-gray-500"}`,children:"Weekly Avg"}),c.jsx("p",{className:`font-medium mt-1 ${n?"text-blue-400":"text-blue-600"}`,children:(h/4).toFixed(1)})]}),c.jsxs("div",{className:`rounded p-2 text-center ${n?"bg-gray-900":"bg-gray-50"}`,children:[c.jsx("p",{className:`${n?"text-gray-400":"text-gray-500"}`,children:"Highest"}),c.jsx("p",{className:`font-medium mt-1 ${n?"text-green-400":"text-green-600"}`,children:Math.max(...l.map(x=>x.orders))})]}),c.jsxs("div",{className:`rounded p-2 text-center ${n?"bg-gray-900":"bg-gray-50"}`,children:[c.jsx("p",{className:`${n?"text-gray-400":"text-gray-500"}`,children:"Lowest"}),c.jsx("p",{className:`font-medium mt-1 ${n?"text-yellow-400":"text-yellow-600"}`,children:Math.min(...l.map(x=>x.orders))})]})]})]})})]})})},fDe=({isOpen:e,onClose:t,onPaymentRecorded:r,outstandingItems:n,isLoading:a,currencySymbol:i})=>{const{theme:s,getThemeStyle:o}=Yt(),[l,u]=L.useState(null),[d,f]=L.useState(""),h=[...n].filter(p=>p.number.toLowerCase().includes(d.toLowerCase())||p.id.toLowerCase().includes(d.toLowerCase())).sort((p,m)=>new Date(m.created_at).getTime()-new Date(p.created_at).getTime());return e?c.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 transition-opacity","aria-hidden":"true",children:c.jsx("div",{className:`absolute inset-0 ${o(s,"modal","overlay")}`,onClick:t})}),c.jsx("div",{className:"fixed inset-y-0 right-0 flex max-w-full pl-0 sm:pl-10",children:c.jsxs("div",{className:`w-screen max-w-md ${o(s,"modal","background")} shadow-xl overflow-y-auto`,children:[c.jsxs("div",{className:`flex items-center justify-between px-6 py-4 border-b ${o(s,"border","primary")}`,children:[c.jsx("h3",{className:`text-lg font-medium ${o(s,"text","primary")}`,children:"Record Payment"}),c.jsx("button",{onClick:t,className:`${o(s,"text","muted")} ${o(s,"interactive","hover","text")}`,children:c.jsx(dr,{className:"h-5 w-5"})})]}),l?c.jsx("div",{className:"p-6",children:c.jsx(bp,{orderId:l.id,orderType:l.type,orderNumber:l.number,clientName:l.client_name,outstandingBalance:l.outstanding_balance,onPaymentRecorded:()=>{u(null),t(),r()},isOpen:!0,onClose:()=>u(null),showTriggerButton:!1,currencySymbol:i})}):c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"mb-4",children:c.jsx("input",{type:"text",value:d,onChange:p=>f(p.target.value),className:`${o(s,"background","primary")} 
                  ${o(s,"text","primary")} block w-full rounded-md shadow-sm 
                  h-[40px] pl-3 pr-12 sm:text-sm border ${o(s,"border","primary")}
                  focus:border-blue-500 focus:ring-blue-500`,placeholder:"Search by order number or ID..."})}),a?c.jsx("div",{className:"flex justify-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):h.length===0?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:o(s,"text","muted"),children:"No outstanding items found"})}):c.jsx("div",{className:"space-y",children:h.map(p=>c.jsx("button",{onClick:()=>u({id:p.id,type:p.type,outstandingBalance:p.outstanding_balance}),className:`w-full text-left p-2 ${o(s,"border","primary")} ${o(s,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-blue-500`,children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${o(s,"text","primary")}`,children:p.number}),c.jsx("p",{className:`text-xs ${o(s,"text","muted")}`,children:p.client_name})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:`text-sm font-medium ${o(s,"text","primary")}`,children:[i," ",p.outstanding_balance.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),c.jsx("p",{className:`text-xs ${o(s,"text","muted")}`,children:new Date(p.created_at).toLocaleDateString()})]})]})},`${p.type}-${p.id}`))})]})]})})]}):null},Y3=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),hDe=e=>[{name:wl.pending,value:e.pending,status:"pending"},{name:wl.in_progress,value:e.in_progress,status:"in_progress"},{name:wl.completed,value:e.completed,status:"completed"},{name:wl.cancelled,value:e.cancelled,status:"cancelled"}];function pDe(){var X;const{organization:e}=ir(),{theme:t}=Yt(),[r,n]=L.useState({activeOrders:0,revenueToday:0,outstandingAmount:0,currentMonthRevenue:0,ordersToday:0,salesToday:0,completedOrdersToday:0,completedTasksToday:0,ordersDueToday:0,monthlyOrderStats:{pending:0,in_progress:0,completed:0,cancelled:0}}),{addToast:a}=Or(),[i,s]=L.useState([]),[o,l]=L.useState(!0),[u,d]=L.useState(!0),[f,h]=L.useState(!0),[p,m]=L.useState(window.innerWidth),[g,v]=L.useState([]),[x,y]=L.useState([]),[b,N]=L.useState(!1),[_,C]=L.useState(null),[k,w]=L.useState([]),[S,P]=L.useState(!1),[A,T]=L.useState(""),F=e!=null&&e.currency?((X=sn[e.currency])==null?void 0:X.symbol)||e.currency:"$",M=async()=>{var J,E,R,B,q,K;if(e)try{const ae=new Date().toISOString().split("T")[0],ee=new Date,W=new Date(ee.getFullYear(),ee.getMonth(),1),Z=new Date(ee.getFullYear(),ee.getMonth()+1,0),re=W.toISOString().split("T")[0],O=Z.toISOString().split("T")[0],[de,ce,pe,Q,ne,Ae,Ee,De,Oe,Fe]=await Promise.all([We.from("orders").select("*",{count:"exact",head:!0}).eq("organization_id",e.id).not("status","eq","completed").not("status","eq","cancelled"),We.from("orders").select("*",{count:"exact",head:!0}).eq("organization_id",e.id).not("status","eq","cancelled").gte("created_at",ae).lt("created_at",new Date(new Date(ae).getTime()+24*60*60*1e3).toISOString()),We.from("sales_orders").select("*",{count:"exact",head:!0}).eq("organization_id",e.id).gte("created_at",ae).lt("created_at",new Date(new Date(ae).getTime()+24*60*60*1e3).toISOString()),We.from("orders").select("outstanding_balance").eq("organization_id",e.id).not("status","eq","cancelled"),We.from("sales_orders").select("outstanding_balance").eq("organization_id",e.id),We.from("orders").select("*",{count:"exact",head:!0}).eq("organization_id",e.id).eq("status","completed").gte("created_at",ae).lt("created_at",new Date(new Date(ae).getTime()+24*60*60*1e3).toISOString()),We.from("tasks").select("*",{count:"exact",head:!0}).eq("organization_id",e.id).eq("status","completed").gte("created_at",ae).lt("created_at",new Date(new Date(ae).getTime()+24*60*60*1e3).toISOString()),We.from("orders").select("*",{count:"exact",head:!0}).eq("organization_id",e.id).not("status","eq","completed").not("status","eq","cancelled").eq("due_date",ae),We.from("payments").select("amount").eq("organization_id",e.id).gte("created_at",ae).not("status","eq","cancelled").lt("created_at",new Date(new Date(ae).getTime()+24*60*60*1e3).toISOString()),We.from("payments").select("amount").eq("organization_id",e.id).gte("created_at",re).lte("created_at",O+"T23:59:59")]),ve=(((J=Q.data)==null?void 0:J.reduce((Pe,je)=>Pe+(je.outstanding_balance||0),0))||0)+(((E=ne.data)==null?void 0:E.reduce((Pe,je)=>Pe+(je.outstanding_balance||0),0))||0),me=((R=Oe.data)==null?void 0:R.reduce((Pe,je)=>Pe+(je.amount||0),0))||0,le=((B=Fe.data)==null?void 0:B.reduce((Pe,je)=>Pe+(je.amount||0),0))||0,be=[{key:"activeOrders",value:de.count||0},{key:"ordersToday",value:ce.count||0},{key:"salesToday",value:pe.count||0},{key:"outstandingAmount",value:ve},{key:"outstandingSales",value:((q=ne.data)==null?void 0:q.reduce((Pe,je)=>Pe+(je.outstanding_balance||0),0))||0},{key:"outstandingOrders",value:((K=Q.data)==null?void 0:K.reduce((Pe,je)=>Pe+(je.outstanding_balance||0),0))||0},{key:"completedOrdersToday",value:Ae.count||0},{key:"completedTasksToday",value:Ee.count||0},{key:"ordersDueToday",value:De.count||0},{key:"revenueToday",value:me},{key:"currentMonthRevenue",value:le}];for(const Pe of be)n(je=>({...je,[Pe.key]:Pe.value})),y(je=>[...je,Pe.key])}catch(ae){console.error("Error loading basic stats:",ae)}finally{l(!1)}},H=async()=>{if(!(!e||o))try{const J=new Date,E=new Date(J.getFullYear(),J.getMonth(),1),R=new Date(J.getFullYear(),J.getMonth()+1,0),B=E.toISOString().split("T")[0],q=R.toISOString().split("T")[0],{data:K}=await We.from("payments").select("amount, reference_id, reference_type, created_at").eq("organization_id",e.id).gte("created_at",B).lte("created_at",q+"T23:59:59"),ae=await Promise.all((K==null?void 0:K.map(async re=>{if(re.reference_type==="service_order"){const{data:O}=await We.from("orders").select("status").eq("id",re.reference_id).single();return(O==null?void 0:O.status)!=="cancelled"?re:null}return re}))||[]),ee=ae.filter(re=>re!==null).reduce((re,O)=>re+((O==null?void 0:O.amount)||0),0),W=new Map;for(let re=0;re<=R.getDate();re++){const O=new Date(E);O.setDate(re+1);const de=O.toISOString().split("T")[0];W.set(de,{total:0,sales:0,service:0})}ae.filter(re=>re!==null).forEach(re=>{const O=re==null?void 0:re.created_at.split("T")[0];if(!O)return;const de=W.get(O)||{total:0,sales:0,service:0},ce=(re==null?void 0:re.amount)||0;(re==null?void 0:re.reference_type)==="sales_order"?de.sales+=ce:(re==null?void 0:re.reference_type)==="service_order"&&(de.service+=ce),de.total+=ce,W.set(O,de)});const Z=Array.from(W.entries()).map(([re,O])=>({date:re,total:O.total,sales:O.sales,service:O.service})).sort((re,O)=>re.date.localeCompare(O.date));s(Z)}catch(J){console.error("Error loading revenue data:",J)}finally{d(!1)}},z=async()=>{if(!(!e||u))try{const J=new Date,E=new Date(J.getFullYear(),J.getMonth(),1),R=new Date(J.getFullYear(),J.getMonth()+1,0),B=E.toISOString().split("T")[0],q=R.toISOString().split("T")[0],{data:K}=await We.from("orders").select("status").eq("organization_id",e.id).gte("created_at",B).lte("created_at",q+"T23:59:59"),ae={pending:(K==null?void 0:K.filter(de=>de.status==="pending").length)||0,in_progress:(K==null?void 0:K.filter(de=>de.status==="in_progress").length)||0,completed:(K==null?void 0:K.filter(de=>de.status==="completed").length)||0,cancelled:(K==null?void 0:K.filter(de=>de.status==="cancelled").length)||0},ee=new Date;ee.setDate(ee.getDate()-30);const W=ee.toISOString().split("T")[0],{data:Z}=await We.from("orders").select("created_at").eq("organization_id",e.id).gte("created_at",W).order("created_at",{ascending:!0}),re=new Map;Z==null||Z.forEach(de=>{const ce=de.created_at.split("T")[0];re.set(ce,(re.get(ce)||0)+1)});const O=[];for(let de=0;de<30;de++){const ce=new Date;ce.setDate(ce.getDate()-de);const pe=ce.toISOString().split("T")[0];O.unshift({date:pe,orders:re.get(pe)||0})}n(de=>({...de,monthlyOrderStats:ae})),v(O)}catch(J){console.error("Error loading order stats:",J)}finally{h(!1)}},Y=async()=>{if(e){P(!0);try{const{data:J,error:E}=await We.from("sales_orders").select(`
          id,
          order_number,
          outstanding_balance,
          created_at,
          client:clients!client_id (
            name
          )
        `).eq("organization_id",e.id).not("status","eq","cancelled").gt("outstanding_balance",0).order("created_at",{ascending:!1});if(E)throw E;const{data:R,error:B}=await We.from("orders").select(`
          id,
          order_number,
          outstanding_balance,
          created_at,
          client:clients!client_id (
            name
          )
        `).eq("organization_id",e.id).not("status","eq","cancelled").gt("outstanding_balance",0).order("created_at",{ascending:!1});if(B)throw B;const q=[...(J||[]).map(K=>{var ee,W;const ae=K.client&&Array.isArray(K.client)?(ee=K.client[0])==null?void 0:ee.name:(W=K.client)==null?void 0:W.name;return{id:K.id,type:"sales_order",number:K.order_number,client_name:ae||"N/A",outstanding_balance:K.outstanding_balance,created_at:K.created_at}}),...(R||[]).map(K=>{var ee,W;const ae=K.client&&Array.isArray(K.client)?(ee=K.client[0])==null?void 0:ee.name:(W=K.client)==null?void 0:W.name;return{id:K.id,type:"service_order",number:K.order_number,client_name:ae||"N/A",outstanding_balance:K.outstanding_balance,created_at:K.created_at}})];w(q)}catch(J){console.error("Error loading outstanding items:",J),a({type:"error",title:"Error",message:"Failed to load outstanding items"})}finally{P(!1)}}};L.useEffect(()=>{const J=()=>{m(window.innerWidth)};return window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]),L.useEffect(()=>{M()},[e]),L.useEffect(()=>{H()},[e,o]),L.useEffect(()=>{z()},[e,u]);const G=async()=>{N(!0),await Y()},I=()=>{M(),H(),z()};return k.filter(J=>J.number.toLowerCase().includes(A.toLowerCase())||J.id.toLowerCase().includes(A.toLowerCase())),o?c.jsx("div",{className:"animate-pulse p-4",children:c.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:[...Array(3)].map((J,E)=>c.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:c.jsxs("div",{className:"p-5",children:[c.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-4"}),c.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4"})]})},E))})}):(r.activeOrders,r.ordersToday,r.ordersDueToday,r.completedOrdersToday,r.completedTasksToday,r.salesToday,`${F}${Y3(r.revenueToday)}`,`${F}${Y3(r.outstandingAmount)}`,r.outstandingSales,r.outstandingOrders,`${new Date().toLocaleString("default",{month:"long"})}`,`${F}${Y3(r.currentMonthRevenue)}`,r.monthlyOrderStats&&(wl.pending,r.monthlyOrderStats.pending,wl.in_progress,r.monthlyOrderStats.in_progress,wl.completed,r.monthlyOrderStats.completed,wl.cancelled,r.monthlyOrderStats.cancelled),c.jsxs("div",{className:`${nt(t,"background","primary")} p-4 overflow-x-hidden`,children:[c.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[c.jsxs("div",{className:"lg:w-1/4 xl:w-1/5 min-w-0 sm:max-w-[250px] flex-shrink-0",children:[c.jsx("div",{className:"flex justify-end mb-6 mt-2 sm:hidden",children:c.jsx(UD,{onRecordPayment:G})}),c.jsx(Vme,{stats:r,loadedStats:x,currencySymbol:F})]}),c.jsxs("div",{className:"flex-1 space-y-6 min-w-0",children:[c.jsx("div",{className:"flex justify-end mb-6 mt-2 hidden sm:flex",children:c.jsx(UD,{onRecordPayment:G})}),c.jsx("div",{className:"min-w-0",children:c.jsx(dDe,{monthlyOrderData:hDe(r.monthlyOrderStats),dailyOrderStats:g})}),c.jsx("div",{className:"min-w-0",children:c.jsx(P$e,{dailyRevenue:i,isLoading:u,currencySymbol:F,screenWidth:p})})]})]}),c.jsx(fDe,{isOpen:b,onClose:()=>N(!1),onPaymentRecorded:I,outstandingItems:k,isLoading:S,currencySymbol:F})]}))}const Hb={pending:"Pending",in_progress:"In Progress",completed:"Completed",delayed:"Delayed",cancelled:"Cancelled"},mDe={pending:id,in_progress:id,completed:Da,delayed:oW,cancelled:ps},Gg={pending:{bg:"bg-yellow-100 dark:bg-yellow-900/20",text:"text-yellow-800 dark:text-yellow-400",border:"border-yellow-200 dark:border-yellow-800",hover:"hover:bg-yellow-200 dark:hover:bg-yellow-900/30",icon:"text-yellow-600 dark:text-yellow-400"},in_progress:{bg:"bg-blue-100 dark:bg-blue-900/20",text:"text-blue-800 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",hover:"hover:bg-blue-200 dark:hover:bg-blue-900/30",icon:"text-blue-600 dark:text-blue-400"},completed:{bg:"bg-green-100 dark:bg-green-900/20",text:"text-green-800 dark:text-green-400",border:"border-green-200 dark:border-green-800",hover:"hover:bg-green-200 dark:hover:bg-green-900/30",icon:"text-green-600 dark:text-green-400"},delayed:{bg:"bg-red-100 dark:bg-red-900/20",text:"text-red-800 dark:text-red-400",border:"border-red-200 dark:border-red-800",hover:"hover:bg-red-200 dark:hover:bg-red-900/30",icon:"text-red-600 dark:text-red-400"},cancelled:{bg:"bg-gray-100 dark:bg-gray-900/20",text:"text-gray-800 dark:text-gray-400",border:"border-gray-200 dark:border-gray-800",hover:"hover:bg-gray-200 dark:hover:bg-gray-900/30",icon:"text-gray-600 dark:text-gray-400"}};function Kg({status:e}){var I;const{organization:t}=ir(),{theme:r,getThemeStyle:n}=Yt(),{confirm:a,addToast:i}=Or(),[s,o]=L.useState([]),[l,u]=L.useState(!0),[d,f]=L.useState(!1),[h,p]=L.useState(null),[m,g]=L.useState(!1),[v,x]=L.useState(!1),[y,b]=L.useState(new Date),[N,_]=L.useState("week"),[C,k]=L.useState(""),[w,S]=L.useState(""),[P,A]=L.useState(null),T=t!=null&&t.currency?((I=sn[t.currency])==null?void 0:I.symbol)||t.currency:"";L.useEffect(()=>{const X=()=>{x(window.innerWidth<640)};return X(),window.addEventListener("resize",X),()=>window.removeEventListener("resize",X)},[]),L.useEffect(()=>{const X=J=>{J.target.closest(".status-dropdown-container")||g(!1)};return document.addEventListener("mousedown",X),()=>{document.removeEventListener("mousedown",X)}},[]);const F=L.useMemo(()=>{switch(N){case"day":return{start:od(y),end:ow(y)};case"week":return{start:Qo(y,{weekStartsOn:1}),end:gm(y,{weekStartsOn:1})};case"month":return{start:Fy(y),end:My(y)};case"year":return{start:mm(y),end:Ly(y)}}},[y,N]),M=L.useCallback(async()=>{if(!(t!=null&&t.id)||!F)return;const X=t.id;try{const{data:J,error:E}=await We.from("tasks").select(`
          *,
          project:worker_projects!project_id (
            id,
            name,
            price
          ),
          worker:workers!worker_id (
            id,
            name
          )
        `).eq("organization_id",X).gte("created_at",F.start.toISOString()).lte("created_at",F.end.toISOString()).order("created_at",{ascending:!1});if(E)throw E;o(J||[])}catch(J){console.error("Error loading data:",J)}finally{u(!1)}},[t==null?void 0:t.id,F]);L.useEffect(()=>(t!=null&&t.id&&F&&M(),()=>{}),[M]);const H=X=>{b(J=>{const E=new Date(J);switch(N){case"day":return X==="prev"?Lc(E,-1):Lc(E,1);case"week":return X==="prev"?ld(E,-1):ld(E,1);case"month":return X==="prev"?Ic(E,-1):Ic(E,1);case"year":return X==="prev"?cd(E,-1):cd(E,1);default:return E}})},z=X=>{o(J=>[X,...J])},Y=async X=>{if(await a({title:"Delete Task",message:"Are you sure you want to delete this task? This action cannot be undone.",type:"danger",confirmText:"Delete",cancelText:"Cancel"}))try{const{error:E}=await We.from("tasks").update({status:"cancelled"}).eq("id",X);if(E)throw E;o(R=>R.map(B=>B.id===X?{...B,status:"cancelled"}:B)),i({type:"success",title:"Task Deleted",message:"The task has been marked as cancelled."})}catch(E){console.error("Error deleting task:",E),i({type:"error",title:"Error",message:"Failed to delete task. Please try again."})}},G=X=>X?`${Hb[X]} (${s.filter(J=>J.status===X).length})`:`All Tasks (${s.length})`;return l?c.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:`min-h-[calc(100vh-50px)] px-4 pt-4 ${n(r,"background","primary")}`,children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[c.jsx("h2",{className:`text-xl font-semibold ${n(r,"text","primary")}`,children:"Tasks"}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 w-full sm:w-auto",children:[c.jsx("div",{className:"relative w-full sm:w-auto",children:c.jsxs("div",{className:`flex items-center px-3 py-1.5 rounded-lg border ${n(r,"border","primary")} ${n(r,"background","primary")}`,children:[c.jsx(Ad,{className:`h-4 w-4 ${n(r,"text","muted")}`}),c.jsx("input",{type:"text",value:C,onChange:X=>k(X.target.value),placeholder:"Search tasks...",className:`ml-2 text-sm bg-transparent border-none focus:outline-none w-full ${n(r,"text","primary")} placeholder:${n(r,"text","muted")}`})]})}),c.jsxs("button",{onClick:()=>f(!0),className:`inline-flex items-center justify-center px-3 py-1.5 border ${n(r,"border","primary")} rounded-lg text-sm font-medium ${n(r,"text","primary")} ${n(r,"background","primary")} ${n(r,"interactive","hover","background")} transition-colors duration-200 w-full sm:w-auto`,children:[c.jsx(na,{className:"h-4 w-4 mr-2"}),"Create"]})]})]}),c.jsxs("div",{className:"rounded-lg shadow-sm mt-4",children:[c.jsx("div",{className:"p-4",children:c.jsx(Iy,{currentDate:y,onDateChange:H,dateFilterType:N,onFilterTypeChange:X=>_(X),itemCount:s.length,itemLabel:"tasks"})}),c.jsxs("div",{className:"px-4 mb-6",children:[c.jsxs("div",{className:"block sm:hidden status-dropdown-container",children:[c.jsxs("button",{onClick:()=>g(!m),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md ${n(r,"background","secondary")} ${n(r,"border","primary")}`,children:[c.jsx("span",{className:`text-sm font-medium ${n(r,"text","primary")}`,children:G(e||null)}),c.jsx(Fc,{className:`h-4 w-4 ${n(r,"text","muted")} transition-transform ${m?"rotate-180":""}`})]}),m&&c.jsx("div",{className:`absolute z-10 mt-1 w-full rounded-md shadow-lg ${n(r,"background","secondary")} ${n(r,"border","primary")} border`,children:c.jsxs("div",{className:"py-1",children:[c.jsxs(Wr,{to:"/dashboard/tasks",className:`block w-full text-left px-3 py-2 text-sm ${e?n(r,"text","primary"):"bg-blue-50 text-blue-700"}`,onClick:()=>g(!1),children:["All Tasks (",s.length,")"]}),Object.entries(Hb).map(([X,J])=>c.jsxs(Wr,{to:`/dashboard/tasks/${X}`,className:`block w-full text-left px-3 py-2 text-sm ${e===X?"bg-blue-50 text-blue-700":n(r,"text","primary")}`,onClick:()=>g(!1),children:[J," (",s.filter(E=>E.status===X).length,")"]},X))]})})]}),c.jsxs("nav",{className:"hidden sm:flex space-x-8","aria-label":"Status filters",children:[c.jsxs(Wr,{to:"/dashboard/tasks",className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-xs ${e?`border-transparent ${n(r,"text","muted")} hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300`:"border-blue-500 text-blue-600"}`,children:["All Tasks",c.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${e?`${n(r,"background","accent")} ${n(r,"text","tertiary")}`:"bg-blue-100 text-blue-800"}`,children:s.length})]}),Object.entries(Hb).map(([X,J])=>c.jsxs(Wr,{to:`/dashboard/tasks/${X}`,className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-xs ${e===X?"border-blue-500 text-blue-600":`border-transparent ${n(r,"text","muted")} hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300`}`,children:[J,c.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${e===X?"bg-blue-100 text-blue-800":`${n(r,"background","accent")} ${n(r,"text","tertiary")}`}`,children:s.filter(E=>E.status===X).length})]},X))]})]})]}),c.jsx(SW,{isOpen:d,onClose:()=>f(!1),organizationId:(t==null?void 0:t.id)||"",currencySymbol:T,workerId:null,onTaskAdded:z}),c.jsx("div",{className:`${n(r,"background","secondary")} rounded-lg shadow-sm`,children:c.jsx("div",{className:"p-4",children:l?c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.length===0?c.jsx("div",{className:`text-center ${n(r,"text","muted")} py-8`,children:e?"No tasks found matching this status.":"No tasks found for this period."}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(X=>{var J,E;return c.jsx("div",{className:`${n(r,"background","primary")} border ${n(r,"border","primary")} rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200`,children:c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:`p-1.5 rounded-full ${Gg[X.status].bg}`,children:we.createElement(mDe[X.status],{className:`h-4 w-4 ${Gg[X.status].icon}`})}),c.jsxs("div",{children:[c.jsx("h4",{className:`text-sm font-medium ${X.status==="cancelled"?"line-through text-gray-400":n(r,"text","primary")}`,children:((J=X.project)==null?void 0:J.name)||"Unknown Project"}),c.jsx("p",{className:`text-xs ${X.status==="cancelled"?"line-through text-gray-400":n(r,"text","muted")}`,children:((E=X.worker)==null?void 0:E.name)||"Unknown Worker"})]})]}),c.jsx("div",{className:"text-right",children:c.jsxs("p",{className:`text-sm font-semibold ${n(r,"text","primary")}`,children:[T," ",X.amount.toFixed(2)]})})]}),c.jsxs("div",{className:"space-y-2",children:[X.description&&c.jsx("p",{className:`text-sm ${X.status==="cancelled"?"line-through text-gray-400":n(r,"text","secondary")}`,children:X.description}),X.delay_reason&&c.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400",children:["Delay reason: ",X.delay_reason]}),c.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500",children:[c.jsxs("span",{children:["Created: ",jt(new Date(X.created_at),"MMM d, yyyy HH:mm")]}),X.completed_at&&c.jsxs("span",{children:["Completed: ",jt(new Date(X.completed_at),"MMM d, yyyy HH:mm")]})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-gray-200 dark:border-gray-700",children:[c.jsx("button",{onClick:()=>{X.status!=="cancelled"&&(A(X),p(X.id))},className:`px-3 py-1.5 text-xs font-medium rounded-full ${Gg[X.status].bg} ${Gg[X.status].text} ${Gg[X.status].hover}`,children:Hb[X.status]}),X.status!=="cancelled"&&c.jsx("button",{onClick:()=>Y(X.id),className:"text-red-400 hover:text-red-600 dark:hover:text-red-300 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 p-1",children:c.jsx(Hi,{className:"h-4 w-4"})})]})]})},X.id)})})})}),c.jsx(NW,{isOpen:!!h,onClose:()=>{p(null),A(null)},task:P,onStatusUpdate:X=>{o(J=>J.map(E=>E.id===X.id?X:E))}})]})}const HF=[{value:15,label:"0-15 employees"},{value:30,label:"15-30 employees"},{value:50,label:"30-50 employees"},{value:100,label:"50-100 employees"},{value:200,label:"100-200 employees"},{value:201,label:"200+ employees"}],V3={GHS:{name:"Ghanaian Cedi",symbol:"₵"},USD:{name:"US Dollar",symbol:"$"},EUR:{name:"Euro",symbol:"€"},GBP:{name:"British Pound",symbol:"£"},NGN:{name:"Nigerian Naira",symbol:"₦"}};function gDe(){var g,v,x;const{organization:e,signOut:t}=ir();Bl();const[r,n]=L.useState(!1),{theme:a,toggleTheme:i,getThemeStyle:s}=Yt(),[o,l]=L.useState({name:(e==null?void 0:e.name)||"",country:(e==null?void 0:e.country)||"",city:(e==null?void 0:e.city)||"",address:(e==null?void 0:e.address)||"",employee_count:(e==null?void 0:e.employee_count)||15,currency:(e==null?void 0:e.currency)||"GHS"}),[u,d]=L.useState(!1),{confirm:f,addToast:h}=Or(),p=async()=>{if(!o.name.trim()){n(!1);return}d(!0);try{const{error:y}=await We.from("organizations").update({name:o.name.trim(),country:o.country,city:o.city,address:o.address,employee_count:o.employee_count,currency:o.currency}).eq("id",e.id);if(y)throw y;ir.setState({organization:{...e,...o}}),n(!1),h({type:"success",title:"Organization Updated",message:"Organization details have been updated successfully."})}catch(y){console.error("Error updating organization:",y),h({type:"error",title:"Error",message:"Failed to update organization name. Please try again."})}finally{d(!1)}},m=async()=>{if(await f({title:"Delete Organization",message:"Are you sure you want to delete your organization? This will permanently delete all workers, tasks, and associated data. This action cannot be undone.",type:"danger",confirmText:"Delete Organization",cancelText:"Cancel"}))try{const{error:b}=await We.from("organizations").delete().eq("id",e.id);if(b)throw b;await t(),window.location.href="/",h({type:"success",title:"Organization Deleted",message:"Your organization and all associated data have been permanently deleted."})}catch(b){console.error("Error deleting organization:",b),h({type:"error",title:"Error",message:"Failed to delete organization. Please try again."})}};return c.jsxs("div",{className:`space-y-6 p-4 ${s(a,"background","primary")}`,children:[c.jsxs("div",{className:`${s(a,"background","secondary")} shadow rounded-lg divide-y ${s(a,"border","primary")}`,children:[c.jsxs("div",{className:"px-6 py-5",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(bv,{className:`h-6 w-6 ${s(a,"text","accent")}`}),c.jsx("h3",{className:`ml-3 text-lg font-medium ${s(a,"text","primary")}`,children:"Import Data"})]}),c.jsx("p",{className:`mt-1 text-sm ${s(a,"text","muted")}`,children:"Import your organization's data from external sources"})]}),c.jsx("div",{className:"px-6 py-5",children:c.jsxs(Wr,{to:"/dashboard/import-data",className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm ${s(a,"text","inverse")} bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:[c.jsx(bv,{className:"h-4 w-4 mr-2"}),"Import Data"]})})]}),c.jsxs("div",{className:`${s(a,"background","secondary")} shadow rounded-lg divide-y ${s(a,"border","primary")}`,children:[c.jsxs("div",{className:"px-6 py-5",children:[c.jsxs("div",{className:"flex items-center",children:[a==="dark"?c.jsx(jj,{className:`h-6 w-6 ${s(a,"text","accent")}`}):c.jsx(Tj,{className:`h-6 w-6 ${s(a,"text","accent")}`}),c.jsx("h3",{className:`ml-3 text-lg font-medium ${s(a,"text","primary")}`,children:"Appearance"})]}),c.jsx("p",{className:`mt-1 text-sm ${s(a,"text","muted")}`,children:"Customize the appearance of the application"})]}),c.jsx("div",{className:"px-6 py-5",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s(a,"text","primary")}`,children:"Dark Mode"}),c.jsx("p",{className:`text-sm ${s(a,"text","muted")}`,children:"Switch between light and dark themes"})]}),c.jsx("button",{onClick:i,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${a==="dark"?"bg-blue-600":"bg-gray-200"}`,children:c.jsxs("span",{className:`pointer-events-none relative inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${a==="dark"?"translate-x-5":"translate-x-0"}`,children:[c.jsx("span",{className:`absolute inset-0 flex h-full w-full items-center justify-center transition-opacity ${a==="dark"?"opacity-0":"opacity-100"}`,children:c.jsx(Tj,{className:"h-3 w-3 text-gray-400"})}),c.jsx("span",{className:`absolute inset-0 flex h-full w-full items-center justify-center transition-opacity ${a==="dark"?"opacity-100":"opacity-0"}`,children:c.jsx(jj,{className:"h-3 w-3 text-blue-600"})})]})})]})})]}),c.jsxs("div",{className:`${s(a,"background","secondary")} shadow rounded-lg divide-y ${s(a,"border","primary")}`,children:[c.jsxs("div",{className:"px-6 py-5",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(vc,{className:`h-6 w-6 ${s(a,"text","accent")}`}),c.jsx("h3",{className:`ml-3 text-lg font-medium ${s(a,"text","primary")}`,children:"Organization Settings"})]}),c.jsx("p",{className:`mt-1 text-sm ${s(a,"text","muted")}`,children:"Manage your organization's basic information and settings."})]}),c.jsx("div",{className:"px-6 py-5",children:c.jsx("div",{className:"space-y-6",children:c.jsx("div",{children:r?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${s(a,"text","secondary")}`,children:"Organization Name"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{type:"text",value:o.name,onChange:y=>l(b=>({...b,name:y.target.value})),className:`block w-full px-3 py-2 rounded-md border ${s(a,"border","primary")} ${s(a,"background","primary")} ${s(a,"text","primary")} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,placeholder:"Enter organization name"})})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${s(a,"text","secondary")}`,children:"Country"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{type:"text",value:o.country,onChange:y=>l(b=>({...b,country:y.target.value})),className:`block w-full px-3 py-2 rounded-md border ${s(a,"border","primary")} ${s(a,"background","primary")} ${s(a,"text","primary")} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`})})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${s(a,"text","secondary")}`,children:"City"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{type:"text",value:o.city,onChange:y=>l(b=>({...b,city:y.target.value})),className:`block w-full px-3 py-2 rounded-md border ${s(a,"border","primary")} ${s(a,"background","primary")} ${s(a,"text","primary")} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`})})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${s(a,"text","secondary")}`,children:"Address"}),c.jsx("div",{className:"mt-1",children:c.jsx("textarea",{value:o.address,onChange:y=>l(b=>({...b,address:y.target.value})),rows:3,className:`block w-full px-3 py-2 rounded-md border ${s(a,"border","primary")} ${s(a,"background","primary")} ${s(a,"text","primary")} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`})})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${s(a,"text","secondary")}`,children:"Number of Employees"}),c.jsx("div",{className:"mt-1",children:c.jsx("select",{value:o.employee_count||"",onChange:y=>l(b=>({...b,employee_count:parseInt(y.target.value)})),className:`block w-full px-3 py-2 rounded-md border ${s(a,"border","primary")} ${s(a,"background","primary")} ${s(a,"text","primary")} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,children:HF.map((y,b)=>c.jsx("option",{value:y.value,children:y.label},b))})})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${s(a,"text","secondary")}`,children:"Currency"}),c.jsx("div",{className:"mt-1",children:c.jsx("select",{value:o.currency,onChange:y=>l(b=>({...b,currency:y.target.value})),className:`block w-full px-3 py-2 rounded-md border ${s(a,"border","primary")} ${s(a,"background","primary")} ${s(a,"text","primary")} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,children:Object.entries(V3).map(([y,{name:b,symbol:N}])=>c.jsxs("option",{value:y,children:[y," (",N,") - ",b]},y))})})]}),c.jsx("button",{onClick:p,disabled:u||!o.name.trim(),className:`ml-3 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm ${s(a,"text","inverse")} bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400`,children:u?"Saving...":"Save"}),c.jsx("button",{onClick:()=>{n(!1),l({name:(e==null?void 0:e.name)||"",country:(e==null?void 0:e.country)||"",city:(e==null?void 0:e.city)||"",address:(e==null?void 0:e.address)||"",employee_count:(e==null?void 0:e.employee_count)||15,currency:(e==null?void 0:e.currency)||"GHS"})},className:`ml-3 inline-flex items-center px-4 py-2 border ${s(a,"border","primary")} text-sm font-medium rounded-md ${s(a,"text","secondary")} ${s(a,"background","primary")} ${s(a,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:"Cancel"})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(vc,{className:`h-5 w-5 ${s(a,"text","accent")}`}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s(a,"text","muted")}`,children:"Organization Name"}),c.jsx("p",{className:`text-base ${s(a,"text","primary")}`,children:e==null?void 0:e.name})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(eie,{className:`h-5 w-5 ${s(a,"text","accent")}`}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s(a,"text","muted")}`,children:"Country"}),c.jsx("p",{className:`text-base ${s(a,"text","primary")}`,children:e==null?void 0:e.country})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Kae,{className:`h-5 w-5 ${s(a,"text","accent")}`}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s(a,"text","muted")}`,children:"City"}),c.jsx("p",{className:`text-base ${s(a,"text","primary")}`,children:e==null?void 0:e.city})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(fW,{className:`h-5 w-5 ${s(a,"text","accent")}`}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s(a,"text","muted")}`,children:"Address"}),c.jsx("p",{className:`text-base ${s(a,"text","primary")}`,children:e==null?void 0:e.address})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(x5,{className:`h-5 w-5 ${s(a,"text","accent")}`}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s(a,"text","muted")}`,children:"Number of Employees"}),c.jsx("p",{className:`text-base ${s(a,"text","primary")}`,children:((g=HF.find(y=>y.value===(e==null?void 0:e.employee_count)))==null?void 0:g.label)||"Not set"})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Qae,{className:`h-5 w-5 ${s(a,"text","accent")}`}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${s(a,"text","muted")}`,children:"Currency"}),c.jsxs("p",{className:`text-base ${s(a,"text","primary")}`,children:[e==null?void 0:e.currency," (",(v=V3[(e==null?void 0:e.currency)||""])==null?void 0:v.symbol,") - ",(x=V3[(e==null?void 0:e.currency)||""])==null?void 0:x.name]})]})]})]}),c.jsx("button",{onClick:()=>n(!0),className:`inline-flex items-center px-4 py-2 border ${s(a,"border","primary")} text-sm font-medium rounded-md ${s(a,"text","secondary")} ${s(a,"background","primary")} ${s(a,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:"Edit Organization Details"})]})})})})]}),c.jsxs("div",{className:`${s(a,"background","secondary")} shadow rounded-lg divide-y ${s(a,"border","primary")} space-y-4`,children:[c.jsxs("div",{className:"px-6 py-5",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(ad,{className:"h-6 w-6 text-red-500"}),c.jsx("h3",{className:"ml-3 text-lg font-medium text-red-600",children:"Danger Zone"})]}),c.jsx("p",{className:`mt-1 text-sm ${s(a,"text","muted")}`,children:"Irreversible and destructive actions"})]}),c.jsx("div",{className:"px-6 py-5",children:c.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(ad,{className:"h-5 w-5 text-red-400"})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Delete Organization"}),c.jsxs("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:[c.jsx("p",{children:"Once you delete your organization, there is no going back. Please be certain. This will delete:"}),c.jsxs("ul",{className:"list-disc list-inside mt-2",children:[c.jsx("li",{children:"All workers and their data"}),c.jsx("li",{children:"All tasks and financial records"}),c.jsx("li",{children:"All projects and rates"}),c.jsx("li",{children:"All uploaded files and images"})]})]}),c.jsx("div",{className:"mt-4",children:c.jsx("button",{type:"button",onClick:m,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete Organization"})})]})]})})}),c.jsx("div",{className:"px-6 py-5",children:c.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(uie,{className:"h-5 w-5 text-red-400"})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Delete Account"}),c.jsxs("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:[c.jsx("p",{children:"Permanently delete your account and all associated data. This action cannot be undone. This will:"}),c.jsxs("ul",{className:"list-disc list-inside mt-2",children:[c.jsx("li",{children:"Delete your user account"}),c.jsx("li",{children:"Delete your organization"}),c.jsx("li",{children:"Remove all workers and their data"}),c.jsx("li",{children:"Remove all tasks and financial records"}),c.jsx("li",{children:"Delete all uploaded files"})]})]}),c.jsx("div",{className:"mt-4",children:c.jsx("button",{type:"button",onClick:async()=>{if(await f({title:"Delete Account",message:"Are you absolutely sure you want to delete your account? This action cannot be undone.",type:"danger",confirmText:"Delete Account",cancelText:"Cancel"}))try{await ir.getState().deleteAccount(),window.location.href="/"}catch(b){console.error("Error deleting account:",b)}},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete Account Permanently"})})]})]})})})]})]})}function zc({currentPage:e,totalPages:t,onPageChange:r,className:n=""}){const[a,i]=L.useState("");if(t<=1)return null;const s=d=>{const f=d.target.value;/^\d*$/.test(f)&&i(f)},o=d=>{if(d.key==="Enter"){const f=parseInt(a);f>=1&&f<=t&&r(f),i("")}},l=()=>{const d=parseInt(a);d>=1&&d<=t&&r(d),i("")},u=()=>{const d=[],h="...";if(t<=7)for(let p=1;p<=t;p++)d.push(p);else if(d.push(1),e<=3){for(let p=2;p<=5;p++)d.push(p);d.push(h),d.push(t)}else if(e>=t-2){d.push(h);for(let p=t-4;p<=t;p++)d.push(p)}else{d.push(h);for(let p=e-1;p<=e+1;p++)d.push(p);d.push(h),d.push(t)}return d};return c.jsxs("div",{className:`flex items-center justify-center space-x-1 max-w-[200px] mx-auto ${n}`,children:[c.jsx("button",{onClick:()=>r(e-1),disabled:e===1,className:`p-1 sm:p-2 rounded-md transition-colors ${e===1?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,"aria-label":"Previous page",children:c.jsx(oE,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),u().map((d,f)=>c.jsx("button",{onClick:()=>typeof d=="number"?r(d):void 0,disabled:typeof d=="string",className:`min-w-[24px] sm:min-w-[32px] h-6 sm:h-8 px-1 sm:px-2 rounded-md transition-colors text-xs sm:text-sm ${d===e?"bg-gray-300 dark:bg-gray-700 font-medium":typeof d=="number"?"hover:bg-gray-50 dark:hover:bg-gray-800":""}`,children:d},`${d}-${f}`)),c.jsx("div",{className:"flex items-center space-x-1 ml-1 sm:ml-2",children:c.jsx("input",{type:"text",value:a,onChange:s,onKeyDown:o,onBlur:l,className:`w-8 sm:w-10 h-5 sm:h-6 px-1 sm:px-2 rounded-md border border-gray-300 dark:border-gray-600 
            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
            dark:bg-gray-700 text-center text-xs sm:text-sm`,placeholder:e.toString(),"aria-label":"Go to page"})}),c.jsx("button",{onClick:()=>r(e+1),disabled:e===t,className:`p-1 sm:p-2 rounded-md transition-colors ${e===t?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,"aria-label":"Next page",children:c.jsx(vp,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})}function xDe(){var Fe;const[e,t]=L.useState([]),[r,n]=L.useState(!0),[a,i]=L.useState(""),[s,o]=L.useState("active"),[l,u]=L.useState(null),[d,f]=L.useState(!1),[h,p]=L.useState(1),[m,g]=L.useState(1),[v,x]=L.useState(0),[y,b]=L.useState(0),[N,_]=L.useState(!1),[C,k]=L.useState(!1),[w,S]=L.useState([]),P=20,[A,T]=L.useState({title:"",value:"",type:"text",file:null}),[F,M]=L.useState({name:"",phone:"",address:"",date_of_birth:"",customFields:[{title:"",value:"",type:"text",file:null}],image_url:"",image_file:null}),[H,z]=L.useState(!1),[Y,G]=L.useState(!1),I=L.useRef(null),{organization:X}=ir(),{confirm:J,addToast:E}=Or(),{theme:R,getThemeStyle:B}=Yt(),q=X!=null&&X.currency?((Fe=sn[X.currency])==null?void 0:Fe.symbol)||X.currency:"",[K,ae]=L.useState(!1);L.useEffect(()=>{X&&(a.trim()===""&&(_(!1),W()),ee())},[X,s,h,a]),L.useEffect(()=>{const ve=()=>{ae(window.innerWidth<640)};return ve(),window.addEventListener("resize",ve),()=>window.removeEventListener("resize",ve)},[]);const ee=async()=>{if(X!=null&&X.id)try{const{count:ve}=await We.from("clients").select("*",{count:"exact",head:!0}).eq("organization_id",X.id);b(ve||0)}catch(ve){console.error("Error fetching total clients count:",ve)}},W=async()=>{if(X!=null&&X.id){n(!0);try{const{count:ve}=await We.from("clients").select("*",{count:"exact",head:!0}).eq("organization_id",X.id).eq("status",s);x(ve||0),g(Math.ceil((ve||0)/P));const{data:me,error:le}=await We.from("clients").select(`
          *,
          custom_fields:client_custom_fields(*),
          orders:orders(outstanding_balance, total_amount),
          sales_orders:sales_orders(outstanding_balance, total_amount)
        `).eq("organization_id",X.id).eq("status",s).order("name").range((h-1)*P,h*P-1);if(le)throw le;const be=(me==null?void 0:me.map(Pe=>{var et,Je,St,Tt;const je=((et=Pe.orders)==null?void 0:et.reduce((wt,Kt)=>wt+(Kt.outstanding_balance||0),0))||0,Ce=((Je=Pe.sales_orders)==null?void 0:Je.reduce((wt,Kt)=>wt+(Kt.outstanding_balance||0),0))||0,Be=((St=Pe.orders)==null?void 0:St.reduce((wt,Kt)=>wt+(Kt.total_amount||0),0))||0,$e=((Tt=Pe.sales_orders)==null?void 0:Tt.reduce((wt,Kt)=>wt+(Kt.total_amount||0),0))||0;return{...Pe,total_balance:je+Ce,total_spent:Be+$e}}))||[];t(be)}catch(ve){console.error("Error loading clients:",ve),E({type:"error",title:"Error",message:"Failed to load clients"})}finally{n(!1)}}},Z=async()=>{if(!(!(X!=null&&X.id)||a.trim()==="")){_(!0),p(1);try{const{data:ve,error:me,count:le}=await We.from("clients").select(`
          *,
          custom_fields:client_custom_fields(*),
          orders:orders(outstanding_balance, total_amount),
          sales_orders:sales_orders(outstanding_balance, total_amount)
        `,{count:"exact"}).eq("organization_id",X.id).eq("status",s).ilike("name",`%${a}%`).order("name");if(me)throw me;const be=(ve==null?void 0:ve.map(Pe=>{var et,Je,St,Tt;const je=((et=Pe.orders)==null?void 0:et.reduce((wt,Kt)=>wt+(Kt.outstanding_balance||0),0))||0,Ce=((Je=Pe.sales_orders)==null?void 0:Je.reduce((wt,Kt)=>wt+(Kt.outstanding_balance||0),0))||0,Be=((St=Pe.orders)==null?void 0:St.reduce((wt,Kt)=>wt+(Kt.total_amount||0),0))||0,$e=((Tt=Pe.sales_orders)==null?void 0:Tt.reduce((wt,Kt)=>wt+(Kt.total_amount||0),0))||0;return{...Pe,total_balance:je+Ce,total_spent:Be+$e}}))||[];t(be),x(le||0),g(Math.ceil((le||0)/P))}catch(ve){console.error("Error searching clients:",ve),E({type:"error",title:"Error",message:"Failed to search clients"})}finally{n(!1)}}},re=ve=>{var be;const me=(be=ve.target.files)==null?void 0:be[0];if(!me)return;const le=URL.createObjectURL(me);M(Pe=>({...Pe,image_url:le,image_file:me}))},O=async()=>{var ve,me;if(!(!X||!F.name.trim())){z(!0);try{let le=null;if(F.image_file){G(!0);try{const Ce=(ve=F.image_file.name.split(".").pop())==null?void 0:ve.toLowerCase(),Be=`${Math.random().toString(36).substring(2)}.${Ce}`,$e=`${X.id}/clients/temp/${Be}`,{error:et}=await We.storage.from("profiles").upload($e,F.image_file,{cacheControl:"3600",upsert:!0});if(et)throw et;const{data:{publicUrl:Je}}=We.storage.from("profiles").getPublicUrl($e);le=Je}catch(Ce){console.error("Error uploading image:",Ce),E({type:"error",title:"Error",message:"Failed to upload client image"}),z(!1),G(!1);return}finally{G(!1)}}const{data:be,error:Pe}=await We.from("clients").insert([{organization_id:X.id,name:F.name.trim(),phone:F.phone.trim(),address:F.address.trim(),date_of_birth:F.date_of_birth||null,image_url:le||null,status:"active"}]).select().single();if(Pe){if(Pe.code==="23505"){E({type:"error",title:"Duplicate Client",message:"A client with this name already exists. Please use a different name."});return}throw Pe}const je=F.customFields.filter(Ce=>Ce.title.trim()&&(Ce.type==="text"?Ce.value.trim():Ce.file));if(je.length>0)for(const Ce of je){let Be=Ce.value;if(Ce.type==="file"&&Ce.file){const et=(me=Ce.file.name.split(".").pop())==null?void 0:me.toLowerCase(),Je=`${Math.random().toString(36).substring(2)}.${et}`,St=`${X.id}/clients/${be.id}/${Je}`,{error:Tt}=await We.storage.from("profiles").upload(St,Ce.file,{cacheControl:"3600",upsert:!1});if(Tt)throw Tt;const{data:{publicUrl:wt}}=We.storage.from("profiles").getPublicUrl(St);Be=wt}const{error:$e}=await We.from("client_custom_fields").insert({client_id:be.id,title:Ce.title.trim(),value:Be,type:Ce.type});if($e)throw $e}await W(),M({name:"",phone:"",address:"",date_of_birth:"",customFields:[{title:"",value:"",type:"text",file:null}],image_url:"",image_file:null}),f(!1),E({type:"success",title:"Client Added",message:"New client has been added successfully."})}catch(le){console.error("Error adding client:",le),E({type:"error",title:"Error",message:"Failed to add client"})}finally{z(!1)}}},de=()=>{M(ve=>({...ve,customFields:[...ve.customFields,{title:"",value:"",type:"text",file:null}]}))},ce=ve=>{M(me=>({...me,customFields:me.customFields.filter((le,be)=>be!==ve)}))},pe=(ve,me)=>{M(le=>({...le,customFields:le.customFields.map((be,Pe)=>Pe===ve?{...be,...me}:be)}))},Q=ve=>{N?(p(ve),ne(ve)):p(ve)},ne=async ve=>{if(!(!(X!=null&&X.id)||a.trim()==="")){n(!0);try{const me=(ve-1)*P,le=ve*P-1,{data:be,error:Pe}=await We.from("clients").select(`
          *,
          custom_fields:client_custom_fields(*),
          orders:orders(outstanding_balance, total_amount),
          sales_orders:sales_orders(outstanding_balance, total_amount)
        `).eq("organization_id",X.id).eq("status",s).ilike("name",`%${a}%`).order("name").range(me,le);if(Pe)throw Pe;const je=(be==null?void 0:be.map(Ce=>{var St,Tt,wt,Kt;const Be=((St=Ce.orders)==null?void 0:St.reduce((Dt,Ur)=>Dt+(Ur.outstanding_balance||0),0))||0,$e=((Tt=Ce.sales_orders)==null?void 0:Tt.reduce((Dt,Ur)=>Dt+(Ur.outstanding_balance||0),0))||0,et=((wt=Ce.orders)==null?void 0:wt.reduce((Dt,Ur)=>Dt+(Ur.total_amount||0),0))||0,Je=((Kt=Ce.sales_orders)==null?void 0:Kt.reduce((Dt,Ur)=>Dt+(Ur.total_amount||0),0))||0;return{...Ce,total_balance:Be+$e,total_spent:et+Je}}))||[];t(je)}catch(me){console.error("Error fetching search results page:",me),E({type:"error",title:"Error",message:"Failed to load search results page"})}finally{n(!1)}}},Ae=async()=>{if(!(w.length===0||!await J({title:"Delete Selected Clients",message:`Are you sure you want to delete ${w.length} client(s)? This action cannot be undone.`,type:"danger",confirmText:"Delete",cancelText:"Cancel"})))try{const{error:me}=await We.from("clients").delete().in("id",w);if(me)throw me;t(le=>le.filter(be=>!w.includes(be.id))),S([]),k(!1),E({type:"success",title:"Clients Deleted",message:`${w.length} client(s) have been deleted successfully.`})}catch(me){console.error("Error deleting clients:",me),E({type:"error",title:"Error",message:"Failed to delete clients"})}},Ee=async()=>{if(!(w.length===0||!await J({title:"Archive Selected Clients",message:`Are you sure you want to archive ${w.length} client(s)?`,type:"warning",confirmText:"Archive",cancelText:"Cancel"})))try{const{error:me}=await We.from("clients").update({status:"archived"}).in("id",w);if(me)throw me;t(le=>le.filter(be=>!w.includes(be.id))),S([]),k(!1),E({type:"success",title:"Clients Archived",message:`${w.length} client(s) have been archived successfully.`})}catch(me){console.error("Error archiving clients:",me),E({type:"error",title:"Error",message:"Failed to archive clients"})}},De=ve=>{S(ve?e.map(me=>me.id):[])},Oe=(ve,me)=>{S(me?le=>[...le,ve]:le=>le.filter(be=>be!==ve))};return r?c.jsx("div",{className:`flex items-center justify-center min-h-[400px] ${B(R,"background","primary")}`,children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:`py-3 px-4 min-h-[calc(100vh-50px)] ${B(R,"background","primary")}`,children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[c.jsxs("h2",{className:`text-xl font-semibold ${B(R,"text","primary")}`,children:["Clients | ",y," ",N||s!=="active"?`(${v} ${N?"found":s})`:""]}),c.jsxs("div",{className:"flex items-center flex-col w-full sm:w-auto sm:flex-row gap-3",children:[c.jsxs("div",{className:`flex items-center px-2 py-1.5 w-full sm:w-auto border rounded-md focus-within:ring-1 focus-within:ring-blue-500 focus-within:border-blue-500 ${B(R,"border","primary")}`,children:[c.jsx("input",{type:"text",value:a,onChange:ve=>{i(ve.target.value),Z()},placeholder:"Search name",className:`ml-2 flex-1 outline-none bg-transparent text-sm ${B(R,"text","primary")}`}),c.jsx("button",{className:"ml-1 p-1 rounded-md bg-blue-400 text-white",children:c.jsx(Ad,{className:"h-4 w-4"})})]}),c.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-3 py-1.5 w-full sm:w-auto border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[c.jsx(na,{className:"h-4 w-4 mr-1.5"}),"Add Client"]})]})]}),C&&w.length>0&&c.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[c.jsxs("span",{className:`text-sm ${B(R,"text","primary")}`,children:[w.length," client(s) selected"]}),c.jsxs("button",{onClick:Ae,className:"inline-flex items-center px-3 py-1.5 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700",children:[c.jsx(Hi,{className:"h-4 w-4 mr-1.5"}),"Delete Selected"]}),c.jsxs("button",{onClick:Ee,className:"inline-flex items-center px-3 py-1.5 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-yellow-600 hover:bg-yellow-700",children:[c.jsx(Hae,{className:"h-4 w-4 mr-1.5"}),"Archive Selected"]})]}),d&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`fixed inset-0 z-40 ${B(R,"modal","overlay")} transition-opacity`,onClick:()=>f(!1)}),c.jsx("div",{className:`fixed inset-y-0 right-0 z-50 w-[450px] max-w-full overflow-y-auto ${B(R,"modal","background")} shadow-xl transform transition-transform duration-300 ease-in-out`,children:c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:`px-3 sm:px-4 py-2 sm:py-3 border-b ${B(R,"border","primary")} flex items-center justify-between`,children:[c.jsx("h3",{className:`text-base font-medium ${B(R,"text","primary")}`,children:"Add New Client"}),c.jsx("button",{onClick:()=>f(!1),className:`${B(R,"text","muted")} ${B(R,"interactive","hover","text")}`,children:c.jsx(dr,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4",children:c.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[c.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[c.jsxs("div",{className:`relative h-24 w-24 rounded-full overflow-hidden ${B(R,"background","secondary")} border-2 border-dashed ${B(R,"border","primary")} flex items-center justify-center cursor-pointer hover:border-blue-500 transition-colors`,onClick:()=>{var ve;return(ve=I.current)==null?void 0:ve.click()},children:[F.image_url?c.jsx("img",{src:F.image_url,alt:"Client",className:"w-full h-full object-cover"}):c.jsx(Xo,{className:`h-8 w-8 ${B(R,"text","muted")}`}),Y&&c.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:c.jsx(zi,{className:"h-6 w-6 text-white animate-spin"})})]}),c.jsx("input",{type:"file",ref:I,onChange:re,accept:"image/*",className:"hidden"}),c.jsx("span",{className:`text-xs ${B(R,"text","secondary")}`,children:"Click to upload client photo"})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium ${B(R,"text","secondary")}`,children:"Name *"}),c.jsx("input",{type:"text",value:F.name,onChange:ve=>M(me=>({...me,name:ve.target.value})),className:`mt-1 block w-full rounded-md border ${B(R,"border","primary")} py-1.5 px-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 text-sm ${B(R,"background","secondary")} ${B(R,"text","primary")}`,placeholder:"Enter client name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium ${B(R,"text","secondary")}`,children:"Phone Number"}),c.jsx("input",{type:"tel",value:F.phone,onChange:ve=>M(me=>({...me,phone:ve.target.value})),className:`mt-1 block w-full rounded-md border ${B(R,"border","primary")} py-1.5 px-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 text-sm ${B(R,"background","secondary")} ${B(R,"text","primary")}`,placeholder:"Enter phone number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium ${B(R,"text","secondary")}`,children:"Address"}),c.jsx("textarea",{value:F.address,onChange:ve=>M(me=>({...me,address:ve.target.value})),rows:2,className:`mt-1 block w-full rounded-md border ${B(R,"border","primary")} py-1.5 px-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 text-sm ${B(R,"background","secondary")} ${B(R,"text","primary")}`,placeholder:"Enter address"})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium ${B(R,"text","secondary")}`,children:"Date of Birth"}),c.jsx("input",{type:"date",value:F.date_of_birth,onChange:ve=>M(me=>({...me,date_of_birth:ve.target.value})),className:`mt-1 block w-full rounded-md border ${B(R,"border","primary")} py-1.5 px-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 text-sm ${B(R,"background","secondary")} ${B(R,"text","primary")}`})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:`text-xs font-medium ${B(R,"text","primary")}`,children:"Custom Information"}),c.jsxs("button",{type:"button",onClick:de,className:"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-100 dark:hover:bg-blue-800",children:[c.jsx(na,{className:"h-3 w-3 mr-1"}),"Add Field"]})]}),F.customFields.map((ve,me)=>c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsxs("div",{className:"flex-1 space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium ${B(R,"text","secondary")}`,children:"Title"}),c.jsx("input",{type:"text",value:ve.title,onChange:le=>pe(me,{title:le.target.value}),className:`mt-1 block w-full rounded-md border ${B(R,"border","primary")} py-1.5 px-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 text-sm ${B(R,"background","secondary")} ${B(R,"text","primary")}`,placeholder:"Enter field title"})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium ${B(R,"text","secondary")}`,children:"Type"}),c.jsxs("select",{value:ve.type,onChange:le=>pe(me,{type:le.target.value}),className:`mt-1 block w-full rounded-md border ${B(R,"border","primary")} py-1.5 px-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 text-sm ${B(R,"background","secondary")} ${B(R,"text","primary")}`,children:[c.jsx("option",{value:"text",children:"Text"}),c.jsx("option",{value:"file",children:"File"})]})]}),ve.type==="text"?c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium ${B(R,"text","secondary")}`,children:"Value"}),c.jsx("input",{type:"text",value:ve.value||"",onChange:le=>pe(me,{value:le.target.value}),className:`mt-1 block w-full rounded-md border ${B(R,"border","primary")} py-1.5 px-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 text-sm ${B(R,"background","secondary")} ${B(R,"text","primary")}`,placeholder:"Enter value"})]}):c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium ${B(R,"text","secondary")}`,children:"File"}),c.jsxs("div",{className:"mt-1 flex items-center",children:[c.jsx("input",{type:"file",onChange:le=>{var Pe;const be=(Pe=le.target.files)==null?void 0:Pe[0];be&&pe(me,{file:be})},className:"hidden",id:`file-${me}`}),c.jsxs("label",{htmlFor:`file-${me}`,className:`cursor-pointer inline-flex items-center px-3 py-1.5 border ${B(R,"border","primary")} rounded-md shadow-sm text-xs font-medium ${B(R,"text","secondary")} ${B(R,"background","secondary")} ${B(R,"interactive","hover","background")}`,children:[c.jsx(Xo,{className:"h-3 w-3 mr-1.5"}),"Choose File"]}),ve.file&&c.jsx("span",{className:`ml-2 text-xs ${B(R,"text","tertiary")} truncate max-w-[150px]`,children:ve.file.name})]})]})]}),c.jsx("button",{type:"button",onClick:()=>ce(me),className:"mt-6 p-1 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20",children:c.jsx(Hi,{className:"h-4 w-4"})})]},me))]})]})}),c.jsxs("div",{className:`px-3 sm:px-4 py-2 sm:py-3 border-t ${B(R,"border","primary")} flex justify-end space-x-2`,children:[c.jsx("button",{onClick:()=>f(!1),className:`px-3 py-1.5 text-xs font-medium ${B(R,"text","secondary")} ${B(R,"interactive","hover","text")}`,children:"Cancel"}),c.jsx("button",{onClick:O,disabled:!F.name.trim(),className:"px-3 py-1.5 text-xs font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-blue-500 disabled:bg-gray-400 dark:disabled:bg-gray-600",children:H?c.jsxs(c.Fragment,{children:[c.jsx(zi,{className:"animate-spin h-3 w-3 mr-1.5"}),"Adding..."]}):"Add Client"})]})]})})]}),c.jsxs("div",{className:"shadow-sm rounded-sm overflow-hidden mt-8",children:[e.length===0?c.jsx("div",{className:`text-center ${B(R,"text","tertiary")} py-6 text-sm`,children:a?"No clients found matching your search.":"No clients added yet."}):K?c.jsx("div",{className:`divide-y ${B(R,"border","primary")}`,children:e.map(ve=>{var me;return c.jsxs(Wr,{to:`/dashboard/clients/${ve.id}`,className:`block p-3 ${B(R,"interactive","hover","background")}`,children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`h-10 w-10 rounded-full ${B(R,"avatar","background")} flex items-center justify-center ${B(R,"avatar","text")} text-sm font-medium mr-3 overflow-hidden`,children:ve.image_url?c.jsx("img",{src:ve.image_url,alt:ve.name,className:"w-full h-full object-cover"}):ve.name.charAt(0).toUpperCase()}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:`text-sm font-medium ${B(R,"text","primary")} truncate`,children:ve.name}),c.jsxs("div",{className:`text-xs ${B(R,"text","tertiary")} truncate`,children:[ve.phone||"No phone"," | ",ve.address]})]}),c.jsx(vp,{className:`h-5 w-5 ${B(R,"text","tertiary")}`})]}),c.jsxs("div",{className:"mt-2 flex justify-between text-xs",children:[c.jsxs("div",{className:B(R,"text","tertiary"),children:["Spent: ",c.jsxs("span",{className:`font-medium ${B(R,"text","primary")}`,children:[q," ",((me=ve.total_spent)==null?void 0:me.toFixed(2))||"0.00"]})]}),c.jsxs("div",{className:`font-medium ${ve.total_balance>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:["Balance: ",q," ",ve.total_balance.toFixed(2)]})]})]},ve.id)})}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full border-collapse",children:[c.jsx("thead",{children:c.jsxs("tr",{className:`border-b ${B(R,"border","primary")}`,children:[C&&c.jsx("th",{scope:"col",className:`px-3 py-2 text-left text-xs font-medium ${B(R,"text","tertiary")} uppercase tracking-wider w-[50px]`,children:c.jsx("input",{type:"checkbox",checked:w.length===e.length,onChange:ve=>De(ve.target.checked),className:`h-4 w-4 text-blue-600 focus:ring-blue-500 ${B(R,"background","primary")} border-gray-300 rounded`})}),c.jsx("th",{scope:"col",className:`px py-2 text-left text-xs font-medium ${B(R,"text","tertiary")} uppercase tracking-wider w-[80px]`}),c.jsx("th",{scope:"col",className:`pl-3 py-2 text-left text-xs font-medium ${B(R,"text","tertiary")} uppercase tracking-wider w-[250px]`,children:"Client Name"}),c.jsx("th",{scope:"col",className:`pl-3 py-2 text-left text-xs font-medium ${B(R,"text","tertiary")} uppercase tracking-wider w-[200px]`,children:"Contact Info"}),c.jsx("th",{scope:"col",className:`pl-3 py-2 text-right text-xs font-medium ${B(R,"text","tertiary")} uppercase tracking-wider w-[150px]`,children:"Total Spent"}),c.jsx("th",{scope:"col",className:`pl-3 py-2 text-right text-xs font-medium ${B(R,"text","tertiary")} uppercase tracking-wider w-[150px]`,children:"Balance"}),c.jsx("th",{scope:"col",className:`pl-3 py-2 text-center text-xs font-medium ${B(R,"text","tertiary")} uppercase tracking-wider w-[80px]`,children:"View"})]})}),c.jsx("tbody",{className:`${B(R,"background","secondary")}`,children:e.map(ve=>{var me;return c.jsxs("tr",{className:`border-b ${B(R,"border","primary")} ${B(R,"interactive","hover","background")} cursor-pointer`,children:[C&&c.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:c.jsx("input",{type:"checkbox",checked:w.includes(ve.id),onChange:le=>Oe(ve.id,le.target.checked),className:`h-4 w-4 text-blue-600 focus:ring-blue-500 ${B(R,"background","primary")} border-gray-300 rounded`})}),c.jsxs(Wr,{to:`/dashboard/clients/${ve.id}`,className:"contents",children:[c.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:c.jsx("div",{className:`h-10 w-10 rounded-full ${B(R,"avatar","background")} flex items-center justify-center ${B(R,"avatar","text")} text-sm font-medium overflow-hidden`,children:ve.image_url?c.jsx("img",{src:ve.image_url,alt:ve.name,className:"w-full h-full object-cover"}):ve.name.charAt(0).toUpperCase()})}),c.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:c.jsx("div",{className:`text-sm font-medium ${B(R,"text","primary")}`,children:ve.name})}),c.jsxs("td",{className:"px-3 py-2 whitespace-nowrap",children:[c.jsx("div",{className:`text-xs ${B(R,"text","tertiary")}`,children:ve.phone||"No phone"}),c.jsx("div",{className:`text-xs ${B(R,"text","tertiary")}`,children:ve.address})]}),c.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-right",children:c.jsxs("div",{className:`text-sm font-medium ${B(R,"text","primary")}`,children:[q," ",((me=ve.total_spent)==null?void 0:me.toFixed(2))||"0.00"]})}),c.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-right",children:c.jsxs("div",{className:`text-sm font-medium ${ve.total_balance>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[q," ",ve.total_balance.toFixed(2)]})}),c.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:c.jsx(vp,{className:`h-5 w-5 mx-auto ${B(R,"text","tertiary")}`})})]})]},ve.id)})})]})}),m>1&&c.jsx("div",{className:"mt-4",children:c.jsx(zc,{currentPage:h,totalPages:m,onPageChange:Q})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("button",{onClick:()=>k(!C),className:`inline-flex mt-8 items-center px-3 py-1.5 w-full sm:w-auto border rounded-md shadow-sm text-sm font-medium ${C?"bg-red-600 text-white hover:bg-red-700":"bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600"}`,children:C?c.jsxs(c.Fragment,{children:[c.jsx(dr,{className:"h-4 w-4 mr-1.5"}),"Cancel Edit"]}):c.jsxs(c.Fragment,{children:[c.jsx(Ol,{className:"h-4 w-4 mr-1.5"}),"Edit Mode"]})}),c.jsxs("select",{value:s,onChange:ve=>o(ve.target.value),className:`px-2 py-1.5 w-full sm:w-auto border rounded-md focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${B(R,"border","primary")} ${B(R,"text","primary")} bg-transparent`,children:[c.jsx("option",{value:"active",children:"Active Clients"}),c.jsx("option",{value:"archived",children:"Archived Clients"})]})]})]})]})}function eK(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=eK(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ht(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=eK(e))&&(n&&(n+=" "),n+=t);return n}const tK=6048e5,vDe=864e5,Rk=6e4,Bk=36e5,yDe=1e3,qF=Symbol.for("constructDateFrom");function Qr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&qF in e?e[qF](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ot(e,t){return Qr(t||e,e)}function Go(e,t,r){const n=Ot(e,r==null?void 0:r.in);return isNaN(t)?Qr((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Zo(e,t,r){const n=Ot(e,r==null?void 0:r.in);if(isNaN(t))return Qr(e,NaN);if(!t)return n;const a=n.getDate(),i=Qr(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const s=i.getDate();return a>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}function rK(e,t,r){return Qr(e,+Ot(e)+t)}function bDe(e,t,r){return rK(e,t*Bk)}let wDe={};function Ch(){return wDe}function Hc(e,t){var o,l,u,d;const r=Ch(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Ot(e,t==null?void 0:t.in),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function Fp(e,t){return Hc(e,{...t,weekStartsOn:1})}function nK(e,t){const r=Ot(e,t==null?void 0:t.in),n=r.getFullYear(),a=Qr(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Fp(a),s=Qr(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Fp(s);return r.getTime()>=i.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function t_(e){const t=Ot(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Xc(e,...t){const r=Qr.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function rh(e,t){const r=Ot(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function Lp(e,t,r){const[n,a]=Xc(r==null?void 0:r.in,e,t),i=rh(n),s=rh(a),o=+i-t_(i),l=+s-t_(s);return Math.round((o-l)/vDe)}function _De(e,t){const r=nK(e,t),n=Qr(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Fp(n)}function RC(e,t,r){const n=Ot(e,r==null?void 0:r.in);return n.setTime(n.getTime()+t*Rk),n}function vP(e,t,r){return Zo(e,t*3,r)}function kDe(e,t,r){return rK(e,t*1e3)}function r_(e,t,r){return Go(e,t*7,r)}function kc(e,t,r){return Zo(e,t*12,r)}function YF(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Qr.bind(null,a));const i=Ot(a,n);(!r||r<i||isNaN(+i))&&(r=i)}),Qr(n,r||NaN)}function VF(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Qr.bind(null,a));const i=Ot(a,n);(!r||r>i||isNaN(+i))&&(r=i)}),Qr(n,r||NaN)}function SDe(e,t,r){const[n,a]=Xc(r==null?void 0:r.in,e,t);return+rh(n)==+rh(a)}function Sc(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function n_(e){return!(!Sc(e)&&typeof e!="number"||isNaN(+Ot(e)))}function a_(e,t,r){const[n,a]=Xc(r==null?void 0:r.in,e,t),i=n.getFullYear()-a.getFullYear(),s=n.getMonth()-a.getMonth();return i*12+s}function Of(e,t){const r=Ot(e,t==null?void 0:t.in);return Math.trunc(r.getMonth()/3)+1}function i_(e,t,r){const[n,a]=Xc(r==null?void 0:r.in,e,t),i=n.getFullYear()-a.getFullYear(),s=Of(n)-Of(a);return i*4+s}function s_(e,t,r){const[n,a]=Xc(r==null?void 0:r.in,e,t);return n.getFullYear()-a.getFullYear()}function NDe(e,t,r){const[n,a]=Xc(r==null?void 0:r.in,e,t),i=GF(n,a),s=Math.abs(Lp(n,a));n.setDate(n.getDate()-i*s);const o=+(GF(n,a)===-i),l=i*(s-o);return l===0?0:l}function GF(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function aK(e,t){const r=Ot(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function iK(e,t){const r=Ot(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function BC(e,t){const r=Ot(e,t==null?void 0:t.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function sK(e,t){const r=Ot(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function oK(e,t){const r=Ot(e,t==null?void 0:t.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Uk(e,t){const r=Ot(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function jDe(e,t){var o,l;const r=Ch(),n=r.weekStartsOn??((l=(o=r.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??0,a=Ot(e,t==null?void 0:t.in),i=a.getDay(),s=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}const CDe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},TDe=(e,t,r)=>{let n;const a=CDe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function G3(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const ADe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},EDe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},PDe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ODe={date:G3({formats:ADe,defaultWidth:"full"}),time:G3({formats:EDe,defaultWidth:"full"}),dateTime:G3({formats:PDe,defaultWidth:"full"})},$De={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},DDe=(e,t,r,n)=>$De[e];function Xg(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=e.formattingValues[o]||e.formattingValues[s]}else{const s=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[o]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const MDe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},FDe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},LDe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},IDe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},RDe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},BDe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},UDe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},WDe={ordinalNumber:UDe,era:Xg({values:MDe,defaultWidth:"wide"}),quarter:Xg({values:FDe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Xg({values:LDe,defaultWidth:"wide"}),day:Xg({values:IDe,defaultWidth:"wide"}),dayPeriod:Xg({values:RDe,defaultWidth:"wide",formattingValues:BDe,defaultFormattingWidth:"wide"})};function Qg(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?HDe(o,f=>f.test(s)):zDe(o,f=>f.test(s));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(s.length);return{value:u,rest:d}}}function zDe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function HDe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function qDe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const o=t.slice(a.length);return{value:s,rest:o}}}const YDe=/^(\d+)(th|st|nd|rd)?/i,VDe=/\d+/i,GDe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KDe={any:[/^b/i,/^(a|c)/i]},XDe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QDe={any:[/1/i,/2/i,/3/i,/4/i]},JDe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ZDe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eMe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tMe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rMe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nMe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aMe={ordinalNumber:qDe({matchPattern:YDe,parsePattern:VDe,valueCallback:e=>parseInt(e,10)}),era:Qg({matchPatterns:GDe,defaultMatchWidth:"wide",parsePatterns:KDe,defaultParseWidth:"any"}),quarter:Qg({matchPatterns:XDe,defaultMatchWidth:"wide",parsePatterns:QDe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Qg({matchPatterns:JDe,defaultMatchWidth:"wide",parsePatterns:ZDe,defaultParseWidth:"any"}),day:Qg({matchPatterns:eMe,defaultMatchWidth:"wide",parsePatterns:tMe,defaultParseWidth:"any"}),dayPeriod:Qg({matchPatterns:rMe,defaultMatchWidth:"any",parsePatterns:nMe,defaultParseWidth:"any"})},lK={code:"en-US",formatDistance:TDe,formatLong:ODe,formatRelative:DDe,localize:WDe,match:aMe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iMe(e,t){const r=Ot(e,t==null?void 0:t.in);return Lp(r,Uk(r))+1}function yP(e,t){const r=Ot(e,t==null?void 0:t.in),n=+Fp(r)-+_De(r);return Math.round(n/tK)+1}function bP(e,t){var d,f,h,p;const r=Ot(e,t==null?void 0:t.in),n=r.getFullYear(),a=Ch(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=Qr((t==null?void 0:t.in)||e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const o=Hc(s,t),l=Qr((t==null?void 0:t.in)||e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const u=Hc(l,t);return+r>=+o?n+1:+r>=+u?n:n-1}function sMe(e,t){var o,l,u,d;const r=Ch(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=bP(e,t),i=Qr((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Hc(i,t)}function cK(e,t){const r=Ot(e,t==null?void 0:t.in),n=+Hc(r,t)-+sMe(r,t);return Math.round(n/tK)+1}function Gr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const vu={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Gr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Gr(r+1,2)},d(e,t){return Gr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Gr(e.getHours()%12||12,t.length)},H(e,t){return Gr(e.getHours(),t.length)},m(e,t){return Gr(e.getMinutes(),t.length)},s(e,t){return Gr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Gr(a,t.length)}},g0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},KF={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return vu.y(e,t)},Y:function(e,t,r,n){const a=bP(e,n),i=a>0?a:1-a;if(t==="YY"){const s=i%100;return Gr(s,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Gr(i,t.length)},R:function(e,t){const r=nK(e);return Gr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Gr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Gr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Gr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return vu.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Gr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=cK(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Gr(a,t.length)},I:function(e,t,r){const n=yP(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Gr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):vu.d(e,t)},D:function(e,t,r){const n=iMe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Gr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Gr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Gr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Gr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=g0.noon:n===0?a=g0.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=g0.evening:n>=12?a=g0.afternoon:n>=4?a=g0.morning:a=g0.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return vu.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):vu.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Gr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Gr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):vu.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):vu.s(e,t)},S:function(e,t){return vu.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return QF(n);case"XXXX":case"XX":return rf(n);case"XXXXX":case"XXX":default:return rf(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return QF(n);case"xxxx":case"xx":return rf(n);case"xxxxx":case"xxx":default:return rf(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+XF(n,":");case"OOOO":default:return"GMT"+rf(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+XF(n,":");case"zzzz":default:return"GMT"+rf(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Gr(n,t.length)},T:function(e,t,r){return Gr(+e,t.length)}};function XF(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Gr(i,2)}function QF(e,t){return e%60===0?(e>0?"-":"+")+Gr(Math.abs(e)/60,2):rf(e,t)}function rf(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Gr(Math.trunc(n/60),2),i=Gr(n%60,2);return r+a+t+i}const JF=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},uK=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},oMe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return JF(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",JF(n,t)).replace("{{time}}",uK(a,t))},UC={p:uK,P:oMe},lMe=/^D+$/,cMe=/^Y+$/,uMe=["D","DD","YY","YYYY"];function dMe(e){return lMe.test(e)}function fMe(e){return cMe.test(e)}function hMe(e,t,r){const n=pMe(e,t,r);if(console.warn(n),uMe.includes(e))throw new RangeError(n)}function pMe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const mMe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gMe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xMe=/^'([^]*?)'?$/,vMe=/''/g,yMe=/[a-zA-Z]/;function ZF(e,t,r){var d,f,h,p,m,g,v,x;const n=Ch(),a=(r==null?void 0:r.locale)??n.locale??lK,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((g=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((x=(v=n.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,o=Ot(e,r==null?void 0:r.in);if(!n_(o))throw new RangeError("Invalid time value");let l=t.match(gMe).map(y=>{const b=y[0];if(b==="p"||b==="P"){const N=UC[b];return N(y,a.formatLong)}return y}).join("").match(mMe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:bMe(y)};if(KF[b])return{isToken:!0,value:y};if(b.match(yMe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return l.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&fMe(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&dMe(b))&&hMe(b,t,String(e));const N=KF[b[0]];return N(o,b,a.localize,u)}).join("")}function bMe(e){const t=e.match(xMe);return t?t[1].replace(vMe,"'"):e}function eL(e,t){return Ot(e,t==null?void 0:t.in).getDate()}function wMe(e,t){return Ot(e,t==null?void 0:t.in).getDay()}function _Me(e,t){const r=Ot(e,t==null?void 0:t.in),n=r.getFullYear(),a=r.getMonth(),i=Qr(r,0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function kMe(){return Object.assign({},Ch())}function Nc(e,t){return Ot(e,t==null?void 0:t.in).getHours()}function SMe(e,t){const r=Ot(e,t==null?void 0:t.in).getDay();return r===0?7:r}function jc(e,t){return Ot(e,t==null?void 0:t.in).getMinutes()}function Ii(e,t){return Ot(e,t==null?void 0:t.in).getMonth()}function ed(e){return Ot(e).getSeconds()}function WC(e){return+Ot(e)}function pr(e,t){return Ot(e,t==null?void 0:t.in).getFullYear()}function bd(e,t){return+Ot(e)>+Ot(t)}function nh(e,t){return+Ot(e)<+Ot(t)}function NMe(e,t){return+Ot(e)==+Ot(t)}function jMe(e,t){const r=CMe(t)?new t(0):Qr(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function CMe(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const TMe=10;class dK{constructor(){kt(this,"subPriority",0)}validate(t,r){return!0}}class AMe extends dK{constructor(t,r,n,a,i){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class EMe extends dK{constructor(r,n){super();kt(this,"priority",TMe);kt(this,"subPriority",-1);this.context=r||(a=>Qr(n,a))}set(r,n){return n.timestampIsSet?r:Qr(r,jMe(r,this.context))}}class Br{run(t,r,n,a){const i=this.parse(t,r,n,a);return i?{setter:new AMe(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,n){return!0}}class PMe extends Br{constructor(){super(...arguments);kt(this,"priority",140);kt(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const Zn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},yl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ea(e,t){return e&&{value:t(e.value),rest:e.rest}}function On(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function bl(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,s=r[5]?parseInt(r[5],10):0;return{value:n*(a*Bk+i*Rk+s*yDe),rest:t.slice(r[0].length)}}function fK(e){return On(Zn.anyDigitsSigned,e)}function Hn(e,t){switch(e){case 1:return On(Zn.singleDigit,t);case 2:return On(Zn.twoDigits,t);case 3:return On(Zn.threeDigits,t);case 4:return On(Zn.fourDigits,t);default:return On(new RegExp("^\\d{1,"+e+"}"),t)}}function o_(e,t){switch(e){case 1:return On(Zn.singleDigitSigned,t);case 2:return On(Zn.twoDigitsSigned,t);case 3:return On(Zn.threeDigitsSigned,t);case 4:return On(Zn.fourDigitsSigned,t);default:return On(new RegExp("^-?\\d{1,"+e+"}"),t)}}function wP(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function hK(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const i=n+50,s=Math.trunc(i/100)*100,o=e>=i%100;a=e+s-(o?100:0)}return r?a:1-a}function pK(e){return e%400===0||e%4===0&&e%100!==0}class OMe extends Br{constructor(){super(...arguments);kt(this,"priority",130);kt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const i=s=>({year:s,isTwoDigitYear:n==="yy"});switch(n){case"y":return ea(Hn(4,r),i);case"yo":return ea(a.ordinalNumber(r,{unit:"year"}),i);default:return ea(Hn(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const i=r.getFullYear();if(a.isTwoDigitYear){const o=hK(a.year,i);return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}const s=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class $Me extends Br{constructor(){super(...arguments);kt(this,"priority",130);kt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const i=s=>({year:s,isTwoDigitYear:n==="YY"});switch(n){case"Y":return ea(Hn(4,r),i);case"Yo":return ea(a.ordinalNumber(r,{unit:"year"}),i);default:return ea(Hn(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,i){const s=bP(r,i);if(a.isTwoDigitYear){const l=hK(a.year,s);return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Hc(r,i)}const o=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(o,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Hc(r,i)}}class DMe extends Br{constructor(){super(...arguments);kt(this,"priority",130);kt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return o_(n==="R"?4:n.length,r)}set(r,n,a){const i=Qr(r,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),Fp(i)}}class MMe extends Br{constructor(){super(...arguments);kt(this,"priority",130);kt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return o_(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class FMe extends Br{constructor(){super(...arguments);kt(this,"priority",120);kt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return Hn(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class LMe extends Br{constructor(){super(...arguments);kt(this,"priority",120);kt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return Hn(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class IMe extends Br{constructor(){super(...arguments);kt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);kt(this,"priority",110)}parse(r,n,a){const i=s=>s-1;switch(n){case"M":return ea(On(Zn.month,r),i);case"MM":return ea(Hn(2,r),i);case"Mo":return ea(a.ordinalNumber(r,{unit:"month"}),i);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class RMe extends Br{constructor(){super(...arguments);kt(this,"priority",110);kt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const i=s=>s-1;switch(n){case"L":return ea(On(Zn.month,r),i);case"LL":return ea(Hn(2,r),i);case"Lo":return ea(a.ordinalNumber(r,{unit:"month"}),i);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function BMe(e,t,r){const n=Ot(e,r==null?void 0:r.in),a=cK(n,r)-t;return n.setDate(n.getDate()-a*7),Ot(n,r==null?void 0:r.in)}class UMe extends Br{constructor(){super(...arguments);kt(this,"priority",100);kt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return On(Zn.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Hn(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,i){return Hc(BMe(r,a,i),i)}}function WMe(e,t,r){const n=Ot(e,r==null?void 0:r.in),a=yP(n,r)-t;return n.setDate(n.getDate()-a*7),n}class zMe extends Br{constructor(){super(...arguments);kt(this,"priority",100);kt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return On(Zn.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Hn(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return Fp(WMe(r,a))}}const HMe=[31,28,31,30,31,30,31,31,30,31,30,31],qMe=[31,29,31,30,31,30,31,31,30,31,30,31];class YMe extends Br{constructor(){super(...arguments);kt(this,"priority",90);kt(this,"subPriority",1);kt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return On(Zn.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Hn(n.length,r)}}validate(r,n){const a=r.getFullYear(),i=pK(a),s=r.getMonth();return i?n>=1&&n<=qMe[s]:n>=1&&n<=HMe[s]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class VMe extends Br{constructor(){super(...arguments);kt(this,"priority",90);kt(this,"subpriority",1);kt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return On(Zn.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Hn(n.length,r)}}validate(r,n){const a=r.getFullYear();return pK(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function _P(e,t,r){var f,h,p,m;const n=Ch(),a=(r==null?void 0:r.weekStartsOn)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=Ot(e,r==null?void 0:r.in),s=i.getDay(),l=(t%7+7)%7,u=7-a,d=t<0||t>6?t-(s+u)%7:(l+u)%7-(s+u)%7;return Go(i,d,r)}class GMe extends Br{constructor(){super(...arguments);kt(this,"priority",90);kt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=_P(r,a,i),r.setHours(0,0,0,0),r}}class KMe extends Br{constructor(){super(...arguments);kt(this,"priority",90);kt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,i){const s=o=>{const l=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+l};switch(n){case"e":case"ee":return ea(Hn(n.length,r),s);case"eo":return ea(a.ordinalNumber(r,{unit:"day"}),s);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=_P(r,a,i),r.setHours(0,0,0,0),r}}class XMe extends Br{constructor(){super(...arguments);kt(this,"priority",90);kt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,i){const s=o=>{const l=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+l};switch(n){case"c":case"cc":return ea(Hn(n.length,r),s);case"co":return ea(a.ordinalNumber(r,{unit:"day"}),s);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=_P(r,a,i),r.setHours(0,0,0,0),r}}function QMe(e,t,r){const n=Ot(e,r==null?void 0:r.in),a=SMe(n,r),i=t-a;return Go(n,i,r)}class JMe extends Br{constructor(){super(...arguments);kt(this,"priority",90);kt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const i=s=>s===0?7:s;switch(n){case"i":case"ii":return Hn(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return ea(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return ea(a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return ea(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return ea(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=QMe(r,a),r.setHours(0,0,0,0),r}}class ZMe extends Br{constructor(){super(...arguments);kt(this,"priority",80);kt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(wP(a),0,0,0),r}}class e7e extends Br{constructor(){super(...arguments);kt(this,"priority",80);kt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(wP(a),0,0,0),r}}class t7e extends Br{constructor(){super(...arguments);kt(this,"priority",80);kt(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(wP(a),0,0,0),r}}class r7e extends Br{constructor(){super(...arguments);kt(this,"priority",70);kt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return On(Zn.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Hn(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const i=r.getHours()>=12;return i&&a<12?r.setHours(a+12,0,0,0):!i&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class n7e extends Br{constructor(){super(...arguments);kt(this,"priority",70);kt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return On(Zn.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Hn(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class a7e extends Br{constructor(){super(...arguments);kt(this,"priority",70);kt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return On(Zn.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Hn(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class i7e extends Br{constructor(){super(...arguments);kt(this,"priority",70);kt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return On(Zn.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Hn(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const i=a<=24?a%24:a;return r.setHours(i,0,0,0),r}}class s7e extends Br{constructor(){super(...arguments);kt(this,"priority",60);kt(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return On(Zn.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Hn(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class o7e extends Br{constructor(){super(...arguments);kt(this,"priority",50);kt(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return On(Zn.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Hn(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class l7e extends Br{constructor(){super(...arguments);kt(this,"priority",30);kt(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=i=>Math.trunc(i*Math.pow(10,-n.length+3));return ea(Hn(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class c7e extends Br{constructor(){super(...arguments);kt(this,"priority",10);kt(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return bl(yl.basicOptionalMinutes,r);case"XX":return bl(yl.basic,r);case"XXXX":return bl(yl.basicOptionalSeconds,r);case"XXXXX":return bl(yl.extendedOptionalSeconds,r);case"XXX":default:return bl(yl.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Qr(r,r.getTime()-t_(r)-a)}}class u7e extends Br{constructor(){super(...arguments);kt(this,"priority",10);kt(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return bl(yl.basicOptionalMinutes,r);case"xx":return bl(yl.basic,r);case"xxxx":return bl(yl.basicOptionalSeconds,r);case"xxxxx":return bl(yl.extendedOptionalSeconds,r);case"xxx":default:return bl(yl.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Qr(r,r.getTime()-t_(r)-a)}}class d7e extends Br{constructor(){super(...arguments);kt(this,"priority",40);kt(this,"incompatibleTokens","*")}parse(r){return fK(r)}set(r,n,a){return[Qr(r,a*1e3),{timestampIsSet:!0}]}}class f7e extends Br{constructor(){super(...arguments);kt(this,"priority",20);kt(this,"incompatibleTokens","*")}parse(r){return fK(r)}set(r,n,a){return[Qr(r,a),{timestampIsSet:!0}]}}const h7e={G:new PMe,y:new OMe,Y:new $Me,R:new DMe,u:new MMe,Q:new FMe,q:new LMe,M:new IMe,L:new RMe,w:new UMe,I:new zMe,d:new YMe,D:new VMe,E:new GMe,e:new KMe,c:new XMe,i:new JMe,a:new ZMe,b:new e7e,B:new t7e,h:new r7e,H:new n7e,K:new a7e,k:new i7e,m:new s7e,s:new o7e,S:new l7e,X:new c7e,x:new u7e,t:new d7e,T:new f7e},p7e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,m7e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g7e=/^'([^]*?)'?$/,x7e=/''/g,v7e=/\S/,y7e=/[a-zA-Z]/;function b7e(e,t,r,n){var v,x,y,b,N,_,C,k;const a=()=>Qr((n==null?void 0:n.in)||r,NaN),i=kMe(),s=(n==null?void 0:n.locale)??i.locale??lK,o=(n==null?void 0:n.firstWeekContainsDate)??((x=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:x.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(y=i.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((_=(N=n==null?void 0:n.locale)==null?void 0:N.options)==null?void 0:_.weekStartsOn)??i.weekStartsOn??((k=(C=i.locale)==null?void 0:C.options)==null?void 0:k.weekStartsOn)??0;if(!t)return e?a():Ot(r,n==null?void 0:n.in);const u={firstWeekContainsDate:o,weekStartsOn:l,locale:s},d=[new EMe(n==null?void 0:n.in,r)],f=t.match(m7e).map(w=>{const S=w[0];if(S in UC){const P=UC[S];return P(w,s.formatLong)}return w}).join("").match(p7e),h=[];for(let w of f){const S=w[0],P=h7e[S];if(P){const{incompatibleTokens:A}=P;if(Array.isArray(A)){const F=h.find(M=>A.includes(M.token)||M.token===S);if(F)throw new RangeError(`The format string mustn't contain \`${F.fullToken}\` and \`${w}\` at the same time`)}else if(P.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);h.push({token:S,fullToken:w});const T=P.run(e,w,s.match,u);if(!T)return a();d.push(T.setter),e=T.rest}else{if(S.match(y7e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(w==="''"?w="'":S==="'"&&(w=w7e(w)),e.indexOf(w)===0)e=e.slice(w.length);else return a()}}if(e.length>0&&v7e.test(e))return a();const p=d.map(w=>w.priority).sort((w,S)=>S-w).filter((w,S,P)=>P.indexOf(w)===S).map(w=>d.filter(S=>S.priority===w).sort((S,P)=>P.subPriority-S.subPriority)).map(w=>w[0]);let m=Ot(r,n==null?void 0:n.in);if(isNaN(+m))return a();const g={};for(const w of p){if(!w.validate(m,u))return a();const S=w.set(m,g,u);Array.isArray(S)?(m=S[0],Object.assign(g,S[1])):m=S}return m}function w7e(e){return e.match(g7e)[1].replace(x7e,"'")}function _7e(e,t,r){const[n,a]=Xc(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function k7e(e,t,r){const[n,a]=Xc(r==null?void 0:r.in,e,t);return+BC(n)==+BC(a)}function S7e(e,t,r){const[n,a]=Xc(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()}function Gv(e,t,r){const n=+Ot(e,r==null?void 0:r.in),[a,i]=[+Ot(t.start,r==null?void 0:r.in),+Ot(t.end,r==null?void 0:r.in)].sort((s,o)=>s-o);return n>=a&&n<=i}function N7e(e,t,r){return Go(e,-1,r)}function j7e(e,t){const r=()=>Qr(t==null?void 0:t.in,NaN),a=E7e(e);let i;if(a.date){const u=P7e(a.date,2);i=O7e(u.restDateString,u.year)}if(!i||isNaN(+i))return r();const s=+i;let o=0,l;if(a.time&&(o=$7e(a.time),isNaN(o)))return r();if(a.timezone){if(l=D7e(a.timezone),isNaN(l))return r()}else{const u=new Date(s+o),d=Ot(0,t==null?void 0:t.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return Ot(s+o+l,t==null?void 0:t.in)}const qb={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},C7e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,T7e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,A7e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function E7e(e){const t={},r=e.split(qb.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],qb.timeZoneDelimiter.test(t.date)&&(t.date=e.split(qb.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=qb.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function P7e(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function O7e(e,t){if(t===null)return new Date(NaN);const r=e.match(C7e);if(!r)return new Date(NaN);const n=!!r[4],a=Jg(r[1]),i=Jg(r[2])-1,s=Jg(r[3]),o=Jg(r[4]),l=Jg(r[5])-1;if(n)return R7e(t,o,l)?M7e(t,o,l):new Date(NaN);{const u=new Date(0);return!L7e(t,i,s)||!I7e(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,s)),u)}}function Jg(e){return e?parseInt(e):1}function $7e(e){const t=e.match(T7e);if(!t)return NaN;const r=K3(t[1]),n=K3(t[2]),a=K3(t[3]);return B7e(r,n,a)?r*Bk+n*Rk+a*1e3:NaN}function K3(e){return e&&parseFloat(e.replace(",","."))||0}function D7e(e){if(e==="Z")return 0;const t=e.match(A7e);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return U7e(n,a)?r*(n*Bk+a*Rk):NaN}function M7e(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const F7e=[31,null,31,30,31,30,31,31,30,31,30,31];function mK(e){return e%400===0||e%4===0&&e%100!==0}function L7e(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(F7e[t]||(mK(e)?29:28))}function I7e(e,t){return t>=1&&t<=(mK(e)?366:365)}function R7e(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function B7e(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function U7e(e,t){return t>=0&&t<=59}function Js(e,t,r){const n=Ot(e,r==null?void 0:r.in),a=n.getFullYear(),i=n.getDate(),s=Qr(e,0);s.setFullYear(a,t,15),s.setHours(0,0,0,0);const o=_Me(s);return n.setMonth(t,Math.min(i,o)),n}function j2(e,t,r){const n=Ot(e,r==null?void 0:r.in);return n.setHours(t),n}function C2(e,t,r){const n=Ot(e,r==null?void 0:r.in);return n.setMinutes(t),n}function _0(e,t,r){const n=Ot(e,r==null?void 0:r.in),a=Math.trunc(n.getMonth()/3)+1,i=t-a;return Js(n,n.getMonth()+i*3)}function T2(e,t,r){const n=Ot(e,r==null?void 0:r.in);return n.setSeconds(t),n}function gl(e,t,r){const n=Ot(e,r==null?void 0:r.in);return isNaN(+n)?Qr(e,NaN):(n.setFullYear(t),n)}function $f(e,t,r){return Zo(e,-t,r)}function gK(e,t,r){return vP(e,-1,r)}function tL(e,t,r){return r_(e,-1,r)}function Ip(e,t,r){return kc(e,-t,r)}function Wk(){return typeof window<"u"}function Mm(e){return xK(e)?(e.nodeName||"").toLowerCase():"#document"}function Ps(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Yl(e){var t;return(t=(xK(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xK(e){return Wk()?e instanceof Node||e instanceof Ps(e).Node:!1}function Ri(e){return Wk()?e instanceof Element||e instanceof Ps(e).Element:!1}function Ll(e){return Wk()?e instanceof HTMLElement||e instanceof Ps(e).HTMLElement:!1}function rL(e){return!Wk()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ps(e).ShadowRoot}function o1(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=mo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function W7e(e){return["table","td","th"].includes(Mm(e))}function zk(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function kP(e){const t=SP(),r=Ri(e)?mo(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function z7e(e){let t=wd(e);for(;Ll(t)&&!Rp(t);){if(kP(t))return t;if(zk(t))return null;t=wd(t)}return null}function SP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Rp(e){return["html","body","#document"].includes(Mm(e))}function mo(e){return Ps(e).getComputedStyle(e)}function Hk(e){return Ri(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function wd(e){if(Mm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||rL(e)&&e.host||Yl(e);return rL(t)?t.host:t}function vK(e){const t=wd(e);return Rp(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ll(t)&&o1(t)?t:vK(t)}function Kv(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=vK(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),s=Ps(a);if(i){const o=zC(s);return t.concat(s,s.visualViewport||[],o1(a)?a:[],o&&r?Kv(o):[])}return t.concat(a,Kv(a,[],r))}function zC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Bp=Math.min,Df=Math.max,l_=Math.round,Yb=Math.floor,Al=e=>({x:e,y:e}),H7e={left:"right",right:"left",bottom:"top",top:"bottom"},q7e={start:"end",end:"start"};function Y7e(e,t,r){return Df(e,Bp(t,r))}function qk(e,t){return typeof e=="function"?e(t):e}function Up(e){return e.split("-")[0]}function l1(e){return e.split("-")[1]}function V7e(e){return e==="x"?"y":"x"}function NP(e){return e==="y"?"height":"width"}function Xv(e){return["top","bottom"].includes(Up(e))?"y":"x"}function jP(e){return V7e(Xv(e))}function G7e(e,t,r){r===void 0&&(r=!1);const n=l1(e),a=jP(e),i=NP(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=c_(s)),[s,c_(s)]}function K7e(e){const t=c_(e);return[HC(e),t,HC(t)]}function HC(e){return e.replace(/start|end/g,t=>q7e[t])}function X7e(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:s;default:return[]}}function Q7e(e,t,r,n){const a=l1(e);let i=X7e(Up(e),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),t&&(i=i.concat(i.map(HC)))),i}function c_(e){return e.replace(/left|right|bottom|top/g,t=>H7e[t])}function J7e(e){return{top:0,right:0,bottom:0,left:0,...e}}function yK(e){return typeof e!="number"?J7e(e):{top:e,right:e,bottom:e,left:e}}function u_(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function nL(e,t,r){let{reference:n,floating:a}=e;const i=Xv(t),s=jP(t),o=NP(s),l=Up(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[o]/2-a[o]/2;let p;switch(l){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(l1(t)){case"start":p[s]-=h*(r&&u?-1:1);break;case"end":p[s]+=h*(r&&u?-1:1);break}return p}const Z7e=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,o=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=nL(u,n,l),h=n,p={},m=0;for(let g=0;g<o.length;g++){const{name:v,fn:x}=o[g],{x:y,y:b,data:N,reset:_}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});d=y??d,f=b??f,p={...p,[v]:{...p[v],...N}},_&&m<=50&&(m++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:d,y:f}=nL(u,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function eFe(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:s,elements:o,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=qk(t,e),m=yK(p),v=o[h?f==="floating"?"reference":"floating":f],x=u_(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),y=f==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),N=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=u_(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:b,strategy:l}):y);return{top:(x.top-_.top+m.top)/N.y,bottom:(_.bottom-x.bottom+m.bottom)/N.y,left:(x.left-_.left+m.left)/N.x,right:(_.right-x.right+m.right)/N.x}}const tFe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:s,elements:o,middlewareData:l}=t,{element:u,padding:d=0}=qk(e,t)||{};if(u==null)return{};const f=yK(d),h={x:r,y:n},p=jP(a),m=NP(p),g=await s.getDimensions(u),v=p==="y",x=v?"top":"left",y=v?"bottom":"right",b=v?"clientHeight":"clientWidth",N=i.reference[m]+i.reference[p]-h[p]-i.floating[m],_=h[p]-i.reference[p],C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let k=C?C[b]:0;(!k||!await(s.isElement==null?void 0:s.isElement(C)))&&(k=o.floating[b]||i.floating[m]);const w=N/2-_/2,S=k/2-g[m]/2-1,P=Bp(f[x],S),A=Bp(f[y],S),T=P,F=k-g[m]-A,M=k/2-g[m]/2+w,H=Y7e(T,M,F),z=!l.arrow&&l1(a)!=null&&M!==H&&i.reference[m]/2-(M<T?P:A)-g[m]/2<0,Y=z?M<T?M-T:M-F:0;return{[p]:h[p]+Y,data:{[p]:H,centerOffset:M-H-Y,...z&&{alignmentOffset:Y}},reset:z}}}),rFe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:o,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=qk(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=Up(a),y=Xv(o),b=Up(o)===o,N=await(l.isRTL==null?void 0:l.isRTL(u.floating)),_=h||(b||!g?[c_(o)]:K7e(o)),C=m!=="none";!h&&C&&_.push(...Q7e(o,g,m,N));const k=[o,..._],w=await eFe(t,v),S=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&S.push(w[x]),f){const M=G7e(a,s,N);S.push(w[M[0]],w[M[1]])}if(P=[...P,{placement:a,overflows:S}],!S.every(M=>M<=0)){var A,T;const M=(((A=i.flip)==null?void 0:A.index)||0)+1,H=k[M];if(H)return{data:{index:M,overflows:P},reset:{placement:H}};let z=(T=P.filter(Y=>Y.overflows[0]<=0).sort((Y,G)=>Y.overflows[1]-G.overflows[1])[0])==null?void 0:T.placement;if(!z)switch(p){case"bestFit":{var F;const Y=(F=P.filter(G=>{if(C){const I=Xv(G.placement);return I===y||I==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(I=>I>0).reduce((I,X)=>I+X,0)]).sort((G,I)=>G[1]-I[1])[0])==null?void 0:F[0];Y&&(z=Y);break}case"initialPlacement":z=o;break}if(a!==z)return{reset:{placement:z}}}return{}}}};async function nFe(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=Up(r),o=l1(r),l=Xv(r)==="y",u=["left","top"].includes(s)?-1:1,d=i&&l?-1:1,f=qk(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof m=="number"&&(p=o==="end"?m*-1:m),l?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const aFe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:s,middlewareData:o}=t,l=await nFe(t,e);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:s}}}}};function bK(e){const t=mo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Ll(e),i=a?e.offsetWidth:r,s=a?e.offsetHeight:n,o=l_(r)!==i||l_(n)!==s;return o&&(r=i,n=s),{width:r,height:n,$:o}}function CP(e){return Ri(e)?e:e.contextElement}function ap(e){const t=CP(e);if(!Ll(t))return Al(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=bK(t);let s=(i?l_(r.width):r.width)/n,o=(i?l_(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const iFe=Al(0);function wK(e){const t=Ps(e);return!SP()||!t.visualViewport?iFe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sFe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ps(e)?!1:t}function ah(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=CP(e);let s=Al(1);t&&(n?Ri(n)&&(s=ap(n)):s=ap(e));const o=sFe(i,r,n)?wK(i):Al(0);let l=(a.left+o.x)/s.x,u=(a.top+o.y)/s.y,d=a.width/s.x,f=a.height/s.y;if(i){const h=Ps(i),p=n&&Ri(n)?Ps(n):n;let m=h,g=zC(m);for(;g&&n&&p!==m;){const v=ap(g),x=g.getBoundingClientRect(),y=mo(g),b=x.left+(g.clientLeft+parseFloat(y.paddingLeft))*v.x,N=x.top+(g.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,u*=v.y,d*=v.x,f*=v.y,l+=b,u+=N,m=Ps(g),g=zC(m)}}return u_({width:d,height:f,x:l,y:u})}function TP(e,t){const r=Hk(e).scrollLeft;return t?t.left+r:ah(Yl(e)).left+r}function _K(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:TP(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function oFe(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",s=Yl(n),o=t?zk(t.floating):!1;if(n===s||o&&i)return r;let l={scrollLeft:0,scrollTop:0},u=Al(1);const d=Al(0),f=Ll(n);if((f||!f&&!i)&&((Mm(n)!=="body"||o1(s))&&(l=Hk(n)),Ll(n))){const p=ah(n);u=ap(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=s&&!f&&!i?_K(s,l,!0):Al(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-l.scrollTop*u.y+d.y+h.y}}function lFe(e){return Array.from(e.getClientRects())}function cFe(e){const t=Yl(e),r=Hk(e),n=e.ownerDocument.body,a=Df(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Df(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+TP(e);const o=-r.scrollTop;return mo(n).direction==="rtl"&&(s+=Df(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:o}}function uFe(e,t){const r=Ps(e),n=Yl(e),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,o=0,l=0;if(a){i=a.width,s=a.height;const u=SP();(!u||u&&t==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:i,height:s,x:o,y:l}}function dFe(e,t){const r=ah(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Ll(e)?ap(e):Al(1),s=e.clientWidth*i.x,o=e.clientHeight*i.y,l=a*i.x,u=n*i.y;return{width:s,height:o,x:l,y:u}}function aL(e,t,r){let n;if(t==="viewport")n=uFe(e,r);else if(t==="document")n=cFe(Yl(e));else if(Ri(t))n=dFe(t,r);else{const a=wK(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return u_(n)}function kK(e,t){const r=wd(e);return r===t||!Ri(r)||Rp(r)?!1:mo(r).position==="fixed"||kK(r,t)}function fFe(e,t){const r=t.get(e);if(r)return r;let n=Kv(e,[],!1).filter(o=>Ri(o)&&Mm(o)!=="body"),a=null;const i=mo(e).position==="fixed";let s=i?wd(e):e;for(;Ri(s)&&!Rp(s);){const o=mo(s),l=kP(s);!l&&o.position==="fixed"&&(a=null),(i?!l&&!a:!l&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||o1(s)&&!l&&kK(e,s))?n=n.filter(d=>d!==s):a=o,s=wd(s)}return t.set(e,n),n}function hFe(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[...r==="clippingAncestors"?zk(t)?[]:fFe(t,this._c):[].concat(r),n],o=s[0],l=s.reduce((u,d)=>{const f=aL(t,d,a);return u.top=Df(f.top,u.top),u.right=Bp(f.right,u.right),u.bottom=Bp(f.bottom,u.bottom),u.left=Df(f.left,u.left),u},aL(t,o,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function pFe(e){const{width:t,height:r}=bK(e);return{width:t,height:r}}function mFe(e,t,r){const n=Ll(t),a=Yl(t),i=r==="fixed",s=ah(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const l=Al(0);if(n||!n&&!i)if((Mm(t)!=="body"||o1(a))&&(o=Hk(t)),n){const h=ah(t,!0,i,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else a&&(l.x=TP(a));const u=a&&!n&&!i?_K(a,o):Al(0),d=s.left+o.scrollLeft-l.x-u.x,f=s.top+o.scrollTop-l.y-u.y;return{x:d,y:f,width:s.width,height:s.height}}function X3(e){return mo(e).position==="static"}function iL(e,t){if(!Ll(e)||mo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Yl(e)===r&&(r=r.ownerDocument.body),r}function SK(e,t){const r=Ps(e);if(zk(e))return r;if(!Ll(e)){let a=wd(e);for(;a&&!Rp(a);){if(Ri(a)&&!X3(a))return a;a=wd(a)}return r}let n=iL(e,t);for(;n&&W7e(n)&&X3(n);)n=iL(n,t);return n&&Rp(n)&&X3(n)&&!kP(n)?r:n||z7e(e)||r}const gFe=async function(e){const t=this.getOffsetParent||SK,r=this.getDimensions,n=await r(e.floating);return{reference:mFe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function xFe(e){return mo(e).direction==="rtl"}const vFe={convertOffsetParentRelativeRectToViewportRelativeRect:oFe,getDocumentElement:Yl,getClippingRect:hFe,getOffsetParent:SK,getElementRects:gFe,getClientRects:lFe,getDimensions:pFe,getScale:ap,isElement:Ri,isRTL:xFe};function NK(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function yFe(e,t){let r=null,n;const a=Yl(e);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(o||t(),!h||!p)return;const m=Yb(f),g=Yb(a.clientWidth-(d+h)),v=Yb(a.clientHeight-(f+p)),x=Yb(d),b={rootMargin:-m+"px "+-g+"px "+-v+"px "+-x+"px",threshold:Df(0,Bp(1,l))||1};let N=!0;function _(C){const k=C[0].intersectionRatio;if(k!==l){if(!N)return s();k?s(!1,k):n=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!NK(u,e.getBoundingClientRect())&&s(),N=!1}try{r=new IntersectionObserver(_,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,b)}r.observe(e)}return s(!0),i}function bFe(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=CP(e),d=a||i?[...u?Kv(u):[],...Kv(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=u&&o?yFe(u,r):null;let h=-1,p=null;s&&(p=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!l&&p.observe(u),p.observe(t));let m,g=l?ah(e):null;l&&v();function v(){const x=ah(e);g&&!NK(g,x)&&r(),g=x,m=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const wFe=aFe,_Fe=rFe,sL=tFe,kFe=(e,t,r)=>{const n=new Map,a={platform:vFe,...r},i={...a.platform,_c:n};return Z7e(e,t,{...a,platform:i})};var A2=typeof document<"u"?L.useLayoutEffect:L.useEffect;function d_(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!d_(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!d_(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function jK(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function oL(e,t){const r=jK(e);return Math.round(t*r)/r}function Q3(e){const t=L.useRef(e);return A2(()=>{t.current=e}),t}function SFe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:o=!0,whileElementsMounted:l,open:u}=e,[d,f]=L.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=L.useState(n);d_(h,n)||p(n);const[m,g]=L.useState(null),[v,x]=L.useState(null),y=L.useCallback(G=>{G!==C.current&&(C.current=G,g(G))},[]),b=L.useCallback(G=>{G!==k.current&&(k.current=G,x(G))},[]),N=i||m,_=s||v,C=L.useRef(null),k=L.useRef(null),w=L.useRef(d),S=l!=null,P=Q3(l),A=Q3(a),T=Q3(u),F=L.useCallback(()=>{if(!C.current||!k.current)return;const G={placement:t,strategy:r,middleware:h};A.current&&(G.platform=A.current),kFe(C.current,k.current,G).then(I=>{const X={...I,isPositioned:T.current!==!1};M.current&&!d_(w.current,X)&&(w.current=X,s5.flushSync(()=>{f(X)}))})},[h,t,r,A,T]);A2(()=>{u===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,f(G=>({...G,isPositioned:!1})))},[u]);const M=L.useRef(!1);A2(()=>(M.current=!0,()=>{M.current=!1}),[]),A2(()=>{if(N&&(C.current=N),_&&(k.current=_),N&&_){if(P.current)return P.current(N,_,F);F()}},[N,_,F,P,S]);const H=L.useMemo(()=>({reference:C,floating:k,setReference:y,setFloating:b}),[y,b]),z=L.useMemo(()=>({reference:N,floating:_}),[N,_]),Y=L.useMemo(()=>{const G={position:r,left:0,top:0};if(!z.floating)return G;const I=oL(z.floating,d.x),X=oL(z.floating,d.y);return o?{...G,transform:"translate("+I+"px, "+X+"px)",...jK(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:X}},[r,o,z.floating,d.x,d.y]);return L.useMemo(()=>({...d,update:F,refs:H,elements:z,floatingStyles:Y}),[d,F,H,z,Y])}const NFe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?sL({element:n.current,padding:a}).fn(r):{}:n?sL({element:n,padding:a}).fn(r):{}}}},jFe=(e,t)=>({...wFe(e),options:[e,t]}),CFe=(e,t)=>({..._Fe(e),options:[e,t]}),TFe=(e,t)=>({...NFe(e),options:[e,t]}),CK={...m9},AFe=CK.useInsertionEffect,EFe=AFe||(e=>e());function PFe(e){const t=L.useRef(()=>{});return EFe(()=>{t.current=e}),L.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}var f_=typeof document<"u"?L.useLayoutEffect:L.useEffect;let lL=!1,OFe=0;const cL=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+OFe++;function $Fe(){const[e,t]=L.useState(()=>lL?cL():void 0);return f_(()=>{e==null&&t(cL())},[]),L.useEffect(()=>{lL=!0},[]),e}const DFe=CK.useId,TK=DFe||$Fe,MFe=L.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:i,shift:s}},width:o=14,height:l=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:f,stroke:h,d:p,style:{transform:m,...g}={},...v}=t,x=TK(),[y,b]=L.useState(!1);if(f_(()=>{if(!a)return;mo(a).direction==="rtl"&&b(!0)},[a]),!a)return null;const[N,_]=n.split("-"),C=N==="top"||N==="bottom";let k=f;(C&&s!=null&&s.x||!C&&s!=null&&s.y)&&(k=null);const w=d*2,S=w/2,P=o/2*(u/-8+1),A=l/2*u/4,T=!!p,F=k&&_==="end"?"bottom":"top";let M=k&&_==="end"?"right":"left";k&&y&&(M=_==="end"?"left":"right");const H=(i==null?void 0:i.x)!=null?k||i.x:"",z=(i==null?void 0:i.y)!=null?k||i.y:"",Y=p||"M0,0"+(" H"+o)+(" L"+(o-P)+","+(l-A))+(" Q"+o/2+","+l+" "+P+","+(l-A))+" Z",G={top:T?"rotate(180deg)":"",left:T?"rotate(90deg)":"rotate(-90deg)",bottom:T?"":"rotate(180deg)",right:T?"rotate(-90deg)":"rotate(90deg)"}[N];return c.jsxs("svg",{...v,"aria-hidden":!0,ref:r,width:T?o:o+w,height:o,viewBox:"0 0 "+o+" "+(l>o?l:o),style:{position:"absolute",pointerEvents:"none",[M]:H,[F]:z,[N]:C||T?"100%":"calc(100% - "+w/2+"px)",transform:[G,m].filter(I=>!!I).join(" "),...g},children:[w>0&&c.jsx("path",{clipPath:"url(#"+x+")",fill:"none",stroke:h,strokeWidth:w+(p?0:1),d:Y}),c.jsx("path",{stroke:w&&!p?v.fill:"none",d:Y}),c.jsx("clipPath",{id:x,children:c.jsx("rect",{x:-S,y:S*(T?-1:1),width:o+w,height:o})})]})});function FFe(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(a=>a(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(a=>a!==r))||[])}}}const LFe=L.createContext(null),IFe=L.createContext(null),RFe=()=>{var e;return((e=L.useContext(LFe))==null?void 0:e.id)||null},BFe=()=>L.useContext(IFe);function UFe(e){const{open:t=!1,onOpenChange:r,elements:n}=e,a=TK(),i=L.useRef({}),[s]=L.useState(()=>FFe()),o=RFe()!=null,[l,u]=L.useState(n.reference),d=PFe((p,m,g)=>{i.current.openEvent=p?m:void 0,s.emit("openchange",{open:p,event:m,reason:g,nested:o}),r==null||r(p,m,g)}),f=L.useMemo(()=>({setPositionReference:u}),[]),h=L.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return L.useMemo(()=>({dataRef:i,open:t,onOpenChange:d,elements:h,events:s,floatingId:a,refs:f}),[t,d,h,s,a,f])}function WFe(e){e===void 0&&(e={});const{nodeId:t}=e,r=UFe({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,a=n.elements,[i,s]=L.useState(null),[o,l]=L.useState(null),d=(a==null?void 0:a.domReference)||i,f=L.useRef(null),h=BFe();f_(()=>{d&&(f.current=d)},[d]);const p=SFe({...e,elements:{...a,...o&&{reference:o}}}),m=L.useCallback(b=>{const N=Ri(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;l(N),p.refs.setReference(N)},[p.refs]),g=L.useCallback(b=>{(Ri(b)||b===null)&&(f.current=b,s(b)),(Ri(p.refs.reference.current)||p.refs.reference.current===null||b!==null&&!Ri(b))&&p.refs.setReference(b)},[p.refs]),v=L.useMemo(()=>({...p.refs,setReference:g,setPositionReference:m,domReference:f}),[p.refs,g,m]),x=L.useMemo(()=>({...p.elements,domReference:d}),[p.elements,d]),y=L.useMemo(()=>({...p,...n,refs:v,elements:x,nodeId:t}),[p,v,x,t,n]);return f_(()=>{n.dataRef.current.floatingContext=y;const b=h==null?void 0:h.nodesRef.current.find(N=>N.id===t);b&&(b.context=y)}),L.useMemo(()=>({...p,context:y,refs:v,elements:x}),[p,v,x,y])}/*!
  react-datepicker v8.2.1
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var qC=function(t,r){return qC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},qC(t,r)};function Ua(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");qC(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ar=function(){return Ar=Object.assign||function(r){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Ar.apply(this,arguments)};function kl(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var zFe=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,a=n===void 0?!1:n,i=e.className,s=e.children,o=r?"Choose Time":"Choose Date".concat(a?" and Time":"");return we.createElement("div",{className:i,role:"dialog","aria-label":o,"aria-modal":"true"},s)},HFe=function(e,t){var r=L.useRef(null),n=L.useRef(e);n.current=e;var a=L.useCallback(function(i){var s,o=i.composed&&i.composedPath&&i.composedPath().find(function(l){return l instanceof Node})||i.target;r.current&&!r.current.contains(o)&&(t&&o instanceof HTMLElement&&o.classList.contains(t)||(s=n.current)===null||s===void 0||s.call(n,i))},[t]);return L.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),r},Yk=function(e){var t=e.children,r=e.onClickOutside,n=e.className,a=e.containerRef,i=e.style,s=e.ignoreClass,o=HFe(r,s);return we.createElement("div",{className:n,style:i,ref:function(l){o.current=l,a&&(a.current=l)}},t)},vt;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(vt||(vt={}));function AK(){var e=typeof window<"u"?window:globalThis;return e}var c1=12;function zr(e){if(e==null)return new Date;var t=typeof e=="string"?j7e(e):Ot(e);return Vk(t)?t:new Date}function J3(e,t,r,n,a){a===void 0&&(a=zr());for(var i=Wp(r)||Wp(AP()),s=Array.isArray(t)?t:[t],o=0,l=s;o<l.length;o++){var u=l[o],d=b7e(e,u,a,{locale:i});if(Vk(d)&&(!n||e===Nn(d,u,r)))return d}return null}function Vk(e,t){return n_(e)&&!nh(e,new Date("1/1/1800"))}function Nn(e,t,r){if(r==="en")return ZF(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Wp(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||Wp(AP()),ZF(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Xs(e,t){var r=t.dateFormat,n=t.locale,a=Array.isArray(r)&&r.length>0?r[0]:r;return e&&Nn(e,a,n)||""}function qFe(e,t,r){if(!e)return"";var n=Xs(e,r),a=t?Xs(t,r):"";return"".concat(n," - ").concat(a)}function YFe(e,t){if(!(e!=null&&e.length))return"";var r=e[0]?Xs(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=Xs(e[1],t);return"".concat(r,", ").concat(n)}var a=e.length-1;return"".concat(r," (+").concat(a,")")}function Z3(e,t){var r=t.hour,n=r===void 0?0:r,a=t.minute,i=a===void 0?0:a,s=t.second,o=s===void 0?0:s;return j2(C2(T2(e,o),i),n)}function VFe(e){return yP(e)}function GFe(e,t){return Nn(e,"ddd",t)}function E2(e){return rh(e)}function td(e,t,r){var n=Wp(t||AP());return Hc(e,{locale:n,weekStartsOn:r})}function Cc(e){return sK(e)}function gx(e){return Uk(e)}function uL(e){return BC(e)}function dL(){return rh(zr())}function fL(e){return aK(e)}function KFe(e){return jDe(e)}function XFe(e){return iK(e)}function xl(e,t){return e&&t?S7e(e,t):!e&&!t}function $i(e,t){return e&&t?_7e(e,t):!e&&!t}function h_(e,t){return e&&t?k7e(e,t):!e&&!t}function Tr(e,t){return e&&t?SDe(e,t):!e&&!t}function bf(e,t){return e&&t?NMe(e,t):!e&&!t}function xx(e,t,r){var n,a=rh(t),i=aK(r);try{n=Gv(e,{start:a,end:i})}catch{n=!1}return n}function AP(){var e=AK();return e.__localeId__}function Wp(e){if(typeof e=="string"){var t=AK();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function QFe(e,t,r){return t(Nn(e,"EEEE",r))}function JFe(e,t){return Nn(e,"EEEEEE",t)}function ZFe(e,t){return Nn(e,"EEE",t)}function EP(e,t){return Nn(Js(zr(),e),"LLLL",t)}function EK(e,t){return Nn(Js(zr(),e),"LLL",t)}function eLe(e,t){return Nn(_0(zr(),e),"QQQ",t)}function ro(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.excludeDateIntervals,o=r.includeDates,l=r.includeDateIntervals,u=r.filterDate;return u1(e,{minDate:n,maxDate:a})||i&&i.some(function(d){return d instanceof Date?Tr(e,d):Tr(e,d.date)})||s&&s.some(function(d){var f=d.start,h=d.end;return Gv(e,{start:f,end:h})})||o&&!o.some(function(d){return Tr(e,d)})||l&&!l.some(function(d){var f=d.start,h=d.end;return Gv(e,{start:f,end:h})})||u&&!u(zr(e))||!1}function PP(e,t){var r=t===void 0?{}:t,n=r.excludeDates,a=r.excludeDateIntervals;return a&&a.length>0?a.some(function(i){var s=i.start,o=i.end;return Gv(e,{start:s,end:o})}):n&&n.some(function(i){var s;return i instanceof Date?Tr(e,i):Tr(e,(s=i.date)!==null&&s!==void 0?s:new Date)})||!1}function PK(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.includeDates,o=r.filterDate;return u1(e,{minDate:n?sK(n):void 0,maxDate:a?iK(a):void 0})||(i==null?void 0:i.some(function(l){return $i(e,l instanceof Date?l:l.date)}))||s&&!s.some(function(l){return $i(e,l)})||o&&!o(zr(e))||!1}function Vb(e,t,r,n){var a=pr(e),i=Ii(e),s=pr(t),o=Ii(t),l=pr(n);return a===s&&a===l?i<=r&&r<=o:a<s?l===a&&i<=r||l===s&&o>=r||l<s&&l>a:!1}function tLe(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.includeDates;return u1(e,{minDate:n,maxDate:a})||i&&i.some(function(o){return $i(o instanceof Date?o:o.date,e)})||s&&!s.some(function(o){return $i(o,e)})||!1}function Gb(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.includeDates,o=r.filterDate;return u1(e,{minDate:n,maxDate:a})||(i==null?void 0:i.some(function(l){return h_(e,l instanceof Date?l:l.date)}))||s&&!s.some(function(l){return h_(e,l)})||o&&!o(zr(e))||!1}function Kb(e,t,r){if(!t||!r||!n_(t)||!n_(r))return!1;var n=pr(t),a=pr(r);return n<=e&&a>=e}function P2(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.includeDates,o=r.filterDate,l=new Date(e,0,1);return u1(l,{minDate:n?Uk(n):void 0,maxDate:a?oK(a):void 0})||(i==null?void 0:i.some(function(u){return xl(l,u instanceof Date?u:u.date)}))||s&&!s.some(function(u){return xl(l,u)})||o&&!o(zr(l))||!1}function Xb(e,t,r,n){var a=pr(e),i=Of(e),s=pr(t),o=Of(t),l=pr(n);return a===s&&a===l?i<=r&&r<=o:a<s?l===a&&i<=r||l===s&&o>=r||l<s&&l>a:!1}function u1(e,t){var r,n=t===void 0?{}:t,a=n.minDate,i=n.maxDate;return(r=a&&Lp(e,a)<0||i&&Lp(e,i)>0)!==null&&r!==void 0?r:!1}function hL(e,t){return t.some(function(r){return Nc(r)===Nc(e)&&jc(r)===jc(e)&&ed(r)===ed(e)})}function pL(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,a=r.includeTimes,i=r.filterTime;return n&&hL(e,n)||a&&!hL(e,a)||i&&!i(e)||!1}function mL(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var a=zr();a=j2(a,Nc(e)),a=C2(a,jc(e)),a=T2(a,ed(e));var i=zr();i=j2(i,Nc(r)),i=C2(i,jc(r)),i=T2(i,ed(r));var s=zr();s=j2(s,Nc(n)),s=C2(s,jc(n)),s=T2(s,ed(n));var o;try{o=!Gv(a,{start:i,end:s})}catch{o=!1}return o}function gL(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,i=$f(e,1);return n&&a_(n,i)>0||a&&a.every(function(s){return a_(s,i)>0})||!1}function xL(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,i=Zo(e,1);return n&&a_(i,n)>0||a&&a.every(function(s){return a_(i,s)>0})||!1}function rLe(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,i=Uk(e),s=gK(i);return n&&i_(n,s)>0||a&&a.every(function(o){return i_(o,s)>0})||!1}function nLe(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,i=oK(e),s=vP(i,1);return n&&i_(s,n)>0||a&&a.every(function(o){return i_(s,o)>0})||!1}function vL(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,i=Ip(e,1);return n&&s_(n,i)>0||a&&a.every(function(s){return s_(s,i)>0})||!1}function aLe(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.yearItemNumber,i=a===void 0?c1:a,s=gx(Ip(e,i)),o=Ru(s,i).endPeriod,l=n&&pr(n);return l&&l>o||!1}function yL(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,i=kc(e,1);return n&&s_(i,n)>0||a&&a.every(function(s){return s_(i,s)>0})||!1}function iLe(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.yearItemNumber,i=a===void 0?c1:a,s=kc(e,i),o=Ru(s,i).startPeriod,l=n&&pr(n);return l&&l<o||!1}function OK(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return Lp(a,t)>=0});return VF(n)}else return r?VF(r):t}function $K(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return Lp(a,t)<=0});return YF(n)}else return r?YF(r):t}function bL(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,a=0,i=e.length;a<i;a++){var s=e[a];if(Sc(s)){var o=Nn(s,"MM.dd.yyyy"),l=n.get(o)||[];l.includes(t)||(l.push(t),n.set(o,l))}else if(typeof s=="object"){var u=Object.keys(s),d=(r=u[0])!==null&&r!==void 0?r:"",f=s[d];if(typeof d=="string"&&Array.isArray(f))for(var h=0,p=f.length;h<p;h++){var m=f[h];if(m){var o=Nn(m,"MM.dd.yyyy"),l=n.get(o)||[];l.includes(d)||(l.push(d),n.set(o,l))}}}}return n}function sLe(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function oLe(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var a=n.date,i=n.holidayName;if(Sc(a)){var s=Nn(a,"MM.dd.yyyy"),o=r.get(s)||{className:"",holidayNames:[]};if(!("className"in o&&o.className===t&&sLe(o.holidayNames,[i]))){o.className=t;var l=o.holidayNames;o.holidayNames=l?kl(kl([],l,!0),[i],!1):[i],r.set(s,o)}}}),r}function lLe(e,t,r,n,a){for(var i=a.length,s=[],o=0;o<i;o++){var l=e,u=a[o];u&&(l=bDe(l,Nc(u)),l=RC(l,jc(u)),l=kDe(l,ed(u)));var d=RC(e,(r+1)*n);bd(l,t)&&nh(l,d)&&u!=null&&s.push(u)}return s}function wL(e){return e<10?"0".concat(e):"".concat(e)}function Ru(e,t){t===void 0&&(t=c1);var r=Math.ceil(pr(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function cLe(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function _L(e){var t=e.getSeconds(),r=e.getMilliseconds();return Ot(e.getTime()-t*1e3-r)}function uLe(e,t){return _L(e).getTime()===_L(t).getTime()}function kL(e){if(!Sc(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function SL(e,t){if(!Sc(e)||!Sc(t))throw new Error("Invalid date received");var r=kL(e),n=kL(t);return nh(r,n)}function DK(e){return e.key===vt.Space}var dLe=function(e){Ua(t,e);function t(r){var n=e.call(this,r)||this;return n.inputRef=we.createRef(),n.onTimeChange=function(a){var i,s;n.setState({time:a});var o=n.props.date,l=o instanceof Date&&!isNaN(+o),u=l?o:new Date;if(a!=null&&a.includes(":")){var d=a.split(":"),f=d[0],h=d[1];u.setHours(Number(f)),u.setMinutes(Number(h))}(s=(i=n.props).onChange)===null||s===void 0||s.call(i,u)},n.renderTimeInput=function(){var a=n.state.time,i=n.props,s=i.date,o=i.timeString,l=i.customTimeInput;return l?L.cloneElement(l,{date:s,value:a,onChange:n.onTimeChange}):we.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var u;(u=n.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:a,onChange:function(u){n.onTimeChange(u.target.value||o)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return we.createElement("div",{className:"react-datepicker__input-time-container"},we.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),we.createElement("div",{className:"react-datepicker-time__input-container"},we.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(L.Component),fLe=function(e){Ua(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=L.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var a,i,s=n.key;s===vt.Space&&(n.preventDefault(),n.key=vt.Enter),(i=(a=r.props).handleOnKeyDown)===null||i===void 0||i.call(a,n)},r.isSameDay=function(n){return Tr(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var a=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return r.isSameDayOrWeek(s)}):r.isSameDayOrWeek(r.props.selected),i=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!a&&r.isSameDayOrWeek(r.props.preSelection)&&!i},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),ro(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return PP(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Tr(r.props.day,td(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&Tr(n,td(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,a=n.day,i=n.highlightDates;if(!i)return!1;var s=Nn(a,"MM.dd.yyyy");return i.get(s)},r.getHolidaysClass=function(){var n,a=r.props,i=a.day,s=a.holidays;if(!s)return[void 0];var o=Nn(i,"MM.dd.yyyy");return s.has(o)?[(n=s.get(o))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,a=n.day,i=n.startDate,s=n.endDate;return!i||!s?!1:xx(a,i,s)},r.isInSelectingRange=function(){var n,a=r.props,i=a.day,s=a.selectsStart,o=a.selectsEnd,l=a.selectsRange,u=a.selectsDisabledDaysInRange,d=a.startDate,f=a.endDate,h=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return!(s||o||l)||!h||!u&&r.isDisabled()?!1:s&&f&&(nh(h,f)||bf(h,f))?xx(i,h,f):o&&d&&(bd(h,d)||bf(h,d))||l&&d&&!f&&(bd(h,d)||bf(h,d))?xx(i,d,h):!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,i=a.day,s=a.startDate,o=a.selectsStart,l=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return o?Tr(i,l):Tr(i,s)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,i=a.day,s=a.endDate,o=a.selectsEnd,l=a.selectsRange,u=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return o||l?Tr(i,u):Tr(i,s)},r.isRangeStart=function(){var n=r.props,a=n.day,i=n.startDate,s=n.endDate;return!i||!s?!1:Tr(i,a)},r.isRangeEnd=function(){var n=r.props,a=n.day,i=n.startDate,s=n.endDate;return!i||!s?!1:Tr(s,a)},r.isWeekend=function(){var n=wMe(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===Ii(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(Ii(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(zr())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return r.isSameDayOrWeek(a)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var a=r.props.dayClassName?r.props.dayClassName(n):void 0;return Ht("react-datepicker__day",a,"react-datepicker__day--"+GFe(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,a=n.day,i=n.ariaLabelPrefixWhenEnabled,s=i===void 0?"Choose":i,o=n.ariaLabelPrefixWhenDisabled,l=o===void 0?"Not available":o,u=r.isDisabled()||r.isExcluded()?l:s;return"".concat(u," ").concat(Nn(a,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,a=n.day,i=n.holidays,s=i===void 0?new Map:i,o=n.excludeDates,l=Nn(a,"MM.dd.yyyy"),u=[];return s.has(l)&&u.push.apply(u,s.get(l).holidayNames),r.isExcluded()&&u.push(o==null?void 0:o.filter(function(d){return d instanceof Date?Tr(d,a):Tr(d==null?void 0:d.date,a)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),u.join(", ")},r.getTabIndex=function(){var n=r.props.selected,a=r.props.preSelection,i=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&Tr(a,n))?0:-1;return i},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(eL(r.props.day),r.props.day):eL(r.props.day)},r.render=function(){return we.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&we.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,a;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(L.Component),hLe=function(e){Ua(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=L.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var a,i,s=n.key;s===vt.Space&&(n.preventDefault(),n.key=vt.Enter),(i=(a=r.props).handleOnKeyDown)===null||i===void 0||i.call(a,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Tr(r.props.date,r.props.selected)&&Tr(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Tr(r.props.date,r.props.selected)&&Tr(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var a=!1;r.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Tr(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(a=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,a=r.isWeekDisabled,i=r.ariaLabelPrefix,s=i===void 0?t.defaultProps.ariaLabelPrefix:i,o=r.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o&&!a,"react-datepicker__week-number--selected":!!o&&Tr(this.props.date,this.props.selected)};return we.createElement("div",{ref:this.weekNumberEl,className:Ht(l),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},t}(L.Component),pLe=function(e){Ua(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return ro(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,a){r.props.onDayClick&&r.props.onDayClick(n,a)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,a,i){for(var s,o,l,u=new Date(n),d=0;d<7;d++){var f=new Date(n);f.setDate(f.getDate()+d);var h=!r.isDisabled(f);if(h){u=f;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(u,a,i),r.props.showWeekPicker&&r.handleDayClick(u,i),((s=r.props.shouldCloseOnSelect)!==null&&s!==void 0?s:t.defaultProps.shouldCloseOnSelect)&&((l=(o=r.props).setOpen)===null||l===void 0||l.call(o,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):VFe(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),a=Go(n,6),i=new Date(n);i<=a;){if(!r.isDisabled(i))return!1;i=Go(i,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),a=[],i=r.formatWeekNumber(n);if(r.props.showWeekNumber){var s=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,i):void 0;a.push(we.createElement(hLe,Ar({key:"W"},t.defaultProps,r.props,{weekNumber:i,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:s})))}return a.concat([0,1,2,3,4,5,6].map(function(o){var l=Go(n,o);return we.createElement(fLe,Ar({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:r.handleDayClick.bind(r,l),onMouseEnter:r.handleDayMouseEnter.bind(r,l)}))}))},r.startOfWeek=function(){return td(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Tr(r.startOfWeek(),r.props.selected)&&Tr(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Tr(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return we.createElement("div",{className:Ht(r)},this.renderDays())},t}(L.Component),Zg,mLe=6,ip={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},eN=(Zg={},Zg[ip.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Zg[ip.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Zg[ip.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Zg),Qb=1;function NL(e,t){return e?ip.FOUR_COLUMNS:t?ip.TWO_COLUMNS:ip.THREE_COLUMNS}var gLe=function(e){Ua(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=kl([],Array(12),!0).map(function(){return L.createRef()}),r.QUARTER_REFS=kl([],Array(4),!0).map(function(){return L.createRef()}),r.isDisabled=function(n){return ro(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(n){return PP(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,a){var i,s;(s=(i=r.props).onDayClick)===null||s===void 0||s.call(i,n,a,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var a,i;(i=(a=r.props).onDayMouseEnter)===null||i===void 0||i.call(a,n)},r.handleMouseLeave=function(){var n,a;(a=(n=r.props).onMouseLeave)===null||a===void 0||a.call(n)},r.isRangeStartMonth=function(n){var a=r.props,i=a.day,s=a.startDate,o=a.endDate;return!s||!o?!1:$i(Js(i,n),s)},r.isRangeStartQuarter=function(n){var a=r.props,i=a.day,s=a.startDate,o=a.endDate;return!s||!o?!1:h_(_0(i,n),s)},r.isRangeEndMonth=function(n){var a=r.props,i=a.day,s=a.startDate,o=a.endDate;return!s||!o?!1:$i(Js(i,n),o)},r.isRangeEndQuarter=function(n){var a=r.props,i=a.day,s=a.startDate,o=a.endDate;return!s||!o?!1:h_(_0(i,n),o)},r.isInSelectingRangeMonth=function(n){var a,i=r.props,s=i.day,o=i.selectsStart,l=i.selectsEnd,u=i.selectsRange,d=i.startDate,f=i.endDate,h=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(o||l||u)||!h?!1:o&&f?Vb(h,f,n,s):l&&d||u&&d&&!f?Vb(d,h,n,s):!1},r.isSelectingMonthRangeStart=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,s=i.day,o=i.startDate,l=i.selectsStart,u=Js(s,n),d=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return l?$i(u,d):$i(u,o)},r.isSelectingMonthRangeEnd=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,s=i.day,o=i.endDate,l=i.selectsEnd,u=i.selectsRange,d=Js(s,n),f=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return l||u?$i(d,f):$i(d,o)},r.isInSelectingRangeQuarter=function(n){var a,i=r.props,s=i.day,o=i.selectsStart,l=i.selectsEnd,u=i.selectsRange,d=i.startDate,f=i.endDate,h=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(o||l||u)||!h?!1:o&&f?Xb(h,f,n,s):l&&d||u&&d&&!f?Xb(d,h,n,s):!1},r.isWeekInMonth=function(n){var a=r.props.day,i=Go(n,6);return $i(n,a)||$i(i,a)},r.isCurrentMonth=function(n,a){return pr(n)===pr(zr())&&a===Ii(zr())},r.isCurrentQuarter=function(n,a){return pr(n)===pr(zr())&&a===Of(zr())},r.isSelectedMonth=function(n,a,i){return Ii(i)===a&&pr(n)===pr(i)},r.isSelectMonthInList=function(n,a,i){return i.some(function(s){return r.isSelectedMonth(n,a,s)})},r.isSelectedQuarter=function(n,a,i){return Of(n)===a&&pr(n)===pr(i)},r.renderWeeks=function(){for(var n=[],a=r.props.fixedHeight,i=0,s=!1,o=td(Cc(r.props.day),r.props.locale,r.props.calendarStartDay),l=function(m){return r.props.showWeekPicker?td(m,r.props.locale,r.props.calendarStartDay):r.props.preSelection},u=function(m){return r.props.showWeekPicker?td(m,r.props.locale,r.props.calendarStartDay):r.props.selected},d=r.props.selected?u(r.props.selected):void 0,f=r.props.preSelection?l(r.props.preSelection):void 0;n.push(we.createElement(pLe,Ar({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:i,day:o,month:Ii(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:d,preSelection:f,showWeekNumber:r.props.showWeekNumbers}))),!s;){i++,o=r_(o,1);var h=a&&i>=mLe,p=!a&&!r.isWeekInMonth(o);if(h||p)if(r.props.peekNextMonth)s=!0;else break}return n},r.onMonthClick=function(n,a){var i=r.isMonthDisabledForLabelDate(a),s=i.isDisabled,o=i.labelDate;s||r.handleDayClick(Cc(o),n)},r.onMonthMouseEnter=function(n){var a=r.isMonthDisabledForLabelDate(n),i=a.isDisabled,s=a.labelDate;i||r.handleDayMouseEnter(Cc(s))},r.handleMonthNavigation=function(n,a){var i,s,o,l;(s=(i=r.props).setPreSelection)===null||s===void 0||s.call(i,a),(l=(o=r.MONTH_REFS[n])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()},r.handleKeyboardNavigation=function(n,a,i){var s,o=r.props,l=o.selected,u=o.preSelection,d=o.setPreSelection,f=o.minDate,h=o.maxDate,p=o.showFourColumnMonthYearPicker,m=o.showTwoColumnMonthYearPicker;if(u){var g=NL(p,m),v=r.getVerticalOffset(g),x=(s=eN[g])===null||s===void 0?void 0:s.grid,y=function(k,w,S){var P,A,T=w,F=S;switch(k){case vt.ArrowRight:T=Zo(w,Qb),F=S===11?0:S+Qb;break;case vt.ArrowLeft:T=$f(w,Qb),F=S===0?11:S-Qb;break;case vt.ArrowUp:T=$f(w,v),F=!((P=x==null?void 0:x[0])===null||P===void 0)&&P.includes(S)?S+12-v:S-v;break;case vt.ArrowDown:T=Zo(w,v),F=!((A=x==null?void 0:x[x.length-1])===null||A===void 0)&&A.includes(S)?S-12+v:S+v;break}return{newCalculatedDate:T,newCalculatedMonth:F}},b=function(k,w,S){for(var P=40,A=k,T=!1,F=0,M=y(A,w,S),H=M.newCalculatedDate,z=M.newCalculatedMonth;!T;){if(F>=P){H=w,z=S;break}if(f&&H<f){A=vt.ArrowRight;var Y=y(A,H,z);H=Y.newCalculatedDate,z=Y.newCalculatedMonth}if(h&&H>h){A=vt.ArrowLeft;var Y=y(A,H,z);H=Y.newCalculatedDate,z=Y.newCalculatedMonth}if(tLe(H,r.props)){var Y=y(A,H,z);H=Y.newCalculatedDate,z=Y.newCalculatedMonth}else T=!0;F++}return{newCalculatedDate:H,newCalculatedMonth:z}};if(a===vt.Enter){r.isMonthDisabled(i)||(r.onMonthClick(n,i),d==null||d(l));return}var N=b(a,u,i),_=N.newCalculatedDate,C=N.newCalculatedMonth;switch(a){case vt.ArrowRight:case vt.ArrowLeft:case vt.ArrowUp:case vt.ArrowDown:r.handleMonthNavigation(C,_);break}}},r.getVerticalOffset=function(n){var a,i;return(i=(a=eN[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&i!==void 0?i:0},r.onMonthKeyDown=function(n,a){var i=r.props,s=i.disabledKeyboardNavigation,o=i.handleOnMonthKeyDown,l=n.key;l!==vt.Tab&&n.preventDefault(),s||r.handleKeyboardNavigation(n,l,a),o&&o(n)},r.onQuarterClick=function(n,a){var i=_0(r.props.day,a);Gb(i,r.props)||r.handleDayClick(uL(i),n)},r.onQuarterMouseEnter=function(n){var a=_0(r.props.day,n);Gb(a,r.props)||r.handleDayMouseEnter(uL(a))},r.handleQuarterNavigation=function(n,a){var i,s,o,l;r.isDisabled(a)||r.isExcluded(a)||((s=(i=r.props).setPreSelection)===null||s===void 0||s.call(i,a),(l=(o=r.QUARTER_REFS[n-1])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus())},r.onQuarterKeyDown=function(n,a){var i,s,o=n.key;if(!r.props.disabledKeyboardNavigation)switch(o){case vt.Enter:r.onQuarterClick(n,a),(s=(i=r.props).setPreSelection)===null||s===void 0||s.call(i,r.props.selected);break;case vt.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===4?1:a+1,vP(r.props.preSelection,1));break;case vt.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===1?4:a-1,gK(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var a,i=r.props,s=i.day,o=i.minDate,l=i.maxDate,u=i.excludeDates,d=i.includeDates,f=Js(s,n);return{isDisabled:(a=(o||l||u||d)&&PK(f,r.props))!==null&&a!==void 0?a:!1,labelDate:f}},r.isMonthDisabled=function(n){var a=r.isMonthDisabledForLabelDate(n).isDisabled;return a},r.getMonthClassNames=function(n){var a=r.props,i=a.day,s=a.startDate,o=a.endDate,l=a.preSelection,u=a.monthClassName,d=u?u(Js(i,n)):void 0,f=r.getSelection();return Ht("react-datepicker__month-text","react-datepicker__month-".concat(n),d,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":f?r.isSelectMonthInList(i,n,f):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&l&&r.isSelectedMonth(i,n,l)&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":s&&o?Vb(s,o,n,i):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(i,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=Ii(r.props.preSelection),i=r.isMonthDisabledForLabelDate(a).isDisabled,s=n===a&&!(i||r.props.disabledKeyboardNavigation)?"0":"-1";return s},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=Of(r.props.preSelection),i=Gb(r.props.day,r.props),s=n===a&&!(i||r.props.disabledKeyboardNavigation)?"0":"-1";return s},r.getAriaLabel=function(n){var a=r.props,i=a.chooseDayAriaLabelPrefix,s=i===void 0?"Choose":i,o=a.disabledDayAriaLabelPrefix,l=o===void 0?"Not available":o,u=a.day,d=a.locale,f=Js(u,n),h=r.isDisabled(f)||r.isExcluded(f)?l:s;return"".concat(h," ").concat(Nn(f,"MMMM yyyy",d))},r.getQuarterClassNames=function(n){var a=r.props,i=a.day,s=a.startDate,o=a.endDate,l=a.selected,u=a.minDate,d=a.maxDate,f=a.excludeDates,h=a.includeDates,p=a.filterDate,m=a.preSelection,g=a.disabledKeyboardNavigation,v=(u||d||f||h||p)&&Gb(_0(i,n),r.props);return Ht("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":v,"react-datepicker__quarter-text--selected":l?r.isSelectedQuarter(i,n,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!g&&m&&r.isSelectedQuarter(i,n,m)&&!v,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":s&&o?Xb(s,o,n,i):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(i,n)})},r.getMonthContent=function(n){var a=r.props,i=a.showFullMonthYearPicker,s=a.renderMonthContent,o=a.locale,l=a.day,u=EK(n,o),d=EP(n,o);return s?s(n,u,d,l):i?d:u},r.getQuarterContent=function(n){var a,i=r.props,s=i.renderQuarterContent,o=i.locale,l=eLe(n,o);return(a=s==null?void 0:s(n,l))!==null&&a!==void 0?a:l},r.renderMonths=function(){var n,a=r.props,i=a.showTwoColumnMonthYearPicker,s=a.showFourColumnMonthYearPicker,o=a.day,l=a.selected,u=(n=eN[NL(s,i)])===null||n===void 0?void 0:n.grid;return u==null?void 0:u.map(function(d,f){return we.createElement("div",{className:"react-datepicker__month-wrapper",key:f},d.map(function(h,p){return we.createElement("div",{ref:r.MONTH_REFS[h],key:p,onClick:function(m){r.onMonthClick(m,h)},onKeyDown:function(m){DK(m)&&(m.preventDefault(),m.key=vt.Enter),r.onMonthKeyDown(m,h)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(h)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(h)}:void 0,tabIndex:Number(r.getTabIndex(h)),className:r.getMonthClassNames(h),"aria-disabled":r.isMonthDisabled(h),role:"option","aria-label":r.getAriaLabel(h),"aria-current":r.isCurrentMonth(o,h)?"date":void 0,"aria-selected":l?r.isSelectedMonth(o,h,l):void 0},r.getMonthContent(h))}))})},r.renderQuarters=function(){var n=r.props,a=n.day,i=n.selected,s=[1,2,3,4];return we.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(o,l){return we.createElement("div",{key:l,ref:r.QUARTER_REFS[l],role:"option",onClick:function(u){r.onQuarterClick(u,o)},onKeyDown:function(u){r.onQuarterKeyDown(u,o)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(o)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(o)}:void 0,className:r.getQuarterClassNames(o),"aria-selected":i?r.isSelectedQuarter(a,o,i):void 0,tabIndex:Number(r.getQuarterTabIndex(o)),"aria-current":r.isCurrentQuarter(a,o)?"date":void 0},r.getQuarterContent(o))}))},r.getClassNames=function(){var n=r.props,a=n.selectingDate,i=n.selectsStart,s=n.selectsEnd,o=n.showMonthYearPicker,l=n.showQuarterYearPicker,u=n.showWeekPicker;return Ht("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(i||s)},{"react-datepicker__monthPicker":o},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":u})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,a=r.selectedDates,i=r.selectsMultiple;if(i)return a;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,a=r.showQuarterYearPicker,i=r.day,s=r.ariaLabelPrefix,o=s===void 0?"Month ":s,l=o?o.trim()+" ":"";return we.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Nn(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},t}(L.Component),xLe=function(e){Ua(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isSelectedMonth=function(n){return r.props.month===n},r.renderOptions=function(){return r.props.monthNames.map(function(n,a){return we.createElement("div",{className:r.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,a),"aria-selected":r.isSelectedMonth(a)?"true":void 0},r.isSelectedMonth(a)?we.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return we.createElement(Yk,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(L.Component),vLe=function(e){Ua(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(a,i){return we.createElement("option",{key:a,value:i},a)})},r.renderSelectMode=function(n){return we.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(a){return r.onChange(parseInt(a.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,a){return we.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},we.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),we.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[r.props.month]))},r.renderDropdown=function(n){return we.createElement(xLe,Ar({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var a=r.state.dropdownVisible,i=[r.renderReadView(!a,n)];return a&&i.unshift(r.renderDropdown(n)),i},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return EK(i,r.props.locale)}:function(i){return EP(i,r.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return we.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t}(L.Component);function yLe(e,t){for(var r=[],n=Cc(e),a=Cc(t);!bd(n,a);)r.push(zr(n)),n=Zo(n,1);return r}var bLe=function(e){Ua(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var i=WC(a),s=xl(n.props.date,a)&&$i(n.props.date,a);return we.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:n.onChange.bind(n,i),"aria-selected":s?"true":void 0},s?we.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Nn(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:yLe(n.props.minDate,n.props.maxDate)},n}return t.prototype.render=function(){var r=Ht({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return we.createElement(Yk,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(L.Component),wLe=function(e){Ua(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=Cc(r.props.minDate),a=Cc(r.props.maxDate),i=[];!bd(n,a);){var s=WC(n);i.push(we.createElement("option",{key:s,value:s},Nn(n,r.props.dateFormat,r.props.locale))),n=Zo(n,1)}return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return we.createElement("select",{value:WC(Cc(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var a=Nn(r.props.date,r.props.dateFormat,r.props.locale);return we.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},we.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),we.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},r.renderDropdown=function(){return we.createElement(bLe,Ar({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown();var a=zr(n);xl(r.props.date,a)&&$i(r.props.date,a)||r.props.onChange(a)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return we.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(L.Component),_Le=function(e){Ua(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,i;r.list&&(r.list.scrollTop=(i=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((a=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):r.list.clientHeight,r.centerLi))!==null&&i!==void 0?i:0)})},r.handleClick=function(n){var a,i;(r.props.minTime||r.props.maxTime)&&mL(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&pL(n,r.props)||(i=(a=r.props).onChange)===null||i===void 0||i.call(a,n)},r.isSelectedTime=function(n){return r.props.selected&&uLe(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&mL(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&pL(n,r.props)},r.liClasses=function(n){var a,i=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&i.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&i.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(Nc(n)*3600+jc(n)*60+ed(n))%(((a=r.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},r.handleOnKeyDown=function(n,a){var i,s;n.key===vt.Space&&(n.preventDefault(),n.key=vt.Enter),(n.key===vt.ArrowUp||n.key===vt.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===vt.ArrowDown||n.key===vt.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===vt.Enter&&r.handleClick(a),(s=(i=r.props).handleOnKeyDown)===null||s===void 0||s.call(i,n)},r.renderTimes=function(){for(var n,a=[],i=typeof r.props.format=="string"?r.props.format:"p",s=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,o=r.props.selected||r.props.openToDate||zr(),l=E2(o),u=r.props.injectTimes&&r.props.injectTimes.sort(function(v,x){return v.getTime()-x.getTime()}),d=60*cLe(o),f=d/s,h=0;h<f;h++){var p=RC(l,h*s);if(a.push(p),u){var m=lLe(l,p,h,s,u);a=a.concat(m)}}var g=a.reduce(function(v,x){return x.getTime()<=o.getTime()?x:v},a[0]);return a.map(function(v){return we.createElement("li",{key:v.valueOf(),onClick:r.handleClick.bind(r,v),className:r.liClasses(v),ref:function(x){v===g&&(r.centerLi=x)},onKeyDown:function(x){r.handleOnKeyDown(x,v)},tabIndex:v===g?0:-1,role:"option","aria-selected":r.isSelectedTime(v)?"true":void 0,"aria-disabled":r.isDisabledTime(v)?"true":void 0},Nn(v,i,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?we.createElement(we.Fragment,null):we.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},we.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var r=this,n,a=this.state.height;return we.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),we.createElement("div",{className:"react-datepicker__time"},we.createElement("div",{className:"react-datepicker__time-box"},we.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){r.list=i},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t}(L.Component),jL=3,kLe=function(e){Ua(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=kl([],Array(n.props.yearItemNumber),!0).map(function(){return L.createRef()}),n.isDisabled=function(a){return ro(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return PP(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var i=function(){var s,o;(o=(s=n.YEAR_REFS[a])===null||s===void 0?void 0:s.current)===null||o===void 0||o.focus()};window.requestAnimationFrame(i)},n.handleYearClick=function(a,i){n.props.onDayClick&&n.props.onDayClick(a,i)},n.handleYearNavigation=function(a,i){var s,o,l,u,d=n.props,f=d.date,h=d.yearItemNumber;if(!(f===void 0||h===void 0)){var p=Ru(f,h).startPeriod;n.isDisabled(i)||n.isExcluded(i)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),a-p<0?n.updateFocusOnPaginate(h-(p-a)):a-p>=h?n.updateFocusOnPaginate(Math.abs(h-(a-p))):(u=(l=n.YEAR_REFS[a-p])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus())}},n.isSameDay=function(a,i){return Tr(a,i)},n.isCurrentYear=function(a){return a===pr(zr())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&xl(gl(zr(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&xl(gl(zr(),a),n.props.endDate)},n.isInRange=function(a){return Kb(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var i=n.props,s=i.selectsStart,o=i.selectsEnd,l=i.selectsRange,u=i.startDate,d=i.endDate;return!(s||o||l)||!n.selectingDate()?!1:s&&d?Kb(a,n.selectingDate(),d):o&&u||l&&u&&!d?Kb(a,u,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var i;if(!n.isInSelectingRange(a))return!1;var s=n.props,o=s.startDate,l=s.selectsStart,u=gl(zr(),a);return l?xl(u,(i=n.selectingDate())!==null&&i!==void 0?i:null):xl(u,o??null)},n.isSelectingRangeEnd=function(a){var i;if(!n.isInSelectingRange(a))return!1;var s=n.props,o=s.endDate,l=s.selectsEnd,u=s.selectsRange,d=gl(zr(),a);return l||u?xl(d,(i=n.selectingDate())!==null&&i!==void 0?i:null):xl(d,o??null)},n.isKeyboardSelected=function(a){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var i=n.props,s=i.minDate,o=i.maxDate,l=i.excludeDates,u=i.includeDates,d=i.filterDate,f=gx(gl(n.props.date,a)),h=(s||o||l||u||d)&&P2(a,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Tr(f,gx(n.props.selected))&&Tr(f,gx(n.props.preSelection))&&!h}},n.onYearClick=function(a,i){var s=n.props.date;s!==void 0&&n.handleYearClick(gx(gl(s,i)),a)},n.onYearKeyDown=function(a,i){var s,o,l=a.key,u=n.props,d=u.date,f=u.yearItemNumber,h=u.handleOnKeyDown;if(l!==vt.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(l){case vt.Enter:if(n.props.selected==null)break;n.onYearClick(a,i),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case vt.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(i+1,kc(n.props.preSelection,1));break;case vt.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(i-1,Ip(n.props.preSelection,1));break;case vt.ArrowUp:{if(d===void 0||f===void 0||n.props.preSelection==null)break;var p=Ru(d,f).startPeriod,m=jL,g=i-m;if(g<p){var v=f%m;i>=p&&i<p+v?m=v:m+=v,g=i-m}n.handleYearNavigation(g,Ip(n.props.preSelection,m));break}case vt.ArrowDown:{if(d===void 0||f===void 0||n.props.preSelection==null)break;var x=Ru(d,f).endPeriod,m=jL,g=i+m;if(g>x){var v=f%m;i<=x&&i>x-v?m=v:m+=v,g=i+m}n.handleYearNavigation(g,kc(n.props.preSelection,m));break}}h&&h(a)},n.getYearClassNames=function(a){var i=n.props,s=i.date,o=i.minDate,l=i.maxDate,u=i.selected,d=i.excludeDates,f=i.includeDates,h=i.filterDate,p=i.yearClassName;return Ht("react-datepicker__year-text","react-datepicker__year-".concat(a),s?p==null?void 0:p(gl(s,a)):void 0,{"react-datepicker__year-text--selected":u?a===pr(u):void 0,"react-datepicker__year-text--disabled":(o||l||d||f||h)&&P2(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var i=pr(n.props.preSelection),s=P2(a,n.props);return a===i&&!s?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return t.prototype.render=function(){var r=this,n=[],a=this.props,i=a.date,s=a.yearItemNumber,o=a.onYearMouseEnter,l=a.onYearMouseLeave;if(i===void 0)return null;for(var u=Ru(i,s),d=u.startPeriod,f=u.endPeriod,h=function(g){n.push(we.createElement("div",{ref:p.YEAR_REFS[g-d],onClick:function(v){r.onYearClick(v,g)},onKeyDown:function(v){DK(v)&&(v.preventDefault(),v.key=vt.Enter),r.onYearKeyDown(v,g)},tabIndex:Number(p.getYearTabIndex(g)),className:p.getYearClassNames(g),onMouseEnter:p.props.usePointerEvent?void 0:function(v){return o(v,g)},onPointerEnter:p.props.usePointerEvent?function(v){return o(v,g)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(v){return l(v,g)},onPointerLeave:p.props.usePointerEvent?function(v){return l(v,g)}:void 0,key:g,"aria-current":p.isCurrentYear(g)?"date":void 0},p.getYearContent(g)))},p=this,m=d;m<=f;m++)h(m);return we.createElement("div",{className:"react-datepicker__year"},we.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t}(L.Component);function SLe(e,t,r,n){for(var a=[],i=0;i<2*t+1;i++){var s=e+t-i,o=!0;r&&(o=pr(r)<=s),n&&o&&(o=pr(n)>=s),o&&a.push(s)}return a}var NLe=function(e){Ua(t,e);function t(r){var n=e.call(this,r)||this;n.renderOptions=function(){var o=n.props.year,l=n.state.yearsList.map(function(f){return we.createElement("div",{className:o===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:n.onChange.bind(n,f),"aria-selected":o===f?"true":void 0},o===f?we.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",f)}),u=n.props.minDate?pr(n.props.minDate):null,d=n.props.maxDate?pr(n.props.maxDate):null;return(!d||!n.state.yearsList.find(function(f){return f===d}))&&l.unshift(we.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},we.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!n.state.yearsList.find(function(f){return f===u}))&&l.push(we.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},we.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},n.onChange=function(o){n.props.onChange(o)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(o){var l=n.state.yearsList.map(function(u){return u+o});n.setState({yearsList:l})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=r.yearDropdownItemNumber,i=r.scrollableYearDropdown,s=a||(i?10:5);return n.state={yearsList:SLe(n.props.year,s,n.props.minDate,n.props.maxDate)},n.dropdownRef=L.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,a=n?n.find(function(i){return i.ariaSelected}):null;r.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=Ht({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return we.createElement(Yk,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(L.Component),jLe=function(e){Ua(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?pr(r.props.minDate):1900,a=r.props.maxDate?pr(r.props.maxDate):2100,i=[],s=n;s<=a;s++)i.push(we.createElement("option",{key:s,value:s},s));return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return we.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return we.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return r.toggleDropdown(a)}},we.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),we.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return we.createElement(NLe,Ar({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,a){var i;(i=r.onSelect)===null||i===void 0||i.call(r,n,a),r.setOpen()},r.onSelect=function(n,a){var i,s;(s=(i=r.props).onSelect)===null||s===void 0||s.call(i,n,a)},r.setOpen=function(){var n,a;(a=(n=r.props).setOpen)===null||a===void 0||a.call(n,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return we.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(L.Component),CLe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],TLe=function(e){var t=(e.className||"").split(/\s+/);return CLe.some(function(r){return t.indexOf(r)>=0})},ALe=function(e){Ua(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var i,s;TLe(a.target)&&((s=(i=n.props).onDropdownFocus)===null||s===void 0||s.call(i,a))},n.getDateInView=function(){var a=n.props,i=a.preSelection,s=a.selected,o=a.openToDate,l=OK(n.props),u=$K(n.props),d=zr(),f=o||s||i;return f||(l&&nh(d,l)?l:u&&bd(d,u)?u:d)},n.increaseMonth=function(){n.setState(function(a){var i=a.date;return{date:Zo(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var i=a.date;return{date:$f(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,i,s){n.props.onSelect(a,i,s),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,i){n.setState({selectingDate:gl(zr(),i)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,i)},n.handleYearMouseLeave=function(a,i){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,i)},n.handleYearChange=function(a){var i,s,o,l;(s=(i=n.props).onYearChange)===null||s===void 0||s.call(i,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(l=(o=n.props).setOpen)===null||l===void 0||l.call(o,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!ro(a,n.props))return a;for(var i=Cc(a),s=XFe(a),o=NDe(s,i),l=null,u=0;u<=o;u++){var d=Go(i,u);if(!ro(d,n.props)){l=d;break}}return l},n.handleMonthChange=function(a){var i,s,o,l=(i=n.getEnabledPreSelectionDateForMonth(a))!==null&&i!==void 0?i:a;n.handleCustomMonthChange(l),n.props.adjustDateOnChange&&(n.props.onSelect(l),(o=(s=n.props).setOpen)===null||o===void 0||o.call(s,!0)),n.props.setPreSelection&&n.props.setPreSelection(l)},n.handleCustomMonthChange=function(a){var i,s;(s=(i=n.props).onMonthChange)===null||s===void 0||s.call(i,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(i){var s=i.date;return{date:gl(s,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(i){var s=i.date;return{date:Js(s,Number(a))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(a){n.setState(function(i){var s=i.date;return{date:gl(Js(s,Ii(a)),pr(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a){a===void 0&&(a=n.state.date);var i=td(a,n.props.locale,n.props.calendarStartDay),s=[];return n.props.showWeekNumbers&&s.push(we.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(o){var l=Go(i,o),u=n.formatWeekday(l,n.props.locale),d=n.props.weekDayClassName?n.props.weekDayClassName(l):void 0;return we.createElement("div",{key:o,"aria-label":Nn(l,"EEEE",n.props.locale),className:Ht("react-datepicker__day-name",d)},u)}))},n.formatWeekday=function(a,i){return n.props.formatWeekDay?QFe(a,n.props.formatWeekDay,i):n.props.useWeekdaysShort?ZFe(a,i):JFe(a,i)},n.decreaseYear=function(){n.setState(function(a){var i,s=a.date;return{date:Ip(s,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,i,s;if(!n.props.renderCustomHeader){var o=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,l=n.props.showPreviousMonths?o-1:0,u=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:l,d=$f(n.state.date,u),f;switch(!0){case n.props.showMonthYearPicker:f=vL(n.state.date,n.props);break;case n.props.showYearPicker:f=aLe(n.state.date,n.props);break;case n.props.showQuarterYearPicker:f=rLe(n.state.date,n.props);break;default:f=gL(d,n.props);break}if(!(!((s=n.props.forceShowMonthNavigation)!==null&&s!==void 0?s:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&f||n.props.showTimeSelectOnly)){var h=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],m=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(m=n.decreaseYear),f&&n.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),m=void 0);var g=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,v=n.props,x=v.previousMonthButtonLabel,y=x===void 0?t.defaultProps.previousMonthButtonLabel:x,b=v.previousYearButtonLabel,N=b===void 0?t.defaultProps.previousYearButtonLabel:b,_=n.props,C=_.previousMonthAriaLabel,k=C===void 0?typeof y=="string"?y:"Previous Month":C,w=_.previousYearAriaLabel,S=w===void 0?typeof N=="string"?N:"Previous Year":w;return we.createElement("button",{type:"button",className:p.join(" "),onClick:m,onKeyDown:n.props.handleOnKeyDown,"aria-label":g?S:k},we.createElement("span",{className:h.join(" ")},g?N:y))}}},n.increaseYear=function(){n.setState(function(a){var i,s=a.date;return{date:kc(s,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var i;switch(!0){case n.props.showMonthYearPicker:i=yL(n.state.date,n.props);break;case n.props.showYearPicker:i=iLe(n.state.date,n.props);break;case n.props.showQuarterYearPicker:i=nLe(n.state.date,n.props);break;default:i=xL(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&i||n.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var l=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(l=n.increaseYear),i&&n.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),l=void 0);var u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,d=n.props,f=d.nextMonthButtonLabel,h=f===void 0?t.defaultProps.nextMonthButtonLabel:f,p=d.nextYearButtonLabel,m=p===void 0?t.defaultProps.nextYearButtonLabel:p,g=n.props,v=g.nextMonthAriaLabel,x=v===void 0?typeof h=="string"?h:"Next Month":v,y=g.nextYearAriaLabel,b=y===void 0?typeof m=="string"?m:"Next Year":y;return we.createElement("button",{type:"button",className:s.join(" "),onClick:l,onKeyDown:n.props.handleOnKeyDown,"aria-label":u?b:x},we.createElement("span",{className:o.join(" ")},u?m:h))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var i=["react-datepicker__current-month"];return n.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),we.createElement("h2",{className:i.join(" ")},Nn(a,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return we.createElement(jLe,Ar({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:pr(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return we.createElement(vLe,Ar({},t.defaultProps,n.props,{month:Ii(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return we.createElement(wLe,Ar({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(dL(),a),n.props.setPreSelection&&n.props.setPreSelection(dL())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return we.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(a){var i=a.monthDate,s=a.i;return we.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(i),we.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(s!==0),n.renderMonthYearDropdown(s!==0),n.renderYearDropdown(s!==0)),we.createElement("div",{className:"react-datepicker__day-names"},n.header(i)))},n.renderCustomHeader=function(a){var i,s,o=a.monthDate,l=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var u=gL(n.state.date,n.props),d=xL(n.state.date,n.props),f=vL(n.state.date,n.props),h=yL(n.state.date,n.props),p=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return we.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(s=(i=n.props).renderCustomHeader)===null||s===void 0?void 0:s.call(i,Ar(Ar({},n.state),{customHeaderCount:l,monthDate:o,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:d,prevYearButtonDisabled:f,nextYearButtonDisabled:h})),p&&we.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderYearHeader=function(a){var i=a.monthDate,s=n.props,o=s.showYearPicker,l=s.yearItemNumber,u=l===void 0?t.defaultProps.yearItemNumber:l,d=Ru(i,u),f=d.startPeriod,h=d.endPeriod;return we.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(f," - ").concat(h):pr(i))},n.renderHeader=function(a){var i=a.monthDate,s=a.i,o=s===void 0?0:s,l={monthDate:i,i:o};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(l);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(l);default:return n.renderDefaultHeader(l)}},n.renderMonths=function(){var a,i;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var s=[],o=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,l=n.props.showPreviousMonths?o-1:0,u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?kc(n.state.date,l):$f(n.state.date,l),d=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:l,f=0;f<o;++f){var h=f-d+l,p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?kc(u,h):Zo(u,h),m="month-".concat(f),g=f<o-1,v=f>0;s.push(we.createElement("div",{key:m,ref:function(x){n.monthContainer=x??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:p,i:f}),we.createElement(gLe,Ar({},t.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:p,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:f,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:v}))))}return s}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return we.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),we.createElement(kLe,Ar({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return we.createElement(_Le,Ar({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a=n.props.selected?new Date(n.props.selected):void 0,i=a&&Vk(a)&&!!n.props.selected,s=i?"".concat(wL(a.getHours()),":").concat(wL(a.getMinutes())):"";if(n.props.showTimeInput)return we.createElement(dLe,Ar({},t.defaultProps,n.props,{date:a,timeString:s,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var a,i=Ru(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),s=i.startPeriod,o=i.endPeriod,l;return n.props.showYearPicker?l="".concat(s," - ").concat(o):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?l=pr(n.state.date):l="".concat(EP(Ii(n.state.date),n.props.locale)," ").concat(pr(n.state.date)),we.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&l)},n.renderChildren=function(){if(n.props.children)return we.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=L.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:c1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&(!Tr(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var a=!$i(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Tr(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||zFe;return we.createElement(Yk,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},we.createElement("div",{style:{display:"contents"},ref:this.containerRef},we.createElement(r,{className:Ht("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(L.Component),ELe=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,a=e.onClick,i="react-datepicker__calendar-icon";if(typeof t=="string")return we.createElement("i",{className:"".concat(i," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:a});if(we.isValidElement(t)){var s=t;return we.cloneElement(s,{className:"".concat(s.props.className||""," ").concat(i," ").concat(n),onClick:function(o){typeof s.props.onClick=="function"&&s.props.onClick(o),typeof a=="function"&&a(o)}})}return we.createElement("svg",{className:"".concat(i," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},we.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},MK=function(e){Ua(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return Yee.createPortal(this.props.children,this.el)},t}(L.Component),PLe="[tabindex], a, button, input, select, textarea",OLe=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},FK=function(e){Ua(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(PLe),1,-1).filter(OLe)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=L.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?we.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},we.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,we.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(L.Component);function $Le(e){var t=function(r){var n,a=typeof r.hidePopper=="boolean"?r.hidePopper:!0,i=L.useRef(null),s=WFe(Ar({open:!a,whileElementsMounted:bFe,placement:r.popperPlacement,middleware:kl([CFe({padding:15}),jFe(10),TFe({element:i})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),o=Ar(Ar({},r),{hidePopper:a,popperProps:Ar(Ar({},s),{arrowRef:i})});return we.createElement(e,Ar({},o))};return t}var DLe=function(e){Ua(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r=this.props,n=r.className,a=r.wrapperClassName,i=r.hidePopper,s=i===void 0?t.defaultProps.hidePopper:i,o=r.popperComponent,l=r.targetComponent,u=r.enableTabLoop,d=r.popperOnKeyDown,f=r.portalId,h=r.portalHost,p=r.popperProps,m=r.showArrow,g=void 0;if(!s){var v=Ht("react-datepicker-popper",n);g=we.createElement(FK,{enableTabLoop:u},we.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:v,"data-placement":p.placement,onKeyDown:d},o,m&&we.createElement(MFe,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(g=L.createElement(this.props.popperContainer,{},g)),f&&!s&&(g=we.createElement(MK,{portalId:f,portalHost:h},g));var x=Ht("react-datepicker-wrapper",a);return we.createElement(we.Fragment,null,we.createElement("div",{ref:p.refs.setReference,className:x},l),g)},t}(L.Component),MLe=$Le(DLe),CL="react-datepicker-ignore-onclickoutside";function FLe(e,t){return e&&t?Ii(e)!==Ii(t)||pr(e)!==pr(t):e!==t}var tN="Date input not valid.",LLe=function(e){Ua(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:zr()},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(i,s){var o=new Date(s.date);return Vk(o)?kl(kl([],i,!0),[Ar(Ar({},s),{date:o})],!1):i},[])},n.calcInitialState=function(){var a,i=n.getPreSelection(),s=OK(n.props),o=$K(n.props),l=s&&nh(i,E2(s))?s:o&&bd(i,fL(o))?o:i;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&a!==void 0?a:l,highlightDates:bL(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Ar(Ar({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Ar(Ar({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,i;(i=(a=n.input)===null||a===void 0?void 0:a.focus)===null||i===void 0||i.call(a,{preventScroll:!0})},n.setBlur=function(){var a,i;(i=(a=n.input)===null||a===void 0?void 0:a.blur)===null||i===void 0||i.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,i){i===void 0&&(i=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:rN},function(){a||n.setState(function(s){return{focused:i?s.focused:!1}},function(){!i&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Sc(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var i,s,o=n.state.wasHidden,l=o?n.state.open:!0;o&&n.resetHiddenStatus(),n.state.preventFocus||((s=(i=n.props).onFocus)===null||s===void 0||s.call(i,a),l&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(a){var i,s;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((s=(i=n.props).onBlur)===null||s===void 0||s.call(i,a)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var i,s;n.props.inline||n.setOpen(!1),(s=(i=n.props).onClickOutside)===null||s===void 0||s.call(i,a),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,i,s,o,l,u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];var f=u[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,u),!f||typeof f.isDefaultPrevented!="function"||f.isDefaultPrevented()))){n.setState({inputValue:(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:null,lastPreSelectChange:ILe});var h=n.props,p=h.selectsRange,m=h.startDate,g=h.endDate,v=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,x=(i=n.props.strictParsing)!==null&&i!==void 0?i:t.defaultProps.strictParsing,y=(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:"";if(p){var b=y.split("-",2).map(function(A){return A.trim()}),N=b[0],_=b[1],C=J3(N??"",v,n.props.locale,x),k=J3(_??"",v,n.props.locale,x),w=(m==null?void 0:m.getTime())!==(C==null?void 0:C.getTime()),S=(g==null?void 0:g.getTime())!==(k==null?void 0:k.getTime());if(!w&&!S||C&&ro(C,n.props)||k&&ro(k,n.props))return;(o=(s=n.props).onChange)===null||o===void 0||o.call(s,[C,k],f)}else{var P=J3(y,v,n.props.locale,x,(l=n.props.selected)!==null&&l!==void 0?l:void 0);(P||!y)&&n.setSelected(P,f,!0)}}},n.handleSelect=function(a,i,s){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(i),n.setSelected(a,i,!1,s),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(a);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var o=n.props,l=o.startDate,u=o.endDate;l&&!u&&(n.props.swapRange||!SL(a,l))&&n.setOpen(!1)}},n.setSelected=function(a,i,s,o){var l,u,d=a;if(n.props.showYearPicker){if(d!==null&&P2(pr(d),n.props))return}else if(n.props.showMonthYearPicker){if(d!==null&&PK(d,n.props))return}else if(d!==null&&ro(d,n.props))return;var f=n.props,h=f.onChange,p=f.selectsRange,m=f.startDate,g=f.endDate,v=f.selectsMultiple,x=f.selectedDates,y=f.minTime,b=f.swapRange;if(!bf(n.props.selected,d)||n.props.allowSameDay||p||v)if(d!==null&&(n.props.selected&&(!s||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(d=Z3(d,{hour:Nc(n.props.selected),minute:jc(n.props.selected),second:ed(n.props.selected)})),!s&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&y&&(d=Z3(d,{hour:y.getHours(),minute:y.getMinutes(),second:y.getSeconds()})),n.props.inline||n.setState({preSelection:d}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:o})),p){var N=!m&&!g,_=m&&!g,C=m&&g;N?h==null||h([d,null],i):_&&(d===null?h==null||h([null,null],i):SL(d,m)?b?h==null||h([d,m],i):h==null||h([d,null],i):h==null||h([m,d],i)),C&&(h==null||h([d,null],i))}else if(v){if(d!==null)if(!(x!=null&&x.length))h==null||h([d],i);else{var k=x.some(function(S){return Tr(S,d)});if(k){var w=x.filter(function(S){return!Tr(S,d)});h==null||h(w,i)}else h==null||h(kl(kl([],x,!0),[d],!1),i)}}else h==null||h(d,i);s||((u=(l=n.props).onSelect)===null||u===void 0||u.call(l,d,i),n.setState({inputValue:null}))},n.setPreSelection=function(a){var i=Sc(n.props.minDate),s=Sc(n.props.maxDate),o=!0;if(a){var l=E2(a);if(i&&s)o=xx(a,n.props.minDate,n.props.maxDate);else if(i){var u=E2(n.props.minDate);o=bd(a,u)||bf(l,u)}else if(s){var d=fL(n.props.maxDate);o=nh(a,d)||bf(l,d)}}o&&n.setState({preSelection:a})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a){var i,s;if(!(n.props.selectsRange||n.props.selectsMultiple)){var o=n.props.selected?n.props.selected:n.getPreSelection(),l=n.props.selected?a:Z3(o,{hour:Nc(a),minute:jc(a)});n.setState({preSelection:l}),(s=(i=n.props).onChange)===null||s===void 0||s.call(i,l),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,i;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(i=(a=n.props).onInputClick)===null||i===void 0||i.call(a)},n.onInputKeyDown=function(a){var i,s,o,l,u,d;(s=(i=n.props).onKeyDown)===null||s===void 0||s.call(i,a);var f=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(f===vt.ArrowDown||f===vt.ArrowUp||f===vt.Enter)&&((o=n.onInputClick)===null||o===void 0||o.call(n));return}if(n.state.open){if(f===vt.ArrowDown||f===vt.ArrowUp){a.preventDefault();var h=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((l=n.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(h);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var m=zr(n.state.preSelection);f===vt.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===rN?(n.handleSelect(m,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(m)):n.setOpen(!1)):f===vt.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):f===vt.Tab&&n.setOpen(!1),n.inputOk()||(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:tN})}},n.onPortalKeyDown=function(a){var i=a.key;i===vt.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var i,s,o,l,u,d,f=n.props,h=f.minDate,p=f.maxDate,m=f.disabledKeyboardNavigation,g=f.showWeekPicker,v=f.shouldCloseOnSelect,x=f.locale,y=f.calendarStartDay,b=f.adjustDateOnChange,N=f.inline;if((s=(i=n.props).onKeyDown)===null||s===void 0||s.call(i,a),!m){var _=a.key,C=a.shiftKey,k=zr(n.state.preSelection),w=function(H,z){var Y=z;switch(H){case vt.ArrowRight:Y=g?r_(z,1):Go(z,1);break;case vt.ArrowLeft:Y=g?tL(z):N7e(z);break;case vt.ArrowUp:Y=tL(z);break;case vt.ArrowDown:Y=r_(z,1);break;case vt.PageUp:Y=C?Ip(z,1):$f(z,1);break;case vt.PageDown:Y=C?kc(z,1):Zo(z,1);break;case vt.Home:Y=td(z,x,y);break;case vt.End:Y=KFe(z);break}return Y},S=function(H,z){for(var Y=40,G=H,I=!1,X=0,J=w(H,z);!I;){if(X>=Y){J=z;break}h&&J<h&&(G=vt.ArrowRight,J=ro(h,n.props)?w(G,J):h),p&&J>p&&(G=vt.ArrowLeft,J=ro(p,n.props)?w(G,J):p),ro(J,n.props)?((G===vt.PageUp||G===vt.Home)&&(G=vt.ArrowRight),(G===vt.PageDown||G===vt.End)&&(G=vt.ArrowLeft),J=w(G,J)):I=!0,X++}return J};if(_===vt.Enter){a.preventDefault(),n.handleSelect(k,a),!v&&n.setPreSelection(k);return}else if(_===vt.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(l=(o=n.props).onInputError)===null||l===void 0||l.call(o,{code:1,msg:tN});return}var P=null;switch(_){case vt.ArrowLeft:case vt.ArrowRight:case vt.ArrowUp:case vt.ArrowDown:case vt.PageUp:case vt.PageDown:case vt.Home:case vt.End:P=S(_,k);break}if(!P){(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:tN});return}if(a.preventDefault(),n.setState({lastPreSelectChange:rN}),b&&n.setSelected(P),n.setPreSelection(P),N){var A=Ii(k),T=Ii(P),F=pr(k),M=pr(P);A!==T||F!==M?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(a){var i=a.key;i===vt.Escape&&(a.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var i=n.props,s=i.selectsRange,o=i.onChange;s?o==null||o([null,null],a):o==null||o(null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.renderCalendar=function(){var a,i;return!n.props.inline&&!n.isCalendarOpen()?null:we.createElement(ALe,Ar({showMonthYearDropdown:void 0,ref:function(s){n.calendar=s}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:oLe(n.modifyHolidays()),outsideClickIgnoreClass:CL,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(i=n.props.dropdownMode)!==null&&i!==void 0?i:t.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var a=n.props,i=a.dateFormat,s=i===void 0?t.defaultProps.dateFormat:i,o=a.locale,l=n.props.showTimeInput||n.props.showTimeSelect,u=l?"PPPPp":"PPPP",d;return n.props.selectsRange?d="Selected start date: ".concat(Xs(n.props.startDate,{dateFormat:u,locale:o}),". ").concat(n.props.endDate?"End date: "+Xs(n.props.endDate,{dateFormat:u,locale:o}):""):n.props.showTimeSelectOnly?d="Selected time: ".concat(Xs(n.props.selected,{dateFormat:s,locale:o})):n.props.showYearPicker?d="Selected year: ".concat(Xs(n.props.selected,{dateFormat:"yyyy",locale:o})):n.props.showMonthYearPicker?d="Selected month: ".concat(Xs(n.props.selected,{dateFormat:"MMMM yyyy",locale:o})):n.props.showQuarterYearPicker?d="Selected quarter: ".concat(Xs(n.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):d="Selected date: ".concat(Xs(n.props.selected,{dateFormat:u,locale:o})),we.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},n.renderDateInput=function(){var a,i,s,o=Ht(n.props.className,(a={},a[CL]=n.state.open,a)),l=n.props.customInput||we.createElement("input",{type:"text"}),u=n.props.customInputRef||"ref",d=n.props,f=d.dateFormat,h=f===void 0?t.defaultProps.dateFormat:f,p=d.locale,m=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?qFe(n.props.startDate,n.props.endDate,{dateFormat:h,locale:p}):n.props.selectsMultiple?YFe((s=n.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:h,locale:p}):Xs(n.props.selected,{dateFormat:h,locale:p});return L.cloneElement(l,(i={},i[u]=function(g){n.input=g},i.value=m,i.onBlur=n.handleBlur,i.onChange=n.handleChange,i.onClick=n.onInputClick,i.onFocus=n.handleFocus,i.onKeyDown=n.onInputKeyDown,i.id=n.props.id,i.name=n.props.name,i.form=n.props.form,i.autoFocus=n.props.autoFocus,i.placeholder=n.props.placeholderText,i.disabled=n.props.disabled,i.autoComplete=n.props.autoComplete,i.className=Ht(l.props.className,o),i.title=n.props.title,i.readOnly=n.props.readOnly,i.required=n.props.required,i.tabIndex=n.props.tabIndex,i["aria-describedby"]=n.props.ariaDescribedBy,i["aria-invalid"]=n.props.ariaInvalid,i["aria-labelledby"]=n.props.ariaLabelledBy,i["aria-required"]=n.props.ariaRequired,i))},n.renderClearButton=function(){var a=n.props,i=a.isClearable,s=a.disabled,o=a.selected,l=a.startDate,u=a.endDate,d=a.clearButtonTitle,f=a.clearButtonClassName,h=f===void 0?"":f,p=a.ariaLabelClose,m=p===void 0?"Close":p,g=a.selectedDates;return i&&(o!=null||l!=null||u!=null||g!=null&&g.length)?we.createElement("button",{type:"button",className:Ht("react-datepicker__close-icon",h,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":m,onClick:n.onClearClick,title:d,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:c1,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var a,i,s,o;r.inline&&FLe(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:bL(this.props.highlightDates)}),!n.focused&&!bf(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((i=(a=this.props).onCalendarOpen)===null||i===void 0||i.call(a)),n.open===!0&&this.state.open===!1&&((o=(s=this.props).onCalendarClose)===null||o===void 0||o.call(s)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,a=r.icon,i=r.calendarIconClassname,s=r.calendarIconClassName,o=r.toggleCalendarOnIconClick,l=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),we.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&we.createElement(ELe,Ar({icon:a,className:Ht(s,!s&&i,l&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?we.createElement(FK,{enableTabLoop:this.props.enableTabLoop},we.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=we.createElement(MK,Ar({portalId:this.props.portalId},this.props),n)),we.createElement("div",null,this.renderInputContainer(),n)}return we.createElement(MLe,Ar({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(L.Component),ILe="input",rN="navigate";const RLe={mobile_money:{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200"},bank_transfer:{bg:"bg-purple-50",text:"text-purple-700",border:"border-purple-200"},card_payment:{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200"},check:{bg:"bg-emerald-50",text:"text-emerald-700",border:"border-emerald-200"},cash:{bg:"bg-green-50",text:"text-green-700",border:"border-green-200"}},nN=e=>{const t=e.toLowerCase().replace(/ /g,"_");return RLe[t]||{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200"}},BLe=e=>{const t=e.toLowerCase().replace(/ /g,"_");return{mobile_money:"#FFE45E",bank_transfer:"#A855F7",card_payment:"#3B82F6",check:"#34D399",cash:"#4ADE80"}[t]||"#9CA3AF"},ULe=(e,t,r)=>{const n=["Order Number","Client Name","Amount","Payment Method","Date"],a=e.map(l=>{var u,d;return[((u=l.order_details)==null?void 0:u.order_number)||"N/A",((d=l.order_details)==null?void 0:d.client_name)||"N/A",`${r}${l.amount.toLocaleString(void 0,{minimumFractionDigits:2})}`,l.payment_method,jt(new Date(l.created_at),"MMM d, yyyy")]}),i=["Payment Method","Total Amount","Transaction Count"],s=t.map(l=>[l.method,`${r}${l.amount.toLocaleString(void 0,{minimumFractionDigits:2})}`,l.count.toString()]);return[["Financial Report"],["Date Range:",jt(new Date,"MMM d, yyyy")],[],["Transaction Details"],n,...a,[],["Payment Method Statistics"],i,...s].map(l=>l.map(u=>`"${u}"`).join(",")).join(`
`)},WLe=(e,t)=>{const r=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),a=URL.createObjectURL(r);n.setAttribute("href",a),n.setAttribute("download",t),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)};function zLe(){var P,A;const[e,t]=L.useState([]),[r,n]=L.useState([]),[a,i]=L.useState([null,null]),[s,o]=a,{organization:l}=ir(),{addToast:u}=Or(),{theme:d,getThemeStyle:f}=Yt(),h=l!=null&&l.currency?((P=sn[l.currency])==null?void 0:P.symbol)||l.currency:sn.USD.symbol,p=L.useRef(null),[m,g]=L.useState(0),[v,x]=L.useState(0),[y,b]=L.useState(""),[N,_]=L.useState(window.innerWidth<768);L.useEffect(()=>{const T=()=>{_(window.innerWidth<768)};return window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]);const C=()=>{if(!s||!o){const T=new Date;return{start:od(T),end:ow(T)}}return{start:od(s),end:ow(o)}},k=async()=>{if(!l)return;const{start:T,end:F}=C();try{let M=[],H=[],z=!0,Y=0;const G=1e3;for(;z;){const{data:q,error:K}=await We.from("payments").select("payment_method, amount, reference_id, reference_type, status").eq("organization_id",l.id).gte("created_at",T.toISOString()).lte("created_at",F.toISOString()).range(Y*G,(Y+1)*G-1);if(K)throw K;q&&q.length>0?(M=[...M,...q],Y++):z=!1}for(z=!0,Y=0;z;){const{data:q,error:K}=await We.from("payments").select("*").eq("organization_id",l.id).gte("created_at",T.toISOString()).lte("created_at",F.toISOString()).order("created_at",{ascending:!1}).range(Y*G,(Y+1)*G-1);if(K)throw K;q&&q.length>0?(H=[...H,...q],Y++):z=!1}const X=(await Promise.all(M.map(async q=>{if(q.reference_type==="service_order"){const{data:K}=await We.from("orders").select("status").eq("id",q.reference_id).single();return{id:q.reference_id,status:K==null?void 0:K.status}}else if(q.reference_type==="sales_order"){const{data:K}=await We.from("sales_orders").select("status").eq("id",q.reference_id).single();return{id:q.reference_id,status:K==null?void 0:K.status}}return{id:q.reference_id,status:null}}))).reduce((q,{id:K,status:ae})=>(q[K]=ae,q),{}),J=M.reduce((q,K)=>{if(X[K.reference_id]==="cancelled")return q;const ee=q.find(W=>W.method===K.payment_method);return ee?(ee.amount+=K.amount,ee.count+=1):q.push({method:K.payment_method,amount:K.amount,count:1}),q},[]);t(J);const E=J.reduce((q,K)=>q+K.amount,0);g(E);const R=J.reduce((q,K)=>K.count>q.count?K:q,{method:"",amount:0,count:0});b(R.method),x(J.reduce((q,K)=>q+K.count,0));const B=await Promise.all(H.map(async q=>{var ae,ee;let K={order_number:"N/A",client_name:"N/A",status:null};if(q.reference_type==="sales_order"){const{data:W,error:Z}=await We.from("sales_orders").select(`
                order_number,
                status,
                client_id,
                clients (
                  name
                )
              `).eq("id",q.reference_id).single();!Z&&W&&(K={order_number:W.order_number,client_name:((ae=W.clients)==null?void 0:ae.name)||"N/A",status:W.status})}else if(q.reference_type==="service_order"){const{data:W,error:Z}=await We.from("orders").select(`
                order_number,
                status,
                client_id,
                clients (
                  name
                )
              `).eq("id",q.reference_id).single();!Z&&W&&(K={order_number:W.order_number,client_name:((ee=W.clients)==null?void 0:ee.name)||"N/A",status:W.status})}return{...q,order_details:K}}));n(B)}catch(M){console.error("Error fetching payment data:",M),u({type:"error",title:"Error",message:"Failed to fetch payment data"})}},w=()=>{const F=`financial-report-${s&&o?`${jt(s,"MMM d, yyyy")}-${jt(o,"MMM d, yyyy")}`:jt(new Date,"MMM d, yyyy")}.csv`,M=ULe(r,e,h);WLe(M,F)},S=async()=>{var T,F;try{const M=new Rt("landscape","mm","a4"),H=M.internal.pageSize.getWidth(),z=M.internal.pageSize.getHeight(),Y=15,G=H-2*Y;M.setFontSize(20),M.setFont("helvetica","bold"),M.text("Financial Report",Y,Y+10);const I=s&&o?`${jt(s,"MMM d, yyyy")} - ${jt(o,"MMM d, yyyy")}`:jt(new Date,"MMM d, yyyy");M.setFontSize(12),M.setFont("helvetica","normal"),M.text(`Date Range: ${I}`,Y,Y+20);const X=(l==null?void 0:l.currency)||"USD";M.setFontSize(10),M.text(`Total Revenue: ${X} ${m.toLocaleString(void 0,{minimumFractionDigits:2})}`,Y,Y+30),M.text(`Total Transactions: ${v}`,Y+80,Y+30),M.text(`Most Popular Method: ${y?y.split("_").map(O=>O.charAt(0).toUpperCase()+O.slice(1)).join(" "):"N/A"}`,Y+160,Y+30);const J=Y+45,E=8,R=[35,25,30,25,40],B=[Y,Y+R[0],Y+R[0]+R[1],Y+R[0]+R[1]+R[2],Y+R[0]+R[1]+R[2]+R[3]];M.setFillColor(240,240,240),M.rect(Y,J,G,E,"F"),M.setFontSize(10),M.setFont("helvetica","bold"),M.text("Order",B[0]+2,J+6),M.text(`Amount (${X})`,B[1]+2,J+6),M.text("Method",B[2]+2,J+6),M.text("Date",B[3]+2,J+6),M.text("Customer",B[4]+2,J+6),M.setFont("helvetica","normal"),M.setFontSize(9);let q=J+E,K=1;const ae=Math.floor((z-q-20)/E);let ee=0;const W=r.filter(O=>{var de;return O.status!=="cancelled"&&((de=O.order_details)==null?void 0:de.status)!=="cancelled"});for(let O=0;O<W.length;O++){const de=W[O];ee>=ae&&(M.addPage(),K++,q=Y+20,ee=0,M.setFontSize(20),M.setFont("helvetica","bold"),M.text("Financial Report (continued)",Y,Y+10),M.setFillColor(240,240,240),M.rect(Y,q,G,E,"F"),M.setFontSize(10),M.setFont("helvetica","bold"),M.text("Order",B[0]+2,q+6),M.text(`Amount (${X})`,B[1]+2,q+6),M.text("Method",B[2]+2,q+6),M.text("Date",B[3]+2,q+6),M.text("Customer",B[4]+2,q+6),q+=E,ee++),ee%2===0&&(M.setFillColor(250,250,250),M.rect(Y,q,G,E,"F")),M.setFont("helvetica","normal"),M.setFontSize(9);const ce=((T=de.order_details)==null?void 0:T.order_number)||"N/A";M.text(ce.length>15?ce.substring(0,12)+"...":ce,B[0]+2,q+6),M.text(de.amount.toLocaleString(void 0,{minimumFractionDigits:2}),B[1]+2,q+6);const pe=de.payment_method.split("_").map(ne=>ne.charAt(0).toUpperCase()+ne.slice(1)).join(" ");M.text(pe.length>12?pe.substring(0,9)+"...":pe,B[2]+2,q+6),M.text(jt(new Date(de.created_at),"MMM d, yyyy"),B[3]+2,q+6);const Q=((F=de.order_details)==null?void 0:F.client_name)||"N/A";M.text(Q.length>18?Q.substring(0,15)+"...":Q,B[4]+2,q+6),q+=E,ee++}q+=5,M.setFillColor(220,220,220),M.rect(Y,q,G,E,"F"),M.setFont("helvetica","bold"),M.setFontSize(10),M.text("TOTAL",B[0]+2,q+6),M.text(`${W.reduce((O,de)=>O+de.amount,0).toLocaleString(void 0,{minimumFractionDigits:2})}`,B[1]+2,q+6),M.text(`${W.length} transactions`,B[2]+2,q+6);const Z=M.getNumberOfPages();for(let O=1;O<=Z;O++)M.setPage(O),M.setFontSize(8),M.setFont("helvetica","normal"),M.text(`Page ${O} of ${Z}`,H-30,z-10),M.text(`Generated on ${jt(new Date,"MMM d, yyyy h:mm a")}`,Y,z-10);const re=`financial-report-${I.replace(/[^a-zA-Z0-9]/g,"-")}.pdf`;M.save(re),u({type:"success",title:"Success",message:"PDF report generated successfully"})}catch(M){console.error("Error generating PDF:",M),u({type:"error",title:"Error",message:"Failed to generate PDF"})}};return L.useEffect(()=>{k()},[a,l]),c.jsx("div",{className:`min-h-screen ${f(d,"background","primary")} p-4 sm:p-6`,ref:p,children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0 mb-6",children:[c.jsx("h1",{className:`text-xl font-semibold ${f(d,"text","primary")}`,children:"Financial Dashboard"}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full sm:w-auto",children:[c.jsxs("div",{className:"relative w-full sm:w-auto",children:[c.jsx(LLe,{selectsRange:!0,startDate:s,endDate:o,onChange:T=>i(T),className:`w-full sm:w-auto px-3 py-2 border ${f(d,"border","primary")} rounded-lg text-sm ${f(d,"background","primary")} ${f(d,"text","primary")} shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,placeholderText:"Select date range",dateFormat:"MMM d, yyyy"}),c.jsx(yc,{className:`absolute right-3 top-2.5 h-4 w-4 ${f(d,"text","muted")}`})]}),c.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[c.jsxs("button",{onClick:S,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 rounded-lg text-sm font-medium ${f(d,"text","primary")} ${f(d,"background","primary")} border ${f(d,"border","primary")} ${f(d,"interactive","hover","background")} transition-colors`,children:[c.jsx(uh,{className:"h-4 w-4 mr-1.5"}),"Export PDF"]}),c.jsxs("button",{onClick:w,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 rounded-lg text-sm font-medium ${f(d,"text","primary")} ${f(d,"background","primary")} border ${f(d,"border","primary")} ${f(d,"interactive","hover","background")} transition-colors`,children:[c.jsx(bv,{className:"h-4 w-4 mr-1.5"}),"Export CSV"]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:`${f(d,"background","primary")} rounded-xl shadow-sm p-4 border ${f(d,"border","primary")}`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm ${f(d,"text","muted")}`,children:"Date Range"}),c.jsx("p",{className:`text-2xl font-bold ${f(d,"text","primary")} mt-1`,children:s&&o?`${jt(s,"MMM d")} - ${jt(o,"MMM d")}`:jt(new Date,"MMM d, yyyy")})]}),c.jsx("div",{className:"bg-amber-50 p-3 rounded-full",children:c.jsx(yc,{className:"h-6 w-6 text-amber-500"})})]}),c.jsx("div",{className:"mt-3 flex items-center text-sm text-gray-500",children:c.jsx("span",{className:"flex items-center",children:s&&o?`${Math.ceil((o.getTime()-s.getTime())/(1e3*60*60*24))+1} days`:"Today"})})]}),c.jsxs("div",{className:`${f(d,"background","primary")} rounded-xl shadow-sm p-4 border ${f(d,"border","primary")}`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm ${f(d,"text","muted")}`,children:"Total Revenue"}),c.jsxs("p",{className:`text-2xl font-bold ${f(d,"text","primary")} mt-1`,children:[h,m.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),c.jsx("div",{className:"bg-blue-50 p-3 rounded-full",children:c.jsx(Xa,{className:"h-6 w-6 text-blue-500"})})]}),c.jsx("div",{className:"mt-3 flex items-center text-sm text-gray-500",children:c.jsxs("span",{className:"flex items-center text-green-500",children:[c.jsx(qae,{className:"h-4 w-4 mr-1"}),v," transactions"]})})]}),c.jsxs("div",{className:`${f(d,"background","primary")} rounded-xl shadow-sm p-4 border ${f(d,"border","primary")}`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm ${f(d,"text","muted")}`,children:"Most Popular Method"}),c.jsx("p",{className:`text-2xl font-bold ${f(d,"text","primary")} mt-1`,children:y?y.split("_").map(T=>T.charAt(0).toUpperCase()+T.slice(1)).join(" "):"N/A"})]}),c.jsx("div",{className:"bg-purple-50 p-3 rounded-full",children:c.jsx(Td,{className:"h-6 w-6 text-purple-500"})})]}),c.jsx("div",{className:"mt-3 flex items-center text-sm text-gray-500",children:c.jsxs("span",{className:"flex items-center",children:[((A=e.find(T=>T.method===y))==null?void 0:A.count)||0," transactions"]})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[c.jsx("div",{className:"lg:col-span-4",children:c.jsxs("div",{className:`${f(d,"background","primary")} rounded-xl shadow-sm p-5 border ${f(d,"border","primary")}`,children:[c.jsx("h2",{className:`text-base font-semibold ${f(d,"text","primary")} mb-4`,children:"Payment Methods Distribution"}),c.jsxs("div",{className:"relative h-64 mb-6",children:[c.jsx(ZG,{data:e.map(T=>({id:T.method,label:T.method,value:T.amount.toFixed(2),color:BLe(T.method)})),margin:{top:10,right:10,bottom:10,left:10},innerRadius:.5,padAngle:.7,cornerRadius:0,colors:{datum:"data.color"},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.2]]},enableArcLinkLabels:!1,enableArcLabels:!1,theme:{tooltip:{container:{background:d==="dark"?"#1f2937":"#ffffff",fontSize:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",borderRadius:"0.5rem",padding:"0.5rem"}}},tooltip:({datum:T})=>{const F=typeof T.label=="string"?T.label.split("_").map(M=>M.charAt(0).toUpperCase()+M.slice(1)).join(" "):"";return c.jsxs("div",{className:`p-2 ${f(d,"background","primary")} rounded-lg`,children:[c.jsx("div",{className:`font-medium ${f(d,"text","primary")}`,children:F}),c.jsxs("div",{className:`text-sm ${f(d,"text","secondary")}`,children:[h,T.value.toLocaleString(void 0,{minimumFractionDigits:2}),c.jsxs("span",{className:`${f(d,"text","muted")} ml-1`,children:["(",(T.value/m*100).toFixed(1),"%)"]})]})]})}}),c.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center pointer-events-none",children:[c.jsxs("div",{className:`${f(d,"text","primary")} font-bold text-sm`,children:[h,m.toLocaleString(void 0,{minimumFractionDigits:0})]}),c.jsx("div",{className:`${f(d,"text","muted")} text-xs`,children:"Total"})]})]}),c.jsx("div",{className:"space-y-3",children:e.map(T=>{const F=nN(T.method);return c.jsxs("div",{className:`flex items-center space-x-3 p-2 rounded-lg ${f(d,"interactive","hover","background")} transition-colors`,children:[c.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${F.bg} ${F.border} border`,children:c.jsx("span",{className:`${F.text} text-sm font-medium`,children:T.method.split("_").map(M=>M[0]).join("").toUpperCase()})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("div",{className:"truncate",children:c.jsx("p",{className:`text-sm font-medium ${f(d,"text","secondary")} truncate`,children:T.method.split("_").map(M=>M.charAt(0).toUpperCase()+M.slice(1)).join(" ")})}),c.jsxs("p",{className:`text-sm font-semibold ${f(d,"text","primary")} ml-2`,children:[h,T.amount.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),c.jsxs("div",{className:"flex justify-between items-center mt-1",children:[c.jsxs("div",{className:`text-xs ${f(d,"text","muted")}`,children:[T.count," transaction",T.count!==1?"s":""]}),c.jsxs("div",{className:`text-xs ${f(d,"text","muted")}`,children:[(T.amount/m*100).toFixed(1),"%"]})]})]})]},T.method)})})]})}),c.jsxs("div",{className:"lg:col-span-8",children:[c.jsxs("div",{className:`hidden sm:block ${f(d,"background","primary")} rounded-xl shadow-sm border ${f(d,"border","primary")} overflow-hidden`,children:[c.jsx("div",{className:`p-5 border-b ${f(d,"border","primary")}`,children:c.jsx("h2",{className:`text-base font-semibold ${f(d,"text","primary")}`,children:"Transaction History"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("div",{className:"min-w-[600px]",children:[c.jsx("div",{className:`sticky top-0 ${f(d,"background","secondary")} z-10`,children:c.jsxs("div",{className:`grid grid-cols-4 gap-4 p-4 text-sm font-medium ${f(d,"text","muted")} border-b ${f(d,"border","primary")}`,children:[c.jsx("div",{children:"Order"}),c.jsx("div",{children:"Amount"}),c.jsx("div",{children:"Method"}),c.jsx("div",{children:"Date"})]})}),c.jsx("div",{className:`divide-y ${f(d,"border","primary")}`,children:r.map(T=>{var M,H;const F=nN(T.payment_method);return c.jsxs("div",{className:`grid grid-cols-4 gap-4 items-center p-4 text-sm ${f(d,"interactive","hover","background")} transition-colors ${T.status==="cancelled"?"opacity-75":""}`,children:[c.jsxs("div",{className:"truncate",children:[c.jsx(Wr,{to:`/dashboard/${T.reference_type==="sales_order"?"sales":"orders"}/${T.reference_id}`,className:`${T.status==="cancelled"?`line-through ${f(d,"text","muted")}`:"text-blue-600"} hover:underline font-medium truncate block`,children:((M=T.order_details)==null?void 0:M.order_number)||"N/A"}),c.jsx("div",{className:`text-xs ${f(d,"text","muted")} truncate`,children:((H=T.order_details)==null?void 0:H.client_name)||"N/A"})]}),c.jsxs("div",{className:`font-medium ${T.status==="cancelled"?`line-through ${f(d,"text","muted")}`:f(d,"text","primary")}`,children:[h,T.amount.toLocaleString(void 0,{minimumFractionDigits:2})]}),c.jsx("div",{children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.bg} ${F.text} ${F.border} border`,children:T.payment_method.split("_").map(z=>z.charAt(0).toUpperCase()+z.slice(1)).join(" ")})}),c.jsxs("div",{className:`truncate ${T.status==="cancelled"?`line-through ${f(d,"text","muted")}`:f(d,"text","muted")}`,children:[jt(new Date(T.created_at),"MMM d, yyyy"),c.jsx("div",{className:"text-xs",children:jt(new Date(T.created_at),"h:mm a")})]})]},T.id)})}),c.jsxs("div",{className:`grid grid-cols-4 gap-4 items-center p-4 text-sm ${f(d,"background","secondary")} border-t ${f(d,"border","primary")}`,children:[c.jsx("div",{className:`font-medium ${f(d,"text","secondary")}`,children:"Total"}),c.jsxs("div",{className:`font-medium ${f(d,"text","primary")}`,children:[h,r.filter(T=>{var F;return T.status!=="cancelled"&&((F=T.order_details)==null?void 0:F.status)!=="cancelled"}).reduce((T,F)=>T+F.amount,0).toLocaleString(void 0,{minimumFractionDigits:2})]}),c.jsxs("div",{className:`font-medium ${f(d,"text","secondary")}`,children:[r.filter(T=>{var F;return T.status!=="cancelled"&&((F=T.order_details)==null?void 0:F.status)!=="cancelled"}).length," transactions"]}),c.jsx("div",{className:`font-medium ${f(d,"text","secondary")}`,children:s&&o?`${jt(s,"MMM d")} - ${jt(o,"MMM d, yyyy")}`:jt(new Date,"MMM d, yyyy")})]})]})})]}),N&&c.jsx("div",{className:"sm:hidden mt-4",children:c.jsxs("div",{className:`${f(d,"background","primary")} rounded-xl shadow-sm border ${f(d,"border","primary")} overflow-hidden`,children:[c.jsxs("div",{className:`p-4 border-b ${f(d,"border","primary")} flex justify-between items-center`,children:[c.jsx("h3",{className:`text-base font-semibold ${f(d,"text","primary")}`,children:"Transaction History"}),c.jsxs("div",{className:`text-xs ${f(d,"text","muted")}`,children:[r.filter(T=>{var F;return T.status!=="cancelled"&&((F=T.order_details)==null?void 0:F.status)!=="cancelled"}).length," transactions"]})]}),c.jsx("div",{className:"p-4 space-y-4",children:r.map(T=>{var M,H;const F=nN(T.payment_method);return c.jsxs("div",{className:`${f(d,"background","primary")} rounded-lg p-4 border ${f(d,"border","primary")} ${T.status==="cancelled"?"opacity-75":""}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-3",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx(Wr,{to:`/dashboard/${T.reference_type==="sales_order"?"sales":"orders"}/${T.reference_id}`,className:`${T.status==="cancelled"?`line-through ${f(d,"text","muted")}`:"text-blue-600"} hover:underline font-medium block truncate`,children:((M=T.order_details)==null?void 0:M.order_number)||"N/A"}),c.jsx("div",{className:`text-xs ${f(d,"text","muted")} truncate`,children:((H=T.order_details)==null?void 0:H.client_name)||"N/A"})]}),c.jsxs("div",{className:`font-medium ml-2 ${T.status==="cancelled"?`line-through ${f(d,"text","muted")}`:f(d,"text","primary")}`,children:[h,T.amount.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.bg} ${F.text} ${F.border} border`,children:T.payment_method.split("_").map(z=>z.charAt(0).toUpperCase()+z.slice(1)).join(" ")}),c.jsxs("div",{className:`text-xs ${T.status==="cancelled"?`line-through ${f(d,"text","muted")}`:f(d,"text","muted")}`,children:[jt(new Date(T.created_at),"MMM d, yyyy"),c.jsx("div",{className:"text-[10px]",children:jt(new Date(T.created_at),"h:mm a")})]})]})]},T.id)})}),c.jsxs("div",{className:`p-4 border-t ${f(d,"border","primary")} ${f(d,"background","secondary")}`,children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("div",{className:`font-medium ${f(d,"text","secondary")}`,children:"Total"}),c.jsxs("div",{className:`font-medium ${f(d,"text","primary")}`,children:[h,r.filter(T=>{var F;return T.status!=="cancelled"&&((F=T.order_details)==null?void 0:F.status)!=="cancelled"}).reduce((T,F)=>T+F.amount,0).toLocaleString(void 0,{minimumFractionDigits:2})]})]}),c.jsx("div",{className:`text-xs ${f(d,"text","muted")} mt-1 text-right`,children:s&&o?`${jt(s,"MMM d")} - ${jt(o,"MMM d, yyyy")}`:jt(new Date,"MMM d, yyyy")})]})]})})]})]})]})})}function HLe(){var N;const[e,t]=L.useState([]),[r,n]=L.useState(!0),[a,i]=L.useState(!1),[s,o]=L.useState(null),[l,u]=L.useState({name:"",cost:0}),{organization:d}=ir(),{confirm:f,addToast:h}=Or(),{theme:p,getThemeStyle:m}=Yt(),g=d?((N=sn[d.currency])==null?void 0:N.symbol)||d.currency:"";L.useEffect(()=>{d&&v()},[d]);const v=async()=>{try{const{data:_,error:C}=await We.from("services").select("*").eq("organization_id",d.id).order("name");if(C)throw C;t(_||[])}catch(_){console.error("Error loading services:",_),h({type:"error",title:"Error",message:"Failed to load services"})}finally{n(!1)}},x=async()=>{if(!(!d||!l.name.trim()||!l.cost))try{const{data:_,error:C}=await We.from("services").insert([{organization_id:d.id,name:l.name.trim(),cost:l.cost}]).select().single();if(C)throw C;t(k=>[...k,_]),u({name:"",cost:0}),i(!1),h({type:"success",title:"Service Added",message:"The service has been added successfully."})}catch(_){console.error("Error adding service:",_),h({type:"error",title:"Error",message:"Failed to add service. Please try again."})}},y=async _=>{const C=e.find(k=>k.id===_);if(C)try{const{error:k}=await We.from("services").update({name:C.name,cost:C.cost}).eq("id",_);if(k)throw k;o(null),h({type:"success",title:"Service Updated",message:"The service has been updated successfully."})}catch(k){console.error("Error updating service:",k),h({type:"error",title:"Error",message:"Failed to update service. Please try again."})}},b=async _=>{if(await f({title:"Delete Service",message:"Are you sure you want to delete this service? This action cannot be undone.",type:"danger",confirmText:"Delete",cancelText:"Cancel"}))try{const{error:k}=await We.from("services").delete().eq("id",_);if(k)throw k;t(w=>w.filter(S=>S.id!==_)),h({type:"success",title:"Service Deleted",message:"The service has been deleted successfully."})}catch(k){console.error("Error deleting service:",k),h({type:"error",title:"Error",message:"Failed to delete service. Please try again."})}};return r?c.jsx("div",{className:`flex items-center justify-center min-h-[200px] ${m(p,"background","primary")}`,children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:`space-y-6 p-4 ${m(p,"background","primary")}`,children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:`text-lg font-medium ${m(p,"text","primary")}`,children:"Services"}),c.jsxs("button",{onClick:()=>i(!0),className:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium ${m(p,"text","inverse")} bg-blue-600 hover:bg-blue-700`,children:[c.jsx(na,{className:"h-4 w-4 mr-2"}),"Add Service"]})]}),a&&c.jsxs("div",{className:`${m(p,"background","secondary")} shadow rounded-lg p-6`,children:[c.jsx("h3",{className:`text-lg font-medium ${m(p,"text","primary")} mb-4`,children:"Add New Service"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium ${m(p,"text","secondary")} mb-2`,children:"Service Name *"}),c.jsx("input",{type:"text",value:l.name,onChange:_=>u(C=>({...C,name:_.target.value})),className:`block w-full rounded-md border ${m(p,"border","secondary")} py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm ${m(p,"background","primary")} ${m(p,"text","primary")}`,placeholder:"Enter service name"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:`block text-sm font-medium ${m(p,"text","secondary")} mb-2`,children:["Cost (",g,") *"]}),c.jsx("input",{type:"number",value:l.cost||"",onChange:_=>u(C=>({...C,cost:parseFloat(_.target.value)||0})),className:`block w-full rounded-md border ${m(p,"border","secondary")} py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm ${m(p,"background","primary")} ${m(p,"text","primary")}`,min:"0",step:"0.01",placeholder:"Enter service cost"})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[c.jsx("button",{onClick:()=>i(!1),className:`px-6 py-2.5 text-sm font-medium ${m(p,"text","secondary")} ${m(p,"interactive","hover","text")} border ${m(p,"border","secondary")} rounded-lg ${m(p,"interactive","hover","background")} transition-colors duration-200`,children:"Cancel"}),c.jsxs("button",{onClick:x,disabled:!l.name.trim()||!l.cost,className:"px-6 py-2.5 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400 flex items-center transition-colors duration-200 shadow-sm",children:[c.jsx(na,{className:"h-4 w-4 mr-2"}),"Add Service"]})]})]})]}),c.jsx("div",{className:`${m(p,"background","secondary")} shadow rounded-lg overflow-hidden`,children:e.length===0?c.jsx("div",{className:`text-center ${m(p,"text","muted")} py-8`,children:"No services added yet. Start by adding a new service."}):c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:m(p,"background","accent"),children:c.jsxs("tr",{children:[c.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${m(p,"text","muted")} uppercase tracking-wider`,children:"Service Name"}),c.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${m(p,"text","muted")} uppercase tracking-wider`,children:"Cost"}),c.jsx("th",{className:`px-6 py-3 text-right text-xs font-medium ${m(p,"text","muted")} uppercase tracking-wider`,children:"Actions"})]})}),c.jsx("tbody",{className:`${m(p,"background","secondary")} divide-y ${m(p,"border","primary")}`,children:e.map(_=>c.jsxs("tr",{children:[c.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${m(p,"text","primary")}`,children:s===_.id?c.jsx("input",{type:"text",value:_.name,onChange:C=>t(k=>k.map(w=>w.id===_.id?{...w,name:C.target.value}:w)),className:`block w-full rounded-md ${m(p,"border","secondary")} shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ${m(p,"background","primary")} ${m(p,"text","primary")}`}):_.name}),c.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${m(p,"text","primary")}`,children:s===_.id?c.jsx("input",{type:"number",value:_.cost,onChange:C=>t(k=>k.map(w=>w.id===_.id?{...w,cost:parseFloat(C.target.value)||0}:w)),className:`block w-full rounded-md ${m(p,"border","secondary")} shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ${m(p,"background","primary")} ${m(p,"text","primary")}`,min:"0",step:"0.01"}):`${g} ${_.cost.toFixed(2)}`}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s===_.id?c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx("button",{onClick:()=>y(_.id),className:"text-green-600 hover:text-green-900",children:"Save"}),c.jsx("button",{onClick:()=>{o(null),v()},className:`${m(p,"text","secondary")} ${m(p,"interactive","hover","text")}`,children:"Cancel"})]}):c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx("button",{onClick:()=>o(_.id),className:"text-blue-600 hover:text-blue-900",children:c.jsx(Ol,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>b(_.id),className:"text-red-600 hover:text-red-900",children:c.jsx(Hi,{className:"h-4 w-4"})})]})})]},_.id))})]})})]})}function qLe({onClose:e,onSuccess:t}){const{organization:r}=ir(),{addToast:n}=Or(),{theme:a,getThemeStyle:i}=Yt(),[s,o]=L.useState(!1),[l,u]=L.useState([]),[d,f]=L.useState(null),[h,p]=L.useState(null),[m,g]=L.useState({name:"",category:"",description:"",unit_price:"",stock_quantity:"",reorder_point:""});L.useEffect(()=>{r&&v()},[r]);const v=async()=>{if(r!=null&&r.id)try{const{data:N,error:_}=await We.from("categories").select("name").eq("organization_id",r.id).order("name");if(_)throw _;u((N==null?void 0:N.map(C=>C.name))||[])}catch(N){console.error("Error loading categories:",N),n({type:"error",title:"Error",message:"Failed to load categories"})}},x=N=>{var C;const _=(C=N.target.files)==null?void 0:C[0];if(_){f(_);const k=new FileReader;k.onloadend=()=>{p(k.result)},k.readAsDataURL(_)}},y=async()=>{if(!d||!(r!=null&&r.id))return null;try{const N=d.name.split(".").pop(),_=`${Date.now()}.${N}`,C=`products/${r.id}/${_}`,{error:k}=await We.storage.from("product-images").upload(C,d);if(k)return console.error("Error uploading image:",k),n({type:"error",title:"Error",message:"Failed to upload image"}),null;const{data:w}=We.storage.from("product-images").getPublicUrl(C);return w.publicUrl}catch(N){return console.error("Error in image upload process:",N),n({type:"error",title:"Error",message:"Failed to process image upload"}),null}},b=async()=>{if(!r)return;const N=parseFloat(m.unit_price),_=parseInt(m.stock_quantity),C=parseInt(m.reorder_point);if(isNaN(N)||N<0){n({type:"error",title:"Invalid Price",message:"Please enter a valid unit price"});return}if(isNaN(_)||_<0){n({type:"error",title:"Invalid Quantity",message:"Please enter a valid stock quantity"});return}if(isNaN(C)||C<0){n({type:"error",title:"Invalid Reorder Point",message:"Please enter a valid reorder point"});return}if(!m.category){n({type:"error",title:"Invalid Category",message:"Please select or enter a category"});return}if(!m.name.trim()){n({type:"error",title:"Invalid Name",message:"Please enter a product name"});return}o(!0);try{let k=null;d&&(k=await y());const{error:w}=await We.from("products").insert([{organization_id:r.id,name:m.name.trim(),category:m.category.trim(),description:m.description.trim()||null,unit_price:N,stock_quantity:_,reorder_point:C,image_url:k}]);if(w)throw w;n({type:"success",title:"Product Created",message:"Product has been created successfully"}),t(),e()}catch(k){console.error("Error creating product:",k),n({type:"error",title:"Error",message:"Failed to create product"})}finally{o(!1)}};return c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:`flex justify-between items-center p-4 border-b ${i(a,"border","primary")}`,children:[c.jsx("h3",{className:`text-sm font-medium ${i(a,"text","primary")}`,children:"Create Product"}),c.jsx("button",{type:"button",onClick:e,className:`${i(a,"text","muted")} hover:${i(a,"text","primary")}`,children:c.jsx(dr,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium ${i(a,"text","secondary")}`,children:"Product Image"}),c.jsxs("div",{className:"mt-1 flex items-center space-x-4",children:[c.jsx("div",{className:`w-24 h-24 border-2 border-dashed rounded-lg flex items-center justify-center ${i(a,"border","primary")} ${h?"border-none":""}`,children:h?c.jsx("img",{src:h,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}):c.jsx(uW,{className:`w-8 h-8 ${i(a,"text","muted")}`})}),c.jsxs("div",{children:[c.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"hidden",id:"product-image"}),c.jsx("label",{htmlFor:"product-image",className:"inline-flex items-center px-3 py-1.5 border border-transparent rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-1 focus:ring-blue-500 cursor-pointer",children:h?"Change Image":"Upload Image"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium ${i(a,"text","secondary")}`,children:"Name *"}),c.jsx("input",{type:"text",value:m.name,onChange:N=>g(_=>({..._,name:N.target.value})),className:`mt-1 block w-full rounded-md border ${i(a,"border","primary")} py-1.5 px-2 text-xs ${i(a,"text","primary")} ${i(a,"background","primary")} focus:ring-1 focus:ring-blue-500 focus:border-blue-500`})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium ${i(a,"text","secondary")}`,children:"Category *"}),c.jsxs("select",{value:m.category,onChange:N=>g(_=>({..._,category:N.target.value})),className:`mt-1 block w-full rounded-md border ${i(a,"border","primary")} py-1.5 px-2 text-xs ${i(a,"text","primary")} ${i(a,"background","primary")} focus:ring-1 focus:ring-blue-500 focus:border-blue-500`,children:[c.jsx("option",{value:"",children:"Select a category"}),l.map(N=>c.jsx("option",{value:N,children:N},N))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium ${i(a,"text","secondary")}`,children:"Description"}),c.jsx("textarea",{value:m.description,onChange:N=>g(_=>({..._,description:N.target.value})),rows:3,className:`mt-1 block w-full rounded-md border ${i(a,"border","primary")} py-1.5 px-2 text-xs ${i(a,"text","primary")} ${i(a,"background","primary")} focus:ring-1 focus:ring-blue-500 focus:border-blue-500`})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium ${i(a,"text","secondary")}`,children:"Unit Price *"}),c.jsx("input",{type:"number",min:"0",step:"0.01",value:m.unit_price,onChange:N=>g(_=>({..._,unit_price:N.target.value})),className:`mt-1 block w-full rounded-md border ${i(a,"border","primary")} py-1.5 px-2 text-xs ${i(a,"text","primary")} ${i(a,"background","primary")} focus:ring-1 focus:ring-blue-500 focus:border-blue-500`})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium ${i(a,"text","secondary")}`,children:"Stock Quantity *"}),c.jsx("input",{type:"number",min:"0",step:"1",value:m.stock_quantity,onChange:N=>g(_=>({..._,stock_quantity:N.target.value})),className:`mt-1 block w-full rounded-md border ${i(a,"border","primary")} py-1.5 px-2 text-xs ${i(a,"text","primary")} ${i(a,"background","primary")} focus:ring-1 focus:ring-blue-500 focus:border-blue-500`})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium ${i(a,"text","secondary")}`,children:"Reorder Point *"}),c.jsx("input",{type:"number",min:"0",step:"1",value:m.reorder_point,onChange:N=>g(_=>({..._,reorder_point:N.target.value})),className:`mt-1 block w-full rounded-md border ${i(a,"border","primary")} py-1.5 px-2 text-xs ${i(a,"text","primary")} ${i(a,"background","primary")} focus:ring-1 focus:ring-blue-500 focus:border-blue-500`})]})]})}),c.jsxs("div",{className:`flex justify-end gap-2 p-4 border-t ${i(a,"border","primary")}`,children:[c.jsx("button",{type:"button",onClick:e,className:`px-3 py-1.5 text-xs font-medium ${i(a,"text","primary")} hover:${i(a,"text","secondary")}`,children:"Cancel"}),c.jsx("button",{onClick:b,disabled:s,className:"inline-flex items-center px-3 py-1.5 border border-transparent rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:bg-gray-400",children:s?c.jsx(zi,{className:"h-3.5 w-3.5 animate-spin"}):"Create Product"})]})]})}function YLe({product:e,onClose:t,onUpdate:r}){var M;const[n,a]=L.useState(!1),[i,s]=L.useState({...e}),[o,l]=L.useState([]),[u,d]=L.useState(!1),[f,h]=L.useState(!1),[p,m]=L.useState(!1),[g,v]=L.useState(null),[x,y]=L.useState(e.image_url||null),{organization:b}=ir(),{addToast:N}=Or(),{theme:_,getThemeStyle:C}=Yt(),k=b!=null&&b.currency?((M=sn[b.currency])==null?void 0:M.symbol)||b.currency:"";L.useEffect(()=>{w()},[b]);const w=async()=>{if(b!=null&&b.id)try{const{data:H,error:z}=await We.from("categories").select("*").eq("organization_id",b.id).order("name");if(z)throw z;l(H||[])}catch(H){console.error("Error loading categories:",H),N({type:"error",title:"Error",message:"Failed to load categories"})}},S=H=>{const{name:z,value:Y}=H.target,G={...i,[z]:z==="unit_price"||z==="reorder_point"||z==="stock_quantity"?parseFloat(Y):Y};s(G),n&&r()},P=H=>{if(H.target.files&&H.target.files[0]){const z=H.target.files[0];v(z);const Y=new FileReader;Y.onloadend=()=>{y(Y.result)},Y.readAsDataURL(z)}},A=async()=>{if(!g||!(b!=null&&b.id))return null;try{const H=g.name.split(".").pop(),z=`${e.id}-${Date.now()}.${H}`,Y=`products/${b.id}/${z}`,{error:G}=await We.storage.from("product-images").upload(Y,g);if(G)return console.error("Error uploading image:",G),N({type:"error",title:"Error",message:"Failed to upload image"}),null;const{data:I}=We.storage.from("product-images").getPublicUrl(Y);return I.publicUrl}catch(H){return console.error("Error in image upload process:",H),N({type:"error",title:"Error",message:"Failed to process image upload"}),null}},T=async()=>{d(!0);try{let H=i.image_url;if(g){const Y=await A();Y?H=Y:N({type:"warning",title:"Warning",message:"Failed to upload new image. Keeping existing image."})}const{error:z}=await We.from("products").update({...i,image_url:H}).eq("id",e.id);if(z)throw z;N({type:"success",title:"Product Updated",message:"Product has been updated successfully."}),a(!1),r()}catch(H){console.error("Error updating product:",H),N({type:"error",title:"Error",message:"Failed to update product"})}finally{d(!1)}},F=async()=>{h(!0);try{const{error:H}=await We.from("products").delete().eq("id",e.id);if(H)throw H;if(e.image_url)try{const z=e.image_url.split("/").pop();z&&await We.storage.from("product-images").remove([`products/${b==null?void 0:b.id}/${z}`])}catch(z){console.error("Error deleting product image:",z)}N({type:"success",title:"Product Deleted",message:"Product has been deleted successfully."}),r(),t()}catch(H){console.error("Error deleting product:",H),N({type:"error",title:"Error",message:"Failed to delete product"})}finally{h(!1),m(!1)}};return c.jsxs("div",{className:`h-full flex flex-col ${C(_,"background","primary")}`,children:[c.jsxs("div",{className:`flex justify-between items-center p-4 border-b ${C(_,"border","primary")}`,children:[c.jsx("h2",{className:`text-sm font-medium ${C(_,"text","primary")}`,children:"Product Details"}),c.jsxs("div",{className:"flex items-center gap-2",children:[n?c.jsxs("button",{onClick:T,disabled:u,className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:[c.jsx(iie,{className:"h-3.5 w-3.5 mr-1"}),"Save"]}):c.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:[c.jsx(Ol,{className:"h-3.5 w-3.5 mr-1"}),"Edit"]}),c.jsx("button",{onClick:t,className:`p-1.5 rounded-md ${C(_,"background","accent")} ${C(_,"text","muted")} hover:${C(_,"text","primary")}`,children:c.jsx(dr,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:`h-32 w-32 rounded-lg ${C(_,"background","accent")} flex items-center justify-center overflow-hidden mb-2`,children:x?c.jsx("img",{src:x,alt:e.name,className:"h-full w-full object-cover"}):c.jsx(uW,{className:`h-12 w-12 ${C(_,"text","muted")}`})}),n&&c.jsx("div",{className:"mt-2",children:c.jsxs("label",{className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200 cursor-pointer",children:[c.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"hidden"}),"Change Image"]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium mb-1 ${C(_,"text","muted")}`,children:"Product Name"}),n?c.jsx("input",{type:"text",name:"name",value:i.name,onChange:S,className:`w-full px-3 py-2 rounded-md border text-sm ${C(_,"border","primary")} ${C(_,"background","primary")} ${C(_,"text","primary")}`}):c.jsx("p",{className:`text-sm ${C(_,"text","primary")}`,children:i.name})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium mb-1 ${C(_,"text","muted")}`,children:"Description"}),n?c.jsx("textarea",{name:"description",value:i.description||"",onChange:S,rows:3,className:`w-full px-3 py-2 rounded-md border text-sm ${C(_,"border","primary")} ${C(_,"background","primary")} ${C(_,"text","primary")}`}):c.jsx("p",{className:`text-sm ${C(_,"text","primary")}`,children:i.description||"No description provided"})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium mb-1 ${C(_,"text","muted")}`,children:"Category"}),n?c.jsx("select",{name:"category",value:i.category,onChange:S,className:`w-full px-3 py-2 rounded-md border text-sm ${C(_,"border","primary")} ${C(_,"background","primary")} ${C(_,"text","primary")}`,children:o.map(H=>c.jsx("option",{value:H.name,children:H.name},H.id))}):c.jsx("p",{className:`text-sm ${C(_,"text","primary")}`,children:i.category})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium mb-1 ${C(_,"text","muted")}`,children:"Current Stock"}),n?c.jsx("input",{type:"number",name:"stock_quantity",value:i.stock_quantity,onChange:S,min:"0",className:`w-full px-3 py-2 rounded-md border text-sm ${C(_,"border","primary")} ${C(_,"background","primary")} ${C(_,"text","primary")}`}):c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pa,{className:`h-4 w-4 ${i.stock_quantity<=i.reorder_point?"text-red-500":"text-green-500"}`}),c.jsxs("p",{className:`text-sm font-medium ${i.stock_quantity<=i.reorder_point?"text-red-500":C(_,"text","primary")}`,children:[i.stock_quantity," units"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium mb-1 ${C(_,"text","muted")}`,children:"Reorder Point"}),n?c.jsx("input",{type:"number",name:"reorder_point",value:i.reorder_point,onChange:S,min:"0",className:`w-full px-3 py-2 rounded-md border text-sm ${C(_,"border","primary")} ${C(_,"background","primary")} ${C(_,"text","primary")}`}):c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ad,{className:`h-4 w-4 ${C(_,"text","muted")}`}),c.jsxs("p",{className:`text-sm ${C(_,"text","primary")}`,children:[i.reorder_point," units"]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium mb-1 ${C(_,"text","muted")}`,children:"Unit Price"}),n?c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:`absolute left-3 top-2 ${C(_,"text","muted")}`,children:k}),c.jsx("input",{type:"number",name:"unit_price",value:i.unit_price,onChange:S,min:"0",step:"0.01",className:`w-full pl-8 pr-3 py-2 rounded-md border text-sm ${C(_,"border","primary")} ${C(_,"background","primary")} ${C(_,"text","primary")}`})]}):c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Xa,{className:`h-4 w-4 ${C(_,"text","muted")}`}),c.jsxs("p",{className:`text-sm ${C(_,"text","primary")}`,children:[k," ",i.unit_price.toFixed(2)]})]})]})]})]})}),c.jsx("div",{className:`p-4 border-t ${C(_,"border","primary")}`,children:p?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:`text-sm font-medium ${C(_,"text","primary")}`,children:"Confirm Deletion"}),c.jsx("button",{onClick:()=>m(!1),className:`p-1 rounded-md ${C(_,"background","accent")} ${C(_,"text","muted")} hover:${C(_,"text","primary")}`,children:c.jsx(dr,{className:"h-4 w-4"})})]}),c.jsx("p",{className:`text-sm ${C(_,"text","primary")}`,children:"Are you sure you want to delete this product? This action cannot be undone."}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:F,disabled:f,className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium text-white bg-red-600 hover:bg-red-700 transition-colors duration-200",children:[c.jsx(Hi,{className:"h-3.5 w-3.5 mr-1"}),f?"Deleting...":"Yes, Delete"]}),c.jsx("button",{onClick:()=>m(!1),className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 transition-colors duration-200",children:"Cancel"})]})]}):c.jsx("div",{className:"flex justify-center",children:c.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium text-red-600 bg-red-50 hover:bg-red-100 transition-colors duration-200",children:[c.jsx(Hi,{className:"h-3.5 w-3.5 mr-1"}),"Delete Product"]})})})]})}function VLe(e){return e==null}var GLe=VLe;const _r=hr(GLe);var LK={exports:{}},Jr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OP=Symbol.for("react.element"),$P=Symbol.for("react.portal"),Gk=Symbol.for("react.fragment"),Kk=Symbol.for("react.strict_mode"),Xk=Symbol.for("react.profiler"),Qk=Symbol.for("react.provider"),Jk=Symbol.for("react.context"),KLe=Symbol.for("react.server_context"),Zk=Symbol.for("react.forward_ref"),e4=Symbol.for("react.suspense"),t4=Symbol.for("react.suspense_list"),r4=Symbol.for("react.memo"),n4=Symbol.for("react.lazy"),XLe=Symbol.for("react.offscreen"),IK;IK=Symbol.for("react.module.reference");function yo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case OP:switch(e=e.type,e){case Gk:case Xk:case Kk:case e4:case t4:return e;default:switch(e=e&&e.$$typeof,e){case KLe:case Jk:case Zk:case n4:case r4:case Qk:return e;default:return t}}case $P:return t}}}Jr.ContextConsumer=Jk;Jr.ContextProvider=Qk;Jr.Element=OP;Jr.ForwardRef=Zk;Jr.Fragment=Gk;Jr.Lazy=n4;Jr.Memo=r4;Jr.Portal=$P;Jr.Profiler=Xk;Jr.StrictMode=Kk;Jr.Suspense=e4;Jr.SuspenseList=t4;Jr.isAsyncMode=function(){return!1};Jr.isConcurrentMode=function(){return!1};Jr.isContextConsumer=function(e){return yo(e)===Jk};Jr.isContextProvider=function(e){return yo(e)===Qk};Jr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===OP};Jr.isForwardRef=function(e){return yo(e)===Zk};Jr.isFragment=function(e){return yo(e)===Gk};Jr.isLazy=function(e){return yo(e)===n4};Jr.isMemo=function(e){return yo(e)===r4};Jr.isPortal=function(e){return yo(e)===$P};Jr.isProfiler=function(e){return yo(e)===Xk};Jr.isStrictMode=function(e){return yo(e)===Kk};Jr.isSuspense=function(e){return yo(e)===e4};Jr.isSuspenseList=function(e){return yo(e)===t4};Jr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Gk||e===Xk||e===Kk||e===e4||e===t4||e===XLe||typeof e=="object"&&e!==null&&(e.$$typeof===n4||e.$$typeof===r4||e.$$typeof===Qk||e.$$typeof===Jk||e.$$typeof===Zk||e.$$typeof===IK||e.getModuleId!==void 0)};Jr.typeOf=yo;LK.exports=Jr;var QLe=LK.exports,JLe=Hl,ZLe=nl,eIe="[object Number]";function tIe(e){return typeof e=="number"||ZLe(e)&&JLe(e)==eIe}var RK=tIe;const rIe=hr(RK);var nIe=RK;function aIe(e){return nIe(e)&&e!=+e}var iIe=aIe;const d1=hr(iIe);var oo=function(t){return t===0?0:t>0?1:-1},wf=function(t){return $m(t)&&t.indexOf("%")===t.length-1},_t=function(t){return rIe(t)&&!d1(t)},Sa=function(t){return _t(t)||$m(t)},sIe=0,a4=function(t){var r=++sIe;return"".concat(t||"").concat(r)},us=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_t(t)&&!$m(t))return n;var i;if(wf(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return d1(i)&&(i=n),a&&i>r&&(i=r),i},k0=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},oIe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},TL=function(t,r){return _t(t)&&_t(r)?function(n){return t+n*(r-t)}:function(){return r}};function YC(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ra(n,t))===r})}function VC(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function GC(e){"@babel/helpers - typeof";return GC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GC(e)}var lIe=["viewBox","children"],cIe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],AL=["points","pathLength"],aN={svg:lIe,polygon:AL,polyline:AL},DP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],p_=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(L.isValidElement(t)&&(n=t.props),!Sm(n))return null;var a={};return Object.keys(n).forEach(function(i){DP.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},uIe=function(t,r,n){return function(a){return t(r,n,a),null}},i4=function(t,r,n){if(!Sm(t)||GC(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];DP.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=uIe(s,r,n))}),a},dIe=["children"],fIe=["children"];function EL(e,t){if(e==null)return{};var r=hIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var PL={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Tc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},OL=null,iN=null,MP=function e(t){if(t===OL&&Array.isArray(iN))return iN;var r=[];return L.Children.forEach(t,function(n){_r(n)||(QLe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),iN=r,OL=t,r};function El(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Tc(a)}):n=[Tc(t)],MP(e).forEach(function(a){var i=ra(a,"type.displayName")||ra(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Qs(e,t){var r=El(e,t);return r&&r[0]}var $L=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!_t(n)||n<=0||!_t(a)||a<=0)},pIe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],mIe=function(t){return t&&t.type&&$m(t.type)&&pIe.indexOf(t.type)>=0},gIe=function(t,r,n,a){var i,s=(i=aN==null?void 0:aN[a])!==null&&i!==void 0?i:[];return!ar(t)&&(a&&s.includes(r)||cIe.includes(r))||n&&DP.includes(r)},ur=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(L.isValidElement(t)&&(a=t.props),!Sm(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;gIe((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},KC=function e(t,r){if(t===r)return!0;var n=L.Children.count(t);if(n!==L.Children.count(r))return!1;if(n===0)return!0;if(n===1)return DL(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!DL(i,s))return!1}return!0},DL=function(t,r){if(_r(t)&&_r(r))return!0;if(!_r(t)&&!_r(r)){var n=t.props||{},a=n.children,i=EL(n,dIe),s=r.props||{},o=s.children,l=EL(s,fIe);return a&&o?VC(i,l)&&KC(a,o):!a&&!o?VC(i,l):!1}return!1},ML=function(t,r){var n=[],a={};return MP(t).forEach(function(i,s){if(mIe(i))n.push(i);else if(i){var o=Tc(i.type),l=r[o]||{},u=l.handler,d=l.once;if(u&&(!d||!a[o])){var f=u(i,o,s);n.push(f),a[o]=!0}}}),n},xIe=function(t){var r=t&&t.type;return r&&PL[r]?PL[r]:null},vIe=function(t,r){return MP(r).indexOf(t)},yIe=["children","width","height","viewBox","className","style","title","desc"];function XC(){return XC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XC.apply(this,arguments)}function bIe(e,t){if(e==null)return{};var r=wIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QC(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,u=bIe(e,yIe),d=a||{width:r,height:n,x:0,y:0},f=Ht("recharts-surface",i);return we.createElement("svg",XC({},ur(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),we.createElement("title",null,o),we.createElement("desc",null,l),t)}var _Ie=["children","className"];function JC(){return JC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JC.apply(this,arguments)}function kIe(e,t){if(e==null)return{};var r=SIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Wn=we.forwardRef(function(e,t){var r=e.children,n=e.className,a=kIe(e,_Ie),i=Ht("recharts-layer",n);return we.createElement("g",JC({className:i},ur(a,!0),{ref:t}),r)}),Ac=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function NIe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var jIe=NIe,CIe=jIe;function TIe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:CIe(e,t,r)}var AIe=TIe,EIe="\\ud800-\\udfff",PIe="\\u0300-\\u036f",OIe="\\ufe20-\\ufe2f",$Ie="\\u20d0-\\u20ff",DIe=PIe+OIe+$Ie,MIe="\\ufe0e\\ufe0f",FIe="\\u200d",LIe=RegExp("["+FIe+EIe+DIe+MIe+"]");function IIe(e){return LIe.test(e)}var BK=IIe;function RIe(e){return e.split("")}var BIe=RIe,UK="\\ud800-\\udfff",UIe="\\u0300-\\u036f",WIe="\\ufe20-\\ufe2f",zIe="\\u20d0-\\u20ff",HIe=UIe+WIe+zIe,qIe="\\ufe0e\\ufe0f",YIe="["+UK+"]",ZC="["+HIe+"]",eT="\\ud83c[\\udffb-\\udfff]",VIe="(?:"+ZC+"|"+eT+")",WK="[^"+UK+"]",zK="(?:\\ud83c[\\udde6-\\uddff]){2}",HK="[\\ud800-\\udbff][\\udc00-\\udfff]",GIe="\\u200d",qK=VIe+"?",YK="["+qIe+"]?",KIe="(?:"+GIe+"(?:"+[WK,zK,HK].join("|")+")"+YK+qK+")*",XIe=YK+qK+KIe,QIe="(?:"+[WK+ZC+"?",ZC,zK,HK,YIe].join("|")+")",JIe=RegExp(eT+"(?="+eT+")|"+QIe+XIe,"g");function ZIe(e){return e.match(JIe)||[]}var eRe=ZIe,tRe=BIe,rRe=BK,nRe=eRe;function aRe(e){return rRe(e)?nRe(e):tRe(e)}var iRe=aRe,sRe=AIe,oRe=BK,lRe=iRe,cRe=f6;function uRe(e){return function(t){t=cRe(t);var r=oRe(t)?lRe(t):void 0,n=r?r[0]:t.charAt(0),a=r?sRe(r,1).join(""):t.slice(1);return n[e]()+a}}var dRe=uRe,fRe=dRe,hRe=fRe("toUpperCase"),pRe=hRe;const s4=hr(pRe);function Qv(e){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qv(e)}var mRe=["type","size","sizeType"];function tT(){return tT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tT.apply(this,arguments)}function FL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FL(Object(r),!0).forEach(function(n){gRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gRe(e,t,r){return t=xRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xRe(e){var t=vRe(e,"string");return Qv(t)=="symbol"?t:t+""}function vRe(e,t){if(Qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yRe(e,t){if(e==null)return{};var r=bRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var VK={symbolCircle:B6,symbolCross:v3e,symbolDiamond:b3e,symbolSquare:w3e,symbolStar:N3e,symbolTriangle:j3e,symbolWye:T3e},wRe=Math.PI/180,_Re=function(t){var r="symbol".concat(s4(t));return VK[r]||B6},kRe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*wRe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},SRe=function(t,r){VK["symbol".concat(s4(t))]=r},FP=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=yRe(t,mRe),u=LL(LL({},l),{},{type:n,size:i,sizeType:o}),d=function(){var v=_Re(n),x=A3e().type(v).size(kRe(i,o,n));return x()},f=u.className,h=u.cx,p=u.cy,m=ur(u,!0);return h===+h&&p===+p&&i===+i?we.createElement("path",tT({},m,{className:Ht("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};FP.registerSymbol=SRe;function zp(e){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(e)}function rT(){return rT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rT.apply(this,arguments)}function IL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NRe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IL(Object(r),!0).forEach(function(n){Jv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KK(n.key),n)}}function TRe(e,t,r){return t&&CRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ARe(e,t,r){return t=m_(t),ERe(e,GK()?Reflect.construct(t,r||[],m_(e).constructor):t.apply(e,r))}function ERe(e,t){if(t&&(zp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PRe(e)}function PRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GK=function(){return!!e})()}function m_(e){return m_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m_(e)}function ORe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nT(e,t)}function nT(e,t){return nT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nT(e,t)}function Jv(e,t,r){return t=KK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KK(e){var t=$Re(e,"string");return zp(t)=="symbol"?t:t+""}function $Re(e,t){if(zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Eo=32,LP=function(e){function t(){return jRe(this,t),ARe(this,t,arguments)}return ORe(t,e),TRe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Eo/2,s=Eo/6,o=Eo/3,l=n.inactive?a:n.color;if(n.type==="plainline")return we.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Eo,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return we.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Eo,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return we.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Eo/8,"h").concat(Eo,"v").concat(Eo*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(we.isValidElement(n.legendIcon)){var u=NRe({},n);return delete u.legendIcon,we.cloneElement(n.legendIcon,u)}return we.createElement(FP,{fill:l,cx:i,cy:i,size:Eo,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Eo,height:Eo},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,m){var g=p.formatter||l,v=Ht(Jv(Jv({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=ar(p.value)?null:p.value;Ac(!ar(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return we.createElement("li",rT({className:v,style:f,key:"legend-item-".concat(m)},i4(n.props,p,m)),we.createElement(QC,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),we.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(x,p,m):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return we.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(L.PureComponent);Jv(LP,"displayName","Legend");Jv(LP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function XK(e,t,r){return t===!0?MC(e,r):ar(t)?MC(e,t):e}function Hp(e){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hp(e)}var DRe=["ref"];function RL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RL(Object(r),!0).forEach(function(n){o4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JK(n.key),n)}}function FRe(e,t,r){return t&&BL(e.prototype,t),r&&BL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LRe(e,t,r){return t=g_(t),IRe(e,QK()?Reflect.construct(t,r||[],g_(e).constructor):t.apply(e,r))}function IRe(e,t){if(t&&(Hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RRe(e)}function RRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QK=function(){return!!e})()}function g_(e){return g_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g_(e)}function BRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aT(e,t)}function aT(e,t){return aT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aT(e,t)}function o4(e,t,r){return t=JK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JK(e){var t=URe(e,"string");return Hp(t)=="symbol"?t:t+""}function URe(e,t){if(Hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function WRe(e,t){if(e==null)return{};var r=zRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HRe(e){return e.value}function qRe(e,t){if(we.isValidElement(e))return we.cloneElement(e,t);if(typeof e=="function")return we.createElement(e,t);t.ref;var r=WRe(t,DRe);return we.createElement(LP,r)}var UL=1,sp=function(e){function t(){var r;MRe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=LRe(this,t,[].concat(a)),o4(r,"lastBoundingBox",{width:-1,height:-1}),r}return BRe(t,e),FRe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>UL||Math.abs(a.height-this.lastBoundingBox.height)>UL)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ic({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ic(ic({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=ic(ic({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return we.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},qRe(i,ic(ic({},this.props),{},{payload:XK(d,u,HRe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=ic(ic({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&_t(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(L.PureComponent);o4(sp,"displayName","Legend");o4(sp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function Zv(e){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zv(e)}function iT(){return iT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iT.apply(this,arguments)}function YRe(e,t){return XRe(e)||KRe(e,t)||GRe(e,t)||VRe()}function VRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GRe(e,t){if(e){if(typeof e=="string")return WL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WL(e,t)}}function WL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function XRe(e){if(Array.isArray(e))return e}function zL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zL(Object(r),!0).forEach(function(n){QRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QRe(e,t,r){return t=JRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JRe(e){var t=ZRe(e,"string");return Zv(t)=="symbol"?t:t+""}function ZRe(e,t){if(Zv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e9e(e){return Array.isArray(e)&&Sa(e[0])&&Sa(e[1])?e.join(" ~ "):e}var t9e=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,u=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,g=t.label,v=t.labelFormatter,x=t.accessibilityLayer,y=x===void 0?!1:x,b=function(){if(d&&d.length){var T={padding:0,margin:0},F=(h?Ik(d,h):d).map(function(M,H){if(M.type==="none")return null;var z=sN({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},o),Y=M.formatter||f||e9e,G=M.value,I=M.name,X=G,J=I;if(Y&&X!=null&&J!=null){var E=Y(G,I,M,H,d);if(Array.isArray(E)){var R=YRe(E,2);X=R[0],J=R[1]}else X=E}return we.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:z},Sa(J)?we.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Sa(J)?we.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,we.createElement("span",{className:"recharts-tooltip-item-value"},X),we.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return we.createElement("ul",{className:"recharts-tooltip-item-list",style:T},F)}return null},N=sN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=sN({margin:0},u),C=!_r(g),k=C?g:"",w=Ht("recharts-default-tooltip",p),S=Ht("recharts-tooltip-label",m);C&&v&&d!==void 0&&d!==null&&(k=v(g,d));var P=y?{role:"status","aria-live":"assertive"}:{};return we.createElement("div",iT({className:w,style:N},P),we.createElement("p",{className:S,style:_},we.isValidElement(k)?k:"".concat(k)),b())};function ey(e){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(e)}function Jb(e,t,r){return t=r9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r9e(e){var t=n9e(e,"string");return ey(t)=="symbol"?t:t+""}function n9e(e,t){if(ey(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ex="recharts-tooltip-wrapper",a9e={visibility:"hidden"};function i9e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ht(ex,Jb(Jb(Jb(Jb({},"".concat(ex,"-right"),_t(r)&&t&&_t(t.x)&&r>=t.x),"".concat(ex,"-left"),_t(r)&&t&&_t(t.x)&&r<t.x),"".concat(ex,"-bottom"),_t(n)&&t&&_t(t.y)&&n>=t.y),"".concat(ex,"-top"),_t(n)&&t&&_t(t.y)&&n<t.y))}function HL(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(i&&_t(i[n]))return i[n];var d=r[n]-o-a,f=r[n]+a;if(t[n])return s[n]?d:f;if(s[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var m=f+o,g=l[n]+u;return m>g?Math.max(d,l[n]):Math.max(f,l[n])}function s9e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function o9e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=HL({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=HL({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=s9e({translateX:d,translateY:f,useTranslate3d:o})):u=a9e,{cssProperties:u,cssClasses:i9e({translateX:d,translateY:f,coordinate:r})}}function qp(e){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(e)}function qL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qL(Object(r),!0).forEach(function(n){oT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eX(n.key),n)}}function u9e(e,t,r){return t&&c9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d9e(e,t,r){return t=x_(t),f9e(e,ZK()?Reflect.construct(t,r||[],x_(e).constructor):t.apply(e,r))}function f9e(e,t){if(t&&(qp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h9e(e)}function h9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZK=function(){return!!e})()}function x_(e){return x_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x_(e)}function p9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sT(e,t)}function sT(e,t){return sT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sT(e,t)}function oT(e,t,r){return t=eX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eX(e){var t=m9e(e,"string");return qp(t)=="symbol"?t:t+""}function m9e(e,t){if(qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var VL=1,g9e=function(e){function t(){var r;l9e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=d9e(this,t,[].concat(a)),oT(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),oT(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return p9e(t,e),u9e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>VL||Math.abs(n.height-this.state.lastBoundingBox.height)>VL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,g=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,y=a.wrapperStyle,b=o9e({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),N=b.cssClasses,_=b.cssProperties,C=YL(YL({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return we.createElement("div",{tabIndex:-1,className:N,style:C,ref:function(w){n.wrapperNode=w}},u)}}])}(L.PureComponent),x9e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},l4={isSsr:x9e()};function Yp(e){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(e)}function GL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GL(Object(r),!0).forEach(function(n){IP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rX(n.key),n)}}function b9e(e,t,r){return t&&y9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function w9e(e,t,r){return t=v_(t),_9e(e,tX()?Reflect.construct(t,r||[],v_(e).constructor):t.apply(e,r))}function _9e(e,t){if(t&&(Yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k9e(e)}function k9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tX=function(){return!!e})()}function v_(e){return v_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v_(e)}function S9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lT(e,t)}function lT(e,t){return lT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lT(e,t)}function IP(e,t,r){return t=rX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rX(e){var t=N9e(e,"string");return Yp(t)=="symbol"?t:t+""}function N9e(e,t){if(Yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function j9e(e){return e.dataKey}function C9e(e,t){return we.isValidElement(e)?we.cloneElement(e,t):typeof e=="function"?we.createElement(e,t):we.createElement(t9e,t)}var Fo=function(e){function t(){return v9e(this,t),w9e(this,t,arguments)}return S9e(t,e),b9e(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,g=a.payloadUniqBy,v=a.position,x=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,N=a.wrapperStyle,_=m??[];f&&_.length&&(_=XK(m.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),g,j9e));var C=_.length>0;return we.createElement(g9e,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:d,hasPayload:C,offset:p,position:v,reverseDirection:x,useTranslate3d:y,viewBox:b,wrapperStyle:N},C9e(u,KL(KL({},this.props),{},{payload:_})))}}])}(L.PureComponent);IP(Fo,"displayName","Tooltip");IP(Fo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!l4.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var T9e=rl,A9e=function(){return T9e.Date.now()},E9e=A9e,P9e=/\s/;function O9e(e){for(var t=e.length;t--&&P9e.test(e.charAt(t)););return t}var $9e=O9e,D9e=$9e,M9e=/^\s+/;function F9e(e){return e&&e.slice(0,D9e(e)+1).replace(M9e,"")}var L9e=F9e,I9e=L9e,XL=Fs,R9e=Em,QL=NaN,B9e=/^[-+]0x[0-9a-f]+$/i,U9e=/^0b[01]+$/i,W9e=/^0o[0-7]+$/i,z9e=parseInt;function H9e(e){if(typeof e=="number")return e;if(R9e(e))return QL;if(XL(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=XL(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=I9e(e);var r=U9e.test(e);return r||W9e.test(e)?z9e(e.slice(2),r?2:8):B9e.test(e)?QL:+e}var nX=H9e,q9e=Fs,oN=E9e,JL=nX,Y9e="Expected a function",V9e=Math.max,G9e=Math.min;function K9e(e,t,r){var n,a,i,s,o,l,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Y9e);t=JL(t)||0,q9e(r)&&(d=!!r.leading,f="maxWait"in r,i=f?V9e(JL(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(C){var k=n,w=a;return n=a=void 0,u=C,s=e.apply(w,k),s}function m(C){return u=C,o=setTimeout(x,t),d?p(C):s}function g(C){var k=C-l,w=C-u,S=t-k;return f?G9e(S,i-w):S}function v(C){var k=C-l,w=C-u;return l===void 0||k>=t||k<0||f&&w>=i}function x(){var C=oN();if(v(C))return y(C);o=setTimeout(x,g(C))}function y(C){return o=void 0,h&&n?p(C):(n=a=void 0,s)}function b(){o!==void 0&&clearTimeout(o),u=0,n=l=a=o=void 0}function N(){return o===void 0?s:y(oN())}function _(){var C=oN(),k=v(C);if(n=arguments,a=this,l=C,k){if(o===void 0)return m(l);if(f)return clearTimeout(o),o=setTimeout(x,t),p(l)}return o===void 0&&(o=setTimeout(x,t)),s}return _.cancel=b,_.flush=N,_}var X9e=K9e,Q9e=X9e,J9e=Fs,Z9e="Expected a function";function eBe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Z9e);return J9e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Q9e(e,t,{leading:n,maxWait:t,trailing:a})}var tBe=eBe;const aX=hr(tBe);function ty(e){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(e)}function ZL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZL(Object(r),!0).forEach(function(n){rBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rBe(e,t,r){return t=nBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nBe(e){var t=aBe(e,"string");return ty(t)=="symbol"?t:t+""}function aBe(e,t){if(ty(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iBe(e,t){return cBe(e)||lBe(e,t)||oBe(e,t)||sBe()}function sBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oBe(e,t){if(e){if(typeof e=="string")return eI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eI(e,t)}}function eI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function cBe(e){if(Array.isArray(e))return e}var iX=L.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,g=m===void 0?0:m,v=e.id,x=e.className,y=e.onResize,b=e.style,N=b===void 0?{}:b,_=L.useRef(null),C=L.useRef();C.current=y,L.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var k=L.useState({containerWidth:a.width,containerHeight:a.height}),w=iBe(k,2),S=w[0],P=w[1],A=L.useCallback(function(F,M){P(function(H){var z=Math.round(F),Y=Math.round(M);return H.containerWidth===z&&H.containerHeight===Y?H:{containerWidth:z,containerHeight:Y}})},[]);L.useEffect(function(){var F=function(I){var X,J=I[0].contentRect,E=J.width,R=J.height;A(E,R),(X=C.current)===null||X===void 0||X.call(C,E,R)};g>0&&(F=aX(F,g,{trailing:!0,leading:!1}));var M=new ResizeObserver(F),H=_.current.getBoundingClientRect(),z=H.width,Y=H.height;return A(z,Y),M.observe(_.current),function(){M.disconnect()}},[A,g]);var T=L.useMemo(function(){var F=S.containerWidth,M=S.containerHeight;if(F<0||M<0)return null;Ac(wf(s)||wf(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Ac(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=wf(s)?F:s,z=wf(l)?M:l;r&&r>0&&(H?z=H/r:z&&(H=z*r),h&&z>h&&(z=h)),Ac(H>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,z,s,l,d,f,r);var Y=!Array.isArray(p)&&Tc(p.type).endsWith("Chart");return we.Children.map(p,function(G){return we.isValidElement(G)?L.cloneElement(G,Zb({width:H,height:z},Y?{style:Zb({height:"100%",width:"100%",maxHeight:z,maxWidth:H},G.props.style)}:{})):G})},[r,p,l,h,f,d,S,s]);return we.createElement("div",{id:v?"".concat(v):void 0,className:Ht("recharts-responsive-container",x),style:Zb(Zb({},N),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:_},T)}),c4=function(t){return null};c4.displayName="Cell";function ry(e){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ry(e)}function tI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(r),!0).forEach(function(n){uBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uBe(e,t,r){return t=dBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dBe(e){var t=fBe(e,"string");return ry(t)=="symbol"?t:t+""}function fBe(e,t){if(ry(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x0={widthCache:{},cacheCount:0},hBe=2e3,pBe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rI="recharts_measurement_span";function mBe(e){var t=cT({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var nI=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||l4.isSsr)return{width:0,height:0};var n=mBe(r),a=JSON.stringify({text:t,copyStyle:n});if(x0.widthCache[a])return x0.widthCache[a];try{var i=document.getElementById(rI);i||(i=document.createElement("span"),i.setAttribute("id",rI),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=cT(cT({},pBe),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return x0.widthCache[a]=l,++x0.cacheCount>hBe&&(x0.cacheCount=0,x0.widthCache={}),l}catch{return{width:0,height:0}}},gBe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ny(e){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ny(e)}function y_(e,t){return bBe(e)||yBe(e,t)||vBe(e,t)||xBe()}function xBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vBe(e,t){if(e){if(typeof e=="string")return aI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aI(e,t)}}function aI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function bBe(e){if(Array.isArray(e))return e}function wBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kBe(n.key),n)}}function _Be(e,t,r){return t&&iI(e.prototype,t),r&&iI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kBe(e){var t=SBe(e,"string");return ny(t)=="symbol"?t:t+""}function SBe(e,t){if(ny(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NBe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,jBe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},CBe=Object.keys(sX),I0="NaN";function TBe(e,t){return e*sX[t]}var e2=function(){function e(t,r){wBe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!NBe.test(r)&&(this.num=NaN,this.unit=""),CBe.includes(r)&&(this.num=TBe(t,r),this.unit="px")}return _Be(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=jBe.exec(r))!==null&&n!==void 0?n:[],i=y_(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function oX(e){if(e.includes(I0))return I0;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=sI.exec(t))!==null&&r!==void 0?r:[],a=y_(n,4),i=a[1],s=a[2],o=a[3],l=e2.parse(i??""),u=e2.parse(o??""),d=s==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return I0;t=t.replace(sI,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=oI.exec(t))!==null&&f!==void 0?f:[],p=y_(h,4),m=p[1],g=p[2],v=p[3],x=e2.parse(m??""),y=e2.parse(v??""),b=g==="+"?x.add(y):x.subtract(y);if(b.isNaN())return I0;t=t.replace(oI,b.toString())}return t}var lI=/\(([^()]*)\)/;function ABe(e){for(var t=e;t.includes("(");){var r=lI.exec(t),n=y_(r,2),a=n[1];t=t.replace(lI,oX(a))}return t}function EBe(e){var t=e.replace(/\s+/g,"");return t=ABe(t),t=oX(t),t}function PBe(e){try{return EBe(e)}catch{return I0}}function lN(e){var t=PBe(e.slice(5,-1));return t===I0?"":t}var OBe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$Be=["dx","dy","angle","className","breakAll"];function uT(){return uT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uT.apply(this,arguments)}function cI(e,t){if(e==null)return{};var r=DBe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uI(e,t){return IBe(e)||LBe(e,t)||FBe(e,t)||MBe()}function MBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FBe(e,t){if(e){if(typeof e=="string")return dI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dI(e,t)}}function dI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function IBe(e){if(Array.isArray(e))return e}var lX=/[ \f\n\r\t\v\u2028\u2029]+/,cX=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];_r(r)||(n?i=r.toString().split(""):i=r.toString().split(lX));var s=i.map(function(l){return{word:l,width:nI(l,a).width}}),o=n?0:nI(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},RBe=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,u=t.breakAll,d=_t(s),f=o,h=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(z,Y){var G=Y.word,I=Y.width,X=z[z.length-1];if(X&&(a==null||i||X.width+I+n<Number(a)))X.words.push(G),X.width+=I+n;else{var J={words:[G],width:I};z.push(J)}return z},[])},p=h(r),m=function(H){return H.reduce(function(z,Y){return z.width>Y.width?z:Y})};if(!d)return p;for(var g="…",v=function(H){var z=f.slice(0,H),Y=cX({breakAll:u,style:l,children:z+g}).wordsWithComputedWidth,G=h(Y),I=G.length>s||m(G).width>Number(a);return[I,G]},x=0,y=f.length-1,b=0,N;x<=y&&b<=f.length-1;){var _=Math.floor((x+y)/2),C=_-1,k=v(C),w=uI(k,2),S=w[0],P=w[1],A=v(_),T=uI(A,1),F=T[0];if(!S&&!F&&(x=_+1),S&&F&&(y=_-1),!S&&F){N=P;break}b++}return N||p},fI=function(t){var r=_r(t)?[]:t.toString().split(lX);return[{words:r}]},BBe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!l4.isSsr){var l,u,d=cX({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return fI(a);return RBe({breakAll:s,children:a,maxLines:o,style:i},l,u,r,n)}return fI(a)},hI="#808080",Vp=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,u=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,g=m===void 0?"end":m,v=t.fill,x=v===void 0?hI:v,y=cI(t,OBe),b=L.useMemo(function(){return BBe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),N=y.dx,_=y.dy,C=y.angle,k=y.className,w=y.breakAll,S=cI(y,$Be);if(!Sa(n)||!Sa(i))return null;var P=n+(_t(N)?N:0),A=i+(_t(_)?_:0),T;switch(g){case"start":T=lN("calc(".concat(u,")"));break;case"middle":T=lN("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:T=lN("calc(".concat(b.length-1," * -").concat(o,")"));break}var F=[];if(f){var M=b[0].width,H=y.width;F.push("scale(".concat((_t(H)?H/M:1)/M,")"))}return C&&F.push("rotate(".concat(C,", ").concat(P,", ").concat(A,")")),F.length&&(S.transform=F.join(" ")),we.createElement("text",uT({},ur(S,!0),{x:P,y:A,className:Ht("recharts-text",k),textAnchor:p,fill:x.includes("url")?hI:x}),b.map(function(z,Y){var G=z.words.join(w?"":" ");return we.createElement("tspan",{x:P,dy:Y===0?T:o,key:"".concat(G,"-").concat(Y)},G)}))};const pI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cp,scaleDiverging:jY,scaleDivergingLog:CY,scaleDivergingPow:L6,scaleDivergingSqrt:_4e,scaleDivergingSymlog:TY,scaleIdentity:sY,scaleImplicit:gC,scaleLinear:Hv,scaleLog:k6,scaleOrdinal:Iu,scalePoint:rp,scalePow:C6,scaleQuantile:cY,scaleQuantize:uY,scaleRadial:lY,scaleSequential:_Y,scaleSequentialLog:kY,scaleSequentialPow:F6,scaleSequentialQuantile:NY,scaleSequentialSqrt:w4e,scaleSequentialSymlog:SY,scaleSqrt:ake,scaleSymlog:N6,scaleThreshold:dY,scaleTime:bY,scaleUtc:wY,tickFormat:iY},Symbol.toStringTag,{value:"Module"}));var UBe=Em;function WBe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!UBe(s):r(s,o)))var o=s,l=i}return l}var u4=WBe;function zBe(e,t){return e>t}var uX=zBe,HBe=u4,qBe=uX,YBe=Am;function VBe(e){return e&&e.length?HBe(e,YBe,qBe):void 0}var GBe=VBe;const d4=hr(GBe);function KBe(e,t){return e<t}var dX=KBe,XBe=u4,QBe=dX,JBe=Am;function ZBe(e){return e&&e.length?XBe(e,JBe,QBe):void 0}var eUe=ZBe;const f4=hr(eUe);var tUe=H5,rUe=$d,nUe=lG,aUe=Gi;function iUe(e,t){var r=aUe(e)?tUe:nUe;return r(e,rUe(t))}var sUe=iUe,oUe=X6,lUe=sUe;function cUe(e,t){return oUe(lUe(e,t),1)}var uUe=cUe;const dUe=hr(uUe);var Fm=1e9,fUe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},BP,jn=!0,go="[DecimalError] ",Mf=go+"Invalid argument: ",RP=go+"Exponent out of range: ",Lm=Math.floor,nf=Math.pow,hUe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,js,Oa=1e7,vn=7,fX=9007199254740991,b_=Lm(fX/vn),Ct={};Ct.absoluteValue=Ct.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ct.comparedTo=Ct.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ct.decimalPlaces=Ct.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*vn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ct.dividedBy=Ct.div=function(e){return Ec(this,new this.constructor(e))};Ct.dividedToIntegerBy=Ct.idiv=function(e){var t=this,r=t.constructor;return an(Ec(t,new r(e),0,1),r.precision)};Ct.equals=Ct.eq=function(e){return!this.cmp(e)};Ct.exponent=function(){return ma(this)};Ct.greaterThan=Ct.gt=function(e){return this.cmp(e)>0};Ct.greaterThanOrEqualTo=Ct.gte=function(e){return this.cmp(e)>=0};Ct.isInteger=Ct.isint=function(){return this.e>this.d.length-2};Ct.isNegative=Ct.isneg=function(){return this.s<0};Ct.isPositive=Ct.ispos=function(){return this.s>0};Ct.isZero=function(){return this.s===0};Ct.lessThan=Ct.lt=function(e){return this.cmp(e)<0};Ct.lessThanOrEqualTo=Ct.lte=function(e){return this.cmp(e)<1};Ct.logarithm=Ct.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(js))throw Error(go+"NaN");if(r.s<1)throw Error(go+(r.s?"NaN":"-Infinity"));return r.eq(js)?new n(0):(jn=!1,t=Ec(ay(r,i),ay(e,i),i),jn=!0,an(t,a))};Ct.minus=Ct.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mX(t,e):hX(t,(e.s=-e.s,e))};Ct.modulo=Ct.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(go+"NaN");return r.s?(jn=!1,t=Ec(r,e,0,1).times(e),jn=!0,r.minus(t)):an(new n(r),a)};Ct.naturalExponential=Ct.exp=function(){return pX(this)};Ct.naturalLogarithm=Ct.ln=function(){return ay(this)};Ct.negated=Ct.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ct.plus=Ct.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hX(t,e):mX(t,(e.s=-e.s,e))};Ct.precision=Ct.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Mf+e);if(t=ma(a)+1,n=a.d.length-1,r=n*vn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ct.squareRoot=Ct.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(go+"NaN")}for(e=ma(o),jn=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Sl(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Lm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(Ec(o,i,s+2)).times(.5),Sl(i.d).slice(0,s)===(t=Sl(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(an(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return jn=!0,an(n,r)};Ct.times=Ct.mul=function(e){var t,r,n,a,i,s,o,l,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,u=p.length,l<u&&(i=h,h=p,p=i,s=l,l=u,u=s),i=[],s=l+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%Oa|0,t=o/Oa|0;i[a]=(i[a]+t)%Oa|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,jn?an(e,f.precision):e};Ct.toDecimalPlaces=Ct.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Il(e,0,Fm),t===void 0?t=n.rounding:Il(t,0,8),an(r,e+ma(r)+1,t))};Ct.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ih(n,!0):(Il(e,0,Fm),t===void 0?t=a.rounding:Il(t,0,8),n=an(new a(n),e+1,t),r=ih(n,!0,e+1)),r};Ct.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ih(a):(Il(e,0,Fm),t===void 0?t=i.rounding:Il(t,0,8),n=an(new i(a),e+ma(a)+1,t),r=ih(n.abs(),!1,e+ma(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ct.toInteger=Ct.toint=function(){var e=this,t=e.constructor;return an(new t(e),ma(e)+1,t.rounding)};Ct.toNumber=function(){return+this};Ct.toPower=Ct.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(js);if(o=new l(o),!o.s){if(e.s<1)throw Error(go+"Infinity");return o}if(o.eq(js))return o;if(n=l.precision,e.eq(js))return an(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=d<0?-d:d)<=fX){for(a=new l(js),t=Math.ceil(n/vn+4),jn=!1;r%2&&(a=a.times(o),gI(a.d,t)),r=Lm(r/2),r!==0;)o=o.times(o),gI(o.d,t);return jn=!0,e.s<0?new l(js).div(a):an(a,n)}}else if(i<0)throw Error(go+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,jn=!1,a=e.times(ay(o,n+u)),jn=!0,a=pX(a),a.s=i,a};Ct.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ma(a),n=ih(a,r<=i.toExpNeg||r>=i.toExpPos)):(Il(e,1,Fm),t===void 0?t=i.rounding:Il(t,0,8),a=an(new i(a),e,t),r=ma(a),n=ih(a,e<=r||r<=i.toExpNeg,e)),n};Ct.toSignificantDigits=Ct.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Il(e,1,Fm),t===void 0?t=n.rounding:Il(t,0,8)),an(new n(r),e,t)};Ct.toString=Ct.valueOf=Ct.val=Ct.toJSON=Ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ma(e),r=e.constructor;return ih(e,t<=r.toExpNeg||t>=r.toExpPos)};function hX(e,t){var r,n,a,i,s,o,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),jn?an(t,f):t;if(l=e.d,u=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=u.length):(n=u,a=s,o=l.length),s=Math.ceil(f/vn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=u.length,o-i<0&&(i=o,n=u,u=l,l=n),r=0;i;)r=(l[--i]=l[i]+u[i]+r)/Oa|0,l[i]%=Oa;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,jn?an(t,f):t}function Il(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Mf+e)}function Sl(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=vn-n.length,r&&(i+=Su(r)),i+=n;s=e[t],n=s+"",r=vn-n.length,r&&(i+=Su(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Ec=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Oa|0,s=i/Oa|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Oa+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,u,d,f,h,p,m,g,v,x,y,b,N,_,C,k,w,S=n.constructor,P=n.s==a.s?1:-1,A=n.d,T=a.d;if(!n.s)return new S(n);if(!a.s)throw Error(go+"Division by zero");for(l=n.e-a.e,k=T.length,_=A.length,p=new S(P),m=p.d=[],u=0;T[u]==(A[u]||0);)++u;if(T[u]>(A[u]||0)&&--l,i==null?y=i=S.precision:s?y=i+(ma(n)-ma(a))+1:y=i,y<0)return new S(0);if(y=y/vn+2|0,u=0,k==1)for(d=0,T=T[0],y++;(u<_||d)&&y--;u++)b=d*Oa+(A[u]||0),m[u]=b/T|0,d=b%T|0;else{for(d=Oa/(T[0]+1)|0,d>1&&(T=e(T,d),A=e(A,d),k=T.length,_=A.length),N=k,g=A.slice(0,k),v=g.length;v<k;)g[v++]=0;w=T.slice(),w.unshift(0),C=T[0],T[1]>=Oa/2&&++C;do d=0,o=t(T,g,k,v),o<0?(x=g[0],k!=v&&(x=x*Oa+(g[1]||0)),d=x/C|0,d>1?(d>=Oa&&(d=Oa-1),f=e(T,d),h=f.length,v=g.length,o=t(f,g,h,v),o==1&&(d--,r(f,k<h?w:T,h))):(d==0&&(o=d=1),f=T.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),o==-1&&(v=g.length,o=t(T,g,k,v),o<1&&(d++,r(g,k<v?w:T,v))),v=g.length):o===0&&(d++,g=[0]),m[u++]=d,o&&g[0]?g[v++]=A[N]||0:(g=[A[N]],v=1);while((N++<_||g[0]!==void 0)&&y--)}return m[0]||m.shift(),p.e=l,an(p,s?i+ma(p)+1:i)}}();function pX(e,t){var r,n,a,i,s,o,l=0,u=0,d=e.constructor,f=d.precision;if(ma(e)>16)throw Error(RP+ma(e));if(!e.s)return new d(js);for(jn=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(nf(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new d(js),d.precision=o;;){if(a=an(a.times(e),o),r=r.times(++l),s=i.plus(Ec(a,r,o)),Sl(s.d).slice(0,o)===Sl(i.d).slice(0,o)){for(;u--;)i=an(i.times(i),o);return d.precision=f,t==null?(jn=!0,an(i,f)):i}i=s}}function ma(e){for(var t=e.e*vn,r=e.d[0];r>=10;r/=10)t++;return t}function cN(e,t,r){if(t>e.LN10.sd())throw jn=!0,r&&(e.precision=r),Error(go+"LN10 precision limit exceeded");return an(new e(e.LN10),t)}function Su(e){for(var t="";e--;)t+="0";return t}function ay(e,t){var r,n,a,i,s,o,l,u,d,f=1,h=10,p=e,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(go+(p.s?"NaN":"-Infinity"));if(p.eq(js))return new g(0);if(t==null?(jn=!1,u=v):u=t,p.eq(10))return t==null&&(jn=!0),cN(g,u);if(u+=h,g.precision=u,r=Sl(m),n=r.charAt(0),i=ma(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Sl(p.d),n=r.charAt(0),f++;i=ma(p),n>1?(p=new g("0."+r),i++):p=new g(n+"."+r.slice(1))}else return l=cN(g,u+2,v).times(i+""),p=ay(new g(n+"."+r.slice(1)),u-h).plus(l),g.precision=v,t==null?(jn=!0,an(p,v)):p;for(o=s=p=Ec(p.minus(js),p.plus(js),u),d=an(p.times(p),u),a=3;;){if(s=an(s.times(d),u),l=o.plus(Ec(s,new g(a),u)),Sl(l.d).slice(0,u)===Sl(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(cN(g,u+2,v).times(i+""))),o=Ec(o,new g(f),u),g.precision=v,t==null?(jn=!0,an(o,v)):o;o=l,a+=2}}function mI(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Lm(r/vn),e.d=[],n=(r+1)%vn,r<0&&(n+=vn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=vn;n<a;)e.d.push(+t.slice(n,n+=vn));t=t.slice(n),n=vn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),jn&&(e.e>b_||e.e<-b_))throw Error(RP+r)}else e.s=0,e.e=0,e.d=[0];return e}function an(e,t,r){var n,a,i,s,o,l,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=vn,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/vn),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=vn,a=n-vn+s}if(r!==void 0&&(i=nf(10,s-a-1),o=u/i%10|0,l=t<0||f[d+1]!==void 0||u%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?u/nf(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=ma(e),f.length=1,t=t-i-1,f[0]=nf(10,(vn-t%vn)%vn),e.e=Lm(-t/vn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=nf(10,vn-n),f[d]=a>0?(u/nf(10,s-a)%nf(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==Oa&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Oa)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(jn&&(e.e>b_||e.e<-b_))throw Error(RP+ma(e));return e}function mX(e,t){var r,n,a,i,s,o,l,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),jn?an(t,p):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),s=u-n,s){for(d=s<0,d?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),a=Math.max(Math.ceil(p/vn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}s=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Oa-1;--l[i],l[a]+=Oa}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,jn?an(t,p):t):new h(0)}function ih(e,t,r){var n,a=ma(e),i=Sl(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Su(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Su(-a-1)+i,r&&(n=r-s)>0&&(i+=Su(n))):a>=s?(i+=Su(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Su(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Su(n))),e.s<0?"-"+i:i}function gI(e,t){if(e.length>t)return e.length=t,!0}function gX(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Mf+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return mI(s,i.toString())}else if(typeof i!="string")throw Error(Mf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,hUe.test(i))mI(s,i);else throw Error(Mf+i)}if(a.prototype=Ct,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=gX,a.config=a.set=pUe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function pUe(e){if(!e||typeof e!="object")throw Error(go+"Object expected");var t,r,n,a=["precision",1,Fm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Lm(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Mf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Mf+r+": "+n);return this}var BP=gX(fUe);js=new BP(1);const tn=BP;function mUe(e){return yUe(e)||vUe(e)||xUe(e)||gUe()}function gUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xUe(e,t){if(e){if(typeof e=="string")return dT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dT(e,t)}}function vUe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function yUe(e){if(Array.isArray(e))return dT(e)}function dT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bUe=function(t){return t},xX={},vX=function(t){return t===xX},xI=function(t){return function r(){return arguments.length===0||arguments.length===1&&vX(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},wUe=function e(t,r){return t===1?r:xI(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==xX}).length;return s>=t?r.apply(void 0,a):e(t-s,xI(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=a.map(function(f){return vX(f)?l.shift():f});return r.apply(void 0,mUe(d).concat(l))}))})},h4=function(t){return wUe(t.length,t)},fT=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},_Ue=h4(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),kUe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return bUe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},hT=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},yX=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function SUe(e){var t;return e===0?t=1:t=Math.floor(new tn(e).abs().log(10).toNumber())+1,t}function NUe(e,t,r){for(var n=new tn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var jUe=h4(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),CUe=h4(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),TUe=h4(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const p4={rangeStep:NUe,getDigitCount:SUe,interpolateNumber:jUe,uninterpolateNumber:CUe,uninterpolateTruncation:TUe};function pT(e){return PUe(e)||EUe(e)||bX(e)||AUe()}function AUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EUe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function PUe(e){if(Array.isArray(e))return mT(e)}function iy(e,t){return DUe(e)||$Ue(e,t)||bX(e,t)||OUe()}function OUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bX(e,t){if(e){if(typeof e=="string")return mT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mT(e,t)}}function mT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $Ue(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function DUe(e){if(Array.isArray(e))return e}function wX(e){var t=iy(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function _X(e,t,r){if(e.lte(0))return new tn(0);var n=p4.getDigitCount(e.toNumber()),a=new tn(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new tn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new tn(Math.ceil(l))}function MUe(e,t,r){var n=1,a=new tn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new tn(10).pow(p4.getDigitCount(e)-1),a=new tn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new tn(Math.floor(e)))}else e===0?a=new tn(Math.floor((t-1)/2)):r||(a=new tn(Math.floor(e)));var s=Math.floor((t-1)/2),o=kUe(_Ue(function(l){return a.add(new tn(l-s).mul(n)).toNumber()}),fT);return o(0,t)}function kX(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new tn(0),tickMin:new tn(0),tickMax:new tn(0)};var i=_X(new tn(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new tn(0):(s=new tn(e).add(t).div(2),s=s.sub(new tn(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new tn(t).sub(s).div(i).toNumber()),u=o+l+1;return u>r?kX(e,t,r,n,a+1):(u<r&&(l=t>0?l+(r-u):l,o=t>0?o:o+(r-u)),{step:i,tickMin:s.sub(new tn(o).mul(i)),tickMax:s.add(new tn(l).mul(i))})}function FUe(e){var t=iy(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=wX([r,n]),l=iy(o,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(pT(fT(0,a-1).map(function(){return 1/0}))):[].concat(pT(fT(0,a-1).map(function(){return-1/0})),[d]);return r>n?hT(f):f}if(u===d)return MUe(u,a,i);var h=kX(u,d,s,i),p=h.step,m=h.tickMin,g=h.tickMax,v=p4.rangeStep(m,g.add(new tn(.1).mul(p)),p);return r>n?hT(v):v}function LUe(e,t){var r=iy(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=wX([n,a]),o=iy(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(t,2),f=_X(new tn(u).sub(l).div(d-1),i,0),h=[].concat(pT(p4.rangeStep(new tn(l),new tn(u).sub(new tn(.99).mul(f)),f)),[u]);return n>a?hT(h):h}var IUe=yX(FUe),RUe=yX(LUe),BUe="Invariant failed";function Gp(e,t){throw new Error(BUe)}var UUe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Kp(e){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(e)}function w_(){return w_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w_.apply(this,arguments)}function WUe(e,t){return YUe(e)||qUe(e,t)||HUe(e,t)||zUe()}function zUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HUe(e,t){if(e){if(typeof e=="string")return vI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vI(e,t)}}function vI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qUe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function YUe(e){if(Array.isArray(e))return e}function VUe(e,t){if(e==null)return{};var r=GUe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GUe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jX(n.key),n)}}function QUe(e,t,r){return t&&XUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JUe(e,t,r){return t=__(t),ZUe(e,SX()?Reflect.construct(t,r||[],__(e).constructor):t.apply(e,r))}function ZUe(e,t){if(t&&(Kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eWe(e)}function eWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SX=function(){return!!e})()}function __(e){return __=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},__(e)}function tWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gT(e,t)}function gT(e,t){return gT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gT(e,t)}function NX(e,t,r){return t=jX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jX(e){var t=rWe(e,"string");return Kp(t)=="symbol"?t:t+""}function rWe(e,t){if(Kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var UP=function(e){function t(){return KUe(this,t),JUe(this,t,arguments)}return tWe(t,e),QUe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=VUe(n,UUe),p=ur(h,!1);this.props.direction==="x"&&d.type!=="number"&&Gp();var m=l.map(function(g){var v=u(g,o),x=v.x,y=v.y,b=v.value,N=v.errorVal;if(!N)return null;var _=[],C,k;if(Array.isArray(N)){var w=WUe(N,2);C=w[0],k=w[1]}else C=k=N;if(i==="vertical"){var S=d.scale,P=y+a,A=P+s,T=P-s,F=S(b-C),M=S(b+k);_.push({x1:M,y1:A,x2:M,y2:T}),_.push({x1:F,y1:P,x2:M,y2:P}),_.push({x1:F,y1:A,x2:F,y2:T})}else if(i==="horizontal"){var H=f.scale,z=x+a,Y=z-s,G=z+s,I=H(b-C),X=H(b+k);_.push({x1:Y,y1:X,x2:G,y2:X}),_.push({x1:z,y1:I,x2:z,y2:X}),_.push({x1:Y,y1:I,x2:G,y2:I})}return we.createElement(Wn,w_({className:"recharts-errorBar",key:"bar-".concat(_.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},p),_.map(function(J){return we.createElement("line",w_({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return we.createElement(Wn,{className:"recharts-errorBars"},m)}}])}(we.Component);NX(UP,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});NX(UP,"displayName","ErrorBar");function sy(e){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sy(e)}function yI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(r),!0).forEach(function(n){nWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nWe(e,t,r){return t=aWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aWe(e){var t=iWe(e,"string");return sy(t)=="symbol"?t:t+""}function iWe(e,t){if(sy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CX=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Qs(r,sp);if(!s)return null;var o=sp.defaultProps,l=o!==void 0?Yd(Yd({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Yd(Yd({},h),f.props):{},m=p.dataKey,g=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:m,type:l.iconType||v||"square",color:WP(f),value:g||m,payload:p}}),Yd(Yd(Yd({},l),sp.getWithHeight(s,a)),{},{payload:u,item:s})};function oy(e){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oy(e)}function bI(e){return cWe(e)||lWe(e)||oWe(e)||sWe()}function sWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oWe(e,t){if(e){if(typeof e=="string")return xT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xT(e,t)}}function lWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cWe(e){if(Array.isArray(e))return xT(e)}function xT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(r),!0).forEach(function(n){op(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function op(e,t,r){return t=uWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uWe(e){var t=dWe(e,"string");return oy(t)=="symbol"?t:t+""}function dWe(e,t){if(oy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cs(e,t,r){return _r(e)||_r(t)?r:Sa(t)?ra(e,t,r):ar(t)?t(e):r}function Xx(e,t,r,n){var a=dUe(e,function(o){return Cs(o,t)});if(r==="number"){var i=a.filter(function(o){return _t(o)||parseFloat(o)});return i.length?[f4(i),d4(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!_r(o)}):a;return s.map(function(o){return Sa(o)||o instanceof Date?o:""})}var fWe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,u=0;u<o;u++){var d=u>0?a[u-1].coordinate:a[o-1].coordinate,f=a[u].coordinate,h=u>=o-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(oo(f-d)!==oo(h-f)){var m=[];if(oo(h-f)===oo(l[1]-l[0])){p=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var v=h+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>x[0]&&t<=x[1]||t>=m[0]&&t<=m[1]){s=a[u].index;break}}else{var y=Math.min(d,h),b=Math.max(d,h);if(t>(y+f)/2&&t<=(b+f)/2){s=a[u].index;break}}}else for(var N=0;N<o;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<o-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===o-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){s=n[N].index;break}return s},WP=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Un(Un({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},hWe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,u=o.length;l<u;l++)for(var d=i[o[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,v=m.cateAxisId,x=g.filter(function(k){return Tc(k.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,b=y!==void 0?Un(Un({},y),x[0].props):x[0].props,N=b.barSize,_=b[v];s[_]||(s[_]=[]);var C=_r(N)?r:N;s[_].push({item:x[0],stackList:x.slice(1),barSize:_r(C)?void 0:us(C,n,0)})}}return s},pWe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var u=us(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/l,m=s.reduce(function(N,_){return N+_.barSize||0},0);m+=(l-1)*u,m>=a&&(m-=(l-1)*u,u=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var g=(a-m)/2>>0,v={offset:g-u,size:0};d=s.reduce(function(N,_){var C={item:_.item,position:{offset:v.offset+v.size+u,size:h?p:_.barSize}},k=[].concat(bI(N),[C]);return v=k[k.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(w){k.push({item:w,position:v})}),k},f)}else{var x=us(n,a,0,!0);a-2*x-(l-1)*u<=0&&(u=0);var y=(a-2*x-(l-1)*u)/l;y>1&&(y>>=0);var b=o===+o?Math.min(y,o):y;d=s.reduce(function(N,_,C){var k=[].concat(bI(N),[{item:_.item,position:{offset:x+(y+u)*C+(y-b)/2,size:b}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(w){k.push({item:w,position:k[k.length-1].position})}),k},f)}return d},mWe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),u=CX({children:i,legendWidth:l});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&_t(t[p]))return Un(Un({},t),{},op({},p,t[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&_t(t[m]))return Un(Un({},t),{},op({},m,t[m]+(h||0)))}return t},gWe=function(t,r,n){return _r(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},TX=function(t,r,n,a,i){var s=r.props.children,o=El(s,UP).filter(function(u){return gWe(a,i,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Cs(d,n);if(_r(f))return u;var h=Array.isArray(f)?[f4(f),d4(f)]:[f,f],p=l.reduce(function(m,g){var v=Cs(d,g,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,m[0]),Math.max(y,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},xWe=function(t,r,n,a,i){var s=r.map(function(o){return TX(t,o,n,i,a)}).filter(function(o){return!_r(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},AX=function(t,r,n,a,i){var s=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&TX(t,l,u,a)||Xx(t,u,n,i)});if(n==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,l.push(u[d]));return l},[])},EX=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},vx=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?oo(o[0]-o[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!d1(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},uN=new WeakMap,t2=function(t,r){if(typeof r!="function")return t;uN.has(t)||uN.set(t,new WeakMap);var n=uN.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},vWe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Cp(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Hv(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0)?{scale:rp(),realScaleType:"point"}:i==="category"?{scale:Cp(),realScaleType:"band"}:{scale:Hv(),realScaleType:"linear"};if($m(a)){var l="scale".concat(s4(a));return{scale:(pI[l]||rp)(),realScaleType:pI[l]?l:"point"}}return ar(a)?{scale:a}:{scale:rp(),realScaleType:"point"}},_I=1e-4,yWe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-_I,s=Math.max(a[0],a[1])+_I,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},bWe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=d1(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},wWe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=d1(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},_We={sign:bWe,expand:B3e,none:Pp,silhouette:U3e,wiggle:W3e,positive:wWe},kWe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=_We[n],s=R3e().keys(a).value(function(o,l){return+Cs(o,l,0)}).order(wC).offset(i);return s(t)},SWe=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},u=o.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Un(Un({},h.type.defaultProps),h.props):h.props,g=m.stackId,v=m.hide;if(v)return f;var x=m[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(Sa(g)){var b=y.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),y.hasStack=!0,y.stackGroups[g]=b}else y.stackGroups[a4("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Un(Un({},f),{},op({},x,y))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var x=p.stackGroups[v];return Un(Un({},g),{},op({},v,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:kWe(t,x.items,i)}))},m)}return Un(Un({},f),{},op({},h,p))},d)},NWe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=IUe(u,i,o);return t.domain([f4(d),d4(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=RUe(f,i,o);return{niceTicks:h}}return null},jWe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Un(Un({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Sa(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},CWe=function(t){return t.reduce(function(r,n){return[f4(n.concat([r[0]]).filter(_t)),d4(n.concat([r[1]]).filter(_t))]},[1/0,-1/0])},PX=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(u,d){var f=CWe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},kI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vT=function(t,r,n){if(ar(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(_t(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(kI.test(t[0])){var i=+kI.exec(t[0])[1];a[0]=r[0]-i}else ar(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(_t(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(SI.test(t[1])){var s=+SI.exec(t[1])[1];a[1]=r[1]+s}else ar(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},yT=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=Ik(r,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var u=i[o],d=i[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},NI=function(t,r,n){return!t||!t.length||Mk(t,ra(n,"type.defaultProps.domain"))?r:t},TWe=function(t,r){var n=t.type.defaultProps?Un(Un({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return Un(Un({},ur(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:WP(t),value:Cs(r,a),type:l,payload:r,chartType:u,hide:d})};function ly(e){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ly(e)}function jI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(r),!0).forEach(function(n){OX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OX(e,t,r){return t=AWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AWe(e){var t=EWe(e,"string");return ly(t)=="symbol"?t:t+""}function EWe(e,t){if(ly(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PWe(e,t){return MWe(e)||DWe(e,t)||$We(e,t)||OWe()}function OWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $We(e,t){if(e){if(typeof e=="string")return CI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CI(e,t)}}function CI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DWe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function MWe(e){if(Array.isArray(e))return e}var k_=Math.PI/180,FWe=function(t){return t*180/Math.PI},mn=function(t,r,n,a){return{x:t+Math.cos(-k_*a)*n,y:r+Math.sin(-k_*a)*n}},$X=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},LWe=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.startAngle,u=t.endAngle,d=us(t.cx,s,s/2),f=us(t.cy,o,o/2),h=$X(s,o,n),p=us(t.innerRadius,h,0),m=us(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(v,x){var y=r[x],b=y.domain,N=y.reversed,_;if(_r(y.range))a==="angleAxis"?_=[l,u]:a==="radiusAxis"&&(_=[p,m]),N&&(_=[_[1],_[0]]);else{_=y.range;var C=_,k=PWe(C,2);l=k[0],u=k[1]}var w=vWe(y,i),S=w.realScaleType,P=w.scale;P.domain(b).range(_),yWe(P);var A=NWe(P,uc(uc({},y),{},{realScaleType:S})),T=uc(uc(uc({},y),A),{},{range:_,radius:m,realScaleType:S,scale:P,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:l,endAngle:u});return uc(uc({},v),{},OX({},x,T))},{})},IWe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},RWe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=IWe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,u=Math.acos(l);return a>s&&(u=2*Math.PI-u),{radius:o,angle:FWe(u),angleInRadian:u}},BWe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},UWe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},TI=function(t,r){var n=t.x,a=t.y,i=RWe({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,u=r.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var d=BWe(r),f=d.startAngle,h=d.endAngle,p=o,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?uc(uc({},r),{},{radius:s,angle:UWe(p,r)}):null},DX=function(t){return!L.isValidElement(t)&&!ar(t)&&typeof t!="boolean"?t.className:""};function cy(e){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cy(e)}var WWe=["offset"];function zWe(e){return VWe(e)||YWe(e)||qWe(e)||HWe()}function HWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qWe(e,t){if(e){if(typeof e=="string")return bT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bT(e,t)}}function YWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VWe(e){if(Array.isArray(e))return bT(e)}function bT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GWe(e,t){if(e==null)return{};var r=KWe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){XWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XWe(e,t,r){return t=QWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QWe(e){var t=JWe(e,"string");return cy(t)=="symbol"?t:t+""}function JWe(e,t){if(cy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(this,arguments)}var ZWe=function(t){var r=t.value,n=t.formatter,a=_r(t.children)?r:t.children;return ar(n)?n(a):a},eze=function(t,r){var n=oo(r-t),a=Math.min(Math.abs(r-t),360);return n*a},tze=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,v=(f+h)/2,x=eze(p,m),y=x>=0?1:-1,b,N;a==="insideStart"?(b=p+y*s,N=g):a==="insideEnd"?(b=m-y*s,N=!g):a==="end"&&(b=m+y*s,N=g),N=x<=0?N:!N;var _=mn(u,d,v,b),C=mn(u,d,v,b+(N?1:-1)*359),k="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),w=_r(t.id)?a4("recharts-radial-line-"):t.id;return we.createElement("text",uy({},n,{dominantBaseline:"central",className:Ht("recharts-radial-bar-label",o)}),we.createElement("defs",null,we.createElement("path",{id:w,d:k})),we.createElement("textPath",{xlinkHref:"#".concat(w)},r))},rze=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=mn(s,o,u+n,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,x=mn(s,o,v,h),y=x.x,b=x.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},nze=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,v=g*a,x=g>0?"end":"start",y=g>0?"start":"end";if(i==="top"){var b={x:o+u/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return va(va({},b),n?{height:Math.max(l-n.y,0),width:u}:{})}if(i==="bottom"){var N={x:o+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return va(va({},N),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(i==="left"){var _={x:o-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return va(va({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(i==="right"){var C={x:o+u+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return va(va({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return i==="insideLeft"?va({x:o+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},k):i==="insideRight"?va({x:o+u-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},k):i==="insideTop"?va({x:o+u/2,y:l+h,textAnchor:"middle",verticalAnchor:m},k):i==="insideBottom"?va({x:o+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},k):i==="insideTopLeft"?va({x:o+v,y:l+h,textAnchor:y,verticalAnchor:m},k):i==="insideTopRight"?va({x:o+u-v,y:l+h,textAnchor:x,verticalAnchor:m},k):i==="insideBottomLeft"?va({x:o+v,y:l+d-h,textAnchor:y,verticalAnchor:p},k):i==="insideBottomRight"?va({x:o+u-v,y:l+d-h,textAnchor:x,verticalAnchor:p},k):Sm(i)&&(_t(i.x)||wf(i.x))&&(_t(i.y)||wf(i.y))?va({x:o+us(i.x,u),y:l+us(i.y,d),textAnchor:"end",verticalAnchor:"end"},k):va({x:o+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},aze=function(t){return"cx"in t&&_t(t.cx)};function Va(e){var t=e.offset,r=t===void 0?5:t,n=GWe(e,WWe),a=va({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||_r(o)&&_r(l)&&!L.isValidElement(u)&&!ar(u))return null;if(L.isValidElement(u))return L.cloneElement(u,a);var p;if(ar(u)){if(p=L.createElement(u,a),L.isValidElement(p))return p}else p=ZWe(a);var m=aze(i),g=ur(a,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return tze(a,p,g);var v=m?rze(a):nze(a);return we.createElement(Vp,uy({className:Ht("recharts-label",f)},g,v,{breakAll:h}),p)}Va.displayName="Label";var MX=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,g=t.width,v=t.height,x=t.clockWise,y=t.labelViewBox;if(y)return y;if(_t(g)&&_t(v)){if(_t(f)&&_t(h))return{x:f,y:h,width:g,height:v};if(_t(p)&&_t(m))return{x:p,y:m,width:g,height:v}}return _t(f)&&_t(h)?{x:f,y:h,width:0,height:0}:_t(r)&&_t(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||l||o||0,clockWise:x}:t.viewBox?t.viewBox:{}},ize=function(t,r){return t?t===!0?we.createElement(Va,{key:"label-implicit",viewBox:r}):Sa(t)?we.createElement(Va,{key:"label-implicit",viewBox:r,value:t}):L.isValidElement(t)?t.type===Va?L.cloneElement(t,{key:"label-implicit",viewBox:r}):we.createElement(Va,{key:"label-implicit",content:t,viewBox:r}):ar(t)?we.createElement(Va,{key:"label-implicit",content:t,viewBox:r}):Sm(t)?we.createElement(Va,uy({viewBox:r},t,{key:"label-implicit"})):null:null},sze=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=MX(t),s=El(a,Va).map(function(l,u){return L.cloneElement(l,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var o=ize(t.label,r||i);return[o].concat(zWe(s))};Va.parseViewBox=MX;Va.renderCallByParent=sze;function dy(e){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dy(e)}var oze=["valueAccessor"],lze=["data","dataKey","clockWise","id","textBreakAll"];function cze(e){return hze(e)||fze(e)||dze(e)||uze()}function uze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dze(e,t){if(e){if(typeof e=="string")return wT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wT(e,t)}}function fze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hze(e){if(Array.isArray(e))return wT(e)}function wT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S_(){return S_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S_.apply(this,arguments)}function EI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(r),!0).forEach(function(n){pze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pze(e,t,r){return t=mze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mze(e){var t=gze(e,"string");return dy(t)=="symbol"?t:t+""}function gze(e,t){if(dy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OI(e,t){if(e==null)return{};var r=xze(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vze=function(t){return Array.isArray(t.value)?Ft(t.value):t.value};function Ff(e){var t=e.valueAccessor,r=t===void 0?vze:t,n=OI(e,oze),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,u=OI(n,lze);return!a||!a.length?null:we.createElement(Wn,{className:"recharts-label-list"},a.map(function(d,f){var h=_r(i)?r(d,f):Cs(d&&d.payload,i),p=_r(o)?{}:{id:"".concat(o,"-").concat(f)};return we.createElement(Va,S_({},ur(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Va.parseViewBox(_r(s)?d:PI(PI({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Ff.displayName="LabelList";function yze(e,t){return e?e===!0?we.createElement(Ff,{key:"labelList-implicit",data:t}):we.isValidElement(e)||ar(e)?we.createElement(Ff,{key:"labelList-implicit",data:t,content:e}):Sm(e)?we.createElement(Ff,S_({data:t},e,{key:"labelList-implicit"})):null:null}function bze(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=El(n,Ff).map(function(s,o){return L.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=yze(e.label,t);return[i].concat(cze(a))}Ff.renderCallByParent=bze;function fy(e){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fy(e)}function _T(){return _T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_T.apply(this,arguments)}function $I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$I(Object(r),!0).forEach(function(n){wze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$I(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wze(e,t,r){return t=_ze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ze(e){var t=kze(e,"string");return fy(t)=="symbol"?t:t+""}function kze(e,t){if(fy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sze=function(t,r){var n=oo(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},r2=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,d=l*(o?1:-1)+a,f=Math.asin(l/d)/k_,h=u?i:i+s*f,p=mn(r,n,d,h),m=mn(r,n,a,h),g=u?i-s*f:i,v=mn(r,n,d*Math.cos(f*k_),g);return{center:p,circleTangency:m,lineTangency:v,theta:f}},FX=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=Sze(s,o),u=s+l,d=mn(r,n,i,s),f=mn(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=mn(r,n,a,s),m=mn(r,n,a,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Nze=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=oo(d-u),h=r2({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,g=h.theta,v=r2({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),x=v.circleTangency,y=v.lineTangency,b=v.theta,N=l?Math.abs(u-d):Math.abs(u-d)-g-b;if(N<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):FX({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var _="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var C=r2({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=C.circleTangency,w=C.lineTangency,S=C.theta,P=r2({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=P.circleTangency,T=P.lineTangency,F=P.theta,M=l?Math.abs(u-d):Math.abs(u-d)-S-F;if(M<0&&s===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},jze={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LX=function(t){var r=DI(DI({},jze),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<i||d===f)return null;var p=Ht("recharts-sector",h),m=s-i,g=us(o,m,0,!0),v;return g>0&&Math.abs(d-f)<360?v=Nze({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):v=FX({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),we.createElement("path",_T({},ur(r,!0),{className:p,d:v,role:"img"}))};function hy(e){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hy(e)}function kT(){return kT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kT.apply(this,arguments)}function MI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(r),!0).forEach(function(n){Cze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cze(e,t,r){return t=Tze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tze(e){var t=Aze(e,"string");return hy(t)=="symbol"?t:t+""}function Aze(e,t){if(hy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LI={curveBasisClosed:WY,curveBasisOpen:HY,curveBasis:BY,curveBumpX:g3e,curveBumpY:x3e,curveLinearClosed:XY,curveLinear:a1,curveMonotoneX:ZY,curveMonotoneY:eV,curveNatural:rV,curveStep:nV,curveStepAfter:iV,curveStepBefore:aV},n2=function(t){return t.x===+t.x&&t.y===+t.y},tx=function(t){return t.x},rx=function(t){return t.y},Eze=function(t,r){if(ar(t))return t;var n="curve".concat(s4(t));return(n==="curveMonotone"||n==="curveBump")&&r?LI["".concat(n).concat(r==="vertical"?"Y":"X")]:LI[n]||a1},Pze=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,u=l===void 0?!1:l,d=Eze(n,o),f=u?i.filter(function(g){return n2(g)}):i,h;if(Array.isArray(s)){var p=u?s.filter(function(g){return n2(g)}):s,m=f.map(function(g,v){return FI(FI({},g),{},{base:p[v]})});return o==="vertical"?h=mx().y(rx).x1(tx).x0(function(g){return g.base.x}):h=mx().x(tx).y1(rx).y0(function(g){return g.base.y}),h.defined(n2).curve(d),h(m)}return o==="vertical"&&_t(s)?h=mx().y(rx).x1(tx).x0(s):_t(s)?h=mx().x(tx).y1(rx).y0(s):h=Ok().x(tx).y(rx),h.defined(n2).curve(d),h(f)},ST=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?Pze(t):a;return we.createElement("path",kT({},ur(t,!1),p_(t),{className:Ht("recharts-curve",r),d:s,ref:i}))},Oze=Object.getOwnPropertyNames,$ze=Object.getOwnPropertySymbols,Dze=Object.prototype.hasOwnProperty;function II(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function a2(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function RI(e){return Oze(e).concat($ze(e))}var Mze=Object.hasOwn||function(e,t){return Dze.call(e,t)};function Th(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Fze="__v",Lze="__o",Ize="_owner",BI=Object.getOwnPropertyDescriptor,UI=Object.keys;function Rze(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Bze(e,t){return Th(e.getTime(),t.getTime())}function Uze(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Wze(e,t){return e===t}function WI(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var u=t.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(a[f]){f++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}var zze=Th;function Hze(e,t,r){var n=UI(e),a=n.length;if(UI(t).length!==a)return!1;for(;a-- >0;)if(!IX(e,t,r,n[a]))return!1;return!0}function nx(e,t,r){var n=RI(e),a=n.length;if(RI(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!IX(e,t,r,i)||(s=BI(e,i),o=BI(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function qze(e,t){return Th(e.valueOf(),t.valueOf())}function Yze(e,t){return e.source===t.source&&e.flags===t.flags}function zI(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),u=!1,d=0;(o=l.next())&&!o.done;){if(!a[d]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Vze(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Gze(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function IX(e,t,r,n){return(n===Ize||n===Lze||n===Fze)&&(e.$$typeof||t.$$typeof)?!0:Mze(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Kze="[object Arguments]",Xze="[object Boolean]",Qze="[object Date]",Jze="[object Error]",Zze="[object Map]",eHe="[object Number]",tHe="[object Object]",rHe="[object RegExp]",nHe="[object Set]",aHe="[object String]",iHe="[object URL]",sHe=Array.isArray,HI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,qI=Object.assign,oHe=Object.prototype.toString.call.bind(Object.prototype.toString);function lHe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(m,g,v){if(m===g)return!0;if(m==null||g==null)return!1;var x=typeof m;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?s(m,g,v):x==="function"?a(m,g,v):!1;var y=m.constructor;if(y!==g.constructor)return!1;if(y===Object)return o(m,g,v);if(sHe(m))return t(m,g,v);if(HI!=null&&HI(m))return f(m,g,v);if(y===Date)return r(m,g,v);if(y===RegExp)return u(m,g,v);if(y===Map)return i(m,g,v);if(y===Set)return d(m,g,v);var b=oHe(m);return b===Qze?r(m,g,v):b===rHe?u(m,g,v):b===Zze?i(m,g,v):b===nHe?d(m,g,v):b===tHe?typeof m.then!="function"&&typeof g.then!="function"&&o(m,g,v):b===iHe?h(m,g,v):b===Jze?n(m,g,v):b===Kze?o(m,g,v):b===Xze||b===eHe||b===aHe?l(m,g,v):!1}}function cHe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?nx:Rze,areDatesEqual:Bze,areErrorsEqual:Uze,areFunctionsEqual:Wze,areMapsEqual:n?II(WI,nx):WI,areNumbersEqual:zze,areObjectsEqual:n?nx:Hze,arePrimitiveWrappersEqual:qze,areRegExpsEqual:Yze,areSetsEqual:n?II(zI,nx):zI,areTypedArraysEqual:n?nx:Vze,areUrlsEqual:Gze};if(r&&(a=qI({},a,r(a))),t){var i=a2(a.areArraysEqual),s=a2(a.areMapsEqual),o=a2(a.areObjectsEqual),l=a2(a.areSetsEqual);a=qI({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function uHe(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function dHe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(l,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(l,u){return r(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,u){return r(l,u,s)}}var fHe=Dd();Dd({strict:!0});Dd({circular:!0});Dd({circular:!0,strict:!0});Dd({createInternalComparator:function(){return Th}});Dd({strict:!0,createInternalComparator:function(){return Th}});Dd({circular:!0,createInternalComparator:function(){return Th}});Dd({circular:!0,createInternalComparator:function(){return Th},strict:!0});function Dd(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=cHe(e),l=lHe(o),u=n?n(l):uHe(l);return dHe({circular:r,comparator:l,createState:a,equals:u,strict:s})}function hHe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function YI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):hHe(a)};requestAnimationFrame(n)}function NT(e){"@babel/helpers - typeof";return NT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NT(e)}function pHe(e){return vHe(e)||xHe(e)||gHe(e)||mHe()}function mHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gHe(e,t){if(e){if(typeof e=="string")return VI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VI(e,t)}}function VI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xHe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vHe(e){if(Array.isArray(e))return e}function yHe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=pHe(s),l=o[0],u=o.slice(1);if(typeof l=="number"){YI(a.bind(null,u),l);return}a(l),YI(a.bind(null,u));return}NT(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function py(e){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},py(e)}function GI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(r),!0).forEach(function(n){RX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RX(e,t,r){return t=bHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bHe(e){var t=wHe(e,"string");return py(t)==="symbol"?t:String(t)}function wHe(e,t){if(py(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(py(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _He=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},kHe=function(t){return t},SHe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Qx=function(t,r){return Object.keys(r).reduce(function(n,a){return KI(KI({},n),{},RX({},a,t(a,r[a])))},{})},XI=function(t,r,n){return t.map(function(a){return"".concat(SHe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function NHe(e,t){return THe(e)||CHe(e,t)||BX(e,t)||jHe()}function jHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CHe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function THe(e){if(Array.isArray(e))return e}function AHe(e){return OHe(e)||PHe(e)||BX(e)||EHe()}function EHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BX(e,t){if(e){if(typeof e=="string")return jT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jT(e,t)}}function PHe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OHe(e){if(Array.isArray(e))return jT(e)}function jT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var N_=1e-4,UX=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},WX=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},QI=function(t,r){return function(n){var a=UX(t,r);return WX(a,n)}},$He=function(t,r){return function(n){var a=UX(t,r),i=[].concat(AHe(a.map(function(s,o){return s*o}).slice(1)),[0]);return WX(i,n)}},JI=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=NHe(u,4);a=d[0],i=d[1],s=d[2],o=d[3]}}}var f=QI(a,s),h=QI(i,o),p=$He(a,s),m=function(x){return x>1?1:x<0?0:x},g=function(x){for(var y=x>1?1:x,b=y,N=0;N<8;++N){var _=f(b)-y,C=p(b);if(Math.abs(_-y)<N_||C<N_)return h(b);b=m(b-_/C)}return h(b)};return g.isStepper=!1,g},DHe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(d,f,h){var p=-(d-f)*n,m=h*i,g=h+(p-m)*o/1e3,v=h*o/1e3+d;return Math.abs(v-f)<N_&&Math.abs(g)<N_?[f,0]:[v,g]};return l.isStepper=!0,l.dt=o,l},MHe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JI(a);case"spring":return DHe();default:if(a.split("(")[0]==="cubic-bezier")return JI(a)}return typeof a=="function"?a:null};function my(e){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},my(e)}function ZI(e){return IHe(e)||LHe(e)||zX(e)||FHe()}function FHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LHe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IHe(e){if(Array.isArray(e))return TT(e)}function eR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(r),!0).forEach(function(n){CT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CT(e,t,r){return t=RHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RHe(e){var t=BHe(e,"string");return my(t)==="symbol"?t:String(t)}function BHe(e,t){if(my(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(my(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UHe(e,t){return HHe(e)||zHe(e,t)||zX(e,t)||WHe()}function WHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zX(e,t){if(e){if(typeof e=="string")return TT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TT(e,t)}}function TT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zHe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function HHe(e){if(Array.isArray(e))return e}var j_=function(t,r,n){return t+(r-t)*n},AT=function(t){var r=t.from,n=t.to;return r!==n},qHe=function e(t,r,n){var a=Qx(function(i,s){if(AT(s)){var o=t(s.from,s.to,s.velocity),l=UHe(o,2),u=l[0],d=l[1];return Ha(Ha({},s),{},{from:u,velocity:d})}return s},r);return n<1?Qx(function(i,s){return AT(s)?Ha(Ha({},s),{},{velocity:j_(s.velocity,a[i].velocity,n),from:j_(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const YHe=function(e,t,r,n,a){var i=_He(e,t),s=i.reduce(function(v,x){return Ha(Ha({},v),{},CT({},x,[e[x],t[x]]))},{}),o=i.reduce(function(v,x){return Ha(Ha({},v),{},CT({},x,{from:e[x],velocity:0,to:t[x]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return Qx(function(x,y){return y.from},o)},p=function(){return!Object.values(o).filter(AT).length},m=function(x){u||(u=x);var y=x-u,b=y/r.dt;o=qHe(r,o,b),a(Ha(Ha(Ha({},e),t),h())),u=x,p()||(l=requestAnimationFrame(f))},g=function(x){d||(d=x);var y=(x-d)/n,b=Qx(function(_,C){return j_.apply(void 0,ZI(C).concat([r(y)]))},s);if(a(Ha(Ha(Ha({},e),t),b)),y<1)l=requestAnimationFrame(f);else{var N=Qx(function(_,C){return j_.apply(void 0,ZI(C).concat([r(1)]))},s);a(Ha(Ha(Ha({},e),t),N))}};return f=r.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}var VHe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function GHe(e,t){if(e==null)return{};var r=KHe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KHe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function dN(e){return ZHe(e)||JHe(e)||QHe(e)||XHe()}function XHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QHe(e,t){if(e){if(typeof e=="string")return ET(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ET(e,t)}}function JHe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZHe(e){if(Array.isArray(e))return ET(e)}function ET(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Po(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(r),!0).forEach(function(n){yx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yx(e,t,r){return t=HX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tqe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HX(n.key),n)}}function rqe(e,t,r){return t&&tqe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HX(e){var t=nqe(e,"string");return Xp(t)==="symbol"?t:String(t)}function nqe(e,t){if(Xp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PT(e,t)}function PT(e,t){return PT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PT(e,t)}function iqe(e){var t=sqe();return function(){var n=C_(e),a;if(t){var i=C_(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return OT(this,a)}}function OT(e,t){if(t&&(Xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $T(e)}function $T(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C_(e){return C_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C_(e)}var _d=function(e){aqe(r,e);var t=iqe(r);function r(n,a){var i;eqe(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind($T(i)),i.changeStyle=i.changeStyle.bind($T(i)),!o||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),OT(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},OT(i);i.state={style:l?yx({},l,u):u}}else i.state={style:{}};return i}return rqe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(o){if(!s){var p={style:l?yx({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(fHe(a.to,d)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:a.to;if(this.state&&h){var v={style:l?yx({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(Po(Po({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=YHe(s,o,MHe(u),l,this.changeStyle),m=function(){i.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,v,x){if(x===0)return g;var y=v.duration,b=v.easing,N=b===void 0?"ease":b,_=v.style,C=v.properties,k=v.onAnimationEnd,w=x>0?s[x-1]:v,S=C||Object.keys(_);if(typeof N=="function"||N==="spring")return[].concat(dN(g),[i.runJSAnimation.bind(i,{from:w.style,to:_,duration:y,easing:N}),y]);var P=XI(S,y,N),A=Po(Po(Po({},w.style),_),{},{transition:P});return[].concat(dN(g),[A,y,k]).filter(kHe)};return this.manager.start([l].concat(dN(s.reduce(p,[d,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=yHe());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=o?yx({},o,l):l,v=XI(Object.keys(g),s,u);m.start([d,i,Po(Po({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=GHe(a,VHe),u=L.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!o||u===0||s<=0)return i;var f=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,x=m.className,y=L.cloneElement(p,Po(Po({},l),{},{style:Po(Po({},v),d),className:x}));return y};return u===1?f(L.Children.only(i)):we.createElement("div",null,L.Children.map(i,function(h){return f(h)}))}}]),r}(L.PureComponent);_d.displayName="Animate";_d.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_d.propTypes={from:Re.oneOfType([Re.object,Re.string]),to:Re.oneOfType([Re.object,Re.string]),attributeName:Re.string,duration:Re.number,begin:Re.number,easing:Re.oneOfType([Re.string,Re.func]),steps:Re.arrayOf(Re.shape({duration:Re.number.isRequired,style:Re.object.isRequired,easing:Re.oneOfType([Re.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Re.func]),properties:Re.arrayOf("string"),onAnimationEnd:Re.func})),children:Re.oneOfType([Re.node,Re.func]),isActive:Re.bool,canBegin:Re.bool,onAnimationEnd:Re.func,shouldReAnimate:Re.bool,onAnimationStart:Re.func,onAnimationReStart:Re.func};function gy(e){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gy(e)}function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T_.apply(this,arguments)}function oqe(e,t){return dqe(e)||uqe(e,t)||cqe(e,t)||lqe()}function lqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cqe(e,t){if(e){if(typeof e=="string")return rR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rR(e,t)}}function rR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uqe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function dqe(e){if(Array.isArray(e))return e}function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(n){fqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fqe(e,t,r){return t=hqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hqe(e){var t=pqe(e,"string");return gy(t)=="symbol"?t:t+""}function pqe(e,t){if(gy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iR=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>s?s:i[h];d="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+o*f[1])),d+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),d+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-o*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);d="M ".concat(t,",").concat(r+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n,",").concat(r+o*m,`
            L `).concat(t+n,",").concat(r+a-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(r+a-o*m," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},mqe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(i,i+o),d=Math.max(i,i+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=u&&n<=d&&a>=f&&a<=h}return!1},gqe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zP=function(t){var r=aR(aR({},gqe),t),n=L.useRef(),a=L.useState(-1),i=oqe(a,2),s=i[0],o=i[1];L.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&o(N)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Ht("recharts-rectangle",p);return y?we.createElement(_d,{canBegin:s>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:y},function(N){var _=N.width,C=N.height,k=N.x,w=N.y;return we.createElement(_d,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:m},we.createElement("path",T_({},ur(r,!0),{className:b,d:iR(k,w,_,C,h),ref:n})))}):we.createElement("path",T_({},ur(r,!0),{className:b,d:iR(l,u,d,f,h)}))},xqe=["points","className","baseLinePoints","connectNulls"];function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R0.apply(this,arguments)}function vqe(e,t){if(e==null)return{};var r=yqe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sR(e){return kqe(e)||_qe(e)||wqe(e)||bqe()}function bqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wqe(e,t){if(e){if(typeof e=="string")return DT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DT(e,t)}}function _qe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kqe(e){if(Array.isArray(e))return DT(e)}function DT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oR=function(t){return t&&t.x===+t.x&&t.y===+t.y},Sqe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){oR(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),oR(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Jx=function(t,r){var n=Sqe(t);r&&(n=[n.reduce(function(i,s){return[].concat(sR(i),sR(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Nqe=function(t,r,n){var a=Jx(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Jx(r.reverse(),n).slice(1))},jqe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,s=vqe(t,xqe);if(!r||!r.length)return null;var o=Ht("recharts-polygon",n);if(a&&a.length){var l=s.stroke&&s.stroke!=="none",u=Nqe(r,a,i);return we.createElement("g",{className:o},we.createElement("path",R0({},ur(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?we.createElement("path",R0({},ur(s,!0),{fill:"none",d:Jx(r,i)})):null,l?we.createElement("path",R0({},ur(s,!0),{fill:"none",d:Jx(a,i)})):null)}var d=Jx(r,i);return we.createElement("path",R0({},ur(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function MT(){return MT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MT.apply(this,arguments)}var HP=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=Ht("recharts-dot",i);return r===+r&&n===+n&&a===+a?we.createElement("circle",MT({},ur(t,!1),p_(t),{className:s,cx:r,cy:n,r:a})):null};function xy(e){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xy(e)}var Cqe=["x","y","top","left","width","height","className"];function FT(){return FT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FT.apply(this,arguments)}function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tqe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(n){Aqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aqe(e,t,r){return t=Eqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eqe(e){var t=Pqe(e,"string");return xy(t)=="symbol"?t:t+""}function Pqe(e,t){if(xy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oqe(e,t){if(e==null)return{};var r=$qe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $qe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dqe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},Mqe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,u=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,m=t.className,g=Oqe(t,Cqe),v=Tqe({x:n,y:i,top:o,left:u,width:f,height:p},g);return!_t(n)||!_t(i)||!_t(f)||!_t(p)||!_t(o)||!_t(u)?null:we.createElement("path",FT({},ur(v,!0),{className:Ht("recharts-cross",m),d:Dqe(n,i,f,p,o,u)}))},Fqe=u4,Lqe=uX,Iqe=$d;function Rqe(e,t){return e&&e.length?Fqe(e,Iqe(t),Lqe):void 0}var Bqe=Rqe;const Uqe=hr(Bqe);var Wqe=u4,zqe=$d,Hqe=dX;function qqe(e,t){return e&&e.length?Wqe(e,zqe(t),Hqe):void 0}var Yqe=qqe;const Vqe=hr(Yqe);var Gqe=["cx","cy","angle","ticks","axisLine"],Kqe=["ticks","tick","angle","tickFormatter","stroke"];function Qp(e){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qp(e)}function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zx.apply(this,arguments)}function cR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(r),!0).forEach(function(n){m4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uR(e,t){if(e==null)return{};var r=Xqe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YX(n.key),n)}}function Jqe(e,t,r){return t&&dR(e.prototype,t),r&&dR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zqe(e,t,r){return t=A_(t),eYe(e,qX()?Reflect.construct(t,r||[],A_(e).constructor):t.apply(e,r))}function eYe(e,t){if(t&&(Qp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tYe(e)}function tYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qX=function(){return!!e})()}function A_(e){return A_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A_(e)}function rYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LT(e,t)}function LT(e,t){return LT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LT(e,t)}function m4(e,t,r){return t=YX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YX(e){var t=nYe(e,"string");return Qp(t)=="symbol"?t:t+""}function nYe(e,t){if(Qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g4=function(e){function t(){return Qqe(this,t),Zqe(this,t,arguments)}return rYe(t,e),Jqe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,o=i.cx,l=i.cy;return mn(o,l,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,l=Uqe(o,function(d){return d.coordinate||0}),u=Vqe(o,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,l=n.axisLine,u=uR(n,Gqe),d=o.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),f=mn(a,i,d[0],s),h=mn(a,i,d[1],s),p=Vd(Vd(Vd({},ur(u,!1)),{},{fill:"none"},ur(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return we.createElement("line",Zx({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.angle,l=a.tickFormatter,u=a.stroke,d=uR(a,Kqe),f=this.getTickTextAnchor(),h=ur(d,!1),p=ur(s,!1),m=i.map(function(g,v){var x=n.getTickValueCoord(g),y=Vd(Vd(Vd(Vd({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},x),{},{payload:g});return we.createElement(Wn,Zx({className:Ht("recharts-polar-radius-axis-tick",DX(s)),key:"tick-".concat(g.coordinate)},i4(n.props,g,v)),t.renderTickItem(s,y,l?l(g.value,v):g.value))});return we.createElement(Wn,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:we.createElement(Wn,{className:Ht("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),Va.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return we.isValidElement(n)?s=we.cloneElement(n,a):ar(n)?s=n(a):s=we.createElement(Vp,Zx({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(L.PureComponent);m4(g4,"displayName","PolarRadiusAxis");m4(g4,"axisType","radiusAxis");m4(g4,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Jp(e){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jp(e)}function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lf.apply(this,arguments)}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){x4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GX(n.key),n)}}function iYe(e,t,r){return t&&hR(e.prototype,t),r&&hR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sYe(e,t,r){return t=E_(t),oYe(e,VX()?Reflect.construct(t,r||[],E_(e).constructor):t.apply(e,r))}function oYe(e,t){if(t&&(Jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lYe(e)}function lYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VX=function(){return!!e})()}function E_(e){return E_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E_(e)}function cYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IT(e,t)}function IT(e,t){return IT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IT(e,t)}function x4(e,t,r){return t=GX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GX(e){var t=uYe(e,"string");return Jp(t)=="symbol"?t:t+""}function uYe(e,t){if(Jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dYe=Math.PI/180,fYe=1e-5,v4=function(e){function t(){return aYe(this,t),sYe(this,t,arguments)}return cYe(t,e),iYe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,o=a.radius,l=a.orientation,u=a.tickSize,d=u||8,f=mn(i,s,o,n.coordinate),h=mn(i,s,o+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*dYe),s;return i>fYe?s=a==="outer"?"start":"end":i<-1e-5?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,o=n.axisLine,l=n.axisLineType,u=Gd(Gd({},ur(this.props,!1)),{},{fill:"none"},ur(o,!1));if(l==="circle")return we.createElement(HP,lf({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:s}));var d=this.props.ticks,f=d.map(function(h){return mn(a,i,s,h.coordinate)});return we.createElement(jqe,lf({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.tickLine,l=a.tickFormatter,u=a.stroke,d=ur(this.props,!1),f=ur(s,!1),h=Gd(Gd({},d),{},{fill:"none"},ur(o,!1)),p=i.map(function(m,g){var v=n.getTickLineCoord(m),x=n.getTickTextAnchor(m),y=Gd(Gd(Gd({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:m,x:v.x2,y:v.y2});return we.createElement(Wn,lf({className:Ht("recharts-polar-angle-axis-tick",DX(s)),key:"tick-".concat(m.coordinate)},i4(n.props,m,g)),o&&we.createElement("line",lf({className:"recharts-polar-angle-axis-tick-line"},h,v)),s&&t.renderTickItem(s,y,l?l(m.value,g):m.value))});return we.createElement(Wn,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:we.createElement(Wn,{className:Ht("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return we.isValidElement(n)?s=we.cloneElement(n,a):ar(n)?s=n(a):s=we.createElement(Vp,lf({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(L.PureComponent);x4(v4,"displayName","PolarAngleAxis");x4(v4,"axisType","angleAxis");x4(v4,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var hYe=Hl,pYe=nl,mYe="[object Boolean]";function gYe(e){return e===!0||e===!1||pYe(e)&&hYe(e)==mYe}var xYe=gYe;const vYe=hr(xYe);function vy(e){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vy(e)}function P_(){return P_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P_.apply(this,arguments)}function yYe(e,t){return kYe(e)||_Ye(e,t)||wYe(e,t)||bYe()}function bYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wYe(e,t){if(e){if(typeof e=="string")return pR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pR(e,t)}}function pR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _Ye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function kYe(e){if(Array.isArray(e))return e}function mR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(r),!0).forEach(function(n){SYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SYe(e,t,r){return t=NYe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NYe(e){var t=jYe(e,"string");return vy(t)=="symbol"?t:t+""}function jYe(e,t){if(vy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xR=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},CYe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},TYe=function(t){var r=gR(gR({},CYe),t),n=L.useRef(),a=L.useState(-1),i=yYe(a,2),s=i[0],o=i[1];L.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&o(b)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Ht("recharts-trapezoid",p);return x?we.createElement(_d,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:g,animationEasing:m,isActive:x},function(b){var N=b.upperWidth,_=b.lowerWidth,C=b.height,k=b.x,w=b.y;return we.createElement(_d,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},we.createElement("path",P_({},ur(r,!0),{className:y,d:xR(k,w,N,_,C),ref:n})))}):we.createElement("g",null,we.createElement("path",P_({},ur(r,!0),{className:y,d:xR(l,u,d,f,h)})))},AYe=["option","shapeType","propTransformer","activeClassName","isActive"];function yy(e){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yy(e)}function EYe(e,t){if(e==null)return{};var r=PYe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PYe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(n){OYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OYe(e,t,r){return t=$Ye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Ye(e){var t=DYe(e,"string");return yy(t)=="symbol"?t:t+""}function DYe(e,t){if(yy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MYe(e,t){return O_(O_({},t),e)}function FYe(e,t){return e==="symbols"}function yR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return we.createElement(zP,r);case"trapezoid":return we.createElement(TYe,r);case"sector":return we.createElement(LX,r);case"symbols":if(FYe(t))return we.createElement(FP,r);break;default:return null}}function LYe(e){return L.isValidElement(e)?e.props:e}function IYe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?MYe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=EYe(e,AYe),u;if(L.isValidElement(t))u=L.cloneElement(t,O_(O_({},l),LYe(t)));else if(ar(t))u=t(l);else if(U5(t)&&!vYe(t)){var d=a(t,l);u=we.createElement(yR,{shapeType:r,elementProps:d})}else{var f=l;u=we.createElement(yR,{shapeType:r,elementProps:f})}return o?we.createElement(Wn,{className:s},u):u}function y4(e,t){return t!=null&&"trapezoids"in e.props}function b4(e,t){return t!=null&&"sectors"in e.props}function by(e,t){return t!=null&&"points"in e.props}function RYe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function BYe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function UYe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function WYe(e,t){var r;return y4(e,t)?r=RYe:b4(e,t)?r=BYe:by(e,t)&&(r=UYe),r}function zYe(e,t){var r;return y4(e,t)?r="trapezoids":b4(e,t)?r="sectors":by(e,t)&&(r="points"),r}function HYe(e,t){if(y4(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(b4(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return by(e,t)?t.payload:{}}function qYe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=zYe(r,t),i=HYe(r,t),s=n.filter(function(l,u){var d=Mk(i,l),f=r.props[a].filter(function(m){var g=WYe(r,t);return g(m,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),o=n.indexOf(s[s.length-1]);return o}var O2;function Zp(e){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zp(e)}function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B0.apply(this,arguments)}function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(n){ao(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XX(n.key),n)}}function VYe(e,t,r){return t&&wR(e.prototype,t),r&&wR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GYe(e,t,r){return t=$_(t),KYe(e,KX()?Reflect.construct(t,r||[],$_(e).constructor):t.apply(e,r))}function KYe(e,t){if(t&&(Zp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XYe(e)}function XYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KX=function(){return!!e})()}function $_(e){return $_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$_(e)}function QYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RT(e,t)}function RT(e,t){return RT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RT(e,t)}function ao(e,t,r){return t=XX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XX(e){var t=JYe(e,"string");return Zp(t)=="symbol"?t:t+""}function JYe(e,t){if(Zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vl=function(e){function t(r){var n;return YYe(this,t),n=GYe(this,t,[r]),ao(n,"pieRef",null),ao(n,"sectorRefs",[]),ao(n,"id",a4("recharts-pie-")),ao(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ar(a)&&a()}),ao(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ar(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return QYe(t,e),VYe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,o=i.labelLine,l=i.dataKey,u=i.valueKey,d=ur(this.props,!1),f=ur(s,!1),h=ur(o,!1),p=s&&s.offsetRadius||20,m=n.map(function(g,v){var x=(g.startAngle+g.endAngle)/2,y=mn(g.cx,g.cy,g.outerRadius+p,x),b=fn(fn(fn(fn({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(y.x,g.cx)},y),N=fn(fn(fn(fn({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[mn(g.cx,g.cy,g.outerRadius,x),y]}),_=l;return _r(l)&&_r(u)?_="value":_r(l)&&(_=u),we.createElement(Wn,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},o&&t.renderLabelLineItem(o,N,"line"),t.renderLabelItem(s,b,Cs(g,_)))});return we.createElement(Wn,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,o=i.blendStroke,l=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=l&&a.hasActiveIndex()?l:null,p=f?s:h,m=fn(fn({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return we.createElement(Wn,B0({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},i4(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),we.createElement(IYe,B0({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,o=a.animationBegin,l=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return we.createElement(_d,{begin:o,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,v=[],x=i&&i[0],y=x.startAngle;return i.forEach(function(b,N){var _=h&&h[N],C=N>0?ra(b,"paddingAngle",0):0;if(_){var k=TL(_.endAngle-_.startAngle,b.endAngle-b.startAngle),w=fn(fn({},b),{},{startAngle:y+C,endAngle:y+k(g)+C});v.push(w),y=w.endAngle}else{var S=b.endAngle,P=b.startAngle,A=TL(0,S-P),T=A(g),F=fn(fn({},b),{},{startAngle:y+C,endAngle:y+T+C});v.push(F),y=F.endAngle}}),we.createElement(Wn,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!Mk(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,o=a.className,l=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,m=this.state.isAnimationFinished;if(i||!s||!s.length||!_t(u)||!_t(d)||!_t(f)||!_t(h))return null;var g=Ht("recharts-pie",o);return we.createElement(Wn,{tabIndex:this.props.rootTabIndex,className:g,ref:function(x){n.pieRef=x}},this.renderSectors(),l&&this.renderLabels(s),Va.renderCallByParent(this.props,null,!1),(!p||m)&&Ff.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(we.isValidElement(n))return we.cloneElement(n,a);if(ar(n))return n(a);var s=Ht("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return we.createElement(ST,B0({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(we.isValidElement(n))return we.cloneElement(n,a);var s=i;if(ar(n)&&(s=n(a),we.isValidElement(s)))return s;var o=Ht("recharts-pie-label-text",typeof n!="boolean"&&!ar(n)?n.className:"");return we.createElement(Vp,B0({},a,{alignmentBaseline:"middle",className:o}),s)}}])}(L.PureComponent);O2=Vl;ao(Vl,"displayName","Pie");ao(Vl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!l4.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ao(Vl,"parseDeltaAngle",function(e,t){var r=oo(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ao(Vl,"getRealPieData",function(e){var t=e.data,r=e.children,n=ur(e,!1),a=El(r,c4);return t&&t.length?t.map(function(i,s){return fn(fn(fn({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return fn(fn({},n),i.props)}):[]});ao(Vl,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=$X(a,i),o=n+us(e.cx,a,a/2),l=r+us(e.cy,i,i/2),u=us(e.innerRadius,s,0),d=us(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:o,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});ao(Vl,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?fn(fn({},t.type.defaultProps),t.props):t.props,a=O2.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),m=O2.parseCoordinateOfPie(n,r),g=O2.parseDeltaAngle(s,o),v=Math.abs(g),x=u;_r(u)&&_r(f)?(Ac(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):_r(u)&&(Ac(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var y=a.filter(function(w){return Cs(w,x,0)!==0}).length,b=(v>=360?y:y-1)*l,N=v-y*p-b,_=a.reduce(function(w,S){var P=Cs(S,x,0);return w+(_t(P)?P:0)},0),C;if(_>0){var k;C=a.map(function(w,S){var P=Cs(w,x,0),A=Cs(w,d,S),T=(_t(P)?P:0)/_,F;S?F=k.endAngle+oo(g)*l*(P!==0?1:0):F=s;var M=F+oo(g)*((P!==0?p:0)+T*N),H=(F+M)/2,z=(m.innerRadius+m.outerRadius)/2,Y=[{name:A,value:P,payload:w,dataKey:x,type:h}],G=mn(m.cx,m.cy,z,H);return k=fn(fn(fn({percent:T,cornerRadius:i,name:A,tooltipPayload:Y,midAngle:H,middleRadius:z,tooltipPosition:G},w),m),{},{value:Cs(w,x),startAngle:F,endAngle:M,payload:w,paddingAngle:oo(g)*l}),k})}return fn(fn({},m),{},{sectors:C,data:a})});var ZYe=Math.ceil,eVe=Math.max;function tVe(e,t,r,n){for(var a=-1,i=eVe(ZYe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var rVe=tVe,nVe=nX,aVe=1/0,iVe=17976931348623157e292;function sVe(e){if(!e)return e===0?e:0;if(e=nVe(e),e===aVe||e===-1/0){var t=e<0?-1:1;return t*iVe}return e===e?e:0}var oVe=sVe,lVe=rVe,cVe=Zy,fN=oVe;function uVe(e){return function(t,r,n){return n&&typeof n!="number"&&cVe(t,r,n)&&(r=n=void 0),t=fN(t),r===void 0?(r=t,t=0):r=fN(r),n=n===void 0?t<r?1:-1:fN(n),lVe(t,r,n,e)}}var dVe=uVe,fVe=dVe,hVe=fVe(),pVe=hVe;const D_=hr(pVe);function wy(e){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wy(e)}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(n){QX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QX(e,t,r){return t=mVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mVe(e){var t=gVe(e,"string");return wy(t)=="symbol"?t:t+""}function gVe(e,t){if(wy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xVe=["Webkit","Moz","O","ms"],vVe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=xVe.reduce(function(i,s){return kR(kR({},i),{},QX({},s+n,r))},{});return a[t]=r,a};function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function M_(){return M_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M_.apply(this,arguments)}function SR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(r),!0).forEach(function(n){_s(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZX(n.key),n)}}function bVe(e,t,r){return t&&NR(e.prototype,t),r&&NR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wVe(e,t,r){return t=F_(t),_Ve(e,JX()?Reflect.construct(t,r||[],F_(e).constructor):t.apply(e,r))}function _Ve(e,t){if(t&&(em(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kVe(e)}function kVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JX=function(){return!!e})()}function F_(e){return F_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F_(e)}function SVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BT(e,t)}function BT(e,t){return BT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BT(e,t)}function _s(e,t,r){return t=ZX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZX(e){var t=NVe(e,"string");return em(t)=="symbol"?t:t+""}function NVe(e,t){if(em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jVe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=rp().domain(D_(0,l)).range([i,i+s-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},jR=function(t){return t.changedTouches&&!!t.changedTouches.length},tm=function(e){function t(r){var n;return yVe(this,t),n=wVe(this,t,[r]),_s(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),_s(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),_s(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),_s(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),_s(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),_s(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),_s(n,"handleSlideDragStart",function(a){var i=jR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return SVe(t,e),bVe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,f),m=t.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=Cs(i[n],o,n);return ar(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-o,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-o));var v=this.getIndex({startX:s+g,endX:o+g});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:s+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=jR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),x[s]=u+y;var b=this.getIndex(x),N=b.startIndex,_=b.endIndex,C=function(){var w=v.length-1;return s==="startX"&&(o>l?N%g===0:_%g===0)||o<l&&_===w||s==="endX"&&(o>l?_%g===0:N%g===0)||o>l&&_===w};this.setState(_s(_s({},s,u+y),"brushMoveStartX",n.pageX),function(){m&&C()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,d=this.state[a],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=u||a==="endX"&&p<=l||this.setState(_s({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,u=n.stroke;return we.createElement("rect",{stroke:u,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,u=n.children,d=n.padding,f=L.Children.only(u);return f?we.cloneElement(f,{x:a,y:i,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,x=Math.max(n,this.props.x),y=hN(hN({},ur(this.props,!1)),{},{x,y:u,width:d,height:f}),b=p||"Min value: ".concat((i=m[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=m[v])===null||s===void 0?void 0:s.name);return we.createElement(Wn,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),o.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return we.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return we.createElement(Wn,{className:"recharts-brush-texts"},we.createElement(Vp,M_({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},m),this.getTextOfTick(a)),we.createElement(Vp,M_({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!_t(o)||!_t(l)||!_t(u)||!_t(d)||u<=0||d<=0)return null;var b=Ht("recharts-brush",i),N=we.Children.count(s)===1,_=vVe("userSelect","none");return we.createElement(Wn,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,u=Math.floor(i+o/2)-1;return we.createElement(we.Fragment,null,we.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),we.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),we.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return we.isValidElement(n)?i=we.cloneElement(n,a):ar(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return hN({prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},i&&i.length?jVe({data:i,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(L.PureComponent);_s(tm,"displayName","Brush");_s(tm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var CVe=dP;function TVe(e,t){var r;return CVe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var AVe=TVe,EVe=yV,PVe=$d,OVe=AVe,$Ve=Gi,DVe=Zy;function MVe(e,t,r){var n=$Ve(e)?EVe:OVe;return r&&DVe(e,t,r)&&(t=void 0),n(e,PVe(t))}var FVe=MVe;const LVe=hr(FVe);var Pl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},IVe=R5,RVe=oG,BVe=$d;function UVe(e,t){var r={};return t=BVe(t),RVe(e,function(n,a,i){IVe(r,a,t(n,a,i))}),r}var WVe=UVe;const zVe=hr(WVe);function HVe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var qVe=HVe,YVe=dP;function VVe(e,t){var r=!0;return YVe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var GVe=VVe,KVe=qVe,XVe=GVe,QVe=$d,JVe=Gi,ZVe=Zy;function eGe(e,t,r){var n=JVe(e)?KVe:XVe;return r&&ZVe(e,t,r)&&(t=void 0),n(e,QVe(t))}var tGe=eGe;const rGe=hr(tGe);function _y(e){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_y(e)}function nGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eQ(n.key),n)}}function aGe(e,t,r){return t&&CR(e.prototype,t),r&&CR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(r),!0).forEach(function(n){qP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qP(e,t,r){return t=eQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eQ(e){var t=iGe(e,"string");return _y(t)=="symbol"?t:t+""}function iGe(e,t){if(_y(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tQ=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},sGe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return tQ({x:r,y:n},{x:a,y:i})},rQ=function(){function e(t){nGe(this,e),this.scale=t}return aGe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();qP(rQ,"EPS",1e-4);var YP=function(t){var r=Object.keys(t).reduce(function(n,a){return i2(i2({},n),{},qP({},a,rQ.create(t[a])))},{});return i2(i2({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return zVe(a,function(l,u){return r[u].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return rGe(a,function(i,s){return r[s].isInRange(i)})}})},oGe=r_e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),nQ=L.createContext(void 0),aQ=L.createContext(void 0),iQ=L.createContext(void 0),lGe=L.createContext({}),sQ=L.createContext(void 0),cGe=L.createContext(0),uGe=L.createContext(0),AR=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,u=t.height,d=oGe(i);return we.createElement(nQ.Provider,{value:n},we.createElement(aQ.Provider,{value:a},we.createElement(lGe.Provider,{value:i},we.createElement(iQ.Provider,{value:d},we.createElement(sQ.Provider,{value:s},we.createElement(cGe.Provider,{value:u},we.createElement(uGe.Provider,{value:l},o)))))))},dGe=function(){return L.useContext(sQ)},fGe=function(t){var r=L.useContext(nQ);r==null&&Gp();var n=r[t];return n==null&&Gp(),n},hGe=function(t){var r=L.useContext(aQ);r==null&&Gp();var n=r[t];return n==null&&Gp(),n},pGe=function(){var t=L.useContext(iQ);return t};function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function mGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gGe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lQ(n.key),n)}}function xGe(e,t,r){return t&&gGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vGe(e,t,r){return t=L_(t),yGe(e,oQ()?Reflect.construct(t,r||[],L_(e).constructor):t.apply(e,r))}function yGe(e,t){if(t&&(rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bGe(e)}function bGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oQ=function(){return!!e})()}function L_(e){return L_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L_(e)}function wGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UT(e,t)}function UT(e,t){return UT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UT(e,t)}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){VP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VP(e,t,r){return t=lQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lQ(e){var t=_Ge(e,"string");return rm(t)=="symbol"?t:t+""}function _Ge(e,t){if(rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function kGe(e,t){return CGe(e)||jGe(e,t)||NGe(e,t)||SGe()}function SGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NGe(e,t){if(e){if(typeof e=="string")return OR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OR(e,t)}}function OR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jGe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function CGe(e){if(Array.isArray(e))return e}function WT(){return WT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WT.apply(this,arguments)}var TGe=function(t,r){var n;return we.isValidElement(t)?n=we.cloneElement(t,r):ar(t)?n=t(r):n=we.createElement("line",WT({},r,{className:"recharts-reference-line-line"})),n},AGe=function(t,r,n,a,i,s,o,l,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var m=u.y,g=t.y.apply(m,{position:s});if(Pl(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(r){var x=u.x,y=t.x.apply(x,{position:s});if(Pl(u,"discard")&&!t.x.isInRange(y))return null;var b=[{x:y,y:f+p},{x:y,y:f}];return o==="top"?b.reverse():b}if(a){var N=u.segment,_=N.map(function(C){return t.apply(C,{position:s})});return Pl(u,"discard")&&LVe(_,function(C){return!t.isInRange(C)})?null:_}return null};function EGe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,u=dGe(),d=fGe(a),f=hGe(i),h=pGe();if(!u||!h)return null;Ac(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=YP({x:d.scale,y:f.scale}),m=Sa(t),g=Sa(r),v=n&&n.length===2,x=AGe(p,m,g,v,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var y=kGe(x,2),b=y[0],N=b.x,_=b.y,C=y[1],k=C.x,w=C.y,S=Pl(e,"hidden")?"url(#".concat(u,")"):void 0,P=PR(PR({clipPath:S},ur(e,!0)),{},{x1:N,y1:_,x2:k,y2:w});return we.createElement(Wn,{className:Ht("recharts-reference-line",o)},TGe(s,P),Va.renderCallByParent(e,sGe({x1:N,y1:_,x2:k,y2:w})))}var GP=function(e){function t(){return mGe(this,t),vGe(this,t,arguments)}return wGe(t,e),xGe(t,[{key:"render",value:function(){return we.createElement(EGe,this.props)}}])}(we.Component);VP(GP,"displayName","ReferenceLine");VP(GP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function zT(){return zT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zT.apply(this,arguments)}function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function $R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(r),!0).forEach(function(n){w4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OGe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uQ(n.key),n)}}function $Ge(e,t,r){return t&&OGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DGe(e,t,r){return t=I_(t),MGe(e,cQ()?Reflect.construct(t,r||[],I_(e).constructor):t.apply(e,r))}function MGe(e,t){if(t&&(nm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FGe(e)}function FGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cQ=function(){return!!e})()}function I_(e){return I_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I_(e)}function LGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HT(e,t)}function HT(e,t){return HT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HT(e,t)}function w4(e,t,r){return t=uQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uQ(e){var t=IGe(e,"string");return nm(t)=="symbol"?t:t+""}function IGe(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RGe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=YP({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Pl(t,"discard")&&!s.isInRange(o)?null:o},_4=function(e){function t(){return PGe(this,t),DGe(this,t,arguments)}return LGe(t,e),$Ge(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,u=Sa(a),d=Sa(i);if(Ac(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=RGe(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,v=m.className,x=Pl(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=DR(DR({clipPath:x},ur(this.props,!0)),{},{cx:h,cy:p});return we.createElement(Wn,{className:Ht("recharts-reference-dot",v)},t.renderDot(g,y),Va.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(we.Component);w4(_4,"displayName","ReferenceDot");w4(_4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});w4(_4,"renderDot",function(e,t){var r;return we.isValidElement(e)?r=we.cloneElement(e,t):ar(e)?r=e(t):r=we.createElement(HP,zT({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function qT(){return qT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qT.apply(this,arguments)}function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(r),!0).forEach(function(n){k4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UGe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fQ(n.key),n)}}function WGe(e,t,r){return t&&UGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zGe(e,t,r){return t=R_(t),HGe(e,dQ()?Reflect.construct(t,r||[],R_(e).constructor):t.apply(e,r))}function HGe(e,t){if(t&&(am(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qGe(e)}function qGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dQ=function(){return!!e})()}function R_(e){return R_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R_(e)}function YGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YT(e,t)}function YT(e,t){return YT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YT(e,t)}function k4(e,t,r){return t=fQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fQ(e){var t=VGe(e,"string");return am(t)=="symbol"?t:t+""}function VGe(e,t){if(am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GGe=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=YP({x:d.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Pl(i,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:tQ(p,m)},S4=function(e){function t(){return BGe(this,t),zGe(this,t,arguments)}return YGe(t,e),WGe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;Ac(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Sa(a),h=Sa(i),p=Sa(s),m=Sa(o),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var v=GGe(f,h,p,m,this.props);if(!v&&!g)return null;var x=Pl(this.props,"hidden")?"url(#".concat(d,")"):void 0;return we.createElement(Wn,{className:Ht("recharts-reference-area",l)},t.renderRect(g,FR(FR({clipPath:x},ur(this.props,!0)),v)),Va.renderCallByParent(this.props,v))}}])}(we.Component);k4(S4,"displayName","ReferenceArea");k4(S4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});k4(S4,"renderRect",function(e,t){var r;return we.isValidElement(e)?r=we.cloneElement(e,t):ar(e)?r=e(t):r=we.createElement(zP,qT({},t,{className:"recharts-reference-area-rect"})),r});function LR(e){return JGe(e)||QGe(e)||XGe(e)||KGe()}function KGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XGe(e,t){if(e){if(typeof e=="string")return VT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VT(e,t)}}function QGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JGe(e){if(Array.isArray(e))return VT(e)}function VT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var GT=function(t,r,n,a,i){var s=El(t,GP),o=El(t,_4),l=[].concat(LR(s),LR(o)),u=El(t,S4),d="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===n&&Pl(v.props,"extendDomain")&&_t(v.props[f])){var x=v.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&Pl(v.props,"extendDomain")&&_t(v.props[p])&&_t(v.props[m])){var x=v.props[p],y=v.props[m];return[Math.min(g[0],x,y),Math.max(g[1],x,y)]}return g},h)}return i&&i.length&&(h=i.reduce(function(g,v){return _t(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},hQ={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||l,h),m=r?r+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,m){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,y,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(b=1,y=new Array(x-1);b<x;b++)y[b-1]=arguments[b];v.fn.apply(v.context,y)}else{var N=v.length,_;for(b=0;b<N;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!y)for(_=1,y=new Array(x-1);_<x;_++)y[_-1]=arguments[_];v[b].fn.apply(v[b].context,y)}}return!0},o.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,v=[],x=m.length;g<x;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(hQ);var ZGe=hQ.exports;const eKe=hr(ZGe);var pN=new eKe,mN="recharts.syncMouseEvents";function ky(e){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ky(e)}function tKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rKe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pQ(n.key),n)}}function nKe(e,t,r){return t&&rKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gN(e,t,r){return t=pQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pQ(e){var t=aKe(e,"string");return ky(t)=="symbol"?t:t+""}function aKe(e,t){if(ky(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ky(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iKe=function(){function e(){tKe(this,e),gN(this,"activeIndex",0),gN(this,"coordinateList",[]),gN(this,"layout","horizontal")}return nKe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+u,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function sKe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&_t(n)&&_t(a))return!0}return!1}function oKe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function mQ(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=mn(t,r,n,a),o=mn(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function lKe(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=mn(o,l,u,f),p=mn(o,l,d,f);n=h.x,a=h.y,i=p.x,s=p.y}else return mQ(t);return[{x:n,y:a},{x:i,y:s}]}function Sy(e){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sy(e)}function IR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(r),!0).forEach(function(n){cKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cKe(e,t,r){return t=uKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uKe(e){var t=dKe(e,"string");return Sy(t)=="symbol"?t:t+""}function dKe(e,t){if(Sy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fKe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var m,g=ST;if(h==="ScatterChart")m=s,g=Mqe;else if(h==="BarChart")m=oKe(f,s,l,d),g=zP;else if(f==="radial"){var v=mQ(s),x=v.cx,y=v.cy,b=v.radius,N=v.startAngle,_=v.endAngle;m={cx:x,cy:y,startAngle:N,endAngle:_,innerRadius:b,outerRadius:b},g=LX}else m={points:lKe(f,s,l)},g=ST;var C=s2(s2(s2(s2({stroke:"#ccc",pointerEvents:"none"},l),m),ur(p,!1)),{},{payload:o,payloadIndex:u,className:Ht("recharts-tooltip-cursor",p.className)});return L.isValidElement(p)?L.cloneElement(p,C):L.createElement(g,C)}var hKe=["item"],pKe=["children","className","width","height","style","compact","title","desc"];function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U0.apply(this,arguments)}function RR(e,t){return xKe(e)||gKe(e,t)||xQ(e,t)||mKe()}function mKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gKe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function xKe(e){if(Array.isArray(e))return e}function BR(e,t){if(e==null)return{};var r=vKe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bKe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vQ(n.key),n)}}function wKe(e,t,r){return t&&bKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Ke(e,t,r){return t=B_(t),kKe(e,gQ()?Reflect.construct(t,r||[],B_(e).constructor):t.apply(e,r))}function kKe(e,t){if(t&&(im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SKe(e)}function SKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gQ=function(){return!!e})()}function B_(e){return B_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B_(e)}function NKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KT(e,t)}function KT(e,t){return KT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KT(e,t)}function sm(e){return TKe(e)||CKe(e)||xQ(e)||jKe()}function jKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xQ(e,t){if(e){if(typeof e=="string")return XT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XT(e,t)}}function CKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TKe(e){if(Array.isArray(e))return XT(e)}function XT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(r),!0).forEach(function(n){Wt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wt(e,t,r){return t=vQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vQ(e){var t=AKe(e,"string");return im(t)=="symbol"?t:t+""}function AKe(e,t){if(im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EKe={xAxis:["bottom","top"],yAxis:["left","right"]},PKe={width:"100%",height:"100%"},yQ={x:0,y:0};function o2(e){return e}var OKe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},$Ke=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return rt(rt(rt({},a),mn(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,u=a.angle;return rt(rt(rt({},a),mn(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return yQ},N4=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(sm(o),sm(u)):o},[]);return s.length>0?s:t&&t.length&&_t(a)&&_t(i)?t.slice(a,i+1):[]};function bQ(e){return e==="number"?[0,"auto"]:void 0}var QT=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=N4(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=YC(p,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(sm(l),[TWe(u,h)]):l},[])},WR=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=OKe(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,d=fWe(s,o,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=QT(t,r,d,f),p=$Ke(n,o,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},DKe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=EX(d,i);return n.reduce(function(m,g){var v,x=g.type.defaultProps!==void 0?rt(rt({},g.type.defaultProps),g.props):g.props,y=x.type,b=x.dataKey,N=x.allowDataOverflow,_=x.allowDuplicatedCategory,C=x.scale,k=x.ticks,w=x.includeHidden,S=x[s];if(m[S])return m;var P=N4(t.data,{graphicalItems:a.filter(function(E){var R,B=s in E.props?E.props[s]:(R=E.type.defaultProps)===null||R===void 0?void 0:R[s];return B===S}),dataStartIndex:l,dataEndIndex:u}),A=P.length,T,F,M;sKe(x.domain,N,y)&&(T=vT(x.domain,null,N),p&&(y==="number"||C!=="auto")&&(M=Xx(P,b,"category")));var H=bQ(y);if(!T||T.length===0){var z,Y=(z=x.domain)!==null&&z!==void 0?z:H;if(b){if(T=Xx(P,b,y),y==="category"&&p){var G=oIe(T);_&&G?(F=T,T=D_(0,A)):_||(T=NI(Y,T,g).reduce(function(E,R){return E.indexOf(R)>=0?E:[].concat(sm(E),[R])},[]))}else if(y==="category")_?T=T.filter(function(E){return E!==""&&!_r(E)}):T=NI(Y,T,g).reduce(function(E,R){return E.indexOf(R)>=0||R===""||_r(R)?E:[].concat(sm(E),[R])},[]);else if(y==="number"){var I=xWe(P,a.filter(function(E){var R,B,q=s in E.props?E.props[s]:(R=E.type.defaultProps)===null||R===void 0?void 0:R[s],K="hide"in E.props?E.props.hide:(B=E.type.defaultProps)===null||B===void 0?void 0:B.hide;return q===S&&(w||!K)}),b,i,d);I&&(T=I)}p&&(y==="number"||C!=="auto")&&(M=Xx(P,b,"category"))}else p?T=D_(0,A):o&&o[S]&&o[S].hasStack&&y==="number"?T=h==="expand"?[0,1]:PX(o[S].stackGroups,l,u):T=AX(P,a.filter(function(E){var R=s in E.props?E.props[s]:E.type.defaultProps[s],B="hide"in E.props?E.props.hide:E.type.defaultProps.hide;return R===S&&(w||!B)}),y,d,!0);if(y==="number")T=GT(f,T,S,i,k),Y&&(T=vT(Y,T,N));else if(y==="category"&&Y){var X=Y,J=T.every(function(E){return X.indexOf(E)>=0});J&&(T=X)}}return rt(rt({},m),{},Wt({},S,rt(rt({},x),{},{axisType:i,domain:T,categoricalDomain:M,duplicateDomain:F,originalDomain:(v=x.domain)!==null&&v!==void 0?v:H,isCategorical:p,layout:d})))},{})},MKe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=N4(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,m=EX(d,i),g=-1;return n.reduce(function(v,x){var y=x.type.defaultProps!==void 0?rt(rt({},x.type.defaultProps),x.props):x.props,b=y[s],N=bQ("number");if(!v[b]){g++;var _;return m?_=D_(0,p):o&&o[b]&&o[b].hasStack?(_=PX(o[b].stackGroups,l,u),_=GT(f,_,b,i)):(_=vT(N,AX(h,n.filter(function(C){var k,w,S=s in C.props?C.props[s]:(k=C.type.defaultProps)===null||k===void 0?void 0:k[s],P="hide"in C.props?C.props.hide:(w=C.type.defaultProps)===null||w===void 0?void 0:w.hide;return S===b&&!P}),"number",d),a.defaultProps.allowDataOverflow),_=GT(f,_,b,i)),rt(rt({},v),{},Wt({},b,rt(rt({axisType:i},a.defaultProps),{},{hide:!0,orientation:ra(EKe,"".concat(i,".").concat(g%2),null),domain:_,originalDomain:N,isCategorical:m,layout:d})))}return v},{})},FKe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=El(d,i),p={};return h&&h.length?p=DKe(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(p=MKe(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),p},LKe=function(t){var r=k0(t),n=vx(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Ik(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:yT(r,n)}},zR=function(t){var r=t.children,n=t.defaultShowTooltip,a=Qs(r,tm),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},IKe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Tc(r&&r.type);return n&&n.indexOf("Bar")>=0})},HR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},RKe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Qs(f,tm),m=Qs(f,sp),g=Object.keys(l).reduce(function(_,C){var k=l[C],w=k.orientation;return!k.mirror&&!k.hide?rt(rt({},_),{},Wt({},w,_[w]+k.width)):_},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(_,C){var k=s[C],w=k.orientation;return!k.mirror&&!k.hide?rt(rt({},_),{},Wt({},w,ra(_,"".concat(w))+k.height)):_},{top:h.top||0,bottom:h.bottom||0}),x=rt(rt({},v),g),y=x.bottom;p&&(x.bottom+=p.props.height||tm.defaultProps.height),m&&r&&(x=mWe(x,a,n,r));var b=u-x.left-x.right,N=d-x.top-x.bottom;return rt(rt({brushBottom:y},x),{},{width:Math.max(b,0),height:Math.max(N,0)})},BKe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},UKe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(x,y){var b=y.graphicalItems,N=y.stackGroups,_=y.offset,C=y.updateId,k=y.dataStartIndex,w=y.dataEndIndex,S=x.barSize,P=x.layout,A=x.barGap,T=x.barCategoryGap,F=x.maxBarSize,M=HR(P),H=M.numericAxisName,z=M.cateAxisName,Y=IKe(b),G=[];return b.forEach(function(I,X){var J=N4(x.data,{graphicalItems:[I],dataStartIndex:k,dataEndIndex:w}),E=I.type.defaultProps!==void 0?rt(rt({},I.type.defaultProps),I.props):I.props,R=E.dataKey,B=E.maxBarSize,q=E["".concat(H,"Id")],K=E["".concat(z,"Id")],ae={},ee=l.reduce(function(Oe,Fe){var ve=y["".concat(Fe.axisType,"Map")],me=E["".concat(Fe.axisType,"Id")];ve&&ve[me]||Fe.axisType==="zAxis"||Gp();var le=ve[me];return rt(rt({},Oe),{},Wt(Wt({},Fe.axisType,le),"".concat(Fe.axisType,"Ticks"),vx(le)))},ae),W=ee[z],Z=ee["".concat(z,"Ticks")],re=N&&N[q]&&N[q].hasStack&&jWe(I,N[q].stackGroups),O=Tc(I.type).indexOf("Bar")>=0,de=yT(W,Z),ce=[],pe=Y&&hWe({barSize:S,stackGroups:N,totalSize:BKe(ee,z)});if(O){var Q,ne,Ae=_r(B)?F:B,Ee=(Q=(ne=yT(W,Z,!0))!==null&&ne!==void 0?ne:Ae)!==null&&Q!==void 0?Q:0;ce=pWe({barGap:A,barCategoryGap:T,bandSize:Ee!==de?Ee:de,sizeList:pe[K],maxBarSize:Ae}),Ee!==de&&(ce=ce.map(function(Oe){return rt(rt({},Oe),{},{position:rt(rt({},Oe.position),{},{offset:Oe.position.offset-Ee/2})})}))}var De=I&&I.type&&I.type.getComposedData;De&&G.push({props:rt(rt({},De(rt(rt({},ee),{},{displayedData:J,props:x,dataKey:R,item:I,bandSize:de,barPosition:ce,offset:_,stackedData:re,layout:P,dataStartIndex:k,dataEndIndex:w}))),{},Wt(Wt(Wt({key:I.key||"item-".concat(X)},H,ee[H]),z,ee[z]),"animationId",C)),childIndex:vIe(I,x.children),item:I})}),G},p=function(x,y){var b=x.props,N=x.dataStartIndex,_=x.dataEndIndex,C=x.updateId;if(!$L({props:b}))return null;var k=b.children,w=b.layout,S=b.stackOffset,P=b.data,A=b.reverseStackOrder,T=HR(w),F=T.numericAxisName,M=T.cateAxisName,H=El(k,n),z=SWe(P,H,"".concat(F,"Id"),"".concat(M,"Id"),S,A),Y=l.reduce(function(E,R){var B="".concat(R.axisType,"Map");return rt(rt({},E),{},Wt({},B,FKe(b,rt(rt({},R),{},{graphicalItems:H,stackGroups:R.axisType===F&&z,dataStartIndex:N,dataEndIndex:_}))))},{}),G=RKe(rt(rt({},Y),{},{props:b,graphicalItems:H}),y==null?void 0:y.legendBBox);Object.keys(Y).forEach(function(E){Y[E]=d(b,Y[E],G,E.replace("Map",""),r)});var I=Y["".concat(M,"Map")],X=LKe(I),J=h(b,rt(rt({},Y),{},{dataStartIndex:N,dataEndIndex:_,updateId:C,graphicalItems:H,stackGroups:z,offset:G}));return rt(rt({formattedGraphicalItems:J,graphicalItems:H,offset:G,stackGroups:z},X),Y)},m=function(v){function x(y){var b,N,_;return yKe(this,x),_=_Ke(this,x,[y]),Wt(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Wt(_,"accessibilityManager",new iKe),Wt(_,"handleLegendBBoxUpdate",function(C){if(C){var k=_.state,w=k.dataStartIndex,S=k.dataEndIndex,P=k.updateId;_.setState(rt({legendBBox:C},p({props:_.props,dataStartIndex:w,dataEndIndex:S,updateId:P},rt(rt({},_.state),{},{legendBBox:C}))))}}),Wt(_,"handleReceiveSyncEvent",function(C,k,w){if(_.props.syncId===C){if(w===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(k)}}),Wt(_,"handleBrushChange",function(C){var k=C.startIndex,w=C.endIndex;if(k!==_.state.dataStartIndex||w!==_.state.dataEndIndex){var S=_.state.updateId;_.setState(function(){return rt({dataStartIndex:k,dataEndIndex:w},p({props:_.props,dataStartIndex:k,dataEndIndex:w,updateId:S},_.state))}),_.triggerSyncEvent({dataStartIndex:k,dataEndIndex:w})}}),Wt(_,"handleMouseEnter",function(C){var k=_.getMouseInfo(C);if(k){var w=rt(rt({},k),{},{isTooltipActive:!0});_.setState(w),_.triggerSyncEvent(w);var S=_.props.onMouseEnter;ar(S)&&S(w,C)}}),Wt(_,"triggeredAfterMouseMove",function(C){var k=_.getMouseInfo(C),w=k?rt(rt({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(w),_.triggerSyncEvent(w);var S=_.props.onMouseMove;ar(S)&&S(w,C)}),Wt(_,"handleItemMouseEnter",function(C){_.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Wt(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Wt(_,"handleMouseMove",function(C){C.persist(),_.throttleTriggeredAfterMouseMove(C)}),Wt(_,"handleMouseLeave",function(C){_.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};_.setState(k),_.triggerSyncEvent(k);var w=_.props.onMouseLeave;ar(w)&&w(k,C)}),Wt(_,"handleOuterEvent",function(C){var k=xIe(C),w=ra(_.props,"".concat(k));if(k&&ar(w)){var S,P;/.*touch.*/i.test(k)?P=_.getMouseInfo(C.changedTouches[0]):P=_.getMouseInfo(C),w((S=P)!==null&&S!==void 0?S:{},C)}}),Wt(_,"handleClick",function(C){var k=_.getMouseInfo(C);if(k){var w=rt(rt({},k),{},{isTooltipActive:!0});_.setState(w),_.triggerSyncEvent(w);var S=_.props.onClick;ar(S)&&S(w,C)}}),Wt(_,"handleMouseDown",function(C){var k=_.props.onMouseDown;if(ar(k)){var w=_.getMouseInfo(C);k(w,C)}}),Wt(_,"handleMouseUp",function(C){var k=_.props.onMouseUp;if(ar(k)){var w=_.getMouseInfo(C);k(w,C)}}),Wt(_,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Wt(_,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&_.handleMouseDown(C.changedTouches[0])}),Wt(_,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&_.handleMouseUp(C.changedTouches[0])}),Wt(_,"handleDoubleClick",function(C){var k=_.props.onDoubleClick;if(ar(k)){var w=_.getMouseInfo(C);k(w,C)}}),Wt(_,"handleContextMenu",function(C){var k=_.props.onContextMenu;if(ar(k)){var w=_.getMouseInfo(C);k(w,C)}}),Wt(_,"triggerSyncEvent",function(C){_.props.syncId!==void 0&&pN.emit(mN,_.props.syncId,C,_.eventEmitterSymbol)}),Wt(_,"applySyncEvent",function(C){var k=_.props,w=k.layout,S=k.syncMethod,P=_.state.updateId,A=C.dataStartIndex,T=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)_.setState(rt({dataStartIndex:A,dataEndIndex:T},p({props:_.props,dataStartIndex:A,dataEndIndex:T,updateId:P},_.state)));else if(C.activeTooltipIndex!==void 0){var F=C.chartX,M=C.chartY,H=C.activeTooltipIndex,z=_.state,Y=z.offset,G=z.tooltipTicks;if(!Y)return;if(typeof S=="function")H=S(G,C);else if(S==="value"){H=-1;for(var I=0;I<G.length;I++)if(G[I].value===C.activeLabel){H=I;break}}var X=rt(rt({},Y),{},{x:Y.left,y:Y.top}),J=Math.min(F,X.x+X.width),E=Math.min(M,X.y+X.height),R=G[H]&&G[H].value,B=QT(_.state,_.props.data,H),q=G[H]?{x:w==="horizontal"?G[H].coordinate:J,y:w==="horizontal"?E:G[H].coordinate}:yQ;_.setState(rt(rt({},C),{},{activeLabel:R,activeCoordinate:q,activePayload:B,activeTooltipIndex:H}))}else _.setState(C)}),Wt(_,"renderCursor",function(C){var k,w=_.state,S=w.isTooltipActive,P=w.activeCoordinate,A=w.activePayload,T=w.offset,F=w.activeTooltipIndex,M=w.tooltipAxisBandSize,H=_.getTooltipEventType(),z=(k=C.props.active)!==null&&k!==void 0?k:S,Y=_.props.layout,G=C.key||"_recharts-cursor";return we.createElement(fKe,{key:G,activeCoordinate:P,activePayload:A,activeTooltipIndex:F,chartName:r,element:C,isActive:z,layout:Y,offset:T,tooltipAxisBandSize:M,tooltipEventType:H})}),Wt(_,"renderPolarAxis",function(C,k,w){var S=ra(C,"type.axisType"),P=ra(_.state,"".concat(S,"Map")),A=C.type.defaultProps,T=A!==void 0?rt(rt({},A),C.props):C.props,F=P&&P[T["".concat(S,"Id")]];return L.cloneElement(C,rt(rt({},F),{},{className:Ht(S,F.className),key:C.key||"".concat(k,"-").concat(w),ticks:vx(F,!0)}))}),Wt(_,"renderPolarGrid",function(C){var k=C.props,w=k.radialLines,S=k.polarAngles,P=k.polarRadius,A=_.state,T=A.radiusAxisMap,F=A.angleAxisMap,M=k0(T),H=k0(F),z=H.cx,Y=H.cy,G=H.innerRadius,I=H.outerRadius;return L.cloneElement(C,{polarAngles:Array.isArray(S)?S:vx(H,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(P)?P:vx(M,!0).map(function(X){return X.coordinate}),cx:z,cy:Y,innerRadius:G,outerRadius:I,key:C.key||"polar-grid",radialLines:w})}),Wt(_,"renderLegend",function(){var C=_.state.formattedGraphicalItems,k=_.props,w=k.children,S=k.width,P=k.height,A=_.props.margin||{},T=S-(A.left||0)-(A.right||0),F=CX({children:w,formattedGraphicalItems:C,legendWidth:T,legendContent:u});if(!F)return null;var M=F.item,H=BR(F,hKe);return L.cloneElement(M,rt(rt({},H),{},{chartWidth:S,chartHeight:P,margin:A,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Wt(_,"renderTooltip",function(){var C,k=_.props,w=k.children,S=k.accessibilityLayer,P=Qs(w,Fo);if(!P)return null;var A=_.state,T=A.isTooltipActive,F=A.activeCoordinate,M=A.activePayload,H=A.activeLabel,z=A.offset,Y=(C=P.props.active)!==null&&C!==void 0?C:T;return L.cloneElement(P,{viewBox:rt(rt({},z),{},{x:z.left,y:z.top}),active:Y,label:H,payload:Y?M:[],coordinate:F,accessibilityLayer:S})}),Wt(_,"renderBrush",function(C){var k=_.props,w=k.margin,S=k.data,P=_.state,A=P.offset,T=P.dataStartIndex,F=P.dataEndIndex,M=P.updateId;return L.cloneElement(C,{key:C.key||"_recharts-brush",onChange:t2(_.handleBrushChange,C.props.onChange),data:S,x:_t(C.props.x)?C.props.x:A.left,y:_t(C.props.y)?C.props.y:A.top+A.height+A.brushBottom-(w.bottom||0),width:_t(C.props.width)?C.props.width:A.width,startIndex:T,endIndex:F,updateId:"brush-".concat(M)})}),Wt(_,"renderReferenceElement",function(C,k,w){if(!C)return null;var S=_,P=S.clipPathId,A=_.state,T=A.xAxisMap,F=A.yAxisMap,M=A.offset,H=C.type.defaultProps||{},z=C.props,Y=z.xAxisId,G=Y===void 0?H.xAxisId:Y,I=z.yAxisId,X=I===void 0?H.yAxisId:I;return L.cloneElement(C,{key:C.key||"".concat(k,"-").concat(w),xAxis:T[G],yAxis:F[X],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:P})}),Wt(_,"renderActivePoints",function(C){var k=C.item,w=C.activePoint,S=C.basePoint,P=C.childIndex,A=C.isRange,T=[],F=k.props.key,M=k.item.type.defaultProps!==void 0?rt(rt({},k.item.type.defaultProps),k.item.props):k.item.props,H=M.activeDot,z=M.dataKey,Y=rt(rt({index:P,dataKey:z,cx:w.x,cy:w.y,r:4,fill:WP(k.item),strokeWidth:2,stroke:"#fff",payload:w.payload,value:w.value},ur(H,!1)),p_(H));return T.push(x.renderActiveDot(H,Y,"".concat(F,"-activePoint-").concat(P))),S?T.push(x.renderActiveDot(H,rt(rt({},Y),{},{cx:S.x,cy:S.y}),"".concat(F,"-basePoint-").concat(P))):A&&T.push(null),T}),Wt(_,"renderGraphicChild",function(C,k,w){var S=_.filterFormatItem(C,k,w);if(!S)return null;var P=_.getTooltipEventType(),A=_.state,T=A.isTooltipActive,F=A.tooltipAxis,M=A.activeTooltipIndex,H=A.activeLabel,z=_.props.children,Y=Qs(z,Fo),G=S.props,I=G.points,X=G.isRange,J=G.baseLine,E=S.item.type.defaultProps!==void 0?rt(rt({},S.item.type.defaultProps),S.item.props):S.item.props,R=E.activeDot,B=E.hide,q=E.activeBar,K=E.activeShape,ae=!!(!B&&T&&Y&&(R||q||K)),ee={};P!=="axis"&&Y&&Y.props.trigger==="click"?ee={onClick:t2(_.handleItemMouseEnter,C.props.onClick)}:P!=="axis"&&(ee={onMouseLeave:t2(_.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:t2(_.handleItemMouseEnter,C.props.onMouseEnter)});var W=L.cloneElement(C,rt(rt({},S.props),ee));function Z(Fe){return typeof F.dataKey=="function"?F.dataKey(Fe.payload):null}if(ae)if(M>=0){var re,O;if(F.dataKey&&!F.allowDuplicatedCategory){var de=typeof F.dataKey=="function"?Z:"payload.".concat(F.dataKey.toString());re=YC(I,de,H),O=X&&J&&YC(J,de,H)}else re=I==null?void 0:I[M],O=X&&J&&J[M];if(K||q){var ce=C.props.activeIndex!==void 0?C.props.activeIndex:M;return[L.cloneElement(C,rt(rt(rt({},S.props),ee),{},{activeIndex:ce})),null,null]}if(!_r(re))return[W].concat(sm(_.renderActivePoints({item:S,activePoint:re,basePoint:O,childIndex:M,isRange:X})))}else{var pe,Q=(pe=_.getItemByXY(_.state.activeCoordinate))!==null&&pe!==void 0?pe:{graphicalItem:W},ne=Q.graphicalItem,Ae=ne.item,Ee=Ae===void 0?C:Ae,De=ne.childIndex,Oe=rt(rt(rt({},S.props),ee),{},{activeIndex:De});return[L.cloneElement(Ee,Oe),null,null]}return X?[W,null,null]:[W,null]}),Wt(_,"renderCustomized",function(C,k,w){return L.cloneElement(C,rt(rt({key:"recharts-customized-".concat(w)},_.props),_.state))}),Wt(_,"renderMap",{CartesianGrid:{handler:o2,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:o2},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:o2},YAxis:{handler:o2},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:a4("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=aX(_.triggeredAfterMouseMove,(N=y.throttleDelay)!==null&&N!==void 0?N:1e3/60),_.state={},_}return NKe(x,v),wKe(x,[{key:"componentDidMount",value:function(){var b,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,N=b.children,_=b.data,C=b.height,k=b.layout,w=Qs(N,Fo);if(w){var S=w.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,A=QT(this.state,_,S,P),T=this.state.tooltipTicks[S].coordinate,F=(this.state.offset.top+C)/2,M=k==="horizontal",H=M?{x:T,y:F}:{y:T,x:F},z=this.state.formattedGraphicalItems.find(function(G){var I=G.item;return I.type.name==="Scatter"});z&&(H=rt(rt({},H),z.props.points[S].tooltipPosition),A=z.props.points[S].tooltipPayload);var Y={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:P,activePayload:A,activeCoordinate:H};this.setState(Y),this.renderCursor(w),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,C;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(b){KC([Qs(b.children,Fo)],[Qs(this.props.children,Fo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Qs(this.props.children,Fo);if(b&&typeof b.props.shared=="boolean"){var N=b.props.shared?"axis":"item";return o.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var N=this.container,_=N.getBoundingClientRect(),C=gBe(_),k={chartX:Math.round(b.pageX-C.left),chartY:Math.round(b.pageY-C.top)},w=_.width/N.offsetWidth||1,S=this.inRange(k.chartX,k.chartY,w);if(!S)return null;var P=this.state,A=P.xAxisMap,T=P.yAxisMap,F=this.getTooltipEventType();if(F!=="axis"&&A&&T){var M=k0(A).scale,H=k0(T).scale,z=M&&M.invert?M.invert(k.chartX):null,Y=H&&H.invert?H.invert(k.chartY):null;return rt(rt({},k),{},{xValue:z,yValue:Y})}var G=WR(this.state,this.props.data,this.props.layout,S);return G?rt(rt({},k),G):null}},{key:"inRange",value:function(b,N){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,k=b/_,w=N/_;if(C==="horizontal"||C==="vertical"){var S=this.state.offset,P=k>=S.left&&k<=S.left+S.width&&w>=S.top&&w<=S.top+S.height;return P?{x:k,y:w}:null}var A=this.state,T=A.angleAxisMap,F=A.radiusAxisMap;if(T&&F){var M=k0(T);return TI({x:k,y:w},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,N=this.getTooltipEventType(),_=Qs(b,Fo),C={};_&&N==="axis"&&(_.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=p_(this.props,this.handleOuterEvent);return rt(rt({},k),C)}},{key:"addListener",value:function(){pN.on(mN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){pN.removeListener(mN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,N,_){for(var C=this.state.formattedGraphicalItems,k=0,w=C.length;k<w;k++){var S=C[k];if(S.item===b||S.props.key===b.key||N===Tc(S.item.type)&&_===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,N=this.state.offset,_=N.left,C=N.top,k=N.height,w=N.width;return we.createElement("defs",null,we.createElement("clipPath",{id:b},we.createElement("rect",{x:_,y:C,height:k,width:w})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(N,_){var C=RR(_,2),k=C[0],w=C[1];return rt(rt({},N),{},Wt({},k,w.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(N,_){var C=RR(_,2),k=C[0],w=C[1];return rt(rt({},N),{},Wt({},k,w.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(b){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(b){var N=this.state,_=N.formattedGraphicalItems,C=N.activeItem;if(_&&_.length)for(var k=0,w=_.length;k<w;k++){var S=_[k],P=S.props,A=S.item,T=A.type.defaultProps!==void 0?rt(rt({},A.type.defaultProps),A.props):A.props,F=Tc(A.type);if(F==="Bar"){var M=(P.data||[]).find(function(G){return mqe(b,G)});if(M)return{graphicalItem:S,payload:M}}else if(F==="RadialBar"){var H=(P.data||[]).find(function(G){return TI(b,G)});if(H)return{graphicalItem:S,payload:H}}else if(y4(S,C)||b4(S,C)||by(S,C)){var z=qYe({graphicalItem:S,activeTooltipItem:C,itemData:T.data}),Y=T.activeIndex===void 0?z:T.activeIndex;return{graphicalItem:rt(rt({},S),{},{childIndex:Y}),payload:by(S,C)?T.data[z]:S.props.data[z]}}}return null}},{key:"render",value:function(){var b=this;if(!$L(this))return null;var N=this.props,_=N.children,C=N.className,k=N.width,w=N.height,S=N.style,P=N.compact,A=N.title,T=N.desc,F=BR(N,pKe),M=ur(F,!1);if(P)return we.createElement(AR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},we.createElement(QC,U0({},M,{width:k,height:w,title:A,desc:T}),this.renderClipPath(),ML(_,this.renderMap)));if(this.props.accessibilityLayer){var H,z;M.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,M.role=(z=this.props.role)!==null&&z!==void 0?z:"application",M.onKeyDown=function(G){b.accessibilityManager.keyboardEvent(G)},M.onFocus=function(){b.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return we.createElement(AR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},we.createElement("div",U0({className:Ht("recharts-wrapper",C),style:rt({position:"relative",cursor:"default",width:k,height:w},S)},Y,{ref:function(I){b.container=I}}),we.createElement(QC,U0({},M,{width:k,height:w,title:A,desc:T,style:PKe}),this.renderClipPath(),ML(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(L.Component);Wt(m,"displayName",r),Wt(m,"defaultProps",rt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Wt(m,"getDerivedStateFromProps",function(v,x){var y=v.dataKey,b=v.data,N=v.children,_=v.width,C=v.height,k=v.layout,w=v.stackOffset,S=v.margin,P=x.dataStartIndex,A=x.dataEndIndex;if(x.updateId===void 0){var T=zR(v);return rt(rt(rt({},T),{},{updateId:0},p(rt(rt({props:v},T),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:b,prevWidth:_,prevHeight:C,prevLayout:k,prevStackOffset:w,prevMargin:S,prevChildren:N})}if(y!==x.prevDataKey||b!==x.prevData||_!==x.prevWidth||C!==x.prevHeight||k!==x.prevLayout||w!==x.prevStackOffset||!VC(S,x.prevMargin)){var F=zR(v),M={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},H=rt(rt({},WR(x,b,k)),{},{updateId:x.updateId+1}),z=rt(rt(rt({},F),M),H);return rt(rt(rt({},z),p(rt({props:v},z),x)),{},{prevDataKey:y,prevData:b,prevWidth:_,prevHeight:C,prevLayout:k,prevStackOffset:w,prevMargin:S,prevChildren:N})}if(!KC(N,x.prevChildren)){var Y,G,I,X,J=Qs(N,tm),E=J&&(Y=(G=J.props)===null||G===void 0?void 0:G.startIndex)!==null&&Y!==void 0?Y:P,R=J&&(I=(X=J.props)===null||X===void 0?void 0:X.endIndex)!==null&&I!==void 0?I:A,B=E!==P||R!==A,q=!_r(b),K=q&&!B?x.updateId:x.updateId+1;return rt(rt({updateId:K},p(rt(rt({props:v},x),{},{updateId:K,dataStartIndex:E,dataEndIndex:R}),x)),{},{prevChildren:N,dataStartIndex:E,dataEndIndex:R})}return null}),Wt(m,"renderActiveDot",function(v,x,y){var b;return L.isValidElement(v)?b=L.cloneElement(v,x):ar(v)?b=v(x):b=we.createElement(HP,x),we.createElement(Wn,{className:"recharts-active-dot",key:y},b)});var g=L.forwardRef(function(x,y){return we.createElement(m,U0({},x,{ref:y}))});return g.displayName=m.displayName,g},wQ=UKe({chartName:"PieChart",GraphicalChild:Vl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:v4},{axisType:"radiusAxis",AxisComp:g4}],formatAxisMap:LWe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function WKe(){var X;const[e,t]=L.useState([]),[r,n]=L.useState([]),[a,i]=L.useState(!0),[s,o]=L.useState(""),[l,u]=L.useState("all"),[d,f]=L.useState(!1),[h,p]=L.useState(!1),[m,g]=L.useState(""),[v,x]=L.useState(!1),[y,b]=L.useState(null),{organization:N}=ir(),{confirm:_,addToast:C}=Or(),{theme:k,getThemeStyle:w}=Yt(),S=N!=null&&N.currency?((X=sn[N.currency])==null?void 0:X.symbol)||N.currency:"",[P,A]=L.useState(window.innerWidth<768),T=L.useMemo(()=>m?r.filter(J=>J.name.toLowerCase().includes(m.toLowerCase())):r,[r,m]),F=L.useMemo(()=>{const J=e.filter(B=>B.stock_quantity<=B.reorder_point).length,E=e.reduce((B,q)=>B+q.stock_quantity*q.unit_price,0),R=r.map(B=>({name:B.name,value:e.filter(q=>q.category===B.name).length}));return{lowStockCount:J,totalProducts:e.length,totalValue:E,categoryDistribution:R}},[e,r]);L.useEffect(()=>{N&&(M(),H())},[N]),L.useEffect(()=>{const J=()=>{A(window.innerWidth<768)};return window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]);const M=async()=>{if(N!=null&&N.id)try{const{data:J,error:E}=await We.from("products").select("*").eq("organization_id",N.id).order("name");if(E)throw E;t(J||[])}catch(J){console.error("Error loading products:",J),C({type:"error",title:"Error",message:"Failed to load products"})}finally{i(!1)}},H=async()=>{if(N!=null&&N.id)try{const{data:J,error:E}=await We.from("categories").select("*").eq("organization_id",N.id).order("name");if(E)throw E;n(J||[])}catch(J){console.error("Error loading categories:",J),C({type:"error",title:"Error",message:"Failed to load categories"})}},z=J=>{b(J)},Y=()=>{b(null)},G=e.filter(J=>{var E;return(l==="all"||J.category===l)&&(J.name.toLowerCase().includes(s.toLowerCase())||((E=J.description)==null?void 0:E.toLowerCase().includes(s.toLowerCase())))}),I=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];return a?c.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:`flex flex-col lg:flex-row gap-4 min-h-screen ${w(k,"background","primary")}`,children:[c.jsxs("div",{className:"flex-1 space-y-4",children:[c.jsx("div",{className:`${w(k,"background","primary")} rounded-lg p-4`,children:c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(Ad,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 ${w(k,"text","muted")}`}),c.jsx("input",{type:"text",placeholder:"Search products...",value:s,onChange:J=>o(J.target.value),className:`w-full pl-9 pr-4 py-1.5 text-xs rounded-md ${w(k,"background","primary")} ${w(k,"text","primary")} ${w(k,"border","primary")} border-2 focus:outline-none focus:ring-1 focus:ring-blue-500`})]})}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>p(!h),className:`w-full sm:w-auto px-3 py-1.5 text-xs rounded-md ${w(k,"background","primary")} ${w(k,"text","primary")} ${w(k,"border","primary")} flex items-center justify-between`,children:[c.jsx("span",{children:l==="all"?"Category: All":`Category: ${l}`}),c.jsx(vp,{className:`h-3 w-3 ml-2 transform ${h?"rotate-90":""}`})]}),h&&c.jsx("div",{className:`absolute z-10 mt-1 w-full sm:w-48 rounded-md shadow-lg ${w(k,"background","primary")} ${w(k,"border","primary")} border`,children:c.jsxs("div",{className:"p-2",children:[c.jsx("input",{type:"text",placeholder:"Search categories...",value:m,onChange:J=>g(J.target.value),className:`w-full px-2 py-1 text-xs rounded-md ${w(k,"background","secondary")} ${w(k,"text","primary")} ${w(k,"border","primary")} focus:outline-none focus:ring-1 focus:ring-blue-500`}),c.jsx("button",{className:`w-full text-left px-3 py-1.5 text-xs ${w(k,"text","primary")} hover:${w(k,"background","accent")}`,onClick:()=>{u("all"),p(!1),g("")},children:"All Categories"}),T.map(J=>c.jsx("button",{className:`w-full text-left px-3 py-1.5 text-xs ${w(k,"text","primary")} hover:${w(k,"background","accent")}`,onClick:()=>{u(J.name),p(!1),g("")},children:J.name},J.id))]})})]}),c.jsxs("div",{className:"flex flex-row items-stretch sm:items-center gap-2",children:[c.jsxs("button",{onClick:()=>f(!0),className:"w-full sm:w-auto inline-flex items-center justify-center px-3 py-1.5 rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:[c.jsx(na,{className:"h-3.5 w-3.5 mr-1"}),"Add Product"]}),c.jsxs(Wr,{to:"/dashboard/categories",className:"w-full sm:w-auto inline-flex items-center justify-center px-3 py-1.5 border border-transparent rounded-lg shadow-sm text-xs font-medium text-white bg-green-600 hover:bg-green-700 transition-colors duration-200",children:[c.jsx(Zae,{className:"h-4 w-4 mr-2"}),"Manage Categories"]})]})]})]})}),c.jsx("div",{className:`${w(k,"background","primary")} rounded-lg overflow-hidden px-4`,children:G.length===0?c.jsx("div",{className:`p-4 text-center text-xs ${w(k,"text","muted")}`,children:"No products found."}):P?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:`min-w-full ${w(k,"background","primary")}`,children:[c.jsx("thead",{children:c.jsxs("tr",{className:`border-b ${w(k,"border","primary")}`,children:[c.jsx("th",{className:`px-2 py-1.5 text-left text-xs font-medium ${w(k,"text","muted")}`,children:"Product"}),c.jsx("th",{className:`px-2 py-1.5 text-left text-xs font-medium ${w(k,"text","muted")}`,children:"Category"}),c.jsx("th",{className:`px-2 py-1.5 text-left text-xs font-medium ${w(k,"text","muted")}`,children:"Stock"}),c.jsx("th",{className:`px-2 py-1.5 text-left text-xs font-medium ${w(k,"text","muted")}`,children:"Price"})]})}),c.jsx("tbody",{className:"divide-y divide-opacity-2",children:G.map(J=>c.jsxs("tr",{className:"hover:bg-gray-300 dark:hover:bg-gray-800 transition-colors duration-150 cursor-pointer",onClick:()=>z(J),children:[c.jsx("td",{className:"px-2 py-1.5",children:c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:`h-6 w-6 hidden xs:flex rounded-md ${w(k,"background","accent")} flex items-center justify-center overflow-hidden`,children:J.image_url?c.jsx("img",{src:J.image_url,alt:J.name,className:"h-full w-full object-cover"}):c.jsx(pa,{className:`h-3 w-3 ${w(k,"text","muted")}`})}),c.jsx("span",{className:`text-xs font-medium ${w(k,"text","primary")} truncate max-w-[80px]`,children:J.name})]})}),c.jsx("td",{className:"px-2 py-1.5",children:c.jsx("span",{className:`px-1.5 py-0.5 text-xs rounded-md ${w(k,"background","accent")} ${w(k,"text","secondary")}`,children:J.category})}),c.jsx("td",{className:"px-2 py-1.5",children:c.jsx("div",{className:"flex items-center gap-1",children:c.jsx("span",{className:`text-xs font-medium ${J.stock_quantity<=J.reorder_point?"text-red-500":w(k,"text","primary")}`,children:J.stock_quantity})})}),c.jsxs("td",{className:`px-2 py-1.5 text-xs ${w(k,"text","primary")}`,children:[S," ",J.unit_price.toFixed(2)]})]},J.id))})]})}):c.jsxs("table",{className:`min-w-full ${w(k,"background","primary")}`,children:[c.jsx("thead",{children:c.jsxs("tr",{className:`border-b ${w(k,"border","primary")}`,children:[c.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${w(k,"text","muted")}`,children:"Product name"}),c.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${w(k,"text","muted")}`,children:"Category"}),c.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${w(k,"text","muted")}`,children:"Current Stock"}),c.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${w(k,"text","muted")}`,children:"Unit Price"})]})}),c.jsx("tbody",{className:"divide-y divide-opacity-2",children:G.map(J=>c.jsxs("tr",{className:"hover:bg-gray-300 dark:hover:bg-gray-800 transition-colors duration-150 cursor-pointer",onClick:()=>z(J),children:[c.jsx("td",{className:"px-4 py-2",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`h-8 w-8 rounded-md ${w(k,"background","accent")} flex items-center justify-center overflow-hidden`,children:J.image_url?c.jsx("img",{src:J.image_url,alt:J.name,className:"h-full w-full object-cover"}):c.jsx(pa,{className:`h-4 w-4 ${w(k,"text","muted")}`})}),c.jsx("span",{className:`text-xs font-medium ${w(k,"text","primary")}`,children:J.name})]})}),c.jsx("td",{className:"px-4 py-2",children:c.jsx("span",{className:`px-2 py-0.5 text-xs rounded-md ${w(k,"background","accent")} ${w(k,"text","secondary")}`,children:J.category})}),c.jsx("td",{className:"px-4 py-2",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:`text-xs font-medium ${J.stock_quantity<=J.reorder_point?"text-red-500":w(k,"text","primary")}`,children:[J.stock_quantity," ",J.stock_quantity===1?"unit":"units"]}),J.stock_quantity<=J.reorder_point?c.jsx("span",{className:"text-xs text-red-500",children:"• Low"}):c.jsx("span",{className:"text-xs text-green-500",children:"• High"})]})}),c.jsxs("td",{className:`px-4 py-2 text-xs ${w(k,"text","primary")}`,children:[S," ",J.unit_price.toFixed(2)]})]},J.id))})]})})]}),c.jsxs("div",{className:`w-full lg:w-[300px] ${w(k,"background","primary")} rounded-lg p-4 space-y-4`,children:[c.jsx("h3",{className:`text-sm font-medium ${w(k,"text","primary")}`,children:"Product Statistics"}),c.jsx("div",{className:`p-3 rounded-lg ${w(k,"background","accent")}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ad,{className:"h-4 w-4 text-red-500"}),c.jsxs("span",{className:`text-xs font-medium ${w(k,"text","primary")}`,children:[F.lowStockCount," Products Low on Stock"]})]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:`p-3 rounded-lg ${w(k,"background","accent")}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pa,{className:"h-3.5 w-3.5 text-blue-500"}),c.jsx("span",{className:`text-xs ${w(k,"text","secondary")}`,children:"Total Products"})]}),c.jsx("p",{className:`text-sm font-medium mt-1 ${w(k,"text","primary")}`,children:F.totalProducts})]}),c.jsxs("div",{className:`p-3 rounded-lg ${w(k,"background","accent")}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cie,{className:"h-3.5 w-3.5 text-green-500"}),c.jsx("span",{className:`text-xs ${w(k,"text","secondary")}`,children:"Total Inventory Value"})]}),c.jsxs("p",{className:`text-sm font-medium mt-1 ${w(k,"text","primary")}`,children:[S,F.totalValue.toLocaleString()]})]})]}),c.jsxs("div",{className:`p-3 rounded-lg ${w(k,"background","accent")}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(lW,{className:"h-3.5 w-3.5 text-purple-500"}),c.jsx("span",{className:`text-xs ${w(k,"text","secondary")}`,children:"Category Distribution"})]}),c.jsx("div",{className:"h-[180px]",children:c.jsx(iX,{width:"100%",height:"100%",children:c.jsxs(wQ,{children:[c.jsx(Vl,{data:F.categoryDistribution,cx:"50%",cy:"50%",innerRadius:35,outerRadius:70,paddingAngle:5,dataKey:"value",children:F.categoryDistribution.map((J,E)=>c.jsx(c4,{fill:I[E%I.length]},`cell-${E}`))}),c.jsx(Fo,{})]})})})]})]}),y&&c.jsx("div",{className:"fixed inset-y-0 right-0 z-50 w-[85vw] sm:w-[350px] bg-white dark:bg-gray-800 shadow-xl",children:c.jsx(YLe,{product:y,onClose:Y,onUpdate:M})}),d&&c.jsx("div",{className:"fixed inset-y-0 right-0 z-50 w-[500px] bg-white dark:bg-gray-800 shadow-xl",children:c.jsx(qLe,{onClose:()=>f(!1),onSuccess:M})})]})}function zKe(){var Z,re;const{theme:e,getThemeStyle:t}=Yt(),[r,n]=EU(),[a,i]=L.useState([]),[s,o]=L.useState([]),[l,u]=L.useState(!0),[d,f]=L.useState(""),[h,p]=L.useState("all"),[m,g]=L.useState(r.get("showCreateForm")==="true"),[v,x]=L.useState(null),[y,b]=L.useState(!1),[N,_]=L.useState(!1),[C,k]=L.useState(new Date),[w,S]=L.useState("week"),[P,A]=L.useState(!1),[T,F]=L.useState(!1),{organization:M}=ir(),{confirm:H,addToast:z}=Or(),Y=M!=null&&M.currency?((Z=sn[M.currency])==null?void 0:Z.symbol)||M.currency:"";L.useEffect(()=>{const O=()=>{A(window.innerWidth<640)};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]),L.useEffect(()=>{const O=de=>{de.target.closest(".status-dropdown-container")||F(!1)};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[]);const G=()=>{const O=new Date(C);switch(w){case"day":return{start:new Date(new Date(O).setHours(0,0,0,0)),end:new Date(new Date(O).setHours(23,59,59,999))};case"week":return{start:Qo(O,{weekStartsOn:1}),end:gm(O,{weekStartsOn:1})};case"month":return{start:Fy(O),end:My(O)};case"year":return{start:mm(O),end:Ly(O)}}},{start:I,end:X}=G(),J=O=>{k(de=>{const ce=new Date(de);switch(w){case"day":return O==="prev"?Lc(ce,-1):Lc(ce,1);case"week":return O==="prev"?ld(ce,-1):ld(ce,1);case"month":return O==="prev"?Ic(ce,-1):Ic(ce,1);case"year":return O==="prev"?cd(ce,-1):cd(ce,1)}})},E=O=>{S(O)};L.useEffect(()=>{M&&B()},[M==null?void 0:M.id]),L.useEffect(()=>{M&&R()},[M,C,w,a,h,d]),L.useEffect(()=>{g(r.get("showCreateForm")==="true")},[r]);const R=()=>{if(!a.length)return;const O=a.filter(de=>{var Ae,Ee,De;const ce=!d||((Ae=de.order_number)==null?void 0:Ae.toLowerCase().includes(d.toLowerCase()))||((De=(Ee=de.client)==null?void 0:Ee.name)==null?void 0:De.toLowerCase().includes(d.toLowerCase())),pe=h==="all"||de.payment_status===h;if(d)return ce&&pe;const Q=new Date(de.created_at);return Q>=I&&Q<=X&&pe&&ce});o(O)},B=async()=>{if(M!=null&&M.id)try{const{data:O,error:de}=await We.from("sales_orders").select(`
          *,
          client:clients(name, image_url),
          items:sales_order_items(
            id,
            product_id,
            name,
            quantity,
            unit_price,
            total_price,
            is_custom_item,
            product:products(*)
          )
        `).eq("organization_id",M.id).order("created_at",{ascending:!1});if(de)throw de;i(O||[])}catch(O){console.error("Error loading orders:",O),z({type:"error",title:"Error",message:"Failed to load orders"})}finally{u(!1)}},q=O=>{x(O),_(!0)},K=O=>{f(O)},ae=O=>O==="all"?`All (${s.length})`:`${vb[O]} (${s.filter(de=>de.payment_status===O).length})`,ee=O=>{if(!O)return"";const de=O.split(" ");return de.length===1?de[0].charAt(0).toUpperCase():(de[0].charAt(0)+de[1].charAt(0)).toUpperCase()},W=O=>{const de=["bg-blue-500","bg-pink-500","bg-purple-500","bg-green-500","bg-yellow-500","bg-red-500","bg-indigo-500","bg-teal-500"];if(!O)return de[0];let ce=0;for(let pe=0;pe<O.length;pe++)ce=O.charCodeAt(pe)+((ce<<5)-ce);return de[Math.abs(ce)%de.length]};return l?c.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:`space-y p-4 min-h-screen ${t(e,"background","primary")}`,children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-6",children:[c.jsx("h1",{className:`text-xl sm:text-2xl font-medium ${t(e,"text","primary")}`,children:"Sales Orders"}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto",children:[c.jsx("div",{className:"relative w-full sm:w-auto sm:ml-2",children:c.jsxs("div",{className:`flex items-center px-3 py-1.5 border rounded-lg ${t(e,"border","primary")} ${t(e,"background","primary")}`,children:[c.jsx(Ad,{className:`h-4 w-4 ${t(e,"text","accent")}`}),c.jsx("input",{type:"text",value:d,onChange:O=>K(O.target.value),placeholder:"Search orders...",className:`ml-2 flex-1 outline-none text-sm ${t(e,"background","primary")} ${t(e,"text","primary")}`})]})}),c.jsx("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:c.jsxs("button",{onClick:()=>g(!0),className:"inline-flex items-center justify-center px-3 py-1.5 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200 flex-1 sm:flex-none",children:[c.jsx(na,{className:"h-4 w-4 mr-1"}),"Create"]})})]})]}),c.jsxs("div",{className:`${t(e,"background","primary")} rounded-lg overflow-hidden`,children:[c.jsxs("div",{className:"px-4 py-3 space-y-3",children:[c.jsx("div",{className:"flex items-center justify-center sm:justify-between",children:c.jsx(Iy,{currentDate:C,dateFilterType:w,onDateChange:J,onFilterTypeChange:E,itemCount:s.length,itemLabel:"orders"})}),c.jsxs("div",{className:`border-b ${t(e,"border","primary")} -mb-3`,children:[c.jsxs("div",{className:"block sm:hidden status-dropdown-container",children:[c.jsxs("button",{onClick:()=>F(!T),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md ${t(e,"background","secondary")} ${t(e,"border","primary")}`,children:[c.jsx("span",{className:`text-sm font-medium ${t(e,"text","primary")}`,children:ae(h)}),c.jsx(Fc,{className:`h-4 w-4 ${t(e,"text","muted")} transition-transform ${T?"rotate-180":""}`})]}),T&&c.jsx("div",{className:`absolute z-10 mt-1 w-full rounded-md shadow-lg ${t(e,"background","secondary")} ${t(e,"border","primary")} border`,children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{p("all"),F(!1)},className:`block w-full text-left px-3 py-2 text-sm ${h==="all"?"bg-blue-50 text-blue-700":t(e,"text","primary")}`,children:["All (",s.length,")"]}),Object.entries(vb).map(([O,de])=>c.jsxs("button",{onClick:()=>{p(O),F(!1)},className:`block w-full text-left px-3 py-2 text-sm ${h===O?"bg-blue-50 text-blue-700":t(e,"text","primary")}`,children:[de," (",s.filter(ce=>ce.payment_status===O).length,")"]},O))]})})]}),c.jsxs("nav",{className:"hidden sm:flex -mb-px space-x-2","aria-label":"Tabs",children:[c.jsxs("button",{onClick:()=>p("all"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-xs ${h==="all"?"border-blue-500 text-blue-600":`border-transparent ${t(e,"text","muted")} hover:text-gray-900 dark:hover:text-gray-100 hover:border-gray-300`}`,children:["All",c.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${h==="all"?"bg-blue-100 text-blue-800":`${t(e,"background","accent")} ${t(e,"text","tertiary")}`}`,children:s.length})]}),Object.entries(vb).map(([O,de])=>c.jsxs("button",{onClick:()=>p(O),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-xs ${h===O?"border-blue-500 text-blue-600":`border-transparent ${t(e,"text","muted")} hover:text-gray-900 dark:hover:text-gray-100 hover:border-gray-300`}`,children:[de,c.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${h===O?"bg-blue-100 text-blue-800":`${t(e,"background","accent")} ${t(e,"text","tertiary")}`}`,children:s.filter(ce=>ce.payment_status===O).length})]},O))]})]})]}),c.jsx("div",{className:"overflow-x-auto px-4 py-2",children:s.length===0?c.jsx("div",{className:`text-center ${t(e,"text","muted")} py-6`,children:d||h!=="all"?"No orders found matching your search.":"No orders created yet. Start by creating a new order."}):c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:s.map(O=>{var de,ce,pe,Q,ne,Ae,Ee;return c.jsx(Wr,{to:`/dashboard/sales/${O.id}`,className:"block",children:c.jsx("div",{className:`h-full border-l-4 border rounded-lg overflow-hidden hover:bg-gray-100 dark:hover:bg-gray-700 transition-shadow ${O.payment_status==="unpaid"?"border-l-red-500":O.payment_status==="partially_paid"?"border-l-orange-500":O.payment_status==="cancelled"?"border-l-gray-500":"border-l-green-500"} ${t(e,"border","secondary")}`,children:c.jsxs("div",{className:`px-4 py-2 ${O.payment_status==="cancelled"?"line-through":""}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0 mr-3",children:(de=O.client)!=null&&de.image_url?c.jsx("img",{src:O.client.image_url,alt:((ce=O.client)==null?void 0:ce.name)||"Client",className:"h-8 w-8 rounded-full object-cover"}):c.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${W(((pe=O.client)==null?void 0:pe.name)||"")} text-white font-medium`,children:ee(((Q=O.client)==null?void 0:Q.name)||"")})}),c.jsxs("div",{children:[c.jsx("h3",{className:`text-base font-semibold ${t(e,"text","primary")}`,children:((ne=O.client)==null?void 0:ne.name)||"Unknown Client"}),c.jsx("p",{className:`text-xs ${t(e,"text","muted")}`,children:O.items&&O.items.length>0?(((Ae=O.items[0])==null?void 0:Ae.name)||"Unknown Item")+(O.items.length>1?` (+${O.items.length-1})`:""):"No items"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium text-blue-600",children:O.order_number}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:De=>{De.preventDefault(),De.stopPropagation(),q(O)},className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"Print Receipt",children:c.jsx($y,{className:"h-4 w-4"})}),O.payment_status!=="paid"&&O.payment_status!=="cancelled"&&c.jsx("button",{onClick:De=>{De.preventDefault(),De.stopPropagation(),x(O),b(!0)},className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",title:"Record Payment",children:c.jsx(Td,{className:"h-4 w-4"})})]})]})]}),c.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center py-2 border-t border-b ${t(e,"border","primary")}`,children:[c.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[c.jsx(id,{className:"h-3.5 w-3.5"}),c.jsxs("span",{children:["Created: ",jt(new Date(O.created_at),"MMM d, yyyy")]})]}),c.jsx("span",{className:`inline-flex mt-[4px] items-center px-2.5 py-0.5 rounded-full w-fit text-xs font-medium ${h$[O.payment_status].bg} ${h$[O.payment_status].text}`,children:vb[O.payment_status]})]}),c.jsxs("div",{className:"flex justify-between sm:items-start pt-2",children:[c.jsx("div",{className:"mb-2 sm:mb-0 max-w-[60%]",children:c.jsxs("div",{className:"space-y-1",children:[(Ee=O.items)==null?void 0:Ee.slice(0,2).map(De=>c.jsxs("div",{className:"flex items-center text-xs",children:[De!=null&&De.image_url?c.jsx("img",{src:De.image_url,alt:(De==null?void 0:De.name)||"Product",className:"h-[20px] w-[20px] mr-1.5 rounded-full object-cover"}):c.jsx(pa,{className:`h-3.5 w-3.5 ${t(e,"text","accent")} mr-1.5`}),c.jsx("span",{className:t(e,"text","primary"),children:De.name}),c.jsxs("span",{className:`ml-1.5 ${t(e,"text","muted")}`,children:["× ",De.quantity]})]},De.id)),O.items&&O.items.length>2&&c.jsxs("div",{className:`text-xs ${t(e,"text","muted")}`,children:["+",O.items.length-2," more items"]})]})}),c.jsx("div",{className:"flex items-center gap-3",children:c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:`text-sm font-medium ${t(e,"text","primary")}`,children:[Y," ",O.total_amount.toFixed(2)]}),c.jsxs("div",{className:`text-xs ${O.payment_status==="paid"?"text-green-600":O.payment_status==="partially_paid"?"text-red-600":O.payment_status==="cancelled"?"text-gray-600":"text-red-600"}`,children:[Y," ",O.outstanding_balance.toFixed(2),c.jsx("span",{className:`ml-1 hidden sm:block ${t(e,"text","tertiary")} text-xs`,children:O.payment_status==="paid"?"(Paid)":O.payment_status==="partially_paid"?"(Outstanding)":O.payment_status==="cancelled"?"(Cancelled)":"(Unpaid)"})]})]})})]})]})})},O.id)})})})]}),m&&c.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",children:c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:`fixed inset-0 ${t(e,"modal","overlay")} transition-opacity`,onClick:()=>{g(!1),r.delete("showCreateForm"),n(r)}}),c.jsx("div",{className:"fixed inset-y-0 right-0 flex max-w-full pl-10 pointer-events-none",children:c.jsx("div",{className:`pointer-events-auto w-screen max-w-[450px] transform transition ease-in-out duration-300 ${m?"translate-x-0":"translate-x-full"}`,children:c.jsx("div",{className:`h-full ${t(e,"modal","background")} shadow-xl`,children:c.jsx(AH,{onClose:()=>{g(!1),r.delete("showCreateForm"),n(r)},onSuccess:B})})})})]})}),y&&v&&c.jsx(bp,{orderId:v.id,orderNumber:v.order_number,clientName:(re=v.client)==null?void 0:re.name,outstandingBalance:v.outstanding_balance,onPaymentRecorded:B,isOpen:y,onClose:()=>{b(!1),x(null)},currencySymbol:Y,orderType:"sales_order"}),N&&v&&c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[c.jsx("div",{className:`fixed inset-0 ${t(e,"modal","overlay")} transition-opacity`,onClick:()=>{_(!1),x(null)}}),c.jsx("div",{className:`relative transform overflow-hidden rounded-xl ${t(e,"modal","background")} text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg`,children:c.jsx(TH,{orderId:v.id,onClose:()=>{_(!1),x(null)}})})]})})]})}const _Q=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:i="Confirm",cancelText:s="Cancel",confirmButtonClass:o="bg-red-600 hover:bg-red-700"})=>{const{theme:l}=Yt();return e?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:c.jsx("div",{className:`absolute inset-0 ${nt(l,"modal","overlay")}`})}),c.jsxs("div",{className:`inline-block align-bottom ${nt(l,"modal","background")} rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full`,children:[c.jsxs("div",{className:`flex items-center justify-between px-6 py-4 border-b ${nt(l,"border","primary")}`,children:[c.jsx("h3",{className:`text-lg font-semibold ${nt(l,"text","primary")}`,children:n}),c.jsx("button",{onClick:t,className:`${nt(l,"text","muted")} ${nt(l,"interactive","hover","text")}`,children:c.jsx(dr,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"px-6 py-4",children:c.jsx("p",{className:`text-sm ${nt(l,"text","secondary")}`,children:a})}),c.jsxs("div",{className:"flex justify-end space-x-3 px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:[c.jsx("button",{type:"button",onClick:t,className:`px-4 py-2 border ${nt(l,"border","primary")} rounded-md text-sm font-medium ${nt(l,"text","secondary")} ${nt(l,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:s}),c.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${o} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:i})]})]})]})}):null};function HKe(){var C;const{id:e}=l5(),[t,r]=L.useState(null),[n,a]=L.useState(!0),[i,s]=L.useState(!1),[o,l]=L.useState(!1),[u,d]=L.useState(!1),[f,h]=L.useState(null),[p,m]=L.useState(""),{organization:g}=ir(),{addToast:v}=Or(),{theme:x}=Yt(),y=g!=null&&g.currency?((C=sn[g.currency])==null?void 0:C.symbol)||g.currency:sn.USD.symbol;L.useEffect(()=>{e&&b()},[e]);const b=async()=>{try{const{data:k,error:w}=await We.from("sales_orders").select(`
          *,
          client:clients(name),
          items:sales_order_items(
            id,
            product_id,
            name,
            quantity,
            unit_price,
            total_price,
            is_custom_item,
            product:products(
              id,
              name,
              stock_quantity
            )
          )
        `).eq("id",e).single();if(w)throw w;const{data:S,error:P}=await We.from("payments").select("*").eq("reference_type","sales_order").eq("reference_id",e);if(P)throw P;r({...k,payments:S||[]})}catch(k){console.error("Error loading order:",k),v({type:"error",title:"Error",message:"Failed to load order details"})}finally{a(!1)}},N=async k=>{try{const{error:w}=await We.from("sales_orders").update({status:"cancelled",payment_status:"cancelled"}).eq("id",k);if(w)throw w;const{error:S}=await We.from("payments").update({status:"cancelled"}).eq("reference_type","sales_order").eq("reference_id",k);if(S)throw S;v({type:"success",title:"Order Cancelled",message:"The order and all associated payments have been cancelled successfully."}),await b()}catch(w){console.error("Error cancelling order:",w),v({type:"error",title:"Error",message:"Failed to cancel order. Please try again."})}},_=async(k,w)=>{try{const{error:S}=await We.from("payments").update({status:"cancelled",cancelled_at:new Date().toISOString(),cancelled_by:(g==null?void 0:g.id)||null,cancellation_reason:w}).eq("id",k);if(S)throw S;const{data:P,error:A}=await We.from("payments").select("amount").eq("id",k).single();if(A)throw A;const{error:T}=await We.from("sales_orders").update({outstanding_balance:t.outstanding_balance+P.amount}).eq("id",t.id);if(T)throw T;await b(),v({type:"success",title:"Payment Cancelled",message:"The payment has been cancelled successfully and the outstanding balance has been updated."}),d(!1),h(null),m("")}catch(S){console.error("Error cancelling payment:",S),v({type:"error",title:"Error",message:"Failed to cancel the payment"})}};return n?c.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t?c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(Wr,{to:"/dashboard/sales",className:`${nt(x,"text","muted")} ${nt(x,"interactive","hover","text")}`,children:c.jsx(Wf,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsxs("h2",{className:`text-xl font-semibold ${t.status==="cancelled"?"text-gray-400 line-through":nt(x,"text","primary")}`,children:["Order ",t.order_number]}),c.jsxs("p",{className:`text-sm ${nt(x,"text","muted")} mt-0.5`,children:["Created on ",jt(new Date(t.created_at),"MMM d, yyyy HH:mm")]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mt-6",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[c.jsxs("div",{className:`${nt(x,"background","secondary")} rounded-lg overflow-hidden ${t.status==="cancelled"?"opacity-75":""}`,children:[c.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:c.jsx("h3",{className:`text-sm font-medium ${nt(x,"text","primary")}`,children:"Client Information"})}),c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(yp,{className:`h-4 w-4 ${nt(x,"text","muted")}`}),c.jsx("span",{className:`text-sm font-medium ${nt(x,"text","primary")} ${t.status==="cancelled"?"line-through text-gray-400":""}`,children:t.client.name})]})})]}),c.jsxs("div",{className:`${nt(x,"background","secondary")} rounded-lg overflow-hidden ${t.status==="cancelled"?"opacity-75":""}`,children:[c.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:c.jsx("h3",{className:`text-sm font-medium ${nt(x,"text","primary")}`,children:"Order Items"})}),c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"space-y-2",children:t.items.map(k=>c.jsxs("div",{className:`flex items-center justify-between p-3 ${nt(x,"background","primary")} rounded-md ${t.status==="cancelled"?"line-through text-gray-400":""}`,children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(pa,{className:`h-4 w-4 ${nt(x,"text","muted")}`}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${nt(x,"text","primary")}`,children:k.name}),c.jsxs("p",{className:`text-xs ${nt(x,"text","muted")}`,children:["Quantity: ",k.quantity," × ",y," ",k.unit_price.toFixed(2)]})]})]}),c.jsxs("div",{className:`text-sm font-medium ${nt(x,"text","primary")}`,children:[y," ",k.total_price.toFixed(2)]})]},k.id))}),c.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:`font-medium ${nt(x,"text","primary")}`,children:"Total Amount"}),c.jsxs("span",{className:`font-bold ${t.status==="cancelled"?"line-through text-gray-400":nt(x,"text","primary")}`,children:[y," ",t.total_amount.toFixed(2)]})]})})]})]}),t.notes&&c.jsxs("div",{className:`${nt(x,"background","secondary")} rounded-lg overflow-hidden ${t.status==="cancelled"?"opacity-75":""}`,children:[c.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:c.jsx("h3",{className:`text-sm font-medium ${nt(x,"text","primary")}`,children:"Notes"})}),c.jsx("div",{className:"p-4",children:c.jsx("p",{className:`text-sm ${nt(x,"text","muted")} ${t.status==="cancelled"?"line-through text-gray-400":""}`,children:t.notes})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:`${nt(x,"background","secondary")} rounded-lg overflow-hidden ${t.status==="cancelled"?"opacity-75":""}`,children:[c.jsx("div",{className:`py-4 ${nt(x,"border","primary")}`,children:c.jsx("div",{className:"flex items-center justify-between px-4",children:c.jsxs("h3",{className:`text-base font-semibold ${nt(x,"text","primary")} flex items-center`,children:[c.jsx(Xa,{className:`h-5 w-5 mr-2 ${nt(x,"text","muted")}`}),"Payment Details |   ",c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                    ${t.payment_status==="paid"?"bg-green-100 text-green-800":t.payment_status==="partially_paid"?"bg-yellow-100 text-yellow-800":(t.payment_status==="cancelled","bg-red-100 text-red-800")}`,children:t.payment_status==="paid"?"Paid":t.payment_status==="partially_paid"?"Partially Paid":t.payment_status==="cancelled"?"Cancelled":"Unpaid"})]})})}),c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{className:"border-l-4 border-blue-500 rounded-xs py-2 px-4",children:[c.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Total Amount"}),c.jsxs("p",{className:`text-lg font-bold ${t.status==="cancelled"?"line-through text-gray-400":"text-blue-900"}`,children:[y," ",t.total_amount.toFixed(2)]})]}),c.jsxs("div",{className:"border-l-4 border-green-500 rounded-xs py-2 px-4",children:[c.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Amount Paid"}),c.jsxs("p",{className:`text-lg font-bold ${t.status==="cancelled"?"line-through text-gray-400":"text-green-900"}`,children:[y," ",(t.total_amount-t.outstanding_balance).toFixed(2)]})]}),c.jsxs("div",{className:"border-l-4 border-orange-500 rounded-xs py-2 px-4",children:[c.jsx("p",{className:"text-xs text-orange-600 font-medium",children:"Outstanding Balance"}),c.jsxs("p",{className:`text-lg font-bold ${t.status==="cancelled"?"line-through text-gray-400":"text-orange-900"}`,children:[y," ",t.outstanding_balance.toFixed(2)]})]})]}),t.payment_status!=="paid"&&t.status!=="cancelled"&&c.jsxs("button",{onClick:()=>s(!0),className:"w-full inline-flex items-center justify-center px-3 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Td,{className:"h-4 w-4 mr-2"}),"Record Payment"]}),c.jsxs("div",{children:[c.jsx("h4",{className:`text-sm font-semibold ${nt(x,"text","primary")}`,children:"Payment History"}),t.payments&&t.payments.length>0?c.jsx("div",{className:`divide-y ${nt(x,"border","primary")}`,children:t.payments.map(k=>c.jsxs("div",{className:`py-2 px flex flex-col space-y-1 ${k.status==="cancelled"?"opacity-75":""}`,children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("p",{className:`text-xs font-medium ${k.status==="cancelled"?"line-through text-gray-400":nt(x,"text","primary")}`,children:[y," ",k.amount.toFixed(2)]}),k.status==="cancelled"&&c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Cancelled"})]}),c.jsx("p",{className:`text-xs ${k.status==="cancelled"?"line-through text-gray-400":nt(x,"text","muted")}`,children:jt(new Date(k.created_at),"MMM d, yyyy h:mm a")})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("p",{className:`text-xs ${k.status==="cancelled"?"line-through text-gray-400":nt(x,"text","muted")} truncate`,children:[k.payment_method," • ",k.transaction_reference]}),k.status!=="cancelled"&&c.jsx("button",{onClick:()=>{h(k),d(!0)},className:"text-xs text-red-600 hover:text-red-800",children:"Cancel"})]}),k.status==="cancelled"&&k.cancellation_reason&&c.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Reason: ",k.cancellation_reason]})]},k.id))}):c.jsx("p",{className:`text-xs ${nt(x,"text","muted")} italic`,children:"No payments recorded yet"})]})]})})]}),t.status!=="cancelled"&&c.jsxs("div",{className:`${nt(x,"background","secondary")} rounded-lg overflow-hidden`,children:[c.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:c.jsx("h3",{className:`text-sm font-medium ${nt(x,"text","primary")}`,children:"Danger Zone"})}),c.jsx("div",{className:"p-4",children:c.jsxs("button",{onClick:()=>l(!0),className:"w-full inline-flex items-center justify-center px-3 py-2 text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[c.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Cancel Order"]})})]})]})]}),i&&c.jsx(bp,{orderId:t.id,orderType:"sales_order",orderNumber:t.order_number,clientName:t.client.name,outstandingBalance:t.outstanding_balance,onPaymentRecorded:b,isOpen:i,onClose:()=>s(!1),currencySymbol:y}),c.jsx(_Q,{isOpen:o,onClose:()=>l(!1),onConfirm:()=>{N(t.id),l(!1)},title:"Cancel Order",message:"Are you sure you want to cancel this order? This action cannot be undone and will cancel all associated payments.",confirmText:"Yes, Cancel Order",cancelText:"No, Keep Order",confirmButtonClass:"bg-red-600 hover:bg-red-700"}),u&&f&&c.jsx("div",{className:`fixed inset-0 ${nt(x,"modal","overlay")} flex items-center justify-center z-50 p-4`,children:c.jsxs("div",{className:`${nt(x,"modal","background")} rounded-lg p-6 max-w-md w-full mx-4`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:`text-base font-medium ${nt(x,"text","primary")}`,children:"Cancel Payment"}),c.jsx("button",{onClick:()=>{d(!1),h(null),m("")},className:`${nt(x,"text","accent")} hover:${nt(x,"text","muted")}`,children:c.jsx(dr,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"cancellation-reason",className:`block text-xs font-medium ${nt(x,"text","secondary")} mb-1`,children:"Reason for Cancellation"}),c.jsx("textarea",{id:"cancellation-reason",value:p,onChange:k=>m(k.target.value),className:`w-full px-3 py-2 border ${nt(x,"border","primary")} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs`,rows:3,placeholder:"Please provide a reason for cancelling this payment..."})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{onClick:()=>{d(!1),h(null),m("")},className:`px-4 py-2 text-xs font-medium ${nt(x,"text","secondary")} ${nt(x,"background","primary")} border ${nt(x,"border","primary")} rounded-md ${nt(x,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:"Cancel"}),c.jsx("button",{onClick:()=>_(f.id,p),disabled:!p.trim(),className:"px-4 py-2 text-xs font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm Cancellation"})]})]})})]}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:`${nt(x,"text","muted")}`,children:"Order not found."}),c.jsxs(Wr,{to:"/dashboard/sales",className:`mt-4 inline-flex items-center ${nt(x,"text","accent")} ${nt(x,"interactive","hover","text")}`,children:[c.jsx(Wf,{className:"h-4 w-4 mr-2"}),"Back to Sales Orders"]})]})}function qKe({onClose:e,onSuccess:t}){const[r,n]=L.useState(""),{addToast:a}=Or(),{organization:i}=ir(),{theme:s,getThemeStyle:o}=Yt(),l=async u=>{if(u.preventDefault(),!!(i!=null&&i.id))try{const{error:d}=await We.from("categories").insert([{name:r,organization_id:i.id}]);if(d)throw d;a({type:"success",title:"Category Created",message:"The category has been created successfully."}),t(),e()}catch(d){console.error("Error creating category:",d),a({type:"error",title:"Error",message:"Failed to create category"})}};return c.jsxs("form",{onSubmit:l,className:`p-6 ${o(s,"modal","background")}`,children:[c.jsx("h2",{className:`text-lg font-bold mb-4 ${o(s,"text","primary")}`,children:"Create New Category"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:`block text-sm font-medium ${o(s,"text","secondary")}`,children:"Category Name"}),c.jsx("input",{type:"text",value:r,onChange:u=>n(u.target.value),className:`mt-1 block w-full h-8 border p-2 rounded-md ${o(s,"border","primary")} shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 ${o(s,"background","primary")} ${o(s,"text","primary")}`,required:!0})]}),c.jsxs("div",{className:"flex justify-end",children:[c.jsx("button",{type:"button",onClick:e,className:`mr-2 inline-flex justify-center py-2 px-4 border ${o(s,"border","primary")} shadow-sm text-sm font-medium rounded-md ${o(s,"text","secondary")} ${o(s,"background","primary")} ${o(s,"interactive","hover","background")} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500`,children:"Cancel"}),c.jsx("button",{type:"submit",className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md ${o(s,"text","inverse")} bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:"Create"})]})]})}function YKe({category:e,onClose:t,onSuccess:r}){const[n,a]=L.useState(e.name),{addToast:i}=Or(),{theme:s,getThemeStyle:o}=Yt(),l=async u=>{u.preventDefault();try{const{error:d}=await We.from("categories").update({name:n}).eq("id",e.id);if(d)throw d;i({type:"success",title:"Category Updated",message:"The category has been updated successfully."}),r(),t()}catch(d){console.error("Error updating category:",d),i({type:"error",title:"Error",message:"Failed to update category"})}};return c.jsxs("form",{onSubmit:l,className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-lg font-bold",children:"Edit Category"}),c.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-500",children:c.jsx(dr,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:`block text-sm font-medium ${o(s,"text","primary")} mb-2`,children:"Category Name"}),c.jsx("input",{type:"text",value:n,onChange:u=>a(u.target.value),className:`mt-1 p-2 h-8 block w-full border rounded-md shadow-sm ${o(s,"background","primary")} ${o(s,"text","primary")} ${o(s,"border","primary")} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,required:!0})]}),c.jsxs("div",{className:"flex justify-end",children:[c.jsx("button",{type:"button",onClick:t,className:"mr-2 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),c.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Update"})]})]})}function VKe({categoryToDelete:e,categories:t,onClose:r,onSuccess:n}){const[a,i]=L.useState(""),[s,o]=L.useState(!1),{organization:l}=ir(),{addToast:u}=Or(),{theme:d,getThemeStyle:f}=Yt(),h=t.filter(m=>m.id!==e.id),p=async()=>{if(!(!a||!(l!=null&&l.id))){o(!0);try{const{error:m}=await We.from("products").update({category:a}).eq("organization_id",l.id).eq("category",e.name);if(m)throw m;const{error:g}=await We.from("categories").delete().eq("id",e.id);if(g)throw g;u({type:"success",title:"Success",message:"Products reassigned and category deleted successfully"}),n(),r()}catch(m){console.error("Error reassigning products:",m),u({type:"error",title:"Error",message:"Failed to reassign products and delete category"})}finally{o(!1)}}};return c.jsxs("div",{className:`h-full flex flex-col ${f(d,"background","primary")}`,children:[c.jsxs("div",{className:`flex justify-between items-center p-4 border-b ${f(d,"border","primary")}`,children:[c.jsx("h2",{className:`text-sm font-medium ${f(d,"text","primary")}`,children:"Reassign Products"}),c.jsx("button",{onClick:r,className:`p-1.5 rounded-md ${f(d,"background","accent")} ${f(d,"text","muted")} hover:${f(d,"text","primary")}`,children:c.jsx(dr,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("p",{className:`text-xs ${f(d,"text","primary")}`,children:["The category ",c.jsx("span",{className:"font-medium",children:e.name})," has products associated with it. Please select a new category to reassign these products before deleting."]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-xs font-medium mb-1 ${f(d,"text","muted")}`,children:"Select New Category"}),c.jsxs("select",{value:a,onChange:m=>i(m.target.value),className:`w-full px-3 py-2 rounded-md border text-sm ${f(d,"border","primary")} ${f(d,"background","primary")} ${f(d,"text","primary")}`,children:[c.jsx("option",{value:"",children:"Select a category"}),h.map(m=>c.jsx("option",{value:m.name,children:m.name},m.id))]})]})]})}),c.jsxs("div",{className:`flex justify-end gap-2 p-4 border-t ${f(d,"border","primary")}`,children:[c.jsx("button",{type:"button",onClick:r,className:`px-3 py-1.5 text-xs font-medium ${f(d,"text","primary")} hover:${f(d,"text","secondary")}`,children:"Cancel"}),c.jsx("button",{onClick:p,disabled:s||!a,className:"inline-flex items-center px-3 py-1.5 border border-transparent rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:bg-gray-400",children:s?c.jsx(zi,{className:"h-3.5 w-3.5 animate-spin"}):"Reassign & Delete"})]})]})}function GKe(){const[e,t]=L.useState([]),[r,n]=L.useState([]),[a,i]=L.useState(!0),[s,o]=L.useState(""),[l,u]=L.useState(!1),[d,f]=L.useState(null),[h,p]=L.useState(null),{organization:m}=ir(),{confirm:g,addToast:v}=Or(),{theme:x,getThemeStyle:y}=Yt();L.useEffect(()=>{m&&(N(),b())},[m]);const b=async()=>{if(m!=null&&m.id)try{const{data:w,error:S}=await We.from("products").select("*").eq("organization_id",m.id);if(S)throw S;n(w||[])}catch(w){console.error("Error loading products:",w),v({type:"error",title:"Error",message:"Failed to load products"})}},N=async()=>{if(m!=null&&m.id)try{const{data:w,error:S}=await We.from("categories").select("*").eq("organization_id",m.id).order("name");if(S)throw S;const P=await Promise.all(w.map(async A=>{const{count:T,error:F}=await We.from("products").select("*",{count:"exact",head:!0}).eq("organization_id",m.id).eq("category",A.name);if(F)throw F;return{id:A.id,name:A.name,product_count:T||0}}));t(P)}catch(w){console.error("Error loading categories:",w),v({type:"error",title:"Error",message:"Failed to load categories"})}finally{i(!1)}},_=async(w,S)=>{if(r.some(T=>T.category===S)){const T=e.find(F=>F.id===w);T&&p(T);return}if(await g({title:"Delete Category",message:"Are you sure you want to delete this category? This action cannot be undone.",type:"danger",confirmText:"Delete",cancelText:"Cancel"}))try{const{error:T}=await We.from("categories").delete().eq("id",w);if(T)throw T;t(F=>F.filter(M=>M.id!==w)),v({type:"success",title:"Category Deleted",message:"Category has been deleted successfully."})}catch(T){console.error("Error deleting category:",T),v({type:"error",title:"Error",message:"Failed to delete category"})}},C=e.filter(w=>w.name.toLowerCase().includes(s.toLowerCase())),k=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];return a?c.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 p-4",children:[c.jsxs("div",{className:"flex-1 space-y-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[c.jsx("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:c.jsxs("div",{className:`flex items-center px-2 py-1.5 border rounded-md focus-within:ring-1 focus-within:ring-blue-500 focus-within:border-blue-500 flex-1 sm:flex-none ${y(x,"background","primary")}`,children:[c.jsx(Ad,{className:"h-3.5 w-3.5 text-gray-400"}),c.jsx("input",{type:"text",value:s,onChange:w=>o(w.target.value),placeholder:"Search categories...",className:`ml-2 w-full sm:w-64 text-xs outline-none bg-transparent ${y(x,"text","primary")}`})]})}),c.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-2 py-1.5 rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200 w-full sm:w-auto justify-center",children:[c.jsx(na,{className:"h-3.5 w-3.5 mr-1"}),"Add Category"]})]}),c.jsx("div",{className:"block lg:hidden space-y-4",children:C.length===0?c.jsx("div",{className:`p-4 text-center text-xs ${y(x,"text","muted")}`,children:"No categories found."}):C.map(w=>c.jsxs("div",{className:`p-4 rounded-lg ${y(x,"background","primary")} border ${y(x,"border","primary")}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`h-8 w-8 rounded-md ${y(x,"background","accent")} flex items-center justify-center`,children:c.jsx(pa,{className:`h-4 w-4 ${y(x,"text","muted")}`})}),c.jsx("span",{className:`text-sm font-medium ${y(x,"text","primary")}`,children:w.name})]}),c.jsxs("span",{className:`px-2 py-0.5 text-xs rounded-md ${y(x,"background","accent")} ${y(x,"text","secondary")}`,children:[w.product_count," ",w.product_count===1?"product":"products"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>f(w),className:`flex-1 p-2 rounded-md ${y(x,"background","accent")} ${y(x,"text","muted")} hover:${y(x,"text","primary")} flex items-center justify-center gap-2`,children:[c.jsx(Ol,{className:"h-3.5 w-3.5"}),c.jsx("span",{className:"text-xs",children:"Edit"})]}),c.jsxs("button",{onClick:()=>_(w.id,w.name),className:`flex-1 p-2 rounded-md ${y(x,"background","accent")} ${y(x,"text","muted")} hover:text-red-500 flex items-center justify-center gap-2`,children:[c.jsx(Hi,{className:"h-3.5 w-3.5"}),c.jsx("span",{className:"text-xs",children:"Delete"})]})]})]},w.id))}),c.jsx("div",{className:`hidden lg:block ${y(x,"background","primary")}`,children:C.length===0?c.jsx("div",{className:`p-4 text-center text-xs ${y(x,"text","muted")}`,children:"No categories found."}):c.jsxs("table",{className:"min-w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:`border-b ${y(x,"border","primary")}`,children:[c.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${y(x,"text","muted")}`,children:"Category Name"}),c.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${y(x,"text","muted")}`,children:"Products"}),c.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${y(x,"text","muted")}`,children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-opacity-2",children:C.map(w=>c.jsxs("tr",{className:"hover:bg-gray-300 dark:hover:bg-gray-800 transition-colors duration-150",children:[c.jsx("td",{className:"px-4 py-2",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`h-8 w-8 rounded-md ${y(x,"background","accent")} flex items-center justify-center`,children:c.jsx(pa,{className:`h-4 w-4 ${y(x,"text","muted")}`})}),c.jsx("span",{className:`text-xs font-medium ${y(x,"text","primary")}`,children:w.name})]})}),c.jsx("td",{className:"px-4 py-2",children:c.jsxs("span",{className:`px-2 py-0.5 text-xs rounded-md ${y(x,"background","accent")} ${y(x,"text","secondary")}`,children:[w.product_count," ",w.product_count===1?"product":"products"]})}),c.jsx("td",{className:"px-4 py-2",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>f(w),className:`p-1.5 rounded-md ${y(x,"background","accent")} ${y(x,"text","muted")} hover:${y(x,"text","primary")}`,children:c.jsx(Ol,{className:"h-3.5 w-3.5"})}),c.jsx("button",{onClick:()=>_(w.id,w.name),className:`p-1.5 rounded-md ${y(x,"background","accent")} ${y(x,"text","muted")} hover:text-red-500`,children:c.jsx(Hi,{className:"h-3.5 w-3.5"})})]})})]},w.id))})]})})]}),c.jsxs("div",{className:`w-full lg:w-[300px] ${y(x,"background","secondary")} rounded-lg p-4 space-y-4`,children:[c.jsx("h3",{className:`text-sm font-medium ${y(x,"text","primary")}`,children:"Category Statistics"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:`p-3 rounded-lg ${y(x,"background","accent")}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pa,{className:"h-3.5 w-3.5 text-blue-500"}),c.jsx("span",{className:`text-xs ${y(x,"text","secondary")}`,children:"Total Categories"})]}),c.jsx("p",{className:`text-sm font-medium mt-1 ${y(x,"text","primary")}`,children:e.length})]}),c.jsxs("div",{className:`p-3 rounded-lg ${y(x,"background","accent")}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(lW,{className:"h-3.5 w-3.5 text-purple-500"}),c.jsx("span",{className:`text-xs ${y(x,"text","secondary")}`,children:"Category Distribution"})]}),c.jsx("div",{className:"h-[180px]",children:c.jsx(iX,{width:"100%",height:"100%",children:c.jsxs(wQ,{children:[c.jsx(Vl,{data:e.map(w=>({name:w.name,value:w.product_count})),cx:"50%",cy:"50%",innerRadius:35,outerRadius:70,paddingAngle:5,dataKey:"value",children:e.map((w,S)=>c.jsx(c4,{fill:k[S%k.length]},`cell-${S}`))}),c.jsx(Fo,{})]})})})]})]})]}),l&&c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>u(!1)}),c.jsx("div",{className:`relative transform overflow-hidden rounded-lg shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-2xl ${y(x,"background","primary")}`,children:c.jsx(qKe,{onClose:()=>u(!1),onSuccess:N})})]})}),d&&c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>f(null)}),c.jsx("div",{className:`relative transform overflow-hidden rounded-lg shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-2xl ${y(x,"background","primary")}`,children:c.jsx(YKe,{category:d,onClose:()=>f(null),onSuccess:N})})]})}),h&&c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>p(null)}),c.jsx("div",{className:`relative transform overflow-hidden rounded-lg shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-2xl ${y(x,"background","primary")}`,children:c.jsx(VKe,{categoryToDelete:h,categories:e,onClose:()=>p(null),onSuccess:N})})]})})]})}function KKe({client:e,isOpen:t,onClose:r,onSave:n,isSubmitting:a}){const[i,s]=L.useState(e);if(!t)return null;const o=async l=>{l.preventDefault(),await n(i)};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40 bg-gray-500 bg-opacity-75 transition-opacity",onClick:r}),c.jsx("div",{className:"fixed inset-y-0 right-0 z-50 w-[400px] max-w-full overflow-y-auto bg-white dark:bg-dark-bg-secondary shadow-xl transform transition-transform duration-300 ease-in-out",children:c.jsxs("form",{onSubmit:o,className:"h-full flex flex-col",children:[c.jsxs("div",{className:"flex-1 px-4 pt-5 pb-4 sm:p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-dark-text-primary",children:"Edit Client Details"}),c.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:c.jsx(ps,{className:"h-6 w-6"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Name"}),c.jsx("input",{type:"text",value:i.name,onChange:l=>s(u=>({...u,name:l.target.value})),className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary",placeholder:"Enter client name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Phone"}),c.jsx("input",{type:"tel",value:i.phone||"",onChange:l=>s(u=>({...u,phone:l.target.value})),className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary",placeholder:"Enter phone number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Address"}),c.jsx("textarea",{value:i.address||"",onChange:l=>s(u=>({...u,address:l.target.value})),rows:3,className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary",placeholder:"Enter client address"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Date of Birth"}),c.jsx("input",{type:"date",value:i.date_of_birth||"",onChange:l=>s(u=>({...u,date_of_birth:l.target.value})),className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary"})]})]})]}),c.jsx("div",{className:"border-t border-gray-200 dark:border-dark-border-primary px-4 py-4 sm:px-6",children:c.jsxs("div",{className:"flex flex-col space-y-3",children:[c.jsx("button",{type:"submit",disabled:a,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm disabled:bg-gray-400 transition-colors duration-200",children:a?c.jsxs(c.Fragment,{children:[c.jsx(zi,{className:"animate-spin h-4 w-4 mr-2"}),"Saving..."]}):"Save Changes"}),c.jsx("button",{type:"button",onClick:r,className:"w-full inline-flex justify-center rounded-lg border border-gray-300 dark:border-dark-border-primary shadow-sm px-4 py-2 bg-white dark:bg-dark-bg-secondary text-base font-medium text-gray-700 dark:text-dark-text-secondary hover:bg-gray-50 dark:hover:bg-dark-bg-tertiary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm transition-colors duration-200",children:"Cancel"})]})})]})})]})}function XKe({isOpen:e,onClose:t,onAdd:r,isSubmitting:n}){const[a,i]=L.useState({title:"",value:"",type:"text",file:null});if(!e)return null;const s=async o=>{o.preventDefault(),await r(a),i({title:"",value:"",type:"text",file:null})};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),c.jsx("div",{className:"fixed inset-y-0 right-0 z-50 w-[300px] max-w-full overflow-y-auto bg-white dark:bg-dark-bg-secondary shadow-xl transform transition-transform duration-300 ease-in-out",children:c.jsxs("form",{onSubmit:s,className:"h-full flex flex-col",children:[c.jsxs("div",{className:"flex-1 px-4 pt-5 pb-4 sm:p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-dark-text-primary",children:"Add Custom Field"}),c.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:c.jsx(ps,{className:"h-6 w-6"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Field Title"}),c.jsx("input",{type:"text",value:a.title,onChange:o=>i(l=>({...l,title:o.target.value})),className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary",placeholder:"Enter field title",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Field Type"}),c.jsxs("select",{value:a.type,onChange:o=>i(l=>({...l,type:o.target.value})),className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary",children:[c.jsx("option",{value:"text",children:"Text"}),c.jsx("option",{value:"file",children:"File"})]})]}),a.type==="text"?c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Value"}),c.jsx("input",{type:"text",value:a.value,onChange:o=>i(l=>({...l,value:o.target.value})),className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary",placeholder:"Enter field value",required:!0})]}):c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"File"}),c.jsx("input",{type:"file",onChange:o=>i(l=>{var u;return{...l,file:((u=o.target.files)==null?void 0:u[0])||null}}),className:`mt-1 block w-full text-sm text-gray-500 dark:text-dark-text-tertiary
                      file:mr-4 file:py-2 file:px-4
                      file:rounded-lg file:border-0
                      file:text-sm file:font-medium
                      file:bg-blue-50 file:text-blue-700
                      dark:file:bg-blue-900/20 dark:file:text-blue-300
                      hover:file:bg-blue-100 dark:hover:file:bg-blue-900/30`,required:!0})]})]})]}),c.jsx("div",{className:"border-t border-gray-200 dark:border-dark-border-primary px-4 py-4 sm:px-6",children:c.jsxs("div",{className:"flex flex-col space-y-3",children:[c.jsx("button",{type:"submit",disabled:n,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm disabled:bg-gray-400 transition-colors duration-200",children:n?c.jsxs(c.Fragment,{children:[c.jsx(zi,{className:"animate-spin h-4 w-4 mr-2"}),"Adding..."]}):"Add Field"}),c.jsx("button",{type:"button",onClick:t,className:"w-full inline-flex justify-center rounded-lg border border-gray-300 dark:border-dark-border-primary shadow-sm px-4 py-2 bg-white dark:bg-dark-bg-secondary text-base font-medium text-gray-700 dark:text-dark-text-secondary hover:bg-gray-50 dark:hover:bg-dark-bg-tertiary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm transition-colors duration-200",children:"Cancel"})]})})]})})]})}function QKe({client:e,isOpen:t,onClose:r,onArchive:n,onDelete:a,isSubmitting:i}){return t?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40 bg-gray-500 bg-opacity-75 transition-opacity",onClick:r}),c.jsx("div",{className:"fixed inset-y-0 right-0 z-50 w-[400px] max-w-full overflow-y-auto bg-white dark:bg-dark-bg-secondary shadow-xl transform transition-transform duration-300 ease-in-out",children:c.jsx("div",{className:"h-full flex flex-col",children:c.jsxs("div",{className:"flex-1 px-4 pt-5 pb-4 sm:p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-dark-text-primary",children:"Client Options"}),c.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:c.jsx(ps,{className:"h-6 w-6"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-md",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Choose an Action"}),c.jsx("div",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-300",children:c.jsx("p",{children:"Please select whether you want to archive or permanently delete this client."})})]})]})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("button",{onClick:n,disabled:i,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm disabled:bg-gray-400 transition-colors duration-200",children:i?c.jsxs(c.Fragment,{children:[c.jsx(zi,{className:"animate-spin h-4 w-4 mr-2"}),"Archiving..."]}):"Archive Client"}),c.jsx("button",{onClick:a,disabled:i,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:text-sm disabled:bg-gray-400 transition-colors duration-200",children:i?c.jsxs(c.Fragment,{children:[c.jsx(zi,{className:"animate-spin h-4 w-4 mr-2"}),"Deleting..."]}):"Delete Client Permanently"}),c.jsx("button",{onClick:r,className:"w-full inline-flex justify-center rounded-lg border border-gray-300 dark:border-dark-border-primary shadow-sm px-4 py-2 bg-white dark:bg-dark-bg-secondary text-base font-medium text-gray-700 dark:text-dark-text-secondary hover:bg-gray-50 dark:hover:bg-dark-bg-tertiary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm transition-colors duration-200",children:"Cancel"})]})]})]})})})]}):null}function JKe({field:e,isOpen:t,onClose:r,onSave:n,isSubmitting:a}){const[i,s]=L.useState(e),o=L.useRef(null);if(!t)return null;const l=async u=>{u.preventDefault(),await n(i)};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40 bg-gray-500 bg-opacity-75 transition-opacity",onClick:r}),c.jsx("div",{className:"fixed inset-y-0 right-0 z-50 w-[300px] max-w-full overflow-y-auto bg-white dark:bg-dark-bg-secondary shadow-xl transform transition-transform duration-300 ease-in-out",children:c.jsxs("form",{onSubmit:l,className:"h-full flex flex-col",children:[c.jsxs("div",{className:"flex-1 px-4 pt-5 pb-4 sm:p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-dark-text-primary",children:"Edit Custom Field"}),c.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:c.jsx(ps,{className:"h-6 w-6"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Field Title"}),c.jsx("input",{type:"text",value:i.title,onChange:u=>s(d=>({...d,title:u.target.value})),className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary",placeholder:"Enter field title",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Field Type"}),c.jsxs("select",{value:i.type,onChange:u=>s(d=>({...d,type:u.target.value})),className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary",children:[c.jsx("option",{value:"text",children:"Text"}),c.jsx("option",{value:"file",children:"File"})]})]}),i.type==="text"?c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"Value"}),c.jsx("input",{type:"text",value:i.value,onChange:u=>s(d=>({...d,value:u.target.value})),className:"mt-1 block w-full min-h-[30px] py-2 px-4 rounded-lg border-gray-300 dark:border-dark-border-primary shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-colors duration-200 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-dark-text-primary",placeholder:"Enter field value",required:!0})]}):c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary",children:"File"}),c.jsx("input",{type:"file",ref:o,onChange:u=>{var f;const d=(f=u.target.files)==null?void 0:f[0];d&&s(h=>({...h,value:URL.createObjectURL(d)}))},className:`mt-1 block w-full text-sm text-gray-500 dark:text-dark-text-tertiary
                      file:mr-4 file:py-2 file:px-4
                      file:rounded-lg file:border-0
                      file:text-sm file:font-medium
                      file:bg-blue-50 file:text-blue-700
                      dark:file:bg-blue-900/20 dark:file:text-blue-300
                      hover:file:bg-blue-100 dark:hover:file:bg-blue-900/30`}),i.value&&c.jsx("div",{className:"mt-2",children:c.jsx("a",{href:i.value,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"Current file"})})]})]})]}),c.jsx("div",{className:"border-t border-gray-200 dark:border-dark-border-primary px-4 py-4 sm:px-6",children:c.jsxs("div",{className:"flex flex-col space-y-3",children:[c.jsx("button",{type:"submit",disabled:a,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm disabled:bg-gray-400 transition-colors duration-200",children:a?c.jsxs(c.Fragment,{children:[c.jsx(zi,{className:"animate-spin h-4 w-4 mr-2"}),"Saving..."]}):"Save Changes"}),c.jsx("button",{type:"button",onClick:r,className:"w-full inline-flex justify-center rounded-lg border border-gray-300 dark:border-dark-border-primary shadow-sm px-4 py-2 bg-white dark:bg-dark-bg-secondary text-base font-medium text-gray-700 dark:text-dark-text-secondary hover:bg-gray-50 dark:hover:bg-dark-bg-tertiary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm transition-colors duration-200",children:"Cancel"})]})})]})})]})}function ZKe(){var W,Z,re,O,de,ce,pe,Q,ne,Ae,Ee,De,Oe,Fe,ve,me;const{id:e}=l5(),t=Bl(),[r,n]=L.useState(null),[a,i]=L.useState(!0),[s,o]=L.useState(!1),[l,u]=L.useState(!1),[d,f]=L.useState({title:"",value:"",type:"text",file:null}),{organization:h}=ir(),{addToast:p}=Or(),m=h!=null&&h.currency?((W=sn[h.currency])==null?void 0:W.symbol)||h.currency:"",[g,v]=L.useState(!1),[x,y]=L.useState(!1),[b,N]=L.useState(!1),[_,C]=L.useState(!1),[k,w]=L.useState(!1),[S,P]=L.useState(null),[A,T]=L.useState(new Date),[F,M]=L.useState("year"),[H,z]=L.useState(!1),Y=L.useRef(null);L.useEffect(()=>{!e||!h||G()},[e,h]);const G=async()=>{var le,be;try{const{data:Pe,error:je}=await We.from("clients").select(`
          *,
          custom_fields:client_custom_fields(*),
          orders:orders(
            id,
            order_number,
            total_amount,
            outstanding_balance,
            created_at,
            status
          ),
          sales_orders:sales_orders(
            id,
            order_number,
            total_amount,
            outstanding_balance,
            payment_status,
            notes,
            created_at
          )
        `).eq("id",e).eq("organization_id",h==null?void 0:h.id).single();if(je)throw je;const Ce=((le=Pe.orders)==null?void 0:le.reduce(($e,et)=>$e+(et.outstanding_balance||0),0))||0,Be=((be=Pe.sales_orders)==null?void 0:be.reduce(($e,et)=>$e+(et.outstanding_balance||0),0))||0;n({...Pe,total_balance:Ce+Be})}catch(Pe){console.error("Error loading client details:",Pe),p({type:"error",title:"Error",message:"Failed to load client details"})}finally{i(!1)}},I=async le=>{if(h){u(!0);try{const{error:be}=await We.from("clients").update({name:le.name,phone:le.phone,address:le.address,date_of_birth:le.date_of_birth}).eq("id",le.id).eq("organization_id",h.id);if(be)throw be;n(le),v(!1),p({type:"success",title:"Success",message:"Client details updated successfully"})}catch(be){console.error("Error updating client:",be),p({type:"error",title:"Error",message:"Failed to update client details"})}finally{u(!1)}}},X=async le=>{var be;if(!(!r||!h)){u(!0);try{let Pe=le.value;if(le.type==="file"&&le.file){const Ce=(be=le.file.name.split(".").pop())==null?void 0:be.toLowerCase(),Be=`${Math.random().toString(36).substring(2)}.${Ce}`,$e=`${h.id}/clients/${r.id}/${Be}`,{error:et}=await We.storage.from("profiles").upload($e,le.file,{cacheControl:"3600",upsert:!1});if(et)throw et;const{data:{publicUrl:Je}}=We.storage.from("profiles").getPublicUrl($e);Pe=Je}const{error:je}=await We.from("client_custom_fields").insert({client_id:r.id,title:le.title.trim(),value:Pe,type:le.type});if(je)throw je;y(!1),G(),p({type:"success",title:"Success",message:"Custom field added successfully"})}catch(Pe){console.error("Error adding custom field:",Pe),p({type:"error",title:"Error",message:"Failed to add custom field"})}finally{u(!1)}}},J=async le=>{if(r)try{const{error:be}=await We.from("client_custom_fields").delete().eq("id",le);if(be)throw be;G(),p({type:"success",title:"Success",message:"Custom field deleted successfully"})}catch(be){console.error("Error deleting custom field:",be),p({type:"error",title:"Error",message:"Failed to delete custom field"})}},E=async()=>{if(!(!r||!h)){u(!0);try{const{error:le}=await We.from("clients").update({status:"archived"}).eq("id",r.id).eq("organization_id",h.id);if(le)throw le;p({type:"success",title:"Success",message:"Client archived successfully"}),t("/dashboard/clients")}catch(le){console.error("Error archiving client:",le),p({type:"error",title:"Error",message:"Failed to archive client"})}finally{u(!1),N(!1)}}},R=async()=>{if(!(!r||!h)){u(!0);try{const{error:le}=await We.from("client_custom_fields").delete().eq("client_id",r.id);if(le)throw le;if(r.image_url){const Pe=r.image_url.split("/").slice(-3).join("/"),{error:je}=await We.storage.from("profiles").remove([Pe]);je&&console.error("Error deleting profile image:",je)}const{error:be}=await We.from("clients").delete().eq("id",r.id).eq("organization_id",h.id);if(be)throw be;p({type:"success",title:"Success",message:"Client deleted successfully"}),t("/dashboard/clients")}catch(le){console.error("Error deleting client:",le),p({type:"error",title:"Error",message:"Failed to delete client"})}finally{u(!1),N(!1),C(!1)}}},B=async()=>{if(!(!r||!h)){u(!0);try{const{error:le}=await We.from("clients").update({status:"active"}).eq("id",r.id).eq("organization_id",h.id);if(le)throw le;await G(),p({type:"success",title:"Success",message:"Client activated successfully"})}catch(le){console.error("Error activating client:",le),p({type:"error",title:"Error",message:"Failed to activate client"})}finally{u(!1)}}},q=()=>{if(!r)return[];const le=[...r.orders||[],...r.sales_orders||[]];let be,Pe;switch(F){case"day":be=new Date(A),be.setHours(0,0,0,0),Pe=new Date(A),Pe.setHours(23,59,59,999);break;case"week":be=new Date(A),be.setDate(A.getDate()-A.getDay()+1),be.setHours(0,0,0,0),Pe=new Date(be),Pe.setDate(be.getDate()+6),Pe.setHours(23,59,59,999);break;case"month":be=new Date(A.getFullYear(),A.getMonth(),1),be.setHours(0,0,0,0),Pe=new Date(A.getFullYear(),A.getMonth()+1,0),Pe.setHours(23,59,59,999);break;case"year":be=new Date(A.getFullYear(),0,1),be.setHours(0,0,0,0),Pe=new Date(A.getFullYear(),11,31),Pe.setHours(23,59,59,999);break;default:return le}return le.filter(je=>{const Ce=new Date(je.created_at);return Ce>=be&&Ce<=Pe})},K=le=>{const be=new Date(A);switch(F){case"day":be.setDate(be.getDate()+(le==="next"?1:-1));break;case"week":be.setDate(be.getDate()+(le==="next"?7:-7));break;case"month":be.setMonth(be.getMonth()+(le==="next"?1:-1));break;case"year":be.setFullYear(be.getFullYear()+(le==="next"?1:-1));break}T(be)},ae=async le=>{var Pe,je;const be=(Pe=le.target.files)==null?void 0:Pe[0];if(!(!be||!r||!h)){z(!0);try{const Ce=(je=be.name.split(".").pop())==null?void 0:je.toLowerCase(),Be=`${Math.random().toString(36).substring(2)}.${Ce}`,$e=`${h.id}/clients/${r.id}/${Be}`,{error:et}=await We.storage.from("profiles").upload($e,be,{cacheControl:"3600",upsert:!0});if(et)throw et;const{data:{publicUrl:Je}}=We.storage.from("profiles").getPublicUrl($e),{error:St}=await We.from("clients").update({image_url:Je}).eq("id",r.id).eq("organization_id",h.id);if(St)throw St;n(Tt=>Tt?{...Tt,image_url:Je}:null),p({type:"success",title:"Success",message:"Client image updated successfully"})}catch(Ce){console.error("Error uploading image:",Ce),p({type:"error",title:"Error",message:"Failed to upload client image"})}finally{z(!1)}}},ee=async le=>{var be;if(!(!r||!h)){u(!0);try{let Pe=le.value;if(le.type==="file"&&le.file){const Ce=(be=le.file.name.split(".").pop())==null?void 0:be.toLowerCase(),Be=`${Math.random().toString(36).substring(2)}.${Ce}`,$e=`${h.id}/clients/${r.id}/${Be}`,{error:et}=await We.storage.from("profiles").upload($e,le.file,{cacheControl:"3600",upsert:!0});if(et)throw et;const{data:{publicUrl:Je}}=We.storage.from("profiles").getPublicUrl($e);Pe=Je}const{error:je}=await We.from("client_custom_fields").update({title:le.title.trim(),value:Pe,type:le.type}).eq("id",le.id);if(je)throw je;w(!1),G(),p({type:"success",title:"Success",message:"Custom field updated successfully"})}catch(Pe){console.error("Error updating custom field:",Pe),p({type:"error",title:"Error",message:"Failed to update custom field"})}finally{u(!1)}}};return a?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading client details..."})]})}):r?c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-bg-primary",children:[r.status==="archived"&&c.jsx("h1",{className:"text-center text-red-500 text-5xl py-10 font-semibold",children:"This Client is Archived."}),c.jsxs("div",{className:"flex flex-col lg:flex-row",children:[c.jsx("div",{className:"w-full lg:w-80 bg-white dark:bg-dark-bg-secondary border-b lg:border-b-0 lg:border-r border-gray-200 dark:border-dark-border-primary",children:c.jsxs("div",{className:"p-3 sm:p-4 lg:p-6 space-y-4 sm:space-y-4 lg:space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-900 dark:text-dark-text-primary",children:"Client Profile"}),r.status!=="archived"&&c.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-2 py-1 sm:px-2.5 sm:py-1.5 border border-gray-300 dark:border-dark-border-secondary rounded-md text-xs font-medium text-gray-700 dark:text-dark-text-secondary bg-white dark:bg-dark-bg-secondary hover:bg-gray-50 dark:hover:bg-dark-bg-tertiary",children:[c.jsx(Ol,{className:"h-3 w-3 mr-1"}),"Edit"]})]}),c.jsxs("div",{className:"",children:[c.jsxs("div",{className:"relative inline-block group",children:[c.jsxs("div",{className:"w-16 h-16 sm:w-20 sm:h-20 lg:w-24 lg:h-24 rounded-md mx-auto bg-gray-100 dark:bg-dark-bg-tertiary flex items-center justify-center overflow-hidden cursor-pointer",onClick:()=>{var le;return(le=Y.current)==null?void 0:le.click()},children:[r.image_url?c.jsx("img",{src:r.image_url,alt:r.name,className:"w-full h-full object-cover"}):c.jsx(yp,{className:"h-8 w-8 sm:h-10 sm:w-10 lg:h-12 lg:w-12 text-gray-400 dark:text-dark-text-tertiary"}),c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(Xo,{className:"h-6 w-6 text-white"})})]}),H&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-40 rounded-md",children:c.jsx(zi,{className:"h-6 w-6 text-white animate-spin"})}),c.jsx("input",{type:"file",ref:Y,onChange:ae,accept:"image/*",className:"hidden"})]}),c.jsx("h2",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-900 dark:text-dark-text-primary mt-2 sm:mt-2",children:r.name})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center text-xs sm:text-sm",children:[c.jsx(Cj,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 dark:text-dark-text-tertiary mr-2 sm:mr-3"}),c.jsx("span",{className:"text-gray-600 dark:text-dark-text-secondary",children:r.phone||"No phone number"})]}),c.jsxs("div",{className:"flex items-center text-xs sm:text-sm",children:[c.jsx(fW,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 dark:text-dark-text-tertiary mr-2 sm:mr-3"}),c.jsx("span",{className:"text-gray-600 dark:text-dark-text-secondary",children:r.address||"No address"})]}),c.jsxs("div",{className:"flex items-center text-xs sm:text-sm",children:[c.jsx(yc,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 dark:text-dark-text-tertiary mr-2 sm:mr-3"}),c.jsx("span",{className:"text-gray-600 dark:text-dark-text-secondary",children:r.date_of_birth?jt(new Date(r.date_of_birth),"MMMM d, yyyy"):"No date of birth"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xs sm:text-sm font-bold text-black dark:text-dark-text-primary mb-2 sm:mb-3",children:"All Time Client Stats"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-2 sm:p-3 rounded-lg",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(pa,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-500 dark:text-blue-400 mr-1 sm:mr-2"}),c.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-blue-700 dark:text-blue-300",children:"Total Orders"})]}),c.jsx("p",{className:"text-xs sm:text-sm font-semibold text-blue-900 dark:text-blue-100 mt-1",children:(((Z=r.orders)==null?void 0:Z.length)||0)+(((re=r.sales_orders)==null?void 0:re.length)||0)})]}),c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-2 sm:p-3 rounded-lg",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xa,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-500 dark:text-green-400 mr-1 sm:mr-2"}),c.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-green-700 dark:text-green-300",children:"Total Spent"})]}),c.jsxs("p",{className:"text-xs sm:text-sm font-semibold text-green-900 dark:text-green-100 mt-1",children:[m," ",((((O=r.orders)==null?void 0:O.reduce((le,be)=>le+be.total_amount,0))||0)+(((de=r.sales_orders)==null?void 0:de.reduce((le,be)=>le+be.total_amount,0))||0)).toFixed(2)]})]}),c.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-2 sm:p-3 rounded-lg",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Da,{className:"h-3 w-3 sm:h-4 sm:w-4 text-purple-500 dark:text-purple-400 mr-1 sm:mr-2"}),c.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-purple-700 dark:text-purple-300",children:"Completed Orders"})]}),c.jsx("p",{className:"text-xs sm:text-sm font-semibold text-purple-900 dark:text-purple-100 mt-1",children:(((ce=r.orders)==null?void 0:ce.filter(le=>le.status==="completed").length)||0)+(((pe=r.sales_orders)==null?void 0:pe.filter(le=>le.payment_status==="paid").length)||0)})]}),c.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-2 sm:p-3 rounded-lg",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xa,{className:"h-3 w-3 sm:h-4 sm:w-4 text-amber-500 dark:text-amber-400 mr-1 sm:mr-2"}),c.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-amber-700 dark:text-amber-300",children:"Outstanding Balance"})]}),c.jsxs("p",{className:"text-xs sm:text-sm font-semibold text-amber-900 dark:text-amber-100 mt-1",children:[m," ",r.total_balance.toFixed(2)]})]})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"text-xs sm:text-sm font-bold text-black dark:text-dark-text-primary",children:"Custom Information"}),r.status!=="archived"&&c.jsxs("button",{onClick:()=>y(!0),className:"inline-flex items-center px-2 py-1 sm:px-2.5 sm:py-1.5 border border-gray-300 dark:border-dark-border-secondary rounded-md text-xs font-medium text-gray-700 dark:text-dark-text-secondary bg-white dark:bg-dark-bg-secondary hover:bg-gray-50 dark:hover:bg-dark-bg-tertiary",children:[c.jsx(na,{className:"h-3 w-3 mr-1"}),"Add Field"]})]}),c.jsxs("div",{className:"space-y-2 w-full",children:[(Q=r.custom_fields)==null?void 0:Q.map(le=>c.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-dark-bg-tertiary p-2 sm:p-3 rounded-lg",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("span",{className:"text-[10px] sm:text-xs font-medium text-gray-700 dark:text-dark-text-secondary block truncate",children:[le.title,": "]}),le.type==="file"?c.jsx("a",{href:le.value,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] sm:text-xs text-primary-600 dark:text-dark-accent-primary hover:text-primary-800 dark:hover:text-dark-accent-secondary truncate block",children:"View File"}):c.jsx("span",{className:"text-[10px] sm:text-xs text-gray-600 dark:text-dark-text-secondary",children:le.value})]}),r.status!=="archived"&&c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("button",{onClick:()=>{P(le),w(!0)},className:"p-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/20",children:c.jsx(Ol,{className:"h-3 w-3"})}),c.jsx("button",{onClick:()=>J(le.id),className:"p-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20",children:c.jsx(dr,{className:"h-3 w-3"})})]})]},le.id)),(!r.custom_fields||r.custom_fields.length===0)&&c.jsx("div",{className:"text-center text-gray-500 dark:text-dark-text-tertiary py-3 sm:py-4 text-xs",children:"No custom information added yet"})]})]}),c.jsx("div",{className:"pt-2 sm:pt-3",children:r.status==="archived"?c.jsxs("button",{onClick:B,className:"w-full inline-flex justify-center items-center px-3 py-2 border border-green-300 dark:border-green-700 rounded-md text-xs font-medium text-green-700 dark:text-green-400 bg-white dark:bg-dark-bg-secondary hover:bg-green-50 dark:hover:bg-green-900/20",children:[c.jsx(Da,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Activate Client"]}):c.jsxs("button",{onClick:()=>N(!0),className:"w-full inline-flex justify-center items-center px-3 py-2 border border-red-300 dark:border-red-700 rounded-md text-xs font-medium text-red-700 dark:text-red-400 bg-white dark:bg-dark-bg-secondary hover:bg-red-50 dark:hover:bg-red-900/20",children:[c.jsx(Hi,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Delete/Archive Client"]})})]})}),c.jsx("div",{className:"flex-1 p-3 sm:p-4 bg-white dark:bg-dark-bg-secondary",children:c.jsxs("div",{className:"bg-white dark:bg-dark-bg-secondary rounded-lg overflow-hidden",children:[c.jsxs("div",{className:"px-3 sm:px-4 py-2 sm:py-3 border-b border-gray-200 dark:border-dark-border-primary",children:[c.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-dark-text-primary",children:"Orders History"}),c.jsx("div",{className:"mt-2",children:c.jsx(Iy,{currentDate:A,dateFilterType:F,onDateChange:K,onFilterTypeChange:M,itemCount:q().length,itemLabel:"orders"})})]}),c.jsx("div",{className:"overflow-x-auto",children:q().length>0?c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-dark-border-primary",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-dark-bg-tertiary",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-2 text-left text-[10px] sm:text-xs font-medium text-gray-500 dark:text-dark-text-tertiary uppercase tracking-wider whitespace-nowrap",children:"Order #"}),c.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-2 text-left text-[10px] sm:text-xs font-medium text-gray-500 dark:text-dark-text-tertiary uppercase tracking-wider whitespace-nowrap",children:"Type"}),c.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-2 text-left text-[10px] sm:text-xs font-medium text-gray-500 dark:text-dark-text-tertiary uppercase tracking-wider whitespace-nowrap",children:"Date"}),c.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-2 text-left text-[10px] sm:text-xs font-medium text-gray-500 dark:text-dark-text-tertiary uppercase tracking-wider whitespace-nowrap",children:"Amount"}),c.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-2 text-left text-[10px] sm:text-xs font-medium text-gray-500 dark:text-dark-text-tertiary uppercase tracking-wider whitespace-nowrap",children:"Balance"}),c.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-2 text-left text-[10px] sm:text-xs font-medium text-gray-500 dark:text-dark-text-tertiary uppercase tracking-wider whitespace-nowrap",children:"Status"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-dark-bg-secondary divide-y divide-gray-200 dark:divide-dark-border-primary",children:q().sort((le,be)=>new Date(be.created_at).getTime()-new Date(le.created_at).getTime()).map((le,be)=>c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-bg-tertiary",children:[c.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-[10px] sm:text-xs font-medium",children:c.jsx(Wr,{to:`/dashboard/${"payment_status"in le?"sales":"orders"}/${le.id}`,className:"text-primary-600 dark:text-dark-accent-primary hover:text-primary-800 dark:hover:text-dark-accent-secondary",children:le.order_number})}),c.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-[10px] sm:text-xs text-gray-500 dark:text-dark-text-tertiary",children:"payment_status"in le?"Sales":"Order"}),c.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-[10px] sm:text-xs text-gray-500 dark:text-dark-text-tertiary",children:jt(new Date(le.created_at),"MMM d, yyyy")}),c.jsxs("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-[10px] sm:text-xs text-gray-900 dark:text-dark-text-primary",children:[m," ",le.total_amount.toFixed(2)]}),c.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap",children:c.jsxs("span",{className:`text-[10px] sm:text-xs font-medium ${le.outstanding_balance>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[m," ",le.outstanding_balance.toFixed(2)]})}),c.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap",children:c.jsx("span",{className:`px-1 sm:px-2 py-0.5 sm:py-1 inline-flex text-[10px] sm:text-xs leading-4 sm:leading-5 font-medium rounded-md ${"payment_status"in le?le.payment_status==="paid"?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-400":le.payment_status==="partial"?"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-400":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-400":le.status==="completed"?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-400":le.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-400":"bg-gray-100 dark:bg-gray-900/20 text-gray-800 dark:text-gray-400"}`,children:"payment_status"in le?le.payment_status.charAt(0).toUpperCase()+le.payment_status.slice(1):le.status.charAt(0).toUpperCase()+le.status.slice(1)})})]},`${le.id}-${be}`))})]}):c.jsx("div",{className:"text-center text-gray-500 dark:text-dark-text-tertiary py-3 sm:py-4 text-[10px] sm:text-xs",children:"No orders found for this client in the selected date range."})})]})}),c.jsx("div",{className:"w-full lg:w-80 bg-white dark:bg-dark-bg-secondary border-t lg:border-t-0 lg:border-l border-gray-200 dark:border-dark-border-primary",children:c.jsx("div",{className:"p-3 sm:p-4 lg:p-6",children:c.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[c.jsx("h3",{className:"text-xs sm:text-sm font-bold text-black dark:text-dark-text-primary",children:"Financial Overview"}),c.jsxs("div",{className:"border-b border-gray-200 dark:border-dark-border-primary pb-3 sm:pb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-gray-800 dark:text-dark-text-primary",children:"Total Balance"}),c.jsx(Xa,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary-600 dark:text-dark-accent-primary"})]}),c.jsxs("div",{className:"flex items-baseline justify-between",children:[c.jsxs("span",{className:`text-lg sm:text-xl lg:text-2xl font-bold ${r.total_balance>0?"text-red-700 dark:text-red-400":"text-green-700 dark:text-green-400"}`,children:[m," ",r.total_balance.toFixed(2)]}),c.jsx("span",{className:`text-[10px] sm:text-xs font-medium px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full ${r.total_balance>0?"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400":"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400"}`,children:r.total_balance>0?"Outstanding":"Cleared"})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[c.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-gray-800 dark:text-dark-text-primary",children:"Orders Summary"}),c.jsx(pa,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-500 dark:text-dark-text-tertiary"})]}),c.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-baseline",children:[c.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-dark-text-tertiary",children:"Total Orders"}),c.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-900 dark:text-dark-text-primary",children:((ne=r.orders)==null?void 0:ne.length)||0})]}),c.jsxs("div",{className:"flex justify-between items-baseline",children:[c.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-dark-text-tertiary",children:"Total Amount"}),c.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-900 dark:text-dark-text-primary",children:[m," ",(((Ae=r.orders)==null?void 0:Ae.reduce((le,be)=>le+be.total_amount,0))||0).toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between items-baseline",children:[c.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-dark-text-tertiary",children:"Outstanding Balance"}),c.jsxs("span",{className:`text-xs sm:text-sm font-semibold ${(((Ee=r.orders)==null?void 0:Ee.reduce((le,be)=>le+(be.outstanding_balance||0),0))||0)>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[m," ",(((De=r.orders)==null?void 0:De.reduce((le,be)=>le+(be.outstanding_balance||0),0))||0).toFixed(2)]})]})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[c.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-gray-800 dark:text-dark-text-primary",children:"Sales Orders Summary"}),c.jsx(uh,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-500 dark:text-dark-text-tertiary"})]}),c.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-baseline",children:[c.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-dark-text-tertiary",children:"Total Sales"}),c.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-900 dark:text-dark-text-primary",children:((Oe=r.sales_orders)==null?void 0:Oe.length)||0})]}),c.jsxs("div",{className:"flex justify-between items-baseline",children:[c.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-dark-text-tertiary",children:"Total Amount"}),c.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-900 dark:text-dark-text-primary",children:[m," ",(((Fe=r.sales_orders)==null?void 0:Fe.reduce((le,be)=>le+be.total_amount,0))||0).toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between items-baseline",children:[c.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-dark-text-tertiary",children:"Outstanding Balance"}),c.jsxs("span",{className:`text-xs sm:text-sm font-semibold ${(((ve=r.sales_orders)==null?void 0:ve.reduce((le,be)=>le+(be.outstanding_balance||0),0))||0)>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[m," ",(((me=r.sales_orders)==null?void 0:me.reduce((le,be)=>le+(be.outstanding_balance||0),0))||0).toFixed(2)]})]})]})]})]})})})]}),c.jsx(KKe,{client:r,isOpen:g,onClose:()=>v(!1),onSave:I,isSubmitting:l}),c.jsx(XKe,{isOpen:x,onClose:()=>y(!1),onAdd:X,isSubmitting:l}),c.jsx(QKe,{client:r,isOpen:b,onClose:()=>N(!1),onArchive:E,onDelete:R,isSubmitting:l}),c.jsx(_Q,{isOpen:_,onClose:()=>C(!1),onConfirm:R,title:"Confirm Permanent Deletion",message:`Are you sure you want to permanently delete ${r.name}? This action cannot be undone and will delete all client data including orders, custom fields, and files.`,confirmText:"Delete Permanently",confirmButtonClass:"bg-red-600 hover:bg-red-700"}),S&&c.jsx(JKe,{field:S,isOpen:k,onClose:()=>{w(!1),P(null)},onSave:ee,isSubmitting:l})]}):c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-gray-600",children:"Client not found."}),c.jsxs("button",{onClick:()=>t("/dashboard/clients"),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[c.jsx(Wf,{className:"h-4 w-4 mr-2"}),"Back to Clients"]})]})})}const eXe=()=>{const e=Bl(),{theme:t,getThemeStyle:r}=Yt(),n=[{title:"Import Client Data",description:"Import client information from CSV files",path:"client-data"},{title:"Import Order Data",description:"Import order information from CSV files",path:"order-data"},{title:"Import Order Data (Fix)",description:"Import order information from CSV files (Fix)",path:"order-data-fix"},{title:"Import Payment Data",description:"Import payment information from CSV files",path:"payment-data"}];return c.jsx("div",{className:`min-h-screen py-12 px-4 sm:px-6 lg:px-8 ${r(t,"background","primary")}`,children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:`text-4xl font-bold mb-4 font-['Space_Grotesk'] ${r(t,"text","primary")}`,children:"Data Import Center"}),c.jsx("p",{className:`text-lg ${r(t,"text","secondary")}`,children:"Select the type of data you want to import from CSV files"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:n.map(a=>c.jsx("div",{className:`group relative rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 border ${r(t,"background","primary")} ${r(t,"border","primary")} hover:border-blue-200`,children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:`text-2xl font-semibold mb-4 text-center group-hover:text-blue-600 transition-colors duration-300 ${r(t,"text","primary")}`,children:a.title}),c.jsx("p",{className:`text-center mb-6 ${r(t,"text","secondary")}`,children:a.description}),c.jsx("div",{className:"text-center",children:c.jsx("button",{onClick:()=>e(a.path),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transform transition-all duration-200 hover:scale-105 active:scale-95 shadow-md hover:shadow-lg",children:"Import Data"})})]})},a.title))})]})})};function Ah(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}const tXe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function om(e,t,r){const n=rXe(e),{webkitRelativePath:a}=e,i=typeof t=="string"?t:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof n.path!="string"&&qR(n,"path",i),qR(n,"relativePath",i),n}function rXe(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const n=t.split(".").pop().toLowerCase(),a=tXe.get(n);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function qR(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}const nXe=[".DS_Store","Thumbs.db"];function aXe(e){return Ah(this,void 0,void 0,function*(){return U_(e)&&iXe(e.dataTransfer)?cXe(e.dataTransfer,e.type):sXe(e)?oXe(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?lXe(e):[]})}function iXe(e){return U_(e)}function sXe(e){return U_(e)&&U_(e.target)}function U_(e){return typeof e=="object"&&e!==null}function oXe(e){return JT(e.target.files).map(t=>om(t))}function lXe(e){return Ah(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>r.getFile()))).map(r=>om(r))})}function cXe(e,t){return Ah(this,void 0,void 0,function*(){if(e.items){const r=JT(e.items).filter(a=>a.kind==="file");if(t!=="drop")return r;const n=yield Promise.all(r.map(uXe));return YR(kQ(n))}return YR(JT(e.files).map(r=>om(r)))})}function YR(e){return e.filter(t=>nXe.indexOf(t.name)===-1)}function JT(e){if(e===null)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];t.push(n)}return t}function uXe(e){if(typeof e.webkitGetAsEntry!="function")return VR(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?SQ(t):VR(e,t)}function kQ(e){return e.reduce((t,r)=>[...t,...Array.isArray(r)?kQ(r):[r]],[])}function VR(e,t){return Ah(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const i=yield e.getAsFileSystemHandle();if(i===null)throw new Error(`${e} is not a File`);if(i!==void 0){const s=yield i.getFile();return s.handle=i,om(s)}}const n=e.getAsFile();if(!n)throw new Error(`${e} is not a File`);return om(n,(r=t==null?void 0:t.fullPath)!==null&&r!==void 0?r:void 0)})}function dXe(e){return Ah(this,void 0,void 0,function*(){return e.isDirectory?SQ(e):fXe(e)})}function SQ(e){const t=e.createReader();return new Promise((r,n)=>{const a=[];function i(){t.readEntries(s=>Ah(this,void 0,void 0,function*(){if(s.length){const o=Promise.all(s.map(dXe));a.push(o),i()}else try{const o=yield Promise.all(a);r(o)}catch(o){n(o)}}),s=>{n(s)})}i()})}function fXe(e){return Ah(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(n=>{const a=om(n,e.fullPath);t(a)},n=>{r(n)})})})}var xN=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var n=e.name||"",a=(e.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return r.some(function(s){var o=s.trim().toLowerCase();return o.charAt(0)==="."?n.toLowerCase().endsWith(o):o.endsWith("/*")?i===o.replace(/\/.*$/,""):a===o})}return!0};function GR(e){return mXe(e)||pXe(e)||jQ(e)||hXe()}function hXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pXe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mXe(e){if(Array.isArray(e))return ZT(e)}function KR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(r),!0).forEach(function(n){NQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NQ(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ny(e,t){return vXe(e)||xXe(e,t)||jQ(e,t)||gXe()}function gXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jQ(e,t){if(e){if(typeof e=="string")return ZT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZT(e,t)}}function ZT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xXe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,s,o;try{for(r=r.call(e);!(a=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));a=!0);}catch(l){i=!0,o=l}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw o}}return n}}function vXe(e){if(Array.isArray(e))return e}var yXe=typeof xN=="function"?xN:xN.default,bXe="file-invalid-type",wXe="file-too-large",_Xe="file-too-small",kXe="too-many-files",SXe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t.split(","),n=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:bXe,message:"File type must be ".concat(n)}},QR=function(t){return{code:wXe,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},JR=function(t){return{code:_Xe,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},NXe={code:kXe,message:"Too many files"};function CQ(e,t){var r=e.type==="application/x-moz-file"||yXe(e,t);return[r,r?null:SXe(t)]}function TQ(e,t,r){if(cf(e.size))if(cf(t)&&cf(r)){if(e.size>r)return[!1,QR(r)];if(e.size<t)return[!1,JR(t)]}else{if(cf(t)&&e.size<t)return[!1,JR(t)];if(cf(r)&&e.size>r)return[!1,QR(r)]}return[!0,null]}function cf(e){return e!=null}function jXe(e){var t=e.files,r=e.accept,n=e.minSize,a=e.maxSize,i=e.multiple,s=e.maxFiles,o=e.validator;return!i&&t.length>1||i&&s>=1&&t.length>s?!1:t.every(function(l){var u=CQ(l,r),d=Ny(u,1),f=d[0],h=TQ(l,n,a),p=Ny(h,1),m=p[0],g=o?o(l):null;return f&&m&&!g})}function W_(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function l2(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function ZR(e){e.preventDefault()}function CXe(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function TXe(e){return e.indexOf("Edge/")!==-1}function AXe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return CXe(e)||TXe(e)}function ul(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return t.some(function(o){return!W_(n)&&o&&o.apply(void 0,[n].concat(i)),W_(n)})}}function EXe(){return"showOpenFilePicker"in window}function PXe(e){if(cf(e)){var t=Object.entries(e).filter(function(r){var n=Ny(r,2),a=n[0],i=n[1],s=!0;return AQ(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(i)||!i.every(EQ))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(r,n){var a=Ny(n,2),i=a[0],s=a[1];return XR(XR({},r),{},NQ({},i,s))},{});return[{description:"Files",accept:t}]}return e}function OXe(e){if(cf(e))return Object.entries(e).reduce(function(t,r){var n=Ny(r,2),a=n[0],i=n[1];return[].concat(GR(t),[a],GR(i))},[]).filter(function(t){return AQ(t)||EQ(t)}).join(",")}function $Xe(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function DXe(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function AQ(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function EQ(e){return/^.*\.[\w]+$/.test(e)}var MXe=["children"],FXe=["open"],LXe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],IXe=["refKey","onChange","onClick"];function RXe(e){return WXe(e)||UXe(e)||PQ(e)||BXe()}function BXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UXe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WXe(e){if(Array.isArray(e))return eA(e)}function vN(e,t){return qXe(e)||HXe(e,t)||PQ(e,t)||zXe()}function zXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PQ(e,t){if(e){if(typeof e=="string")return eA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eA(e,t)}}function eA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HXe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,s,o;try{for(r=r.call(e);!(a=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));a=!0);}catch(l){i=!0,o=l}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw o}}return n}}function qXe(e){if(Array.isArray(e))return e}function e9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e9(Object(r),!0).forEach(function(n){tA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z_(e,t){if(e==null)return{};var r=YXe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YXe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var KP=L.forwardRef(function(e,t){var r=e.children,n=z_(e,MXe),a=f1(n),i=a.open,s=z_(a,FXe);return L.useImperativeHandle(t,function(){return{open:i}},[i]),we.createElement(L.Fragment,null,r(En(En({},s),{},{open:i})))});KP.displayName="Dropzone";var OQ={disabled:!1,getFilesFromEvent:aXe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};KP.defaultProps=OQ;KP.propTypes={children:Re.func,accept:Re.objectOf(Re.arrayOf(Re.string)),multiple:Re.bool,preventDropOnDocument:Re.bool,noClick:Re.bool,noKeyboard:Re.bool,noDrag:Re.bool,noDragEventsBubbling:Re.bool,minSize:Re.number,maxSize:Re.number,maxFiles:Re.number,disabled:Re.bool,getFilesFromEvent:Re.func,onFileDialogCancel:Re.func,onFileDialogOpen:Re.func,useFsAccessApi:Re.bool,autoFocus:Re.bool,onDragEnter:Re.func,onDragLeave:Re.func,onDragOver:Re.func,onDrop:Re.func,onDropAccepted:Re.func,onDropRejected:Re.func,onError:Re.func,validator:Re.func};var rA={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function f1(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=En(En({},OQ),e),r=t.accept,n=t.disabled,a=t.getFilesFromEvent,i=t.maxSize,s=t.minSize,o=t.multiple,l=t.maxFiles,u=t.onDragEnter,d=t.onDragLeave,f=t.onDragOver,h=t.onDrop,p=t.onDropAccepted,m=t.onDropRejected,g=t.onFileDialogCancel,v=t.onFileDialogOpen,x=t.useFsAccessApi,y=t.autoFocus,b=t.preventDropOnDocument,N=t.noClick,_=t.noKeyboard,C=t.noDrag,k=t.noDragEventsBubbling,w=t.onError,S=t.validator,P=L.useMemo(function(){return OXe(r)},[r]),A=L.useMemo(function(){return PXe(r)},[r]),T=L.useMemo(function(){return typeof v=="function"?v:t9},[v]),F=L.useMemo(function(){return typeof g=="function"?g:t9},[g]),M=L.useRef(null),H=L.useRef(null),z=L.useReducer(VXe,rA),Y=vN(z,2),G=Y[0],I=Y[1],X=G.isFocused,J=G.isFileDialogActive,E=L.useRef(typeof window<"u"&&window.isSecureContext&&x&&EXe()),R=function(){!E.current&&J&&setTimeout(function(){if(H.current){var le=H.current.files;le.length||(I({type:"closeDialog"}),F())}},300)};L.useEffect(function(){return window.addEventListener("focus",R,!1),function(){window.removeEventListener("focus",R,!1)}},[H,J,F,E]);var B=L.useRef([]),q=function(le){M.current&&M.current.contains(le.target)||(le.preventDefault(),B.current=[])};L.useEffect(function(){return b&&(document.addEventListener("dragover",ZR,!1),document.addEventListener("drop",q,!1)),function(){b&&(document.removeEventListener("dragover",ZR),document.removeEventListener("drop",q))}},[M,b]),L.useEffect(function(){return!n&&y&&M.current&&M.current.focus(),function(){}},[M,y,n]);var K=L.useCallback(function(me){w?w(me):console.error(me)},[w]),ae=L.useCallback(function(me){me.preventDefault(),me.persist(),De(me),B.current=[].concat(RXe(B.current),[me.target]),l2(me)&&Promise.resolve(a(me)).then(function(le){if(!(W_(me)&&!k)){var be=le.length,Pe=be>0&&jXe({files:le,accept:P,minSize:s,maxSize:i,multiple:o,maxFiles:l,validator:S}),je=be>0&&!Pe;I({isDragAccept:Pe,isDragReject:je,isDragActive:!0,type:"setDraggedFiles"}),u&&u(me)}}).catch(function(le){return K(le)})},[a,u,K,k,P,s,i,o,l,S]),ee=L.useCallback(function(me){me.preventDefault(),me.persist(),De(me);var le=l2(me);if(le&&me.dataTransfer)try{me.dataTransfer.dropEffect="copy"}catch{}return le&&f&&f(me),!1},[f,k]),W=L.useCallback(function(me){me.preventDefault(),me.persist(),De(me);var le=B.current.filter(function(Pe){return M.current&&M.current.contains(Pe)}),be=le.indexOf(me.target);be!==-1&&le.splice(be,1),B.current=le,!(le.length>0)&&(I({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),l2(me)&&d&&d(me))},[M,d,k]),Z=L.useCallback(function(me,le){var be=[],Pe=[];me.forEach(function(je){var Ce=CQ(je,P),Be=vN(Ce,2),$e=Be[0],et=Be[1],Je=TQ(je,s,i),St=vN(Je,2),Tt=St[0],wt=St[1],Kt=S?S(je):null;if($e&&Tt&&!Kt)be.push(je);else{var Dt=[et,wt];Kt&&(Dt=Dt.concat(Kt)),Pe.push({file:je,errors:Dt.filter(function(Ur){return Ur})})}}),(!o&&be.length>1||o&&l>=1&&be.length>l)&&(be.forEach(function(je){Pe.push({file:je,errors:[NXe]})}),be.splice(0)),I({acceptedFiles:be,fileRejections:Pe,isDragReject:Pe.length>0,type:"setFiles"}),h&&h(be,Pe,le),Pe.length>0&&m&&m(Pe,le),be.length>0&&p&&p(be,le)},[I,o,P,s,i,l,h,p,m,S]),re=L.useCallback(function(me){me.preventDefault(),me.persist(),De(me),B.current=[],l2(me)&&Promise.resolve(a(me)).then(function(le){W_(me)&&!k||Z(le,me)}).catch(function(le){return K(le)}),I({type:"reset"})},[a,Z,K,k]),O=L.useCallback(function(){if(E.current){I({type:"openDialog"}),T();var me={multiple:o,types:A};window.showOpenFilePicker(me).then(function(le){return a(le)}).then(function(le){Z(le,null),I({type:"closeDialog"})}).catch(function(le){$Xe(le)?(F(le),I({type:"closeDialog"})):DXe(le)?(E.current=!1,H.current?(H.current.value=null,H.current.click()):K(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):K(le)});return}H.current&&(I({type:"openDialog"}),T(),H.current.value=null,H.current.click())},[I,T,F,x,Z,K,A,o]),de=L.useCallback(function(me){!M.current||!M.current.isEqualNode(me.target)||(me.key===" "||me.key==="Enter"||me.keyCode===32||me.keyCode===13)&&(me.preventDefault(),O())},[M,O]),ce=L.useCallback(function(){I({type:"focus"})},[]),pe=L.useCallback(function(){I({type:"blur"})},[]),Q=L.useCallback(function(){N||(AXe()?setTimeout(O,0):O())},[N,O]),ne=function(le){return n?null:le},Ae=function(le){return _?null:ne(le)},Ee=function(le){return C?null:ne(le)},De=function(le){k&&le.stopPropagation()},Oe=L.useMemo(function(){return function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=me.refKey,be=le===void 0?"ref":le,Pe=me.role,je=me.onKeyDown,Ce=me.onFocus,Be=me.onBlur,$e=me.onClick,et=me.onDragEnter,Je=me.onDragOver,St=me.onDragLeave,Tt=me.onDrop,wt=z_(me,LXe);return En(En(tA({onKeyDown:Ae(ul(je,de)),onFocus:Ae(ul(Ce,ce)),onBlur:Ae(ul(Be,pe)),onClick:ne(ul($e,Q)),onDragEnter:Ee(ul(et,ae)),onDragOver:Ee(ul(Je,ee)),onDragLeave:Ee(ul(St,W)),onDrop:Ee(ul(Tt,re)),role:typeof Pe=="string"&&Pe!==""?Pe:"presentation"},be,M),!n&&!_?{tabIndex:0}:{}),wt)}},[M,de,ce,pe,Q,ae,ee,W,re,_,C,n]),Fe=L.useCallback(function(me){me.stopPropagation()},[]),ve=L.useMemo(function(){return function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=me.refKey,be=le===void 0?"ref":le,Pe=me.onChange,je=me.onClick,Ce=z_(me,IXe),Be=tA({accept:P,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ne(ul(Pe,re)),onClick:ne(ul(je,Fe)),tabIndex:-1},be,H);return En(En({},Be),Ce)}},[H,r,o,re,n]);return En(En({},G),{},{isFocused:X&&!n,getRootProps:Oe,getInputProps:ve,rootRef:M,inputRef:H,open:ne(O)})}function VXe(e,t){switch(t.type){case"focus":return En(En({},e),{},{isFocused:!0});case"blur":return En(En({},e),{},{isFocused:!1});case"openDialog":return En(En({},rA),{},{isFileDialogActive:!0});case"closeDialog":return En(En({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return En(En({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return En(En({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return En({},rA);default:return e}}function t9(){}var $Q={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(ha,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,u={};function d(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var P=_(S);P.chunkSize=parseInt(P.chunkSize),S.step||S.chunk||(P.chunkSize=null),this._handle=new g(P),(this._handle.streamer=this)._config=P}).call(this,w),this.parseChunk=function(S,P){var A=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<A){let F=this._config.newline;F||(T=this._config.quoteChar||'"',F=this._handle.guessLineEndings(S,T)),S=[...S.split(F).slice(A)].join(F)}this.isFirstChunk&&k(this._config.beforeFirstChunk)&&(T=this._config.beforeFirstChunk(S))!==void 0&&(S=T),this.isFirstChunk=!1,this._halted=!1;var A=this._partialLine+S,T=(this._partialLine="",this._handle.parse(A,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=T.meta.cursor,A=(this._finished||(this._partialLine=A.substring(S-this._baseIndex),this._baseIndex=S),T&&T.data&&(this._rowCount+=T.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:T,workerId:u.WORKER_ID,finished:A});else if(k(this._config.chunk)&&!P){if(this._config.chunk(T,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=T=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(T.data),this._completeResults.errors=this._completeResults.errors.concat(T.errors),this._completeResults.meta=T.meta),this._completed||!A||!k(this._config.complete)||T&&T.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),A||T&&T.meta.paused||this._nextChunk(),T}this._halted=!0},this._sendError=function(S){k(this._config.error)?this._config.error(S):s&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:S,finished:!1})}}function f(w){var S;(w=w||{}).chunkSize||(w.chunkSize=u.RemoteChunkSize),d.call(this,w),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(P){this._input=P,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),i||(S.onload=C(this._chunkLoaded,this),S.onerror=C(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var P,A=this._config.downloadRequestHeaders;for(P in A)S.setRequestHeader(P,A[P])}var T;this._config.chunkSize&&(T=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+T));try{S.send(this._config.downloadRequestBody)}catch(F){this._chunkError(F.message)}i&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(P=>(P=P.getResponseHeader("Content-Range"))!==null?parseInt(P.substring(P.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(P){P=S.statusText||P,this._sendError(new Error(P))}}function h(w){(w=w||{}).chunkSize||(w.chunkSize=u.LocalChunkSize),d.call(this,w);var S,P,A=typeof FileReader<"u";this.stream=function(T){this._input=T,P=T.slice||T.webkitSlice||T.mozSlice,A?((S=new FileReader).onload=C(this._chunkLoaded,this),S.onerror=C(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var T=this._input,F=(this._config.chunkSize&&(F=Math.min(this._start+this._config.chunkSize,this._input.size),T=P.call(T,this._start,F)),S.readAsText(T,this._config.encoding));A||this._chunkLoaded({target:{result:F}})},this._chunkLoaded=function(T){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(T.target.result)},this._chunkError=function(){this._sendError(S.error)}}function p(w){var S;d.call(this,w=w||{}),this.stream=function(P){return S=P,this._nextChunk()},this._nextChunk=function(){var P,A;if(!this._finished)return P=this._config.chunkSize,S=P?(A=S.substring(0,P),S.substring(P)):(A=S,""),this._finished=!S,this.parseChunk(A)}}function m(w){d.call(this,w=w||{});var S=[],P=!0,A=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(T){this._input=T,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){A&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):P=!0},this._streamData=C(function(T){try{S.push(typeof T=="string"?T:T.toString(this._config.encoding)),P&&(P=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(F){this._streamError(F)}},this),this._streamError=C(function(T){this._streamCleanUp(),this._sendError(T)},this),this._streamEnd=C(function(){this._streamCleanUp(),A=!0,this._streamData("")},this),this._streamCleanUp=C(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(w){var S,P,A,T,F=Math.pow(2,53),M=-F,H=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Y=this,G=0,I=0,X=!1,J=!1,E=[],R={data:[],errors:[],meta:{}};function B(ee){return w.skipEmptyLines==="greedy"?ee.join("").trim()==="":ee.length===1&&ee[0].length===0}function q(){if(R&&A&&(ae("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),A=!1),w.skipEmptyLines&&(R.data=R.data.filter(function(re){return!B(re)})),K()){let re=function(O,de){k(w.transformHeader)&&(O=w.transformHeader(O,de)),E.push(O)};if(R)if(Array.isArray(R.data[0])){for(var ee=0;K()&&ee<R.data.length;ee++)R.data[ee].forEach(re);R.data.splice(0,1)}else R.data.forEach(re)}function W(re,O){for(var de=w.header?{}:[],ce=0;ce<re.length;ce++){var pe=ce,Q=re[ce],Q=((ne,Ae)=>(Ee=>(w.dynamicTypingFunction&&w.dynamicTyping[Ee]===void 0&&(w.dynamicTyping[Ee]=w.dynamicTypingFunction(Ee)),(w.dynamicTyping[Ee]||w.dynamicTyping)===!0))(ne)?Ae==="true"||Ae==="TRUE"||Ae!=="false"&&Ae!=="FALSE"&&((Ee=>{if(H.test(Ee)&&(Ee=parseFloat(Ee),M<Ee&&Ee<F))return 1})(Ae)?parseFloat(Ae):z.test(Ae)?new Date(Ae):Ae===""?null:Ae):Ae)(pe=w.header?ce>=E.length?"__parsed_extra":E[ce]:pe,Q=w.transform?w.transform(Q,pe):Q);pe==="__parsed_extra"?(de[pe]=de[pe]||[],de[pe].push(Q)):de[pe]=Q}return w.header&&(ce>E.length?ae("FieldMismatch","TooManyFields","Too many fields: expected "+E.length+" fields but parsed "+ce,I+O):ce<E.length&&ae("FieldMismatch","TooFewFields","Too few fields: expected "+E.length+" fields but parsed "+ce,I+O)),de}var Z;R&&(w.header||w.dynamicTyping||w.transform)&&(Z=1,!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(W),Z=R.data.length):R.data=W(R.data,0),w.header&&R.meta&&(R.meta.fields=E),I+=Z)}function K(){return w.header&&E.length===0}function ae(ee,W,Z,re){ee={type:ee,code:W,message:Z},re!==void 0&&(ee.row=re),R.errors.push(ee)}k(w.step)&&(T=w.step,w.step=function(ee){R=ee,K()?q():(q(),R.data.length!==0&&(G+=ee.data.length,w.preview&&G>w.preview?P.abort():(R.data=R.data[0],T(R,Y))))}),this.parse=function(ee,W,Z){var re=w.quoteChar||'"',re=(w.newline||(w.newline=this.guessLineEndings(ee,re)),A=!1,w.delimiter?k(w.delimiter)&&(w.delimiter=w.delimiter(ee),R.meta.delimiter=w.delimiter):((re=((O,de,ce,pe,Q)=>{var ne,Ae,Ee,De;Q=Q||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Oe=0;Oe<Q.length;Oe++){for(var Fe,ve=Q[Oe],me=0,le=0,be=0,Pe=(Ee=void 0,new x({comments:pe,delimiter:ve,newline:de,preview:10}).parse(O)),je=0;je<Pe.data.length;je++)ce&&B(Pe.data[je])?be++:(Fe=Pe.data[je].length,le+=Fe,Ee===void 0?Ee=Fe:0<Fe&&(me+=Math.abs(Fe-Ee),Ee=Fe));0<Pe.data.length&&(le/=Pe.data.length-be),(Ae===void 0||me<=Ae)&&(De===void 0||De<le)&&1.99<le&&(Ae=me,ne=ve,De=le)}return{successful:!!(w.delimiter=ne),bestDelimiter:ne}})(ee,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess)).successful?w.delimiter=re.bestDelimiter:(A=!0,w.delimiter=u.DefaultDelimiter),R.meta.delimiter=w.delimiter),_(w));return w.preview&&w.header&&re.preview++,S=ee,P=new x(re),R=P.parse(S,W,Z),q(),X?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return X},this.pause=function(){X=!0,P.abort(),S=k(w.chunk)?"":S.substring(P.getCharIndex())},this.resume=function(){Y.streamer._halted?(X=!1,Y.streamer.parseChunk(S,!0)):setTimeout(Y.resume,3)},this.aborted=function(){return J},this.abort=function(){J=!0,P.abort(),R.meta.aborted=!0,k(w.complete)&&w.complete(R),S=""},this.guessLineEndings=function(O,re){O=O.substring(0,1048576);var re=new RegExp(v(re)+"([^]*?)"+v(re),"gm"),Z=(O=O.replace(re,"")).split("\r"),re=O.split(`
`),O=1<re.length&&re[0].length<Z[0].length;if(Z.length===1||O)return`
`;for(var de=0,ce=0;ce<Z.length;ce++)Z[ce][0]===`
`&&de++;return de>=Z.length/2?`\r
`:"\r"}}function v(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(w){var S=(w=w||{}).delimiter,P=w.newline,A=w.comments,T=w.step,F=w.preview,M=w.fastMode,H=null,z=!1,Y=w.quoteChar==null?'"':w.quoteChar,G=Y;if(w.escapeChar!==void 0&&(G=w.escapeChar),(typeof S!="string"||-1<u.BAD_DELIMITERS.indexOf(S))&&(S=","),A===S)throw new Error("Comment character same as delimiter");A===!0?A="#":(typeof A!="string"||-1<u.BAD_DELIMITERS.indexOf(A))&&(A=!1),P!==`
`&&P!=="\r"&&P!==`\r
`&&(P=`
`);var I=0,X=!1;this.parse=function(J,E,R){if(typeof J!="string")throw new Error("Input must be a string");var B=J.length,q=S.length,K=P.length,ae=A.length,ee=k(T),W=[],Z=[],re=[],O=I=0;if(!J)return me();if(M||M!==!1&&J.indexOf(Y)===-1){for(var de=J.split(P),ce=0;ce<de.length;ce++){if(re=de[ce],I+=re.length,ce!==de.length-1)I+=P.length;else if(R)return me();if(!A||re.substring(0,ae)!==A){if(ee){if(W=[],De(re.split(S)),le(),X)return me()}else De(re.split(S));if(F&&F<=ce)return W=W.slice(0,F),me(!0)}}return me()}for(var pe=J.indexOf(S,I),Q=J.indexOf(P,I),ne=new RegExp(v(G)+v(Y),"g"),Ae=J.indexOf(Y,I);;)if(J[I]===Y)for(Ae=I,I++;;){if((Ae=J.indexOf(Y,Ae+1))===-1)return R||Z.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:W.length,index:I}),Fe();if(Ae===B-1)return Fe(J.substring(I,Ae).replace(ne,Y));if(Y===G&&J[Ae+1]===G)Ae++;else if(Y===G||Ae===0||J[Ae-1]!==G){pe!==-1&&pe<Ae+1&&(pe=J.indexOf(S,Ae+1));var Ee=Oe((Q=Q!==-1&&Q<Ae+1?J.indexOf(P,Ae+1):Q)===-1?pe:Math.min(pe,Q));if(J.substr(Ae+1+Ee,q)===S){re.push(J.substring(I,Ae).replace(ne,Y)),J[I=Ae+1+Ee+q]!==Y&&(Ae=J.indexOf(Y,I)),pe=J.indexOf(S,I),Q=J.indexOf(P,I);break}if(Ee=Oe(Q),J.substring(Ae+1+Ee,Ae+1+Ee+K)===P){if(re.push(J.substring(I,Ae).replace(ne,Y)),ve(Ae+1+Ee+K),pe=J.indexOf(S,I),Ae=J.indexOf(Y,I),ee&&(le(),X))return me();if(F&&W.length>=F)return me(!0);break}Z.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:W.length,index:I}),Ae++}}else if(A&&re.length===0&&J.substring(I,I+ae)===A){if(Q===-1)return me();I=Q+K,Q=J.indexOf(P,I),pe=J.indexOf(S,I)}else if(pe!==-1&&(pe<Q||Q===-1))re.push(J.substring(I,pe)),I=pe+q,pe=J.indexOf(S,I);else{if(Q===-1)break;if(re.push(J.substring(I,Q)),ve(Q+K),ee&&(le(),X))return me();if(F&&W.length>=F)return me(!0)}return Fe();function De(be){W.push(be),O=I}function Oe(be){var Pe=0;return Pe=be!==-1&&(be=J.substring(Ae+1,be))&&be.trim()===""?be.length:Pe}function Fe(be){return R||(be===void 0&&(be=J.substring(I)),re.push(be),I=B,De(re),ee&&le()),me()}function ve(be){I=be,De(re),re=[],Q=J.indexOf(P,I)}function me(be){if(w.header&&!E&&W.length&&!z){var Pe=W[0],je={},Ce=new Set(Pe);let Be=!1;for(let $e=0;$e<Pe.length;$e++){let et=Pe[$e];if(je[et=k(w.transformHeader)?w.transformHeader(et,$e):et]){let Je,St=je[et];for(;Je=et+"_"+St,St++,Ce.has(Je););Ce.add(Je),Pe[$e]=Je,je[et]++,Be=!0,(H=H===null?{}:H)[Je]=et}else je[et]=1,Pe[$e]=et;Ce.add(et)}Be&&console.warn("Duplicate headers found and renamed."),z=!0}return{data:W,errors:Z,meta:{delimiter:S,linebreak:P,aborted:X,truncated:!!be,cursor:O+(E||0),renamedHeaders:H}}}function le(){T(me()),W=[],Z=[]}},this.abort=function(){X=!0},this.getCharIndex=function(){return I}}function y(w){var S=w.data,P=o[S.workerId],A=!1;if(S.error)P.userError(S.error,S.file);else if(S.results&&S.results.data){var T={abort:function(){A=!0,b(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:N,resume:N};if(k(P.userStep)){for(var F=0;F<S.results.data.length&&(P.userStep({data:S.results.data[F],errors:S.results.errors,meta:S.results.meta},T),!A);F++);delete S.results}else k(P.userChunk)&&(P.userChunk(S.results,T,S.file),delete S.results)}S.finished&&!A&&b(S.workerId,S.results)}function b(w,S){var P=o[w];k(P.userComplete)&&P.userComplete(S),P.terminate(),delete o[w]}function N(){throw new Error("Not implemented.")}function _(w){if(typeof w!="object"||w===null)return w;var S,P=Array.isArray(w)?[]:{};for(S in w)P[S]=_(w[S]);return P}function C(w,S){return function(){w.apply(S,arguments)}}function k(w){return typeof w=="function"}return u.parse=function(w,S){var P=(S=S||{}).dynamicTyping||!1;if(k(P)&&(S.dynamicTypingFunction=P,P={}),S.dynamicTyping=P,S.transform=!!k(S.transform)&&S.transform,!S.worker||!u.WORKERS_SUPPORTED)return P=null,u.NODE_STREAM_INPUT,typeof w=="string"?(w=(A=>A.charCodeAt(0)!==65279?A:A.slice(1))(w),P=new(S.download?f:p)(S)):w.readable===!0&&k(w.read)&&k(w.on)?P=new m(S):(n.File&&w instanceof File||w instanceof Object)&&(P=new h(S)),P.stream(w);(P=(()=>{var A;return!!u.WORKERS_SUPPORTED&&(A=(()=>{var T=n.URL||n.webkitURL||null,F=r.toString();return u.BLOB_URL||(u.BLOB_URL=T.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",F,")();"],{type:"text/javascript"})))})(),(A=new n.Worker(A)).onmessage=y,A.id=l++,o[A.id]=A)})()).userStep=S.step,P.userChunk=S.chunk,P.userComplete=S.complete,P.userError=S.error,S.step=k(S.step),S.chunk=k(S.chunk),S.complete=k(S.complete),S.error=k(S.error),delete S.worker,P.postMessage({input:w,config:S,workerId:P.id})},u.unparse=function(w,S){var P=!1,A=!0,T=",",F=`\r
`,M='"',H=M+M,z=!1,Y=null,G=!1,I=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||u.BAD_DELIMITERS.filter(function(E){return S.delimiter.indexOf(E)!==-1}).length||(T=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(P=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(z=S.skipEmptyLines),typeof S.newline=="string"&&(F=S.newline),typeof S.quoteChar=="string"&&(M=S.quoteChar),typeof S.header=="boolean"&&(A=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");Y=S.columns}S.escapeChar!==void 0&&(H=S.escapeChar+M),S.escapeFormulae instanceof RegExp?G=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(G=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(M),"g"));if(typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return X(null,w,z);if(typeof w[0]=="object")return X(Y||Object.keys(w[0]),w,z)}else if(typeof w=="object")return typeof w.data=="string"&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||Y),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:typeof w.data[0]=="object"?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||typeof w.data[0]=="object"||(w.data=[w.data])),X(w.fields||[],w.data||[],z);throw new Error("Unable to serialize unrecognized input");function X(E,R,B){var q="",K=(typeof E=="string"&&(E=JSON.parse(E)),typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(E)&&0<E.length),ae=!Array.isArray(R[0]);if(K&&A){for(var ee=0;ee<E.length;ee++)0<ee&&(q+=T),q+=J(E[ee],ee);0<R.length&&(q+=F)}for(var W=0;W<R.length;W++){var Z=(K?E:R[W]).length,re=!1,O=K?Object.keys(R[W]).length===0:R[W].length===0;if(B&&!K&&(re=B==="greedy"?R[W].join("").trim()==="":R[W].length===1&&R[W][0].length===0),B==="greedy"&&K){for(var de=[],ce=0;ce<Z;ce++){var pe=ae?E[ce]:ce;de.push(R[W][pe])}re=de.join("").trim()===""}if(!re){for(var Q=0;Q<Z;Q++){0<Q&&!O&&(q+=T);var ne=K&&ae?E[Q]:Q;q+=J(R[W][ne],Q)}W<R.length-1&&(!B||0<Z&&!O)&&(q+=F)}}return q}function J(E,R){var B,q;return E==null?"":E.constructor===Date?JSON.stringify(E).slice(1,25):(q=!1,G&&typeof E=="string"&&G.test(E)&&(E="'"+E,q=!0),B=E.toString().replace(I,H),(q=q||P===!0||typeof P=="function"&&P(E,R)||Array.isArray(P)&&P[R]||((K,ae)=>{for(var ee=0;ee<ae.length;ee++)if(-1<K.indexOf(ae[ee]))return!0;return!1})(B,u.BAD_DELIMITERS)||-1<B.indexOf(T)||B.charAt(0)===" "||B.charAt(B.length-1)===" ")?M+B+M:B)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!i&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=x,u.ParserHandle=g,u.NetworkStreamer=f,u.FileStreamer=h,u.StringStreamer=p,u.ReadableStreamStreamer=m,n.jQuery&&((a=n.jQuery).fn.parse=function(w){var S=w.config||{},P=[];return this.each(function(F){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var M=0;M<this.files.length;M++)P.push({file:this.files[M],inputElem:this,instanceConfig:a.extend({},S)})}),A(),this;function A(){if(P.length===0)k(w.complete)&&w.complete();else{var F,M,H,z,Y=P[0];if(k(w.before)){var G=w.before(Y.file,Y.inputElem);if(typeof G=="object"){if(G.action==="abort")return F="AbortError",M=Y.file,H=Y.inputElem,z=G.reason,void(k(w.error)&&w.error({name:F},M,H,z));if(G.action==="skip")return void T();typeof G.config=="object"&&(Y.instanceConfig=a.extend(Y.instanceConfig,G.config))}else if(G==="skip")return void T()}var I=Y.instanceConfig.complete;Y.instanceConfig.complete=function(X){k(I)&&I(X,Y.file,Y.inputElem),T()},u.parse(Y.file,Y.instanceConfig)}}function T(){P.splice(0,1),A()}}),s&&(n.onmessage=function(w){w=w.data,u.WORKER_ID===void 0&&w&&(u.WORKER_ID=w.workerId),typeof w.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(w.input,w.config),finished:!0}):(n.File&&w.input instanceof File||w.input instanceof Object)&&(w=u.parse(w.input,w.config))&&n.postMessage({workerId:u.WORKER_ID,results:w,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(d.prototype)).constructor=m,u})})($Q);var GXe=$Q.exports;const j4=hr(GXe),r9=[{value:"name",label:"Name"},{value:"phone",label:"Phone"},{value:"address",label:"Address"},{value:"date_of_birth",label:"Date of Birth"},{value:"email",label:"Email"},{value:"custom_field",label:"Custom Field"}];function KXe(){const[e,t]=L.useState(null),[r,n]=L.useState(null),[a,i]=L.useState(!1),[s,o]=L.useState([]),[l,u]=L.useState(1),[d,f]=L.useState([]),[h,p]=L.useState(!1),[m,g]=L.useState(50),[v,x]=L.useState(!1),[y,b]=L.useState(!1),[N,_]=L.useState(!1),C=50,{organization:k}=ir(),{addToast:w}=Or(),{theme:S,getThemeStyle:P}=Yt(),[A,T]=L.useState(!1),[F,M]=L.useState(0),[H,z]=L.useState(0),[Y,G]=L.useState(!1),[I,X]=L.useState(1),[J,E]=L.useState(0),R=L.useCallback(Oe=>{const Fe=Oe[0];Fe&&(t(Fe),Fe.name.endsWith(".csv")?ae(Fe):(Fe.name.endsWith(".xls")||Fe.name.endsWith(".xlsx"))&&ee(Fe))},[]),{getRootProps:B,getInputProps:q,isDragActive:K}=f1({onDrop:R,accept:{"text/csv":[".csv"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},maxFiles:1}),ae=Oe=>{j4.parse(Oe,{header:!0,complete:Fe=>{const ve=Object.keys(Fe.data[0]||{}).map(me=>({name:me,mappedTo:"",isCustomField:!1}));n({headers:ve,previewData:Fe.data})},error:Fe=>{w({type:"error",title:"Error",message:"Failed to parse CSV file"}),console.error("Error parsing CSV:",Fe)}})},ee=Oe=>{const Fe=new FileReader;Fe.onload=ve=>{var me;try{const le=(me=ve.target)==null?void 0:me.result,be=kp(le,{type:"array"}),Pe=be.SheetNames[0],je=be.Sheets[Pe],Ce=N5.sheet_to_json(je,{header:1});if(Ce.length<2)throw new Error("Excel file must contain at least one row of data");const Be=Ce[0].map(et=>({name:et,mappedTo:"",isCustomField:!1})),$e=Ce.slice(1).map(et=>{const Je={};return Be.forEach((St,Tt)=>{var wt;Je[St.name]=((wt=et[Tt])==null?void 0:wt.toString())||""}),Je});n({headers:Be,previewData:$e})}catch(le){console.error("Error parsing Excel file:",le),w({type:"error",title:"Error",message:"Failed to parse Excel file"})}},Fe.readAsArrayBuffer(Oe)},W=(Oe,Fe)=>{if(!r)return;const ve=Fe==="custom_field",me=r.headers.map(le=>le.name===Oe?{...le,mappedTo:Fe,isCustomField:ve}:le);n({...r,headers:me})},Z=Oe=>{if(!Oe)return null;const Fe=[{regex:/^(\d{2})\/(\d{2})\/(\d{4})(?:\s+(\d{2}):(\d{2}))?$/,format:ve=>{const[me,le,be,Pe,je,Ce]=ve,Be=je&&Ce?` ${je}:${Ce}:00`:"";return`${Pe}-${be}-${le}${Be}`}},{regex:/^(\d{4})-(\d{2})-(\d{2})(?:\s+(\d{2}):(\d{2}))?$/,format:ve=>{const[me,le,be,Pe,je,Ce]=ve,Be=je&&Ce?` ${je}:${Ce}:00`:"";return`${le}-${be}-${Pe}${Be}`}}];for(const ve of Fe){const me=Oe.match(ve.regex);if(me)return ve.format(me)}return null},re=async(Oe,Fe)=>{var ve;if(Y)return{success:!1,errors:[],processedCount:0};if(Oe.length===0)return{success:!0,errors:[],processedCount:0};try{const me=Oe.filter(je=>!je.name||!je.organization_id);if(me.length>0)return{success:!1,errors:me.map((je,Ce)=>({rowIndex:Fe+Ce,clientData:ce()[Fe+Ce],error:"Client is missing required fields (name, organization_id)"})),processedCount:0};const le=Oe.map(je=>{const{custom_fields:Ce,_originalIndex:Be,...$e}=je;return $e}),{data:be,error:Pe}=await We.from("clients").insert(le).select();if(Pe)return Pe.code==="23505"?{success:!1,errors:Oe.map((je,Ce)=>({rowIndex:Fe+Ce,clientData:ce()[Fe+Ce],error:"A client with this name already exists in the organization"})),processedCount:0}:Pe.code==="23503"?{success:!1,errors:Oe.map((je,Ce)=>({rowIndex:Fe+Ce,clientData:ce()[Fe+Ce],error:"Invalid organization ID"})),processedCount:0}:{success:!1,errors:Oe.map((je,Ce)=>({rowIndex:Fe+Ce,clientData:ce()[Fe+Ce],error:Pe.message})),processedCount:0};if(be&&be.length>0){const je=[],Ce=[],Be={};for(let $e=0;$e<Oe.length;$e++){const et=be[$e],Je=Oe[$e];if(Je.custom_fields&&Je.custom_fields.length>0){const St=Je.custom_fields.filter(wt=>!wt.title);if(St.length>0){console.log(Je.custom_fields,St),je.push({rowIndex:Fe+$e,clientData:ce()[Fe+$e],error:"Custom field is missing required fields (title, value, type) or has invalid type"}),Be[Fe+$e]=!0;continue}const Tt=Je.custom_fields.map(wt=>({...wt,client_id:et.id}));Ce.push(...Tt)}}if(Ce.length>0){const{error:$e}=await We.from("client_custom_fields").insert(Ce);if($e)for(let et=0;et<Oe.length;et++){const Je=Fe+et;!Be[Je]&&((ve=Oe[et].custom_fields)==null?void 0:ve.length)>0&&je.push({rowIndex:Je,clientData:ce()[Je],error:`Error adding custom fields: ${$e.message}`})}}return{success:je.length===0,errors:je,processedCount:be.length}}return{success:!1,errors:[],processedCount:0}}catch(me){return{success:!1,errors:Oe.map((le,be)=>({rowIndex:Fe+be,clientData:ce()[Fe+be],error:me instanceof Error?me.message:"Unknown error occurred"})),processedCount:0}}},O=async()=>{if(!(!r||!k)){i(!0),T(!0),f([]),M(0),z(r.previewData.length),G(!1),X(1);try{const Oe=r.headers.filter(Ce=>Ce.mappedTo);if(!Oe.some(Ce=>Ce.mappedTo==="name"))throw new Error("Name field is required");const Fe=new Set,ve=new Set,me=r.previewData.map((Ce,Be)=>{const $e={},et=[];return Oe.forEach(Je=>{const St=Ce[Je.name];Je.isCustomField?et.push({title:Je.name,value:St,type:"text"}):Je.mappedTo==="date_of_birth"||Je.mappedTo==="created_at"?$e[Je.mappedTo]=Z(St):$e[Je.mappedTo]=St}),$e.organization_id=k.id,$e.status="active",$e._originalIndex=Be,et.length>0&&($e.custom_fields=et),$e}),le=[],be=me.filter((Ce,Be)=>{let $e=!1;if(y&&Ce.name){const et=Ce.name.trim().toLowerCase();Fe.has(et)?(le.push({rowIndex:Ce._originalIndex,clientData:ce()[Ce._originalIndex],error:"Duplicate client name in import batch"}),$e=!0):Fe.add(et)}if(N&&Ce.phone){const et=Ce.phone.trim().toLowerCase();ve.has(et)?(le.push({rowIndex:Ce._originalIndex,clientData:ce()[Ce._originalIndex],error:"Duplicate phone number in import batch"}),$e=!0):ve.add(et)}return!$e});le.length>0&&f(le);let Pe=0;const je=Math.ceil(be.length/m);E(je);for(let Ce=0;Ce<be.length&&!Y;Ce+=m){X(Math.floor(Ce/m)+1);const Be=be.slice(Ce,Ce+m),$e=Be[0]._originalIndex,{success:et,errors:Je,processedCount:St}=await re(Be,$e);if(Pe+=St,M(Pe),!et&&Je.length>0&&f([...Je]),Y){w({type:"warning",title:"Import Cancelled",message:`Import was cancelled. ${Pe} clients were imported successfully.`});return}}le.length>0?w({type:"warning",title:"Partial Success",message:`${Pe} clients imported successfully, ${le.length} duplicates`}):(w({type:"success",title:"Success",message:"All clients imported successfully"}),t(null),n(null))}catch(Oe){console.error("Error importing clients:",Oe),w({type:"error",title:"Error",message:Oe instanceof Error?Oe.message:"Failed to import clients"})}}},de=()=>{G(!0),T(!1),i(!1),f([]),M(0),z(0),X(1),E(0)},ce=()=>r?r.previewData.map(Oe=>{const Fe={name:null,phone:null,address:null,date_of_birth:null,email:null,created_at:null,custom_fields:[]};return r.headers.forEach(ve=>{if(ve.mappedTo){const me=Oe[ve.name];ve.isCustomField?Fe.custom_fields.push({title:ve.name,value:me,type:"text"}):Fe[ve.mappedTo]=me}}),Fe}):[],pe=Oe=>{if(!r)return r9;const Fe=r.headers.filter(ve=>ve.name!==Oe&&ve.mappedTo&&ve.mappedTo!=="custom_field").map(ve=>ve.mappedTo);return r9.filter(ve=>{var me;return!Fe.includes(ve.value)||((me=r.headers.find(le=>le.name===Oe))==null?void 0:me.mappedTo)===ve.value||ve.value==="custom_field"})},Q=Oe=>{o(Oe?(r==null?void 0:r.previewData.map((Fe,ve)=>ve))||[]:[])},ne=(Oe,Fe)=>{o(Fe?[...s,Oe]:s.filter(ve=>ve!==Oe))},Ae=()=>{if(!r)return;const Oe=r.previewData.filter((ve,me)=>!s.includes(me)),Fe=r.headers;n({headers:Fe,previewData:Oe}),o([])},Ee=()=>{if(!r)return[];const Oe=(l-1)*C,Fe=Oe+C;return r.previewData.slice(Oe,Fe)},De=r?Math.ceil(r.previewData.length/C):0;return c.jsx("div",{className:`min-h-screen p-6 ${P(S,"background","primary")}`,children:c.jsxs("div",{className:"",children:[c.jsxs("div",{className:"flex items-center mb-8",children:[c.jsx(bv,{className:`h-8 w-8 mr-3 ${P(S,"text","accent")}`}),c.jsx("h1",{className:`text-2xl font-bold ${P(S,"text","primary")}`,children:"Import Clients"})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[c.jsxs("div",{className:"space-y-6 w-full lg:w-[350px] flex-shrink-0",children:[c.jsxs("div",{...B(),className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all duration-200
                ${K?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":P(S,"border","primary")}
                ${P(S,"background","secondary")}
                hover:border-blue-500 hover:bg-blue-50/50 dark:hover:bg-blue-900/10`,children:[c.jsx("input",{...q()}),e?c.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-white dark:bg-gray-800 shadow-sm",children:[c.jsx(uh,{className:"h-6 w-6 text-blue-500"}),c.jsx("span",{className:`text-sm font-medium ${P(S,"text","primary")}`,children:e.name}),c.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),t(null),n(null)},className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:c.jsx(dr,{className:"h-4 w-4 text-gray-500"})})]}),c.jsx("p",{className:`text-xs ${P(S,"text","muted")}`,children:"Drop another file to replace"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"p-4 rounded-full bg-blue-50 dark:bg-blue-900/20",children:c.jsx(Xo,{className:"h-8 w-8 text-blue-500"})})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${P(S,"text","primary")}`,children:K?"Drop your file here":"Upload your CSV or Excel file"}),c.jsx("p",{className:`mt-1 text-xs ${P(S,"text","muted")}`,children:"Drag and drop your file here, or click to browse"})]})]})]}),r&&c.jsxs("div",{className:`p-6 rounded-xl ${P(S,"background","secondary")} shadow-sm`,children:[c.jsx("h3",{className:`text-sm font-medium mb-4 ${P(S,"text","primary")}`,children:"Map File Headers"}),c.jsx("div",{className:"space-y-4",children:r.headers.map(Oe=>c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:`block text-xs font-medium ${P(S,"text","secondary")}`,children:Oe.name}),c.jsxs("select",{value:Oe.mappedTo,onChange:Fe=>W(Oe.name,Fe.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${P(S,"border","primary")} 
                          ${P(S,"background","primary")} 
                          ${P(S,"text","primary")}
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                          transition-colors duration-200`,children:[c.jsx("option",{value:"",children:"Select column"}),pe(Oe.name).map(Fe=>c.jsx("option",{value:Fe.value,children:Fe.label},Fe.value))]})]},Oe.name))}),c.jsx("button",{onClick:O,disabled:a,className:`mt-6 w-full py-3 px-4 rounded-lg font-medium text-xs text-white bg-blue-600 hover:bg-blue-700 
                    focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors duration-200`,children:a?c.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),c.jsx("span",{children:"Importing..."})]}):"Import Clients"}),c.jsxs("div",{className:"mt-4",children:[c.jsx("button",{onClick:()=>x(!v),className:`text-xs font-medium ${P(S,"text","secondary")} hover:${P(S,"text","primary")} transition-colors duration-200`,children:v?"Hide Advanced Settings":"Show Advanced Settings"}),v&&c.jsxs("div",{className:"mt-4 space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:`block text-xs font-medium ${P(S,"text","secondary")}`,children:"Batch Size"}),c.jsx("input",{type:"number",min:"1",max:"100",value:m,onChange:Oe=>g(Math.min(Math.max(1,parseInt(Oe.target.value)||1),100)),className:`w-full px-3 py-2 rounded-lg border text-sm ${P(S,"border","primary")} 
                            ${P(S,"background","primary")} 
                            ${P(S,"text","primary")}
                            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                            transition-colors duration-200`}),c.jsx("p",{className:`text-xs ${P(S,"text","muted")}`,children:"Number of records to process in each batch (1-100)"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:`block text-xs font-medium ${P(S,"text","secondary")}`,children:"Filter Duplicates"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:y,onChange:Oe=>b(Oe.target.checked),className:`h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded ${P(S,"background","primary")}`}),c.jsx("label",{className:`ml-2 text-xs ${P(S,"text","primary")}`,children:"Filter out duplicate names"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:N,onChange:Oe=>_(Oe.target.checked),className:`h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded ${P(S,"background","primary")}`}),c.jsx("label",{className:`ml-2 text-xs ${P(S,"text","primary")}`,children:"Filter out duplicate phone numbers"})]})]}),c.jsx("p",{className:`text-xs ${P(S,"text","muted")}`,children:"When enabled, only the first occurrence of a duplicate name or phone number will be imported"})]})]})]})]})]}),r&&c.jsx("div",{className:"flex-1 overflow-x-auto",children:c.jsxs("div",{className:`p-6 rounded-xl ${P(S,"background","secondary")} shadow-sm`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:`text-sm font-medium ${P(S,"text","primary")}`,children:["Preview Data | ",r.previewData.length," row",r.previewData.length>1?"s":""," of clients"]}),s.length>0&&c.jsxs("button",{onClick:Ae,className:`px-4 py-2 rounded-lg text-xs font-medium text-white bg-red-600 hover:bg-red-700 
                        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 
                        transition-colors duration-200`,children:["Remove Selected (",s.length,")"]})]}),c.jsx(zc,{currentPage:l,totalPages:De,onPageChange:u,className:"mb-4"}),c.jsx("div",{className:"lg:hidden space-y-4",children:Ee().map((Oe,Fe)=>{const ve=(l-1)*C+Fe,me=ce()[ve];return c.jsxs("div",{className:`p-4 rounded-lg ${P(S,"background","primary")} shadow-sm`,children:[c.jsx("div",{className:"flex items-center mb-3",children:c.jsx("input",{type:"checkbox",checked:s.includes(ve),onChange:le=>ne(ve,le.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),c.jsxs("div",{className:"space-y-3",children:[Object.entries(me).filter(([le])=>le!=="custom_fields").map(([le,be])=>c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:`text-xs font-medium ${P(S,"text","secondary")}`,children:le.charAt(0).toUpperCase()+le.slice(1).replace(/_/g," ")}),c.jsx("span",{className:`text-xs ${P(S,"text","primary")}`,children:be===null||be===""||!be?c.jsx("span",{className:"text-gray-400",children:"(empty)"}):be.toString()})]},le)),me.custom_fields&&me.custom_fields.length>0&&c.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:c.jsx("div",{className:"space-y-2",children:me.custom_fields.map((le,be)=>c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:`font-medium ${P(S,"text","tertiary")}`,children:le.title}),c.jsx("span",{className:P(S,"text","primary"),children:le.value===null||le.value===""?c.jsx("span",{className:"text-gray-400",children:"(empty)"}):le.value})]},be))})})]})]},ve)})}),c.jsx("div",{className:"hidden lg:block overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium",children:c.jsx("input",{type:"checkbox",checked:s.length===r.previewData.length,onChange:Oe=>Q(Oe.target.checked),className:`h-4 w-4 text-blue-600 focus:ring-blue-500 ${P(S,"background","primary")} border-gray-300 rounded`})}),c.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${P(S,"text","tertiary")} uppercase tracking-wider sticky left-0 bg-inherit`,children:"Client"}),Object.keys(ce()[0]||{}).filter(Oe=>Oe!=="custom_fields").map(Oe=>c.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${P(S,"text","tertiary")} uppercase tracking-wider`,children:Oe.charAt(0).toUpperCase()+Oe.slice(1).replace(/_/g," ")},Oe))]})}),c.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:Ee().map((Oe,Fe)=>{const ve=(l-1)*C+Fe,me=ce()[ve];return c.jsxs(we.Fragment,{children:[c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors duration-150",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("input",{type:"checkbox",checked:s.includes(ve),onChange:le=>ne(ve,le.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),c.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-xs font-medium ${P(S,"text","primary")} sticky left-0 bg-inherit`,children:ve+1}),Object.entries(me).filter(([le])=>le!=="custom_fields").map(([le,be])=>c.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-xs ${P(S,"text","primary")}`,children:be===null||be===""||!be?c.jsx("span",{className:"text-gray-400",children:"(empty)"}):be.toString()},le))]}),me.custom_fields&&me.custom_fields.length>0&&c.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-800/30",children:c.jsx("td",{colSpan:Object.keys(me).filter(le=>le!=="custom_fields").length+1,className:"px-6 py-3",children:c.jsx("div",{className:"space-y-2",children:me.custom_fields.map((le,be)=>c.jsxs("div",{className:"flex items-center space-x-3 text-xs",children:[c.jsxs("span",{className:`font-medium ${P(S,"text","tertiary")}`,children:[le.title,":"]}),c.jsx("span",{className:P(S,"text","primary"),children:le.value===null||le.value===""?c.jsx("span",{className:"text-gray-400",children:"(empty)"}):le.value})]},be))})})})]},ve)})})]})}),c.jsx(zc,{currentPage:l,totalPages:De,onPageChange:u,className:"mt-4"})]})})]}),A&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsx("div",{className:`w-full max-w-4xl max-h-[80vh] overflow-hidden rounded-xl ${P(S,"background","primary")} shadow-xl`,children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:`text-sm font-semibold ${P(S,"text","primary")}`,children:"Importing Clients"}),c.jsx("button",{onClick:de,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:c.jsx(dr,{className:"h-6 w-6 text-red-500"})})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex justify-between text-xs mb-2",children:[c.jsxs("span",{className:P(S,"text","secondary"),children:["Progress: ",F," of ",H," clients"]}),c.jsxs("span",{className:P(S,"text","secondary"),children:[Math.round(F/H*100),"%"]})]}),c.jsx("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${F/H*100}%`}})})]}),c.jsx("div",{className:"mb-6",children:c.jsx("div",{className:"grid grid-cols-2 gap-4",children:c.jsxs("div",{className:`p-4 rounded-lg ${P(S,"background","secondary")}`,children:[c.jsx("div",{className:`text-xs font-medium ${P(S,"text","secondary")}`,children:"Failed Imports"}),c.jsx("div",{className:`text-sm font-semibold ${P(S,"text","primary")}`,children:d.length})]})})}),d.length>0&&c.jsxs("div",{className:"mt-6",children:[c.jsxs("h4",{className:`text-xs font-medium mb-3 ${P(S,"text","secondary")}`,children:["Failed Imports (",d.length,")"]}),c.jsx("div",{className:"overflow-y-auto max-h-[40vh]",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[c.jsx("thead",{className:"sticky top-0 bg-inherit",children:c.jsxs("tr",{children:[c.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${P(S,"text","tertiary")} uppercase tracking-wider`,children:"Row"}),c.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${P(S,"text","tertiary")} uppercase tracking-wider`,children:"Client Name"}),c.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium ${P(S,"text","tertiary")} uppercase tracking-wider`,children:"Error"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:d.map((Oe,Fe)=>c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[c.jsx("td",{className:`px-4 py-2 whitespace-nowrap text-xs ${P(S,"text","primary")}`,children:Oe.rowIndex+1}),c.jsx("td",{className:`px-4 py-2 text-xs ${P(S,"text","primary")}`,children:Oe.clientData.name||"(No name)"}),c.jsx("td",{className:`px-4 py-2 text-xs ${P(S,"text","primary")}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(ad,{className:"h-4 w-4 text-red-500 mr-2"}),Oe.error]})})]},Fe))})]})})]})]})})})]})})}const XXe=({isOpen:e,totalOrders:t,currentOrder:r,currentOperation:n,logs:a,onClose:i})=>{const{theme:s,getThemeStyle:o}=Yt(),l=r/t*100;return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:`w-full max-w-2xl max-h-[80vh] rounded-lg shadow-xl ${o(s,"background","primary")} p-6`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:`text-lg font-semibold ${o(s,"text","primary")}`,children:"Importing Orders"}),c.jsx("button",{onClick:i,className:`p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 ${o(s,"text","primary")}`,children:c.jsx(dr,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsxs("span",{className:o(s,"text","secondary"),children:["Progress: ",r," of ",t," orders"]}),c.jsxs("span",{className:o(s,"text","secondary"),children:[Math.round(l),"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:c.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${l}%`}})})]}),c.jsx("div",{className:`mb-4 p-3 rounded-lg ${o(s,"background","secondary")}`,children:c.jsx("p",{className:`text-sm font-medium ${o(s,"text","primary")}`,children:n})}),c.jsx("div",{className:`h-64 overflow-y-auto rounded-lg ${o(s,"background","secondary")} p-4`,children:a.map((u,d)=>c.jsx("p",{className:`text-sm mb-1 ${u.toLowerCase().includes("error")?"text-red-500":o(s,"text","secondary")}`,children:u},d))})]})}):null},n9=e=>e.split("GH₵").filter(r=>r.trim()).map(r=>r.trim()).map(r=>{const n=r.split("-").map(u=>u.trim()),a=n[0].trim(),i=n[1].match(/(\d+)\s*pcs/),s=i?parseInt(i[1]):0,o=n[2].match(/([\d,]+)/),l=o?parseFloat(o[1].replace(/,/g,"")):0;return{name:a,quantity:s,price:l}}),c2=[{value:"order_created_at",label:"Order Created At",match:"Created at"},{value:"order_number",label:"Order Number",match:"Order #"},{value:"status",label:"Status",match:"Status"},{value:"client_name",label:"Client Name",match:"Client name"},{value:"client_phone",label:"Client Phone",match:"Client phone number"},{value:"client_email",label:"Client Email",match:"Email"},{value:"client_address",label:"Client Address",match:"Address"},{value:"due_date",label:"Due Date",match:"Due date"},{value:"service",label:"Service",match:"Services/Labors"},{value:"product",label:"Product",match:"Products"},{value:"description",label:"Description",match:"Order description"},{value:"assigned_top_worker",label:"Assigned Top Tailor",match:"Assigned Top Tailor"},{value:"assigned_bottom_worker",label:"Assigned Down Tailor",match:"Assigned Down Tailor"},{value:"client_top_measurment",label:"Client Top Measurment",match:"Top Measurements"},{value:"client_bottom_measurment",label:"Client Bottom Measurment",match:"Down Measurements"}];function QXe(){const[e,t]=L.useState(null),[r,n]=L.useState(null),[a,i]=L.useState([]),[s,o]=L.useState(1),[l,u]=L.useState([]),[d,f]=L.useState([]),[h,p]=L.useState([]),[m,g]=L.useState([]),v=new Map,x=50,{organization:y}=ir(),{theme:b,getThemeStyle:N}=Yt(),[_,C]=L.useState(!1),[k,w]=L.useState({totalOrders:0,currentOrder:0,currentOperation:"",logs:[]});L.useEffect(()=>{const ee=async()=>{let O=[],de=0;const ce=1e3;let pe=!1;for(;!pe;){const{data:Q,error:ne}=await We.from("clients").select("id, name, phone").eq("organization_id",y==null?void 0:y.id).range(de,de+ce-1);if(ne){console.error("Error fetching clients:",ne);return}Q&&(O=O.concat(Q),Q.length<ce?pe=!0:de+=ce)}console.log(`Loaded ${O.length} clients`),u(O)},W=async()=>{let O=[],de=0;const ce=1e3;let pe=!1;for(;!pe;){const{data:Q,error:ne}=await We.from("services").select("id, name, cost").eq("organization_id",y==null?void 0:y.id).range(de,de+ce-1);if(ne){console.error("Error fetching services:",ne);return}Q&&(O=O.concat(Q),Q.length<ce?pe=!0:de+=ce)}console.log(`Loaded ${O.length} services`),f(O)},Z=async()=>{let O=[],de=0;const ce=1e3;let pe=!1;for(;!pe;){const{data:Q,error:ne}=await We.from("workers").select("id, name").eq("organization_id",y==null?void 0:y.id).range(de,de+ce-1);if(ne){console.error("Error fetching workers:",ne);return}Q&&(O=O.concat(Q),Q.length<ce?pe=!0:de+=ce)}console.log(`Loaded ${O.length} workers`),p(O)},re=async()=>{let O=[],de=0;const ce=1e3;let pe=!1;for(;!pe;){const{data:Q,error:ne}=await We.from("worker_projects").select("id, worker_id, name").eq("organization_id",y==null?void 0:y.id).eq("name","base").range(de,de+ce-1);if(ne){console.error("Error fetching worker projects:",ne);return}Q&&(O=O.concat(Q),Q.length<ce?pe=!0:de+=ce)}console.log(`Loaded ${O.length} worker projects`),g(O)};y!=null&&y.id&&(ee(),W(),Z(),re())},[y==null?void 0:y.id]);const S=ee=>{w(W=>({...W,logs:[...W.logs,ee]}))},P=(ee,W)=>{w(Z=>({...Z,currentOrder:ee,currentOperation:W}))},A=L.useCallback(ee=>{const W=ee[0];W&&(t(W),W.name.endsWith(".csv")?H(W):(W.name.endsWith(".xls")||W.name.endsWith(".xlsx"))&&z(W))},[]),{getRootProps:T,getInputProps:F,isDragActive:M}=f1({onDrop:A,accept:{"text/csv":[".csv"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},maxFiles:1}),H=ee=>{j4.parse(ee,{header:!0,complete:W=>{const Z={},re=Object.keys(W.data[0]||{}).map(O=>{const de=(Z[O]||0)+1;Z[O]=de;const ce=de>1?`${O}_${de}`:O,pe=c2.find(Q=>Q.match.toLowerCase()===O.toLowerCase());return{name:ce,mappedTo:(pe==null?void 0:pe.value)||""}});n({headers:re,previewData:W.data})},error:W=>{console.error("Error parsing CSV:",W)}})},z=ee=>{const W=new FileReader;W.onload=Z=>{var re;try{const O=(re=Z.target)==null?void 0:re.result,de=kp(O,{type:"array"}),ce=de.SheetNames[0],pe=de.Sheets[ce],Q=N5.sheet_to_json(pe,{header:1});if(Q.length<2)throw new Error("Excel file must contain at least one row of data");const ne={},Ae=Q[0].map(De=>{const Oe=(ne[De]||0)+1;ne[De]=Oe;const Fe=Oe>1?`${De}_${Oe}`:De,ve=c2.find(me=>me.match.toLowerCase()===De.toLowerCase());return{name:Fe,mappedTo:(ve==null?void 0:ve.value)||""}}),Ee=Q.slice(1).map(De=>{const Oe={};return Ae.forEach((Fe,ve)=>{var me;Oe[Fe.name]=((me=De[ve])==null?void 0:me.toString())||""}),Oe});n({headers:Ae,previewData:Ee})}catch(O){console.error("Error parsing Excel file:",O)}},W.readAsArrayBuffer(ee)},Y=(ee,W)=>{if(!r)return;const Z=r.headers.map(re=>re.name===ee?{...re,mappedTo:W}:re);n({...r,headers:Z})},G=()=>r?r.previewData.map(ee=>{const W={order_number:null,client_name:null,client_phone:null,description:null,due_date:null,status:null,total_amount:null,payment_status:null,created_at:null};return r.headers.forEach(Z=>{if(Z.mappedTo){const re=ee[Z.name];W[Z.mappedTo]=re}}),W}):[],I=ee=>{if(!r)return c2;const W=r.headers.filter(Z=>Z.name!==ee&&Z.mappedTo).map(Z=>Z.mappedTo);return c2.filter(Z=>{var re;return!W.includes(Z.value)||((re=r.headers.find(O=>O.name===ee))==null?void 0:re.mappedTo)===Z.value})},X=ee=>{i(ee?(r==null?void 0:r.previewData.map((W,Z)=>Z))||[]:[])},J=(ee,W)=>{i(W?[...a,ee]:a.filter(Z=>Z!==ee))},E=()=>{if(!r)return;const ee=r.previewData.filter((Z,re)=>!a.includes(re)),W=r.headers;n({headers:W,previewData:ee}),i([])},R=()=>{if(!r)return[];const ee=(s-1)*x,W=ee+x;return r.previewData.slice(ee,W)},B=r?Math.ceil(r.previewData.length/x):0,q=ee=>{if(!ee)return"(empty)";if(typeof ee=="string"&&/^\d+\.\d+$/.test(ee)||typeof ee=="number"){const W=typeof ee=="string"?parseFloat(ee):ee,Z=new Date(1900,0,1),re=24*60*60*1e3;return new Date(Z.getTime()+(W-2)*re).toISOString().replace("T"," ").substring(0,16)}return ee.toString()},K=()=>{setTimeout(async()=>{if(!r)return;w({totalOrders:r.previewData.length,currentOrder:0,currentOperation:"Starting import process...",logs:[]}),C(!0);const ee=r.headers.filter(ve=>ve.mappedTo);if(!ee.some(ve=>ve.mappedTo==="order_number")){S("Error: Order Number field is required");return}let W=[...l],Z=[...d],re=[...h],O=[...m];const de=r.previewData.map((ve,me)=>{const le={};return ee.forEach(be=>{const Pe=ve[be.name];be.mappedTo==="due_date"||be.mappedTo==="order_created_at"?le[be.mappedTo]=q(Pe):le[be.mappedTo]=Pe}),le.status&&(le.status.toLowerCase()==="new"?le.status="pending":le.status.toLowerCase()==="done"?le.status="completed":le.status="in_progress"),le.status=le.status||"pending",le.order_type="service_order",le});S(`Processing ${de.length} orders...`),P(0,"Identifying new clients..."),S("Step 1: Identifying clients to create...");const ce=new Map;if(de.forEach(ve=>{var be,Pe;if(!ve.client_name&&!ve.client_phone)return;const me=`${ve.client_name.trim().toLowerCase()}|${ve.client_phone.trim()}`;!W.some(je=>je.name.toLowerCase()===ve.client_name.trim().toLowerCase()&&je.phone===ve.client_phone.trim())&&!ce.has(me)&&ce.set(me,{name:ve.client_name.trim(),phone:ve.client_phone.trim(),topMeasurement:(be=ve.client_top_measurment)==null?void 0:be.trim(),bottomMeasurement:(Pe=ve.client_bottom_measurment)==null?void 0:Pe.trim()})}),S(`Found ${ce.size} new clients to create`),ce.size>0){P(0,"Creating new clients in bulk..."),S("Step 2: Creating new clients in bulk...");const ve=Array.from(ce.values()).map(je=>({organization_id:y==null?void 0:y.id,name:je.name,phone:je.phone,status:"active"})),{data:me,error:le}=await We.from("clients").insert(ve).select();if(le){S(`Error creating clients: ${le.message}`);return}S(`Successfully created ${me.length} clients`);const be=me.map(je=>({id:je.id,name:je.name,phone:je.phone}));S(`New clients: ${JSON.stringify(be)}`),u(je=>[...je,...be]),W=[...W,...be];const Pe=new Map;if(me.forEach(je=>{const Ce=`${je.name.toLowerCase()}|${je.phone}`,Be=ce.get(Ce);Be&&(Be.topMeasurement||Be.bottomMeasurement)&&Pe.set(je.id,{clientId:je.id,topMeasurement:Be.topMeasurement,bottomMeasurement:Be.bottomMeasurement})}),Pe.size>0){P(0,"Adding client measurements..."),S("Step 3: Adding client measurements...");const je=[];for(const[Ce,Be]of Pe.entries())Be.topMeasurement&&je.push({client_id:Ce,title:"Top Measurment",value:Be.topMeasurement,type:"text"}),Be.bottomMeasurement&&je.push({client_id:Ce,title:"Bottom Measurment",value:Be.bottomMeasurement,type:"text"});if(je.length>0){const{error:Ce}=await We.from("client_custom_fields").insert(je);S(Ce?`Warning: Error adding client measurements: ${Ce.message}`:`Added ${je.length} client measurements`)}}}P(0,"Identifying services to create..."),S("Step 4: Identifying services to create...");const pe=new Map;for(const ve of de)if(ve.service){const me=n9(ve.service);for(const le of me){const be=`${le.name}|${le.price}`;!Z.some(je=>je.name.toLowerCase()===le.name.toLowerCase()&&parseFloat(je.cost.toString())===le.price)&&!pe.has(be)&&pe.set(be,{name:le.name,cost:le.price})}}if(S(`Found ${pe.size} new services to create`),pe.size>0){P(0,"Creating services in bulk..."),S("Step 5: Creating services in bulk...");const ve=Array.from(pe.values()).map(be=>({organization_id:y==null?void 0:y.id,name:be.name,cost:be.cost})),{data:me,error:le}=await We.from("services").upsert(ve,{onConflict:"name,cost"}).select();if(le)S(`Error creating services: ${le.message}`);else{S(`Successfully created ${me.length} services`);const be=me.map(Pe=>({id:Pe.id,name:Pe.name,cost:Pe.cost}));S(`New services: ${JSON.stringify(be)}`),f(Pe=>[...Pe,...be]),Z=[...Z,...be]}}P(0,"Identifying workers to create..."),S("Step 6: Identifying workers to create...");const Q=new Map;for(const ve of de){if(ve.assigned_top_worker){const me=ve.assigned_top_worker.trim();!re.some(be=>be.name.toLowerCase()===me.toLowerCase())&&!Q.has(me)&&Q.set(me,{name:me})}if(ve.assigned_bottom_worker){const me=ve.assigned_bottom_worker.trim();!re.some(be=>be.name.toLowerCase()===me.toLowerCase())&&!Q.has(me)&&Q.set(me,{name:me})}}S(`Found ${Q.size} new workers to create`);let ne=new Map;if(Q.size>0){P(0,"Creating workers in bulk..."),S("Step 7: Creating workers in bulk...");const ve=Array.from(Q.values()).map(be=>({organization_id:y==null?void 0:y.id,name:be.name,status:"active"})),{data:me,error:le}=await We.from("workers").insert(ve).select();if(le)S(`Error creating workers: ${le.message}`);else{S(`Successfully created ${me.length} workers`);const be=me.map(je=>({id:je.id,name:je.name}));S(`New workers: ${JSON.stringify(be)}`),p(je=>[...je,...be]),re=[...re,...be],me.forEach(je=>{ne.set(je.name,je.id)}),P(0,"Creating worker projects..."),S("Step 8: Creating worker projects in bulk...");const Pe=me.map(je=>({organization_id:y==null?void 0:y.id,worker_id:je.id,name:"base",description:"Base project for worker",price:0,status:"active"}));if(Pe.length>0){const{data:je,error:Ce}=await We.from("worker_projects").insert(Pe).select();if(Ce)S(`Error creating worker projects: ${Ce.message}`);else{S(`Successfully created ${je.length} worker projects`);const Be=je.map($e=>({id:$e.id,worker_id:$e.worker_id,name:$e.name}));g($e=>[...$e,...Be]),O=[...O,...Be]}}}}S("Step 9: Preparing order data...");let Ae=Date.now();const Ee=(ve,me)=>{const le=Date.now();le-Ae>200&&(P(ve,me),Ae=le)},De=[];for(let ve=0;ve<de.length;ve++){const me=de[ve];Ee(ve+1,`Preparing order: ${me.order_number||"No order number"}`),S(`
Preparing order: ${ve+1} of ${de.length}`);const le=W.find(Ce=>{var Be,$e;return Ce.name.toLowerCase()===((Be=me.client_name)==null?void 0:Be.trim().toLowerCase())&&Ce.phone===(($e=me.client_phone)==null?void 0:$e.trim())});if(!le){S(`Warning: Client not found for order ${me.order_number}. Client name: "${me.client_name}", phone: "${me.client_phone}"`);continue}me.client_id=le.id;const be=[];if(me.service){const Ce=n9(me.service);for(const Be of Ce){const $e=Z.find(et=>et.name.toLowerCase()===Be.name.toLowerCase()&&parseFloat(et.cost.toString())===Be.price);$e?(be.push({service_id:$e.id,quantity:Be.quantity,cost:Be.price*Be.quantity}),Be.price*Be.quantity===0&&console.log(`Order ${me.order_number} service cost: ${Be.price*Be.quantity}`)):S(`Warning: Service not found for "${Be.name}" with cost ${Be.price}`)}}const Pe=[];if(me.assigned_top_worker)try{await ae(me.assigned_top_worker.trim(),Pe,ne,re,O)}catch(Ce){S(`Error processing top worker: ${Ce instanceof Error?Ce.message:"Unknown error"}`)}if(me.assigned_bottom_worker)try{await ae(me.assigned_bottom_worker.trim(),Pe,ne,re,O)}catch(Ce){S(`Error processing bottom worker: ${Ce instanceof Error?Ce.message:"Unknown error"}`)}const je=be.reduce((Ce,Be)=>Ce+Be.cost,0);De.push({order:{organization_id:y==null?void 0:y.id,order_number:me.order_number,client_id:me.client_id,description:me.description||null,due_date:me.due_date||null,status:me.status,total_amount:je,outstanding_balance:je,payment_status:"unpaid",created_at:me.order_created_at||new Date().toISOString()},services:be,workers:Pe})}S(`Prepared ${De.length} orders for bulk creation`),S("Step 10: Creating orders in batches...");const Oe=[],Fe=20;for(let ve=0;ve<De.length;ve+=Fe){const me=De.slice(ve,ve+Fe);P(ve+1,`Creating orders batch ${Math.floor(ve/Fe)+1} of ${Math.ceil(De.length/Fe)}`);const le=me.map(be=>be.order);try{S(`Creating batch of ${le.length} orders...`);const{data:be,error:Pe}=await We.from("orders").insert(le).select();if(Pe){S(`Error creating order batch: ${Pe.message}`);continue}if(!be||be.length===0){S("No orders were created in this batch");continue}S(`Successfully created ${be.length} orders`);for(const je of be){const Ce=me.find(Be=>Be.order.order_number===je.order_number);Ce&&Oe.push({id:je.id,order_number:je.order_number,services:Ce.services,workers:Ce.workers,description:Ce.order.description,created_at:Ce.order.order_created_at})}}catch(be){S(`Error in batch creation: ${be instanceof Error?be.message:"Unknown error"}`)}}if(S(`Successfully created ${Oe.length} orders out of ${De.length} prepared`),Oe.some(ve=>ve.services.length>0)){S("Step 11: Creating order services in batches...");const ve=Oe.flatMap(me=>me.services.map(le=>({order_id:me.id,service_id:le.service_id,quantity:le.quantity,cost:le.cost})));if(ve.length>0)for(let le=0;le<ve.length;le+=50){const be=ve.slice(le,le+50);try{S(`Creating batch of ${be.length} order services...`);const{error:Pe}=await We.from("order_services").insert(be);S(Pe?`Error creating order services batch: ${Pe.message}`:`Successfully created ${be.length} order services`)}catch(Pe){S(`Error in service batch creation: ${Pe instanceof Error?Pe.message:"Unknown error"}`)}}}if(Oe.some(ve=>ve.workers.length>0)){S("Step 12: Creating order workers in batches...");const ve=Oe.flatMap(me=>{const le=new Set;return me.workers.filter(be=>{const Pe=`${be.worker_id}-${be.project_id}`;return le.has(Pe)?(S(`Skipping duplicate worker assignment for order ${me.order_number}: worker ${be.worker_id}, project ${be.project_id}`),!1):(le.add(Pe),!0)}).map(be=>({order_id:me.id,worker_id:be.worker_id,project_id:be.project_id,status:"assigned"}))});if(ve.length>0)for(let le=0;le<ve.length;le+=50){const be=ve.slice(le,le+50);try{S(`Creating batch of ${be.length} order workers...`);const{error:Pe}=await We.from("order_workers").insert(be);S(Pe?`Error creating order workers batch: ${Pe.message}`:`Successfully created ${be.length} order workers`)}catch(Pe){S(`Error in worker batch creation: ${Pe instanceof Error?Pe.message:"Unknown error"}`)}}}S(`
Import process completed`),P(de.length,`Import completed. Created ${Oe.length} orders.`)},0)};async function ae(ee,W,Z,re,O){if(v.has(ee)){const Ae=v.get(ee);W.push({worker_id:Ae.workerId,project_id:Ae.projectId});return}if(Z.has(ee)){const Ae=Z.get(ee),Ee=O.find(De=>De.worker_id===Ae&&De.name==="base");if(Ee){W.push({worker_id:Ae,project_id:Ee.id}),v.set(ee,{workerId:Ae,projectId:Ee.id});return}}const de=re.find(Ae=>Ae.name.toLowerCase()===ee.toLowerCase());if(de){const Ae=O.find(Ee=>Ee.worker_id===de.id&&Ee.name==="base");if(Ae){W.push({worker_id:de.id,project_id:Ae.id}),v.set(ee,{workerId:de.id,projectId:Ae.id});return}else{const{data:Ee,error:De}=await We.from("worker_projects").insert([{organization_id:y==null?void 0:y.id,worker_id:de.id,name:"base",description:"Base project for worker",price:0,status:"active"}]).select().single();if(De)throw new Error(`Error creating base project: ${De.message}`);W.push({worker_id:de.id,project_id:Ee.id}),g(Oe=>[...Oe,{id:Ee.id,worker_id:de.id,name:"base"}]),O.push({id:Ee.id,worker_id:de.id,name:"base"}),v.set(ee,{workerId:de.id,projectId:Ee.id});return}}const{data:ce,error:pe}=await We.from("workers").insert([{organization_id:y==null?void 0:y.id,name:ee}]).select().single();if(pe)throw new Error(`Error creating fallback worker: ${pe.message}`);const{data:Q,error:ne}=await We.from("worker_projects").insert([{organization_id:y==null?void 0:y.id,worker_id:ce.id,name:"base",description:"Base project for worker",price:0,status:"active"}]).select().single();if(ne)throw new Error(`Error creating fallback project: ${ne.message}`);W.push({worker_id:ce.id,project_id:Q.id}),p(Ae=>[...Ae,{id:ce.id,name:ee}]),re.push({id:ce.id,name:ee}),g(Ae=>[...Ae,{id:Q.id,worker_id:ce.id,name:"base"}]),O.push({id:Q.id,worker_id:ce.id,name:"base"}),v.set(ee,{workerId:ce.id,projectId:Q.id})}return c.jsxs("div",{className:`min-h-screen p-6 ${N(b,"background","primary")}`,children:[c.jsx(XXe,{isOpen:_,totalOrders:k.totalOrders,currentOrder:k.currentOrder,currentOperation:k.currentOperation,logs:k.logs,onClose:()=>C(!1)}),c.jsxs("div",{className:"",children:[c.jsxs("div",{className:"flex items-center mb-8",children:[c.jsx(Xo,{className:`h-8 w-8 mr-3 ${N(b,"text","accent")}`}),c.jsx("h1",{className:`text-2xl font-bold ${N(b,"text","primary")}`,children:"Import Orders"})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[c.jsxs("div",{className:"space-y-6 w-full lg:w-[350px] flex-shrink-0",children:[c.jsxs("div",{...T(),className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all duration-200
                ${M?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":N(b,"border","primary")}
                ${N(b,"background","secondary")}
                hover:border-blue-500 hover:bg-blue-50/50 dark:hover:bg-blue-900/10`,children:[c.jsx("input",{...F()}),e?c.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-white dark:bg-gray-800 shadow-sm",children:[c.jsx(uh,{className:"h-6 w-6 text-blue-500"}),c.jsx("span",{className:`text-sm font-medium ${N(b,"text","primary")}`,children:e.name}),c.jsx("button",{onClick:ee=>{ee.stopPropagation(),t(null),n(null)},className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:c.jsx(dr,{className:"h-4 w-4 text-gray-500"})})]}),c.jsx("p",{className:`text-xs ${N(b,"text","muted")}`,children:"Drop another file to replace"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"p-4 rounded-full bg-blue-50 dark:bg-blue-900/20",children:c.jsx(Xo,{className:"h-8 w-8 text-blue-500"})})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${N(b,"text","primary")}`,children:M?"Drop your file here":"Upload your CSV or Excel file"}),c.jsx("p",{className:`mt-1 text-xs ${N(b,"text","muted")}`,children:"Drag and drop your file here, or click to browse"})]})]})]}),r&&c.jsxs("div",{className:`p-6 rounded-xl ${N(b,"background","secondary")} shadow-sm`,children:[c.jsx("h3",{className:`text-sm font-medium mb-4 ${N(b,"text","primary")}`,children:"Map File Headers"}),c.jsx("div",{className:"space-y-4",children:r.headers.map(ee=>c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:`block text-xs font-medium ${N(b,"text","secondary")}`,children:ee.name}),c.jsxs("select",{value:ee.mappedTo,onChange:W=>Y(ee.name,W.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${N(b,"border","primary")} 
                          ${N(b,"background","primary")} 
                          ${N(b,"text","primary")}
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                          transition-colors duration-200`,children:[c.jsx("option",{value:"",children:"Select column"}),I(ee.name).map(W=>c.jsx("option",{value:W.value,children:W.label},W.value))]})]},ee.name))}),c.jsx("button",{onClick:K,className:`mt-6 w-full py-3 px-4 rounded-lg font-medium text-xs text-white bg-blue-600 hover:bg-blue-700 
                    focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 
                    transition-colors duration-200`,children:"Generate Orders"})]})]}),r&&c.jsx("div",{className:"flex-1 overflow-x-auto",children:c.jsxs("div",{className:`p-6 rounded-xl ${N(b,"background","secondary")} shadow-sm`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:`text-sm font-medium ${N(b,"text","primary")}`,children:["Preview Data | ",r.previewData.length," row",r.previewData.length>1?"s":""," of orders"]}),a.length>0&&c.jsxs("button",{onClick:E,className:`px-4 py-2 rounded-lg text-xs font-medium text-white bg-red-600 hover:bg-red-700 
                        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 
                        transition-colors duration-200`,children:["Remove Selected (",a.length,")"]})]}),c.jsx(zc,{currentPage:s,totalPages:B,onPageChange:o,className:"mb-4"}),c.jsx("div",{className:"lg:hidden space-y-4",children:R().map((ee,W)=>{const Z=(s-1)*x+W,re=G()[Z];return c.jsxs("div",{className:`p-4 rounded-lg ${N(b,"background","primary")} shadow-sm`,children:[c.jsx("div",{className:"flex items-center mb-3",children:c.jsx("input",{type:"checkbox",checked:a.includes(Z),onChange:O=>J(Z,O.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),c.jsx("div",{className:"space-y-3",children:Object.entries(re).map(([O,de])=>c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:`text-xs font-medium ${N(b,"text","secondary")}`,children:O.charAt(0).toUpperCase()+O.slice(1).replace(/_/g," ")}),c.jsx("span",{className:`text-xs ${N(b,"text","primary")}`,children:de===null||de===""||!de?c.jsx("span",{className:"text-gray-400",children:"(empty)"}):q(de)})]},O))})]},Z)})}),c.jsx("div",{className:"hidden lg:block overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium",children:c.jsx("input",{type:"checkbox",checked:a.length===r.previewData.length,onChange:ee=>X(ee.target.checked),className:`h-4 w-4 text-blue-600 focus:ring-blue-500 ${N(b,"background","primary")} border-gray-300 rounded`})}),c.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${N(b,"text","tertiary")} uppercase tracking-wider sticky left-0 bg-inherit`,children:"Order"}),Object.keys(G()[0]||{}).map(ee=>c.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${N(b,"text","tertiary")} uppercase tracking-wider`,children:ee.charAt(0).toUpperCase()+ee.slice(1).replace(/_/g," ")},ee))]})}),c.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:R().map((ee,W)=>{const Z=(s-1)*x+W,re=G()[Z];return c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors duration-150",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("input",{type:"checkbox",checked:a.includes(Z),onChange:O=>J(Z,O.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),c.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-xs font-medium ${N(b,"text","primary")} sticky left-0 bg-inherit`,children:Z+1}),Object.entries(re).map(([O,de])=>c.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-xs ${N(b,"text","primary")}`,children:de===null||de===""||!de?c.jsx("span",{className:"text-gray-400",children:"(empty)"}):q(de)},O))]},Z)})})]})}),c.jsx(zc,{currentPage:s,totalPages:B,onPageChange:o,className:"mt-4"})]})})]})]})]})}const JXe=({isOpen:e,totalPayments:t,currentPayment:r,currentOperation:n,logs:a,onClose:i})=>{const{theme:s,getThemeStyle:o}=Yt(),l=r/t*100;return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:`w-full max-w-2xl max-h-[80vh] rounded-lg shadow-xl ${o(s,"background","primary")} p-6`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:`text-lg font-semibold ${o(s,"text","primary")}`,children:"Importing Payments"}),c.jsx("button",{onClick:i,className:`p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 ${o(s,"text","primary")}`,children:c.jsx(dr,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsxs("span",{className:o(s,"text","secondary"),children:["Progress: ",r," of ",t," payments"]}),c.jsxs("span",{className:o(s,"text","secondary"),children:[Math.round(l),"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:c.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${l}%`}})})]}),c.jsx("div",{className:`mb-4 p-3 rounded-lg ${o(s,"background","secondary")}`,children:c.jsx("p",{className:`text-sm font-medium ${o(s,"text","primary")}`,children:n})}),c.jsx("div",{className:`h-64 overflow-y-auto rounded-lg ${o(s,"background","secondary")} p-4`,children:a.map((u,d)=>c.jsx("p",{className:`text-sm mb-1 ${u.toLowerCase().includes("error")?"text-red-500":o(s,"text","secondary")}`,children:u},d))})]})}):null};function ZXe(){const[e,t]=L.useState(null),[r,n]=L.useState(null),[a,i]=L.useState([]),[s,o]=L.useState(1),[l,u]=L.useState("cash"),[d,f]=L.useState([]),h=50,{organization:p}=ir(),{theme:m,getThemeStyle:g}=Yt();we.useEffect(()=>{(async()=>{if(p!=null&&p.id)try{const{data:q,error:K}=await We.from("orders").select("*").eq("organization_id",p.id);if(K){console.error("Error fetching orders:",K);return}q&&f(q)}catch(q){console.error("Error in fetchOrders:",q)}})()},[p==null?void 0:p.id]),p!=null&&p.currency;const v=()=>[{value:"created_at",label:"Created At",match:"Date and time"},{value:"transaction_reference",label:"Transaction Reference",match:"Client"},{value:"order_number",label:"Order Number",match:"Comment"},{value:"amount",label:"Amount",match:"Amount, GH₵"}],[x,y]=L.useState(!1),[b,N]=L.useState({totalPayments:0,currentPayment:0,currentOperation:"",logs:[]}),_=B=>{if(!B)return null;const q=B.match(/[A-Z]+-ORD-\d+/);return q?q[0]:null},C=B=>{N(q=>({...q,logs:[...q.logs,B]}))},k=(B,q)=>{N(K=>({...K,currentPayment:B,currentOperation:q}))},w=L.useCallback(B=>{const q=B[0];q&&(t(q),q.name.endsWith(".csv")?T(q):(q.name.endsWith(".xls")||q.name.endsWith(".xlsx"))&&F(q))},[]),{getRootProps:S,getInputProps:P,isDragActive:A}=f1({onDrop:w,accept:{"text/csv":[".csv"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},maxFiles:1}),T=B=>{j4.parse(B,{header:!0,complete:q=>{const K={},ae=Object.keys(q.data[0]||{}).map(W=>{const Z=(K[W]||0)+1;K[W]=Z;const re=Z>1?`${W}_${Z}`:W,O=v().find(de=>de.match.toLowerCase()===W.toLowerCase());return{name:re,mappedTo:(O==null?void 0:O.value)||""}}),ee=q.data.filter(W=>{const Z=ae.find(O=>O.mappedTo==="order_number");if(!Z)return!1;const re=_(W[Z.name]);return re||C(`Skipping row: No valid order number found in "${W[Z.name]}"`),re!==null});n({headers:ae,previewData:ee})},error:q=>{console.error("Error parsing CSV:",q)}})},F=B=>{const q=new FileReader;q.onload=K=>{var ae;try{const ee=(ae=K.target)==null?void 0:ae.result,W=kp(ee,{type:"array"}),Z=W.SheetNames[0],re=W.Sheets[Z],O=N5.sheet_to_json(re,{header:1});if(O.length<2)throw new Error("Excel file must contain at least one row of data");const de={},ce=O[0].map(Q=>{const ne=(de[Q]||0)+1;de[Q]=ne;const Ae=ne>1?`${Q}_${ne}`:Q,Ee=v().find(De=>De.match.toLowerCase()===Q.toLowerCase());return{name:Ae,mappedTo:(Ee==null?void 0:Ee.value)||""}}),pe=O.slice(1).map(Q=>{const ne={};return ce.forEach((Ae,Ee)=>{var De;ne[Ae.name]=((De=Q[Ee])==null?void 0:De.toString())||""}),ne}).filter(Q=>{const ne=ce.find(Ee=>Ee.mappedTo==="order_number");if(!ne)return!1;const Ae=_(Q[ne.name]);return Ae||C(`Skipping row: No valid order number found in "${Q[ne.name]}"`),Ae!==null});n({headers:ce,previewData:pe})}catch(ee){console.error("Error parsing Excel file:",ee)}},q.readAsArrayBuffer(B)},M=(B,q)=>{if(!r)return;const K=r.headers.map(ae=>ae.name===B?{...ae,mappedTo:q}:ae);n({...r,headers:K})},H=()=>r?r.previewData.map(B=>{const q={created_at:null,transaction_reference:null,order_number:null,amount:null};return r.headers.forEach(K=>{if(K.mappedTo){const ae=B[K.name];if(K.mappedTo==="order_number"){const ee=_(ae);q[K.mappedTo]=ee||ae}else q[K.mappedTo]=ae}}),q}):[],z=B=>{if(!r)return v();const q=r.headers.filter(K=>K.name!==B&&K.mappedTo).map(K=>K.mappedTo);return v().filter(K=>{var ae;return!q.includes(K.value)||((ae=r.headers.find(ee=>ee.name===B))==null?void 0:ae.mappedTo)===K.value})},Y=B=>{i(B?(r==null?void 0:r.previewData.map((q,K)=>K))||[]:[])},G=(B,q)=>{i(q?[...a,B]:a.filter(K=>K!==B))},I=()=>{if(!r)return;const B=r.previewData.filter((K,ae)=>!a.includes(ae)),q=r.headers;n({headers:q,previewData:B}),i([])},X=()=>{if(!r)return[];const B=(s-1)*h,q=B+h;return r.previewData.slice(B,q)},J=r?Math.ceil(r.previewData.length/h):0,E=B=>{if(!B)return"(empty)";if(typeof B=="string"&&/^\d+\.\d+$/.test(B)||typeof B=="number"){const q=typeof B=="string"?parseFloat(B):B,K=new Date(1900,0,1),ae=24*60*60*1e3;return new Date(K.getTime()+(q-2)*ae).toISOString().replace("T"," ").substring(0,16)}return B.toString()},R=()=>{setTimeout(async()=>{if(!r)return;N({totalPayments:r.previewData.length,currentPayment:0,currentOperation:"Starting import process...",logs:[]}),y(!0);const B=r.headers.filter(Z=>Z.mappedTo);if(!B.some(Z=>Z.mappedTo==="amount")){C("Error: Amount field is required");return}const K=r.previewData.map((Z,re)=>{const O={};return B.forEach(de=>{const ce=Z[de.name];if(de.mappedTo==="created_at")O[de.mappedTo]=E(ce);else if(de.mappedTo==="amount"){const pe=ce.replace(/[^0-9.-]+/g,"");O[de.mappedTo]=parseFloat(pe)}else if(de.mappedTo==="order_number"){const pe=_(ce);if(pe)O[de.mappedTo]=pe,C(`Extracted order number ${pe} from comment: ${ce}`);else{C(`Warning: Could not extract order number from comment: ${ce}`);return}}else O[de.mappedTo]=ce}),O}).map((Z,re)=>{const O=Z.order_number,de=d.find(ce=>ce.order_number.toLowerCase()===(O==null?void 0:O.toLowerCase()));return de?{reference_id:de.id,reference_type:"service_order",organization_id:p==null?void 0:p.id,transaction_reference:Z.transaction_reference,amount:Z.amount,currency:(p==null?void 0:p.currency)||"GHS",payment_method:l,created_at:Z.created_at,status:"active",order:de}:(C(`Warning: No matching order found for order number: ${O}`),null)}).filter(Z=>Z!==null);C(`Processing ${K.length} valid payments...`);const ae=20;let ee=0;const W=new Map;K.forEach(Z=>{W.has(Z.order.id)||W.set(Z.order.id,Z.order.outstanding_balance)});for(let Z=0;Z<K.length;Z+=ae){const re=K.slice(Z,Z+ae);k(Z+1,`Creating payments batch ${Math.floor(Z/ae)+1} of ${Math.ceil(K.length/ae)}`);try{C(`Creating batch of ${re.length} payments...`);const{data:O,error:de}=await We.from("payments").insert(re.map(({order:ce,...pe})=>pe)).select();if(de){C(`Error creating payment batch: ${de.message}`);continue}if(O){for(const ce of re)try{const Q=(W.get(ce.order.id)||ce.order.outstanding_balance)-ce.amount;W.set(ce.order.id,Q);const{error:ne}=await We.from("orders").update({outstanding_balance:Q,payment_status:Q<=0?"paid":"partially_paid"}).eq("id",ce.order.id);C(ne?`Error updating order balance for order ${ce.order.order_number}: ${ne.message}`:`Updated balance for order ${ce.order.order_number}: ${Q}`)}catch(pe){C(`Error updating order balance: ${pe instanceof Error?pe.message:"Unknown error"}`)}ee+=O.length,C(`Successfully created ${O.length} payments`)}}catch(O){C(`Error in batch creation: ${O instanceof Error?O.message:"Unknown error"}`)}}C(`
Import process completed`),k(K.length,`Import completed. Created ${ee} payments.`)},0)};return c.jsxs("div",{className:`min-h-screen p-6 ${g(m,"background","primary")}`,children:[c.jsx(JXe,{isOpen:x,totalPayments:b.totalPayments,currentPayment:b.currentPayment,currentOperation:b.currentOperation,logs:b.logs,onClose:()=>y(!1)}),c.jsxs("div",{className:"",children:[c.jsxs("div",{className:"flex items-center mb-8",children:[c.jsx(Xo,{className:`h-8 w-8 mr-3 ${g(m,"text","accent")}`}),c.jsx("h1",{className:`text-2xl font-bold ${g(m,"text","primary")}`,children:"Import Payments"})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[c.jsxs("div",{className:"space-y-6 w-full lg:w-[350px] flex-shrink-0",children:[c.jsxs("div",{...S(),className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all duration-200
                ${A?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":g(m,"border","primary")}
                ${g(m,"background","secondary")}
                hover:border-blue-500 hover:bg-blue-50/50 dark:hover:bg-blue-900/10`,children:[c.jsx("input",{...P()}),e?c.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-white dark:bg-gray-800 shadow-sm",children:[c.jsx(uh,{className:"h-6 w-6 text-blue-500"}),c.jsx("span",{className:`text-sm font-medium ${g(m,"text","primary")}`,children:e.name}),c.jsx("button",{onClick:B=>{B.stopPropagation(),t(null),n(null)},className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:c.jsx(dr,{className:"h-4 w-4 text-gray-500"})})]}),c.jsx("p",{className:`text-xs ${g(m,"text","muted")}`,children:"Drop another file to replace"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"p-4 rounded-full bg-blue-50 dark:bg-blue-900/20",children:c.jsx(Xo,{className:"h-8 w-8 text-blue-500"})})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${g(m,"text","primary")}`,children:A?"Drop your file here":"Upload your CSV or Excel file"}),c.jsx("p",{className:`mt-1 text-xs ${g(m,"text","muted")}`,children:"Drag and drop your file here, or click to browse"})]})]})]}),r&&c.jsxs("div",{className:`p-6 rounded-xl ${g(m,"background","secondary")} shadow-sm`,children:[c.jsx("h3",{className:`text-sm font-medium mb-4 ${g(m,"text","primary")}`,children:"Payment Method"}),c.jsxs("select",{value:l,onChange:B=>u(B.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${g(m,"border","primary")} 
                                    ${g(m,"background","primary")} 
                                    ${g(m,"text","primary")}
                                    focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                                    transition-colors duration-200`,children:[c.jsx("option",{value:"cash",children:"Cash"}),c.jsx("option",{value:"mobile_money",children:"Mobile Money"}),c.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),c.jsx("option",{value:"check",children:"Check"}),c.jsx("option",{value:"card_payment",children:"Card Payment"})]})]}),r&&c.jsxs("div",{className:`p-6 rounded-xl ${g(m,"background","secondary")} shadow-sm`,children:[c.jsx("h3",{className:`text-sm font-medium mb-4 ${g(m,"text","primary")}`,children:"Map File Headers"}),c.jsx("div",{className:"space-y-4",children:r.headers.map(B=>c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:`block text-xs font-medium ${g(m,"text","secondary")}`,children:B.name}),c.jsxs("select",{value:B.mappedTo,onChange:q=>M(B.name,q.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${g(m,"border","primary")} 
                          ${g(m,"background","primary")} 
                          ${g(m,"text","primary")}
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                          transition-colors duration-200`,children:[c.jsx("option",{value:"",children:"Select column"}),z(B.name).map(q=>c.jsx("option",{value:q.value,children:q.label},q.value))]})]},B.name))}),c.jsx("button",{onClick:R,className:`mt-6 w-full py-3 px-4 rounded-lg font-medium text-xs text-white bg-blue-600 hover:bg-blue-700 
                    focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 
                    transition-colors duration-200`,children:"Import Payments"})]})]}),r&&c.jsx("div",{className:"flex-1 overflow-x-auto",children:c.jsxs("div",{className:`p-6 rounded-xl ${g(m,"background","secondary")} shadow-sm`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:`text-sm font-medium ${g(m,"text","primary")}`,children:["Preview Data | ",r.previewData.length," row",r.previewData.length>1?"s":""," of payments"]}),a.length>0&&c.jsxs("button",{onClick:I,className:`px-4 py-2 rounded-lg text-xs font-medium text-white bg-red-600 hover:bg-red-700 
                        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 
                        transition-colors duration-200`,children:["Remove Selected (",a.length,")"]})]}),c.jsx(zc,{currentPage:s,totalPages:J,onPageChange:o,className:"mb-4"}),c.jsx("div",{className:"lg:hidden space-y-4",children:X().map((B,q)=>{const K=(s-1)*h+q,ae=H()[K];return c.jsxs("div",{className:`p-4 rounded-lg ${g(m,"background","primary")} shadow-sm`,children:[c.jsx("div",{className:"flex items-center mb-3",children:c.jsx("input",{type:"checkbox",checked:a.includes(K),onChange:ee=>G(K,ee.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),c.jsx("div",{className:"space-y-3",children:Object.entries(ae).map(([ee,W])=>c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:`text-xs font-medium ${g(m,"text","secondary")}`,children:ee.charAt(0).toUpperCase()+ee.slice(1).replace(/_/g," ")}),c.jsx("span",{className:`text-xs ${g(m,"text","primary")}`,children:W===null||W===""||!W?c.jsx("span",{className:"text-gray-400",children:"(empty)"}):E(W)})]},ee))})]},K)})}),c.jsx("div",{className:"hidden lg:block overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium",children:c.jsx("input",{type:"checkbox",checked:a.length===r.previewData.length,onChange:B=>Y(B.target.checked),className:`h-4 w-4 text-blue-600 focus:ring-blue-500 ${g(m,"background","primary")} border-gray-300 rounded`})}),c.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g(m,"text","tertiary")} uppercase tracking-wider sticky left-0 bg-inherit`,children:"Payment"}),Object.keys(H()[0]||{}).map(B=>c.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g(m,"text","tertiary")} uppercase tracking-wider`,children:B.charAt(0).toUpperCase()+B.slice(1).replace(/_/g," ")},B))]})}),c.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:X().map((B,q)=>{const K=(s-1)*h+q,ae=H()[K];return c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors duration-150",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("input",{type:"checkbox",checked:a.includes(K),onChange:ee=>G(K,ee.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),c.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-xs font-medium ${g(m,"text","primary")} sticky left-0 bg-inherit`,children:K+1}),Object.entries(ae).map(([ee,W])=>c.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-xs ${g(m,"text","primary")}`,children:W===null||W===""||!W?c.jsx("span",{className:"text-gray-400",children:"(empty)"}):E(W)},ee))]},K)})})]})}),c.jsx(zc,{currentPage:s,totalPages:J,onPageChange:o,className:"mt-4"})]})})]})]})]})}const eQe=({isOpen:e,totalOrders:t,currentOrder:r,currentOperation:n,logs:a,onClose:i})=>{const{theme:s,getThemeStyle:o}=Yt(),l=r/t*100;return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:`w-full max-w-2xl max-h-[80vh] rounded-lg shadow-xl ${o(s,"background","primary")} p-6`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:`text-lg font-semibold ${o(s,"text","primary")}`,children:"Updating Orders"}),c.jsx("button",{onClick:i,className:`p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 ${o(s,"text","primary")}`,children:c.jsx(dr,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsxs("span",{className:o(s,"text","secondary"),children:["Progress: ",r," of ",t," orders"]}),c.jsxs("span",{className:o(s,"text","secondary"),children:[Math.round(l),"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:c.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${l}%`}})})]}),c.jsx("div",{className:`mb-4 p-3 rounded-lg ${o(s,"background","secondary")}`,children:c.jsx("p",{className:`text-sm font-medium ${o(s,"text","primary")}`,children:n})}),c.jsx("div",{className:`h-64 overflow-y-auto rounded-lg ${o(s,"background","secondary")} p-4`,children:a.map((u,d)=>c.jsx("p",{className:`text-sm mb-1 ${u.toLowerCase().includes("error")?"text-red-500":o(s,"text","secondary")}`,children:u},d))})]})}):null},u2=[{value:"order_number",label:"Order Number",match:"Order Number"},{value:"amount",label:"Amount",match:"Amount"}];function tQe(){const[e,t]=L.useState(null),[r,n]=L.useState(null),[a,i]=L.useState([]),[s,o]=L.useState(1),l=50,{organization:u}=ir(),{theme:d,getThemeStyle:f}=Yt(),[h,p]=L.useState(!1),[m,g]=L.useState({totalOrders:0,currentOrder:0,currentOperation:"",logs:[]}),v=G=>{g(I=>({...I,logs:[...I.logs,G]}))},x=(G,I)=>{g(X=>({...X,currentOrder:G,currentOperation:I}))},y=L.useCallback(G=>{const I=G[0];I&&(t(I),I.name.endsWith(".csv")?C(I):(I.name.endsWith(".xls")||I.name.endsWith(".xlsx"))&&k(I))},[]),{getRootProps:b,getInputProps:N,isDragActive:_}=f1({onDrop:y,accept:{"text/csv":[".csv"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},maxFiles:1}),C=G=>{j4.parse(G,{header:!0,complete:I=>{const X={},J=Object.keys(I.data[0]||{}).map(E=>{const R=(X[E]||0)+1;X[E]=R;const B=R>1?`${E}_${R}`:E,q=u2.find(K=>K.match.toLowerCase()===E.toLowerCase());return{name:B,mappedTo:(q==null?void 0:q.value)||""}});n({headers:J,previewData:I.data})},error:I=>{console.error("Error parsing CSV:",I)}})},k=G=>{const I=new FileReader;I.onload=X=>{var J;try{const E=(J=X.target)==null?void 0:J.result,R=kp(E,{type:"array"}),B=R.SheetNames[0],q=R.Sheets[B],K=N5.sheet_to_json(q,{header:1});if(K.length<2)throw new Error("Excel file must contain at least one row of data");const ae={},ee=K[0].map(Z=>{const re=(ae[Z]||0)+1;ae[Z]=re;const O=re>1?`${Z}_${re}`:Z,de=u2.find(ce=>ce.match.toLowerCase()===Z.toLowerCase());return{name:O,mappedTo:(de==null?void 0:de.value)||""}}),W=K.slice(1).map(Z=>{const re={};return ee.forEach((O,de)=>{var ce;re[O.name]=((ce=Z[de])==null?void 0:ce.toString())||""}),re});n({headers:ee,previewData:W})}catch(E){console.error("Error parsing Excel file:",E)}},I.readAsArrayBuffer(G)},w=(G,I)=>{if(!r)return;const X=r.headers.map(J=>J.name===G?{...J,mappedTo:I}:J);n({...r,headers:X})},S=()=>r?r.previewData.map(G=>{const I={order_number:null,amount:null};return r.headers.forEach(X=>{if(X.mappedTo){const J=G[X.name];I[X.mappedTo]=J}}),I}):[],P=G=>{if(!r)return u2;const I=r.headers.filter(X=>X.name!==G&&X.mappedTo).map(X=>X.mappedTo);return u2.filter(X=>{var J;return!I.includes(X.value)||((J=r.headers.find(E=>E.name===G))==null?void 0:J.mappedTo)===X.value})},A=G=>{i(G?(r==null?void 0:r.previewData.map((I,X)=>X))||[]:[])},T=(G,I)=>{i(I?[...a,G]:a.filter(X=>X!==G))},F=()=>{if(!r)return;const G=r.previewData.filter((X,J)=>!a.includes(J)),I=r.headers;n({headers:I,previewData:G}),i([])},M=()=>{if(!r)return[];const G=(s-1)*l,I=G+l;return r.previewData.slice(G,I)},H=r?Math.ceil(r.previewData.length/l):0,z=G=>G?G.toString():"(empty)",Y=()=>{setTimeout(async()=>{if(!r)return;g({totalOrders:r.previewData.length,currentOrder:0,currentOperation:"Starting update process...",logs:[]}),p(!0);const G=r.headers.filter(E=>E.mappedTo);if(!G.some(E=>E.mappedTo==="order_number")||!G.some(E=>E.mappedTo==="amount")){v("Error: Both Order Number and Amount fields are required");return}const I=r.previewData.map((E,R)=>{const B={};return G.forEach(q=>{const K=E[q.name];if(q.mappedTo==="amount"){const ae=K.replace(/[^0-9.-]+/g,"");B[q.mappedTo]=parseFloat(ae)||0}else B[q.mappedTo]=K}),B.organization_id=u==null?void 0:u.id,B});v(`Processing ${I.length} orders...`);const X=100;let J=0;for(let E=0;E<I.length;E+=X){const R=I.slice(E,E+X);x(E+1,`Updating batch ${Math.floor(E/X)+1} of ${Math.ceil(I.length/X)}`);try{const{error:B}=await We.rpc("batch_update_order_amounts",{orders:R});B?v(`Error updating batch: ${B.message}`):J+=R.length}catch(B){v(`Error in batch update: ${B instanceof Error?B.message:"Unknown error"}`)}}v(`
Update process completed. Successfully updated ${J} out of ${I.length} orders.`),x(I.length,`Update completed. Updated ${J} orders.`)},0)};return c.jsxs("div",{className:`min-h-screen p-6 ${f(d,"background","primary")}`,children:[c.jsx(eQe,{isOpen:h,totalOrders:m.totalOrders,currentOrder:m.currentOrder,currentOperation:m.currentOperation,logs:m.logs,onClose:()=>p(!1)}),c.jsxs("div",{className:"",children:[c.jsxs("div",{className:"flex items-center mb-8",children:[c.jsx(Xo,{className:`h-8 w-8 mr-3 ${f(d,"text","accent")}`}),c.jsx("h1",{className:`text-2xl font-bold ${f(d,"text","primary")}`,children:"Update Orders"})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[c.jsxs("div",{className:"space-y-6 w-full lg:w-[350px] flex-shrink-0",children:[c.jsxs("div",{...b(),className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all duration-200
                ${_?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":f(d,"border","primary")}
                ${f(d,"background","secondary")}
                hover:border-blue-500 hover:bg-blue-50/50 dark:hover:bg-blue-900/10`,children:[c.jsx("input",{...N()}),e?c.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-white dark:bg-gray-800 shadow-sm",children:[c.jsx(uh,{className:"h-6 w-6 text-blue-500"}),c.jsx("span",{className:`text-sm font-medium ${f(d,"text","primary")}`,children:e.name}),c.jsx("button",{onClick:G=>{G.stopPropagation(),t(null),n(null)},className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:c.jsx(dr,{className:"h-4 w-4 text-gray-500"})})]}),c.jsx("p",{className:`text-xs ${f(d,"text","muted")}`,children:"Drop another file to replace"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"p-4 rounded-full bg-blue-50 dark:bg-blue-900/20",children:c.jsx(Xo,{className:"h-8 w-8 text-blue-500"})})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${f(d,"text","primary")}`,children:_?"Drop your file here":"Upload your CSV or Excel file"}),c.jsx("p",{className:`mt-1 text-xs ${f(d,"text","muted")}`,children:"Drag and drop your file here, or click to browse"})]})]})]}),r&&c.jsxs("div",{className:`p-6 rounded-xl ${f(d,"background","secondary")} shadow-sm`,children:[c.jsx("h3",{className:`text-sm font-medium mb-4 ${f(d,"text","primary")}`,children:"Map File Headers"}),c.jsx("div",{className:"space-y-4",children:r.headers.map(G=>c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:`block text-xs font-medium ${f(d,"text","secondary")}`,children:G.name}),c.jsxs("select",{value:G.mappedTo,onChange:I=>w(G.name,I.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${f(d,"border","primary")} 
                          ${f(d,"background","primary")} 
                          ${f(d,"text","primary")}
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                          transition-colors duration-200`,children:[c.jsx("option",{value:"",children:"Select column"}),P(G.name).map(I=>c.jsx("option",{value:I.value,children:I.label},I.value))]})]},G.name))}),c.jsx("button",{onClick:Y,className:`mt-6 w-full py-3 px-4 rounded-lg font-medium text-xs text-white bg-blue-600 hover:bg-blue-700 
                    focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 
                    transition-colors duration-200`,children:"Update Orders"})]})]}),r&&c.jsx("div",{className:"flex-1 overflow-x-auto",children:c.jsxs("div",{className:`p-6 rounded-xl ${f(d,"background","secondary")} shadow-sm`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:`text-sm font-medium ${f(d,"text","primary")}`,children:["Preview Data | ",r.previewData.length," row",r.previewData.length>1?"s":""," of orders"]}),a.length>0&&c.jsxs("button",{onClick:F,className:`px-4 py-2 rounded-lg text-xs font-medium text-white bg-red-600 hover:bg-red-700 
                        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 
                        transition-colors duration-200`,children:["Remove Selected (",a.length,")"]})]}),c.jsx(zc,{currentPage:s,totalPages:H,onPageChange:o,className:"mb-4"}),c.jsx("div",{className:"lg:hidden space-y-4",children:M().map((G,I)=>{const X=(s-1)*l+I,J=S()[X];return c.jsxs("div",{className:`p-4 rounded-lg ${f(d,"background","primary")} shadow-sm`,children:[c.jsx("div",{className:"flex items-center mb-3",children:c.jsx("input",{type:"checkbox",checked:a.includes(X),onChange:E=>T(X,E.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),c.jsx("div",{className:"space-y-3",children:Object.entries(J).map(([E,R])=>c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:`text-xs font-medium ${f(d,"text","secondary")}`,children:E.charAt(0).toUpperCase()+E.slice(1).replace(/_/g," ")}),c.jsx("span",{className:`text-xs ${f(d,"text","primary")}`,children:R===null||R===""||!R?c.jsx("span",{className:"text-gray-400",children:"(empty)"}):z(R)})]},E))})]},X)})}),c.jsx("div",{className:"hidden lg:block overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium",children:c.jsx("input",{type:"checkbox",checked:a.length===r.previewData.length,onChange:G=>A(G.target.checked),className:`h-4 w-4 text-blue-600 focus:ring-blue-500 ${f(d,"background","primary")} border-gray-300 rounded`})}),c.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${f(d,"text","tertiary")} uppercase tracking-wider sticky left-0 bg-inherit`,children:"Order"}),Object.keys(S()[0]||{}).map(G=>c.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${f(d,"text","tertiary")} uppercase tracking-wider`,children:G.charAt(0).toUpperCase()+G.slice(1).replace(/_/g," ")},G))]})}),c.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:M().map((G,I)=>{const X=(s-1)*l+I,J=S()[X];return c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors duration-150",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("input",{type:"checkbox",checked:a.includes(X),onChange:E=>T(X,E.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),c.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-xs font-medium ${f(d,"text","primary")} sticky left-0 bg-inherit`,children:X+1}),Object.entries(J).map(([E,R])=>c.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-xs ${f(d,"text","primary")}`,children:R===null||R===""||!R?c.jsx("span",{className:"text-gray-400",children:"(empty)"}):z(R)},E))]},X)})})]})}),c.jsx(zc,{currentPage:s,totalPages:H,onPageChange:o,className:"mt-4"})]})})]})]})]})}function rQe(){var x,y;const{user:e,organization:t}=ir(),r=Bl(),n=lh(),{theme:a,toggleTheme:i}=Yt(),[s,o]=L.useState(!1),[l,u]=L.useState(!1),[d,f]=L.useState(!1),[h,p]=L.useState({isMobile:!1,isTablet:!1,isDesktop:!1});if(L.useEffect(()=>{const b=()=>{const N=window.innerWidth;p({isMobile:N<640,isTablet:N>=640&&N<1024,isDesktop:N>=1024}),N<640&&o(!1)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),!(t&&t.country&&t.city&&t.address&&t.employee_count&&t.currency))return c.jsx(mp,{to:"/organization-setup"});if(!e||!t)return null;const g=async()=>{try{await ir.getState().signOut(),r("/auth/signin")}catch(b){console.error("Error signing out:",b)}},v=[{name:"Overview",path:"/dashboard",icon:vc},{name:"Workers",path:"/dashboard/workers",icon:x5},{name:"Clients",path:"/dashboard/clients",icon:pW},{name:"Orders",path:"/dashboard/orders",icon:Xae},{name:"Sales",path:"/dashboard/sales",icon:sd},{name:"Tasks",path:"/dashboard/tasks",icon:cW},{name:"Inventory",path:"/dashboard/inventory",icon:pa},{name:"Finances",path:"/dashboard/finances",icon:Xa},{name:"Settings",path:"/dashboard/settings",icon:oie}];return c.jsxs("div",{className:`min-h-screen flex ${nt(a,"background","secondary")}`,children:[d&&c.jsx("div",{className:`fixed inset-0 ${nt(a,"modal","overlay")} z-50 flex items-center justify-center p-4`,children:c.jsx("div",{className:`${nt(a,"modal","background")} rounded-lg shadow-xl w-full max-w-md`,children:c.jsxs("div",{className:"p-4 sm:p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:`text-lg font-semibold ${nt(a,"text","primary")}`,children:"Confirm Sign Out"}),c.jsx("button",{onClick:()=>f(!1),className:nt(a,"text","accent"),children:c.jsx(dr,{className:"h-5 w-5"})})]}),c.jsx("p",{className:`${nt(a,"text","secondary")} mb-6`,children:"Are you sure you want to sign out? You will need to sign in again to access your account."}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{onClick:()=>f(!1),className:`px-4 py-2 text-sm font-medium rounded-md ${a==="dark"?"text-gray-300 bg-gray-700 hover:bg-gray-600":"text-gray-700 bg-gray-100 hover:bg-gray-200"}`,children:"Cancel"}),c.jsx("button",{onClick:g,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md",children:"Sign Out"})]})]})})}),!h.isMobile&&c.jsxs("div",{className:`fixed h-screen shadow-lg ${nt(a,"sidebar","shadow")} will-change-transform ${s?"w-64":"w-12"} transition-[width] duration-300 ease-in-out overflow-hidden ${nt(a,"sidebar","background")}`,children:[c.jsx("div",{className:"p-2",children:c.jsxs("div",{className:"flex items-center relative",children:[c.jsx("div",{className:"absolute left-0 z-10",children:c.jsx(vc,{className:`h-6 w-6 ${nt(a,"text","secondary")} min-w-[24px]`})}),c.jsx("div",{className:"ml-8 transform-gpu transition-transform duration-300 origin-left",style:{transform:`scaleX(${s?1:0})`,opacity:s?1:0,transition:"transform 300ms ease-in-out, opacity 200ms ease-in-out"},children:c.jsx("span",{className:`text-lg font-semibold whitespace-nowrap ${nt(a,"text","primary")}`,children:t.name})})]})}),c.jsx("div",{className:"px-2",children:c.jsx("button",{onClick:()=>o(!s),title:s?"Collapse sidebar":"Expand sidebar",className:`w-full flex items-center justify-center p-1.5 transition-colors ${nt(a,"text","accent")}`,children:c.jsx("div",{className:"transform-gpu transition-transform duration-300",children:s?c.jsx(oE,{className:"h-4 w-4"}):c.jsx(vp,{className:"h-4 w-4"})})})}),c.jsx("nav",{className:"overflow-y-auto max-h-[calc(100vh-8rem)]",children:v.map(b=>{const N=n.pathname===b.path||b.path!=="/dashboard"&&n.pathname.startsWith(b.path);return c.jsxs(Wr,{to:b.path,title:b.name,className:`flex items-center relative ${s?"px-3 mx-2":"px-1.5"} py-2.5 rounded transition-[padding,margin,background-color] duration-200 ${N?`${nt(a,"sidebar","itemActive")} ${nt(a,"sidebar","itemActiveText")}`:`${nt(a,"text","secondary")} ${nt(a,"sidebar","itemHover")}`}`,children:[c.jsx("div",{className:"absolute left-3 z-10",children:c.jsx(b.icon,{className:`h-5 w-5 ${N?nt(a,"text","inverse"):nt(a,"text","accent")}`})}),c.jsx("div",{className:"ml-8 transform-gpu transition-transform duration-300 origin-left",style:{transform:`scaleX(${s?1:0})`,opacity:s?1:0,transition:"transform 300ms ease-in-out, opacity 200ms ease-in-out"},children:c.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:b.name})})]},b.name)})}),c.jsx("div",{className:"absolute bottom-4 w-full",children:c.jsxs("button",{onClick:()=>f(!0),title:"Sign out",className:`flex items-center relative w-full ${s?"px-3 mx-2":"px-1.5"} py-2.5 ${nt(a,"text","secondary")} ${nt(a,"interactive","hover","background")} rounded-lg transition-[padding,margin,background-color] duration-200`,children:[c.jsx("div",{className:"absolute left-3 z-10",children:c.jsx(i$,{className:"h-5 w-5"})}),c.jsx("div",{className:"ml-8 transform-gpu transition-transform duration-300 origin-left",style:{transform:`scaleX(${s?1:0})`,opacity:s?1:0,transition:"transform 300ms ease-in-out, opacity 200ms ease-in-out"},children:c.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Sign out"})})]})})]}),h.isMobile&&c.jsxs("div",{className:`fixed inset-0 z-50 ${l?"block":"hidden"}`,children:[c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>u(!1)}),c.jsxs("div",{className:`fixed inset-y-0 left-0 w-64 ${a==="dark"?"bg-gray-800":"bg-white"} shadow-lg transform transition-transform duration-300 ease-in-out ${l?"translate-x-0":"-translate-x-full"}`,children:[c.jsxs("div",{className:"p-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(vc,{className:`h-6 w-6 ${a==="dark"?"text-gray-300":"text-gray-700"}`}),c.jsx("span",{className:`text-lg font-semibold ${a==="dark"?"text-white":"text-gray-900"}`,children:t.name})]}),c.jsx("button",{onClick:()=>u(!1),className:`${a==="dark"?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,children:c.jsx(dr,{className:"h-6 w-6"})})]}),c.jsx("nav",{className:"mt-2 overflow-y-auto max-h-[calc(100vh-8rem)]",children:v.map(b=>{const N=n.pathname===b.path||b.path!=="/dashboard"&&n.pathname.startsWith(b.path);return c.jsxs(Wr,{to:b.path,onClick:()=>u(!1),className:`flex items-center px-4 py-3 ${N?`${nt(a,"sidebar","itemActive")} ${nt(a,"sidebar","itemActiveText")}`:`${nt(a,"text","secondary")} ${nt(a,"sidebar","itemHover")}`}`,children:[c.jsx(b.icon,{className:`h-5 w-5 mr-3 ${N?"text-white":"text-gray-400"}`}),c.jsx("span",{className:"text-sm font-medium",children:b.name})]},b.name)})}),c.jsx("div",{className:"absolute bottom-4 w-full px-4",children:c.jsxs("button",{onClick:()=>f(!0),className:`w-full flex items-center justify-center px-4 py-2 rounded-md ${a==="dark"?"text-gray-300 bg-gray-700 hover:bg-gray-600":"text-gray-700 bg-gray-100 hover:bg-gray-200"}`,children:[c.jsx(i$,{className:"h-5 w-5 mr-2"}),c.jsx("span",{children:"Sign out"})]})})]})]}),c.jsxs("div",{className:`flex-1 transition-[margin] duration-300 ease-in-out ${nt(a,"background","secondary")}`,style:{marginLeft:h.isMobile?"0":s?"16rem":"3rem"},children:[c.jsx("header",{className:`${nt(a,"header","background")} shadow-sm ${nt(a,"sidebar","shadow")} sticky top-0 z-10`,children:c.jsx("div",{className:"px-2 sm:px-2 md:px-4 lg:px-6",children:c.jsxs("div",{className:"h-12 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[n.pathname!=="/dashboard"&&c.jsx("button",{onClick:()=>r(-1),title:"Go back",className:`p-[5px] sm:p-[6px] ${nt(a,"header","buttonHover")} rounded-full transition-colors  border ${nt(a,"border","primary")}`,children:c.jsx(Wf,{className:`h-4 w-4 sm:h-5 sm:w-5 ${nt(a,"text","accent")}`})}),c.jsx("span",{className:`text-base sm:text-lg font-semibold truncate max-w-[150px] xs:max-w-[200px] sm:max-w-none ${nt(a,"text","primary")}`,children:((x=v.find(b=>n.pathname===b.path||b.path!=="/dashboard"&&n.pathname.startsWith(b.path)))==null?void 0:x.name)||"Dashboard"})]}),c.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[c.jsxs("button",{className:`relative p-1.5 sm:p-2 ${nt(a,"header","buttonHover")} rounded-full transition-colors`,title:"Notifications",children:[c.jsx(Vae,{className:`h-4 w-4 sm:h-5 sm:w-5 ${nt(a,"text","accent")}`}),c.jsx("span",{className:"absolute top-0.5 right-0.5 h-1.5 w-1.5 sm:h-2 sm:w-2 bg-red-500 rounded-full"})]}),c.jsx("div",{className:"flex items-center space-x-2",title:`Signed in as ${e==null?void 0:e.email}`,children:c.jsx("div",{className:`h-7 w-7 sm:h-8 sm:w-8 ${nt(a,"avatar","background")} rounded-full flex items-center justify-center`,children:c.jsx("span",{className:`text-sm sm:text-base ${nt(a,"avatar","text")}`,children:(y=e==null?void 0:e.email)==null?void 0:y[0].toUpperCase()})})}),c.jsx("button",{onClick:i,className:`relative p-1.5 sm:p-2 ${nt(a,"header","buttonHover")} rounded-full transition-colors`,title:a==="dark"?"Switch to light mode":"Switch to dark mode",children:a==="dark"?c.jsx(Tj,{className:`h-4 w-4 sm:h-5 sm:w-5 ${nt(a,"text","accent")}`}):c.jsx(jj,{className:`h-4 w-4 sm:h-5 sm:w-5 ${nt(a,"text","accent")}`})}),h.isMobile&&c.jsxs("button",{onClick:()=>u(!l),className:`inline-flex items-center justify-center p-1.5 sm:p-2 rounded-md ${nt(a,"text","secondary")} ${nt(a,"header","buttonHover")} transition-colors`,"aria-expanded":l,children:[c.jsx("span",{className:"sr-only",children:"Open main menu"}),l?c.jsx(dr,{className:"h-4 w-4 sm:h-5 sm:w-5"}):c.jsx(nie,{className:"h-4 w-4 sm:h-5 sm:w-5"})]})]})]})})}),c.jsx("main",{className:`${nt(a,"background","secondary")}`,children:c.jsx("div",{className:"",children:c.jsxs(AU,{children:[c.jsx(Rr,{index:!0,element:c.jsx(pDe,{})}),c.jsx(Rr,{path:"workers",element:c.jsx(Lse,{})}),c.jsx(Rr,{path:"workers/:id",element:c.jsx(Yme,{})}),c.jsx(Rr,{path:"clients",element:c.jsx(xDe,{})}),c.jsx(Rr,{path:"clients/:id",element:c.jsx(ZKe,{})}),c.jsx(Rr,{path:"orders",element:c.jsx(Fse,{})}),c.jsx(Rr,{path:"orders/services",element:c.jsx(HLe,{})}),c.jsx(Rr,{path:"orders/:id",element:c.jsx(Mse,{})}),c.jsx(Rr,{path:"tasks",element:c.jsx(Kg,{status:void 0})}),c.jsx(Rr,{path:"tasks/pending",element:c.jsx(Kg,{status:"pending"})}),c.jsx(Rr,{path:"tasks/in_progress",element:c.jsx(Kg,{status:"in_progress"})}),c.jsx(Rr,{path:"tasks/delayed",element:c.jsx(Kg,{status:"delayed"})}),c.jsx(Rr,{path:"tasks/completed",element:c.jsx(Kg,{status:"completed"})}),c.jsx(Rr,{path:"inventory",element:c.jsx(WKe,{})}),c.jsx(Rr,{path:"categories",element:c.jsx(GKe,{})}),c.jsx(Rr,{path:"sales",element:c.jsx(zKe,{})}),c.jsx(Rr,{path:"sales/:id",element:c.jsx(HKe,{})}),c.jsx(Rr,{path:"finances",element:c.jsx(zLe,{})}),c.jsx(Rr,{path:"settings",element:c.jsx(gDe,{})}),c.jsx(Rr,{path:"import-data",element:c.jsx(eXe,{})}),c.jsx(Rr,{path:"import-data/client-data",element:c.jsx(KXe,{})}),c.jsx(Rr,{path:"import-data/order-data",element:c.jsx(QXe,{})}),c.jsx(Rr,{path:"import-data/order-data-fix",element:c.jsx(tQe,{})}),c.jsx(Rr,{path:"import-data/payment-data",element:c.jsx(ZXe,{})})]})})})]})]})}const nQe=[{label:"0-15 employees",value:15},{label:"15-30 employees",value:30},{label:"30-50 employees",value:50},{label:"50-100 employees",value:100},{label:"100-200 employees",value:200},{label:"200+ employees",value:201}],aQe=[{code:"GHS",name:"Ghanaian Cedi"},{code:"USD",name:"US Dollar"},{code:"EUR",name:"Euro"},{code:"GBP",name:"British Pound"},{code:"NGN",name:"Nigerian Naira"}],iQe=["Ghana","Nigeria","Kenya","South Africa","United States","United Kingdom","Canada"].sort();function sQe(){const e=Bl(),{organization:t}=ir(),[r,n]=L.useState(!1),{addToast:a}=Or(),[i,s]=L.useState({country:(t==null?void 0:t.country)||"",city:(t==null?void 0:t.city)||"",address:(t==null?void 0:t.address)||"",employee_count:(t==null?void 0:t.employee_count)||15,currency:(t==null?void 0:t.currency)||"GHS"}),o=async l=>{if(l.preventDefault(),!r){n(!0);try{const{error:u}=await We.from("organizations").update({country:i.country,city:i.city,address:i.address,employee_count:i.employee_count,currency:i.currency}).eq("id",t.id);if(u)throw u;ir.setState({organization:{...t,...i}}),e("/dashboard")}catch(u){console.error("Error updating organization:",u),a({type:"error",title:"Error",message:"Failed to update organization. Please try again."})}finally{n(!1)}}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex flex-col justify-center py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"mx-auto h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx(vc,{className:"h-8 w-8 text-blue-600"})}),c.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Complete Your Organization Setup"}),c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Please provide additional information about your organization"})]}),c.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:c.jsxs("form",{onSubmit:o,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),c.jsxs("select",{id:"country",value:i.country,onChange:l=>s(u=>({...u,country:l.target.value})),required:!0,className:"block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",children:[c.jsx("option",{value:"",children:"Select a country"}),iQe.map(l=>c.jsx("option",{value:l,children:l},l))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),c.jsx("input",{type:"text",id:"city",value:i.city,onChange:l=>s(u=>({...u,city:l.target.value})),required:!0,className:"block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),c.jsx("textarea",{id:"address",value:i.address,onChange:l=>s(u=>({...u,address:l.target.value})),required:!0,rows:3,className:"block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"employee_count",className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Employees"}),c.jsx("select",{id:"employee_count",value:i.employee_count,onChange:l=>s(u=>({...u,employee_count:parseInt(l.target.value)})),required:!0,className:"block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",children:nQe.map(l=>c.jsx("option",{value:l.value,children:l.label},l.value))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Currency"}),c.jsx("select",{id:"currency",value:i.currency,onChange:l=>s(u=>({...u,currency:l.target.value})),required:!0,className:"block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",children:aQe.map(l=>c.jsxs("option",{value:l.code,children:[l.code," - ",l.name]},l.code))})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:r,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400",children:r?"Saving...":"Save Organization Details"})})]})})]})})}const oQe=[{icon:sie,name:"Fashion & Tailoring",description:"Perfect for fashion houses, tailoring shops, and clothing manufacturers."},{icon:pa,name:"Service-Based Businesses",description:"Ideal for businesses offering services like cleaning, repairs, or installations."},{icon:x5,name:"Contractors & Freelancers",description:"Great for managing contract workers, freelancers, and project-based teams."},{icon:sd,name:"Retail & Custom Orders",description:"Suitable for retail businesses handling custom orders and made-to-order products."}],lQe=[{icon:x5,title:"Workforce Management",description:"Track workers, assign tasks, and manage project rates with WhatsApp integration."},{icon:pW,title:"Client Management",description:"Maintain client profiles with custom fields and track client-specific information."},{icon:pa,title:"Service Catalog",description:"Define and price your services, create service packages, and track service delivery."},{icon:sd,title:"Order Management",description:"Process client orders, assign workers, and track order fulfillment end-to-end."},{icon:cW,title:"Task & Project Tracking",description:"Monitor tasks, track progress, and manage project timelines efficiently."},{icon:Jae,title:"Detailed Reports",description:"Export financial reports, worker performance, and order analytics in Excel/PDF."},{icon:Xa,title:"Financial Controls",description:"Track earnings, manage deductions, and monitor financial performance."},{icon:aie,title:"Communication",description:"Integrated WhatsApp messaging for seamless communication."},{icon:Yae,title:"Business Analytics",description:"Get insights into your business performance, worker productivity, and client trends."},{icon:lie,title:"Secure & Reliable",description:"Enterprise-grade security with role-based access control and data protection."}],cQe=[{title:"Save Time",description:"Streamline operations and reduce administrative overhead with automated workflows."},{title:"Grow Revenue",description:"Manage more clients, track orders efficiently, and increase business throughput."},{title:"Better Insights",description:"Make data-driven decisions with comprehensive business analytics and reporting."},{title:"Improve Client Satisfaction",description:"Deliver better service with organized client management and order tracking."}];function uQe(){return c.jsxs("div",{className:"bg-white",children:[c.jsx("div",{className:"relative min-h-[70vh] overflow-hidden bg-[#F8F9FB]",style:{backgroundImage:`
            radial-gradient(circle at 1px 1px,rgba(18, 50, 119, .2) 1px, transparent 0),
            linear-gradient(to right, #F8F9FB, #F8F9FB)
          `,backgroundSize:"24px 24px",backgroundPosition:"-19px -19px"},children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16",children:[c.jsx("nav",{className:"absolute top-0 left-0 right-0 p-4",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:"/favicon.ico",alt:"Sten360",className:"h-12 w-12"}),c.jsx("span",{className:"text-blue-600 ml-2 text-xl font-bold",children:"Sten360"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(Wr,{to:"#resources",className:"text-gray-600 hover:text-gray-900 hidden sm:block",children:"Resources"}),c.jsx(Wr,{to:"#pricing",className:"text-gray-600 hover:text-gray-900 hidden sm:block",children:"Pricing"}),c.jsx(Wr,{to:"/auth/signin",className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:"Sign In"})]})]})}),c.jsxs("div",{className:"relative mt-8 flex flex-col lg:flex-row gap-8",children:[c.jsx("div",{className:"w-full lg:w-1/2 flex items-center px-4 lg:px-0 text-center lg:text-left",children:c.jsxs("div",{children:[c.jsxs("h1",{className:"text-4xl xs:text-5xl font-bold text-gray-900 leading-tight",children:["All Systems Go.",c.jsx("span",{className:"block text-gray-500 mt-2",children:"Make your business use Tech"})]}),c.jsx("p",{className:"mt-6 text-base xs:text-lg text-gray-600 max-w-[90%] sm:max-w-[70%] lg:max-w-full mx-auto lg:mx-0",children:"Our platform manages everything: clients, staff, orders, inventory, payments, and receipts—simple like drinking koko"}),c.jsx("div",{className:"mt-8",children:c.jsx(Wr,{to:"/auth/signup",className:"inline-flex items-center px-4 xs:px-6 py-2 xs:py-3 text-sm xs:text-base font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:"Get Started Free"})})]})}),c.jsx("div",{className:"w-full lg:w-1/2 relative h-[400px] xs:h-[400px] sm:h-[550px] md:h-[600px] lg:h-[650px] mt-10 xs:mt-16 sm:mt-20 lg:mt-0 text-gray-900",children:c.jsxs("div",{className:"h-full w-full relative max-w-[530px] mx-auto",children:[c.jsx("div",{className:"absolute top-0 left-0 bg-white rounded-xl shadow-lg w-[70%] h-[16/9] z-30 transform hover:-translate-y-2 transition-all duration-300 overflow-hidden",children:c.jsx("img",{src:"/images/dashboardLight.webp",alt:"Client Management",className:"w-full h-full object-cover"})}),c.jsx("div",{className:"absolute top-[5%] right-0 bg-white rounded-xl shadow-lg w-[70%] h-[16/9] z-20 transform hover:-translate-y-2 hover:z-40 transition-all duration-300 overflow-hidden",children:c.jsx("img",{src:"/images/dashboardDark.webp",alt:"Order Management",className:"w-full h-full object-cover"})}),c.jsx("div",{className:"absolute top-[31%] left-4 bg-white rounded-xl shadow-lg w-[70%] h-[16/9] z-10 transform hover:-translate-y-2 hover:z-40 transition-all duration-300 overflow-hidden",children:c.jsx("img",{src:"/images/OrdersLight.webp",alt:"Payment Tracking",className:"w-full h-full object-cover"})}),c.jsx("div",{className:"absolute top-[38%] right-0 bg-white rounded-xl shadow-lg w-[70%] h-[16/9] z-0 transform hover:-translate-y-2 hover:z-40 transition-all duration-300 overflow-hidden",children:c.jsx("img",{src:"/images/OrdersDark.webp",alt:"Operations",className:"w-full h-full object-cover"})}),c.jsx("div",{className:"absolute top-[65%] left-[20%] bg-white rounded-xl shadow-lg w-[70%] h-[16/9] z-20 transform hover:-translate-y-2 hover:z-40 transition-all duration-300 overflow-hidden",children:c.jsx("img",{src:"/images/OrderDetailsLight.webp",alt:"Operations",className:"w-full h-full object-cover"})})]})})]})]})}),c.jsx("div",{className:"py-24 bg-gradient-to-br from-gray-50 to-blue-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl mb-2",children:"Industries We Serve"}),c.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Our platform is tailored for businesses that rely on skilled workers and custom orders"})]}),c.jsx("div",{className:"mt-20 grid grid-cols-1 gap-8 sm:grid-cols-2",children:oQe.map((e,t)=>c.jsx("div",{className:"relative bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"flex-shrink-0 rounded-lg inline-flex p-3 bg-blue-50 text-blue-600",children:c.jsx(e.icon,{className:"h-6 w-6","aria-hidden":"true"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),c.jsx("p",{className:"mt-2 text-base text-gray-500",children:e.description})]})]})},t))})]})}),c.jsx("div",{className:"py-24 bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl mb-2",children:"Your All-in-One Business Solution"}),c.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Powerful features designed to help you manage and grow your business efficiently"})]}),c.jsx("div",{className:"mt-20 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:lQe.map((e,t)=>c.jsxs("div",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg hover:shadow-lg transition-shadow duration-200",children:[c.jsx("div",{children:c.jsx("span",{className:"rounded-lg inline-flex p-3 bg-blue-50 text-blue-600 ring-4 ring-white",children:c.jsx(e.icon,{className:"h-6 w-6","aria-hidden":"true"})})}),c.jsxs("div",{className:"mt-8",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.title}),c.jsx("p",{className:"mt-2 text-base text-gray-500",children:e.description})]})]},t))})]})}),c.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 py-24",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl mb-2",children:"Transform Your Business Operations"}),c.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Streamline operations, boost efficiency, and accelerate growth with our integrated platform"})]}),c.jsx("div",{className:"mt-20",children:c.jsx("dl",{className:"space-y-10 md:space-y-0 md:grid md:grid-cols-2 md:gap-x-8 md:gap-y-12",children:cQe.map((e,t)=>c.jsxs("div",{className:"relative",children:[c.jsxs("dt",{children:[c.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:c.jsx(Da,{className:"h-6 w-6","aria-hidden":"true"})}),c.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:e.title})]}),c.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:e.description})]},t))})})]})}),c.jsx("div",{className:"py-24 bg-white",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-8 sm:p-12",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl mb-8 text-center",children:"How Kofi Ghana Kloding Scaled with Sten360"}),c.jsx("p",{className:"text-gray-600 mb-8",children:"Before switching to Sten360, Kofi Ghana Kloding struggled with disorganized client records, delayed orders, and inefficient workforce management. Manual processes made it difficult to track tailor assignments, manage finances, and keep up with growing customer demand."}),c.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-6",children:"With Sten360, Kofi Ghana Kloding transformed its operations:"}),c.jsxs("div",{className:"space-y-4 mb-8",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx(Da,{className:"h-6 w-6 text-green-500 mt-0.5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:"Seamless Order & Client Management"}),c.jsx("p",{className:"text-gray-600",children:"Orders are tracked end-to-end, ensuring every client gets timely service."})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx(Da,{className:"h-6 w-6 text-green-500 mt-0.5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:"Workforce Efficiency"}),c.jsx("p",{className:"text-gray-600",children:"Tailors receive assignments instantly, and their progress is monitored in real-time."})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx(Da,{className:"h-6 w-6 text-green-500 mt-0.5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:"Smarter Financial Controls"}),c.jsx("p",{className:"text-gray-600",children:"Earnings, expenses, and worker payments are automatically tracked, reducing financial errors."})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx(Da,{className:"h-6 w-6 text-green-500 mt-0.5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:"Stronger Customer Relationships"}),c.jsx("p",{className:"text-gray-600",children:"With detailed client profiles and history, Kofi delivers a more personalized experience."})]})]})]}),c.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Now, Kofi Ghana spends less time handling admin tasks and more time growing his brand."}),c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Ready to take your business to the next level?"}),c.jsxs(Wr,{to:"/auth/signup",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700",children:["Get Started with Sten360 Today!",c.jsx(a$,{className:"ml-2 h-5 w-5"})]})]})]})})})}),c.jsx("div",{className:"bg-white",children:c.jsx("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"bg-blue-600 rounded-lg shadow-xl overflow-hidden",children:c.jsx("div",{className:"pt-10 pb-12 px-6 sm:pt-16 sm:px-16 lg:py-16 lg:pr-0 xl:py-20 xl:px-20",children:c.jsxs("div",{className:"lg:self-center",children:[c.jsxs("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl",children:[c.jsx("span",{className:"block",children:"Ready to get started?"}),c.jsx("span",{className:"block",children:"Transform your business today."})]}),c.jsx("p",{className:"mt-4 text-lg leading-6 text-blue-200",children:"Sign up for free and experience the difference. No credit card required."}),c.jsxs(Wr,{to:"/auth/signup",className:"mt-8 inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-blue-600 bg-white hover:bg-blue-50 transition-colors duration-200",children:["Get Started Free",c.jsx(a$,{className:"ml-2 h-5 w-5"})]})]})})})})}),c.jsx("footer",{className:"bg-gray-50",children:c.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(vc,{className:"h-6 w-6 text-gray-400"}),c.jsx("span",{className:"ml-2 text-gray-500",children:"© 2024 Sten Media Network. All rights reserved."})]}),c.jsx("p",{className:"text-sm text-gray-400",children:"Sten360 is a product of Sten Business, a subsidiary of Sten Media Network"})]})})})]})}function dQe(){const{user:e,error:t,initialized:r}=ir();return r?t?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800",children:c.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[c.jsxs("div",{className:"text-red-600 dark:text-red-400 mb-2",children:["Error: ",t]}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 transition-colors",children:"Retry"})]})}):c.jsx(hie,{children:c.jsx(Nie,{children:c.jsx(Vte,{children:c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-bg-primary text-gray-900 dark:text-dark-text-primary",children:c.jsxs(AU,{children:[c.jsx(Rr,{path:"/",element:c.jsx(uQe,{})}),c.jsxs(Rr,{path:"/auth",element:c.jsx(die,{}),children:[c.jsx(Rr,{path:"signin",element:c.jsx(mie,{})}),c.jsx(Rr,{path:"signup",element:c.jsx(yie,{})})]}),c.jsx(Rr,{path:"/dashboard/*",element:e?c.jsx(rQe,{}):c.jsx(mp,{to:"/auth/signin"})}),c.jsx(Rr,{path:"/organization-setup",element:e?c.jsx(sQe,{}):c.jsx(mp,{to:"/auth/signin"})})]})})})})}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 dark:border-blue-400 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading application..."})]})})}const DQ=()=>{const e=r=>{r instanceof HTMLInputElement&&r.type==="number"&&r.addEventListener("wheel",n=>{n.preventDefault()},{passive:!1})};document.querySelectorAll('input[type="number"]').forEach(e);const t=new MutationObserver(r=>{r.forEach(n=>{n.addedNodes.forEach(a=>{a instanceof HTMLElement&&(a.tagName==="INPUT"&&a.type==="number"&&e(a),a.querySelectorAll('input[type="number"]').forEach(e))})})});return t.observe(document.body,{childList:!0,subtree:!0}),()=>t.disconnect()};DQ();const nA=vU(document.getElementById("root")),fQe=DQ();nA.render(c.jsx(L.StrictMode,{children:c.jsx(dQe,{})}));nA.unmount=()=>{fQe(),nA.unmount()};export{Kr as _,ha as c,hr as g};
